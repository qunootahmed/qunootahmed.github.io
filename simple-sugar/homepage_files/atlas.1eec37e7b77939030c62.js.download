(self.webpackChunk_klaviyo_onsite_modules=self.webpackChunk_klaviyo_onsite_modules||[]).push([[4430],{56388:function(e,t,n){"use strict";n.d(t,{g:function(){return o}});const o={profile:["hub","profile"],recentOrders:["hub","orders","recent"],recommendedProducts:e=>["hub","products","recommended",e],getRecommendedProductsForIdentifiedProfile:(e,t,n)=>["hub","products","recommended","identified",e,t,n],getOrderKey:e=>["hub","order",e],getContentBlocksUnauthenticated:e=>["hub","contentBlocks",e],getContentBlocks:(e,t)=>["hub","contentBlocks",e,t],getContentBlocksForIdentifiedProfile:(e,t)=>["hub","contentBlocks","identified",e,t],getProfileForIdentifiedProfile:(e,t)=>["hub","profile","identified",e,t],getShouldShowAddToCartPopover:(e,t)=>["hub","addToCartPopover",e,t],getShouldShowAddToCartPopoverUnauthenticated:()=>["hub","addToCartPopover"],getShouldShowAddToCartPopoverForIdentifiedProfile:(e,t)=>["hub","addToCartPopover","identified",e,t],getRecentProductsKey:["hub","products","recent"],getRecentProductsForIdentifiedProfile:(e,t)=>["hub","products","recent","identified",e,t],getWishlistKey:["hub","wishlist"],getWishlistForIdentifiedProfile:(e,t)=>["hub","wishlist","identified",e,t],getHelp:["hub","orderHelp","getHelp"],updateProfile:["hub","profile","update"],updateProfileConsent:["hub","profile","update","consent"],activeTicket:["hub","tickets","active"],activeTicketId:["hub","tickets","active","id"],activeMessages:["hub","messages","active"],createTicket:["hub","tickets","create"],closeTicket:["hub","tickets","close"],faqs:e=>["hub","faqs",e],markTicketRead:["hub","tickets","read"],indicateUserTyping:["hub","tickets","typing"],sendMessage:["hub","send","message"],sendEmailIdentificationMessage:["hub","send","email"],sendYesNoResponseMessage:["hub","send","yesNo"],couponsLoggedIn:(e=!1)=>["hub","coupons",e],getCouponsForIdentifiedProfile:(e,t)=>["hub","coupons","identified",e,t],couponsCount:["hub","coupons","count"],initiateLogin:["initiateLogin"],verifyLogin:["verifyLogin"],subscribeToList:["marketing","subscribe"],hydrateProductKey:e=>["hub","products","hydrate",e],storefrontLogin:["auth","storefrontLogin"],storefrontLocales:["storefront","locales"],storefrontCurrentLocale:["storefront","locale"],loyaltyTiers:["hub","loyalty","tiers"],loyaltyCustomer:["hub","loyalty","customer"],loyaltyPurchaseReward:["hub","loyalty","purchaseReward"],loyaltyCoupons:["hub","loyalty","coupons"],reviewsSettings:["reviews","settings"],cart:["hub","cart"],applyCoupon:["hub","coupon","apply"],getOrderStatusKey:e=>["hub","order","status",e],getCompanyAppStatusKey:(e,t)=>["hub","company-app","status",e,t],initiateReturn:e=>["hub","order",e,"initiate-return"],csatSettings:(e,t)=>["hub","csat","settings",e,t],submitCSAT:["hub","csat","submit"],conversationStarters:["hub","conversation","starters"]}},69428:function(e,t,n){"use strict";n.d(t,{$7:function(){return m},AF:function(){return P},AL:function(){return i},BB:function(){return o},BY:function(){return h},FH:function(){return E},Fo:function(){return R},JJ:function(){return A},Ny:function(){return d},OU:function(){return w},Ox:function(){return l},QE:function(){return O},RF:function(){return _},RZ:function(){return a},S0:function(){return c},WJ:function(){return S},Wg:function(){return b},XS:function(){return v},Xj:function(){return D},Xl:function(){return f},ZW:function(){return y},bY:function(){return C},cy:function(){return T},dJ:function(){return U},eb:function(){return I},l1:function(){return N},me:function(){return s},nm:function(){return u},pv:function(){return p},ww:function(){return L},xP:function(){return r},yS:function(){return g}});const o=!0,r="__kl_sms_req",i="klaviyo",a={SHOPIFY:"Shopify",OTHER:"Other"},s={MOBILE:"Mobile",DESKTOP:"Desktop"},c={CUSTOMER_HUB_ACCOUNT:"Customer Hub Account",CUSTOMER_HUB_LAST_LOGIN:"Customer Hub Last Login"},u={RECENTLY_VIEWED:"Recently viewed",FAVORITES:"Favorites",RECOMMENDED:"Recommended",BUY_AGAIN:"Buy Again",PRODUCT_DETAILS_PAGE:"Product details page",PRODUCT_LISTING_PAGES:"Product listing pages",FOR_YOU:"For You page",ORDER:"Order",ORDERS:"Orders",HUB_LAUNCHER:"Hub Launcher",FAQ:"FAQ",FAQ_WIDGET:"FAQ Widget",CHAT:"Chat",AI_AGENT:"AI_AGENT",ADD_TO_CART_POPOVER:"Add to Cart Popover"},l={UNIQUE_ID:"unique_id",ORDER:"Order",ORDER_ID:"Order ID",LINE_ITEMS:"Line Items",ORDER_NAME:"Order Name",STATUS:"Status",TOTAL_DISCOUNTS:"Total Discounts",PRODUCT:"Product",PRODUCT_ID:"Product ID",PRODUCT_NAME:"Product Name",PRODUCT_URL:"Product URL",VARIANT:"Variant",VARIANT_ID:"Variant ID",VARIANT_NAME:"Variant Name",IMAGE_URL:"Image URL",CONTENT_BLOCK:"Content Block",ADD_TO_CART_SOURCE:"Add to Cart Source",VIEW_SOURCE:"View Source",COUPON_CODE:"Coupon Code",COUPON_NAME:"Coupon Name",COUPON_ID:"Coupon ID",COUPON_DESCRIPTION:"Coupon Description",COUPON:"Coupon",NEW_USER:"New User",FAVORITE_SOURCE:"Add to Favorites Source",WEB_CHAT_USER_TYPE:"Web Chat User Type",CLIENT_ID:"Client ID",SENDER_TYPE:"Sender Type",MESSAGE_ID:"Message ID",CONVERSATION_ID:"Conversation ID",WEB_CHAT_SOURCE:"Web Chat Source",CSAT_RATING:"CSAT Rating",POINTS_BALANCE:"Points Balance",NEXT_TIER:"Next Tier",NEXT_TIER_NAME:"Next Tier Name",NEXT_TIER_ID:"Next Tier ID",BEST_TIER:"Best Tier",BEST_TIER_NAME:"Best Tier Name",BEST_TIER_ID:"Best Tier ID",FAQ_SOURCE:"FAQ Source",FAQ_ID:"FAQ ID",FAQ_NAME:"FAQ Name"},d={WEB_CHAT_USER_TYPE:"web_chat_user_type",CLIENT_ID:"client_id",SENDER_TYPE:"sender_type",MESSAGE_ID:"message_id",CONVERSATION_ID:"conversation_id",WEB_CHAT_SOURCE:"web_chat_source",ROUTE:"route",LOYALTY_PROVIDER:"loyalty_provider"},C={CUSTOMER_HUB:"Customer Hub"},f={OPENED_CUSTOMER_HUB:"Opened Customer Hub",VIEWED_ORDER:"Customer Hub Viewed Order",CLICKED_BUY_AGAIN:"Customer Hub Clicked Buy Again",CLICKED_ADD_TO_CART:"Customer Hub Clicked Add to Cart",CLICKED_TRACK_SHIPMENT:"Customer Hub Clicked Track Shipment",CLICKED_START_RETURN:"Customer Hub Clicked Start Return",CLICKED_CONTENT_BLOCK:"Customer Hub Clicked Content Block",CLICKED_COUPON_BLOCK:"Customer Hub Clicked Coupons",CUSTOMER_HUB_LOGIN:"Customer Hub Login",CLICKED_BEGIN_GET_HELP_FLOW:"Customer Hub Clicked Get Help Flow",CLICKED_EXTERNAL_HELP_URL:"Customer Hub Clicked External Help url",CLICKED_GORGIAS_CHAT_GET_HELP:"Customer Hub Clicked Gorgias Chat Get Help",CLICKED_ORDER_LINE_ITEM:"Customer Hub Clicked Order Line Item",CLICKED_VIEW_ORDER:"Customer Hub Clicked View Order",ADD_FAVORITE_PRODUCT:"Customer Hub Add to Favorites",REMOVE_FAVORITE_PRODUCT:"Customer Hub Remove from Favorites",COUPON_APPLIED:"Customer Hub Coupon Applied",WEB_CHAT_CONVERSATION_STARTED:"Started Web Chat Conversation",WEB_CHAT_MESSAGE_SENT:"Sent Web Chat Message",WEB_CHAT_MESSAGE_RECEIVED:"Received Web Chat Message",WEB_CHAT_CONVERSATION_ESCALATED:"Web Chat Conversation Escalated",CSAT_SUBMITTED:"CSAT Submitted",LOYALTY_CLICKED_PROGRESS_BAR:"Customer Hub Clicked Loyalty Progress Bar",CLICKED_PRODUCT:"Customer Hub Clicked Product",CLICKED_FAQ:"Customer Hub Clicked FAQ"},E={VIEWED_CONTENT_BLOCK:"Customer Hub Viewed Content Block",VIEWED_ADD_TO_CART_POPOVER:"Customer Hub Viewed Add To Cart Popover"},g={CLICKED_FOR_YOU:"Customer Hub Clicked Hub Launcher For You",CLICKED_WISHLIST:"Customer Hub Clicked Hub Launcher Wishlist",CLICKED_CHAT:"Customer Hub Clicked Hub Launcher Chat",DISMISSED_FLOATING_MESSAGE:"Customer Hub Dismissed Hub Launcher Floating Message",CLICKED_FLOATING_MESSAGE:"Customer Hub Clicked Hub Launcher Floating Message"},m={LOYALTY_PROVIDER_LOADED:"customerHubLoyaltyProviderLoaded"},p={OPEN:"open",CLOSE:"close"},h=".klaviyo-wishlist-slot",_=".kl-hub-favorites-slot",S=".klaviyo-favorites-plp-slot",T=".klaviyo-faqs-slot",v=`${h}, ${T}, ${S}, ${_}`,b={ANONYMOUS:"Anonymous",IDENTIFIED:"Identified",AUTHENTICATED:"Authenticated"},I="robot",O="outgoing",R="incoming";let L=function(e){return e.loop="[RETURN_URL]/#/?order=[ORDER_NUMBER]&zip=[EMAIL]",e.aftership="[RETURN_URL]/api/instant?order_number=[ORDER_NUMBER]&email=[EMAIL]",e.parcel_lab="[RETURN_URL]/#/?ref=[ORDER_NUMBER]&email=[EMAIL]",e.narvar="[RETURN_URL]?email=[EMAIL]&order=[ORDER_NUMBER]",e.other="[RETURN_URL]",e}({});const w="window.customerHubApi",A="kservice-customer-hub",y="en-US",P={"en-US":{localeLabel:"English",regions:[{regionCode:"US",regionBCP47Code:"en-US"}]},"en-AU":{localeLabel:"English (Australia)",regions:[{regionCode:"AU",regionBCP47Code:"en-AU"}]},"fr-FR":{localeLabel:"Français",regions:[{regionCode:"FR",regionBCP47Code:"fr-FR"}]},"de-DE":{localeLabel:"Deutsch",regions:[{regionCode:"DE",regionBCP47Code:"de-DE"}]},"es-ES":{localeLabel:"Español (España)",regions:[{regionCode:"ES",regionBCP47Code:"es-ES"}]},"it-IT":{localeLabel:"Italiano",regions:[{regionCode:"IT",regionBCP47Code:"it-IT"}]},"pt-BR":{localeLabel:"Português",regions:[{regionCode:"BR",regionBCP47Code:"pt-BR"}]},"ko-KR":{localeLabel:"한국어",regions:[{regionCode:"KR",regionBCP47Code:"ko-KR"}]},"da-DK":{localeLabel:"Dansk",regions:[{regionCode:"DK",regionBCP47Code:"da-DK"}]},"en-GB":{localeLabel:"English (Great Britain)",regions:[{regionCode:"GB",regionBCP47Code:"en-GB"}]},"fi-FI":{localeLabel:"Suomi",regions:[{regionCode:"FI",regionBCP47Code:"fi-FI"}]},"hu-HU":{localeLabel:"Magyar",regions:[{regionCode:"HU",regionBCP47Code:"hu-HU"}]},"nl-NL":{localeLabel:"Nederlands",regions:[{regionCode:"NL",regionBCP47Code:"nl-NL"}]},"nb-NO":{localeLabel:"Norsk",regions:[{regionCode:"NO",regionBCP47Code:"nb-NO"}]},"sv-SE":{localeLabel:"Svenska",regions:[{regionCode:"SE",regionBCP47Code:"sv-SE"}]},"pt-PT":{localeLabel:"Português",regions:[{regionCode:"PT",regionBCP47Code:"pt-PT"}]},"es-MX":{localeLabel:"Español (México)",regions:[{regionCode:"MX",regionBCP47Code:"es-MX"}]},"pl-PL":{localeLabel:"Polski",regions:[{regionCode:"PL",regionBCP47Code:"pl-PL"}]},"ja-JP":{localeLabel:"日本語",regions:[{regionCode:"JP",regionBCP47Code:"ja-JP"}]}},D=["da-DK","de-DE","en-GB","en-AU","en-US","es-ES","es-MX","fi-FI","fr-FR","hu-HU","it-IT","ja-JP","ko-KR","nl-NL","nb-NO","pl-PL","pt-BR","pt-PT","sv-SE"];let N=function(e){return e[e.TEXT=0]="TEXT",e[e.RATING=1]="RATING",e[e.RATING_AND_TEXT=2]="RATING_AND_TEXT",e}({}),U=function(e){return e[e.EMOJIS=0]="EMOJIS",e[e.FLAT_ICONS=1]="FLAT_ICONS",e[e.STARS=2]="STARS",e}({})},555:function(e,t,n){"use strict";n.d(t,{Cq:function(){return s},Dn:function(){return u},FV:function(){return T},Ho:function(){return p},Nc:function(){return C},Q7:function(){return l},au:function(){return a},e5:function(){return g},ir:function(){return m},lk:function(){return S},oF:function(){return c},pZ:function(){return i},qO:function(){return d},tE:function(){return _},vb:function(){return h}});n(26650),n(92461),n(60873);const o="atlas_anonymous_token",r="onsite_client_id";function i(){return localStorage.getItem(o)}function a(e){e?localStorage.setItem(o,e):localStorage.removeItem(o)}function s(){return localStorage.getItem(r)}function c(e){e?localStorage.setItem(r,e):localStorage.removeItem(r)}function u(){return localStorage.getItem("atlas_token")}function l(e){e?localStorage.setItem("atlas_token",e):localStorage.removeItem("atlas_token")}function d(){localStorage.setItem("welcomeMessageDismissed","true")}function C(){localStorage.removeItem("welcomeMessageDismissed")}const f="active_ticket_id",E="active_ticket_expired";function g(){localStorage.removeItem(f),localStorage.removeItem(E)}function m(){if(localStorage.getItem(E))return;const e=new Date(Date.now()+3e5).toISOString();localStorage.setItem(E,e)}function p(){return function(){const e=localStorage.getItem(E);return!!e&&(new Date).getTime()>new Date(e).getTime()}()&&g(),localStorage.getItem(f)}function h(e){e&&localStorage.setItem(f,e)}function _(e){if(e)try{const t=function(e){const t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(window.atob(t).split("").map((function(e){return`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`})).join(""));return JSON.parse(n)}(e);return t}catch(e){return}}function S(){var e,t;return null!=(e=null==(t=window.klaviyoModulesObject)?void 0:t.companyId)?e:""}function T(){return window.customerHub}},37912:function(e,t,n){"use strict";n.d(t,{A:function(){return a},B:function(){return s}});var o=n(18359),r=n.n(o);const i=(0,o.createContext)(void 0);function a(){const e=(0,o.useContext)(i);if(!e)throw new Error("useECommerceClient: No ECommerceProvider found.");return e}const s=({client:e,children:t})=>r().createElement(i.Provider,{value:e},t)},69313:function(e,t,n){"use strict";n.d(t,{_C:function(){return w},ZI:function(){return R},xh:function(){return L},nB:function(){return O},OZ:function(){return I},ql:function(){return b}});var o=n(18359),r=n.n(o),i=n(95094),a=n(17804);n(92461),n(84618),n(39265),n(44159),n(60873);var s=n(64928),c=n(47803),u=n(77407);const l=async(e,t,n)=>{try{const o=((e,t)=>{const n={};return Object.entries(e).forEach((([e,o])=>{n[`${t}.${e}`]=o})),n})(await e(t,n),n);return{success:!0,messages:o}}catch(e){return{success:!1,messages:{}}}},d=(e,t)=>async n=>{const o=t.map((t=>l(e,n,t))),r=await Promise.all(o);if(r.every((e=>!e.success)))throw new Error(`All namespaces failed to load for locale: ${n}`);return(e=>{const t={};return e.forEach((e=>{Object.assign(t,e.messages)})),t})(r)},C=e=>{const t=[e],n=(e=>{var t;const n=e.split("-")[0];return null==(t=Object.entries(u.XJ).find((([e])=>e===n)))?void 0:t[1]})(e);return n&&n!==e&&t.push(n),t.includes(u.ZW)||t.push(u.ZW),t},f=(e,t,n,o)=>{e.load(t,n),e.activate(t),o(t)},E=async e=>{const{lng:t,ns:n,resourceLoader:o}=e,r=d(o,n),{messages:i,actualLocale:a}=await(async(e,t)=>{try{return{messages:await e(t),actualLocale:t}}catch(n){if(t!==u.ZW)try{return{messages:await e(u.ZW),actualLocale:u.ZW}}catch(e){return{messages:{},actualLocale:t}}return{messages:{},actualLocale:t}}})(r,t),l=(e=>{const t=(0,s.E5)({locale:e,locales:C(e)});return t.setMessagesCompiler(c.S),t})(a);let E=a;Object.keys(i).length>0&&(l.load(a,i),l.activate(a)),Object.defineProperty(l,"locale",{get:()=>E,configurable:!0});const g=((e,t,n)=>async o=>{try{const r=await e(o);f(t,o,r,n)}catch(r){if(o!==u.ZW)try{const o=await e(u.ZW);f(t,u.ZW,o,n)}catch(e){}}})(r,l,(e=>{E=e}));return{i18nInstance:l,switchToLocale:g}};const g=e=>{const{children:t,i18nInstance:n,switchToLocale:s,locale:c}=e,[u,l]=(0,o.useState)(c);(0,o.useEffect)((()=>{n&&l(n.locale)}),[n]),(0,o.useEffect)((()=>{l(c)}),[c]);const d=(0,o.useMemo)((()=>({currentLocale:u,setCurrentLocale:async e=>{await s(e),l(n.locale)},i18nInstance:n})),[u,n,s]);return n?r().createElement(a.bd,{i18n:n},r().createElement(i.W.Provider,{value:d},t)):null};var m=n(52901),p=n(69428);const h=async(e,t)=>{if(e===p.ZW){return(await n(28367)(`./${t}/${e}/translations.json`)).default}try{const n=await fetch(`https://static-app.klaviyo.com/translations/${e}/${t}/latest.json`,{credentials:"omit",cache:"default"});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return await n.json()}catch(o){if("en-US"!==e)try{return(await n(59229)(`./${t}/en-US/translations.json`)).default}catch(e){throw o}throw o}};var _=n(37912),S=n(56388),T=n(54539);const v="atlas_preferred_locale";function b(){if(!(0,o.useContext)(i.W))throw new Error("useLocalization: no LocalizationProvider found.");const e=function(e){const{i18n:t,_:n}=(0,a.mV)();return{t:(t,o)=>{const r=`${String(e)}.${t}`;return n(r,o)},i18n:t,ready:!0}}("onsite-atlas");return e}function I(){const{currentLocale:e}=(0,i.Q)();return function(t,n){if(null==t)return;return function(e,t,n){return new Intl.DateTimeFormat(t,n).format(e)}("string"==typeof t?new Date(t):t,e,n)}}function O(){const{currentLocale:e}=(0,i.Q)();return function(t,n){if(null!=t)return function(e,t,n){return new Intl.NumberFormat(n,{style:"currency",currency:t}).format(e)}(t,n,e)}}const R=async e=>E({lng:e,ns:["onsite-atlas"],resourceLoader:h}),L=()=>{let e=()=>[];return e=(0,_.A)().getAvailableLocales,(0,m.ZP)(S.g.storefrontLocales,e)},w=({children:e,i18nInstance:t,localizedValues:n,locale:i=p.ZW})=>{const[a,s]=(0,o.useState)(t),c=(0,_.A)().setLocale,u=r().useCallback((async e=>{var t;null==a||a.switchToLocale(e),(t=e)?localStorage.setItem(v,t):localStorage.removeItem(v),c(e)}),[a,c]);return(0,o.useEffect)((()=>{a?null!=a&&a.i18nInstance&&a.i18nInstance.locale!==i&&a.switchToLocale(i):R(i).then((e=>{s(e)}))}),[a,i]),null!=a&&a.i18nInstance?r().createElement(o.Suspense,{fallback:null},r().createElement(g,{i18nInstance:null==a?void 0:a.i18nInstance,switchToLocale:u,locale:i},r().createElement(T.a,{localizedValues:n},e))):null}},54539:function(e,t,n){"use strict";n.d(t,{A:function(){return a},a:function(){return s}});var o=n(18359),r=n.n(o);const i=(0,o.createContext)(void 0);function a(){return(0,o.useContext)(i)}const s=({localizedValues:e,children:t})=>r().createElement(i.Provider,{value:e},t)},16340:function(e,t,n){"use strict";n.d(t,{ZD:function(){return s},oG:function(){return u},w8:function(){return c}});var o=n(98072),r=n(2609),i=n(49917),a=n(69428);const s=(e,t)=>{if(!window.customerHub)return;const n={page:window.location.href,integration:window.Shopify?a.RZ.SHOPIFY:a.RZ.OTHER,device:(0,o.Z)()?a.me.MOBILE:a.me.DESKTOP};(0,r.eR)({metric:e,properties:Object.assign({},n,t),service:a.AL})},c=(e,t,n)=>{var r;if(null!=(r=window.klaviyoModulesObject)&&r.companyId){const r={logToStatsd:!0,logToS3:!0,logToMetricsService:!0,metric:t,metricServiceEventName:t},s={device_type:(0,o.Z)()?a.me.MOBILE:a.me.DESKTOP,page_url:window.location.href};(0,i.Z)({metricGroup:e,events:[Object.assign({},r,{eventDetails:Object.assign({},s,n)})],companyId:window.klaviyoModulesObject.companyId})}},u=(e,t,n,o)=>(0,r.ro)({fields:{email:e,[a.S0.CUSTOMER_HUB_ACCOUNT]:!0,[a.S0.CUSTOMER_HUB_LAST_LOGIN]:(new Date).toISOString()},callback:()=>(s(a.Xl.CUSTOMER_HUB_LOGIN,{[a.Ox.NEW_USER]:t}),n&&n(),o&&o(),!0)})},71381:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});class o extends EventTarget{dispatchEvent(e){return super.dispatchEvent(e)}dispatch(e){const t=new CustomEvent(e.type,{detail:e});return this.dispatchEvent(t)}addEventListener(e,t,n){super.addEventListener(e,t,n)}removeEventListener(e){super.removeEventListener(e,null)}}},20007:function(e,t,n){"use strict";n.d(t,{Vq:function(){return a},jO:function(){return i}});n(70917),n(93677),n(84304),n(75723),n(20696),n(38528),n(72418);const o="/chat",r=new Set([o,"/checkOTP"]);function i(e){var t,n;const o=null==(t=e.general)?void 0:t.customerHubOnboarded,r=null==(n=e.general)?void 0:n.webChatOnboarded;return{hasFullExperience:!1!==o,isChatOnlyExperience:!1===o&&!0===r}}function a(e,t){return t.isChatOnlyExperience?r.has(e)?e:o:e}},43451:function(e,t,n){"use strict";n.d(t,{a:function(){return o},r:function(){return r}});const o=new(n(71381).d),r={sendFavoriteAdded:e=>{o.dispatch({type:"favorite",data:{newFavorite:e}})},sendFavoriteRemoved:e=>{o.dispatch({type:"unfavorite",data:{removedFavorite:e}})},sendNewMessage:e=>{o.dispatch({type:"new-message",data:{message:e}})},sendMessageRead:e=>{o.dispatch({type:"message-read",data:{messageId:e}})},onFavoriteAdded:(e,t)=>{o.addEventListener("favorite",(t=>{e(t.detail)}),t)},onAddToCartScrollDown:(e,t)=>{o.addEventListener("addToCartScrollDown",(t=>{e(t.detail)}),t)},onAddToCartScrollUp:(e,t)=>{o.addEventListener("addToCartScrollUp",(t=>{e(t.detail)}),t)},onFavoriteRemoved:(e,t)=>{o.addEventListener("unfavorite",(t=>{e(t.detail)}),t)},onNewMessage:(e,t)=>{o.addEventListener("new-message",(t=>{e(t.detail)}),t)},onMessageRead:(e,t)=>{o.addEventListener("message-read",(t=>{e(t.detail)}),t)}}},77407:function(e,t,n){"use strict";n.d(t,{XJ:function(){return r},Yr:function(){return i},ZW:function(){return o}});const o="en-US",r={da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",hu:"hu-HU",it:"it-IT",nl:"nl-NL",nb:"nb-NO",pt:"pt-BR",sv:"sv-SE",ko:"ko-KR",ptPT:"pt-PT",esMX:"es-MX",pl:"pl-PL",ja:"ja-JP"},i=Object.values(r)},95094:function(e,t,n){"use strict";n.d(t,{Q:function(){return s},W:function(){return a}});var o=n(18359),r=n.n(o),i=n(77407);const a=r().createContext({currentLocale:i.ZW,setCurrentLocale:async()=>{}}),s=()=>{const e=r().useContext(a);if(!e)throw new Error("useI18n must be used within an InternationalizationProvider");return e}},93833:function(e,t,n){"use strict";n.d(t,{B:function(){return r}});n(92461),n(39265);var o=n(77407);const r=e=>{const t=o.Yr.find((t=>t===e));if(t)return t;const n=e.split("-")[0],r=Object.entries(o.XJ).find((([e])=>e===n));return r?r[1]:o.ZW}},91892:function(e,t,n){"use strict";t.Z=({tracking:e})=>{var t;const o=e?"https://static-tracking.klaviyo.com/onsite/js/":"https://static.klaviyo.com/onsite/js/",r=null==(t=window.klaviyoModulesObject)?void 0:t.assetSource;n.p=r?`${o}${r}`:o}},52920:function(e,t,n){"use strict";var o=n(91892),r=n(18359),i=n.n(r),a=n(93833),s=n(11369),c=n(555),u=n(43451),l=n(20007);var d=n(82734),C=n(69428);const f=e=>{var t,n,o;const r=null==(t=window.customerHub)?void 0:t.activeProduct;if(!r)return;if(!(0,d.O)("onsite_customer_hub_personalization"))return;const i=null!=(n=null==(o=e.widget)||null==(o=o.addToCartPopoverSettings)?void 0:o.scrollThresholdPercentage)?n:30;let a=0,s=!1,c=!1;window.addEventListener("scroll",(()=>{const e=(()=>{const e=document.documentElement.scrollHeight-window.innerHeight;return e<=0?0:window.scrollY/e*100})();!s&&e>=i&&e>a&&(s=!0,c=!1,u.a.dispatch({type:"addToCartScrollDown",data:{product:r}})),!c&&e<a&&e<=i&&(c=!0,s=!1,u.a.dispatch({type:"addToCartScrollUp",data:{product:r}})),a=e}))},E=(e,t,o)=>{Promise.all([n.e(2462),n.e(5923),n.e(7537),n.e(4573)]).then(n.bind(n,99806)).then((r=>{r.evaluateTriggerDefinition({triggers:{triggers:{ELEMENT_EXISTS:{value:C.XS}}},compoundTriggers:[{triggers:[{triggerType:"ELEMENT_EXISTS",expectedToPass:!0,continuousTrigger:!0}],callback:()=>(async(e,t,o)=>{const[{renderFavoritesButton:r},{renderFavoritesIconButton:i},{renderFaqWidget:a}]=await Promise.all([Promise.all([n.e(2462),n.e(1700),n.e(5923),n.e(6656),n.e(1316),n.e(4661),n.e(9836),n.e(3443),n.e(9880)]).then(n.bind(n,67860)),Promise.all([n.e(2462),n.e(1700),n.e(5923),n.e(6656),n.e(1316),n.e(4661),n.e(9836),n.e(3443),n.e(1627)]).then(n.bind(n,19965)),Promise.all([n.e(2462),n.e(1700),n.e(5923),n.e(6656),n.e(4661),n.e(9836),n.e(4626)]).then(n.bind(n,64383))]);r(e,t),i(e,t),a(e,t,o)})(e,t,o)}]}),f(e)}))};var g=n(16340),m=n(71381);class p extends m.d{addEventListener(e,t,n){super.addEventListener(e,t,n)}}var h=n(69313);n(92461),n(60873);class _{constructor(e){this.settings=void 0,this.settings=e,this.setupCustomerHubApi()}setupCustomerHubApi(){var e=this;if(!window.customerHub)return;const t=window.customerHubApi||{};Object.assign(window,{customerHubApi:Object.assign({},t,{hydrateProduct:async function(t){window.customerHub&&Object.assign(window.customerHub,{activeProduct:null});const n=await e.fetchProduct(t);return n&&window.customerHub&&Object.assign(window.customerHub,{activeProduct:n}),n}})})}async fetchProduct(e){var t,o;const r=null==(t=window.customerHub)?void 0:t.storeDomain,i=null==(o=this.settings.headlessShopifySettings)?void 0:o.storefrontApiPublicKey;if(!r||!i)return null;try{const{HeadlessShopifyClient:t}=await Promise.all([n.e(2462),n.e(4661)]).then(n.bind(n,45819)),o=new t(r,i),a=`/products/${e}`,s=await o.getHydrateProduct(a);if(!s.product)return null;return{name:s.product.name||"",id:s.product.id||e,imageUrl:s.product.imageUrl||"",link:s.product.link||`/products/${e}`,variants:s.product.variants.map((t=>{var n;return{id:t.id||e,title:t.title||"",price:String(t.price||""),imageUrl:t.imageUrl||null,availableForSale:null==(n=t.availableForSale)||n,currency:t.currency||"USD"}}))}}catch(e){return null}}}var S=async()=>{var e,t,o;if(null==(e=window.klaviyoModulesObject)||!e.companyId)return;const{CustomerHubRoot:r,getSettings:d,getLocalizedValues:f}=await Promise.all([n.e(2462),n.e(1700),n.e(5923),n.e(6656),n.e(1316),n.e(7496),n.e(4661),n.e(9836),n.e(3443),n.e(7473)]).then(n.bind(n,74464));let m=null==(t=window.Shopify)?void 0:t.locale;var S;null!=(o=window.Shopify)&&o.country&&m&&(m=`${m}-${null==(S=window.Shopify)?void 0:S.country}`);m=(0,a.B)(m||C.ZW);const[T,v,b]=await Promise.all([d(window.klaviyoModulesObject.companyId),(0,h.ZI)(m),f(window.klaviyoModulesObject.companyId,m)]),I=()=>{const e=window.location.pathname.startsWith("/account/register");T.general.replaceAccountLinks&&!e&&(function(e){var t,n;if((0,l.jO)(e).isChatOnlyExperience)return;const o=null==(t=window.customerHub)?void 0:t.storefrontRoutes.profile;let r='a[href$="/account/login"], a[href$="/account"], a[href^="https://shopify.com/"][href*="/account"], a[href*="/customer_identity/redirect"], a[href*="/customer_authentication/redirect"]';o&&(r=`${r}, a[href$="${o}"]`);const i=document.querySelectorAll(r);for(const e of i)void 0!==e.dataset.kHubIgnore&&"false"!==e.dataset.kHubIgnore||(e.href="#k-hub",e.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),window.location.hash="k-hub"})));const a=null==(n=window.customerHub)?void 0:n.storefrontRoutes.logout;let s='a[href$="/account/logout"], a[href$="/customer_identity/logout"]';a&&(s=`${s}, a[href$="${a}"]`);const u=document.querySelectorAll(s);for(const e of u)e.addEventListener("click",(()=>{(0,c.Q7)(void 0)}))}(T),function(){const e=document.querySelectorAll('a[href*="#k-hub');for(const t of e)t.addEventListener("click",(()=>{window.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape"})),u.a.dispatch({type:"open",data:{isOpen:!0}})}))}()),window.customerHubApi={open:e=>{e?u.a.dispatch({type:"navigation",data:{path:e}}):u.a.dispatch({type:"open",data:{isOpen:!0}}),(0,g.w8)(C.OU,C.pv.OPEN,{[C.Ny.ROUTE]:e})},close:()=>{u.a.dispatch({type:"open",data:{isOpen:!1}}),(0,g.w8)(C.OU,C.pv.CLOSE,{})},events:new p},T.general.storeType===s.$.SHOPIFY_HEADLESS&&((e=>{var t,n,o,r;const i={storefrontRoutes:{login:(null==(t=e.headlessShopifySettings)?void 0:t.loginRoute)||"",register:"",logout:(null==(n=e.headlessShopifySettings)?void 0:n.logoutRoute)||"",profile:(null==(o=e.headlessShopifySettings)?void 0:o.profileRoute)||"",addresses:(null==(r=e.headlessShopifySettings)?void 0:r.addressesRoute)||""},userId:null,storeDomain:e.storeUrlDomain?`${e.storeUrlDomain}.myshopify.com`:void 0,activeProduct:void 0};Object.assign(window,{customerHub:i})})(T),(e=>{new _(e)})(T));const t=document.createElement("div");t.id="k-hub",t.style.position="fixed",t.style.top="0px",i().render(i().createElement(i().StrictMode,null,i().createElement(r,{settings:T,i18nInstance:v,localizedValues:null!=b?b:void 0,locale:m})),t),document.body.appendChild(t)};if("complete"===document.readyState)I(),E(T,m,null!=b?b:void 0);else{const e=new AbortController;document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&(I(),E(T,m,null!=b?b:void 0),e.abort())}),{signal:e.signal})}};(0,o.Z)({tracking:!1}),S()},11369:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});const o={SHOPIFY:"shopify",SHOPIFY_HEADLESS:"shopify_headless",CUSTOM:"custom"}},28367:function(e,t,n){var o={"./onsite-atlas/en-US/translations.json":[34276,2780]};function r(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,19)}))}r.keys=function(){return Object.keys(o)},r.id=28367,e.exports=r},59229:function(e,t,n){var o={"./onsite-atlas/en-US/translations.json":[34276,2780]};function r(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,19)}))}r.keys=function(){return Object.keys(o)},r.id=59229,e.exports=r}},function(e){e.O(0,[2462,4606,9951],(function(){return t=52920,e(e.s=t);var t}));e.O()}]);