!function(r){"use strict";var n=r(document),s=r(window),o=r("body"),i=r(".site-footer .site-footer-bottom"),l=r(".search-screen"),a=window.patiotimeIsRTL,c=r(".sidemenu"),m=r(".to-top"),e=r(".patiotime-mega-menu"),h=r("#sticky-site-header"),d=patiotimeParseInt(o.offset().top),u=window.location;function f(){var t=h.length&&h.hasClass("hide");t&&h.css("visibility","hidden").removeClass("hide"),e.each(function(){var t,e=r(this).children(".patiotime-dropdown-menu");e.length&&(e.hasClass("fullwidth")?a?e.css("right",-(window.patiotimeInnerWidth-r(this).offset().left-r(this).outerWidth(!0))):e.css("left",-r(this).offset().left):(t=patiotimeParseInt(e.css("width")),a?t-r(this).offset().left>r(this).outerWidth(!0)&&e.css("right",-patiotimeParseInt(t-r(this).offset().left-r(this).outerWidth(!0))-10):t>window.patiotimeInnerWidth-r(this).offset().left&&e.css("left",patiotimeParseInt(window.patiotimeInnerWidth-r(this).offset().left-t-10))))}),t&&h.css("visibility","").addClass("hide")}function g(t,e){t.length&&e.length&&(1<e.val()?t.removeAttr("disabled"):t.attr("disabled","disabled"))}patiotime=patiotime||{},patiotime.pages=patiotime.pages||{},patiotime.pages.all={init:function(){var i=this;i.fixPrimaryMenu(),i.checkFixedElements(patiotimeParseInt(s.scrollTop())),n.on("scrolling.patiotime.window resize.patiotime.window",function(t,e){i.checkFixedElements(e.top)})},checkFixedElements:function(t){var e;m.length&&(e=i.length?i.outerHeight()-37:100,150<t&&t<n.height()-patiotimeInnerHeight-e?m.addClass("show"):m.removeClass("show"))},fixPrimaryMenu:function(){var i,t=r("nav > ul > li");t.length&&(t.find(".sub-menu.hide").length&&t.find(".sub-menu.hide").removeClass("hide"),t.filter(".patiotime-mega-menu").length&&(f(),s.on("resize.patiotime.window",function(){f()})),t.filter(".menu-item-has-children").not(".patiotime-mega-menu").length&&(i=patiotimeParseInt(window.patiotimeInnerWidth-10),t.filter(".menu-item-has-children").not(".patiotime-mega-menu").on("mouseover",function(t){var e;r(this).hasClass("right")||(e=r(this)).find("ul.sub-menu").each(function(){return a&&r(this).offset().left<patiotimeParseInt(r("#page").offset().left+10)||!a&&patiotimeParseInt(r(this).offset().left+r(this).outerWidth(!0))>i?(e.addClass("right"),!1):void 0})}),s.on("resize.patiotime.window",function(){i=patiotimeParseInt(window.patiotimeInnerWidth-10),t.filter(".menu-item-has-children").removeClass("right")})))}},n.on("patiotime.init",function(){patiotime.pages.all.init()}),document.addEventListener("DOMContentLoaded",function(){var t,e,a,i=r(".comment-content img, .post-entry img");n.trigger("patiotime.init"),r("body.page #primary iframe, body.single #primary iframe").length&&(e=['iframe[data-src*="videopress.com"]','iframe[data-src*="video.wordpress.com"]','iframe[data-src*="player.vimeo.com"]','iframe[data-src*="youtube.com"]','iframe[data-src*="youtube-nocookie.com"]','iframe[data-src*="kickstarter.com"][src*="video.html"]'],(t=r("body.page #primary, body.single #primary")).fitVids({customSelector:'iframe[src*="video.wordpress.com"]'}),t.find(e.join(",")).length&&t.find(e.join(",")).each(function(){var t=r(this),e=patiotimeParseInt(t.attr("width")),i=patiotimeParseInt(t.attr("height"));!r(this).parents(".fluid-width-video-wrapper").length&&e&&i&&t.attr("src",t.data("src")).wrap(r("<div>",{class:"fluid-width-video-wrapper"}).css("padding-top",i/e*100+"%")).removeAttr("height").removeAttr("width")})),s.on("load",function(){var t;window.location.hash&&"#comments"==window.location.hash&&r("#comments").length&&(t=r("#comments").offset().top-d,r("html, body").animate({scrollTop:t},200))}),n.on("beforeopen.popupbox.loftocean",function(t,e){c.length&&c.hasClass("show")&&c.find(".close-button").trigger("click")}).on("click",".to-top.show",function(t){t.preventDefault(),r("html, body").animate({scrollTop:0},Math.min(800,Math.max(300,Math.round(s.scrollTop()/5))))}).on("click",".site-header #menu-toggle, .elementor-widget-pt_menu_toggle .menu-toggle",function(t){t.preventDefault(),c.length&&(r(this).toggleClass("toggled-on"),r(this).hasClass("toggled-on")?(c.addClass("show"),o.css("overflow","hidden")):(c.removeClass("show"),o.css("overflow","")))}).on("click",".sidemenu.show .close-button",function(t){t.preventDefault(),t.stopPropagation(),r(".menu-toggle").removeClass("toggled-on"),c.removeClass("show"),o.css("overflow","")}).on("click",".sidemenu",function(t){t=r(t.target);t.hasClass("sidemenu")&&t.hasClass("show")&&r(".sidemenu .close-button").trigger("click")}).on("click",".sidemenu .menu-item a",function(t){var e,i,n=this;n.hash&&1<n.hash.length&&u.host+u.pathname==n.host+n.pathname&&(i=r(this).closest("nav"),e=r(this),i.length&&(n=i.find(".menu-item"),i=i.find("li").filter(r(this).parent().parents("li")),n.length&&n.removeClass("current-menu-item current-menu-ancestor"),e.parent().addClass("current-menu-item"),i.length&&i.addClass("current-menu-ancestor")),setTimeout(function(){e.closest(".sidemenu").find(".close-button").trigger("click")},550))}).on("mouseover","#masthead .primary-menu .mega-menu .sub-cat-list li",function(){var t;r(this).hasClass("current")||(t=r(this).parents(".sub-cat-list").first().siblings(".sub-cat-posts").first(),r(this).siblings(".current").removeClass("current").end().addClass("current"),t.children(".current").removeClass("current"),t.children("."+r(this).attr("data-id")).addClass("current"))}).on("click",".main-navigation .dropdown-toggle, .secondary-navigation .dropdown-toggle, .pt-menu .dropdown-toggle",function(t){t.preventDefault(),r(this).hasClass("toggled-on")?r(this).parent().find(".toggled-on").removeClass("toggled-on"):(r(this).parent().siblings("li").find(".toggled-on").removeClass("toggled-on"),r(this).addClass("toggled-on"))}).on("click",".site-header .site-header-search, .pt-search-toggle .toggle-button",function(t){t.preventDefault(),l.length&&(l.hasClass("show")||(l.addClass("show"),setTimeout(function(){l.find("form .search-field").focus()},250),o.css("overflow","hidden")))}).on("click",".search-screen.show .close-button",function(t){t.preventDefault(),l.removeClass("show"),o.css("overflow","")}).on("click",".single #primary .post-footer .comments-link a",function(t){t.preventDefault();t=r("#comments");t.length&&(t=t.offset().top-d,r("html, body").animate({scrollTop:t},200))}).on("click",function(t){var e=r("#masthead .menu-item.focused");e.length&&e.removeClass("focused")}).on("keyup",function(t){var e;9===(t.keyCode||t.which)&&(e=r(t.target),t=r("#masthead .menu-item"),e.hasClass("menu-item")||e.parents(".menu-item").length?(e=e.parents(".menu-item").length?e.parents(".menu-item").last():e,t.removeClass("focused"),e.addClass("focused")):t.removeClass("focused"))}).on("click",".quantity.pt-quantity .minus",function(t){t.preventDefault();var e=r(this).siblings(".qty");e.length&&(0<(t=e.val())&&e.val(t-1).trigger("change"),g(r(this),e))}).on("click",".quantity.pt-quantity .plus",function(t){t.preventDefault();var e=r(this).siblings(".qty");e.length&&(t=e.val(),e.val(++t).trigger("change"),r(this).siblings(".minus").removeAttr("disabled"))}),patiotime.woocommerceProductFilterAjaxEnabled&&(a=!1,n.on("click",".widget.woocommerce.widget_product_categories .product-categories a",function(t){t.preventDefault();var s=r(this),o=s.closest(".product-categories").find(".cat-item");return s.attr("href")&&!s.parent().hasClass("current-cat")&&r.get(s.attr("href")).done(function(t,e,i){var n;console.log(r(t).find("#primary").html(),i),i&&i.status&&200==i.status&&((n=r(t).find("#primary")).length&&(i=r("#primary"),t=o.filter(s.parent().parents("li.cat-item")),n.hide(),i.html(n.html()),n.show("fast"),o.removeClass("current-cat-parent current-cat"),s.parent().addClass("current-cat"),t.length&&t.addClass("current-cat-parent"),a=s.attr("href")))}),!1}),n.on("change","#primary .woocommerce-ordering .orderby",function(t){!1!==a&&r(this).closest("form.woocommerce-ordering").attr("action",a).submit()})),r(".quantity.pt-quantity .minus").length&&r(".quantity.pt-quantity .minus").each(function(){g(r(this),r(this).siblings(".qty"))}),i.length&&i.each(function(){r(this).parent("a").length&&r(this).parent("a").addClass("image-link")}),r(".post-content-gallery.gallery-justified").patiotimeJustifiedGallery()})}(jQuery);
