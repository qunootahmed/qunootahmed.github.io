const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["app/book/assets/index-CfuiPHh2.js","app/book/assets/is-plan-event-enabled-DS1Agtkw.js","app/book/assets/index-lXnUkPDQ.js","app/book/assets/AccountNamePage-DwimsPca.js","app/book/assets/RMCheckbox-C716FsLa.js","app/book/assets/RMCheckbox-BjYMfKM-.css","app/book/assets/AccountNamePage-Gp_HoJtS.css","app/book/assets/AccountSettingsPage-Bc5tfZ6a.js","app/book/assets/MobilePageHeaderContainer-DoB8bUp0.js","app/book/assets/MobilePageHeaderContainer-r5Edaaei.css","app/book/assets/ProfileEdit.container-uzvlz0UF.js","app/book/assets/index-uIduHANH.js","app/book/assets/index-CQiyrZ2h.css","app/book/assets/RMConfirmationModal-STmG1R3O.js","app/book/assets/RMConfirmationModal-DQwtWSjF.css","app/book/assets/user.service.hook-DIeYgj1K.js","app/book/assets/RMBackButton-BH-B-4ZN.js","app/book/assets/RMBackButton-BGUrjs1m.css","app/book/assets/RMLink-DEawwb_E.js","app/book/assets/RMLink-Bplou5lH.css","app/book/assets/filestack-B8GVhBet.js","app/book/assets/floating-ui.dom-C2olF1wN.js","app/book/assets/ProfileEdit-D2KYa0I7.css","app/book/assets/useAutohideIntercomBubble-lDVygzrz.js","app/book/assets/RMPicker-0mwb4y6C.js","app/book/assets/RMPicker-OQMOTrq3.css","app/book/assets/AccountSettingsPage-gx0OtSKL.css","app/book/assets/subscription.chunks-DA9pBz86.js","app/book/assets/confetti.lottie-DkVB1BnH.js","app/book/assets/confetti-Be9b3THL.css","app/book/assets/Stories.container-BAgC3xUx.js","app/book/assets/RMBottomSheet-3wnzaLYl.js","app/book/assets/RMBottomSheet-Dm7lmIhk.css","app/book/assets/story.service.hook-CN8j08OP.js","app/book/assets/StoryDialog.container-QyQVywo1.js","app/book/assets/remento-book-Cgt1G0MX.js","app/book/assets/RMTextEditorController-BE_MCIGr.js","app/book/assets/RMTextEditorController-DA2oeUmp.css","app/book/assets/RMImage-0QWJYDjY.js","app/book/assets/RMImage-uXjvW5B8.css","app/book/assets/StoryDialog-DIBw8rST.css","app/book/assets/Stories-Cocf2VgO.css","app/book/assets/prompt-template.service.hook-_F3G-IUN.js","app/book/assets/signin-DG3gd4MO.js","app/book/assets/checkout.service.hooks-19lv_Kym.js","app/book/assets/subscription-Dhl9dMqu.css","app/book/assets/book.chunks-ruu-Bab2.js","app/book/assets/shipping.utils-6wzTl-zL.js","app/book/assets/postal-address-DD6hTaV9.js","app/book/assets/shipping-oRa424hO.css","app/book/assets/BookOrderHistoryDialog.container-CNUigokG.js","app/book/assets/book-color.utils-80l7S8b4.js","app/book/assets/BookOrderHistoryDialog-CvX6ax7l.css","app/book/assets/learn-photo-Bgimz-Ke.js","app/book/assets/index-C8RNB_Qw.js","app/book/assets/index-CodfmGb2.css","app/book/assets/RMStack-CE_D-DVb.js","app/book/assets/RMStack-G2aS38fx.css","app/book/assets/modifiers.esm-tvXlewSy.js","app/book/assets/book-BWD3Yi6B.css","app/book/assets/project-checkout.chunks-BEGTVP-i.js","app/book/assets/RMDateInput-u1gHKp9J.js","app/book/assets/rating-start-5-BtFd2wpd.js","app/book/assets/shuffleArray-CvF2Muz2.js","app/book/assets/project-checkout-D6eDcR_9.css","app/book/assets/InAppPage-CQf-PYO7.js","app/book/assets/InAppPage-Coc7gXYN.css","app/book/assets/InvitePage-F_ZdQi1f.js","app/book/assets/onboarding.service.hook-CMkuXU5z.js","app/book/assets/onboarding.service-Dlh-pTQu.css","app/book/assets/InvitePage-BakP5bOS.css","app/book/assets/OnboardingIntroPage-CBiM4-iO.js","app/book/assets/OnboardingIntroPage-CeynsDDA.css","app/book/assets/OnboardingSigninPage-DkfPu4H0.js","app/book/assets/google-logo-CvDVLvQ6.js","app/book/assets/OnboardingSigninPage-n7DiZf-7.css","app/book/assets/ProjectSettingsPage-CnLXVC4X.js","app/book/assets/ProjectShareHeader.container-C3dDO6PJ.js","app/book/assets/index-DIPLE66T.js","app/book/assets/index-BZW1p6PA.css","app/book/assets/index-CiUpUSvG.js","app/book/assets/index-BoXqHIQw.css","app/book/assets/ProjectShareHeader-DGjDRKWA.css","app/book/assets/project.utils-D110G3lE.js","app/book/assets/usePromptFrequencyText-C1f3U9Mc.js","app/book/assets/usePromptFrequencyText-BslvKkaD.css","app/book/assets/ProjectSettingsPage-D1Pu__nG.css","app/book/assets/QuestionsPage-Dpwa1qku.js","app/book/assets/poll-options.hook-lxse2yrs.js","app/book/assets/available-prompt.hook-BwKbS0jQ.js","app/book/assets/poll-options-CTVAGwjw.css","app/book/assets/prompt-thumbnail-CNSJznAQ.js","app/book/assets/prompt-thumbnail-C32qH5k0.css","app/book/assets/PromptTemplateList.container-CqvM1jYz.js","app/book/assets/PromptTemplateList-2V9WIL9q.css","app/book/assets/PromptEdit-CBeRZuHx.js","app/book/assets/PromptEdit-DjGz0T37.css","app/book/assets/PromptTemplateTagList.container-B0PqTWDI.js","app/book/assets/RecordingStorytellerSelectionDialog.container-C_JmCvjr.js","app/book/assets/RecordingStorytellerSelectionDialog-DHhowrtP.css","app/book/assets/PromptTemplateTagList-fRWKRpBv.css","app/book/assets/PromptList.container-CUF8Ra-_.js","app/book/assets/QuestionsPage-DLoVEHWa.css","app/book/assets/ProjectHomePage-BmgkDe8c.js","app/book/assets/PromptRecordCard.container-CkSGgi4o.js","app/book/assets/PromptRecordCard-D8D09Vdy.css","app/book/assets/ProjectHomePage-CLumOwHw.css","app/book/assets/recording.chunks-BkuNKOm7.js","app/book/assets/logomark-rH7PPXuR.js","app/book/assets/recording-DdfN8O4Y.css","app/book/assets/setup.chunks-DCVZyFB6.js","app/book/assets/setup-BwrEWbZR.css","app/book/assets/poll.chunks-C169NIK_.js","app/book/assets/poll-BSiJT-FU.css","app/book/assets/questionnaire.chunks-CFuf6nUh.js","app/book/assets/questionnaire-CVtADco6.css","app/book/assets/SigninPage-CvagZXoS.js","app/book/assets/SigninPage-DnrJhqov.css","app/book/assets/StoriesPage-B8CJF2ZH.js","app/book/assets/StoryHighlightReelPage-Cy8YINtg.js","app/book/assets/StoryHighlightReelPage-BGNYJThl.css","app/book/assets/StoryPage-BdWQPv5q.js","app/book/assets/WelcomePage-CN4YSnrc.js","app/book/assets/WelcomePage-CmBbPpxU.css","app/book/assets/pdf.chunks-BnVO-N6J.js","app/book/assets/pdf-ZMqeeWxN.css"])))=>i.map(i=>d[i]);
var Xu=Object.defineProperty;var Eu=_e=>{throw TypeError(_e)};var Ju=(_e,et,tt)=>et in _e?Xu(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:tt}):_e[et]=tt;var kr=(_e,et,tt)=>Ju(_e,typeof et!="symbol"?et+"":et,tt),Vl=(_e,et,tt)=>et.has(_e)||Eu("Cannot "+tt);var qt=(_e,et,tt)=>(Vl(_e,et,"read from private field"),tt?tt.call(_e):et.get(_e)),Jr=(_e,et,tt)=>et.has(_e)?Eu("Cannot add the same private member more than once"):et instanceof WeakSet?et.add(_e):et.set(_e,tt),jr=(_e,et,tt,rt)=>(Vl(_e,et,"write to private field"),rt?rt.call(_e,tt):et.set(_e,tt),tt),cn=(_e,et,tt)=>(Vl(_e,et,"access private method"),tt);var Hs=(_e,et,tt,rt)=>({set _(nt){jr(_e,et,nt,tt)},get _(){return qt(_e,et,rt)}});function _mergeNamespaces(_e,et){for(var tt=0;tt<et.length;tt++){const rt=et[tt];if(typeof rt!="string"&&!Array.isArray(rt)){for(const nt in rt)if(nt!=="default"&&!(nt in _e)){const it=Object.getOwnPropertyDescriptor(rt,nt);it&&Object.defineProperty(_e,nt,it.get?it:{enumerable:!0,get:()=>rt[nt]})}}}return Object.freeze(Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}))}(function(){const et=document.createElement("link").relList;if(et&&et.supports&&et.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))rt(nt);new MutationObserver(nt=>{for(const it of nt)if(it.type==="childList")for(const at of it.addedNodes)at.tagName==="LINK"&&at.rel==="modulepreload"&&rt(at)}).observe(document,{childList:!0,subtree:!0});function tt(nt){const it={};return nt.integrity&&(it.integrity=nt.integrity),nt.referrerPolicy&&(it.referrerPolicy=nt.referrerPolicy),nt.crossOrigin==="use-credentials"?it.credentials="include":nt.crossOrigin==="anonymous"?it.credentials="omit":it.credentials="same-origin",it}function rt(nt){if(nt.ep)return;nt.ep=!0;const it=tt(nt);fetch(nt.href,it)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}function getAugmentedNamespace(_e){if(_e.__esModule)return _e;var et=_e.default;if(typeof et=="function"){var tt=function rt(){return this instanceof rt?Reflect.construct(et,arguments,this.constructor):et.apply(this,arguments)};tt.prototype=et.prototype}else tt={};return Object.defineProperty(tt,"__esModule",{value:!0}),Object.keys(_e).forEach(function(rt){var nt=Object.getOwnPropertyDescriptor(_e,rt);Object.defineProperty(tt,rt,nt.get?nt:{enumerable:!0,get:function(){return _e[rt]}})}),tt}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$4=Symbol.for("react.portal"),p$8=Symbol.for("react.fragment"),q$6=Symbol.for("react.strict_mode"),r$3=Symbol.for("react.profiler"),t$3=Symbol.for("react.provider"),u$4=Symbol.for("react.context"),v$7=Symbol.for("react.forward_ref"),w$5=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$5=Symbol.iterator;function A$3(_e){return _e===null||typeof _e!="object"?null:(_e=z$5&&_e[z$5]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$3={};function E$4(_e,et,tt){this.props=_e,this.context=et,this.refs=D$3,this.updater=tt||B$3}E$4.prototype.isReactComponent={};E$4.prototype.setState=function(_e,et){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,et,"setState")};E$4.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F$3(){}F$3.prototype=E$4.prototype;function G$2(_e,et,tt){this.props=_e,this.context=et,this.refs=D$3,this.updater=tt||B$3}var H$3=G$2.prototype=new F$3;H$3.constructor=G$2;C$3(H$3,E$4.prototype);H$3.isPureReactComponent=!0;var I$3=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$4={key:!0,ref:!0,__self:!0,__source:!0};function M$4(_e,et,tt){var rt,nt={},it=null,at=null;if(et!=null)for(rt in et.ref!==void 0&&(at=et.ref),et.key!==void 0&&(it=""+et.key),et)J$1.call(et,rt)&&!L$4.hasOwnProperty(rt)&&(nt[rt]=et[rt]);var ot=arguments.length-2;if(ot===1)nt.children=tt;else if(1<ot){for(var st=Array(ot),lt=0;lt<ot;lt++)st[lt]=arguments[lt+2];nt.children=st}if(_e&&_e.defaultProps)for(rt in ot=_e.defaultProps,ot)nt[rt]===void 0&&(nt[rt]=ot[rt]);return{$$typeof:l$4,type:_e,key:it,ref:at,props:nt,_owner:K$2.current}}function N$3(_e,et){return{$$typeof:l$4,type:_e.type,key:et,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$5(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$4}function escape$1(_e){var et={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(tt){return et[tt]})}var P$4=/\/+/g;function Q$3(_e,et){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape$1(""+_e.key):et.toString(36)}function R$4(_e,et,tt,rt,nt){var it=typeof _e;(it==="undefined"||it==="boolean")&&(_e=null);var at=!1;if(_e===null)at=!0;else switch(it){case"string":case"number":at=!0;break;case"object":switch(_e.$$typeof){case l$4:case n$4:at=!0}}if(at)return at=_e,nt=nt(at),_e=rt===""?"."+Q$3(at,0):rt,I$3(nt)?(tt="",_e!=null&&(tt=_e.replace(P$4,"$&/")+"/"),R$4(nt,et,tt,"",function(lt){return lt})):nt!=null&&(O$5(nt)&&(nt=N$3(nt,tt+(!nt.key||at&&at.key===nt.key?"":(""+nt.key).replace(P$4,"$&/")+"/")+_e)),et.push(nt)),1;if(at=0,rt=rt===""?".":rt+":",I$3(_e))for(var ot=0;ot<_e.length;ot++){it=_e[ot];var st=rt+Q$3(it,ot);at+=R$4(it,et,tt,st,nt)}else if(st=A$3(_e),typeof st=="function")for(_e=st.call(_e),ot=0;!(it=_e.next()).done;)it=it.value,st=rt+Q$3(it,ot++),at+=R$4(it,et,tt,st,nt);else if(it==="object")throw et=String(_e),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.");return at}function S$3(_e,et,tt){if(_e==null)return _e;var rt=[],nt=0;return R$4(_e,rt,"","",function(it){return et.call(tt,it,nt++)}),rt}function T$3(_e){if(_e._status===-1){var et=_e._result;et=et(),et.then(function(tt){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=tt)},function(tt){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=tt)}),_e._status===-1&&(_e._status=0,_e._result=et)}if(_e._status===1)return _e._result.default;throw _e._result}var U$2={current:null},V$1={transition:null},W$3={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$2};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$3,forEach:function(_e,et,tt){S$3(_e,function(){et.apply(this,arguments)},tt)},count:function(_e){var et=0;return S$3(_e,function(){et++}),et},toArray:function(_e){return S$3(_e,function(et){return et})||[]},only:function(_e){if(!O$5(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$4;react_production_min.Fragment=p$8;react_production_min.Profiler=r$3;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$6;react_production_min.Suspense=w$5;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$2;react_production_min.cloneElement=function(_e,et,tt){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var rt=C$3({},_e.props),nt=_e.key,it=_e.ref,at=_e._owner;if(et!=null){if(et.ref!==void 0&&(it=et.ref,at=K$2.current),et.key!==void 0&&(nt=""+et.key),_e.type&&_e.type.defaultProps)var ot=_e.type.defaultProps;for(st in et)J$1.call(et,st)&&!L$4.hasOwnProperty(st)&&(rt[st]=et[st]===void 0&&ot!==void 0?ot[st]:et[st])}var st=arguments.length-2;if(st===1)rt.children=tt;else if(1<st){ot=Array(st);for(var lt=0;lt<st;lt++)ot[lt]=arguments[lt+2];rt.children=ot}return{$$typeof:l$4,type:_e.type,key:nt,ref:it,props:rt,_owner:at}};react_production_min.createContext=function(_e){return _e={$$typeof:u$4,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t$3,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$4;react_production_min.createFactory=function(_e){var et=M$4.bind(null,_e);return et.type=_e,et};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$7,render:_e}};react_production_min.isValidElement=O$5;react_production_min.lazy=function(_e){return{$$typeof:y$2,_payload:{_status:-1,_result:_e},_init:T$3}};react_production_min.memo=function(_e,et){return{$$typeof:x$1,type:_e,compare:et===void 0?null:et}};react_production_min.startTransition=function(_e){var et=V$1.transition;V$1.transition={};try{_e()}finally{V$1.transition=et}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(_e,et){return U$2.current.useCallback(_e,et)};react_production_min.useContext=function(_e){return U$2.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$2.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,et){return U$2.current.useEffect(_e,et)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(_e,et,tt){return U$2.current.useImperativeHandle(_e,et,tt)};react_production_min.useInsertionEffect=function(_e,et){return U$2.current.useInsertionEffect(_e,et)};react_production_min.useLayoutEffect=function(_e,et){return U$2.current.useLayoutEffect(_e,et)};react_production_min.useMemo=function(_e,et){return U$2.current.useMemo(_e,et)};react_production_min.useReducer=function(_e,et,tt){return U$2.current.useReducer(_e,et,tt)};react_production_min.useRef=function(_e){return U$2.current.useRef(_e)};react_production_min.useState=function(_e){return U$2.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,et,tt){return U$2.current.useSyncExternalStore(_e,et,tt)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$4=reactExports,k$3=Symbol.for("react.element"),l$3=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$3=f$4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$7={key:!0,ref:!0,__self:!0,__source:!0};function q$5(_e,et,tt){var rt,nt={},it=null,at=null;tt!==void 0&&(it=""+tt),et.key!==void 0&&(it=""+et.key),et.ref!==void 0&&(at=et.ref);for(rt in et)m$5.call(et,rt)&&!p$7.hasOwnProperty(rt)&&(nt[rt]=et[rt]);if(_e&&_e.defaultProps)for(rt in et=_e.defaultProps,et)nt[rt]===void 0&&(nt[rt]=et[rt]);return{$$typeof:k$3,type:_e,key:it,ref:at,props:nt,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$3;reactJsxRuntime_production_min.jsx=q$5;reactJsxRuntime_production_min.jsxs=q$5;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,ConsoleApiName={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},globalConsole=console,originalConsoleMethods={};Object.keys(ConsoleApiName).forEach(function(_e){originalConsoleMethods[_e]=globalConsole[_e]});var PREFIX="Datadog Browser SDK:",display={debug:originalConsoleMethods.debug.bind(globalConsole,PREFIX),log:originalConsoleMethods.log.bind(globalConsole,PREFIX),info:originalConsoleMethods.info.bind(globalConsole,PREFIX),warn:originalConsoleMethods.warn.bind(globalConsole,PREFIX),error:originalConsoleMethods.error.bind(globalConsole,PREFIX)},DOCS_ORIGIN="https://docs.datadoghq.com",DOCS_TROUBLESHOOTING="".concat(DOCS_ORIGIN,"/real_user_monitoring/browser/troubleshooting"),MORE_DETAILS="More details:";function catchUserErrors(_e,et){return function(){for(var tt=[],rt=0;rt<arguments.length;rt++)tt[rt]=arguments[rt];try{return _e.apply(void 0,tt)}catch(nt){display.error(et,nt)}}}function performDraw(_e){return _e!==0&&Math.random()*100<=_e}function round$1(_e,et){return+_e.toFixed(et)}function isPercentage(_e){return isNumber$4(_e)&&_e>=0&&_e<=100}function isNumber$4(_e){return typeof _e=="number"}var ONE_SECOND=1e3,ONE_MINUTE=60*ONE_SECOND,ONE_HOUR=60*ONE_MINUTE,ONE_DAY=24*ONE_HOUR,ONE_YEAR$1=365*ONE_DAY;function relativeToClocks(_e){return{relative:_e,timeStamp:getCorrectedTimeStamp(_e)}}function timeStampToClocks(_e){return{relative:getRelativeTime(_e),timeStamp:_e}}function getCorrectedTimeStamp(_e){var et=dateNow()-performance.now();return et>getNavigationStart()?Math.round(addDuration(et,_e)):getTimeStamp(_e)}function currentDrift(){return Math.round(dateNow()-addDuration(getNavigationStart(),performance.now()))}function toServerDuration(_e){return isNumber$4(_e)?round$1(_e*1e6,0):_e}function dateNow(){return new Date().getTime()}function timeStampNow(){return dateNow()}function relativeNow(){return performance.now()}function clocksNow(){return{relative:relativeNow(),timeStamp:timeStampNow()}}function clocksOrigin(){return{relative:0,timeStamp:getNavigationStart()}}function elapsed(_e,et){return et-_e}function addDuration(_e,et){return _e+et}function getRelativeTime(_e){return _e-getNavigationStart()}function getTimeStamp(_e){return Math.round(addDuration(getNavigationStart(),_e))}function looksLikeRelativeTime(_e){return _e<ONE_YEAR$1}var navigationStart;function getNavigationStart(){return navigationStart===void 0&&(navigationStart=performance.timing.navigationStart),navigationStart}var ONE_KIBI_BYTE=1024,ONE_MEBI_BYTE=1024*ONE_KIBI_BYTE,HAS_MULTI_BYTES_CHARACTERS=/[^\u0000-\u007F]/;function computeBytesCount(_e){return HAS_MULTI_BYTES_CHARACTERS.test(_e)?window.TextEncoder!==void 0?new TextEncoder().encode(_e).length:new Blob([_e]).size:_e.length}function concatBuffers(_e){for(var et=_e.reduce(function(ot,st){return ot+st.length},0),tt=new Uint8Array(et),rt=0,nt=0,it=_e;nt<it.length;nt++){var at=it[nt];tt.set(at,rt),rt+=at.length}return tt}function includes(_e,et){return _e.indexOf(et)!==-1}function arrayFrom(_e){if(Array.from)return Array.from(_e);var et=[];if(_e instanceof Set)_e.forEach(function(rt){return et.push(rt)});else for(var tt=0;tt<_e.length;tt++)et.push(_e[tt]);return et}function find(_e,et){for(var tt=0;tt<_e.length;tt+=1){var rt=_e[tt];if(et(rt,tt))return rt}}function findLast(_e,et){for(var tt=_e.length-1;tt>=0;tt-=1){var rt=_e[tt];if(et(rt,tt,_e))return rt}}function forEach$1(_e,et){Array.prototype.forEach.call(_e,et)}function objectValues(_e){return Object.keys(_e).map(function(et){return _e[et]})}function objectEntries(_e){return Object.keys(_e).map(function(et){return[et,_e[et]]})}function startsWith(_e,et){return _e.slice(0,et.length)===et}function endsWith$1(_e,et){return _e.slice(-et.length)===et}function assign$3(_e){for(var et=[],tt=1;tt<arguments.length;tt++)et[tt-1]=arguments[tt];return et.forEach(function(rt){for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}),_e}function shallowClone(_e){return assign$3({},_e)}function objectHasValue(_e,et){return Object.keys(_e).some(function(tt){return _e[tt]===et})}function isEmptyObject$1(_e){return Object.keys(_e).length===0}function mapValues(_e,et){for(var tt={},rt=0,nt=Object.keys(_e);rt<nt.length;rt++){var it=nt[rt];tt[it]=et(_e[it])}return tt}function getGlobalObject(){if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var _e=_dd_temp_;return delete Object.prototype._dd_temp_,typeof _e!="object"&&(typeof self=="object"?_e=self:typeof window=="object"?_e=window:_e={}),_e}function getZoneJsOriginalValue(_e,et){var tt=getGlobalObject(),rt;return tt.Zone&&typeof tt.Zone.__symbol__=="function"&&(rt=_e[tt.Zone.__symbol__(et)]),rt||(rt=_e[et]),rt}var __spreadArray$2=function(_e,et,tt){if(tt||arguments.length===2)for(var rt=0,nt=et.length,it;rt<nt;rt++)(it||!(rt in et))&&(it||(it=Array.prototype.slice.call(et,0,rt)),it[rt]=et[rt]);return _e.concat(it||Array.prototype.slice.call(et))},onMonitorErrorCollected,debugMode=!1;function startMonitorErrorCollection(_e){onMonitorErrorCollected=_e}function setDebugMode(_e){debugMode=_e}function monitored(_e,et,tt){var rt=tt.value;tt.value=function(){for(var nt=[],it=0;it<arguments.length;it++)nt[it]=arguments[it];var at=onMonitorErrorCollected?monitor(rt):rt;return at.apply(this,nt)}}function monitor(_e){return function(){return callMonitored(_e,this,arguments)}}function callMonitored(_e,et,tt){try{return _e.apply(et,tt)}catch(rt){if(displayIfDebugEnabled(rt),onMonitorErrorCollected)try{onMonitorErrorCollected(rt)}catch(nt){displayIfDebugEnabled(nt)}}}function displayIfDebugEnabled(){for(var _e=[],et=0;et<arguments.length;et++)_e[et]=arguments[et];debugMode&&display.error.apply(display,__spreadArray$2(["[MONITOR]"],_e,!1))}function setTimeout$1(_e,et){return getZoneJsOriginalValue(getGlobalObject(),"setTimeout")(monitor(_e),et)}function clearTimeout$1(_e){getZoneJsOriginalValue(getGlobalObject(),"clearTimeout")(_e)}function setInterval$1(_e,et){return getZoneJsOriginalValue(getGlobalObject(),"setInterval")(monitor(_e),et)}function clearInterval$1(_e){getZoneJsOriginalValue(getGlobalObject(),"clearInterval")(_e)}var Observable$1=function(){function _e(et){this.onFirstSubscribe=et,this.observers=[]}return _e.prototype.subscribe=function(et){var tt=this;return this.observers.push(et),this.observers.length===1&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0),{unsubscribe:function(){tt.observers=tt.observers.filter(function(rt){return et!==rt}),!tt.observers.length&&tt.onLastUnsubscribe&&tt.onLastUnsubscribe()}}},_e.prototype.notify=function(et){this.observers.forEach(function(tt){return tt(et)})},_e}();function mergeObservables(){for(var _e=[],et=0;et<arguments.length;et++)_e[et]=arguments[et];return new Observable$1(function(tt){var rt=_e.map(function(nt){return nt.subscribe(function(it){return tt.notify(it)})});return function(){return rt.forEach(function(nt){return nt.unsubscribe()})}})}function throttle$1(_e,et,tt){var rt=tt&&tt.leading!==void 0?tt.leading:!0,nt=tt&&tt.trailing!==void 0?tt.trailing:!0,it=!1,at,ot;return{throttled:function(){for(var st=[],lt=0;lt<arguments.length;lt++)st[lt]=arguments[lt];if(it){at=st;return}rt?_e.apply(void 0,st):at=st,it=!0,ot=setTimeout$1(function(){nt&&at&&_e.apply(void 0,at),it=!1,at=void 0},et)},cancel:function(){clearTimeout$1(ot),it=!1,at=void 0}}}function noop$7(){}function generateUUID(_e){return _e?(parseInt(_e,10)^Math.random()*16>>parseInt(_e,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,generateUUID)}var COMMA_SEPARATED_KEY_VALUE=/([\w-]+)\s*=\s*([^;]+)/g;function findCommaSeparatedValue(_e,et){for(COMMA_SEPARATED_KEY_VALUE.lastIndex=0;;){var tt=COMMA_SEPARATED_KEY_VALUE.exec(_e);if(tt){if(tt[1]===et)return tt[2]}else break}}function findCommaSeparatedValues(_e){var et=new Map;for(COMMA_SEPARATED_KEY_VALUE.lastIndex=0;;){var tt=COMMA_SEPARATED_KEY_VALUE.exec(_e);if(tt)et.set(tt[1],tt[2]);else break}return et}function safeTruncate(_e,et,tt){tt===void 0&&(tt="");var rt=_e.charCodeAt(et-1),nt=rt>=55296&&rt<=56319,it=nt?et+1:et;return _e.length<=it?_e:"".concat(_e.slice(0,it)).concat(tt)}function isIE$1(){return detectBrowserCached()===0}function isChromium(){return detectBrowserCached()===1}function isSafari(){return detectBrowserCached()===2}var browserCache;function detectBrowserCached(){return browserCache??(browserCache=detectBrowser())}function detectBrowser(_e){var et;_e===void 0&&(_e=window);var tt=_e.navigator.userAgent;return _e.chrome||/HeadlessChrome/.test(tt)?1:((et=_e.navigator.vendor)===null||et===void 0?void 0:et.indexOf("Apple"))===0||/safari/i.test(tt)&&!/chrome|android/i.test(tt)?2:_e.document.documentMode?0:3}var ExperimentalFeature;(function(_e){_e.WRITABLE_RESOURCE_GRAPHQL="writable_resource_graphql",_e.REMOTE_CONFIGURATION="remote_configuration",_e.LONG_ANIMATION_FRAME="long_animation_frame",_e.ANONYMOUS_USER_TRACKING="anonymous_user_tracking",_e.ACTION_NAME_MASKING="action_name_masking",_e.CONSISTENT_TRACE_SAMPLING="consistent_trace_sampling",_e.DELAY_VIEWPORT_COLLECTION="delay_viewport_collection"})(ExperimentalFeature||(ExperimentalFeature={}));var enabledExperimentalFeatures=new Set;function initFeatureFlags(_e){Array.isArray(_e)&&addExperimentalFeatures(_e.filter(function(et){return objectHasValue(ExperimentalFeature,et)}))}function addExperimentalFeatures(_e){_e.forEach(function(et){enabledExperimentalFeatures.add(et)})}function isExperimentalFeatureEnabled(_e){return enabledExperimentalFeatures.has(_e)}function getExperimentalFeatures(){return enabledExperimentalFeatures}function setCookie(_e,et,tt,rt){tt===void 0&&(tt=0);var nt=new Date;nt.setTime(nt.getTime()+tt);var it="expires=".concat(nt.toUTCString()),at=rt&&rt.crossSite?"none":"strict",ot=rt&&rt.domain?";domain=".concat(rt.domain):"",st=rt&&rt.secure?";secure":"",lt=rt&&rt.partitioned?";partitioned":"";document.cookie="".concat(_e,"=").concat(et,";").concat(it,";path=/;samesite=").concat(at).concat(ot).concat(st).concat(lt)}function getCookie(_e){return findCommaSeparatedValue(document.cookie,_e)}var initCookieParsed;function getInitCookie(_e){return initCookieParsed||(initCookieParsed=findCommaSeparatedValues(document.cookie)),initCookieParsed.get(_e)}function deleteCookie(_e,et){setCookie(_e,"",0,et)}function areCookiesAuthorized(_e){if(document.cookie===void 0||document.cookie===null)return!1;try{var et="dd_cookie_test_".concat(generateUUID()),tt="test";setCookie(et,tt,ONE_MINUTE,_e);var rt=getCookie(et)===tt;return deleteCookie(et,_e),rt}catch(nt){return display.error(nt),!1}}var getCurrentSiteCache;function getCurrentSite(){if(getCurrentSiteCache===void 0){for(var _e="dd_site_test_".concat(generateUUID()),et="test",tt=window.location.hostname.split("."),rt=tt.pop();tt.length&&!getCookie(_e);)rt="".concat(tt.pop(),".").concat(rt),setCookie(_e,et,ONE_SECOND,{domain:rt});deleteCookie(_e,{domain:rt}),getCurrentSiteCache=rt}return getCurrentSiteCache}var SESSION_STORE_KEY="_dd_s";function getType(_e){return _e===null?"null":Array.isArray(_e)?"array":typeof _e}function sanitizeUser(_e){var et=assign$3({},_e),tt=["id","name","email"];return tt.forEach(function(rt){rt in et&&(et[rt]=String(et[rt]))}),et}function checkUser(_e){var et=getType(_e)==="object";return et||display.error("Unsupported user:",_e),et}function generateAnonymousId(){return Math.floor(Math.random()*Math.pow(2,53)).toString(36)}var SESSION_TIME_OUT_DELAY=4*ONE_HOUR,SESSION_EXPIRATION_DELAY=15*ONE_MINUTE,SESSION_COOKIE_EXPIRATION_DELAY=ONE_YEAR$1,SessionPersistence={COOKIE:"cookie",LOCAL_STORAGE:"local-storage"},SESSION_ENTRY_REGEXP=/^([a-zA-Z]+)=([a-z0-9-]+)$/,SESSION_ENTRY_SEPARATOR="&";function isValidSessionString(_e){return!!_e&&(_e.indexOf(SESSION_ENTRY_SEPARATOR)!==-1||SESSION_ENTRY_REGEXP.test(_e))}var EXPIRED="1";function getExpiredSessionState(_e){var et={isExpired:EXPIRED};return isExperimentalFeatureEnabled(ExperimentalFeature.ANONYMOUS_USER_TRACKING)&&(_e!=null&&_e.anonymousId?et.anonymousId=_e==null?void 0:_e.anonymousId:et.anonymousId=generateAnonymousId()),et}function isSessionInNotStartedState(_e){return isEmptyObject$1(_e)}function isSessionStarted(_e){return!isSessionInNotStartedState(_e)}function isSessionInExpiredState(_e){return _e.isExpired!==void 0||!isActiveSession(_e)}function isActiveSession(_e){return(_e.created===void 0||dateNow()-Number(_e.created)<SESSION_TIME_OUT_DELAY)&&(_e.expire===void 0||dateNow()<Number(_e.expire))}function expandSessionState(_e){_e.expire=String(dateNow()+SESSION_EXPIRATION_DELAY)}function toSessionString(_e){return objectEntries(_e).map(function(et){var tt=et[0],rt=et[1];return tt==="anonymousId"?"aid=".concat(rt):"".concat(tt,"=").concat(rt)}).join(SESSION_ENTRY_SEPARATOR)}function toSessionState(_e){var et={};return isValidSessionString(_e)&&_e.split(SESSION_ENTRY_SEPARATOR).forEach(function(tt){var rt=SESSION_ENTRY_REGEXP.exec(tt);if(rt!==null){var nt=rt[1],it=rt[2];nt==="aid"?et.anonymousId=it:et[nt]=it}}),et}var OLD_SESSION_COOKIE_NAME="_dd",OLD_RUM_COOKIE_NAME="_dd_r",OLD_LOGS_COOKIE_NAME="_dd_l",RUM_SESSION_KEY$1="rum",LOGS_SESSION_KEY$1="logs";function tryOldCookiesMigration(_e){var et=getInitCookie(SESSION_STORE_KEY);if(!et){var tt=getInitCookie(OLD_SESSION_COOKIE_NAME),rt=getInitCookie(OLD_RUM_COOKIE_NAME),nt=getInitCookie(OLD_LOGS_COOKIE_NAME),it={};tt&&(it.id=tt),nt&&/^[01]$/.test(nt)&&(it[LOGS_SESSION_KEY$1]=nt),rt&&/^[012]$/.test(rt)&&(it[RUM_SESSION_KEY$1]=rt),isSessionStarted(it)&&(expandSessionState(it),_e.persistSession(it))}}function selectCookieStrategy(_e){var et=buildCookieOptions(_e);return areCookiesAuthorized(et)?{type:SessionPersistence.COOKIE,cookieOptions:et}:void 0}function initCookieStrategy(_e){var et={isLockEnabled:isChromium(),persistSession:persistSessionCookie(_e),retrieveSession:retrieveSessionCookie,expireSession:function(tt){return expireSessionCookie(_e,tt)}};return tryOldCookiesMigration(et),et}function persistSessionCookie(_e){return function(et){setCookie(SESSION_STORE_KEY,toSessionString(et),SESSION_EXPIRATION_DELAY,_e)}}function expireSessionCookie(_e,et){var tt=getExpiredSessionState(et);setCookie(SESSION_STORE_KEY,toSessionString(tt),isExperimentalFeatureEnabled(ExperimentalFeature.ANONYMOUS_USER_TRACKING)?SESSION_COOKIE_EXPIRATION_DELAY:SESSION_TIME_OUT_DELAY,_e)}function retrieveSessionCookie(){var _e=getCookie(SESSION_STORE_KEY),et=toSessionState(_e);return et}function buildCookieOptions(_e){var et={};return et.secure=!!_e.useSecureSessionCookie||!!_e.usePartitionedCrossSiteSessionCookie||!!_e.useCrossSiteSessionCookie,et.crossSite=!!_e.usePartitionedCrossSiteSessionCookie||!!_e.useCrossSiteSessionCookie,et.partitioned=!!_e.usePartitionedCrossSiteSessionCookie,_e.trackSessionAcrossSubdomains&&(et.domain=getCurrentSite()),et}var LOCAL_STORAGE_TEST_KEY="_dd_test_";function selectLocalStorageStrategy(){try{var _e=generateUUID(),et="".concat(LOCAL_STORAGE_TEST_KEY).concat(_e);localStorage.setItem(et,_e);var tt=localStorage.getItem(et);return localStorage.removeItem(et),_e===tt?{type:SessionPersistence.LOCAL_STORAGE}:void 0}catch{return}}function initLocalStorageStrategy(){return{isLockEnabled:!1,persistSession:persistInLocalStorage,retrieveSession:retrieveSessionFromLocalStorage,expireSession:expireSessionFromLocalStorage}}function persistInLocalStorage(_e){localStorage.setItem(SESSION_STORE_KEY,toSessionString(_e))}function retrieveSessionFromLocalStorage(){var _e=localStorage.getItem(SESSION_STORE_KEY);return toSessionState(_e)}function expireSessionFromLocalStorage(_e){persistInLocalStorage(getExpiredSessionState(_e))}var LOCK_RETRY_DELAY=10,LOCK_MAX_TRIES=100,bufferedOperations=[],ongoingOperations;function processSessionStoreOperations(_e,et,tt){var rt;tt===void 0&&(tt=0);var nt=et.isLockEnabled,it=et.persistSession,at=et.expireSession,ot=function(dt){return it(assign$3({},dt,{lock:lt}))},st=function(){var dt=et.retrieveSession(),ft=dt.lock;return dt.lock&&delete dt.lock,{session:dt,lock:ft}};if(ongoingOperations||(ongoingOperations=_e),_e!==ongoingOperations){bufferedOperations.push(_e);return}if(nt&&tt>=LOCK_MAX_TRIES){next(et);return}var lt,ct=st();if(nt){if(ct.lock){retryLater(_e,et,tt);return}if(lt=generateUUID(),ot(ct.session),ct=st(),ct.lock!==lt){retryLater(_e,et,tt);return}}var ut=_e.process(ct.session);if(nt&&(ct=st(),ct.lock!==lt)){retryLater(_e,et,tt);return}if(ut&&(isSessionInExpiredState(ut)?at(ut):(expandSessionState(ut),nt?ot(ut):it(ut))),nt&&!(ut&&isSessionInExpiredState(ut))){if(ct=st(),ct.lock!==lt){retryLater(_e,et,tt);return}it(ct.session),ut=ct.session}(rt=_e.after)===null||rt===void 0||rt.call(_e,ut||ct.session),next(et)}function retryLater(_e,et,tt){setTimeout$1(function(){processSessionStoreOperations(_e,et,tt+1)},LOCK_RETRY_DELAY)}function next(_e){ongoingOperations=void 0;var et=bufferedOperations.shift();et&&processSessionStoreOperations(et,_e)}var STORAGE_POLL_DELAY=ONE_SECOND;function selectSessionStoreStrategyType(_e){switch(_e.sessionPersistence){case SessionPersistence.COOKIE:return selectCookieStrategy(_e);case SessionPersistence.LOCAL_STORAGE:return selectLocalStorageStrategy();case void 0:{var et=selectCookieStrategy(_e);return!et&&_e.allowFallbackToLocalStorage&&(et=selectLocalStorageStrategy()),et}default:display.error("Invalid session persistence '".concat(String(_e.sessionPersistence),"'"))}}function startSessionStore(_e,et,tt){var rt=new Observable$1,nt=new Observable$1,it=new Observable$1,at=_e.type===SessionPersistence.COOKIE?initCookieStrategy(_e.cookieOptions):initLocalStorageStrategy(),ot=at.expireSession,st=setInterval$1(pt,STORAGE_POLL_DELAY),lt;yt();var ct=throttle$1(function(){processSessionStoreOperations({process:function(wt){if(!isSessionInNotStartedState(wt)){var _t=ht(wt);return mt(_t),_t}},after:function(wt){isSessionStarted(wt)&&!gt()&&xt(wt),lt=wt}},at)},STORAGE_POLL_DELAY),ut=ct.throttled,dt=ct.cancel;function ft(){processSessionStoreOperations({process:function(wt){return gt()?ht(wt):void 0}},at)}function pt(){processSessionStoreOperations({process:function(wt){return isSessionInExpiredState(wt)?getExpiredSessionState(wt):void 0},after:ht},at)}function ht(wt){return isSessionInExpiredState(wt)&&(wt=getExpiredSessionState(wt)),gt()&&(vt(wt)?St():(it.notify({previousState:lt,newState:wt}),lt=wt)),wt}function yt(){processSessionStoreOperations({process:function(wt){if(isSessionInNotStartedState(wt))return getExpiredSessionState(wt)},after:function(wt){lt=wt}},at)}function mt(wt){if(isSessionInNotStartedState(wt))return!1;var _t=tt(wt[et]),Ot=_t.trackingType,kt=_t.isTracked;wt[et]=Ot,delete wt.isExpired,kt&&!wt.id&&(wt.id=generateUUID(),wt.created=String(dateNow()))}function gt(){return lt[et]!==void 0}function vt(wt){return lt.id!==wt.id||lt[et]!==wt[et]}function St(){lt=getExpiredSessionState(lt),nt.notify()}function xt(wt){lt=wt,rt.notify()}function Ct(wt){processSessionStoreOperations({process:function(_t){return assign$3({},_t,wt)},after:ht},at)}return{expandOrRenewSession:ut,expandSession:ft,getSession:function(){return lt},renewObservable:rt,expireObservable:nt,sessionStateUpdateObservable:it,restartSession:yt,expire:function(){dt(),ot(lt),ht(getExpiredSessionState(lt))},stop:function(){clearInterval$1(st)},updateSessionState:Ct}}var TrackingConsent={GRANTED:"granted",NOT_GRANTED:"not-granted"};function createTrackingConsentState(_e){var et=new Observable$1;return{tryToInit:function(tt){_e||(_e=tt)},update:function(tt){_e=tt,et.notify()},isGranted:function(){return _e===TrackingConsent.GRANTED},observable:et}}function jsonStringify(_e,et,tt){if(typeof _e!="object"||_e===null)return JSON.stringify(_e);var rt=detachToJsonMethod(Object.prototype),nt=detachToJsonMethod(Array.prototype),it=detachToJsonMethod(Object.getPrototypeOf(_e)),at=detachToJsonMethod(_e);try{return JSON.stringify(_e,et,tt)}catch{return"<error: unable to serialize object>"}finally{rt(),nt(),it(),at()}}function detachToJsonMethod(_e){var et=_e,tt=et.toJSON;return tt?(delete et.toJSON,function(){et.toJSON=tt}):noop$7}function normalizeUrl(_e){return buildUrl(_e,location.href).href}function isValidUrl(_e){try{return!!buildUrl(_e)}catch{return!1}}function getPathName(_e){var et=buildUrl(_e).pathname;return et[0]==="/"?et:"/".concat(et)}function buildUrl(_e,et){var tt=getSupportedUrl();if(tt)try{return et!==void 0?new tt(_e,et):new tt(_e)}catch(at){throw new Error("Failed to construct URL: ".concat(String(at)," ").concat(jsonStringify({url:_e,base:et})))}if(et===void 0&&!/:/.test(_e))throw new Error("Invalid URL: '".concat(_e,"'"));var rt=document,nt=rt.createElement("a");if(et!==void 0){rt=document.implementation.createHTMLDocument("");var it=rt.createElement("base");it.href=et,rt.head.appendChild(it),rt.body.appendChild(nt)}return nt.href=_e,nt}var originalURL=URL,isURLSupported;function getSupportedUrl(){if(isURLSupported===void 0)try{var _e=new originalURL("http://test/path");isURLSupported=_e.href==="http://test/path"}catch{isURLSupported=!1}return isURLSupported?originalURL:void 0}var INTAKE_SITE_STAGING="datad0g.com",INTAKE_SITE_FED_STAGING="dd0g-gov.com",INTAKE_SITE_US1="datadoghq.com",INTAKE_SITE_EU1="datadoghq.eu",INTAKE_SITE_US1_FED="ddog-gov.com",PCI_INTAKE_HOST_US1="pci.browser-intake-datadoghq.com",INTAKE_URL_PARAMETERS=["ddsource","ddtags"];function createEndpointBuilder(_e,et,tt){var rt=createEndpointUrlWithParametersBuilder(_e,et);return{build:function(nt,it){var at=buildEndpointParameters(_e,et,tt,nt,it);return rt(at)},urlPrefix:rt(""),trackType:et}}function createEndpointUrlWithParametersBuilder(_e,et){var tt="/api/v2/".concat(et),rt=_e.proxy;if(typeof rt=="string"){var nt=normalizeUrl(rt);return function(at){return"".concat(nt,"?ddforward=").concat(encodeURIComponent("".concat(tt,"?").concat(at)))}}if(typeof rt=="function")return function(at){return rt({path:tt,parameters:at})};var it=buildEndpointHost(et,_e);return function(at){return"https://".concat(it).concat(tt,"?").concat(at)}}function buildEndpointHost(_e,et){var tt=et.site,rt=tt===void 0?INTAKE_SITE_US1:tt,nt=et.internalAnalyticsSubdomain;if(_e==="logs"&&et.usePciIntake&&rt===INTAKE_SITE_US1)return PCI_INTAKE_HOST_US1;if(nt&&rt===INTAKE_SITE_US1)return"".concat(nt,".").concat(INTAKE_SITE_US1);if(rt===INTAKE_SITE_FED_STAGING)return"http-intake.logs.".concat(rt);var it=rt.split("."),at=it.pop();return"browser-intake-".concat(it.join("-"),".").concat(at)}function buildEndpointParameters(_e,et,tt,rt,nt){var it=_e.clientToken,at=_e.internalAnalyticsSubdomain,ot=nt.retry,st=nt.encoding,lt=["sdk_version:".concat("5.35.0"),"api:".concat(rt)].concat(tt);ot&&lt.push("retry_count:".concat(ot.count),"retry_after:".concat(ot.lastFailureStatus));var ct=["ddsource=browser","ddtags=".concat(encodeURIComponent(lt.join(","))),"dd-api-key=".concat(it),"dd-evp-origin-version=".concat(encodeURIComponent("5.35.0")),"dd-evp-origin=browser","dd-request-id=".concat(generateUUID())];return st&&ct.push("dd-evp-encoding=".concat(st)),et==="rum"&&ct.push("batch_time=".concat(timeStampNow())),at&&ct.reverse(),ct.join("&")}var TAG_SIZE_LIMIT=200;function buildTags(_e){var et=_e.env,tt=_e.service,rt=_e.version,nt=_e.datacenter,it=[];return et&&it.push(buildTag("env",et)),tt&&it.push(buildTag("service",tt)),rt&&it.push(buildTag("version",rt)),nt&&it.push(buildTag("datacenter",nt)),it}function buildTag(_e,et){var tt=TAG_SIZE_LIMIT-_e.length-1;(et.length>tt||hasForbiddenCharacters(et))&&display.warn("".concat(_e," value doesn't meet tag requirements and will be sanitized. ").concat(MORE_DETAILS," ").concat(DOCS_ORIGIN,"/getting_started/tagging/#defining-tags"));var rt=et.replace(/,/g,"_");return"".concat(_e,":").concat(rt)}function hasForbiddenCharacters(_e){return supportUnicodePropertyEscapes()?new RegExp("[^\\p{Ll}\\p{Lo}0-9_:./-]","u").test(_e):!1}function supportUnicodePropertyEscapes(){try{return new RegExp("[\\p{Ll}]","u"),!0}catch{return!1}}function computeTransportConfiguration(_e){var et=_e.site||INTAKE_SITE_US1,tt=buildTags(_e),rt=computeEndpointBuilders(_e,tt),nt=computeReplicaConfiguration(_e,tt);return assign$3({replica:nt,site:et},rt)}function computeEndpointBuilders(_e,et){return{logsEndpointBuilder:createEndpointBuilder(_e,"logs",et),rumEndpointBuilder:createEndpointBuilder(_e,"rum",et),sessionReplayEndpointBuilder:createEndpointBuilder(_e,"replay",et)}}function computeReplicaConfiguration(_e,et){if(_e.replica){var tt=assign$3({},_e,{site:INTAKE_SITE_US1,clientToken:_e.replica.clientToken}),rt={logsEndpointBuilder:createEndpointBuilder(tt,"logs",et),rumEndpointBuilder:createEndpointBuilder(tt,"rum",et)};return assign$3({applicationId:_e.replica.applicationId},rt)}}function isIntakeUrl(_e){return INTAKE_URL_PARAMETERS.every(function(et){return includes(_e,et)})}var DefaultPrivacyLevel={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"},TraceContextInjection={ALL:"all",SAMPLED:"sampled"};function isString$4(_e,et){return _e!=null&&typeof _e!="string"?(display.error("".concat(et," must be defined as a string")),!1):!0}function isDatadogSite(_e){return _e&&typeof _e=="string"&&!/(datadog|ddog|datad0g|dd0g)/.test(_e)?(display.error("Site should be a valid Datadog site. ".concat(MORE_DETAILS," ").concat(DOCS_ORIGIN,"/getting_started/site/.")),!1):!0}function isSampleRate(_e,et){return _e!==void 0&&!isPercentage(_e)?(display.error("".concat(et," Sample Rate should be a number between 0 and 100")),!1):!0}function validateAndBuildConfiguration(_e){var et,tt,rt,nt,it;if(!_e||!_e.clientToken){display.error("Client Token is not configured, we will not send any data.");return}if(!(!isDatadogSite(_e.site)||!isSampleRate(_e.sessionSampleRate,"Session")||!isSampleRate(_e.telemetrySampleRate,"Telemetry")||!isSampleRate(_e.telemetryConfigurationSampleRate,"Telemetry Configuration")||!isSampleRate(_e.telemetryUsageSampleRate,"Telemetry Usage")||!isString$4(_e.version,"Version")||!isString$4(_e.env,"Env")||!isString$4(_e.service,"Service"))){if(_e.trackingConsent!==void 0&&!objectHasValue(TrackingConsent,_e.trackingConsent)){display.error('Tracking Consent should be either "granted" or "not-granted"');return}return assign$3({beforeSend:_e.beforeSend&&catchUserErrors(_e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:selectSessionStoreStrategyType(_e),sessionSampleRate:(et=_e.sessionSampleRate)!==null&&et!==void 0?et:100,telemetrySampleRate:(tt=_e.telemetrySampleRate)!==null&&tt!==void 0?tt:20,telemetryConfigurationSampleRate:(rt=_e.telemetryConfigurationSampleRate)!==null&&rt!==void 0?rt:5,telemetryUsageSampleRate:(nt=_e.telemetryUsageSampleRate)!==null&&nt!==void 0?nt:5,service:_e.service||void 0,silentMultipleInit:!!_e.silentMultipleInit,allowUntrustedEvents:!!_e.allowUntrustedEvents,trackingConsent:(it=_e.trackingConsent)!==null&&it!==void 0?it:TrackingConsent.GRANTED,storeContextsAcrossPages:!!_e.storeContextsAcrossPages,batchBytesLimit:16*ONE_KIBI_BYTE,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*ONE_SECOND,batchMessagesLimit:50,messageBytesLimit:256*ONE_KIBI_BYTE},computeTransportConfiguration(_e))}}function serializeConfiguration(_e){return{session_sample_rate:_e.sessionSampleRate,telemetry_sample_rate:_e.telemetrySampleRate,telemetry_configuration_sample_rate:_e.telemetryConfigurationSampleRate,telemetry_usage_sample_rate:_e.telemetryUsageSampleRate,use_before_send:!!_e.beforeSend,use_cross_site_session_cookie:_e.useCrossSiteSessionCookie,use_partitioned_cross_site_session_cookie:_e.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:_e.useSecureSessionCookie,use_proxy:!!_e.proxy,silent_multiple_init:_e.silentMultipleInit,track_session_across_subdomains:_e.trackSessionAcrossSubdomains,session_persistence:_e.sessionPersistence,allow_fallback_to_local_storage:!!_e.allowFallbackToLocalStorage,store_contexts_across_pages:!!_e.storeContextsAcrossPages,allow_untrusted_events:!!_e.allowUntrustedEvents,tracking_consent:_e.trackingConsent}}var UNKNOWN_FUNCTION="?";function computeStackTrace(_e){var et=[],tt=tryToGetString(_e,"stack"),rt=String(_e);return tt&&startsWith(tt,rt)&&(tt=tt.slice(rt.length)),tt&&tt.split(`
`).forEach(function(nt){var it=parseChromeLine(nt)||parseChromeAnonymousLine(nt)||parseWinLine(nt)||parseGeckoLine(nt);it&&(!it.func&&it.line&&(it.func=UNKNOWN_FUNCTION),et.push(it))}),{message:tryToGetString(_e,"message"),name:tryToGetString(_e,"name"),stack:et}}var fileUrl="((?:file|https?|blob|chrome-extension|electron|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",filePosition="(?::(\\d+))",CHROME_LINE_RE=new RegExp("^\\s*at (.*?) ?\\(".concat(fileUrl).concat(filePosition,"?").concat(filePosition,"?\\)?\\s*$"),"i"),CHROME_EVAL_RE=new RegExp("\\((\\S*)".concat(filePosition).concat(filePosition,"\\)"));function parseChromeLine(_e){var et=CHROME_LINE_RE.exec(_e);if(et){var tt=et[2]&&et[2].indexOf("native")===0,rt=et[2]&&et[2].indexOf("eval")===0,nt=CHROME_EVAL_RE.exec(et[2]);return rt&&nt&&(et[2]=nt[1],et[3]=nt[2],et[4]=nt[3]),{args:tt?[et[2]]:[],column:et[4]?+et[4]:void 0,func:et[1]||UNKNOWN_FUNCTION,line:et[3]?+et[3]:void 0,url:tt?void 0:et[2]}}}var CHROME_ANONYMOUS_FUNCTION_RE=new RegExp("^\\s*at ?".concat(fileUrl).concat(filePosition,"?").concat(filePosition,"??\\s*$"),"i");function parseChromeAnonymousLine(_e){var et=CHROME_ANONYMOUS_FUNCTION_RE.exec(_e);if(et)return{args:[],column:et[3]?+et[3]:void 0,func:UNKNOWN_FUNCTION,line:et[2]?+et[2]:void 0,url:et[1]}}var WINJS_LINE_RE=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function parseWinLine(_e){var et=WINJS_LINE_RE.exec(_e);if(et)return{args:[],column:et[4]?+et[4]:void 0,func:et[1]||UNKNOWN_FUNCTION,line:+et[3],url:et[2]}}var GECKO_LINE_RE=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,GECKO_EVAL_RE=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function parseGeckoLine(_e){var et=GECKO_LINE_RE.exec(_e);if(et){var tt=et[3]&&et[3].indexOf(" > eval")>-1,rt=GECKO_EVAL_RE.exec(et[3]);return tt&&rt&&(et[3]=rt[1],et[4]=rt[2],et[5]=void 0),{args:et[2]?et[2].split(","):[],column:et[5]?+et[5]:void 0,func:et[1]||UNKNOWN_FUNCTION,line:et[4]?+et[4]:void 0,url:et[3]}}}function tryToGetString(_e,et){if(!(typeof _e!="object"||!_e||!(et in _e))){var tt=_e[et];return typeof tt=="string"?tt:void 0}}function computeStackTraceFromOnErrorMessage(_e,et,tt,rt){var nt=[{url:et,column:rt,line:tt}],it=tryToParseMessage(_e),at=it.name,ot=it.message;return{name:at,message:ot,stack:nt}}var ERROR_TYPES_RE=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;function tryToParseMessage(_e){var et,tt,rt;return{}.toString.call(_e)==="[object String]"&&(et=ERROR_TYPES_RE.exec(_e),tt=et[1],rt=et[2]),{name:tt,message:rt}}function createHandlingStack(){var _e=2,et=new Error,tt;if(!et.stack)try{throw et}catch{}return callMonitored(function(){var rt=computeStackTrace(et);rt.stack=rt.stack.slice(_e),tt=toStackTraceString(rt)}),tt}function toStackTraceString(_e){var et=formatErrorMessage(_e);return _e.stack.forEach(function(tt){var rt=tt.func==="?"?"<anonymous>":tt.func,nt=tt.args&&tt.args.length>0?"(".concat(tt.args.join(", "),")"):"",it=tt.line?":".concat(tt.line):"",at=tt.line&&tt.column?":".concat(tt.column):"";et+=`
  at `.concat(rt).concat(nt," @ ").concat(tt.url).concat(it).concat(at)}),et}function formatErrorMessage(_e){return"".concat(_e.name||"Error",": ").concat(_e.message)}function instrumentMethod(_e,et,tt,rt){var nt=rt===void 0?{}:rt,it=nt.computeHandlingStack,at=_e[et];if(typeof at!="function")if(et in _e&&startsWith(et,"on"))at=noop$7;else return{stop:noop$7};var ot=!1,st=function(){if(ot)return at.apply(this,arguments);var lt=arrayFrom(arguments),ct;callMonitored(tt,null,[{target:this,parameters:lt,onPostCall:function(dt){ct=dt},handlingStack:it?createHandlingStack():void 0}]);var ut=at.apply(this,lt);return ct&&callMonitored(ct,null,[ut]),ut};return _e[et]=st,{stop:function(){ot=!0,_e[et]===st&&(_e[et]=at)}}}function instrumentSetter(_e,et,tt){var rt=Object.getOwnPropertyDescriptor(_e,et);if(!rt||!rt.set||!rt.configurable)return{stop:noop$7};var nt=noop$7,it=function(ot,st){setTimeout$1(function(){it!==nt&&tt(ot,st)},0)},at=function(ot){rt.set.call(this,ot),it(this,ot)};return Object.defineProperty(_e,et,{set:at}),{stop:function(){var ot;((ot=Object.getOwnPropertyDescriptor(_e,et))===null||ot===void 0?void 0:ot.set)===at&&Object.defineProperty(_e,et,rt),it=nt}}}var SANITIZE_DEFAULT_MAX_CHARACTER_COUNT=220*ONE_KIBI_BYTE,JSON_PATH_ROOT_ELEMENT="$",KEY_DECORATION_LENGTH=3;function sanitize$1(_e,et){et===void 0&&(et=SANITIZE_DEFAULT_MAX_CHARACTER_COUNT);var tt=detachToJsonMethod(Object.prototype),rt=detachToJsonMethod(Array.prototype),nt=[],it=new WeakMap,at=sanitizeProcessor(_e,JSON_PATH_ROOT_ELEMENT,void 0,nt,it),ot=JSON.stringify(at),st=ot?ot.length:0;if(st>et){warnOverCharacterLimit(et,"discarded",_e);return}for(;nt.length>0&&st<et;){var lt=nt.shift(),ct=0;if(Array.isArray(lt.source))for(var ut=0;ut<lt.source.length;ut++){var dt=sanitizeProcessor(lt.source[ut],lt.path,ut,nt,it);if(dt!==void 0?st+=JSON.stringify(dt).length:st+=4,st+=ct,ct=1,st>et){warnOverCharacterLimit(et,"truncated",_e);break}lt.target[ut]=dt}else for(var ut in lt.source)if(Object.prototype.hasOwnProperty.call(lt.source,ut)){var dt=sanitizeProcessor(lt.source[ut],lt.path,ut,nt,it);if(dt!==void 0&&(st+=JSON.stringify(dt).length+ct+ut.length+KEY_DECORATION_LENGTH,ct=1),st>et){warnOverCharacterLimit(et,"truncated",_e);break}lt.target[ut]=dt}}return tt(),rt(),at}function sanitizeProcessor(_e,et,tt,rt,nt){var it=tryToApplyToJSON(_e);if(!it||typeof it!="object")return sanitizePrimitivesAndFunctions(it);var at=sanitizeObjects(it);if(at!=="[Object]"&&at!=="[Array]"&&at!=="[Error]")return at;var ot=_e;if(nt.has(ot))return"[Reference seen at ".concat(nt.get(ot),"]");var st=tt!==void 0?"".concat(et,".").concat(tt):et,lt=Array.isArray(it)?[]:{};return nt.set(ot,st),rt.push({source:it,target:lt,path:st}),lt}function sanitizePrimitivesAndFunctions(_e){return typeof _e=="bigint"?"[BigInt] ".concat(_e.toString()):typeof _e=="function"?"[Function] ".concat(_e.name||"unknown"):typeof _e=="symbol"?"[Symbol] ".concat(_e.description||_e.toString()):_e}function sanitizeObjects(_e){try{if(_e instanceof Event)return{isTrusted:_e.isTrusted};var et=Object.prototype.toString.call(_e),tt=et.match(/\[object (.*)\]/);if(tt&&tt[1])return"[".concat(tt[1],"]")}catch{}return"[Unserializable]"}function tryToApplyToJSON(_e){var et=_e;if(et&&typeof et.toJSON=="function")try{return et.toJSON()}catch{}return _e}function warnOverCharacterLimit(_e,et,tt){display.warn("The data provided has been ".concat(et," as it is over the limit of ").concat(_e," characters:"),tt)}var NO_ERROR_STACK_PRESENT_MESSAGE="No stack, consider using an instance of Error";function computeRawError(_e){var et=_e.stackTrace,tt=_e.originalError,rt=_e.handlingStack,nt=_e.startClocks,it=_e.nonErrorPrefix,at=_e.source,ot=_e.handling,st=isError(tt),lt=computeMessage(et,st,it,tt),ct=hasUsableStack(st,et)?toStackTraceString(et):NO_ERROR_STACK_PRESENT_MESSAGE,ut=st?flattenErrorCauses(tt,at):void 0,dt=et?et.name:void 0,ft=tryToGetFingerprint(tt);return{startClocks:nt,source:at,handling:ot,handlingStack:rt,originalError:tt,type:dt,message:lt,stack:ct,causes:ut,fingerprint:ft}}function computeMessage(_e,et,tt,rt){return _e!=null&&_e.message&&(_e!=null&&_e.name)?_e.message:et?"Empty message":"".concat(tt," ").concat(jsonStringify(sanitize$1(rt)))}function hasUsableStack(_e,et){return et===void 0?!1:_e?!0:et.stack.length>0&&(et.stack.length>1||et.stack[0].url!==void 0)}function tryToGetFingerprint(_e){return isError(_e)&&"dd_fingerprint"in _e?String(_e.dd_fingerprint):void 0}function getFileFromStackTraceString(_e){var et;return(et=/@ (.+)/.exec(_e))===null||et===void 0?void 0:et[1]}function isError(_e){return _e instanceof Error||Object.prototype.toString.call(_e)==="[object Error]"}function flattenErrorCauses(_e,et){for(var tt=_e,rt=[];isError(tt==null?void 0:tt.cause)&&rt.length<10;){var nt=computeStackTrace(tt.cause);rt.push({message:tt.cause.message,source:et,type:nt==null?void 0:nt.name,stack:nt&&toStackTraceString(nt)}),tt=tt.cause}return rt.length?rt:void 0}var ErrorSource={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function trackRuntimeError(_e){var et=function(nt,it){var at=computeRawError({stackTrace:nt,originalError:it,startClocks:clocksNow(),nonErrorPrefix:"Uncaught",source:ErrorSource.SOURCE,handling:"unhandled"});_e.notify(at)},tt=instrumentOnError(et).stop,rt=instrumentUnhandledRejection(et).stop;return{stop:function(){tt(),rt()}}}function instrumentOnError(_e){return instrumentMethod(window,"onerror",function(et){var tt=et.parameters,rt=tt[0],nt=tt[1],it=tt[2],at=tt[3],ot=tt[4],st;isError(ot)?st=computeStackTrace(ot):st=computeStackTraceFromOnErrorMessage(rt,nt,it,at),_e(st,ot??rt)})}function instrumentUnhandledRejection(_e){return instrumentMethod(window,"onunhandledrejection",function(et){var tt=et.parameters[0],rt=tt.reason||"Empty reason",nt=computeStackTrace(rt);_e(nt,rt)})}function makePublicApi(_e){var et=assign$3({version:"5.35.0",onReady:function(tt){tt()}},_e);return Object.defineProperty(et,"_setDebug",{get:function(){return setDebugMode},enumerable:!1}),et}function defineGlobal(_e,et,tt){var rt=_e[et];rt&&!rt.q&&rt.version&&display.warn("SDK is loaded more than once. This is unsupported and might have unexpected behavior."),_e[et]=tt,rt&&rt.q&&rt.q.forEach(function(nt){return catchUserErrors(nt,"onReady callback threw an error:")()})}function displayAlreadyInitializedError(_e,et){et.silentMultipleInit||display.error("".concat(_e," is already initialized."))}function addEventListener$1(_e,et,tt,rt,nt){return addEventListeners(_e,et,[tt],rt,nt)}function addEventListeners(_e,et,tt,rt,nt){var it=nt===void 0?{}:nt,at=it.once,ot=it.capture,st=it.passive,lt=monitor(function(pt){!pt.isTrusted&&!pt.__ddIsTrusted&&!_e.allowUntrustedEvents||(at&&ft(),rt(pt))}),ct=st?{capture:ot,passive:st}:ot,ut=window.EventTarget&&et instanceof EventTarget?window.EventTarget.prototype:et,dt=getZoneJsOriginalValue(ut,"addEventListener");tt.forEach(function(pt){return dt.call(et,pt,lt,ct)});function ft(){var pt=getZoneJsOriginalValue(ut,"removeEventListener");tt.forEach(function(ht){return pt.call(et,ht,lt,ct)})}return{stop:ft}}var RawReportType={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function initReportObservable(_e,et){var tt=[];includes(et,RawReportType.cspViolation)&&tt.push(createCspViolationReportObservable(_e));var rt=et.filter(function(nt){return nt!==RawReportType.cspViolation});return rt.length&&tt.push(createReportObservable(rt)),mergeObservables.apply(void 0,tt)}function createReportObservable(_e){return new Observable$1(function(et){if(window.ReportingObserver){var tt=monitor(function(nt,it){return nt.forEach(function(at){return et.notify(buildRawReportErrorFromReport(at))})}),rt=new window.ReportingObserver(tt,{types:_e,buffered:!0});return rt.observe(),function(){rt.disconnect()}}})}function createCspViolationReportObservable(_e){return new Observable$1(function(et){var tt=addEventListener$1(_e,document,"securitypolicyviolation",function(rt){et.notify(buildRawReportErrorFromCspViolation(rt))}).stop;return tt})}function buildRawReportErrorFromReport(_e){var et=_e.type,tt=_e.body;return buildRawReportError({type:tt.id,message:"".concat(et,": ").concat(tt.message),originalError:_e,stack:buildStack(tt.id,tt.message,tt.sourceFile,tt.lineNumber,tt.columnNumber)})}function buildRawReportErrorFromCspViolation(_e){var et="'".concat(_e.blockedURI,"' blocked by '").concat(_e.effectiveDirective,"' directive");return buildRawReportError({type:_e.effectiveDirective,message:"".concat(RawReportType.cspViolation,": ").concat(et),originalError:_e,csp:{disposition:_e.disposition},stack:buildStack(_e.effectiveDirective,_e.originalPolicy?"".concat(et,' of the policy "').concat(safeTruncate(_e.originalPolicy,100,"..."),'"'):"no policy",_e.sourceFile,_e.lineNumber,_e.columnNumber)})}function buildRawReportError(_e){return assign$3({startClocks:clocksNow(),source:ErrorSource.REPORT,handling:"unhandled"},_e)}function buildStack(_e,et,tt,rt,nt){return tt?toStackTraceString({name:_e,message:et,stack:[{func:"?",url:tt,line:rt??void 0,column:nt??void 0}]}):void 0}function sendToExtension(_e,et){var tt=window.__ddBrowserSdkExtensionCallback;tt&&tt({type:_e,payload:et})}function mergeInto(_e,et,tt){if(tt===void 0&&(tt=createCircularReferenceChecker()),et===void 0)return _e;if(typeof et!="object"||et===null)return et;if(et instanceof Date)return new Date(et.getTime());if(et instanceof RegExp){var rt=et.flags||[et.global?"g":"",et.ignoreCase?"i":"",et.multiline?"m":"",et.sticky?"y":"",et.unicode?"u":""].join("");return new RegExp(et.source,rt)}if(!tt.hasAlreadyBeenSeen(et)){if(Array.isArray(et)){for(var nt=Array.isArray(_e)?_e:[],it=0;it<et.length;++it)nt[it]=mergeInto(nt[it],et[it],tt);return nt}var at=getType(_e)==="object"?_e:{};for(var ot in et)Object.prototype.hasOwnProperty.call(et,ot)&&(at[ot]=mergeInto(at[ot],et[ot],tt));return at}}function deepClone(_e){return mergeInto(void 0,_e)}function combine(){for(var _e=[],et=0;et<arguments.length;et++)_e[et]=arguments[et];for(var tt,rt=0,nt=_e;rt<nt.length;rt++){var it=nt[rt];it!=null&&(tt=mergeInto(tt,it))}return tt}function createCircularReferenceChecker(){if(typeof WeakSet<"u"){var _e=new WeakSet;return{hasAlreadyBeenSeen:function(tt){var rt=_e.has(tt);return rt||_e.add(tt),rt}}}var et=[];return{hasAlreadyBeenSeen:function(tt){var rt=et.indexOf(tt)>=0;return rt||et.push(tt),rt}}}function getConnectivity(){var _e,et=window.navigator;return{status:et.onLine?"connected":"not_connected",interfaces:et.connection&&et.connection.type?[et.connection.type]:void 0,effective_type:(_e=et.connection)===null||_e===void 0?void 0:_e.effectiveType}}function removeDuplicates(_e){var et=new Set;return _e.forEach(function(tt){return et.add(tt)}),arrayFrom(et)}function removeItem$1(_e,et){var tt=_e.indexOf(et);tt>=0&&_e.splice(tt,1)}var BUFFER_LIMIT=500;function createBoundedBuffer(){var _e=[],et=function(nt){var it=_e.push(nt);it>BUFFER_LIMIT&&_e.splice(0,1)},tt=function(nt){removeItem$1(_e,nt)},rt=function(nt){_e.forEach(function(it){return it(nt)}),_e.length=0};return{add:et,remove:tt,drain:rt}}var TelemetryType={log:"log",configuration:"configuration",usage:"usage"},ALLOWED_FRAME_URLS=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"],TELEMETRY_EXCLUDED_SITES=[INTAKE_SITE_US1_FED],preStartTelemetryBuffer=createBoundedBuffer(),onRawTelemetryEventCollected=function(_e){preStartTelemetryBuffer.add(function(){return onRawTelemetryEventCollected(_e)})};function startTelemetry(_e,et){var tt,rt,nt=new Observable$1,it=new Set,at=!includes(TELEMETRY_EXCLUDED_SITES,et.site)&&performDraw(et.telemetrySampleRate),ot=(tt={},tt[TelemetryType.log]=at,tt[TelemetryType.configuration]=at&&performDraw(et.telemetryConfigurationSampleRate),tt[TelemetryType.usage]=at&&performDraw(et.telemetryUsageSampleRate),tt),st=getRuntimeEnvInfo();onRawTelemetryEventCollected=function(ct){var ut=jsonStringify(ct);if(ot[ct.type]&&it.size<et.maxTelemetryEventsPerPage&&!it.has(ut)){var dt=lt(_e,ct,st);nt.notify(dt),sendToExtension("telemetry",dt),it.add(ut)}},startMonitorErrorCollection(addTelemetryError);function lt(ct,ut,dt){return combine({type:"telemetry",date:timeStampNow(),service:ct,version:"5.35.0",source:"browser",_dd:{format_version:2},telemetry:combine(ut,{runtime_env:dt,connectivity:getConnectivity(),sdk_setup:"npm"}),experimental_features:arrayFrom(getExperimentalFeatures())},rt!==void 0?rt():{})}return{setContextProvider:function(ct){rt=ct},observable:nt,enabled:at}}function getRuntimeEnvInfo(){return{is_local_file:window.location.protocol==="file:",is_worker:"WorkerGlobalScope"in self}}function drainPreStartTelemetry(){preStartTelemetryBuffer.drain()}function isTelemetryReplicationAllowed(_e){return _e.site===INTAKE_SITE_STAGING}function addTelemetryDebug(_e,et){displayIfDebugEnabled(ConsoleApiName.debug,_e,et),onRawTelemetryEventCollected(assign$3({type:TelemetryType.log,message:_e,status:"debug"},et))}function addTelemetryError(_e,et){onRawTelemetryEventCollected(assign$3({type:TelemetryType.log,status:"error"},formatError(_e),et))}function addTelemetryConfiguration(_e){onRawTelemetryEventCollected({type:TelemetryType.configuration,configuration:_e})}function addTelemetryUsage(_e){onRawTelemetryEventCollected({type:TelemetryType.usage,usage:_e})}function formatError(_e){if(isError(_e)){var et=computeStackTrace(_e);return{error:{kind:et.name,stack:toStackTraceString(scrubCustomerFrames(et))},message:et.message}}return{error:{stack:NO_ERROR_STACK_PRESENT_MESSAGE},message:"".concat("Uncaught"," ").concat(jsonStringify(_e))}}function scrubCustomerFrames(_e){return _e.stack=_e.stack.filter(function(et){return!et.url||ALLOWED_FRAME_URLS.some(function(tt){return startsWith(et.url,tt)})}),_e}var END_OF_TIMES=1/0,CLEAR_OLD_VALUES_INTERVAL=ONE_MINUTE;function createValueHistory(_e){var et=_e.expireDelay,tt=_e.maxEntries,rt=[],nt=setInterval$1(function(){return it()},CLEAR_OLD_VALUES_INTERVAL);function it(){for(var dt=relativeNow()-et;rt.length>0&&rt[rt.length-1].endTime<dt;)rt.pop()}function at(dt,ft){var pt={value:dt,startTime:ft,endTime:END_OF_TIMES,remove:function(){removeItem$1(rt,pt)},close:function(ht){pt.endTime=ht}};return tt&&rt.length>=tt&&rt.pop(),rt.unshift(pt),pt}function ot(dt,ft){dt===void 0&&(dt=END_OF_TIMES),ft===void 0&&(ft={returnInactive:!1});for(var pt=0,ht=rt;pt<ht.length;pt++){var yt=ht[pt];if(yt.startTime<=dt){if(ft.returnInactive||dt<=yt.endTime)return yt.value;break}}}function st(dt){var ft=rt[0];ft&&ft.endTime===END_OF_TIMES&&ft.close(dt)}function lt(dt,ft){dt===void 0&&(dt=END_OF_TIMES),ft===void 0&&(ft=0);var pt=addDuration(dt,ft);return rt.filter(function(ht){return ht.startTime<=pt&&dt<=ht.endTime}).map(function(ht){return ht.value})}function ct(){rt=[]}function ut(){clearInterval$1(nt)}return{add:at,find:ot,closeActive:st,findAll:lt,reset:ct,stop:ut}}var VISIBILITY_CHECK_DELAY=ONE_MINUTE,SESSION_CONTEXT_TIMEOUT_DELAY=SESSION_TIME_OUT_DELAY;function startSessionManager(_e,et,tt,rt){var nt=new Observable$1,it=new Observable$1,at=startSessionStore(_e.sessionStoreStrategyType,et,tt),ot=createValueHistory({expireDelay:SESSION_CONTEXT_TIMEOUT_DELAY});at.renewObservable.subscribe(function(){ot.add(st(),relativeNow()),nt.notify()}),at.expireObservable.subscribe(function(){it.notify(),ot.closeActive(relativeNow())}),at.expandOrRenewSession(),ot.add(st(),clocksOrigin().relative),rt.observable.subscribe(function(){rt.isGranted()?at.expandOrRenewSession():at.expire()}),trackActivity(_e,function(){rt.isGranted()&&at.expandOrRenewSession()}),trackVisibility(_e,function(){return at.expandSession()}),trackResume(_e,function(){return at.restartSession()});function st(){return{id:at.getSession().id,trackingType:at.getSession()[et],isReplayForced:!!at.getSession().forcedReplay,anonymousId:at.getSession().anonymousId}}return{findSession:function(lt,ct){return ot.find(lt,ct)},renewObservable:nt,expireObservable:it,sessionStateUpdateObservable:at.sessionStateUpdateObservable,expire:at.expire,updateSessionState:at.updateSessionState}}function trackActivity(_e,et){addEventListeners(_e,window,["click","touchstart","keydown","scroll"],et,{capture:!0,passive:!0}).stop}function trackVisibility(_e,et){var tt=function(){document.visibilityState==="visible"&&et()};addEventListener$1(_e,document,"visibilitychange",tt).stop,setInterval$1(tt,VISIBILITY_CHECK_DELAY)}function trackResume(_e,et){addEventListener$1(_e,window,"resume",et,{capture:!0}).stop}function isServerError(_e){return _e>=500}function tryToClone(_e){try{return _e.clone()}catch{return}}var MAX_ONGOING_BYTES_COUNT=80*ONE_KIBI_BYTE,MAX_ONGOING_REQUESTS=32,MAX_QUEUE_BYTES_COUNT=3*ONE_MEBI_BYTE,MAX_BACKOFF_TIME=ONE_MINUTE,INITIAL_BACKOFF_TIME=ONE_SECOND;function sendWithRetryStrategy(_e,et,tt,rt,nt){et.transportStatus===0&&et.queuedPayloads.size()===0&&et.bandwidthMonitor.canHandle(_e)?send(_e,et,tt,{onSuccess:function(){return retryQueuedPayloads(0,et,tt,rt,nt)},onFailure:function(){et.queuedPayloads.enqueue(_e),scheduleRetry(et,tt,rt,nt)}}):et.queuedPayloads.enqueue(_e)}function scheduleRetry(_e,et,tt,rt){_e.transportStatus===2&&setTimeout$1(function(){var nt=_e.queuedPayloads.first();send(nt,_e,et,{onSuccess:function(){_e.queuedPayloads.dequeue(),_e.currentBackoffTime=INITIAL_BACKOFF_TIME,retryQueuedPayloads(1,_e,et,tt,rt)},onFailure:function(){_e.currentBackoffTime=Math.min(MAX_BACKOFF_TIME,_e.currentBackoffTime*2),scheduleRetry(_e,et,tt,rt)}})},_e.currentBackoffTime)}function send(_e,et,tt,rt){var nt=rt.onSuccess,it=rt.onFailure;et.bandwidthMonitor.add(_e),tt(_e,function(at){et.bandwidthMonitor.remove(_e),shouldRetryRequest(at)?(et.transportStatus=et.bandwidthMonitor.ongoingRequestCount>0?1:2,_e.retry={count:_e.retry?_e.retry.count+1:1,lastFailureStatus:at.status},it()):(et.transportStatus=0,nt())})}function retryQueuedPayloads(_e,et,tt,rt,nt){_e===0&&et.queuedPayloads.isFull()&&!et.queueFullReported&&(nt({message:"Reached max ".concat(rt," events size queued for upload: ").concat(MAX_QUEUE_BYTES_COUNT/ONE_MEBI_BYTE,"MiB"),source:ErrorSource.AGENT,startClocks:clocksNow()}),et.queueFullReported=!0);var it=et.queuedPayloads;for(et.queuedPayloads=newPayloadQueue();it.size()>0;)sendWithRetryStrategy(it.dequeue(),et,tt,rt,nt)}function shouldRetryRequest(_e){return _e.type!=="opaque"&&(_e.status===0&&!navigator.onLine||_e.status===408||_e.status===429||isServerError(_e.status))}function newRetryState(){return{transportStatus:0,currentBackoffTime:INITIAL_BACKOFF_TIME,bandwidthMonitor:newBandwidthMonitor(),queuedPayloads:newPayloadQueue(),queueFullReported:!1}}function newPayloadQueue(){var _e=[];return{bytesCount:0,enqueue:function(et){this.isFull()||(_e.push(et),this.bytesCount+=et.bytesCount)},first:function(){return _e[0]},dequeue:function(){var et=_e.shift();return et&&(this.bytesCount-=et.bytesCount),et},size:function(){return _e.length},isFull:function(){return this.bytesCount>=MAX_QUEUE_BYTES_COUNT}}}function newBandwidthMonitor(){return{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(_e){return this.ongoingRequestCount===0||this.ongoingByteCount+_e.bytesCount<=MAX_ONGOING_BYTES_COUNT&&this.ongoingRequestCount<MAX_ONGOING_REQUESTS},add:function(_e){this.ongoingRequestCount+=1,this.ongoingByteCount+=_e.bytesCount},remove:function(_e){this.ongoingRequestCount-=1,this.ongoingByteCount-=_e.bytesCount}}}function createHttpRequest(_e,et,tt){var rt=newRetryState(),nt=function(it,at){return fetchKeepAliveStrategy(_e,et,it,at)};return{send:function(it){sendWithRetryStrategy(it,rt,nt,_e.trackType,tt)},sendOnExit:function(it){sendBeaconStrategy(_e,et,it)}}}function sendBeaconStrategy(_e,et,tt){var rt=!!navigator.sendBeacon&&tt.bytesCount<et;if(rt)try{var nt=_e.build("beacon",tt),it=navigator.sendBeacon(nt,tt.data);if(it)return}catch(ot){reportBeaconError(ot)}var at=_e.build("xhr",tt);sendXHR(at,tt.data)}var hasReportedBeaconError=!1;function reportBeaconError(_e){hasReportedBeaconError||(hasReportedBeaconError=!0,addTelemetryError(_e))}function fetchKeepAliveStrategy(_e,et,tt,rt){var nt=isKeepAliveSupported()&&tt.bytesCount<et;if(nt){var it=_e.build("fetch",tt);fetch(it,{method:"POST",body:tt.data,keepalive:!0,mode:"cors"}).then(monitor(function(ot){return rt==null?void 0:rt({status:ot.status,type:ot.type})}),monitor(function(){var ot=_e.build("xhr",tt);sendXHR(ot,tt.data,rt)}))}else{var at=_e.build("xhr",tt);sendXHR(at,tt.data,rt)}}function isKeepAliveSupported(){try{return window.Request&&"keepalive"in new Request("http://a")}catch{return!1}}function sendXHR(_e,et,tt){var rt=new XMLHttpRequest;rt.open("POST",_e,!0),et instanceof Blob&&rt.setRequestHeader("Content-Type",et.type),addEventListener$1({allowUntrustedEvents:!0},rt,"loadend",function(){tt==null||tt({status:rt.status})},{once:!0}),rt.send(et)}function getEventBridge(){var _e=getEventBridgeGlobal();if(_e)return{getCapabilities:function(){var et;return JSON.parse(((et=_e.getCapabilities)===null||et===void 0?void 0:et.call(_e))||"[]")},getPrivacyLevel:function(){var et;return(et=_e.getPrivacyLevel)===null||et===void 0?void 0:et.call(_e)},getAllowedWebViewHosts:function(){return JSON.parse(_e.getAllowedWebViewHosts())},send:function(et,tt,rt){var nt=rt?{id:rt}:void 0;_e.send(JSON.stringify({eventType:et,event:tt,view:nt}))}}}function bridgeSupports(_e){var et=getEventBridge();return!!et&&includes(et.getCapabilities(),_e)}function canUseEventBridge(_e){var et;_e===void 0&&(_e=(et=getGlobalObject().location)===null||et===void 0?void 0:et.hostname);var tt=getEventBridge();return!!tt&&tt.getAllowedWebViewHosts().some(function(rt){return _e===rt||endsWith$1(_e,".".concat(rt))})}function getEventBridgeGlobal(){return getGlobalObject().DatadogEventBridge}var PageExitReason={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function createPageExitObservable(_e){return new Observable$1(function(et){var tt=addEventListeners(_e,window,["visibilitychange","freeze"],function(nt){nt.type==="visibilitychange"&&document.visibilityState==="hidden"?et.notify({reason:PageExitReason.HIDDEN}):nt.type==="freeze"&&et.notify({reason:PageExitReason.FROZEN})},{capture:!0}).stop,rt=addEventListener$1(_e,window,"beforeunload",function(){et.notify({reason:PageExitReason.UNLOADING})}).stop;return function(){tt(),rt()}})}function isPageExitReason(_e){return includes(objectValues(PageExitReason),_e)}function createBatch(_e){var et=_e.encoder,tt=_e.request,rt=_e.flushController,nt=_e.messageBytesLimit,it={},at=rt.flushObservable.subscribe(function(dt){return ut(dt)});function ot(dt,ft,pt){rt.notifyBeforeAddMessage(ft),pt!==void 0?(it[pt]=dt,rt.notifyAfterAddMessage()):et.write(et.isEmpty?dt:`
`.concat(dt),function(ht){rt.notifyAfterAddMessage(ht-ft)})}function st(dt){return dt!==void 0&&it[dt]!==void 0}function lt(dt){var ft=it[dt];delete it[dt];var pt=et.estimateEncodedBytesCount(ft);rt.notifyAfterRemoveMessage(pt)}function ct(dt,ft){var pt=jsonStringify(dt),ht=et.estimateEncodedBytesCount(pt);if(ht>=nt){display.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(nt,"KB. ").concat(MORE_DETAILS," ").concat(DOCS_TROUBLESHOOTING,"/#technical-limitations"));return}st(ft)&&lt(ft),ot(pt,ht,ft)}function ut(dt){var ft=objectValues(it).join(`
`);it={};var pt=isPageExitReason(dt.reason),ht=pt?tt.sendOnExit:tt.send;if(pt&&et.isAsync){var yt=et.finishSync();yt.outputBytesCount&&ht(formatPayloadFromEncoder(yt));var mt=[yt.pendingData,ft].filter(Boolean).join(`
`);mt&&ht({data:mt,bytesCount:computeBytesCount(mt)})}else ft&&et.write(et.isEmpty?ft:`
`.concat(ft)),et.finish(function(gt){ht(formatPayloadFromEncoder(gt))})}return{flushController:rt,add:ct,upsert:ct,stop:at.unsubscribe}}function formatPayloadFromEncoder(_e){var et;return typeof _e.output=="string"?et=_e.output:et=new Blob([_e.output],{type:"text/plain"}),{data:et,bytesCount:_e.outputBytesCount,encoding:_e.encoding}}function createFlushController(_e){var et=_e.messagesLimit,tt=_e.bytesLimit,rt=_e.durationLimit,nt=_e.pageExitObservable,it=_e.sessionExpireObservable,at=nt.subscribe(function(ht){return ut(ht.reason)}),ot=it.subscribe(function(){return ut("session_expire")}),st=new Observable$1(function(){return function(){at.unsubscribe(),ot.unsubscribe()}}),lt=0,ct=0;function ut(ht){if(ct!==0){var yt=ct,mt=lt;ct=0,lt=0,pt(),st.notify({reason:ht,messagesCount:yt,bytesCount:mt})}}var dt;function ft(){dt===void 0&&(dt=setTimeout$1(function(){ut("duration_limit")},rt))}function pt(){clearTimeout$1(dt),dt=void 0}return{flushObservable:st,get messagesCount(){return ct},notifyBeforeAddMessage:function(ht){lt+ht>=tt&&ut("bytes_limit"),ct+=1,lt+=ht,ft()},notifyAfterAddMessage:function(ht){ht===void 0&&(ht=0),lt+=ht,ct>=et?ut("messages_limit"):lt>=tt&&ut("bytes_limit")},notifyAfterRemoveMessage:function(ht){lt-=ht,ct-=1,ct===0&&pt()}}}function startBatchWithReplica(_e,et,tt,rt,nt,it,at){at===void 0&&(at=createBatch);var ot=lt(_e,et),st=tt&&lt(_e,tt);function lt(ct,ut){var dt=ut.endpoint,ft=ut.encoder;return at({encoder:ft,request:createHttpRequest(dt,ct.batchBytesLimit,rt),flushController:createFlushController({messagesLimit:ct.batchMessagesLimit,bytesLimit:ct.batchBytesLimit,durationLimit:ct.flushTimeout,pageExitObservable:nt,sessionExpireObservable:it}),messageBytesLimit:ct.messageBytesLimit})}return{flushObservable:ot.flushController.flushObservable,add:function(ct,ut){ut===void 0&&(ut=!0),ot.add(ct),st&&ut&&st.add(tt.transformMessage?tt.transformMessage(ct):ct)},upsert:function(ct,ut){ot.upsert(ct,ut),st&&st.upsert(tt.transformMessage?tt.transformMessage(ct):ct,ut)},stop:function(){ot.stop(),st&&st.stop()}}}function createIdentityEncoder(){var _e="",et=0;return{isAsync:!1,get isEmpty(){return!_e},write:function(tt,rt){var nt=computeBytesCount(tt);et+=nt,_e+=tt,rt&&rt(nt)},finish:function(tt){tt(this.finishSync())},finishSync:function(){var tt={output:_e,outputBytesCount:et,rawBytesCount:et,pendingData:""};return _e="",et=0,tt},estimateEncodedBytesCount:function(tt){return tt.length}}}var AbstractLifeCycle=function(){function _e(){this.callbacks={}}return _e.prototype.notify=function(et,tt){var rt=this.callbacks[et];rt&&rt.forEach(function(nt){return nt(tt)})},_e.prototype.subscribe=function(et,tt){var rt=this;return this.callbacks[et]||(this.callbacks[et]=[]),this.callbacks[et].push(tt),{unsubscribe:function(){rt.callbacks[et]=rt.callbacks[et].filter(function(nt){return tt!==nt})}}},_e}();function createEventRateLimiter(_e,et,tt){var rt=0,nt=!1;return{isLimitReached:function(){if(rt===0&&setTimeout$1(function(){rt=0},ONE_MINUTE),rt+=1,rt<=et||nt)return nt=!1,!1;if(rt===et+1){nt=!0;try{tt({message:"Reached max number of ".concat(_e,"s by minute: ").concat(et),source:ErrorSource.AGENT,startClocks:clocksNow()})}finally{nt=!1}}return!0}}}function runOnReadyState(_e,et,tt){if(document.readyState===et||document.readyState==="complete")return tt(),{stop:noop$7};var rt=et==="complete"?"load":"DOMContentLoaded";return addEventListener$1(_e,window,rt,tt,{once:!0})}var xhrObservable,xhrContexts=new WeakMap;function initXhrObservable(_e){return xhrObservable||(xhrObservable=createXhrObservable(_e)),xhrObservable}function createXhrObservable(_e){return new Observable$1(function(et){var tt=instrumentMethod(XMLHttpRequest.prototype,"open",openXhr).stop,rt=instrumentMethod(XMLHttpRequest.prototype,"send",function(it){sendXhr(it,_e,et)},{computeHandlingStack:!0}).stop,nt=instrumentMethod(XMLHttpRequest.prototype,"abort",abortXhr).stop;return function(){tt(),rt(),nt()}})}function openXhr(_e){var et=_e.target,tt=_e.parameters,rt=tt[0],nt=tt[1];xhrContexts.set(et,{state:"open",method:String(rt).toUpperCase(),url:normalizeUrl(String(nt))})}function sendXhr(_e,et,tt){var rt=_e.target,nt=_e.handlingStack,it=xhrContexts.get(rt);if(it){var at=it;at.state="start",at.startClocks=clocksNow(),at.isAborted=!1,at.xhr=rt,at.handlingStack=nt;var ot=!1,st=instrumentMethod(rt,"onreadystatechange",function(){rt.readyState===XMLHttpRequest.DONE&&lt()}).stop,lt=function(){if(ct(),st(),!ot){ot=!0;var ut=it;ut.state="complete",ut.duration=elapsed(at.startClocks.timeStamp,timeStampNow()),ut.status=rt.status,tt.notify(shallowClone(ut))}},ct=addEventListener$1(et,rt,"loadend",lt).stop;tt.notify(at)}}function abortXhr(_e){var et=_e.target,tt=xhrContexts.get(et);tt&&(tt.isAborted=!0)}var fetchObservable;function initFetchObservable(){return fetchObservable||(fetchObservable=createFetchObservable()),fetchObservable}function createFetchObservable(){return new Observable$1(function(_e){if(window.fetch){var et=instrumentMethod(window,"fetch",function(tt){return beforeSend(tt,_e)},{computeHandlingStack:!0}).stop;return et}})}function beforeSend(_e,et){var tt=_e.parameters,rt=_e.onPostCall,nt=_e.handlingStack,it=tt[0],at=tt[1],ot=at&&at.method;ot===void 0&&it instanceof Request&&(ot=it.method);var st=ot!==void 0?String(ot).toUpperCase():"GET",lt=it instanceof Request?it.url:normalizeUrl(String(it)),ct=clocksNow(),ut={state:"start",init:at,input:it,method:st,startClocks:ct,url:lt,handlingStack:nt};et.notify(ut),tt[0]=ut.input,tt[1]=ut.init,rt(function(dt){return afterSend(et,dt,ut)})}function afterSend(_e,et,tt){var rt=tt;function nt(it){rt.state="resolve",assign$3(rt,it),_e.notify(rt)}et.then(monitor(function(it){nt({response:it,responseType:it.type,status:it.status,isAborted:!1})}),monitor(function(it){var at,ot;nt({status:0,isAborted:((ot=(at=rt.init)===null||at===void 0?void 0:at.signal)===null||ot===void 0?void 0:ot.aborted)||it instanceof DOMException&&it.code===DOMException.ABORT_ERR,error:it})}))}function requestIdleCallback(_e,et){if(window.requestIdleCallback&&window.cancelIdleCallback){var tt=window.requestIdleCallback(monitor(_e),et);return function(){return window.cancelIdleCallback(tt)}}return requestIdleCallbackShim(_e)}var MAX_TASK_TIME=50;function requestIdleCallbackShim(_e){var et=dateNow(),tt=setTimeout$1(function(){_e({didTimeout:!1,timeRemaining:function(){return Math.max(0,MAX_TASK_TIME-(dateNow()-et))}})},0);return function(){return clearTimeout$1(tt)}}var IDLE_CALLBACK_TIMEOUT=ONE_SECOND,MAX_EXECUTION_TIME_ON_TIMEOUT=30;function createTaskQueue(){var _e=[];function et(rt){var nt;if(rt.didTimeout){var it=performance.now();nt=function(){return MAX_EXECUTION_TIME_ON_TIMEOUT-(performance.now()-it)}}else nt=rt.timeRemaining.bind(rt);for(;nt()>0&&_e.length;)_e.shift()();_e.length&&tt()}function tt(){requestIdleCallback(et,{timeout:IDLE_CALLBACK_TIMEOUT})}return{push:function(rt){_e.push(rt)===1&&tt()}}}var consoleObservablesByApi={};function initConsoleObservable(_e){var et=_e.map(function(tt){return consoleObservablesByApi[tt]||(consoleObservablesByApi[tt]=createConsoleObservable(tt)),consoleObservablesByApi[tt]});return mergeObservables.apply(void 0,et)}function createConsoleObservable(_e){return new Observable$1(function(et){var tt=globalConsole[_e];return globalConsole[_e]=function(){for(var rt=[],nt=0;nt<arguments.length;nt++)rt[nt]=arguments[nt];tt.apply(console,rt);var it=createHandlingStack();callMonitored(function(){et.notify(buildConsoleLog(rt,_e,it))})},function(){globalConsole[_e]=tt}})}function buildConsoleLog(_e,et,tt){var rt=_e.map(function(at){return formatConsoleParameters(at)}).join(" "),nt;if(et===ConsoleApiName.error){var it=find(_e,isError);nt={stack:it?toStackTraceString(computeStackTrace(it)):void 0,fingerprint:tryToGetFingerprint(it),causes:it?flattenErrorCauses(it,"console"):void 0,startClocks:clocksNow(),message:rt,source:ErrorSource.CONSOLE,handling:"handled",handlingStack:tt}}return{api:et,message:rt,error:nt,handlingStack:tt}}function formatConsoleParameters(_e){return typeof _e=="string"?sanitize$1(_e):isError(_e)?formatErrorMessage(computeStackTrace(_e)):jsonStringify(sanitize$1(_e),void 0,2)}function createContextManager(_e){var et={},tt=new Observable$1,rt={getContext:function(){return deepClone(et)},setContext:function(nt){getType(nt)==="object"?(et=sanitize$1(nt),_e==null||_e.updateCustomerData(et)):rt.clearContext(),tt.notify()},setContextProperty:function(nt,it){et[nt]=sanitize$1(it),_e==null||_e.updateCustomerData(et),tt.notify()},removeContextProperty:function(nt){delete et[nt],_e==null||_e.updateCustomerData(et),tt.notify()},clearContext:function(){et={},_e==null||_e.resetCustomerData(),tt.notify()},changeObservable:tt};return rt}var CONTEXT_STORE_KEY_PREFIX="_dd_c",storageListeners=[];function storeContextManager(_e,et,tt,rt){var nt=buildStorageKey(tt,rt);storageListeners.push(addEventListener$1(_e,window,"storage",function(st){var lt=st.key;nt===lt&&it()})),et.changeObservable.subscribe(at),et.setContext(combine(ot(),et.getContext()));function it(){et.setContext(ot())}function at(){localStorage.setItem(nt,JSON.stringify(et.getContext()))}function ot(){var st=localStorage.getItem(nt);return st!==null?JSON.parse(st):{}}}function buildStorageKey(_e,et){return"".concat(CONTEXT_STORE_KEY_PREFIX,"_").concat(_e,"_").concat(et)}var CUSTOMER_DATA_BYTES_LIMIT=3*ONE_KIBI_BYTE,CUSTOMER_COMPRESSED_DATA_BYTES_LIMIT=16*ONE_KIBI_BYTE,BYTES_COMPUTATION_THROTTLING_DELAY=200;function createCustomerDataTrackerManager(_e){_e===void 0&&(_e=2);var et=new Map,tt=!1;function rt(nt){if(nt===void 0&&(nt=0),!(tt||_e===0)){var it=_e===2?CUSTOMER_DATA_BYTES_LIMIT:CUSTOMER_COMPRESSED_DATA_BYTES_LIMIT,at=nt;et.forEach(function(ot){at+=ot.getBytesCount()}),at>it&&(displayCustomerDataLimitReachedWarning(it),tt=!0)}}return{createDetachedTracker:function(){var nt=createCustomerDataTracker(function(){return rt(nt.getBytesCount())});return nt},getOrCreateTracker:function(nt){return et.has(nt)||et.set(nt,createCustomerDataTracker(rt)),et.get(nt)},setCompressionStatus:function(nt){_e===0&&(_e=nt,rt())},getCompressionStatus:function(){return _e},stop:function(){et.forEach(function(nt){return nt.stop()}),et.clear()}}}function createCustomerDataTracker(_e){var et=0,tt=throttle$1(function(at){et=computeBytesCount(jsonStringify(at)),_e()},BYTES_COMPUTATION_THROTTLING_DELAY),rt=tt.throttled,nt=tt.cancel,it=function(){nt(),et=0};return{updateCustomerData:function(at){isEmptyObject$1(at)?it():rt(at)},resetCustomerData:it,getBytesCount:function(){return et},stop:function(){nt()}}}function displayCustomerDataLimitReachedWarning(_e){display.warn("Customer data exceeds the recommended ".concat(_e/ONE_KIBI_BYTE,"KiB threshold. ").concat(MORE_DETAILS," ").concat(DOCS_TROUBLESHOOTING,"/#customer-data-exceeds-the-recommended-threshold-warning"))}function readBytesFromStream(_e,et,tt){var rt=_e.getReader(),nt=[],it=0;at();function at(){rt.read().then(monitor(function(st){if(st.done){ot();return}tt.collectStreamBody&&nt.push(st.value),it+=st.value.length,it>tt.bytesLimit?ot():at()}),monitor(function(st){return et(st)}))}function ot(){rt.cancel().catch(noop$7);var st,lt;if(tt.collectStreamBody){var ct;if(nt.length===1)ct=nt[0];else{ct=new Uint8Array(it);var ut=0;nt.forEach(function(dt){ct.set(dt,ut),ut+=dt.length})}st=ct.slice(0,tt.bytesLimit),lt=ct.length>tt.bytesLimit}et(void 0,st,lt)}}var SYNTHETICS_TEST_ID_COOKIE_NAME="datadog-synthetics-public-id",SYNTHETICS_RESULT_ID_COOKIE_NAME="datadog-synthetics-result-id",SYNTHETICS_INJECTS_RUM_COOKIE_NAME="datadog-synthetics-injects-rum";function willSyntheticsInjectRum(){return!!(window._DATADOG_SYNTHETICS_INJECTS_RUM||getInitCookie(SYNTHETICS_INJECTS_RUM_COOKIE_NAME))}function getSyntheticsTestId(){var _e=window._DATADOG_SYNTHETICS_PUBLIC_ID||getInitCookie(SYNTHETICS_TEST_ID_COOKIE_NAME);return typeof _e=="string"?_e:void 0}function getSyntheticsResultId(){var _e=window._DATADOG_SYNTHETICS_RESULT_ID||getInitCookie(SYNTHETICS_RESULT_ID_COOKIE_NAME);return typeof _e=="string"?_e:void 0}function isMatchOption(_e){var et=getType(_e);return et==="string"||et==="function"||_e instanceof RegExp}function matchList(_e,et,tt){return tt===void 0&&(tt=!1),_e.some(function(rt){try{if(typeof rt=="function")return rt(et);if(rt instanceof RegExp)return rt.test(et);if(typeof rt=="string")return tt?startsWith(et,rt):rt===et}catch(nt){display.error(nt)}return!1})}var _a$4;function isAuthorized(_e,et,tt){var rt=tt.getHandler(),nt=Array.isArray(rt)?rt:[rt];return STATUS_PRIORITIES[_e]>=STATUS_PRIORITIES[tt.getLevel()]&&includes(nt,et)}var StatusType={ok:"ok",debug:"debug",info:"info",notice:"notice",warn:"warn",error:"error",critical:"critical",alert:"alert",emerg:"emerg"},STATUS_PRIORITIES=(_a$4={},_a$4[StatusType.ok]=0,_a$4[StatusType.debug]=1,_a$4[StatusType.info]=2,_a$4[StatusType.notice]=4,_a$4[StatusType.warn]=5,_a$4[StatusType.error]=6,_a$4[StatusType.critical]=7,_a$4[StatusType.alert]=8,_a$4[StatusType.emerg]=9,_a$4);function createErrorFieldFromRawError(_e,et){var tt=et===void 0?{}:et,rt=tt.includeMessage,nt=rt===void 0?!1:rt;return{stack:_e.stack,kind:_e.type,message:nt?_e.message:void 0,causes:_e.causes,fingerprint:_e.fingerprint,handling:_e.handling}}var __decorate=function(_e,et,tt,rt){var nt=arguments.length,it=nt<3?et:rt===null?rt=Object.getOwnPropertyDescriptor(et,tt):rt,at;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")it=Reflect.decorate(_e,et,tt,rt);else for(var ot=_e.length-1;ot>=0;ot--)(at=_e[ot])&&(it=(nt<3?at(it):nt>3?at(et,tt,it):at(et,tt))||it);return nt>3&&it&&Object.defineProperty(et,tt,it),it},HandlerType={console:"console",http:"http",silent:"silent"},STATUSES=Object.keys(StatusType),Logger$1=function(){function _e(et,tt,rt,nt,it,at){nt===void 0&&(nt=HandlerType.http),it===void 0&&(it=StatusType.debug),at===void 0&&(at={}),this.handleLogStrategy=et,this.handlerType=nt,this.level=it,this.contextManager=createContextManager(tt),this.contextManager.setContext(at),rt&&this.contextManager.setContextProperty("logger",{name:rt})}return _e.prototype.logImplementation=function(et,tt,rt,nt,it){rt===void 0&&(rt=StatusType.info);var at=sanitize$1(tt),ot;if(nt!=null){var st=computeRawError({stackTrace:isError(nt)?computeStackTrace(nt):void 0,originalError:nt,nonErrorPrefix:"Provided",source:ErrorSource.LOGGER,handling:"handled",startClocks:clocksNow()});ot=combine({error:createErrorFieldFromRawError(st,{includeMessage:!0})},at)}else ot=at;this.handleLogStrategy({message:sanitize$1(et),context:ot,status:rt},this,it)},_e.prototype.log=function(et,tt,rt,nt){rt===void 0&&(rt=StatusType.info);var it;isAuthorized(rt,HandlerType.http,this)&&(it=createHandlingStack()),this.logImplementation(et,tt,rt,nt,it)},_e.prototype.setContext=function(et){this.contextManager.setContext(et)},_e.prototype.getContext=function(){return this.contextManager.getContext()},_e.prototype.setContextProperty=function(et,tt){this.contextManager.setContextProperty(et,tt)},_e.prototype.removeContextProperty=function(et){this.contextManager.removeContextProperty(et)},_e.prototype.clearContext=function(){this.contextManager.clearContext()},_e.prototype.setHandler=function(et){this.handlerType=et},_e.prototype.getHandler=function(){return this.handlerType},_e.prototype.setLevel=function(et){this.level=et},_e.prototype.getLevel=function(){return this.level},__decorate([monitored],_e.prototype,"logImplementation",null),_e}();Logger$1.prototype.ok=createLoggerMethod(StatusType.ok);Logger$1.prototype.debug=createLoggerMethod(StatusType.debug);Logger$1.prototype.info=createLoggerMethod(StatusType.info);Logger$1.prototype.notice=createLoggerMethod(StatusType.notice);Logger$1.prototype.warn=createLoggerMethod(StatusType.warn);Logger$1.prototype.error=createLoggerMethod(StatusType.error);Logger$1.prototype.critical=createLoggerMethod(StatusType.critical);Logger$1.prototype.alert=createLoggerMethod(StatusType.alert);Logger$1.prototype.emerg=createLoggerMethod(StatusType.emerg);function createLoggerMethod(_e){return function(et,tt,rt){var nt;isAuthorized(_e,HandlerType.http,this)&&(nt=createHandlingStack()),this.logImplementation(et,tt,_e,rt,nt)}}function buildCommonContext$1(_e,et){return{view:{referrer:document.referrer,url:window.location.href},context:_e.getContext(),user:et.getContext()}}var DEFAULT_REQUEST_ERROR_RESPONSE_LENGTH_LIMIT=32*ONE_KIBI_BYTE;function validateAndBuildLogsConfiguration(_e){_e.usePciIntake===!0&&_e.site&&_e.site!=="datadoghq.com"&&display.warn("PCI compliance for Logs is only available for Datadog organizations in the US1 site. Default intake will be used.");var et=validateAndBuildConfiguration(_e),tt=validateAndBuildForwardOption(_e.forwardConsoleLogs,objectValues(ConsoleApiName),"Forward Console Logs"),rt=validateAndBuildForwardOption(_e.forwardReports,objectValues(RawReportType),"Forward Reports");if(!(!et||!tt||!rt))return _e.forwardErrorsToLogs&&!includes(tt,ConsoleApiName.error)&&tt.push(ConsoleApiName.error),assign$3({forwardErrorsToLogs:_e.forwardErrorsToLogs!==!1,forwardConsoleLogs:tt,forwardReports:rt,requestErrorResponseLengthLimit:DEFAULT_REQUEST_ERROR_RESPONSE_LENGTH_LIMIT,sendLogsAfterSessionExpiration:!!_e.sendLogsAfterSessionExpiration},et)}function validateAndBuildForwardOption(_e,et,tt){if(_e===void 0)return[];if(!(_e==="all"||Array.isArray(_e)&&_e.every(function(rt){return includes(et,rt)}))){display.error("".concat(tt,' should be "all" or an array with allowed values "').concat(et.join('", "'),'"'));return}return _e==="all"?et:removeDuplicates(_e)}function serializeLogsConfiguration(_e){var et=serializeConfiguration(_e);return assign$3({forward_errors_to_logs:_e.forwardErrorsToLogs,forward_console_logs:_e.forwardConsoleLogs,forward_reports:_e.forwardReports,use_pci_intake:_e.usePciIntake,send_logs_after_session_expiration:_e.sendLogsAfterSessionExpiration},et)}function createPreStartStrategy$2(_e,et,tt){var rt=createBoundedBuffer(),nt,it,at=et.observable.subscribe(ot);function ot(){if(!(!it||!nt||!et.isGranted())){at.unsubscribe();var st=tt(nt,it);rt.drain(st)}}return{init:function(st){if(!st){display.error("Missing configuration");return}if(initFeatureFlags(st.enableExperimentalFeatures),canUseEventBridge()&&(st=overrideInitConfigurationForBridge$1(st)),nt=st,it){displayAlreadyInitializedError("DD_LOGS",st);return}var lt=validateAndBuildLogsConfiguration(st);lt&&(it=lt,initFetchObservable().subscribe(noop$7),et.tryToInit(lt.trackingConsent),ot())},get initConfiguration(){return nt},getInternalContext:noop$7,handleLog:function(st,lt,ct,ut,dt){ut===void 0&&(ut=_e()),dt===void 0&&(dt=timeStampNow()),rt.add(function(ft){return ft.handleLog(st,lt,ct,ut,dt)})}}}function overrideInitConfigurationForBridge$1(_e){return assign$3({},_e,{clientToken:"empty"})}var LOGS_STORAGE_KEY="logs";function makeLogsPublicApi(_e){var et=createCustomerDataTrackerManager(),tt=createContextManager(et.getOrCreateTracker(2)),rt=createContextManager(et.getOrCreateTracker(1)),nt=createTrackingConsentState();function it(){return buildCommonContext$1(tt,rt)}var at=createPreStartStrategy$2(it,nt,function(lt,ct){lt.storeContextsAcrossPages&&(storeContextManager(ct,tt,LOGS_STORAGE_KEY,2),storeContextManager(ct,rt,LOGS_STORAGE_KEY,1));var ut=_e(lt,ct,it,nt);return at=createPostStartStrategy$2(lt,ut),ut}),ot={},st=new Logger$1(function(){for(var lt=[],ct=0;ct<arguments.length;ct++)lt[ct]=arguments[ct];return at.handleLog.apply(at,lt)},et.createDetachedTracker());return makePublicApi({logger:st,init:monitor(function(lt){return at.init(lt)}),setTrackingConsent:monitor(function(lt){nt.update(lt),addTelemetryUsage({feature:"set-tracking-consent",tracking_consent:lt})}),getGlobalContext:monitor(function(){return tt.getContext()}),setGlobalContext:monitor(function(lt){return tt.setContext(lt)}),setGlobalContextProperty:monitor(function(lt,ct){return tt.setContextProperty(lt,ct)}),removeGlobalContextProperty:monitor(function(lt){return tt.removeContextProperty(lt)}),clearGlobalContext:monitor(function(){return tt.clearContext()}),createLogger:monitor(function(lt,ct){return ct===void 0&&(ct={}),ot[lt]=new Logger$1(function(){for(var ut=[],dt=0;dt<arguments.length;dt++)ut[dt]=arguments[dt];return at.handleLog.apply(at,ut)},et.createDetachedTracker(),sanitize$1(lt),ct.handler,ct.level,sanitize$1(ct.context)),ot[lt]}),getLogger:monitor(function(lt){return ot[lt]}),getInitConfiguration:monitor(function(){return deepClone(at.initConfiguration)}),getInternalContext:monitor(function(lt){return at.getInternalContext(lt)}),setUser:monitor(function(lt){checkUser(lt)&&rt.setContext(sanitizeUser(lt))}),getUser:monitor(function(){return rt.getContext()}),setUserProperty:monitor(function(lt,ct){var ut,dt=sanitizeUser((ut={},ut[lt]=ct,ut))[lt];rt.setContextProperty(lt,dt)}),removeUserProperty:monitor(function(lt){return rt.removeContextProperty(lt)}),clearUser:monitor(function(){return rt.clearContext()})})}function createPostStartStrategy$2(_e,et){return assign$3({init:function(tt){displayAlreadyInitializedError("DD_LOGS",tt)},initConfiguration:_e},et)}var LOGS_SESSION_KEY="logs";function startLogsSessionManager(_e,et){var tt=startSessionManager(_e,LOGS_SESSION_KEY,function(rt){return computeSessionState$1(_e,rt)},et);return{findTrackedSession:function(rt,nt){nt===void 0&&(nt={returnInactive:!1});var it=tt.findSession(rt,nt);return it&&it.trackingType==="1"?{id:it.id}:void 0},expireObservable:tt.expireObservable}}function startLogsSessionManagerStub(_e){var et=computeTrackingType(_e)==="1",tt=et?{}:void 0;return{findTrackedSession:function(){return tt},expireObservable:new Observable$1}}function computeTrackingType(_e){return performDraw(_e.sessionSampleRate)?"1":"0"}function computeSessionState$1(_e,et){var tt=hasValidLoggerSession(et)?et:computeTrackingType(_e);return{trackingType:tt,isTracked:tt==="1"}}function hasValidLoggerSession(_e){return _e==="0"||_e==="1"}var logsSentBeforeRumInjectionTelemetryAdded=!1;function getRUMInternalContext(_e){var et=window;if(willSyntheticsInjectRum()){var tt=rt(et.DD_RUM_SYNTHETICS);return!tt&&!logsSentBeforeRumInjectionTelemetryAdded&&(logsSentBeforeRumInjectionTelemetryAdded=!0,addTelemetryDebug("Logs sent before RUM is injected by the synthetics worker",{testId:getSyntheticsTestId(),resultId:getSyntheticsResultId()})),tt}return rt(et.DD_RUM);function rt(nt){if(nt&&nt.getInternalContext)return nt.getInternalContext(_e)}}function startLogsAssembly(_e,et,tt,rt,nt){var it=STATUSES.concat(["custom"]),at={};it.forEach(function(ot){at[ot]=createEventRateLimiter(ot,et.eventRateLimiterThreshold,nt)}),tt.subscribe(0,function(ot){var st,lt,ct=ot.rawLogsEvent,ut=ot.messageContext,dt=ut===void 0?void 0:ut,ft=ot.savedCommonContext,pt=ft===void 0?void 0:ft,ht=ot.domainContext,yt=getRelativeTime(ct.date),mt=_e.findTrackedSession(yt);if(!(!mt&&(!et.sendLogsAfterSessionExpiration||!_e.findTrackedSession(yt,{returnInactive:!0})))){var gt=pt||rt(),vt=combine({service:et.service,session_id:mt?mt.id:void 0,session:mt?{id:mt.id}:void 0,usr:isEmptyObject$1(gt.user)?void 0:gt.user,view:gt.view},gt.context,getRUMInternalContext(yt),ct,dt);((st=et.beforeSend)===null||st===void 0?void 0:st.call(et,vt,ht))===!1||vt.origin!==ErrorSource.AGENT&&((lt=at[vt.status])!==null&&lt!==void 0?lt:at.custom).isLimitReached()||tt.notify(1,vt)}})}var _a$3,LogStatusForApi=(_a$3={},_a$3[ConsoleApiName.log]=StatusType.info,_a$3[ConsoleApiName.debug]=StatusType.debug,_a$3[ConsoleApiName.info]=StatusType.info,_a$3[ConsoleApiName.warn]=StatusType.warn,_a$3[ConsoleApiName.error]=StatusType.error,_a$3);function startConsoleCollection(_e,et){var tt=initConsoleObservable(_e.forwardConsoleLogs).subscribe(function(rt){var nt={rawLogsEvent:{date:timeStampNow(),message:rt.message,origin:ErrorSource.CONSOLE,error:rt.error&&createErrorFieldFromRawError(rt.error),status:LogStatusForApi[rt.api]},domainContext:{handlingStack:rt.handlingStack}};et.notify(0,nt)});return{stop:function(){tt.unsubscribe()}}}function startReportCollection(_e,et){var tt=initReportObservable(_e,_e.forwardReports).subscribe(function(rt){var nt=rt.message,it,at=rt.originalError.type==="deprecation"?StatusType.warn:StatusType.error;at===StatusType.error?it=createErrorFieldFromRawError(rt):rt.stack&&(nt+=" Found in ".concat(getFileFromStackTraceString(rt.stack))),et.notify(0,{rawLogsEvent:{date:timeStampNow(),message:nt,origin:ErrorSource.REPORT,error:it,status:at}})});return{stop:function(){tt.unsubscribe()}}}function startNetworkErrorCollection(_e,et){if(!_e.forwardErrorsToLogs)return{stop:noop$7};var tt=initXhrObservable(_e).subscribe(function(it){it.state==="complete"&&nt("xhr",it)}),rt=initFetchObservable().subscribe(function(it){it.state==="resolve"&&nt("fetch",it)});function nt(it,at){!isIntakeUrl(at.url)&&(isRejected(at)||isServerError(at.status))&&("xhr"in at?computeXhrResponseData(at.xhr,_e,ot):at.response?computeFetchResponseText(at.response,_e,ot):at.error&&computeFetchErrorText(at.error,_e,ot));function ot(st){var lt={isAborted:at.isAborted,handlingStack:at.handlingStack};et.notify(0,{rawLogsEvent:{message:"".concat(format(it)," error ").concat(at.method," ").concat(at.url),date:at.startClocks.timeStamp,error:{stack:st||"Failed to load",handling:void 0},http:{method:at.method,status_code:at.status,url:at.url},status:StatusType.error,origin:ErrorSource.NETWORK},domainContext:lt})}}return{stop:function(){tt.unsubscribe(),rt.unsubscribe()}}}function computeXhrResponseData(_e,et,tt){typeof _e.response=="string"?tt(truncateResponseText(_e.response,et)):tt(_e.response)}function computeFetchErrorText(_e,et,tt){tt(truncateResponseText(toStackTraceString(computeStackTrace(_e)),et))}function computeFetchResponseText(_e,et,tt){var rt=tryToClone(_e);!rt||!rt.body?tt():window.TextDecoder?truncateResponseStream(rt.body,et.requestErrorResponseLengthLimit,function(nt,it){tt(nt?"Unable to retrieve response: ".concat(nt):it)}):rt.text().then(monitor(function(nt){return tt(truncateResponseText(nt,et))}),monitor(function(nt){return tt("Unable to retrieve response: ".concat(nt))}))}function isRejected(_e){return _e.status===0&&_e.responseType!=="opaque"}function truncateResponseText(_e,et){return _e.length>et.requestErrorResponseLengthLimit?"".concat(_e.substring(0,et.requestErrorResponseLengthLimit),"..."):_e}function format(_e){return _e==="xhr"?"XHR":"Fetch"}function truncateResponseStream(_e,et,tt){readBytesFromStream(_e,function(rt,nt,it){if(rt)tt(rt);else{var at=new TextDecoder().decode(nt);it&&(at+="..."),tt(void 0,at)}},{bytesLimit:et,collectStreamBody:!0})}function startRuntimeErrorCollection(_e,et){if(!_e.forwardErrorsToLogs)return{stop:noop$7};var tt=new Observable$1,rt=trackRuntimeError(tt).stop,nt=tt.subscribe(function(it){et.notify(0,{rawLogsEvent:{message:it.message,date:it.startClocks.timeStamp,error:createErrorFieldFromRawError(it),origin:ErrorSource.SOURCE,status:StatusType.error}})});return{stop:function(){rt(),nt.unsubscribe()}}}var LifeCycle$1=AbstractLifeCycle,_a$2;function startLoggerCollection(_e){function et(tt,rt,nt,it,at){var ot=combine(rt.getContext(),tt.context);if(isAuthorized(tt.status,HandlerType.console,rt)&&displayInConsole(tt,ot),isAuthorized(tt.status,HandlerType.http,rt)){var st={rawLogsEvent:{date:at||timeStampNow(),message:tt.message,status:tt.status,origin:ErrorSource.LOGGER},messageContext:ot,savedCommonContext:it};nt&&(st.domainContext={handlingStack:nt}),_e.notify(0,st)}}return{handleLog:et}}var loggerToConsoleApiName=(_a$2={},_a$2[StatusType.ok]=ConsoleApiName.debug,_a$2[StatusType.debug]=ConsoleApiName.debug,_a$2[StatusType.info]=ConsoleApiName.info,_a$2[StatusType.notice]=ConsoleApiName.info,_a$2[StatusType.warn]=ConsoleApiName.warn,_a$2[StatusType.error]=ConsoleApiName.error,_a$2[StatusType.critical]=ConsoleApiName.error,_a$2[StatusType.alert]=ConsoleApiName.error,_a$2[StatusType.emerg]=ConsoleApiName.error,_a$2);function displayInConsole(_e,et){var tt=_e.status,rt=_e.message;originalConsoleMethods[loggerToConsoleApiName[tt]].call(globalConsole,rt,et)}function startLogsBatch(_e,et,tt,rt,nt){var it=startBatchWithReplica(_e,{endpoint:_e.logsEndpointBuilder,encoder:createIdentityEncoder()},_e.replica&&{endpoint:_e.replica.logsEndpointBuilder,encoder:createIdentityEncoder()},tt,rt,nt.expireObservable);return et.subscribe(1,function(at){it.add(at)}),it}function startLogsBridge(_e){var et=getEventBridge();_e.subscribe(1,function(tt){et.send("log",tt)})}function startInternalContext$1(_e){return{get:function(et){var tt=_e.findTrackedSession(et);if(tt)return{session_id:tt.id}}}}function startReportError(_e){return function(et){_e.notify(0,{rawLogsEvent:{message:et.message,date:et.startClocks.timeStamp,origin:ErrorSource.AGENT,status:StatusType.error}}),addTelemetryDebug("Error reported to customer",{"error.message":et.message})}}function startLogsTelemetry(_e,et,tt,rt,nt){var it=startTelemetry("browser-logs-sdk",et);it.setContextProvider(function(){var ut,dt,ft,pt,ht,yt;return{application:{id:(ut=getRUMInternalContext())===null||ut===void 0?void 0:ut.application_id},session:{id:(dt=nt.findTrackedSession())===null||dt===void 0?void 0:dt.id},view:{id:(pt=(ft=getRUMInternalContext())===null||ft===void 0?void 0:ft.view)===null||pt===void 0?void 0:pt.id},action:{id:(yt=(ht=getRUMInternalContext())===null||ht===void 0?void 0:ht.user_action)===null||yt===void 0?void 0:yt.id}}});var at=[];if(canUseEventBridge()){var ot=getEventBridge(),st=it.observable.subscribe(function(ut){return ot.send("internal_telemetry",ut)});at.push(function(){return st.unsubscribe()})}else{var lt=startBatchWithReplica(et,{endpoint:et.rumEndpointBuilder,encoder:createIdentityEncoder()},et.replica&&{endpoint:et.replica.rumEndpointBuilder,encoder:createIdentityEncoder()},tt,rt,nt.expireObservable);at.push(function(){return lt.stop()});var ct=it.observable.subscribe(function(ut){return lt.add(ut,isTelemetryReplicationAllowed(et))});at.push(function(){return ct.unsubscribe()})}return drainPreStartTelemetry(),addTelemetryConfiguration(serializeLogsConfiguration(_e)),{telemetry:it,stop:function(){at.forEach(function(ut){return ut()})}}}function startLogs(_e,et,tt,rt){var nt=new LifeCycle$1,it=[];nt.subscribe(1,function(ft){return sendToExtension("logs",ft)});var at=startReportError(nt),ot=createPageExitObservable(et),st=et.sessionStoreStrategyType&&!canUseEventBridge()&&!willSyntheticsInjectRum()?startLogsSessionManager(et,rt):startLogsSessionManagerStub(et),lt=startLogsTelemetry(_e,et,at,ot,st).stop;it.push(function(){return lt()}),startNetworkErrorCollection(et,nt),startRuntimeErrorCollection(et,nt),startConsoleCollection(et,nt),startReportCollection(et,nt);var ct=startLoggerCollection(nt).handleLog;if(startLogsAssembly(st,et,nt,tt,at),canUseEventBridge())startLogsBridge(nt);else{var ut=startLogsBatch(et,nt,at,ot,st).stop;it.push(function(){return ut()})}var dt=startInternalContext$1(st);return{handleLog:ct,getInternalContext:dt.get,stop:function(){it.forEach(function(ft){return ft()})}}}var datadogLogs=makeLogsPublicApi(startLogs);defineGlobal(getGlobalObject(),"DD_LOGS",datadogLogs);var LogLevel$1;(function(_e){_e[_e.always=0]="always",_e[_e.trace=100]="trace",_e[_e.debug=200]="debug",_e[_e.log=300]="log",_e[_e.info=300]="info",_e[_e.warn=400]="warn",_e[_e.error=500]="error",_e[_e.never=1e3]="never"})(LogLevel$1||(LogLevel$1={}));class LoggerImpl{constructor(et,tt,rt,nt,it){kr(this,"id");kr(this,"factory");kr(this,"router");kr(this,"level");kr(this,"$metadata",{});this.id=et,this.factory=tt,this.router=rt,this.level=nt,this.$metadata={...it}}log(et,tt,rt){if(et<this.level)return this;const nt=rt?rt():void 0;return this.router.log(this.level,{...this.$metadata,...nt,level:et,message:tt,ts:Date.now(),logger:this.id}),this}trace(et,tt){return this.log(LogLevel$1.trace,et,tt)}debug(et,tt){return this.log(LogLevel$1.debug,et,tt)}info(et,tt){return this.log(LogLevel$1.info,et,tt)}warn(et,tt){return this.log(LogLevel$1.warn,et,tt)}error(et,tt){return this.log(LogLevel$1.error,et,tt)}metadata(et){return this.$metadata=Object.assign(this.$metadata,et),this}extend(et){return Array.isArray(et)?this.factory.createLogger([this.id,...et],this.$metadata):this.factory.createLogger([this.id,et],this.$metadata)}}class LoggerConfigMatcher{constructor(et){kr(this,"options");this.options=et}getLoggerLevel(et){return this.options.match.test(et)?this.options.level:LogLevel$1.never}}const Ws=class Ws{constructor(et){kr(this,"transports");kr(this,"configs");kr(this,"metadata");kr(this,"defaultLevel");var tt;this.metadata=et.metadata,this.transports=et.transports.filter(rt=>rt!==null),this.defaultLevel=et.defaultLevel??LogLevel$1.log,this.configs=((tt=et.loggers)==null?void 0:tt.map(rt=>rt instanceof RegExp?new LoggerConfigMatcher({match:rt,level:LogLevel$1.debug}):rt instanceof Array?new LoggerConfigMatcher({match:rt[0],level:rt[1]}):new LoggerConfigMatcher(rt)))??null}setDefaultLevel(et){this.defaultLevel=et}getLoggerLevel(et){return this.configs==null?this.defaultLevel:this.configs.reduce((tt,rt)=>Math.min(rt.getLoggerLevel(et),tt),this.defaultLevel)}log(et,tt){this.transports.forEach(rt=>rt.log(et,tt))}createLogger(et,tt){const rt=et instanceof Array?et.join(Ws.Separator):et;return new LoggerImpl(rt,this,this,this.getLoggerLevel(rt),{...this.metadata,...tt})}async flush(){await Promise.all(this.transports.map(et=>et.flush()))}};kr(Ws,"Separator",".");let LoggerFactory=Ws;const ERROR_MATCHER=/at .*:\d+:\d+.*\n/g;function identifyError(_e){if(_e instanceof Error)return _e;if(typeof _e!="string")return null;let et=0;const tt=_e.matchAll(ERROR_MATCHER);for(const rt of tt)if(et++,et>2)return _e;return null}function hijackConsole(_e){const et=(tt,rt)=>{let nt="CONSOLE",it=rt,at=null;for(let ot=0;ot<rt.length;ot++){const st=rt[ot];if(at=identifyError(st),at!=null){it.splice(ot,1);break}}typeof it[0]=="string"?(nt=it[0],it=rt.slice(1)):at!=null&&(nt="EXCEPTION"),_e.log(tt,nt,()=>{const ot={};return it.length>0&&(ot.args=it),at&&(ot.error=at),ot})};console.log=(...tt)=>et(LogLevel$1.info,tt),console.debug=(...tt)=>et(LogLevel$1.debug,tt),console.info=(...tt)=>et(LogLevel$1.info,tt),console.warn=(...tt)=>et(LogLevel$1.warn,tt),console.error=(...tt)=>et(LogLevel$1.error,tt)}const globalObject=typeof global<"u"?global:window;globalObject.loggerFactory=null;function setLoggerFactory(_e){globalObject.loggerFactory=_e}function createLogger(_e,et){if(globalObject.loggerFactory==null)throw new Error("The logger framework must be configured via setLoggerFactory");return globalObject.loggerFactory.createLogger(_e,et)}class BatchLogTransport{constructor(et){kr(this,"timeout");kr(this,"queue",[]);kr(this,"queuePromise",null);kr(this,"timeoutHandle",null);this.timeout=et}flushSync(){const et=this.queue;this.queue=[],this.timeoutHandle=null;const tt=this.queuePromise??Promise.resolve();this.queuePromise=tt.finally(async()=>{await this.logBatch(et)})}async flush(){this.flushSync(),await this.queuePromise}log(et,tt){this.queue.push([et,tt]),this.timeoutHandle==null&&(this.timeoutHandle=setTimeout(()=>this.flush(),this.timeout))}}class BrowserConsoleLogTransport extends BatchLogTransport{constructor(tt){super((tt==null?void 0:tt.timeout)??200);kr(this,"$debug",console.debug);kr(this,"$info",console.info);kr(this,"$warn",console.warn);kr(this,"$error",console.error);kr(this,"$log",console.log)}formatTimestamp(tt){const rt=new Date(tt);return`${rt.getHours().toString().padStart(2,"0")}:${rt.getMinutes().toString().padStart(2,"0")}:${rt.getSeconds().toString().padStart(2,"0")}.${rt.getMilliseconds().toString().padStart(3,"0")}`}format({level:tt,logger:rt,message:nt,ts:it,...at}){return[`${this.formatTimestamp(it)} - ${LogLevel$1[tt].padEnd(5," ").toUpperCase()} - ${rt} - ${nt}`,at]}async logBatch(tt){try{for(let rt=0;rt<tt.length;rt++){const[nt,it]=tt[rt],at=it.level,[ot,st]=this.format(it);switch(at){case LogLevel$1.trace:case LogLevel$1.debug:this.$debug(ot,st);break;case LogLevel$1.info:this.$info(ot,st);break;case LogLevel$1.warn:this.$warn(ot,st);break;case LogLevel$1.error:this.$error(ot,st);break;default:this.$log(ot,st)}}}catch(rt){console.error("ConsoleLogTransport - Failure",rt)}}}class HttpLogTransport{constructor(et){kr(this,"url");kr(this,"pendingPromises",new Set);this.url=et}async flush(){await Promise.allSettled(Array.from(this.pendingPromises))}log(et,tt){const rt=fetch(this.url,{method:"POST",body:JSON.stringify({...tt})}).catch(()=>null);this.pendingPromises.add(rt),rt.finally(()=>{this.pendingPromises.delete(rt)})}}class BrowserDatadogLogTransport extends BatchLogTransport{constructor(tt){super(100);kr(this,"datadogLogger");this.datadogLogger=tt}async logBatch(tt){try{for(let rt=0;rt<tt.length;rt++){const[nt,it]=tt[rt],{level:at,message:ot,ts:st,...lt}=it;switch(at){case LogLevel$1.trace:case LogLevel$1.debug:this.datadogLogger.debug(ot,lt);break;case LogLevel$1.info:this.datadogLogger.info(ot,lt);break;case LogLevel$1.warn:this.datadogLogger.warn(ot,lt);break;case LogLevel$1.error:this.datadogLogger.error(ot,lt);break;default:this.datadogLogger.log(ot,lt)}}}catch(rt){console.error("DatadogLogTransport - Failure",rt)}}}var reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_e){function et(Tt,Rt){var Ft=Tt.length;Tt.push(Rt);e:for(;0<Ft;){var jt=Ft-1>>>1,nr=Tt[jt];if(0<nt(nr,Rt))Tt[jt]=Rt,Tt[Ft]=nr,Ft=jt;else break e}}function tt(Tt){return Tt.length===0?null:Tt[0]}function rt(Tt){if(Tt.length===0)return null;var Rt=Tt[0],Ft=Tt.pop();if(Ft!==Rt){Tt[0]=Ft;e:for(var jt=0,nr=Tt.length,cr=nr>>>1;jt<cr;){var ur=2*(jt+1)-1,pr=Tt[ur],xr=ur+1,vr=Tt[xr];if(0>nt(pr,Ft))xr<nr&&0>nt(vr,pr)?(Tt[jt]=vr,Tt[xr]=Ft,jt=xr):(Tt[jt]=pr,Tt[ur]=Ft,jt=ur);else if(xr<nr&&0>nt(vr,Ft))Tt[jt]=vr,Tt[xr]=Ft,jt=xr;else break e}}return Rt}function nt(Tt,Rt){var Ft=Tt.sortIndex-Rt.sortIndex;return Ft!==0?Ft:Tt.id-Rt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var it=performance;_e.unstable_now=function(){return it.now()}}else{var at=Date,ot=at.now();_e.unstable_now=function(){return at.now()-ot}}var st=[],lt=[],ct=1,ut=null,dt=3,ft=!1,pt=!1,ht=!1,yt=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function vt(Tt){for(var Rt=tt(lt);Rt!==null;){if(Rt.callback===null)rt(lt);else if(Rt.startTime<=Tt)rt(lt),Rt.sortIndex=Rt.expirationTime,et(st,Rt);else break;Rt=tt(lt)}}function St(Tt){if(ht=!1,vt(Tt),!pt)if(tt(st)!==null)pt=!0,It(xt);else{var Rt=tt(lt);Rt!==null&&Dt(St,Rt.startTime-Tt)}}function xt(Tt,Rt){pt=!1,ht&&(ht=!1,mt(_t),_t=-1),ft=!0;var Ft=dt;try{for(vt(Rt),ut=tt(st);ut!==null&&(!(ut.expirationTime>Rt)||Tt&&!Lt());){var jt=ut.callback;if(typeof jt=="function"){ut.callback=null,dt=ut.priorityLevel;var nr=jt(ut.expirationTime<=Rt);Rt=_e.unstable_now(),typeof nr=="function"?ut.callback=nr:ut===tt(st)&&rt(st),vt(Rt)}else rt(st);ut=tt(st)}if(ut!==null)var cr=!0;else{var ur=tt(lt);ur!==null&&Dt(St,ur.startTime-Rt),cr=!1}return cr}finally{ut=null,dt=Ft,ft=!1}}var Ct=!1,wt=null,_t=-1,Ot=5,kt=-1;function Lt(){return!(_e.unstable_now()-kt<Ot)}function $t(){if(wt!==null){var Tt=_e.unstable_now();kt=Tt;var Rt=!0;try{Rt=wt(!0,Tt)}finally{Rt?zt():(Ct=!1,wt=null)}}else Ct=!1}var zt;if(typeof gt=="function")zt=function(){gt($t)};else if(typeof MessageChannel<"u"){var Vt=new MessageChannel,Ut=Vt.port2;Vt.port1.onmessage=$t,zt=function(){Ut.postMessage(null)}}else zt=function(){yt($t,0)};function It(Tt){wt=Tt,Ct||(Ct=!0,zt())}function Dt(Tt,Rt){_t=yt(function(){Tt(_e.unstable_now())},Rt)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(Tt){Tt.callback=null},_e.unstable_continueExecution=function(){pt||ft||(pt=!0,It(xt))},_e.unstable_forceFrameRate=function(Tt){0>Tt||125<Tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ot=0<Tt?Math.floor(1e3/Tt):5},_e.unstable_getCurrentPriorityLevel=function(){return dt},_e.unstable_getFirstCallbackNode=function(){return tt(st)},_e.unstable_next=function(Tt){switch(dt){case 1:case 2:case 3:var Rt=3;break;default:Rt=dt}var Ft=dt;dt=Rt;try{return Tt()}finally{dt=Ft}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(Tt,Rt){switch(Tt){case 1:case 2:case 3:case 4:case 5:break;default:Tt=3}var Ft=dt;dt=Tt;try{return Rt()}finally{dt=Ft}},_e.unstable_scheduleCallback=function(Tt,Rt,Ft){var jt=_e.unstable_now();switch(typeof Ft=="object"&&Ft!==null?(Ft=Ft.delay,Ft=typeof Ft=="number"&&0<Ft?jt+Ft:jt):Ft=jt,Tt){case 1:var nr=-1;break;case 2:nr=250;break;case 5:nr=1073741823;break;case 4:nr=1e4;break;default:nr=5e3}return nr=Ft+nr,Tt={id:ct++,callback:Rt,priorityLevel:Tt,startTime:Ft,expirationTime:nr,sortIndex:-1},Ft>jt?(Tt.sortIndex=Ft,et(lt,Tt),tt(st)===null&&Tt===tt(lt)&&(ht?(mt(_t),_t=-1):ht=!0,Dt(St,Ft-jt))):(Tt.sortIndex=nr,et(st,Tt),pt||ft||(pt=!0,It(xt))),Tt},_e.unstable_shouldYield=Lt,_e.unstable_wrapCallback=function(Tt){var Rt=dt;return function(){var Ft=dt;dt=Rt;try{return Tt.apply(this,arguments)}finally{dt=Ft}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$6(_e){for(var et="https://reactjs.org/docs/error-decoder.html?invariant="+_e,tt=1;tt<arguments.length;tt++)et+="&args[]="+encodeURIComponent(arguments[tt]);return"Minified React error #"+_e+"; visit "+et+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_e,et){ha(_e,et),ha(_e+"Capture",et)}function ha(_e,et){for(ea[_e]=et,_e=0;_e<et.length;_e++)da.add(et[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_e){return ja.call(ma,_e)?!0:ja.call(la,_e)?!1:ka.test(_e)?ma[_e]=!0:(la[_e]=!0,!1)}function pa(_e,et,tt,rt){if(tt!==null&&tt.type===0)return!1;switch(typeof et){case"function":case"symbol":return!0;case"boolean":return rt?!1:tt!==null?!tt.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa(_e,et,tt,rt){if(et===null||typeof et>"u"||pa(_e,et,tt,rt))return!0;if(rt)return!1;if(tt!==null)switch(tt.type){case 3:return!et;case 4:return et===!1;case 5:return isNaN(et);case 6:return isNaN(et)||1>et}return!1}function v$6(_e,et,tt,rt,nt,it,at){this.acceptsBooleans=et===2||et===3||et===4,this.attributeName=rt,this.attributeNamespace=nt,this.mustUseProperty=tt,this.propertyName=_e,this.type=et,this.sanitizeURL=it,this.removeEmptyString=at}var z$4={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z$4[_e]=new v$6(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var et=_e[0];z$4[et]=new v$6(et,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z$4[_e]=new v$6(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z$4[_e]=new v$6(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z$4[_e]=new v$6(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z$4[_e]=new v$6(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z$4[_e]=new v$6(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z$4[_e]=new v$6(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z$4[_e]=new v$6(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var et=_e.replace(ra,sa);z$4[et]=new v$6(et,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var et=_e.replace(ra,sa);z$4[et]=new v$6(et,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var et=_e.replace(ra,sa);z$4[et]=new v$6(et,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z$4[_e]=new v$6(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z$4.xlinkHref=new v$6("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z$4[_e]=new v$6(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta(_e,et,tt,rt){var nt=z$4.hasOwnProperty(et)?z$4[et]:null;(nt!==null?nt.type!==0:rt||!(2<et.length)||et[0]!=="o"&&et[0]!=="O"||et[1]!=="n"&&et[1]!=="N")&&(qa(et,tt,nt,rt)&&(tt=null),rt||nt===null?oa(et)&&(tt===null?_e.removeAttribute(et):_e.setAttribute(et,""+tt)):nt.mustUseProperty?_e[nt.propertyName]=tt===null?nt.type===3?!1:"":tt:(et=nt.attributeName,rt=nt.attributeNamespace,tt===null?_e.removeAttribute(et):(nt=nt.type,tt=nt===3||nt===4&&tt===!0?"":""+tt,rt?_e.setAttributeNS(rt,et,tt):_e.setAttribute(et,tt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_e){return _e===null||typeof _e!="object"?null:(_e=Ja&&_e[Ja]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A$2=Object.assign,La;function Ma(_e){if(La===void 0)try{throw Error()}catch(tt){var et=tt.stack.trim().match(/\n( *(at )?)/);La=et&&et[1]||""}return`
`+La+_e}var Na=!1;function Oa(_e,et){if(!_e||Na)return"";Na=!0;var tt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(et)if(et=function(){throw Error()},Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(lt){var rt=lt}Reflect.construct(_e,[],et)}else{try{et.call()}catch(lt){rt=lt}_e.call(et.prototype)}else{try{throw Error()}catch(lt){rt=lt}_e()}}catch(lt){if(lt&&rt&&typeof lt.stack=="string"){for(var nt=lt.stack.split(`
`),it=rt.stack.split(`
`),at=nt.length-1,ot=it.length-1;1<=at&&0<=ot&&nt[at]!==it[ot];)ot--;for(;1<=at&&0<=ot;at--,ot--)if(nt[at]!==it[ot]){if(at!==1||ot!==1)do if(at--,ot--,0>ot||nt[at]!==it[ot]){var st=`
`+nt[at].replace(" at new "," at ");return _e.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",_e.displayName)),st}while(1<=at&&0<=ot);break}}}finally{Na=!1,Error.prepareStackTrace=tt}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1),_e;case 11:return _e=Oa(_e.type.render,!1),_e;case 1:return _e=Oa(_e.type,!0),_e;default:return""}}function Qa(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca:return(_e.displayName||"Context")+".Consumer";case Ba:return(_e._context.displayName||"Context")+".Provider";case Da:var et=_e.render;return _e=_e.displayName,_e||(_e=et.displayName||et.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga:return et=_e.displayName||null,et!==null?et:Qa(_e.type)||"Memo";case Ha:et=_e._payload,_e=_e._init;try{return Qa(_e(et))}catch{}}return null}function Ra(_e){var et=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return(et.displayName||"Context")+".Consumer";case 10:return(et._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=et.render,_e=_e.displayName||_e.name||"",et.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return et;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(et);case 8:return et===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta(_e){var et=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&(et==="checkbox"||et==="radio")}function Ua(_e){var et=Ta(_e)?"checked":"value",tt=Object.getOwnPropertyDescriptor(_e.constructor.prototype,et),rt=""+_e[et];if(!_e.hasOwnProperty(et)&&typeof tt<"u"&&typeof tt.get=="function"&&typeof tt.set=="function"){var nt=tt.get,it=tt.set;return Object.defineProperty(_e,et,{configurable:!0,get:function(){return nt.call(this)},set:function(at){rt=""+at,it.call(this,at)}}),Object.defineProperty(_e,et,{enumerable:tt.enumerable}),{getValue:function(){return rt},setValue:function(at){rt=""+at},stopTracking:function(){_e._valueTracker=null,delete _e[et]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var et=_e._valueTracker;if(!et)return!0;var tt=et.getValue(),rt="";return _e&&(rt=Ta(_e)?_e.checked?"true":"false":_e.value),_e=rt,_e!==tt?(et.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,et){var tt=et.checked;return A$2({},et,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:tt??_e._wrapperState.initialChecked})}function Za(_e,et){var tt=et.defaultValue==null?"":et.defaultValue,rt=et.checked!=null?et.checked:et.defaultChecked;tt=Sa(et.value!=null?et.value:tt),_e._wrapperState={initialChecked:rt,initialValue:tt,controlled:et.type==="checkbox"||et.type==="radio"?et.checked!=null:et.value!=null}}function ab(_e,et){et=et.checked,et!=null&&ta(_e,"checked",et,!1)}function bb(_e,et){ab(_e,et);var tt=Sa(et.value),rt=et.type;if(tt!=null)rt==="number"?(tt===0&&_e.value===""||_e.value!=tt)&&(_e.value=""+tt):_e.value!==""+tt&&(_e.value=""+tt);else if(rt==="submit"||rt==="reset"){_e.removeAttribute("value");return}et.hasOwnProperty("value")?cb(_e,et.type,tt):et.hasOwnProperty("defaultValue")&&cb(_e,et.type,Sa(et.defaultValue)),et.checked==null&&et.defaultChecked!=null&&(_e.defaultChecked=!!et.defaultChecked)}function db(_e,et,tt){if(et.hasOwnProperty("value")||et.hasOwnProperty("defaultValue")){var rt=et.type;if(!(rt!=="submit"&&rt!=="reset"||et.value!==void 0&&et.value!==null))return;et=""+_e._wrapperState.initialValue,tt||et===_e.value||(_e.value=et),_e.defaultValue=et}tt=_e.name,tt!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,tt!==""&&(_e.name=tt)}function cb(_e,et,tt){(et!=="number"||Xa(_e.ownerDocument)!==_e)&&(tt==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+tt&&(_e.defaultValue=""+tt))}var eb=Array.isArray;function fb(_e,et,tt,rt){if(_e=_e.options,et){et={};for(var nt=0;nt<tt.length;nt++)et["$"+tt[nt]]=!0;for(tt=0;tt<_e.length;tt++)nt=et.hasOwnProperty("$"+_e[tt].value),_e[tt].selected!==nt&&(_e[tt].selected=nt),nt&&rt&&(_e[tt].defaultSelected=!0)}else{for(tt=""+Sa(tt),et=null,nt=0;nt<_e.length;nt++){if(_e[nt].value===tt){_e[nt].selected=!0,rt&&(_e[nt].defaultSelected=!0);return}et!==null||_e[nt].disabled||(et=_e[nt])}et!==null&&(et.selected=!0)}}function gb(_e,et){if(et.dangerouslySetInnerHTML!=null)throw Error(p$6(91));return A$2({},et,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,et){var tt=et.value;if(tt==null){if(tt=et.children,et=et.defaultValue,tt!=null){if(et!=null)throw Error(p$6(92));if(eb(tt)){if(1<tt.length)throw Error(p$6(93));tt=tt[0]}et=tt}et==null&&(et=""),tt=et}_e._wrapperState={initialValue:Sa(tt)}}function ib(_e,et){var tt=Sa(et.value),rt=Sa(et.defaultValue);tt!=null&&(tt=""+tt,tt!==_e.value&&(_e.value=tt),et.defaultValue==null&&_e.defaultValue!==tt&&(_e.defaultValue=tt)),rt!=null&&(_e.defaultValue=""+rt)}function jb(_e){var et=_e.textContent;et===_e._wrapperState.initialValue&&et!==""&&et!==null&&(_e.value=et)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,et){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb(et):_e==="http://www.w3.org/2000/svg"&&et==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb,nb=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(et,tt,rt,nt){MSApp.execUnsafeLocalFunction(function(){return _e(et,tt,rt,nt)})}:_e}(function(_e,et){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=et;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+et.valueOf().toString()+"</svg>",et=mb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;et.firstChild;)_e.appendChild(et.firstChild)}});function ob(_e,et){if(et){var tt=_e.firstChild;if(tt&&tt===_e.lastChild&&tt.nodeType===3){tt.nodeValue=et;return}}_e.textContent=et}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_e){qb.forEach(function(et){et=et+_e.charAt(0).toUpperCase()+_e.substring(1),pb[et]=pb[_e]})});function rb(_e,et,tt){return et==null||typeof et=="boolean"||et===""?"":tt||typeof et!="number"||et===0||pb.hasOwnProperty(_e)&&pb[_e]?(""+et).trim():et+"px"}function sb(_e,et){_e=_e.style;for(var tt in et)if(et.hasOwnProperty(tt)){var rt=tt.indexOf("--")===0,nt=rb(tt,et[tt],rt);tt==="float"&&(tt="cssFloat"),rt?_e.setProperty(tt,nt):_e[tt]=nt}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,et){if(et){if(tb[_e]&&(et.children!=null||et.dangerouslySetInnerHTML!=null))throw Error(p$6(137,_e));if(et.dangerouslySetInnerHTML!=null){if(et.children!=null)throw Error(p$6(60));if(typeof et.dangerouslySetInnerHTML!="object"||!("__html"in et.dangerouslySetInnerHTML))throw Error(p$6(61))}if(et.style!=null&&typeof et.style!="object")throw Error(p$6(62))}}function vb(_e,et){if(_e.indexOf("-")===-1)return typeof et.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(p$6(280));var et=_e.stateNode;et&&(et=Db(et),yb(_e.stateNode,_e.type,et))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,et=Ab;if(Ab=zb=null,Bb(_e),et)for(_e=0;_e<et.length;_e++)Bb(et[_e])}}function Gb(_e,et){return _e(et)}function Hb(){}var Ib=!1;function Jb(_e,et,tt){if(Ib)return _e(et,tt);Ib=!0;try{return Gb(_e,et,tt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_e,et){var tt=_e.stateNode;if(tt===null)return null;var rt=Db(tt);if(rt===null)return null;tt=rt[et];e:switch(et){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(rt=!rt.disabled)||(_e=_e.type,rt=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!rt;break e;default:_e=!1}if(_e)return null;if(tt&&typeof tt!="function")throw Error(p$6(231,et,typeof tt));return tt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,et,tt,rt,nt,it,at,ot,st){var lt=Array.prototype.slice.call(arguments,3);try{et.apply(tt,lt)}catch(ct){this.onError(ct)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_e){Ob=!0,Pb=_e}};function Tb(_e,et,tt,rt,nt,it,at,ot,st){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_e,et,tt,rt,nt,it,at,ot,st){if(Tb.apply(this,arguments),Ob){if(Ob){var lt=Pb;Ob=!1,Pb=null}else throw Error(p$6(198));Qb||(Qb=!0,Rb=lt)}}function Vb(_e){var et=_e,tt=_e;if(_e.alternate)for(;et.return;)et=et.return;else{_e=et;do et=_e,et.flags&4098&&(tt=et.return),_e=et.return;while(_e)}return et.tag===3?tt:null}function Wb(_e){if(_e.tag===13){var et=_e.memoizedState;if(et===null&&(_e=_e.alternate,_e!==null&&(et=_e.memoizedState)),et!==null)return et.dehydrated}return null}function Xb(_e){if(Vb(_e)!==_e)throw Error(p$6(188))}function Yb(_e){var et=_e.alternate;if(!et){if(et=Vb(_e),et===null)throw Error(p$6(188));return et!==_e?null:_e}for(var tt=_e,rt=et;;){var nt=tt.return;if(nt===null)break;var it=nt.alternate;if(it===null){if(rt=nt.return,rt!==null){tt=rt;continue}break}if(nt.child===it.child){for(it=nt.child;it;){if(it===tt)return Xb(nt),_e;if(it===rt)return Xb(nt),et;it=it.sibling}throw Error(p$6(188))}if(tt.return!==rt.return)tt=nt,rt=it;else{for(var at=!1,ot=nt.child;ot;){if(ot===tt){at=!0,tt=nt,rt=it;break}if(ot===rt){at=!0,rt=nt,tt=it;break}ot=ot.sibling}if(!at){for(ot=it.child;ot;){if(ot===tt){at=!0,tt=it,rt=nt;break}if(ot===rt){at=!0,rt=it,tt=nt;break}ot=ot.sibling}if(!at)throw Error(p$6(189))}}if(tt.alternate!==rt)throw Error(p$6(190))}if(tt.tag!==3)throw Error(p$6(188));return tt.stateNode.current===tt?_e:et}function Zb(_e){return _e=Yb(_e),_e!==null?$b(_e):null}function $b(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var et=$b(_e);if(et!==null)return et;_e=_e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$2=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_e){return _e>>>=0,_e===0?32:31-(pc(_e)/qc|0)|0}var rc=64,sc=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,et){var tt=_e.pendingLanes;if(tt===0)return 0;var rt=0,nt=_e.suspendedLanes,it=_e.pingedLanes,at=tt&268435455;if(at!==0){var ot=at&~nt;ot!==0?rt=tc(ot):(it&=at,it!==0&&(rt=tc(it)))}else at=tt&~nt,at!==0?rt=tc(at):it!==0&&(rt=tc(it));if(rt===0)return 0;if(et!==0&&et!==rt&&!(et&nt)&&(nt=rt&-rt,it=et&-et,nt>=it||nt===16&&(it&4194240)!==0))return et;if(rt&4&&(rt|=tt&16),et=_e.entangledLanes,et!==0)for(_e=_e.entanglements,et&=rt;0<et;)tt=31-oc(et),nt=1<<tt,rt|=_e[tt],et&=~nt;return rt}function vc(_e,et){switch(_e){case 1:case 2:case 4:return et+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_e,et){for(var tt=_e.suspendedLanes,rt=_e.pingedLanes,nt=_e.expirationTimes,it=_e.pendingLanes;0<it;){var at=31-oc(it),ot=1<<at,st=nt[at];st===-1?(!(ot&tt)||ot&rt)&&(nt[at]=vc(ot,et)):st<=et&&(_e.expiredLanes|=ot),it&=~ot}}function xc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc(){var _e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_e}function zc(_e){for(var et=[],tt=0;31>tt;tt++)et.push(_e);return et}function Ac(_e,et,tt){_e.pendingLanes|=et,et!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,et=31-oc(et),_e[et]=tt}function Bc(_e,et){var tt=_e.pendingLanes&~et;_e.pendingLanes=et,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=et,_e.mutableReadLanes&=et,_e.entangledLanes&=et,et=_e.entanglements;var rt=_e.eventTimes;for(_e=_e.expirationTimes;0<tt;){var nt=31-oc(tt),it=1<<nt;et[nt]=0,rt[nt]=-1,_e[nt]=-1,tt&=~it}}function Cc(_e,et){var tt=_e.entangledLanes|=et;for(_e=_e.entanglements;tt;){var rt=31-oc(tt),nt=1<<rt;nt&et|_e[rt]&et&&(_e[rt]|=et),tt&=~nt}}var C$2=0;function Dc(_e){return _e&=-_e,1<_e?4<_e?_e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,et){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(et.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(et.pointerId)}}function Tc(_e,et,tt,rt,nt,it){return _e===null||_e.nativeEvent!==it?(_e={blockedOn:et,domEventName:tt,eventSystemFlags:rt,nativeEvent:it,targetContainers:[nt]},et!==null&&(et=Cb(et),et!==null&&Fc(et)),_e):(_e.eventSystemFlags|=rt,et=_e.targetContainers,nt!==null&&et.indexOf(nt)===-1&&et.push(nt),_e)}function Uc(_e,et,tt,rt,nt){switch(et){case"focusin":return Lc=Tc(Lc,_e,et,tt,rt,nt),!0;case"dragenter":return Mc=Tc(Mc,_e,et,tt,rt,nt),!0;case"mouseover":return Nc=Tc(Nc,_e,et,tt,rt,nt),!0;case"pointerover":var it=nt.pointerId;return Oc.set(it,Tc(Oc.get(it)||null,_e,et,tt,rt,nt)),!0;case"gotpointercapture":return it=nt.pointerId,Pc.set(it,Tc(Pc.get(it)||null,_e,et,tt,rt,nt)),!0}return!1}function Vc(_e){var et=Wc(_e.target);if(et!==null){var tt=Vb(et);if(tt!==null){if(et=tt.tag,et===13){if(et=Wb(tt),et!==null){_e.blockedOn=et,Ic(_e.priority,function(){Gc(tt)});return}}else if(et===3&&tt.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=tt.tag===3?tt.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc(_e){if(_e.blockedOn!==null)return!1;for(var et=_e.targetContainers;0<et.length;){var tt=Yc(_e.domEventName,_e.eventSystemFlags,et[0],_e.nativeEvent);if(tt===null){tt=_e.nativeEvent;var rt=new tt.constructor(tt.type,tt);wb=rt,tt.target.dispatchEvent(rt),wb=null}else return et=Cb(tt),et!==null&&Fc(et),_e.blockedOn=tt,!1;et.shift()}return!0}function Zc(_e,et,tt){Xc(_e)&&tt.delete(et)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_e,et){_e.blockedOn===et&&(_e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_e){function et(nt){return ad(nt,_e)}if(0<Kc.length){ad(Kc[0],_e);for(var tt=1;tt<Kc.length;tt++){var rt=Kc[tt];rt.blockedOn===_e&&(rt.blockedOn=null)}}for(Lc!==null&&ad(Lc,_e),Mc!==null&&ad(Mc,_e),Nc!==null&&ad(Nc,_e),Oc.forEach(et),Pc.forEach(et),tt=0;tt<Qc.length;tt++)rt=Qc[tt],rt.blockedOn===_e&&(rt.blockedOn=null);for(;0<Qc.length&&(tt=Qc[0],tt.blockedOn===null);)Vc(tt),tt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_e,et,tt,rt){var nt=C$2,it=cd.transition;cd.transition=null;try{C$2=1,fd(_e,et,tt,rt)}finally{C$2=nt,cd.transition=it}}function gd(_e,et,tt,rt){var nt=C$2,it=cd.transition;cd.transition=null;try{C$2=4,fd(_e,et,tt,rt)}finally{C$2=nt,cd.transition=it}}function fd(_e,et,tt,rt){if(dd){var nt=Yc(_e,et,tt,rt);if(nt===null)hd(_e,et,rt,id$2,tt),Sc(_e,rt);else if(Uc(nt,_e,et,tt,rt))rt.stopPropagation();else if(Sc(_e,rt),et&4&&-1<Rc.indexOf(_e)){for(;nt!==null;){var it=Cb(nt);if(it!==null&&Ec(it),it=Yc(_e,et,tt,rt),it===null&&hd(_e,et,rt,id$2,tt),it===nt)break;nt=it}nt!==null&&rt.stopPropagation()}else hd(_e,et,rt,null,tt)}}var id$2=null;function Yc(_e,et,tt,rt){if(id$2=null,_e=xb(rt),_e=Wc(_e),_e!==null)if(et=Vb(_e),et===null)_e=null;else if(tt=et.tag,tt===13){if(_e=Wb(et),_e!==null)return _e;_e=null}else if(tt===3){if(et.stateNode.current.memoizedState.isDehydrated)return et.tag===3?et.stateNode.containerInfo:null;_e=null}else et!==_e&&(_e=null);return id$2=_e,null}function jd(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,et=ld,tt=et.length,rt,nt="value"in kd?kd.value:kd.textContent,it=nt.length;for(_e=0;_e<tt&&et[_e]===nt[_e];_e++);var at=tt-_e;for(rt=1;rt<=at&&et[tt-rt]===nt[it-rt];rt++);return md=nt.slice(_e,1<rt?1-rt:void 0)}function od(_e){var et=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&et===13&&(_e=13)):_e=et,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function et(tt,rt,nt,it,at){this._reactName=tt,this._targetInst=nt,this.type=rt,this.nativeEvent=it,this.target=at,this.currentTarget=null;for(var ot in _e)_e.hasOwnProperty(ot)&&(tt=_e[ot],this[ot]=tt?tt(it):it[ot]);return this.isDefaultPrevented=(it.defaultPrevented!=null?it.defaultPrevented:it.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(et.prototype,{preventDefault:function(){this.defaultPrevented=!0;var tt=this.nativeEvent;tt&&(tt.preventDefault?tt.preventDefault():typeof tt.returnValue!="unknown"&&(tt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var tt=this.nativeEvent;tt&&(tt.stopPropagation?tt.stopPropagation():typeof tt.cancelBubble!="unknown"&&(tt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),et}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var et=this.nativeEvent;return et.getModifierState?et.getModifierState(_e):(_e=Od[_e])?!!et[_e]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(_e){if(_e.key){var et=Md[_e.key]||_e.key;if(et!=="Unidentified")return et}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de$1=ia&&(!ae$1||be&&8<be&&11>=be),ee$1=" ",fe$1=!1;function ge$1(_e,et){switch(_e){case"keyup":return $d.indexOf(et.keyCode)!==-1;case"keydown":return et.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie$1=!1;function je(_e,et){switch(_e){case"compositionend":return he$1(et);case"keypress":return et.which!==32?null:(fe$1=!0,ee$1);case"textInput":return _e=et.data,_e===ee$1&&fe$1?null:_e;default:return null}}function ke$1(_e,et){if(ie$1)return _e==="compositionend"||!ae$1&&ge$1(_e,et)?(_e=nd(),md=ld=kd=null,ie$1=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!(et.ctrlKey||et.altKey||et.metaKey)||et.ctrlKey&&et.altKey){if(et.char&&1<et.char.length)return et.char;if(et.which)return String.fromCharCode(et.which)}return null;case"compositionend":return de$1&&et.locale!=="ko"?null:et.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(_e){var et=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return et==="input"?!!le$1[_e.type]:et==="textarea"}function ne$1(_e,et,tt,rt){Eb(rt),et=oe(et,"onChange"),0<et.length&&(tt=new td("onChange","change",null,tt,rt),_e.push({event:tt,listeners:et}))}var pe$1=null,qe=null;function re(_e){se$1(_e,0)}function te(_e){var et=ue$1(_e);if(Wa(et))return _e}function ve(_e,et){if(_e==="change")return et}var we=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe$1=ye$1}else xe$1=!1;we=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe=pe$1=null)}function Be(_e){if(_e.propertyName==="value"&&te(qe)){var et=[];ne$1(et,qe,_e,xb(_e)),Jb(re,et)}}function Ce(_e,et,tt){_e==="focusin"?(Ae$1(),pe$1=et,qe=tt,pe$1.attachEvent("onpropertychange",Be)):_e==="focusout"&&Ae$1()}function De(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te(qe)}function Ee$1(_e,et){if(_e==="click")return te(et)}function Fe(_e,et){if(_e==="input"||_e==="change")return te(et)}function Ge(_e,et){return _e===et&&(_e!==0||1/_e===1/et)||_e!==_e&&et!==et}var He$1=typeof Object.is=="function"?Object.is:Ge;function Ie$1(_e,et){if(He$1(_e,et))return!0;if(typeof _e!="object"||_e===null||typeof et!="object"||et===null)return!1;var tt=Object.keys(_e),rt=Object.keys(et);if(tt.length!==rt.length)return!1;for(rt=0;rt<tt.length;rt++){var nt=tt[rt];if(!ja.call(et,nt)||!He$1(_e[nt],et[nt]))return!1}return!0}function Je(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke(_e,et){var tt=Je(_e);_e=0;for(var rt;tt;){if(tt.nodeType===3){if(rt=_e+tt.textContent.length,_e<=et&&rt>=et)return{node:tt,offset:et-_e};_e=rt}e:{for(;tt;){if(tt.nextSibling){tt=tt.nextSibling;break e}tt=tt.parentNode}tt=void 0}tt=Je(tt)}}function Le$1(_e,et){return _e&&et?_e===et?!0:_e&&_e.nodeType===3?!1:et&&et.nodeType===3?Le$1(_e,et.parentNode):"contains"in _e?_e.contains(et):_e.compareDocumentPosition?!!(_e.compareDocumentPosition(et)&16):!1:!1}function Me(){for(var _e=window,et=Xa();et instanceof _e.HTMLIFrameElement;){try{var tt=typeof et.contentWindow.location.href=="string"}catch{tt=!1}if(tt)_e=et.contentWindow;else break;et=Xa(_e.document)}return et}function Ne(_e){var et=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return et&&(et==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||et==="textarea"||_e.contentEditable==="true")}function Oe(_e){var et=Me(),tt=_e.focusedElem,rt=_e.selectionRange;if(et!==tt&&tt&&tt.ownerDocument&&Le$1(tt.ownerDocument.documentElement,tt)){if(rt!==null&&Ne(tt)){if(et=rt.start,_e=rt.end,_e===void 0&&(_e=et),"selectionStart"in tt)tt.selectionStart=et,tt.selectionEnd=Math.min(_e,tt.value.length);else if(_e=(et=tt.ownerDocument||document)&&et.defaultView||window,_e.getSelection){_e=_e.getSelection();var nt=tt.textContent.length,it=Math.min(rt.start,nt);rt=rt.end===void 0?it:Math.min(rt.end,nt),!_e.extend&&it>rt&&(nt=rt,rt=it,it=nt),nt=Ke(tt,it);var at=Ke(tt,rt);nt&&at&&(_e.rangeCount!==1||_e.anchorNode!==nt.node||_e.anchorOffset!==nt.offset||_e.focusNode!==at.node||_e.focusOffset!==at.offset)&&(et=et.createRange(),et.setStart(nt.node,nt.offset),_e.removeAllRanges(),it>rt?(_e.addRange(et),_e.extend(at.node,at.offset)):(et.setEnd(at.node,at.offset),_e.addRange(et)))}}for(et=[],_e=tt;_e=_e.parentNode;)_e.nodeType===1&&et.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof tt.focus=="function"&&tt.focus(),tt=0;tt<et.length;tt++)_e=et[tt],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se$1=null,Te$1=!1;function Ue$1(_e,et,tt){var rt=tt.window===tt?tt.document:tt.nodeType===9?tt:tt.ownerDocument;Te$1||Qe==null||Qe!==Xa(rt)||(rt=Qe,"selectionStart"in rt&&Ne(rt)?rt={start:rt.selectionStart,end:rt.selectionEnd}:(rt=(rt.ownerDocument&&rt.ownerDocument.defaultView||window).getSelection(),rt={anchorNode:rt.anchorNode,anchorOffset:rt.anchorOffset,focusNode:rt.focusNode,focusOffset:rt.focusOffset}),Se$1&&Ie$1(Se$1,rt)||(Se$1=rt,rt=oe(Re,"onSelect"),0<rt.length&&(et=new td("onSelect","select",null,et,tt),_e.push({event:et,listeners:rt}),et.target=Qe)))}function Ve(_e,et){var tt={};return tt[_e.toLowerCase()]=et.toLowerCase(),tt["Webkit"+_e]="webkit"+et,tt["Moz"+_e]="moz"+et,tt}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(_e){if(Xe[_e])return Xe[_e];if(!We[_e])return _e;var et=We[_e],tt;for(tt in et)if(et.hasOwnProperty(tt)&&tt in Ye)return Xe[_e]=et[tt];return _e}var $e$1=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,et){df.set(_e,et),fa(et,[_e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_e,et,tt){var rt=_e.type||"unknown-event";_e.currentTarget=tt,Ub(rt,et,void 0,_e),_e.currentTarget=null}function se$1(_e,et){et=(et&4)!==0;for(var tt=0;tt<_e.length;tt++){var rt=_e[tt],nt=rt.event;rt=rt.listeners;e:{var it=void 0;if(et)for(var at=rt.length-1;0<=at;at--){var ot=rt[at],st=ot.instance,lt=ot.currentTarget;if(ot=ot.listener,st!==it&&nt.isPropagationStopped())break e;nf(nt,ot,lt),it=st}else for(at=0;at<rt.length;at++){if(ot=rt[at],st=ot.instance,lt=ot.currentTarget,ot=ot.listener,st!==it&&nt.isPropagationStopped())break e;nf(nt,ot,lt),it=st}}}if(Qb)throw _e=Rb,Qb=!1,Rb=null,_e}function D$2(_e,et){var tt=et[of];tt===void 0&&(tt=et[of]=new Set);var rt=_e+"__bubble";tt.has(rt)||(pf(et,_e,2,!1),tt.add(rt))}function qf(_e,et,tt){var rt=0;et&&(rt|=4),pf(tt,_e,rt,et)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da.forEach(function(tt){tt!=="selectionchange"&&(mf.has(tt)||qf(tt,!1,_e),qf(tt,!0,_e))});var et=_e.nodeType===9?_e:_e.ownerDocument;et===null||et[rf]||(et[rf]=!0,qf("selectionchange",!1,et))}}function pf(_e,et,tt,rt){switch(jd(et)){case 1:var nt=ed;break;case 4:nt=gd;break;default:nt=fd}tt=nt.bind(null,et,tt,_e),nt=void 0,!Lb||et!=="touchstart"&&et!=="touchmove"&&et!=="wheel"||(nt=!0),rt?nt!==void 0?_e.addEventListener(et,tt,{capture:!0,passive:nt}):_e.addEventListener(et,tt,!0):nt!==void 0?_e.addEventListener(et,tt,{passive:nt}):_e.addEventListener(et,tt,!1)}function hd(_e,et,tt,rt,nt){var it=rt;if(!(et&1)&&!(et&2)&&rt!==null)e:for(;;){if(rt===null)return;var at=rt.tag;if(at===3||at===4){var ot=rt.stateNode.containerInfo;if(ot===nt||ot.nodeType===8&&ot.parentNode===nt)break;if(at===4)for(at=rt.return;at!==null;){var st=at.tag;if((st===3||st===4)&&(st=at.stateNode.containerInfo,st===nt||st.nodeType===8&&st.parentNode===nt))return;at=at.return}for(;ot!==null;){if(at=Wc(ot),at===null)return;if(st=at.tag,st===5||st===6){rt=it=at;continue e}ot=ot.parentNode}}rt=rt.return}Jb(function(){var lt=it,ct=xb(tt),ut=[];e:{var dt=df.get(_e);if(dt!==void 0){var ft=td,pt=_e;switch(_e){case"keypress":if(od(tt)===0)break e;case"keydown":case"keyup":ft=Rd;break;case"focusin":pt="focus",ft=Fd;break;case"focusout":pt="blur",ft=Fd;break;case"beforeblur":case"afterblur":ft=Fd;break;case"click":if(tt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=Vd;break;case $e$1:case af:case bf:ft=Hd;break;case cf:ft=Xd;break;case"scroll":ft=vd;break;case"wheel":ft=Zd;break;case"copy":case"cut":case"paste":ft=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=Td}var ht=(et&4)!==0,yt=!ht&&_e==="scroll",mt=ht?dt!==null?dt+"Capture":null:dt;ht=[];for(var gt=lt,vt;gt!==null;){vt=gt;var St=vt.stateNode;if(vt.tag===5&&St!==null&&(vt=St,mt!==null&&(St=Kb(gt,mt),St!=null&&ht.push(tf(gt,St,vt)))),yt)break;gt=gt.return}0<ht.length&&(dt=new ft(dt,pt,null,tt,ct),ut.push({event:dt,listeners:ht}))}}if(!(et&7)){e:{if(dt=_e==="mouseover"||_e==="pointerover",ft=_e==="mouseout"||_e==="pointerout",dt&&tt!==wb&&(pt=tt.relatedTarget||tt.fromElement)&&(Wc(pt)||pt[uf]))break e;if((ft||dt)&&(dt=ct.window===ct?ct:(dt=ct.ownerDocument)?dt.defaultView||dt.parentWindow:window,ft?(pt=tt.relatedTarget||tt.toElement,ft=lt,pt=pt?Wc(pt):null,pt!==null&&(yt=Vb(pt),pt!==yt||pt.tag!==5&&pt.tag!==6)&&(pt=null)):(ft=null,pt=lt),ft!==pt)){if(ht=Bd,St="onMouseLeave",mt="onMouseEnter",gt="mouse",(_e==="pointerout"||_e==="pointerover")&&(ht=Td,St="onPointerLeave",mt="onPointerEnter",gt="pointer"),yt=ft==null?dt:ue$1(ft),vt=pt==null?dt:ue$1(pt),dt=new ht(St,gt+"leave",ft,tt,ct),dt.target=yt,dt.relatedTarget=vt,St=null,Wc(ct)===lt&&(ht=new ht(mt,gt+"enter",pt,tt,ct),ht.target=vt,ht.relatedTarget=yt,St=ht),yt=St,ft&&pt)t:{for(ht=ft,mt=pt,gt=0,vt=ht;vt;vt=vf(vt))gt++;for(vt=0,St=mt;St;St=vf(St))vt++;for(;0<gt-vt;)ht=vf(ht),gt--;for(;0<vt-gt;)mt=vf(mt),vt--;for(;gt--;){if(ht===mt||mt!==null&&ht===mt.alternate)break t;ht=vf(ht),mt=vf(mt)}ht=null}else ht=null;ft!==null&&wf(ut,dt,ft,ht,!1),pt!==null&&yt!==null&&wf(ut,yt,pt,ht,!0)}}e:{if(dt=lt?ue$1(lt):window,ft=dt.nodeName&&dt.nodeName.toLowerCase(),ft==="select"||ft==="input"&&dt.type==="file")var xt=ve;else if(me$1(dt))if(we)xt=Fe;else{xt=De;var Ct=Ce}else(ft=dt.nodeName)&&ft.toLowerCase()==="input"&&(dt.type==="checkbox"||dt.type==="radio")&&(xt=Ee$1);if(xt&&(xt=xt(_e,lt))){ne$1(ut,xt,tt,ct);break e}Ct&&Ct(_e,dt,lt),_e==="focusout"&&(Ct=dt._wrapperState)&&Ct.controlled&&dt.type==="number"&&cb(dt,"number",dt.value)}switch(Ct=lt?ue$1(lt):window,_e){case"focusin":(me$1(Ct)||Ct.contentEditable==="true")&&(Qe=Ct,Re=lt,Se$1=null);break;case"focusout":Se$1=Re=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(ut,tt,ct);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue$1(ut,tt,ct)}var wt;if(ae$1)e:{switch(_e){case"compositionstart":var _t="onCompositionStart";break e;case"compositionend":_t="onCompositionEnd";break e;case"compositionupdate":_t="onCompositionUpdate";break e}_t=void 0}else ie$1?ge$1(_e,tt)&&(_t="onCompositionEnd"):_e==="keydown"&&tt.keyCode===229&&(_t="onCompositionStart");_t&&(de$1&&tt.locale!=="ko"&&(ie$1||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&ie$1&&(wt=nd()):(kd=ct,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),Ct=oe(lt,_t),0<Ct.length&&(_t=new Ld(_t,_e,null,tt,ct),ut.push({event:_t,listeners:Ct}),wt?_t.data=wt:(wt=he$1(tt),wt!==null&&(_t.data=wt)))),(wt=ce?je(_e,tt):ke$1(_e,tt))&&(lt=oe(lt,"onBeforeInput"),0<lt.length&&(ct=new Ld("onBeforeInput","beforeinput",null,tt,ct),ut.push({event:ct,listeners:lt}),ct.data=wt))}se$1(ut,et)})}function tf(_e,et,tt){return{instance:_e,listener:et,currentTarget:tt}}function oe(_e,et){for(var tt=et+"Capture",rt=[];_e!==null;){var nt=_e,it=nt.stateNode;nt.tag===5&&it!==null&&(nt=it,it=Kb(_e,tt),it!=null&&rt.unshift(tf(_e,it,nt)),it=Kb(_e,et),it!=null&&rt.push(tf(_e,it,nt))),_e=_e.return}return rt}function vf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf(_e,et,tt,rt,nt){for(var it=et._reactName,at=[];tt!==null&&tt!==rt;){var ot=tt,st=ot.alternate,lt=ot.stateNode;if(st!==null&&st===rt)break;ot.tag===5&&lt!==null&&(ot=lt,nt?(st=Kb(tt,it),st!=null&&at.unshift(tf(tt,st,ot))):nt||(st=Kb(tt,it),st!=null&&at.push(tf(tt,st,ot)))),tt=tt.return}at.length!==0&&_e.push({event:et,listeners:at})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_e){return(typeof _e=="string"?_e:""+_e).replace(xf,`
`).replace(yf,"")}function Af(_e,et,tt){if(et=zf(et),zf(_e)!==et&&tt)throw Error(p$6(425))}function Bf(){}var Cf=null,Df=null;function Ef(_e,et){return _e==="textarea"||_e==="noscript"||typeof et.children=="string"||typeof et.children=="number"||typeof et.dangerouslySetInnerHTML=="object"&&et.dangerouslySetInnerHTML!==null&&et.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,et){var tt=et,rt=0;do{var nt=tt.nextSibling;if(_e.removeChild(tt),nt&&nt.nodeType===8)if(tt=nt.data,tt==="/$"){if(rt===0){_e.removeChild(nt),bd(et);return}rt--}else tt!=="$"&&tt!=="$?"&&tt!=="$!"||rt++;tt=nt}while(tt);bd(et)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var et=_e.nodeType;if(et===1||et===3)break;if(et===8){if(et=_e.data,et==="$"||et==="$!"||et==="$?")break;if(et==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var et=0;_e;){if(_e.nodeType===8){var tt=_e.data;if(tt==="$"||tt==="$!"||tt==="$?"){if(et===0)return _e;et--}else tt==="/$"&&et++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_e){var et=_e[Of];if(et)return et;for(var tt=_e.parentNode;tt;){if(et=tt[uf]||tt[Of]){if(tt=et.alternate,et.child!==null||tt!==null&&tt.child!==null)for(_e=Mf(_e);_e!==null;){if(tt=_e[Of])return tt;_e=Mf(_e)}return et}_e=tt,tt=_e.parentNode}return null}function Cb(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue$1(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$6(33))}function Db(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E$3(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(_e,et){Tf++,Sf[Tf]=_e.current,_e.current=et}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,et){var tt=_e.type.contextTypes;if(!tt)return Vf;var rt=_e.stateNode;if(rt&&rt.__reactInternalMemoizedUnmaskedChildContext===et)return rt.__reactInternalMemoizedMaskedChildContext;var nt={},it;for(it in tt)nt[it]=et[it];return rt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=et,_e.__reactInternalMemoizedMaskedChildContext=nt),nt}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E$3(Wf),E$3(H$2)}function ag(_e,et,tt){if(H$2.current!==Vf)throw Error(p$6(168));G$1(H$2,et),G$1(Wf,tt)}function bg(_e,et,tt){var rt=_e.stateNode;if(et=et.childContextTypes,typeof rt.getChildContext!="function")return tt;rt=rt.getChildContext();for(var nt in rt)if(!(nt in et))throw Error(p$6(108,Ra(_e)||"Unknown",nt));return A$2({},tt,rt)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$1(H$2,_e),G$1(Wf,Wf.current),!0}function dg(_e,et,tt){var rt=_e.stateNode;if(!rt)throw Error(p$6(169));tt?(_e=bg(_e,et,Xf),rt.__reactInternalMemoizedMergedChildContext=_e,E$3(Wf),E$3(H$2),G$1(H$2,_e)):E$3(Wf),G$1(Wf,tt)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,et=C$2;try{var tt=eg;for(C$2=1;_e<tt.length;_e++){var rt=tt[_e];do rt=rt(!0);while(rt!==null)}eg=null,fg=!1}catch(nt){throw eg!==null&&(eg=eg.slice(_e+1)),ac(fc,jg),nt}finally{C$2=et,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,et){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=et}function ug(_e,et,tt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var rt=rg;_e=sg;var nt=32-oc(rt)-1;rt&=~(1<<nt),tt+=1;var it=32-oc(et)+nt;if(30<it){var at=nt-nt%5;it=(rt&(1<<at)-1).toString(32),rt>>=at,nt-=at,rg=1<<32-oc(et)+nt|tt<<nt|rt,sg=it+_e}else rg=1<<it|tt<<nt|rt,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$2=!1,zg=null;function Ag(_e,et){var tt=Bg(5,null,null,0);tt.elementType="DELETED",tt.stateNode=et,tt.return=_e,et=_e.deletions,et===null?(_e.deletions=[tt],_e.flags|=16):et.push(tt)}function Cg(_e,et){switch(_e.tag){case 5:var tt=_e.type;return et=et.nodeType!==1||tt.toLowerCase()!==et.nodeName.toLowerCase()?null:et,et!==null?(_e.stateNode=et,xg=_e,yg=Lf(et.firstChild),!0):!1;case 6:return et=_e.pendingProps===""||et.nodeType!==3?null:et,et!==null?(_e.stateNode=et,xg=_e,yg=null,!0):!1;case 13:return et=et.nodeType!==8?null:et,et!==null?(tt=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:et,treeContext:tt,retryLane:1073741824},tt=Bg(18,null,null,0),tt.stateNode=et,tt.return=_e,_e.child=tt,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I$2){var et=yg;if(et){var tt=et;if(!Cg(_e,et)){if(Dg(_e))throw Error(p$6(418));et=Lf(tt.nextSibling);var rt=xg;et&&Cg(_e,et)?Ag(rt,tt):(_e.flags=_e.flags&-4097|2,I$2=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$6(418));_e.flags=_e.flags&-4097|2,I$2=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I$2)return Fg(_e),I$2=!0,!1;var et;if((et=_e.tag!==3)&&!(et=_e.tag!==5)&&(et=_e.type,et=et!=="head"&&et!=="body"&&!Ef(_e.type,_e.memoizedProps)),et&&(et=yg)){if(Dg(_e))throw Hg(),Error(p$6(418));for(;et;)Ag(_e,et),et=Lf(et.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$6(317));e:{for(_e=_e.nextSibling,et=0;_e;){if(_e.nodeType===8){var tt=_e.data;if(tt==="/$"){if(et===0){yg=Lf(_e.nextSibling);break e}et--}else tt!=="$"&&tt!=="$!"&&tt!=="$?"||et++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I$2=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_e,et,tt){if(_e=tt.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(tt._owner){if(tt=tt._owner,tt){if(tt.tag!==1)throw Error(p$6(309));var rt=tt.stateNode}if(!rt)throw Error(p$6(147,_e));var nt=rt,it=""+_e;return et!==null&&et.ref!==null&&typeof et.ref=="function"&&et.ref._stringRef===it?et.ref:(et=function(at){var ot=nt.refs;at===null?delete ot[it]:ot[it]=at},et._stringRef=it,et)}if(typeof _e!="string")throw Error(p$6(284));if(!tt._owner)throw Error(p$6(290,_e))}return _e}function Mg(_e,et){throw _e=Object.prototype.toString.call(et),Error(p$6(31,_e==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":_e))}function Ng(_e){var et=_e._init;return et(_e._payload)}function Og(_e){function et(mt,gt){if(_e){var vt=mt.deletions;vt===null?(mt.deletions=[gt],mt.flags|=16):vt.push(gt)}}function tt(mt,gt){if(!_e)return null;for(;gt!==null;)et(mt,gt),gt=gt.sibling;return null}function rt(mt,gt){for(mt=new Map;gt!==null;)gt.key!==null?mt.set(gt.key,gt):mt.set(gt.index,gt),gt=gt.sibling;return mt}function nt(mt,gt){return mt=Pg(mt,gt),mt.index=0,mt.sibling=null,mt}function it(mt,gt,vt){return mt.index=vt,_e?(vt=mt.alternate,vt!==null?(vt=vt.index,vt<gt?(mt.flags|=2,gt):vt):(mt.flags|=2,gt)):(mt.flags|=1048576,gt)}function at(mt){return _e&&mt.alternate===null&&(mt.flags|=2),mt}function ot(mt,gt,vt,St){return gt===null||gt.tag!==6?(gt=Qg(vt,mt.mode,St),gt.return=mt,gt):(gt=nt(gt,vt),gt.return=mt,gt)}function st(mt,gt,vt,St){var xt=vt.type;return xt===ya?ct(mt,gt,vt.props.children,St,vt.key):gt!==null&&(gt.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===Ha&&Ng(xt)===gt.type)?(St=nt(gt,vt.props),St.ref=Lg(mt,gt,vt),St.return=mt,St):(St=Rg(vt.type,vt.key,vt.props,null,mt.mode,St),St.ref=Lg(mt,gt,vt),St.return=mt,St)}function lt(mt,gt,vt,St){return gt===null||gt.tag!==4||gt.stateNode.containerInfo!==vt.containerInfo||gt.stateNode.implementation!==vt.implementation?(gt=Sg(vt,mt.mode,St),gt.return=mt,gt):(gt=nt(gt,vt.children||[]),gt.return=mt,gt)}function ct(mt,gt,vt,St,xt){return gt===null||gt.tag!==7?(gt=Tg(vt,mt.mode,St,xt),gt.return=mt,gt):(gt=nt(gt,vt),gt.return=mt,gt)}function ut(mt,gt,vt){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return gt=Qg(""+gt,mt.mode,vt),gt.return=mt,gt;if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:return vt=Rg(gt.type,gt.key,gt.props,null,mt.mode,vt),vt.ref=Lg(mt,null,gt),vt.return=mt,vt;case wa:return gt=Sg(gt,mt.mode,vt),gt.return=mt,gt;case Ha:var St=gt._init;return ut(mt,St(gt._payload),vt)}if(eb(gt)||Ka(gt))return gt=Tg(gt,mt.mode,vt,null),gt.return=mt,gt;Mg(mt,gt)}return null}function dt(mt,gt,vt,St){var xt=gt!==null?gt.key:null;if(typeof vt=="string"&&vt!==""||typeof vt=="number")return xt!==null?null:ot(mt,gt,""+vt,St);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:return vt.key===xt?st(mt,gt,vt,St):null;case wa:return vt.key===xt?lt(mt,gt,vt,St):null;case Ha:return xt=vt._init,dt(mt,gt,xt(vt._payload),St)}if(eb(vt)||Ka(vt))return xt!==null?null:ct(mt,gt,vt,St,null);Mg(mt,vt)}return null}function ft(mt,gt,vt,St,xt){if(typeof St=="string"&&St!==""||typeof St=="number")return mt=mt.get(vt)||null,ot(gt,mt,""+St,xt);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case va:return mt=mt.get(St.key===null?vt:St.key)||null,st(gt,mt,St,xt);case wa:return mt=mt.get(St.key===null?vt:St.key)||null,lt(gt,mt,St,xt);case Ha:var Ct=St._init;return ft(mt,gt,vt,Ct(St._payload),xt)}if(eb(St)||Ka(St))return mt=mt.get(vt)||null,ct(gt,mt,St,xt,null);Mg(gt,St)}return null}function pt(mt,gt,vt,St){for(var xt=null,Ct=null,wt=gt,_t=gt=0,Ot=null;wt!==null&&_t<vt.length;_t++){wt.index>_t?(Ot=wt,wt=null):Ot=wt.sibling;var kt=dt(mt,wt,vt[_t],St);if(kt===null){wt===null&&(wt=Ot);break}_e&&wt&&kt.alternate===null&&et(mt,wt),gt=it(kt,gt,_t),Ct===null?xt=kt:Ct.sibling=kt,Ct=kt,wt=Ot}if(_t===vt.length)return tt(mt,wt),I$2&&tg(mt,_t),xt;if(wt===null){for(;_t<vt.length;_t++)wt=ut(mt,vt[_t],St),wt!==null&&(gt=it(wt,gt,_t),Ct===null?xt=wt:Ct.sibling=wt,Ct=wt);return I$2&&tg(mt,_t),xt}for(wt=rt(mt,wt);_t<vt.length;_t++)Ot=ft(wt,mt,_t,vt[_t],St),Ot!==null&&(_e&&Ot.alternate!==null&&wt.delete(Ot.key===null?_t:Ot.key),gt=it(Ot,gt,_t),Ct===null?xt=Ot:Ct.sibling=Ot,Ct=Ot);return _e&&wt.forEach(function(Lt){return et(mt,Lt)}),I$2&&tg(mt,_t),xt}function ht(mt,gt,vt,St){var xt=Ka(vt);if(typeof xt!="function")throw Error(p$6(150));if(vt=xt.call(vt),vt==null)throw Error(p$6(151));for(var Ct=xt=null,wt=gt,_t=gt=0,Ot=null,kt=vt.next();wt!==null&&!kt.done;_t++,kt=vt.next()){wt.index>_t?(Ot=wt,wt=null):Ot=wt.sibling;var Lt=dt(mt,wt,kt.value,St);if(Lt===null){wt===null&&(wt=Ot);break}_e&&wt&&Lt.alternate===null&&et(mt,wt),gt=it(Lt,gt,_t),Ct===null?xt=Lt:Ct.sibling=Lt,Ct=Lt,wt=Ot}if(kt.done)return tt(mt,wt),I$2&&tg(mt,_t),xt;if(wt===null){for(;!kt.done;_t++,kt=vt.next())kt=ut(mt,kt.value,St),kt!==null&&(gt=it(kt,gt,_t),Ct===null?xt=kt:Ct.sibling=kt,Ct=kt);return I$2&&tg(mt,_t),xt}for(wt=rt(mt,wt);!kt.done;_t++,kt=vt.next())kt=ft(wt,mt,_t,kt.value,St),kt!==null&&(_e&&kt.alternate!==null&&wt.delete(kt.key===null?_t:kt.key),gt=it(kt,gt,_t),Ct===null?xt=kt:Ct.sibling=kt,Ct=kt);return _e&&wt.forEach(function($t){return et(mt,$t)}),I$2&&tg(mt,_t),xt}function yt(mt,gt,vt,St){if(typeof vt=="object"&&vt!==null&&vt.type===ya&&vt.key===null&&(vt=vt.props.children),typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:e:{for(var xt=vt.key,Ct=gt;Ct!==null;){if(Ct.key===xt){if(xt=vt.type,xt===ya){if(Ct.tag===7){tt(mt,Ct.sibling),gt=nt(Ct,vt.props.children),gt.return=mt,mt=gt;break e}}else if(Ct.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===Ha&&Ng(xt)===Ct.type){tt(mt,Ct.sibling),gt=nt(Ct,vt.props),gt.ref=Lg(mt,Ct,vt),gt.return=mt,mt=gt;break e}tt(mt,Ct);break}else et(mt,Ct);Ct=Ct.sibling}vt.type===ya?(gt=Tg(vt.props.children,mt.mode,St,vt.key),gt.return=mt,mt=gt):(St=Rg(vt.type,vt.key,vt.props,null,mt.mode,St),St.ref=Lg(mt,gt,vt),St.return=mt,mt=St)}return at(mt);case wa:e:{for(Ct=vt.key;gt!==null;){if(gt.key===Ct)if(gt.tag===4&&gt.stateNode.containerInfo===vt.containerInfo&&gt.stateNode.implementation===vt.implementation){tt(mt,gt.sibling),gt=nt(gt,vt.children||[]),gt.return=mt,mt=gt;break e}else{tt(mt,gt);break}else et(mt,gt);gt=gt.sibling}gt=Sg(vt,mt.mode,St),gt.return=mt,mt=gt}return at(mt);case Ha:return Ct=vt._init,yt(mt,gt,Ct(vt._payload),St)}if(eb(vt))return pt(mt,gt,vt,St);if(Ka(vt))return ht(mt,gt,vt,St);Mg(mt,vt)}return typeof vt=="string"&&vt!==""||typeof vt=="number"?(vt=""+vt,gt!==null&&gt.tag===6?(tt(mt,gt.sibling),gt=nt(gt,vt),gt.return=mt,mt=gt):(tt(mt,gt),gt=Qg(vt,mt.mode,St),gt.return=mt,mt=gt),at(mt)):tt(mt,gt)}return yt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(_e){var et=Wg.current;E$3(Wg),_e._currentValue=et}function bh(_e,et,tt){for(;_e!==null;){var rt=_e.alternate;if((_e.childLanes&et)!==et?(_e.childLanes|=et,rt!==null&&(rt.childLanes|=et)):rt!==null&&(rt.childLanes&et)!==et&&(rt.childLanes|=et),_e===tt)break;_e=_e.return}}function ch(_e,et){Xg=_e,Zg=Yg=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&(_e.lanes&et&&(dh=!0),_e.firstContext=null)}function eh(_e){var et=_e._currentValue;if(Zg!==_e)if(_e={context:_e,memoizedValue:et,next:null},Yg===null){if(Xg===null)throw Error(p$6(308));Yg=_e,Xg.dependencies={lanes:0,firstContext:_e}}else Yg=Yg.next=_e;return et}var fh=null;function gh(_e){fh===null?fh=[_e]:fh.push(_e)}function hh(_e,et,tt,rt){var nt=et.interleaved;return nt===null?(tt.next=tt,gh(et)):(tt.next=nt.next,nt.next=tt),et.interleaved=tt,ih(_e,rt)}function ih(_e,et){_e.lanes|=et;var tt=_e.alternate;for(tt!==null&&(tt.lanes|=et),tt=_e,_e=_e.return;_e!==null;)_e.childLanes|=et,tt=_e.alternate,tt!==null&&(tt.childLanes|=et),tt=_e,_e=_e.return;return tt.tag===3?tt.stateNode:null}var jh=!1;function kh(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(_e,et){_e=_e.updateQueue,et.updateQueue===_e&&(et.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function mh(_e,et){return{eventTime:_e,lane:et,tag:0,payload:null,callback:null,next:null}}function nh(_e,et,tt){var rt=_e.updateQueue;if(rt===null)return null;if(rt=rt.shared,K$1&2){var nt=rt.pending;return nt===null?et.next=et:(et.next=nt.next,nt.next=et),rt.pending=et,ih(_e,tt)}return nt=rt.interleaved,nt===null?(et.next=et,gh(rt)):(et.next=nt.next,nt.next=et),rt.interleaved=et,ih(_e,tt)}function oh(_e,et,tt){if(et=et.updateQueue,et!==null&&(et=et.shared,(tt&4194240)!==0)){var rt=et.lanes;rt&=_e.pendingLanes,tt|=rt,et.lanes=tt,Cc(_e,tt)}}function ph(_e,et){var tt=_e.updateQueue,rt=_e.alternate;if(rt!==null&&(rt=rt.updateQueue,tt===rt)){var nt=null,it=null;if(tt=tt.firstBaseUpdate,tt!==null){do{var at={eventTime:tt.eventTime,lane:tt.lane,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null};it===null?nt=it=at:it=it.next=at,tt=tt.next}while(tt!==null);it===null?nt=it=et:it=it.next=et}else nt=it=et;tt={baseState:rt.baseState,firstBaseUpdate:nt,lastBaseUpdate:it,shared:rt.shared,effects:rt.effects},_e.updateQueue=tt;return}_e=tt.lastBaseUpdate,_e===null?tt.firstBaseUpdate=et:_e.next=et,tt.lastBaseUpdate=et}function qh(_e,et,tt,rt){var nt=_e.updateQueue;jh=!1;var it=nt.firstBaseUpdate,at=nt.lastBaseUpdate,ot=nt.shared.pending;if(ot!==null){nt.shared.pending=null;var st=ot,lt=st.next;st.next=null,at===null?it=lt:at.next=lt,at=st;var ct=_e.alternate;ct!==null&&(ct=ct.updateQueue,ot=ct.lastBaseUpdate,ot!==at&&(ot===null?ct.firstBaseUpdate=lt:ot.next=lt,ct.lastBaseUpdate=st))}if(it!==null){var ut=nt.baseState;at=0,ct=lt=st=null,ot=it;do{var dt=ot.lane,ft=ot.eventTime;if((rt&dt)===dt){ct!==null&&(ct=ct.next={eventTime:ft,lane:0,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null});e:{var pt=_e,ht=ot;switch(dt=et,ft=tt,ht.tag){case 1:if(pt=ht.payload,typeof pt=="function"){ut=pt.call(ft,ut,dt);break e}ut=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=ht.payload,dt=typeof pt=="function"?pt.call(ft,ut,dt):pt,dt==null)break e;ut=A$2({},ut,dt);break e;case 2:jh=!0}}ot.callback!==null&&ot.lane!==0&&(_e.flags|=64,dt=nt.effects,dt===null?nt.effects=[ot]:dt.push(ot))}else ft={eventTime:ft,lane:dt,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null},ct===null?(lt=ct=ft,st=ut):ct=ct.next=ft,at|=dt;if(ot=ot.next,ot===null){if(ot=nt.shared.pending,ot===null)break;dt=ot,ot=dt.next,dt.next=null,nt.lastBaseUpdate=dt,nt.shared.pending=null}}while(!0);if(ct===null&&(st=ut),nt.baseState=st,nt.firstBaseUpdate=lt,nt.lastBaseUpdate=ct,et=nt.shared.interleaved,et!==null){nt=et;do at|=nt.lane,nt=nt.next;while(nt!==et)}else it===null&&(nt.shared.lanes=0);rh|=at,_e.lanes=at,_e.memoizedState=ut}}function sh(_e,et,tt){if(_e=et.effects,et.effects=null,_e!==null)for(et=0;et<_e.length;et++){var rt=_e[et],nt=rt.callback;if(nt!==null){if(rt.callback=null,rt=tt,typeof nt!="function")throw Error(p$6(191,nt));nt.call(rt)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(_e){if(_e===th)throw Error(p$6(174));return _e}function yh(_e,et){switch(G$1(wh,et),G$1(vh$1,_e),G$1(uh,th),_e=et.nodeType,_e){case 9:case 11:et=(et=et.documentElement)?et.namespaceURI:lb(null,"");break;default:_e=_e===8?et.parentNode:et,et=_e.namespaceURI||null,_e=_e.tagName,et=lb(et,_e)}E$3(uh),G$1(uh,et)}function zh(){E$3(uh),E$3(vh$1),E$3(wh)}function Ah(_e){xh(wh.current);var et=xh(uh.current),tt=lb(et,_e.type);et!==tt&&(G$1(vh$1,_e),G$1(uh,tt))}function Bh(_e){vh$1.current===_e&&(E$3(uh),E$3(vh$1))}var L$3=Uf(0);function Ch(_e){for(var et=_e;et!==null;){if(et.tag===13){var tt=et.memoizedState;if(tt!==null&&(tt=tt.dehydrated,tt===null||tt.data==="$?"||tt.data==="$!"))return et}else if(et.tag===19&&et.memoizedProps.revealOrder!==void 0){if(et.flags&128)return et}else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===_e)break;for(;et.sibling===null;){if(et.return===null||et.return===_e)return null;et=et.return}et.sibling.return=et.return,et=et.sibling}return null}var Dh=[];function Eh(){for(var _e=0;_e<Dh.length;_e++)Dh[_e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$3=null,N$2=null,O$4=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$3(){throw Error(p$6(321))}function Mh(_e,et){if(et===null)return!1;for(var tt=0;tt<et.length&&tt<_e.length;tt++)if(!He$1(_e[tt],et[tt]))return!1;return!0}function Nh(_e,et,tt,rt,nt,it){if(Hh=it,M$3=et,et.memoizedState=null,et.updateQueue=null,et.lanes=0,Fh.current=_e===null||_e.memoizedState===null?Oh:Ph,_e=tt(rt,nt),Jh){it=0;do{if(Jh=!1,Kh=0,25<=it)throw Error(p$6(301));it+=1,O$4=N$2=null,et.updateQueue=null,Fh.current=Qh,_e=tt(rt,nt)}while(Jh)}if(Fh.current=Rh,et=N$2!==null&&N$2.next!==null,Hh=0,O$4=N$2=M$3=null,Ih=!1,et)throw Error(p$6(300));return _e}function Sh(){var _e=Kh!==0;return Kh=0,_e}function Th(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$4===null?M$3.memoizedState=O$4=_e:O$4=O$4.next=_e,O$4}function Uh(){if(N$2===null){var _e=M$3.alternate;_e=_e!==null?_e.memoizedState:null}else _e=N$2.next;var et=O$4===null?M$3.memoizedState:O$4.next;if(et!==null)O$4=et,N$2=_e;else{if(_e===null)throw Error(p$6(310));N$2=_e,_e={memoizedState:N$2.memoizedState,baseState:N$2.baseState,baseQueue:N$2.baseQueue,queue:N$2.queue,next:null},O$4===null?M$3.memoizedState=O$4=_e:O$4=O$4.next=_e}return O$4}function Vh(_e,et){return typeof et=="function"?et(_e):et}function Wh(_e){var et=Uh(),tt=et.queue;if(tt===null)throw Error(p$6(311));tt.lastRenderedReducer=_e;var rt=N$2,nt=rt.baseQueue,it=tt.pending;if(it!==null){if(nt!==null){var at=nt.next;nt.next=it.next,it.next=at}rt.baseQueue=nt=it,tt.pending=null}if(nt!==null){it=nt.next,rt=rt.baseState;var ot=at=null,st=null,lt=it;do{var ct=lt.lane;if((Hh&ct)===ct)st!==null&&(st=st.next={lane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),rt=lt.hasEagerState?lt.eagerState:_e(rt,lt.action);else{var ut={lane:ct,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null};st===null?(ot=st=ut,at=rt):st=st.next=ut,M$3.lanes|=ct,rh|=ct}lt=lt.next}while(lt!==null&&lt!==it);st===null?at=rt:st.next=ot,He$1(rt,et.memoizedState)||(dh=!0),et.memoizedState=rt,et.baseState=at,et.baseQueue=st,tt.lastRenderedState=rt}if(_e=tt.interleaved,_e!==null){nt=_e;do it=nt.lane,M$3.lanes|=it,rh|=it,nt=nt.next;while(nt!==_e)}else nt===null&&(tt.lanes=0);return[et.memoizedState,tt.dispatch]}function Xh(_e){var et=Uh(),tt=et.queue;if(tt===null)throw Error(p$6(311));tt.lastRenderedReducer=_e;var rt=tt.dispatch,nt=tt.pending,it=et.memoizedState;if(nt!==null){tt.pending=null;var at=nt=nt.next;do it=_e(it,at.action),at=at.next;while(at!==nt);He$1(it,et.memoizedState)||(dh=!0),et.memoizedState=it,et.baseQueue===null&&(et.baseState=it),tt.lastRenderedState=it}return[it,rt]}function Yh(){}function Zh(_e,et){var tt=M$3,rt=Uh(),nt=et(),it=!He$1(rt.memoizedState,nt);if(it&&(rt.memoizedState=nt,dh=!0),rt=rt.queue,$h(ai.bind(null,tt,rt,_e),[_e]),rt.getSnapshot!==et||it||O$4!==null&&O$4.memoizedState.tag&1){if(tt.flags|=2048,bi(9,ci.bind(null,tt,rt,nt,et),void 0,null),Q$2===null)throw Error(p$6(349));Hh&30||di(tt,et,nt)}return nt}function di(_e,et,tt){_e.flags|=16384,_e={getSnapshot:et,value:tt},et=M$3.updateQueue,et===null?(et={lastEffect:null,stores:null},M$3.updateQueue=et,et.stores=[_e]):(tt=et.stores,tt===null?et.stores=[_e]:tt.push(_e))}function ci(_e,et,tt,rt){et.value=tt,et.getSnapshot=rt,ei(et)&&fi(_e)}function ai(_e,et,tt){return tt(function(){ei(et)&&fi(_e)})}function ei(_e){var et=_e.getSnapshot;_e=_e.value;try{var tt=et();return!He$1(_e,tt)}catch{return!0}}function fi(_e){var et=ih(_e,1);et!==null&&gi(et,_e,1,-1)}function hi(_e){var et=Th();return typeof _e=="function"&&(_e=_e()),et.memoizedState=et.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:_e},et.queue=_e,_e=_e.dispatch=ii.bind(null,M$3,_e),[et.memoizedState,_e]}function bi(_e,et,tt,rt){return _e={tag:_e,create:et,destroy:tt,deps:rt,next:null},et=M$3.updateQueue,et===null?(et={lastEffect:null,stores:null},M$3.updateQueue=et,et.lastEffect=_e.next=_e):(tt=et.lastEffect,tt===null?et.lastEffect=_e.next=_e:(rt=tt.next,tt.next=_e,_e.next=rt,et.lastEffect=_e)),_e}function ji(){return Uh().memoizedState}function ki(_e,et,tt,rt){var nt=Th();M$3.flags|=_e,nt.memoizedState=bi(1|et,tt,void 0,rt===void 0?null:rt)}function li(_e,et,tt,rt){var nt=Uh();rt=rt===void 0?null:rt;var it=void 0;if(N$2!==null){var at=N$2.memoizedState;if(it=at.destroy,rt!==null&&Mh(rt,at.deps)){nt.memoizedState=bi(et,tt,it,rt);return}}M$3.flags|=_e,nt.memoizedState=bi(1|et,tt,it,rt)}function mi(_e,et){return ki(8390656,8,_e,et)}function $h(_e,et){return li(2048,8,_e,et)}function ni(_e,et){return li(4,2,_e,et)}function oi(_e,et){return li(4,4,_e,et)}function pi(_e,et){if(typeof et=="function")return _e=_e(),et(_e),function(){et(null)};if(et!=null)return _e=_e(),et.current=_e,function(){et.current=null}}function qi(_e,et,tt){return tt=tt!=null?tt.concat([_e]):null,li(4,4,pi.bind(null,et,_e),tt)}function ri(){}function si(_e,et){var tt=Uh();et=et===void 0?null:et;var rt=tt.memoizedState;return rt!==null&&et!==null&&Mh(et,rt[1])?rt[0]:(tt.memoizedState=[_e,et],_e)}function ti(_e,et){var tt=Uh();et=et===void 0?null:et;var rt=tt.memoizedState;return rt!==null&&et!==null&&Mh(et,rt[1])?rt[0]:(_e=_e(),tt.memoizedState=[_e,et],_e)}function ui(_e,et,tt){return Hh&21?(He$1(tt,et)||(tt=yc(),M$3.lanes|=tt,rh|=tt,_e.baseState=!0),et):(_e.baseState&&(_e.baseState=!1,dh=!0),_e.memoizedState=tt)}function vi(_e,et){var tt=C$2;C$2=tt!==0&&4>tt?tt:4,_e(!0);var rt=Gh.transition;Gh.transition={};try{_e(!1),et()}finally{C$2=tt,Gh.transition=rt}}function wi(){return Uh().memoizedState}function xi(_e,et,tt){var rt=yi(_e);if(tt={lane:rt,action:tt,hasEagerState:!1,eagerState:null,next:null},zi(_e))Ai(et,tt);else if(tt=hh(_e,et,tt,rt),tt!==null){var nt=R$3();gi(tt,_e,rt,nt),Bi(tt,et,rt)}}function ii(_e,et,tt){var rt=yi(_e),nt={lane:rt,action:tt,hasEagerState:!1,eagerState:null,next:null};if(zi(_e))Ai(et,nt);else{var it=_e.alternate;if(_e.lanes===0&&(it===null||it.lanes===0)&&(it=et.lastRenderedReducer,it!==null))try{var at=et.lastRenderedState,ot=it(at,tt);if(nt.hasEagerState=!0,nt.eagerState=ot,He$1(ot,at)){var st=et.interleaved;st===null?(nt.next=nt,gh(et)):(nt.next=st.next,st.next=nt),et.interleaved=nt;return}}catch{}finally{}tt=hh(_e,et,nt,rt),tt!==null&&(nt=R$3(),gi(tt,_e,rt,nt),Bi(tt,et,rt))}}function zi(_e){var et=_e.alternate;return _e===M$3||et!==null&&et===M$3}function Ai(_e,et){Jh=Ih=!0;var tt=_e.pending;tt===null?et.next=et:(et.next=tt.next,tt.next=et),_e.pending=et}function Bi(_e,et,tt){if(tt&4194240){var rt=et.lanes;rt&=_e.pendingLanes,tt|=rt,et.lanes=tt,Cc(_e,tt)}}var Rh={readContext:eh,useCallback:P$3,useContext:P$3,useEffect:P$3,useImperativeHandle:P$3,useInsertionEffect:P$3,useLayoutEffect:P$3,useMemo:P$3,useReducer:P$3,useRef:P$3,useState:P$3,useDebugValue:P$3,useDeferredValue:P$3,useTransition:P$3,useMutableSource:P$3,useSyncExternalStore:P$3,useId:P$3,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(_e,et){return Th().memoizedState=[_e,et===void 0?null:et],_e},useContext:eh,useEffect:mi,useImperativeHandle:function(_e,et,tt){return tt=tt!=null?tt.concat([_e]):null,ki(4194308,4,pi.bind(null,et,_e),tt)},useLayoutEffect:function(_e,et){return ki(4194308,4,_e,et)},useInsertionEffect:function(_e,et){return ki(4,2,_e,et)},useMemo:function(_e,et){var tt=Th();return et=et===void 0?null:et,_e=_e(),tt.memoizedState=[_e,et],_e},useReducer:function(_e,et,tt){var rt=Th();return et=tt!==void 0?tt(et):et,rt.memoizedState=rt.baseState=et,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:et},rt.queue=_e,_e=_e.dispatch=xi.bind(null,M$3,_e),[rt.memoizedState,_e]},useRef:function(_e){var et=Th();return _e={current:_e},et.memoizedState=_e},useState:hi,useDebugValue:ri,useDeferredValue:function(_e){return Th().memoizedState=_e},useTransition:function(){var _e=hi(!1),et=_e[0];return _e=vi.bind(null,_e[1]),Th().memoizedState=_e,[et,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,et,tt){var rt=M$3,nt=Th();if(I$2){if(tt===void 0)throw Error(p$6(407));tt=tt()}else{if(tt=et(),Q$2===null)throw Error(p$6(349));Hh&30||di(rt,et,tt)}nt.memoizedState=tt;var it={value:tt,getSnapshot:et};return nt.queue=it,mi(ai.bind(null,rt,it,_e),[_e]),rt.flags|=2048,bi(9,ci.bind(null,rt,it,tt,et),void 0,null),tt},useId:function(){var _e=Th(),et=Q$2.identifierPrefix;if(I$2){var tt=sg,rt=rg;tt=(rt&~(1<<32-oc(rt)-1)).toString(32)+tt,et=":"+et+"R"+tt,tt=Kh++,0<tt&&(et+="H"+tt.toString(32)),et+=":"}else tt=Lh++,et=":"+et+"r"+tt.toString(32)+":";return _e.memoizedState=et},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var et=Uh();return ui(et,N$2.memoizedState,_e)},useTransition:function(){var _e=Wh(Vh)[0],et=Uh().memoizedState;return[_e,et]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var et=Uh();return N$2===null?et.memoizedState=_e:ui(et,N$2.memoizedState,_e)},useTransition:function(){var _e=Xh(Vh)[0],et=Uh().memoizedState;return[_e,et]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(_e,et){if(_e&&_e.defaultProps){et=A$2({},et),_e=_e.defaultProps;for(var tt in _e)et[tt]===void 0&&(et[tt]=_e[tt]);return et}return et}function Di(_e,et,tt,rt){et=_e.memoizedState,tt=tt(rt,et),tt=tt==null?et:A$2({},et,tt),_e.memoizedState=tt,_e.lanes===0&&(_e.updateQueue.baseState=tt)}var Ei={isMounted:function(_e){return(_e=_e._reactInternals)?Vb(_e)===_e:!1},enqueueSetState:function(_e,et,tt){_e=_e._reactInternals;var rt=R$3(),nt=yi(_e),it=mh(rt,nt);it.payload=et,tt!=null&&(it.callback=tt),et=nh(_e,it,nt),et!==null&&(gi(et,_e,nt,rt),oh(et,_e,nt))},enqueueReplaceState:function(_e,et,tt){_e=_e._reactInternals;var rt=R$3(),nt=yi(_e),it=mh(rt,nt);it.tag=1,it.payload=et,tt!=null&&(it.callback=tt),et=nh(_e,it,nt),et!==null&&(gi(et,_e,nt,rt),oh(et,_e,nt))},enqueueForceUpdate:function(_e,et){_e=_e._reactInternals;var tt=R$3(),rt=yi(_e),nt=mh(tt,rt);nt.tag=2,et!=null&&(nt.callback=et),et=nh(_e,nt,rt),et!==null&&(gi(et,_e,rt,tt),oh(et,_e,rt))}};function Fi(_e,et,tt,rt,nt,it,at){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(rt,it,at):et.prototype&&et.prototype.isPureReactComponent?!Ie$1(tt,rt)||!Ie$1(nt,it):!0}function Gi(_e,et,tt){var rt=!1,nt=Vf,it=et.contextType;return typeof it=="object"&&it!==null?it=eh(it):(nt=Zf(et)?Xf:H$2.current,rt=et.contextTypes,it=(rt=rt!=null)?Yf(_e,nt):Vf),et=new et(tt,it),_e.memoizedState=et.state!==null&&et.state!==void 0?et.state:null,et.updater=Ei,_e.stateNode=et,et._reactInternals=_e,rt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=nt,_e.__reactInternalMemoizedMaskedChildContext=it),et}function Hi(_e,et,tt,rt){_e=et.state,typeof et.componentWillReceiveProps=="function"&&et.componentWillReceiveProps(tt,rt),typeof et.UNSAFE_componentWillReceiveProps=="function"&&et.UNSAFE_componentWillReceiveProps(tt,rt),et.state!==_e&&Ei.enqueueReplaceState(et,et.state,null)}function Ii(_e,et,tt,rt){var nt=_e.stateNode;nt.props=tt,nt.state=_e.memoizedState,nt.refs={},kh(_e);var it=et.contextType;typeof it=="object"&&it!==null?nt.context=eh(it):(it=Zf(et)?Xf:H$2.current,nt.context=Yf(_e,it)),nt.state=_e.memoizedState,it=et.getDerivedStateFromProps,typeof it=="function"&&(Di(_e,et,it,tt),nt.state=_e.memoizedState),typeof et.getDerivedStateFromProps=="function"||typeof nt.getSnapshotBeforeUpdate=="function"||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(et=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),et!==nt.state&&Ei.enqueueReplaceState(nt,nt.state,null),qh(_e,tt,nt,rt),nt.state=_e.memoizedState),typeof nt.componentDidMount=="function"&&(_e.flags|=4194308)}function Ji(_e,et){try{var tt="",rt=et;do tt+=Pa(rt),rt=rt.return;while(rt);var nt=tt}catch(it){nt=`
Error generating stack: `+it.message+`
`+it.stack}return{value:_e,source:et,stack:nt,digest:null}}function Ki(_e,et,tt){return{value:_e,source:null,stack:tt??null,digest:et??null}}function Li(_e,et){try{console.error(et.value)}catch(tt){setTimeout(function(){throw tt})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(_e,et,tt){tt=mh(-1,tt),tt.tag=3,tt.payload={element:null};var rt=et.value;return tt.callback=function(){Oi||(Oi=!0,Pi=rt),Li(_e,et)},tt}function Qi(_e,et,tt){tt=mh(-1,tt),tt.tag=3;var rt=_e.type.getDerivedStateFromError;if(typeof rt=="function"){var nt=et.value;tt.payload=function(){return rt(nt)},tt.callback=function(){Li(_e,et)}}var it=_e.stateNode;return it!==null&&typeof it.componentDidCatch=="function"&&(tt.callback=function(){Li(_e,et),typeof rt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var at=et.stack;this.componentDidCatch(et.value,{componentStack:at!==null?at:""})}),tt}function Si(_e,et,tt){var rt=_e.pingCache;if(rt===null){rt=_e.pingCache=new Mi;var nt=new Set;rt.set(et,nt)}else nt=rt.get(et),nt===void 0&&(nt=new Set,rt.set(et,nt));nt.has(tt)||(nt.add(tt),_e=Ti.bind(null,_e,et,tt),et.then(_e,_e))}function Ui(_e){do{var et;if((et=_e.tag===13)&&(et=_e.memoizedState,et=et!==null?et.dehydrated!==null:!0),et)return _e;_e=_e.return}while(_e!==null);return null}function Vi(_e,et,tt,rt,nt){return _e.mode&1?(_e.flags|=65536,_e.lanes=nt,_e):(_e===et?_e.flags|=65536:(_e.flags|=128,tt.flags|=131072,tt.flags&=-52805,tt.tag===1&&(tt.alternate===null?tt.tag=17:(et=mh(-1,1),et.tag=2,nh(tt,et,1))),tt.lanes|=1),_e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(_e,et,tt,rt){et.child=_e===null?Vg(et,null,tt,rt):Ug(et,_e.child,tt,rt)}function Yi(_e,et,tt,rt,nt){tt=tt.render;var it=et.ref;return ch(et,nt),rt=Nh(_e,et,tt,rt,it,nt),tt=Sh(),_e!==null&&!dh?(et.updateQueue=_e.updateQueue,et.flags&=-2053,_e.lanes&=~nt,Zi(_e,et,nt)):(I$2&&tt&&vg(et),et.flags|=1,Xi(_e,et,rt,nt),et.child)}function $i(_e,et,tt,rt,nt){if(_e===null){var it=tt.type;return typeof it=="function"&&!aj(it)&&it.defaultProps===void 0&&tt.compare===null&&tt.defaultProps===void 0?(et.tag=15,et.type=it,bj(_e,et,it,rt,nt)):(_e=Rg(tt.type,null,rt,et,et.mode,nt),_e.ref=et.ref,_e.return=et,et.child=_e)}if(it=_e.child,!(_e.lanes&nt)){var at=it.memoizedProps;if(tt=tt.compare,tt=tt!==null?tt:Ie$1,tt(at,rt)&&_e.ref===et.ref)return Zi(_e,et,nt)}return et.flags|=1,_e=Pg(it,rt),_e.ref=et.ref,_e.return=et,et.child=_e}function bj(_e,et,tt,rt,nt){if(_e!==null){var it=_e.memoizedProps;if(Ie$1(it,rt)&&_e.ref===et.ref)if(dh=!1,et.pendingProps=rt=it,(_e.lanes&nt)!==0)_e.flags&131072&&(dh=!0);else return et.lanes=_e.lanes,Zi(_e,et,nt)}return cj(_e,et,tt,rt,nt)}function dj(_e,et,tt){var rt=et.pendingProps,nt=rt.children,it=_e!==null?_e.memoizedState:null;if(rt.mode==="hidden")if(!(et.mode&1))et.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=tt;else{if(!(tt&1073741824))return _e=it!==null?it.baseLanes|tt:tt,et.lanes=et.childLanes=1073741824,et.memoizedState={baseLanes:_e,cachePool:null,transitions:null},et.updateQueue=null,G$1(ej,fj),fj|=_e,null;et.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt=it!==null?it.baseLanes:tt,G$1(ej,fj),fj|=rt}else it!==null?(rt=it.baseLanes|tt,et.memoizedState=null):rt=tt,G$1(ej,fj),fj|=rt;return Xi(_e,et,nt,tt),et.child}function gj(_e,et){var tt=et.ref;(_e===null&&tt!==null||_e!==null&&_e.ref!==tt)&&(et.flags|=512,et.flags|=2097152)}function cj(_e,et,tt,rt,nt){var it=Zf(tt)?Xf:H$2.current;return it=Yf(et,it),ch(et,nt),tt=Nh(_e,et,tt,rt,it,nt),rt=Sh(),_e!==null&&!dh?(et.updateQueue=_e.updateQueue,et.flags&=-2053,_e.lanes&=~nt,Zi(_e,et,nt)):(I$2&&rt&&vg(et),et.flags|=1,Xi(_e,et,tt,nt),et.child)}function hj(_e,et,tt,rt,nt){if(Zf(tt)){var it=!0;cg(et)}else it=!1;if(ch(et,nt),et.stateNode===null)ij(_e,et),Gi(et,tt,rt),Ii(et,tt,rt,nt),rt=!0;else if(_e===null){var at=et.stateNode,ot=et.memoizedProps;at.props=ot;var st=at.context,lt=tt.contextType;typeof lt=="object"&&lt!==null?lt=eh(lt):(lt=Zf(tt)?Xf:H$2.current,lt=Yf(et,lt));var ct=tt.getDerivedStateFromProps,ut=typeof ct=="function"||typeof at.getSnapshotBeforeUpdate=="function";ut||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(ot!==rt||st!==lt)&&Hi(et,at,rt,lt),jh=!1;var dt=et.memoizedState;at.state=dt,qh(et,rt,at,nt),st=et.memoizedState,ot!==rt||dt!==st||Wf.current||jh?(typeof ct=="function"&&(Di(et,tt,ct,rt),st=et.memoizedState),(ot=jh||Fi(et,tt,ot,rt,dt,st,lt))?(ut||typeof at.UNSAFE_componentWillMount!="function"&&typeof at.componentWillMount!="function"||(typeof at.componentWillMount=="function"&&at.componentWillMount(),typeof at.UNSAFE_componentWillMount=="function"&&at.UNSAFE_componentWillMount()),typeof at.componentDidMount=="function"&&(et.flags|=4194308)):(typeof at.componentDidMount=="function"&&(et.flags|=4194308),et.memoizedProps=rt,et.memoizedState=st),at.props=rt,at.state=st,at.context=lt,rt=ot):(typeof at.componentDidMount=="function"&&(et.flags|=4194308),rt=!1)}else{at=et.stateNode,lh(_e,et),ot=et.memoizedProps,lt=et.type===et.elementType?ot:Ci(et.type,ot),at.props=lt,ut=et.pendingProps,dt=at.context,st=tt.contextType,typeof st=="object"&&st!==null?st=eh(st):(st=Zf(tt)?Xf:H$2.current,st=Yf(et,st));var ft=tt.getDerivedStateFromProps;(ct=typeof ft=="function"||typeof at.getSnapshotBeforeUpdate=="function")||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(ot!==ut||dt!==st)&&Hi(et,at,rt,st),jh=!1,dt=et.memoizedState,at.state=dt,qh(et,rt,at,nt);var pt=et.memoizedState;ot!==ut||dt!==pt||Wf.current||jh?(typeof ft=="function"&&(Di(et,tt,ft,rt),pt=et.memoizedState),(lt=jh||Fi(et,tt,lt,rt,dt,pt,st)||!1)?(ct||typeof at.UNSAFE_componentWillUpdate!="function"&&typeof at.componentWillUpdate!="function"||(typeof at.componentWillUpdate=="function"&&at.componentWillUpdate(rt,pt,st),typeof at.UNSAFE_componentWillUpdate=="function"&&at.UNSAFE_componentWillUpdate(rt,pt,st)),typeof at.componentDidUpdate=="function"&&(et.flags|=4),typeof at.getSnapshotBeforeUpdate=="function"&&(et.flags|=1024)):(typeof at.componentDidUpdate!="function"||ot===_e.memoizedProps&&dt===_e.memoizedState||(et.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||ot===_e.memoizedProps&&dt===_e.memoizedState||(et.flags|=1024),et.memoizedProps=rt,et.memoizedState=pt),at.props=rt,at.state=pt,at.context=st,rt=lt):(typeof at.componentDidUpdate!="function"||ot===_e.memoizedProps&&dt===_e.memoizedState||(et.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||ot===_e.memoizedProps&&dt===_e.memoizedState||(et.flags|=1024),rt=!1)}return jj(_e,et,tt,rt,it,nt)}function jj(_e,et,tt,rt,nt,it){gj(_e,et);var at=(et.flags&128)!==0;if(!rt&&!at)return nt&&dg(et,tt,!1),Zi(_e,et,it);rt=et.stateNode,Wi.current=et;var ot=at&&typeof tt.getDerivedStateFromError!="function"?null:rt.render();return et.flags|=1,_e!==null&&at?(et.child=Ug(et,_e.child,null,it),et.child=Ug(et,null,ot,it)):Xi(_e,et,ot,it),et.memoizedState=rt.state,nt&&dg(et,tt,!0),et.child}function kj(_e){var et=_e.stateNode;et.pendingContext?ag(_e,et.pendingContext,et.pendingContext!==et.context):et.context&&ag(_e,et.context,!1),yh(_e,et.containerInfo)}function lj(_e,et,tt,rt,nt){return Ig(),Jg(nt),et.flags|=256,Xi(_e,et,tt,rt),et.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function oj(_e,et,tt){var rt=et.pendingProps,nt=L$3.current,it=!1,at=(et.flags&128)!==0,ot;if((ot=at)||(ot=_e!==null&&_e.memoizedState===null?!1:(nt&2)!==0),ot?(it=!0,et.flags&=-129):(_e===null||_e.memoizedState!==null)&&(nt|=1),G$1(L$3,nt&1),_e===null)return Eg(et),_e=et.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?(et.mode&1?_e.data==="$!"?et.lanes=8:et.lanes=1073741824:et.lanes=1,null):(at=rt.children,_e=rt.fallback,it?(rt=et.mode,it=et.child,at={mode:"hidden",children:at},!(rt&1)&&it!==null?(it.childLanes=0,it.pendingProps=at):it=pj(at,rt,0,null),_e=Tg(_e,rt,tt,null),it.return=et,_e.return=et,it.sibling=_e,et.child=it,et.child.memoizedState=nj(tt),et.memoizedState=mj,_e):qj(et,at));if(nt=_e.memoizedState,nt!==null&&(ot=nt.dehydrated,ot!==null))return rj(_e,et,at,rt,ot,nt,tt);if(it){it=rt.fallback,at=et.mode,nt=_e.child,ot=nt.sibling;var st={mode:"hidden",children:rt.children};return!(at&1)&&et.child!==nt?(rt=et.child,rt.childLanes=0,rt.pendingProps=st,et.deletions=null):(rt=Pg(nt,st),rt.subtreeFlags=nt.subtreeFlags&14680064),ot!==null?it=Pg(ot,it):(it=Tg(it,at,tt,null),it.flags|=2),it.return=et,rt.return=et,rt.sibling=it,et.child=rt,rt=it,it=et.child,at=_e.child.memoizedState,at=at===null?nj(tt):{baseLanes:at.baseLanes|tt,cachePool:null,transitions:at.transitions},it.memoizedState=at,it.childLanes=_e.childLanes&~tt,et.memoizedState=mj,rt}return it=_e.child,_e=it.sibling,rt=Pg(it,{mode:"visible",children:rt.children}),!(et.mode&1)&&(rt.lanes=tt),rt.return=et,rt.sibling=null,_e!==null&&(tt=et.deletions,tt===null?(et.deletions=[_e],et.flags|=16):tt.push(_e)),et.child=rt,et.memoizedState=null,rt}function qj(_e,et){return et=pj({mode:"visible",children:et},_e.mode,0,null),et.return=_e,_e.child=et}function sj(_e,et,tt,rt){return rt!==null&&Jg(rt),Ug(et,_e.child,null,tt),_e=qj(et,et.pendingProps.children),_e.flags|=2,et.memoizedState=null,_e}function rj(_e,et,tt,rt,nt,it,at){if(tt)return et.flags&256?(et.flags&=-257,rt=Ki(Error(p$6(422))),sj(_e,et,at,rt)):et.memoizedState!==null?(et.child=_e.child,et.flags|=128,null):(it=rt.fallback,nt=et.mode,rt=pj({mode:"visible",children:rt.children},nt,0,null),it=Tg(it,nt,at,null),it.flags|=2,rt.return=et,it.return=et,rt.sibling=it,et.child=rt,et.mode&1&&Ug(et,_e.child,null,at),et.child.memoizedState=nj(at),et.memoizedState=mj,it);if(!(et.mode&1))return sj(_e,et,at,null);if(nt.data==="$!"){if(rt=nt.nextSibling&&nt.nextSibling.dataset,rt)var ot=rt.dgst;return rt=ot,it=Error(p$6(419)),rt=Ki(it,rt,void 0),sj(_e,et,at,rt)}if(ot=(at&_e.childLanes)!==0,dh||ot){if(rt=Q$2,rt!==null){switch(at&-at){case 4:nt=2;break;case 16:nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nt=32;break;case 536870912:nt=268435456;break;default:nt=0}nt=nt&(rt.suspendedLanes|at)?0:nt,nt!==0&&nt!==it.retryLane&&(it.retryLane=nt,ih(_e,nt),gi(rt,_e,nt,-1))}return tj(),rt=Ki(Error(p$6(421))),sj(_e,et,at,rt)}return nt.data==="$?"?(et.flags|=128,et.child=_e.child,et=uj.bind(null,_e),nt._reactRetry=et,null):(_e=it.treeContext,yg=Lf(nt.nextSibling),xg=et,I$2=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=et),et=qj(et,rt.children),et.flags|=4096,et)}function vj(_e,et,tt){_e.lanes|=et;var rt=_e.alternate;rt!==null&&(rt.lanes|=et),bh(_e.return,et,tt)}function wj(_e,et,tt,rt,nt){var it=_e.memoizedState;it===null?_e.memoizedState={isBackwards:et,rendering:null,renderingStartTime:0,last:rt,tail:tt,tailMode:nt}:(it.isBackwards=et,it.rendering=null,it.renderingStartTime=0,it.last=rt,it.tail=tt,it.tailMode=nt)}function xj(_e,et,tt){var rt=et.pendingProps,nt=rt.revealOrder,it=rt.tail;if(Xi(_e,et,rt.children,tt),rt=L$3.current,rt&2)rt=rt&1|2,et.flags|=128;else{if(_e!==null&&_e.flags&128)e:for(_e=et.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&vj(_e,tt,et);else if(_e.tag===19)vj(_e,tt,et);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===et)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}rt&=1}if(G$1(L$3,rt),!(et.mode&1))et.memoizedState=null;else switch(nt){case"forwards":for(tt=et.child,nt=null;tt!==null;)_e=tt.alternate,_e!==null&&Ch(_e)===null&&(nt=tt),tt=tt.sibling;tt=nt,tt===null?(nt=et.child,et.child=null):(nt=tt.sibling,tt.sibling=null),wj(et,!1,nt,tt,it);break;case"backwards":for(tt=null,nt=et.child,et.child=null;nt!==null;){if(_e=nt.alternate,_e!==null&&Ch(_e)===null){et.child=nt;break}_e=nt.sibling,nt.sibling=tt,tt=nt,nt=_e}wj(et,!0,tt,null,it);break;case"together":wj(et,!1,null,null,void 0);break;default:et.memoizedState=null}return et.child}function ij(_e,et){!(et.mode&1)&&_e!==null&&(_e.alternate=null,et.alternate=null,et.flags|=2)}function Zi(_e,et,tt){if(_e!==null&&(et.dependencies=_e.dependencies),rh|=et.lanes,!(tt&et.childLanes))return null;if(_e!==null&&et.child!==_e.child)throw Error(p$6(153));if(et.child!==null){for(_e=et.child,tt=Pg(_e,_e.pendingProps),et.child=tt,tt.return=et;_e.sibling!==null;)_e=_e.sibling,tt=tt.sibling=Pg(_e,_e.pendingProps),tt.return=et;tt.sibling=null}return et.child}function yj(_e,et,tt){switch(et.tag){case 3:kj(et),Ig();break;case 5:Ah(et);break;case 1:Zf(et.type)&&cg(et);break;case 4:yh(et,et.stateNode.containerInfo);break;case 10:var rt=et.type._context,nt=et.memoizedProps.value;G$1(Wg,rt._currentValue),rt._currentValue=nt;break;case 13:if(rt=et.memoizedState,rt!==null)return rt.dehydrated!==null?(G$1(L$3,L$3.current&1),et.flags|=128,null):tt&et.child.childLanes?oj(_e,et,tt):(G$1(L$3,L$3.current&1),_e=Zi(_e,et,tt),_e!==null?_e.sibling:null);G$1(L$3,L$3.current&1);break;case 19:if(rt=(tt&et.childLanes)!==0,_e.flags&128){if(rt)return xj(_e,et,tt);et.flags|=128}if(nt=et.memoizedState,nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),G$1(L$3,L$3.current),rt)break;return null;case 22:case 23:return et.lanes=0,dj(_e,et,tt)}return Zi(_e,et,tt)}var zj,Aj,Bj,Cj;zj=function(_e,et){for(var tt=et.child;tt!==null;){if(tt.tag===5||tt.tag===6)_e.appendChild(tt.stateNode);else if(tt.tag!==4&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===et)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===et)return;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}};Aj=function(){};Bj=function(_e,et,tt,rt){var nt=_e.memoizedProps;if(nt!==rt){_e=et.stateNode,xh(uh.current);var it=null;switch(tt){case"input":nt=Ya(_e,nt),rt=Ya(_e,rt),it=[];break;case"select":nt=A$2({},nt,{value:void 0}),rt=A$2({},rt,{value:void 0}),it=[];break;case"textarea":nt=gb(_e,nt),rt=gb(_e,rt),it=[];break;default:typeof nt.onClick!="function"&&typeof rt.onClick=="function"&&(_e.onclick=Bf)}ub(tt,rt);var at;tt=null;for(lt in nt)if(!rt.hasOwnProperty(lt)&&nt.hasOwnProperty(lt)&&nt[lt]!=null)if(lt==="style"){var ot=nt[lt];for(at in ot)ot.hasOwnProperty(at)&&(tt||(tt={}),tt[at]="")}else lt!=="dangerouslySetInnerHTML"&&lt!=="children"&&lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&lt!=="autoFocus"&&(ea.hasOwnProperty(lt)?it||(it=[]):(it=it||[]).push(lt,null));for(lt in rt){var st=rt[lt];if(ot=nt!=null?nt[lt]:void 0,rt.hasOwnProperty(lt)&&st!==ot&&(st!=null||ot!=null))if(lt==="style")if(ot){for(at in ot)!ot.hasOwnProperty(at)||st&&st.hasOwnProperty(at)||(tt||(tt={}),tt[at]="");for(at in st)st.hasOwnProperty(at)&&ot[at]!==st[at]&&(tt||(tt={}),tt[at]=st[at])}else tt||(it||(it=[]),it.push(lt,tt)),tt=st;else lt==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,ot=ot?ot.__html:void 0,st!=null&&ot!==st&&(it=it||[]).push(lt,st)):lt==="children"?typeof st!="string"&&typeof st!="number"||(it=it||[]).push(lt,""+st):lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(lt)?(st!=null&&lt==="onScroll"&&D$2("scroll",_e),it||ot===st||(it=[])):(it=it||[]).push(lt,st))}tt&&(it=it||[]).push("style",tt);var lt=it;(et.updateQueue=lt)&&(et.flags|=4)}};Cj=function(_e,et,tt,rt){tt!==rt&&(et.flags|=4)};function Dj(_e,et){if(!I$2)switch(_e.tailMode){case"hidden":et=_e.tail;for(var tt=null;et!==null;)et.alternate!==null&&(tt=et),et=et.sibling;tt===null?_e.tail=null:tt.sibling=null;break;case"collapsed":tt=_e.tail;for(var rt=null;tt!==null;)tt.alternate!==null&&(rt=tt),tt=tt.sibling;rt===null?et||_e.tail===null?_e.tail=null:_e.tail.sibling=null:rt.sibling=null}}function S$2(_e){var et=_e.alternate!==null&&_e.alternate.child===_e.child,tt=0,rt=0;if(et)for(var nt=_e.child;nt!==null;)tt|=nt.lanes|nt.childLanes,rt|=nt.subtreeFlags&14680064,rt|=nt.flags&14680064,nt.return=_e,nt=nt.sibling;else for(nt=_e.child;nt!==null;)tt|=nt.lanes|nt.childLanes,rt|=nt.subtreeFlags,rt|=nt.flags,nt.return=_e,nt=nt.sibling;return _e.subtreeFlags|=rt,_e.childLanes=tt,et}function Ej(_e,et,tt){var rt=et.pendingProps;switch(wg(et),et.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(et),null;case 1:return Zf(et.type)&&$f(),S$2(et),null;case 3:return rt=et.stateNode,zh(),E$3(Wf),E$3(H$2),Eh(),rt.pendingContext&&(rt.context=rt.pendingContext,rt.pendingContext=null),(_e===null||_e.child===null)&&(Gg(et)?et.flags|=4:_e===null||_e.memoizedState.isDehydrated&&!(et.flags&256)||(et.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(_e,et),S$2(et),null;case 5:Bh(et);var nt=xh(wh.current);if(tt=et.type,_e!==null&&et.stateNode!=null)Bj(_e,et,tt,rt,nt),_e.ref!==et.ref&&(et.flags|=512,et.flags|=2097152);else{if(!rt){if(et.stateNode===null)throw Error(p$6(166));return S$2(et),null}if(_e=xh(uh.current),Gg(et)){rt=et.stateNode,tt=et.type;var it=et.memoizedProps;switch(rt[Of]=et,rt[Pf]=it,_e=(et.mode&1)!==0,tt){case"dialog":D$2("cancel",rt),D$2("close",rt);break;case"iframe":case"object":case"embed":D$2("load",rt);break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$2(lf[nt],rt);break;case"source":D$2("error",rt);break;case"img":case"image":case"link":D$2("error",rt),D$2("load",rt);break;case"details":D$2("toggle",rt);break;case"input":Za(rt,it),D$2("invalid",rt);break;case"select":rt._wrapperState={wasMultiple:!!it.multiple},D$2("invalid",rt);break;case"textarea":hb(rt,it),D$2("invalid",rt)}ub(tt,it),nt=null;for(var at in it)if(it.hasOwnProperty(at)){var ot=it[at];at==="children"?typeof ot=="string"?rt.textContent!==ot&&(it.suppressHydrationWarning!==!0&&Af(rt.textContent,ot,_e),nt=["children",ot]):typeof ot=="number"&&rt.textContent!==""+ot&&(it.suppressHydrationWarning!==!0&&Af(rt.textContent,ot,_e),nt=["children",""+ot]):ea.hasOwnProperty(at)&&ot!=null&&at==="onScroll"&&D$2("scroll",rt)}switch(tt){case"input":Va(rt),db(rt,it,!0);break;case"textarea":Va(rt),jb(rt);break;case"select":case"option":break;default:typeof it.onClick=="function"&&(rt.onclick=Bf)}rt=nt,et.updateQueue=rt,rt!==null&&(et.flags|=4)}else{at=nt.nodeType===9?nt:nt.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb(tt)),_e==="http://www.w3.org/1999/xhtml"?tt==="script"?(_e=at.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof rt.is=="string"?_e=at.createElement(tt,{is:rt.is}):(_e=at.createElement(tt),tt==="select"&&(at=_e,rt.multiple?at.multiple=!0:rt.size&&(at.size=rt.size))):_e=at.createElementNS(_e,tt),_e[Of]=et,_e[Pf]=rt,zj(_e,et,!1,!1),et.stateNode=_e;e:{switch(at=vb(tt,rt),tt){case"dialog":D$2("cancel",_e),D$2("close",_e),nt=rt;break;case"iframe":case"object":case"embed":D$2("load",_e),nt=rt;break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$2(lf[nt],_e);nt=rt;break;case"source":D$2("error",_e),nt=rt;break;case"img":case"image":case"link":D$2("error",_e),D$2("load",_e),nt=rt;break;case"details":D$2("toggle",_e),nt=rt;break;case"input":Za(_e,rt),nt=Ya(_e,rt),D$2("invalid",_e);break;case"option":nt=rt;break;case"select":_e._wrapperState={wasMultiple:!!rt.multiple},nt=A$2({},rt,{value:void 0}),D$2("invalid",_e);break;case"textarea":hb(_e,rt),nt=gb(_e,rt),D$2("invalid",_e);break;default:nt=rt}ub(tt,nt),ot=nt;for(it in ot)if(ot.hasOwnProperty(it)){var st=ot[it];it==="style"?sb(_e,st):it==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,st!=null&&nb(_e,st)):it==="children"?typeof st=="string"?(tt!=="textarea"||st!=="")&&ob(_e,st):typeof st=="number"&&ob(_e,""+st):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?st!=null&&it==="onScroll"&&D$2("scroll",_e):st!=null&&ta(_e,it,st,at))}switch(tt){case"input":Va(_e),db(_e,rt,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":rt.value!=null&&_e.setAttribute("value",""+Sa(rt.value));break;case"select":_e.multiple=!!rt.multiple,it=rt.value,it!=null?fb(_e,!!rt.multiple,it,!1):rt.defaultValue!=null&&fb(_e,!!rt.multiple,rt.defaultValue,!0);break;default:typeof nt.onClick=="function"&&(_e.onclick=Bf)}switch(tt){case"button":case"input":case"select":case"textarea":rt=!!rt.autoFocus;break e;case"img":rt=!0;break e;default:rt=!1}}rt&&(et.flags|=4)}et.ref!==null&&(et.flags|=512,et.flags|=2097152)}return S$2(et),null;case 6:if(_e&&et.stateNode!=null)Cj(_e,et,_e.memoizedProps,rt);else{if(typeof rt!="string"&&et.stateNode===null)throw Error(p$6(166));if(tt=xh(wh.current),xh(uh.current),Gg(et)){if(rt=et.stateNode,tt=et.memoizedProps,rt[Of]=et,(it=rt.nodeValue!==tt)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af(rt.nodeValue,tt,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af(rt.nodeValue,tt,(_e.mode&1)!==0)}it&&(et.flags|=4)}else rt=(tt.nodeType===9?tt:tt.ownerDocument).createTextNode(rt),rt[Of]=et,et.stateNode=rt}return S$2(et),null;case 13:if(E$3(L$3),rt=et.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I$2&&yg!==null&&et.mode&1&&!(et.flags&128))Hg(),Ig(),et.flags|=98560,it=!1;else if(it=Gg(et),rt!==null&&rt.dehydrated!==null){if(_e===null){if(!it)throw Error(p$6(318));if(it=et.memoizedState,it=it!==null?it.dehydrated:null,!it)throw Error(p$6(317));it[Of]=et}else Ig(),!(et.flags&128)&&(et.memoizedState=null),et.flags|=4;S$2(et),it=!1}else zg!==null&&(Fj(zg),zg=null),it=!0;if(!it)return et.flags&65536?et:null}return et.flags&128?(et.lanes=tt,et):(rt=rt!==null,rt!==(_e!==null&&_e.memoizedState!==null)&&rt&&(et.child.flags|=8192,et.mode&1&&(_e===null||L$3.current&1?T$2===0&&(T$2=3):tj())),et.updateQueue!==null&&(et.flags|=4),S$2(et),null);case 4:return zh(),Aj(_e,et),_e===null&&sf(et.stateNode.containerInfo),S$2(et),null;case 10:return ah(et.type._context),S$2(et),null;case 17:return Zf(et.type)&&$f(),S$2(et),null;case 19:if(E$3(L$3),it=et.memoizedState,it===null)return S$2(et),null;if(rt=(et.flags&128)!==0,at=it.rendering,at===null)if(rt)Dj(it,!1);else{if(T$2!==0||_e!==null&&_e.flags&128)for(_e=et.child;_e!==null;){if(at=Ch(_e),at!==null){for(et.flags|=128,Dj(it,!1),rt=at.updateQueue,rt!==null&&(et.updateQueue=rt,et.flags|=4),et.subtreeFlags=0,rt=tt,tt=et.child;tt!==null;)it=tt,_e=rt,it.flags&=14680066,at=it.alternate,at===null?(it.childLanes=0,it.lanes=_e,it.child=null,it.subtreeFlags=0,it.memoizedProps=null,it.memoizedState=null,it.updateQueue=null,it.dependencies=null,it.stateNode=null):(it.childLanes=at.childLanes,it.lanes=at.lanes,it.child=at.child,it.subtreeFlags=0,it.deletions=null,it.memoizedProps=at.memoizedProps,it.memoizedState=at.memoizedState,it.updateQueue=at.updateQueue,it.type=at.type,_e=at.dependencies,it.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),tt=tt.sibling;return G$1(L$3,L$3.current&1|2),et.child}_e=_e.sibling}it.tail!==null&&B$2()>Gj&&(et.flags|=128,rt=!0,Dj(it,!1),et.lanes=4194304)}else{if(!rt)if(_e=Ch(at),_e!==null){if(et.flags|=128,rt=!0,tt=_e.updateQueue,tt!==null&&(et.updateQueue=tt,et.flags|=4),Dj(it,!0),it.tail===null&&it.tailMode==="hidden"&&!at.alternate&&!I$2)return S$2(et),null}else 2*B$2()-it.renderingStartTime>Gj&&tt!==1073741824&&(et.flags|=128,rt=!0,Dj(it,!1),et.lanes=4194304);it.isBackwards?(at.sibling=et.child,et.child=at):(tt=it.last,tt!==null?tt.sibling=at:et.child=at,it.last=at)}return it.tail!==null?(et=it.tail,it.rendering=et,it.tail=et.sibling,it.renderingStartTime=B$2(),et.sibling=null,tt=L$3.current,G$1(L$3,rt?tt&1|2:tt&1),et):(S$2(et),null);case 22:case 23:return Hj(),rt=et.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==rt&&(et.flags|=8192),rt&&et.mode&1?fj&1073741824&&(S$2(et),et.subtreeFlags&6&&(et.flags|=8192)):S$2(et),null;case 24:return null;case 25:return null}throw Error(p$6(156,et.tag))}function Ij(_e,et){switch(wg(et),et.tag){case 1:return Zf(et.type)&&$f(),_e=et.flags,_e&65536?(et.flags=_e&-65537|128,et):null;case 3:return zh(),E$3(Wf),E$3(H$2),Eh(),_e=et.flags,_e&65536&&!(_e&128)?(et.flags=_e&-65537|128,et):null;case 5:return Bh(et),null;case 13:if(E$3(L$3),_e=et.memoizedState,_e!==null&&_e.dehydrated!==null){if(et.alternate===null)throw Error(p$6(340));Ig()}return _e=et.flags,_e&65536?(et.flags=_e&-65537|128,et):null;case 19:return E$3(L$3),null;case 4:return zh(),null;case 10:return ah(et.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(_e,et){var tt=_e.ref;if(tt!==null)if(typeof tt=="function")try{tt(null)}catch(rt){W$2(_e,et,rt)}else tt.current=null}function Mj(_e,et,tt){try{tt()}catch(rt){W$2(_e,et,rt)}}var Nj=!1;function Oj(_e,et){if(Cf=dd,_e=Me(),Ne(_e)){if("selectionStart"in _e)var tt={start:_e.selectionStart,end:_e.selectionEnd};else e:{tt=(tt=_e.ownerDocument)&&tt.defaultView||window;var rt=tt.getSelection&&tt.getSelection();if(rt&&rt.rangeCount!==0){tt=rt.anchorNode;var nt=rt.anchorOffset,it=rt.focusNode;rt=rt.focusOffset;try{tt.nodeType,it.nodeType}catch{tt=null;break e}var at=0,ot=-1,st=-1,lt=0,ct=0,ut=_e,dt=null;t:for(;;){for(var ft;ut!==tt||nt!==0&&ut.nodeType!==3||(ot=at+nt),ut!==it||rt!==0&&ut.nodeType!==3||(st=at+rt),ut.nodeType===3&&(at+=ut.nodeValue.length),(ft=ut.firstChild)!==null;)dt=ut,ut=ft;for(;;){if(ut===_e)break t;if(dt===tt&&++lt===nt&&(ot=at),dt===it&&++ct===rt&&(st=at),(ft=ut.nextSibling)!==null)break;ut=dt,dt=ut.parentNode}ut=ft}tt=ot===-1||st===-1?null:{start:ot,end:st}}else tt=null}tt=tt||{start:0,end:0}}else tt=null;for(Df={focusedElem:_e,selectionRange:tt},dd=!1,V=et;V!==null;)if(et=V,_e=et.child,(et.subtreeFlags&1028)!==0&&_e!==null)_e.return=et,V=_e;else for(;V!==null;){et=V;try{var pt=et.alternate;if(et.flags&1024)switch(et.tag){case 0:case 11:case 15:break;case 1:if(pt!==null){var ht=pt.memoizedProps,yt=pt.memoizedState,mt=et.stateNode,gt=mt.getSnapshotBeforeUpdate(et.elementType===et.type?ht:Ci(et.type,ht),yt);mt.__reactInternalSnapshotBeforeUpdate=gt}break;case 3:var vt=et.stateNode.containerInfo;vt.nodeType===1?vt.textContent="":vt.nodeType===9&&vt.documentElement&&vt.removeChild(vt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$6(163))}}catch(St){W$2(et,et.return,St)}if(_e=et.sibling,_e!==null){_e.return=et.return,V=_e;break}V=et.return}return pt=Nj,Nj=!1,pt}function Pj(_e,et,tt){var rt=et.updateQueue;if(rt=rt!==null?rt.lastEffect:null,rt!==null){var nt=rt=rt.next;do{if((nt.tag&_e)===_e){var it=nt.destroy;nt.destroy=void 0,it!==void 0&&Mj(et,tt,it)}nt=nt.next}while(nt!==rt)}}function Qj(_e,et){if(et=et.updateQueue,et=et!==null?et.lastEffect:null,et!==null){var tt=et=et.next;do{if((tt.tag&_e)===_e){var rt=tt.create;tt.destroy=rt()}tt=tt.next}while(tt!==et)}}function Rj(_e){var et=_e.ref;if(et!==null){var tt=_e.stateNode;switch(_e.tag){case 5:_e=tt;break;default:_e=tt}typeof et=="function"?et(_e):et.current=_e}}function Sj(_e){var et=_e.alternate;et!==null&&(_e.alternate=null,Sj(et)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&(et=_e.stateNode,et!==null&&(delete et[Of],delete et[Pf],delete et[of],delete et[Qf],delete et[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Tj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Uj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Tj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Vj(_e,et,tt){var rt=_e.tag;if(rt===5||rt===6)_e=_e.stateNode,et?tt.nodeType===8?tt.parentNode.insertBefore(_e,et):tt.insertBefore(_e,et):(tt.nodeType===8?(et=tt.parentNode,et.insertBefore(_e,tt)):(et=tt,et.appendChild(_e)),tt=tt._reactRootContainer,tt!=null||et.onclick!==null||(et.onclick=Bf));else if(rt!==4&&(_e=_e.child,_e!==null))for(Vj(_e,et,tt),_e=_e.sibling;_e!==null;)Vj(_e,et,tt),_e=_e.sibling}function Wj(_e,et,tt){var rt=_e.tag;if(rt===5||rt===6)_e=_e.stateNode,et?tt.insertBefore(_e,et):tt.appendChild(_e);else if(rt!==4&&(_e=_e.child,_e!==null))for(Wj(_e,et,tt),_e=_e.sibling;_e!==null;)Wj(_e,et,tt),_e=_e.sibling}var X$1=null,Xj=!1;function Yj(_e,et,tt){for(tt=tt.child;tt!==null;)Zj(_e,et,tt),tt=tt.sibling}function Zj(_e,et,tt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,tt)}catch{}switch(tt.tag){case 5:U$1||Lj(tt,et);case 6:var rt=X$1,nt=Xj;X$1=null,Yj(_e,et,tt),X$1=rt,Xj=nt,X$1!==null&&(Xj?(_e=X$1,tt=tt.stateNode,_e.nodeType===8?_e.parentNode.removeChild(tt):_e.removeChild(tt)):X$1.removeChild(tt.stateNode));break;case 18:X$1!==null&&(Xj?(_e=X$1,tt=tt.stateNode,_e.nodeType===8?Kf(_e.parentNode,tt):_e.nodeType===1&&Kf(_e,tt),bd(_e)):Kf(X$1,tt.stateNode));break;case 4:rt=X$1,nt=Xj,X$1=tt.stateNode.containerInfo,Xj=!0,Yj(_e,et,tt),X$1=rt,Xj=nt;break;case 0:case 11:case 14:case 15:if(!U$1&&(rt=tt.updateQueue,rt!==null&&(rt=rt.lastEffect,rt!==null))){nt=rt=rt.next;do{var it=nt,at=it.destroy;it=it.tag,at!==void 0&&(it&2||it&4)&&Mj(tt,et,at),nt=nt.next}while(nt!==rt)}Yj(_e,et,tt);break;case 1:if(!U$1&&(Lj(tt,et),rt=tt.stateNode,typeof rt.componentWillUnmount=="function"))try{rt.props=tt.memoizedProps,rt.state=tt.memoizedState,rt.componentWillUnmount()}catch(ot){W$2(tt,et,ot)}Yj(_e,et,tt);break;case 21:Yj(_e,et,tt);break;case 22:tt.mode&1?(U$1=(rt=U$1)||tt.memoizedState!==null,Yj(_e,et,tt),U$1=rt):Yj(_e,et,tt);break;default:Yj(_e,et,tt)}}function ak(_e){var et=_e.updateQueue;if(et!==null){_e.updateQueue=null;var tt=_e.stateNode;tt===null&&(tt=_e.stateNode=new Kj),et.forEach(function(rt){var nt=bk.bind(null,_e,rt);tt.has(rt)||(tt.add(rt),rt.then(nt,nt))})}}function ck(_e,et){var tt=et.deletions;if(tt!==null)for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];try{var it=_e,at=et,ot=at;e:for(;ot!==null;){switch(ot.tag){case 5:X$1=ot.stateNode,Xj=!1;break e;case 3:X$1=ot.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=ot.stateNode.containerInfo,Xj=!0;break e}ot=ot.return}if(X$1===null)throw Error(p$6(160));Zj(it,at,nt),X$1=null,Xj=!1;var st=nt.alternate;st!==null&&(st.return=null),nt.return=null}catch(lt){W$2(nt,et,lt)}}if(et.subtreeFlags&12854)for(et=et.child;et!==null;)dk(et,_e),et=et.sibling}function dk(_e,et){var tt=_e.alternate,rt=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(ck(et,_e),ek(_e),rt&4){try{Pj(3,_e,_e.return),Qj(3,_e)}catch(ht){W$2(_e,_e.return,ht)}try{Pj(5,_e,_e.return)}catch(ht){W$2(_e,_e.return,ht)}}break;case 1:ck(et,_e),ek(_e),rt&512&&tt!==null&&Lj(tt,tt.return);break;case 5:if(ck(et,_e),ek(_e),rt&512&&tt!==null&&Lj(tt,tt.return),_e.flags&32){var nt=_e.stateNode;try{ob(nt,"")}catch(ht){W$2(_e,_e.return,ht)}}if(rt&4&&(nt=_e.stateNode,nt!=null)){var it=_e.memoizedProps,at=tt!==null?tt.memoizedProps:it,ot=_e.type,st=_e.updateQueue;if(_e.updateQueue=null,st!==null)try{ot==="input"&&it.type==="radio"&&it.name!=null&&ab(nt,it),vb(ot,at);var lt=vb(ot,it);for(at=0;at<st.length;at+=2){var ct=st[at],ut=st[at+1];ct==="style"?sb(nt,ut):ct==="dangerouslySetInnerHTML"?nb(nt,ut):ct==="children"?ob(nt,ut):ta(nt,ct,ut,lt)}switch(ot){case"input":bb(nt,it);break;case"textarea":ib(nt,it);break;case"select":var dt=nt._wrapperState.wasMultiple;nt._wrapperState.wasMultiple=!!it.multiple;var ft=it.value;ft!=null?fb(nt,!!it.multiple,ft,!1):dt!==!!it.multiple&&(it.defaultValue!=null?fb(nt,!!it.multiple,it.defaultValue,!0):fb(nt,!!it.multiple,it.multiple?[]:"",!1))}nt[Pf]=it}catch(ht){W$2(_e,_e.return,ht)}}break;case 6:if(ck(et,_e),ek(_e),rt&4){if(_e.stateNode===null)throw Error(p$6(162));nt=_e.stateNode,it=_e.memoizedProps;try{nt.nodeValue=it}catch(ht){W$2(_e,_e.return,ht)}}break;case 3:if(ck(et,_e),ek(_e),rt&4&&tt!==null&&tt.memoizedState.isDehydrated)try{bd(et.containerInfo)}catch(ht){W$2(_e,_e.return,ht)}break;case 4:ck(et,_e),ek(_e);break;case 13:ck(et,_e),ek(_e),nt=_e.child,nt.flags&8192&&(it=nt.memoizedState!==null,nt.stateNode.isHidden=it,!it||nt.alternate!==null&&nt.alternate.memoizedState!==null||(fk=B$2())),rt&4&&ak(_e);break;case 22:if(ct=tt!==null&&tt.memoizedState!==null,_e.mode&1?(U$1=(lt=U$1)||ct,ck(et,_e),U$1=lt):ck(et,_e),ek(_e),rt&8192){if(lt=_e.memoizedState!==null,(_e.stateNode.isHidden=lt)&&!ct&&_e.mode&1)for(V=_e,ct=_e.child;ct!==null;){for(ut=V=ct;V!==null;){switch(dt=V,ft=dt.child,dt.tag){case 0:case 11:case 14:case 15:Pj(4,dt,dt.return);break;case 1:Lj(dt,dt.return);var pt=dt.stateNode;if(typeof pt.componentWillUnmount=="function"){rt=dt,tt=dt.return;try{et=rt,pt.props=et.memoizedProps,pt.state=et.memoizedState,pt.componentWillUnmount()}catch(ht){W$2(rt,tt,ht)}}break;case 5:Lj(dt,dt.return);break;case 22:if(dt.memoizedState!==null){gk(ut);continue}}ft!==null?(ft.return=dt,V=ft):gk(ut)}ct=ct.sibling}e:for(ct=null,ut=_e;;){if(ut.tag===5){if(ct===null){ct=ut;try{nt=ut.stateNode,lt?(it=nt.style,typeof it.setProperty=="function"?it.setProperty("display","none","important"):it.display="none"):(ot=ut.stateNode,st=ut.memoizedProps.style,at=st!=null&&st.hasOwnProperty("display")?st.display:null,ot.style.display=rb("display",at))}catch(ht){W$2(_e,_e.return,ht)}}}else if(ut.tag===6){if(ct===null)try{ut.stateNode.nodeValue=lt?"":ut.memoizedProps}catch(ht){W$2(_e,_e.return,ht)}}else if((ut.tag!==22&&ut.tag!==23||ut.memoizedState===null||ut===_e)&&ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===_e)break e;for(;ut.sibling===null;){if(ut.return===null||ut.return===_e)break e;ct===ut&&(ct=null),ut=ut.return}ct===ut&&(ct=null),ut.sibling.return=ut.return,ut=ut.sibling}}break;case 19:ck(et,_e),ek(_e),rt&4&&ak(_e);break;case 21:break;default:ck(et,_e),ek(_e)}}function ek(_e){var et=_e.flags;if(et&2){try{e:{for(var tt=_e.return;tt!==null;){if(Tj(tt)){var rt=tt;break e}tt=tt.return}throw Error(p$6(160))}switch(rt.tag){case 5:var nt=rt.stateNode;rt.flags&32&&(ob(nt,""),rt.flags&=-33);var it=Uj(_e);Wj(_e,it,nt);break;case 3:case 4:var at=rt.stateNode.containerInfo,ot=Uj(_e);Vj(_e,ot,at);break;default:throw Error(p$6(161))}}catch(st){W$2(_e,_e.return,st)}_e.flags&=-3}et&4096&&(_e.flags&=-4097)}function hk(_e,et,tt){V=_e,ik(_e)}function ik(_e,et,tt){for(var rt=(_e.mode&1)!==0;V!==null;){var nt=V,it=nt.child;if(nt.tag===22&&rt){var at=nt.memoizedState!==null||Jj;if(!at){var ot=nt.alternate,st=ot!==null&&ot.memoizedState!==null||U$1;ot=Jj;var lt=U$1;if(Jj=at,(U$1=st)&&!lt)for(V=nt;V!==null;)at=V,st=at.child,at.tag===22&&at.memoizedState!==null?jk(nt):st!==null?(st.return=at,V=st):jk(nt);for(;it!==null;)V=it,ik(it),it=it.sibling;V=nt,Jj=ot,U$1=lt}kk(_e)}else nt.subtreeFlags&8772&&it!==null?(it.return=nt,V=it):kk(_e)}}function kk(_e){for(;V!==null;){var et=V;if(et.flags&8772){var tt=et.alternate;try{if(et.flags&8772)switch(et.tag){case 0:case 11:case 15:U$1||Qj(5,et);break;case 1:var rt=et.stateNode;if(et.flags&4&&!U$1)if(tt===null)rt.componentDidMount();else{var nt=et.elementType===et.type?tt.memoizedProps:Ci(et.type,tt.memoizedProps);rt.componentDidUpdate(nt,tt.memoizedState,rt.__reactInternalSnapshotBeforeUpdate)}var it=et.updateQueue;it!==null&&sh(et,it,rt);break;case 3:var at=et.updateQueue;if(at!==null){if(tt=null,et.child!==null)switch(et.child.tag){case 5:tt=et.child.stateNode;break;case 1:tt=et.child.stateNode}sh(et,at,tt)}break;case 5:var ot=et.stateNode;if(tt===null&&et.flags&4){tt=ot;var st=et.memoizedProps;switch(et.type){case"button":case"input":case"select":case"textarea":st.autoFocus&&tt.focus();break;case"img":st.src&&(tt.src=st.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(et.memoizedState===null){var lt=et.alternate;if(lt!==null){var ct=lt.memoizedState;if(ct!==null){var ut=ct.dehydrated;ut!==null&&bd(ut)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$6(163))}U$1||et.flags&512&&Rj(et)}catch(dt){W$2(et,et.return,dt)}}if(et===_e){V=null;break}if(tt=et.sibling,tt!==null){tt.return=et.return,V=tt;break}V=et.return}}function gk(_e){for(;V!==null;){var et=V;if(et===_e){V=null;break}var tt=et.sibling;if(tt!==null){tt.return=et.return,V=tt;break}V=et.return}}function jk(_e){for(;V!==null;){var et=V;try{switch(et.tag){case 0:case 11:case 15:var tt=et.return;try{Qj(4,et)}catch(st){W$2(et,tt,st)}break;case 1:var rt=et.stateNode;if(typeof rt.componentDidMount=="function"){var nt=et.return;try{rt.componentDidMount()}catch(st){W$2(et,nt,st)}}var it=et.return;try{Rj(et)}catch(st){W$2(et,it,st)}break;case 5:var at=et.return;try{Rj(et)}catch(st){W$2(et,at,st)}}}catch(st){W$2(et,et.return,st)}if(et===_e){V=null;break}var ot=et.sibling;if(ot!==null){ot.return=et.return,V=ot;break}V=et.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$1=0,Q$2=null,Y$1=null,Z=0,fj=0,ej=Uf(0),T$2=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$3(){return K$1&6?B$2():Ak!==-1?Ak:Ak=B$2()}function yi(_e){return _e.mode&1?K$1&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(_e=C$2,_e!==0||(_e=window.event,_e=_e===void 0?16:jd(_e.type)),_e):1}function gi(_e,et,tt,rt){if(50<yk)throw yk=0,zk=null,Error(p$6(185));Ac(_e,tt,rt),(!(K$1&2)||_e!==Q$2)&&(_e===Q$2&&(!(K$1&2)&&(qk|=tt),T$2===4&&Ck(_e,Z)),Dk(_e,rt),tt===1&&K$1===0&&!(et.mode&1)&&(Gj=B$2()+500,fg&&jg()))}function Dk(_e,et){var tt=_e.callbackNode;wc(_e,et);var rt=uc(_e,_e===Q$2?Z:0);if(rt===0)tt!==null&&bc(tt),_e.callbackNode=null,_e.callbackPriority=0;else if(et=rt&-rt,_e.callbackPriority!==et){if(tt!=null&&bc(tt),et===1)_e.tag===0?ig(Ek.bind(null,_e)):hg(Ek.bind(null,_e)),Jf(function(){!(K$1&6)&&jg()}),tt=null;else{switch(Dc(rt)){case 1:tt=fc;break;case 4:tt=gc;break;case 16:tt=hc;break;case 536870912:tt=jc;break;default:tt=hc}tt=Fk(tt,Gk.bind(null,_e))}_e.callbackPriority=et,_e.callbackNode=tt}}function Gk(_e,et){if(Ak=-1,Bk=0,K$1&6)throw Error(p$6(327));var tt=_e.callbackNode;if(Hk()&&_e.callbackNode!==tt)return null;var rt=uc(_e,_e===Q$2?Z:0);if(rt===0)return null;if(rt&30||rt&_e.expiredLanes||et)et=Ik(_e,rt);else{et=rt;var nt=K$1;K$1|=2;var it=Jk();(Q$2!==_e||Z!==et)&&(uk=null,Gj=B$2()+500,Kk(_e,et));do try{Lk();break}catch(ot){Mk(_e,ot)}while(!0);$g(),mk.current=it,K$1=nt,Y$1!==null?et=0:(Q$2=null,Z=0,et=T$2)}if(et!==0){if(et===2&&(nt=xc(_e),nt!==0&&(rt=nt,et=Nk(_e,nt))),et===1)throw tt=pk,Kk(_e,0),Ck(_e,rt),Dk(_e,B$2()),tt;if(et===6)Ck(_e,rt);else{if(nt=_e.current.alternate,!(rt&30)&&!Ok(nt)&&(et=Ik(_e,rt),et===2&&(it=xc(_e),it!==0&&(rt=it,et=Nk(_e,it))),et===1))throw tt=pk,Kk(_e,0),Ck(_e,rt),Dk(_e,B$2()),tt;switch(_e.finishedWork=nt,_e.finishedLanes=rt,et){case 0:case 1:throw Error(p$6(345));case 2:Pk(_e,tk,uk);break;case 3:if(Ck(_e,rt),(rt&130023424)===rt&&(et=fk+500-B$2(),10<et)){if(uc(_e,0)!==0)break;if(nt=_e.suspendedLanes,(nt&rt)!==rt){R$3(),_e.pingedLanes|=_e.suspendedLanes&nt;break}_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),et);break}Pk(_e,tk,uk);break;case 4:if(Ck(_e,rt),(rt&4194240)===rt)break;for(et=_e.eventTimes,nt=-1;0<rt;){var at=31-oc(rt);it=1<<at,at=et[at],at>nt&&(nt=at),rt&=~it}if(rt=nt,rt=B$2()-rt,rt=(120>rt?120:480>rt?480:1080>rt?1080:1920>rt?1920:3e3>rt?3e3:4320>rt?4320:1960*lk(rt/1960))-rt,10<rt){_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),rt);break}Pk(_e,tk,uk);break;case 5:Pk(_e,tk,uk);break;default:throw Error(p$6(329))}}}return Dk(_e,B$2()),_e.callbackNode===tt?Gk.bind(null,_e):null}function Nk(_e,et){var tt=sk;return _e.current.memoizedState.isDehydrated&&(Kk(_e,et).flags|=256),_e=Ik(_e,et),_e!==2&&(et=tk,tk=tt,et!==null&&Fj(et)),_e}function Fj(_e){tk===null?tk=_e:tk.push.apply(tk,_e)}function Ok(_e){for(var et=_e;;){if(et.flags&16384){var tt=et.updateQueue;if(tt!==null&&(tt=tt.stores,tt!==null))for(var rt=0;rt<tt.length;rt++){var nt=tt[rt],it=nt.getSnapshot;nt=nt.value;try{if(!He$1(it(),nt))return!1}catch{return!1}}}if(tt=et.child,et.subtreeFlags&16384&&tt!==null)tt.return=et,et=tt;else{if(et===_e)break;for(;et.sibling===null;){if(et.return===null||et.return===_e)return!0;et=et.return}et.sibling.return=et.return,et=et.sibling}}return!0}function Ck(_e,et){for(et&=~rk,et&=~qk,_e.suspendedLanes|=et,_e.pingedLanes&=~et,_e=_e.expirationTimes;0<et;){var tt=31-oc(et),rt=1<<tt;_e[tt]=-1,et&=~rt}}function Ek(_e){if(K$1&6)throw Error(p$6(327));Hk();var et=uc(_e,0);if(!(et&1))return Dk(_e,B$2()),null;var tt=Ik(_e,et);if(_e.tag!==0&&tt===2){var rt=xc(_e);rt!==0&&(et=rt,tt=Nk(_e,rt))}if(tt===1)throw tt=pk,Kk(_e,0),Ck(_e,et),Dk(_e,B$2()),tt;if(tt===6)throw Error(p$6(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=et,Pk(_e,tk,uk),Dk(_e,B$2()),null}function Qk(_e,et){var tt=K$1;K$1|=1;try{return _e(et)}finally{K$1=tt,K$1===0&&(Gj=B$2()+500,fg&&jg())}}function Rk(_e){wk!==null&&wk.tag===0&&!(K$1&6)&&Hk();var et=K$1;K$1|=1;var tt=ok.transition,rt=C$2;try{if(ok.transition=null,C$2=1,_e)return _e()}finally{C$2=rt,ok.transition=tt,K$1=et,!(K$1&6)&&jg()}}function Hj(){fj=ej.current,E$3(ej)}function Kk(_e,et){_e.finishedWork=null,_e.finishedLanes=0;var tt=_e.timeoutHandle;if(tt!==-1&&(_e.timeoutHandle=-1,Gf(tt)),Y$1!==null)for(tt=Y$1.return;tt!==null;){var rt=tt;switch(wg(rt),rt.tag){case 1:rt=rt.type.childContextTypes,rt!=null&&$f();break;case 3:zh(),E$3(Wf),E$3(H$2),Eh();break;case 5:Bh(rt);break;case 4:zh();break;case 13:E$3(L$3);break;case 19:E$3(L$3);break;case 10:ah(rt.type._context);break;case 22:case 23:Hj()}tt=tt.return}if(Q$2=_e,Y$1=_e=Pg(_e.current,null),Z=fj=et,T$2=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(et=0;et<fh.length;et++)if(tt=fh[et],rt=tt.interleaved,rt!==null){tt.interleaved=null;var nt=rt.next,it=tt.pending;if(it!==null){var at=it.next;it.next=nt,rt.next=at}tt.pending=rt}fh=null}return _e}function Mk(_e,et){do{var tt=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var rt=M$3.memoizedState;rt!==null;){var nt=rt.queue;nt!==null&&(nt.pending=null),rt=rt.next}Ih=!1}if(Hh=0,O$4=N$2=M$3=null,Jh=!1,Kh=0,nk.current=null,tt===null||tt.return===null){T$2=1,pk=et,Y$1=null;break}e:{var it=_e,at=tt.return,ot=tt,st=et;if(et=Z,ot.flags|=32768,st!==null&&typeof st=="object"&&typeof st.then=="function"){var lt=st,ct=ot,ut=ct.tag;if(!(ct.mode&1)&&(ut===0||ut===11||ut===15)){var dt=ct.alternate;dt?(ct.updateQueue=dt.updateQueue,ct.memoizedState=dt.memoizedState,ct.lanes=dt.lanes):(ct.updateQueue=null,ct.memoizedState=null)}var ft=Ui(at);if(ft!==null){ft.flags&=-257,Vi(ft,at,ot,it,et),ft.mode&1&&Si(it,lt,et),et=ft,st=lt;var pt=et.updateQueue;if(pt===null){var ht=new Set;ht.add(st),et.updateQueue=ht}else pt.add(st);break e}else{if(!(et&1)){Si(it,lt,et),tj();break e}st=Error(p$6(426))}}else if(I$2&&ot.mode&1){var yt=Ui(at);if(yt!==null){!(yt.flags&65536)&&(yt.flags|=256),Vi(yt,at,ot,it,et),Jg(Ji(st,ot));break e}}it=st=Ji(st,ot),T$2!==4&&(T$2=2),sk===null?sk=[it]:sk.push(it),it=at;do{switch(it.tag){case 3:it.flags|=65536,et&=-et,it.lanes|=et;var mt=Ni(it,st,et);ph(it,mt);break e;case 1:ot=st;var gt=it.type,vt=it.stateNode;if(!(it.flags&128)&&(typeof gt.getDerivedStateFromError=="function"||vt!==null&&typeof vt.componentDidCatch=="function"&&(Ri===null||!Ri.has(vt)))){it.flags|=65536,et&=-et,it.lanes|=et;var St=Qi(it,ot,et);ph(it,St);break e}}it=it.return}while(it!==null)}Sk(tt)}catch(xt){et=xt,Y$1===tt&&tt!==null&&(Y$1=tt=tt.return);continue}break}while(!0)}function Jk(){var _e=mk.current;return mk.current=Rh,_e===null?Rh:_e}function tj(){(T$2===0||T$2===3||T$2===2)&&(T$2=4),Q$2===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$2,Z)}function Ik(_e,et){var tt=K$1;K$1|=2;var rt=Jk();(Q$2!==_e||Z!==et)&&(uk=null,Kk(_e,et));do try{Tk();break}catch(nt){Mk(_e,nt)}while(!0);if($g(),K$1=tt,mk.current=rt,Y$1!==null)throw Error(p$6(261));return Q$2=null,Z=0,T$2}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(_e){var et=Vk(_e.alternate,_e,fj);_e.memoizedProps=_e.pendingProps,et===null?Sk(_e):Y$1=et,nk.current=null}function Sk(_e){var et=_e;do{var tt=et.alternate;if(_e=et.return,et.flags&32768){if(tt=Ij(tt,et),tt!==null){tt.flags&=32767,Y$1=tt;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T$2=6,Y$1=null;return}}else if(tt=Ej(tt,et,fj),tt!==null){Y$1=tt;return}if(et=et.sibling,et!==null){Y$1=et;return}Y$1=et=_e}while(et!==null);T$2===0&&(T$2=5)}function Pk(_e,et,tt){var rt=C$2,nt=ok.transition;try{ok.transition=null,C$2=1,Wk(_e,et,tt,rt)}finally{ok.transition=nt,C$2=rt}return null}function Wk(_e,et,tt,rt){do Hk();while(wk!==null);if(K$1&6)throw Error(p$6(327));tt=_e.finishedWork;var nt=_e.finishedLanes;if(tt===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,tt===_e.current)throw Error(p$6(177));_e.callbackNode=null,_e.callbackPriority=0;var it=tt.lanes|tt.childLanes;if(Bc(_e,it),_e===Q$2&&(Y$1=Q$2=null,Z=0),!(tt.subtreeFlags&2064)&&!(tt.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),it=(tt.flags&15990)!==0,tt.subtreeFlags&15990||it){it=ok.transition,ok.transition=null;var at=C$2;C$2=1;var ot=K$1;K$1|=4,nk.current=null,Oj(_e,tt),dk(tt,_e),Oe(Df),dd=!!Cf,Df=Cf=null,_e.current=tt,hk(tt),dc(),K$1=ot,C$2=at,ok.transition=it}else _e.current=tt;if(vk&&(vk=!1,wk=_e,xk=nt),it=_e.pendingLanes,it===0&&(Ri=null),mc(tt.stateNode),Dk(_e,B$2()),et!==null)for(rt=_e.onRecoverableError,tt=0;tt<et.length;tt++)nt=et[tt],rt(nt.value,{componentStack:nt.stack,digest:nt.digest});if(Oi)throw Oi=!1,_e=Pi,Pi=null,_e;return xk&1&&_e.tag!==0&&Hk(),it=_e.pendingLanes,it&1?_e===zk?yk++:(yk=0,zk=_e):yk=0,jg(),null}function Hk(){if(wk!==null){var _e=Dc(xk),et=ok.transition,tt=C$2;try{if(ok.transition=null,C$2=16>_e?16:_e,wk===null)var rt=!1;else{if(_e=wk,wk=null,xk=0,K$1&6)throw Error(p$6(331));var nt=K$1;for(K$1|=4,V=_e.current;V!==null;){var it=V,at=it.child;if(V.flags&16){var ot=it.deletions;if(ot!==null){for(var st=0;st<ot.length;st++){var lt=ot[st];for(V=lt;V!==null;){var ct=V;switch(ct.tag){case 0:case 11:case 15:Pj(8,ct,it)}var ut=ct.child;if(ut!==null)ut.return=ct,V=ut;else for(;V!==null;){ct=V;var dt=ct.sibling,ft=ct.return;if(Sj(ct),ct===lt){V=null;break}if(dt!==null){dt.return=ft,V=dt;break}V=ft}}}var pt=it.alternate;if(pt!==null){var ht=pt.child;if(ht!==null){pt.child=null;do{var yt=ht.sibling;ht.sibling=null,ht=yt}while(ht!==null)}}V=it}}if(it.subtreeFlags&2064&&at!==null)at.return=it,V=at;else e:for(;V!==null;){if(it=V,it.flags&2048)switch(it.tag){case 0:case 11:case 15:Pj(9,it,it.return)}var mt=it.sibling;if(mt!==null){mt.return=it.return,V=mt;break e}V=it.return}}var gt=_e.current;for(V=gt;V!==null;){at=V;var vt=at.child;if(at.subtreeFlags&2064&&vt!==null)vt.return=at,V=vt;else e:for(at=gt;V!==null;){if(ot=V,ot.flags&2048)try{switch(ot.tag){case 0:case 11:case 15:Qj(9,ot)}}catch(xt){W$2(ot,ot.return,xt)}if(ot===at){V=null;break e}var St=ot.sibling;if(St!==null){St.return=ot.return,V=St;break e}V=ot.return}}if(K$1=nt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_e)}catch{}rt=!0}return rt}finally{C$2=tt,ok.transition=et}}return!1}function Xk(_e,et,tt){et=Ji(tt,et),et=Ni(_e,et,1),_e=nh(_e,et,1),et=R$3(),_e!==null&&(Ac(_e,1,et),Dk(_e,et))}function W$2(_e,et,tt){if(_e.tag===3)Xk(_e,_e,tt);else for(;et!==null;){if(et.tag===3){Xk(et,_e,tt);break}else if(et.tag===1){var rt=et.stateNode;if(typeof et.type.getDerivedStateFromError=="function"||typeof rt.componentDidCatch=="function"&&(Ri===null||!Ri.has(rt))){_e=Ji(tt,_e),_e=Qi(et,_e,1),et=nh(et,_e,1),_e=R$3(),et!==null&&(Ac(et,1,_e),Dk(et,_e));break}}et=et.return}}function Ti(_e,et,tt){var rt=_e.pingCache;rt!==null&&rt.delete(et),et=R$3(),_e.pingedLanes|=_e.suspendedLanes&tt,Q$2===_e&&(Z&tt)===tt&&(T$2===4||T$2===3&&(Z&130023424)===Z&&500>B$2()-fk?Kk(_e,0):rk|=tt),Dk(_e,et)}function Yk(_e,et){et===0&&(_e.mode&1?(et=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):et=1);var tt=R$3();_e=ih(_e,et),_e!==null&&(Ac(_e,et,tt),Dk(_e,tt))}function uj(_e){var et=_e.memoizedState,tt=0;et!==null&&(tt=et.retryLane),Yk(_e,tt)}function bk(_e,et){var tt=0;switch(_e.tag){case 13:var rt=_e.stateNode,nt=_e.memoizedState;nt!==null&&(tt=nt.retryLane);break;case 19:rt=_e.stateNode;break;default:throw Error(p$6(314))}rt!==null&&rt.delete(et),Yk(_e,tt)}var Vk;Vk=function(_e,et,tt){if(_e!==null)if(_e.memoizedProps!==et.pendingProps||Wf.current)dh=!0;else{if(!(_e.lanes&tt)&&!(et.flags&128))return dh=!1,yj(_e,et,tt);dh=!!(_e.flags&131072)}else dh=!1,I$2&&et.flags&1048576&&ug(et,ng,et.index);switch(et.lanes=0,et.tag){case 2:var rt=et.type;ij(_e,et),_e=et.pendingProps;var nt=Yf(et,H$2.current);ch(et,tt),nt=Nh(null,et,rt,_e,nt,tt);var it=Sh();return et.flags|=1,typeof nt=="object"&&nt!==null&&typeof nt.render=="function"&&nt.$$typeof===void 0?(et.tag=1,et.memoizedState=null,et.updateQueue=null,Zf(rt)?(it=!0,cg(et)):it=!1,et.memoizedState=nt.state!==null&&nt.state!==void 0?nt.state:null,kh(et),nt.updater=Ei,et.stateNode=nt,nt._reactInternals=et,Ii(et,rt,_e,tt),et=jj(null,et,rt,!0,it,tt)):(et.tag=0,I$2&&it&&vg(et),Xi(null,et,nt,tt),et=et.child),et;case 16:rt=et.elementType;e:{switch(ij(_e,et),_e=et.pendingProps,nt=rt._init,rt=nt(rt._payload),et.type=rt,nt=et.tag=Zk(rt),_e=Ci(rt,_e),nt){case 0:et=cj(null,et,rt,_e,tt);break e;case 1:et=hj(null,et,rt,_e,tt);break e;case 11:et=Yi(null,et,rt,_e,tt);break e;case 14:et=$i(null,et,rt,Ci(rt.type,_e),tt);break e}throw Error(p$6(306,rt,""))}return et;case 0:return rt=et.type,nt=et.pendingProps,nt=et.elementType===rt?nt:Ci(rt,nt),cj(_e,et,rt,nt,tt);case 1:return rt=et.type,nt=et.pendingProps,nt=et.elementType===rt?nt:Ci(rt,nt),hj(_e,et,rt,nt,tt);case 3:e:{if(kj(et),_e===null)throw Error(p$6(387));rt=et.pendingProps,it=et.memoizedState,nt=it.element,lh(_e,et),qh(et,rt,null,tt);var at=et.memoizedState;if(rt=at.element,it.isDehydrated)if(it={element:rt,isDehydrated:!1,cache:at.cache,pendingSuspenseBoundaries:at.pendingSuspenseBoundaries,transitions:at.transitions},et.updateQueue.baseState=it,et.memoizedState=it,et.flags&256){nt=Ji(Error(p$6(423)),et),et=lj(_e,et,rt,tt,nt);break e}else if(rt!==nt){nt=Ji(Error(p$6(424)),et),et=lj(_e,et,rt,tt,nt);break e}else for(yg=Lf(et.stateNode.containerInfo.firstChild),xg=et,I$2=!0,zg=null,tt=Vg(et,null,rt,tt),et.child=tt;tt;)tt.flags=tt.flags&-3|4096,tt=tt.sibling;else{if(Ig(),rt===nt){et=Zi(_e,et,tt);break e}Xi(_e,et,rt,tt)}et=et.child}return et;case 5:return Ah(et),_e===null&&Eg(et),rt=et.type,nt=et.pendingProps,it=_e!==null?_e.memoizedProps:null,at=nt.children,Ef(rt,nt)?at=null:it!==null&&Ef(rt,it)&&(et.flags|=32),gj(_e,et),Xi(_e,et,at,tt),et.child;case 6:return _e===null&&Eg(et),null;case 13:return oj(_e,et,tt);case 4:return yh(et,et.stateNode.containerInfo),rt=et.pendingProps,_e===null?et.child=Ug(et,null,rt,tt):Xi(_e,et,rt,tt),et.child;case 11:return rt=et.type,nt=et.pendingProps,nt=et.elementType===rt?nt:Ci(rt,nt),Yi(_e,et,rt,nt,tt);case 7:return Xi(_e,et,et.pendingProps,tt),et.child;case 8:return Xi(_e,et,et.pendingProps.children,tt),et.child;case 12:return Xi(_e,et,et.pendingProps.children,tt),et.child;case 10:e:{if(rt=et.type._context,nt=et.pendingProps,it=et.memoizedProps,at=nt.value,G$1(Wg,rt._currentValue),rt._currentValue=at,it!==null)if(He$1(it.value,at)){if(it.children===nt.children&&!Wf.current){et=Zi(_e,et,tt);break e}}else for(it=et.child,it!==null&&(it.return=et);it!==null;){var ot=it.dependencies;if(ot!==null){at=it.child;for(var st=ot.firstContext;st!==null;){if(st.context===rt){if(it.tag===1){st=mh(-1,tt&-tt),st.tag=2;var lt=it.updateQueue;if(lt!==null){lt=lt.shared;var ct=lt.pending;ct===null?st.next=st:(st.next=ct.next,ct.next=st),lt.pending=st}}it.lanes|=tt,st=it.alternate,st!==null&&(st.lanes|=tt),bh(it.return,tt,et),ot.lanes|=tt;break}st=st.next}}else if(it.tag===10)at=it.type===et.type?null:it.child;else if(it.tag===18){if(at=it.return,at===null)throw Error(p$6(341));at.lanes|=tt,ot=at.alternate,ot!==null&&(ot.lanes|=tt),bh(at,tt,et),at=it.sibling}else at=it.child;if(at!==null)at.return=it;else for(at=it;at!==null;){if(at===et){at=null;break}if(it=at.sibling,it!==null){it.return=at.return,at=it;break}at=at.return}it=at}Xi(_e,et,nt.children,tt),et=et.child}return et;case 9:return nt=et.type,rt=et.pendingProps.children,ch(et,tt),nt=eh(nt),rt=rt(nt),et.flags|=1,Xi(_e,et,rt,tt),et.child;case 14:return rt=et.type,nt=Ci(rt,et.pendingProps),nt=Ci(rt.type,nt),$i(_e,et,rt,nt,tt);case 15:return bj(_e,et,et.type,et.pendingProps,tt);case 17:return rt=et.type,nt=et.pendingProps,nt=et.elementType===rt?nt:Ci(rt,nt),ij(_e,et),et.tag=1,Zf(rt)?(_e=!0,cg(et)):_e=!1,ch(et,tt),Gi(et,rt,nt),Ii(et,rt,nt,tt),jj(null,et,rt,!0,_e,tt);case 19:return xj(_e,et,tt);case 22:return dj(_e,et,tt)}throw Error(p$6(156,et.tag))};function Fk(_e,et){return ac(_e,et)}function $k(_e,et,tt,rt){this.tag=_e,this.key=tt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=et,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=rt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,et,tt,rt){return new $k(_e,et,tt,rt)}function aj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function Zk(_e){if(typeof _e=="function")return aj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da)return 11;if(_e===Ga)return 14}return 2}function Pg(_e,et){var tt=_e.alternate;return tt===null?(tt=Bg(_e.tag,et,_e.key,_e.mode),tt.elementType=_e.elementType,tt.type=_e.type,tt.stateNode=_e.stateNode,tt.alternate=_e,_e.alternate=tt):(tt.pendingProps=et,tt.type=_e.type,tt.flags=0,tt.subtreeFlags=0,tt.deletions=null),tt.flags=_e.flags&14680064,tt.childLanes=_e.childLanes,tt.lanes=_e.lanes,tt.child=_e.child,tt.memoizedProps=_e.memoizedProps,tt.memoizedState=_e.memoizedState,tt.updateQueue=_e.updateQueue,et=_e.dependencies,tt.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext},tt.sibling=_e.sibling,tt.index=_e.index,tt.ref=_e.ref,tt}function Rg(_e,et,tt,rt,nt,it){var at=2;if(rt=_e,typeof _e=="function")aj(_e)&&(at=1);else if(typeof _e=="string")at=5;else e:switch(_e){case ya:return Tg(tt.children,nt,it,et);case za:at=8,nt|=8;break;case Aa:return _e=Bg(12,tt,et,nt|2),_e.elementType=Aa,_e.lanes=it,_e;case Ea:return _e=Bg(13,tt,et,nt),_e.elementType=Ea,_e.lanes=it,_e;case Fa:return _e=Bg(19,tt,et,nt),_e.elementType=Fa,_e.lanes=it,_e;case Ia:return pj(tt,nt,it,et);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba:at=10;break e;case Ca:at=9;break e;case Da:at=11;break e;case Ga:at=14;break e;case Ha:at=16,rt=null;break e}throw Error(p$6(130,_e==null?_e:typeof _e,""))}return et=Bg(at,tt,et,nt),et.elementType=_e,et.type=rt,et.lanes=it,et}function Tg(_e,et,tt,rt){return _e=Bg(7,_e,rt,et),_e.lanes=tt,_e}function pj(_e,et,tt,rt){return _e=Bg(22,_e,rt,et),_e.elementType=Ia,_e.lanes=tt,_e.stateNode={isHidden:!1},_e}function Qg(_e,et,tt){return _e=Bg(6,_e,null,et),_e.lanes=tt,_e}function Sg(_e,et,tt){return et=Bg(4,_e.children!==null?_e.children:[],_e.key,et),et.lanes=tt,et.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},et}function al(_e,et,tt,rt,nt){this.tag=et,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=rt,this.onRecoverableError=nt,this.mutableSourceEagerHydrationData=null}function bl(_e,et,tt,rt,nt,it,at,ot,st){return _e=new al(_e,et,tt,ot,st),et===1?(et=1,it===!0&&(et|=8)):et=0,it=Bg(3,null,null,et),_e.current=it,it.stateNode=_e,it.memoizedState={element:rt,isDehydrated:tt,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(it),_e}function cl(_e,et,tt){var rt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:rt==null?null:""+rt,children:_e,containerInfo:et,implementation:tt}}function dl(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb(_e)!==_e||_e.tag!==1)throw Error(p$6(170));var et=_e;do{switch(et.tag){case 3:et=et.stateNode.context;break e;case 1:if(Zf(et.type)){et=et.stateNode.__reactInternalMemoizedMergedChildContext;break e}}et=et.return}while(et!==null);throw Error(p$6(171))}if(_e.tag===1){var tt=_e.type;if(Zf(tt))return bg(_e,tt,et)}return et}function el(_e,et,tt,rt,nt,it,at,ot,st){return _e=bl(tt,rt,!0,_e,nt,it,at,ot,st),_e.context=dl(null),tt=_e.current,rt=R$3(),nt=yi(tt),it=mh(rt,nt),it.callback=et??null,nh(tt,it,nt),_e.current.lanes=nt,Ac(_e,nt,rt),Dk(_e,rt),_e}function fl(_e,et,tt,rt){var nt=et.current,it=R$3(),at=yi(nt);return tt=dl(tt),et.context===null?et.context=tt:et.pendingContext=tt,et=mh(it,at),et.payload={element:_e},rt=rt===void 0?null:rt,rt!==null&&(et.callback=rt),_e=nh(nt,et,at),_e!==null&&(gi(_e,nt,at,it),oh(_e,nt,at)),at}function gl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function hl(_e,et){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var tt=_e.retryLane;_e.retryLane=tt!==0&&tt<et?tt:et}}function il(_e,et){hl(_e,et),(_e=_e.alternate)&&hl(_e,et)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ll(_e){this._internalRoot=_e}ml.prototype.render=ll.prototype.render=function(_e){var et=this._internalRoot;if(et===null)throw Error(p$6(409));fl(_e,et,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var et=_e.containerInfo;Rk(function(){fl(null,_e,null,null)}),et[uf]=null}};function ml(_e){this._internalRoot=_e}ml.prototype.unstable_scheduleHydration=function(_e){if(_e){var et=Hc();_e={blockedOn:null,target:_e,priority:et};for(var tt=0;tt<Qc.length&&et!==0&&et<Qc[tt].priority;tt++);Qc.splice(tt,0,_e),tt===0&&Vc(_e)}};function nl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(_e,et,tt,rt,nt){if(nt){if(typeof rt=="function"){var it=rt;rt=function(){var lt=gl(at);it.call(lt)}}var at=el(et,rt,_e,0,null,!1,!1,"",pl);return _e._reactRootContainer=at,_e[uf]=at.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(),at}for(;nt=_e.lastChild;)_e.removeChild(nt);if(typeof rt=="function"){var ot=rt;rt=function(){var lt=gl(st);ot.call(lt)}}var st=bl(_e,0,!1,null,null,!1,!1,"",pl);return _e._reactRootContainer=st,_e[uf]=st.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(function(){fl(et,st,tt,rt)}),st}function rl(_e,et,tt,rt,nt){var it=tt._reactRootContainer;if(it){var at=it;if(typeof nt=="function"){var ot=nt;nt=function(){var st=gl(at);ot.call(st)}}fl(et,at,_e,nt)}else at=ql(tt,et,_e,nt,rt);return gl(at)}Ec=function(_e){switch(_e.tag){case 3:var et=_e.stateNode;if(et.current.memoizedState.isDehydrated){var tt=tc(et.pendingLanes);tt!==0&&(Cc(et,tt|1),Dk(et,B$2()),!(K$1&6)&&(Gj=B$2()+500,jg()))}break;case 13:Rk(function(){var rt=ih(_e,1);if(rt!==null){var nt=R$3();gi(rt,_e,1,nt)}}),il(_e,1)}};Fc=function(_e){if(_e.tag===13){var et=ih(_e,134217728);if(et!==null){var tt=R$3();gi(et,_e,134217728,tt)}il(_e,134217728)}};Gc=function(_e){if(_e.tag===13){var et=yi(_e),tt=ih(_e,et);if(tt!==null){var rt=R$3();gi(tt,_e,et,rt)}il(_e,et)}};Hc=function(){return C$2};Ic=function(_e,et){var tt=C$2;try{return C$2=_e,et()}finally{C$2=tt}};yb=function(_e,et,tt){switch(et){case"input":if(bb(_e,tt),et=tt.name,tt.type==="radio"&&et!=null){for(tt=_e;tt.parentNode;)tt=tt.parentNode;for(tt=tt.querySelectorAll("input[name="+JSON.stringify(""+et)+'][type="radio"]'),et=0;et<tt.length;et++){var rt=tt[et];if(rt!==_e&&rt.form===_e.form){var nt=Db(rt);if(!nt)throw Error(p$6(90));Wa(rt),bb(rt,nt)}}}break;case"textarea":ib(_e,tt);break;case"select":et=tt.value,et!=null&&fb(_e,!!tt.multiple,et,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(_e,et){var tt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(et))throw Error(p$6(200));return cl(_e,et,null,tt)};reactDom_production_min.createRoot=function(_e,et){if(!nl(_e))throw Error(p$6(299));var tt=!1,rt="",nt=kl;return et!=null&&(et.unstable_strictMode===!0&&(tt=!0),et.identifierPrefix!==void 0&&(rt=et.identifierPrefix),et.onRecoverableError!==void 0&&(nt=et.onRecoverableError)),et=bl(_e,1,!1,null,null,tt,!1,rt,nt),_e[uf]=et.current,sf(_e.nodeType===8?_e.parentNode:_e),new ll(et)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var et=_e._reactInternals;if(et===void 0)throw typeof _e.render=="function"?Error(p$6(188)):(_e=Object.keys(_e).join(","),Error(p$6(268,_e)));return _e=Zb(et),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Rk(_e)};reactDom_production_min.hydrate=function(_e,et,tt){if(!ol(et))throw Error(p$6(200));return rl(null,_e,et,!0,tt)};reactDom_production_min.hydrateRoot=function(_e,et,tt){if(!nl(_e))throw Error(p$6(405));var rt=tt!=null&&tt.hydratedSources||null,nt=!1,it="",at=kl;if(tt!=null&&(tt.unstable_strictMode===!0&&(nt=!0),tt.identifierPrefix!==void 0&&(it=tt.identifierPrefix),tt.onRecoverableError!==void 0&&(at=tt.onRecoverableError)),et=el(et,null,_e,1,tt??null,nt,!1,it,at),_e[uf]=et.current,sf(_e),rt)for(_e=0;_e<rt.length;_e++)tt=rt[_e],nt=tt._getVersion,nt=nt(tt._source),et.mutableSourceEagerHydrationData==null?et.mutableSourceEagerHydrationData=[tt,nt]:et.mutableSourceEagerHydrationData.push(tt,nt);return new ml(et)};reactDom_production_min.render=function(_e,et,tt){if(!ol(et))throw Error(p$6(200));return rl(null,_e,et,!1,tt)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!ol(_e))throw Error(p$6(40));return _e._reactRootContainer?(Rk(function(){rl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,et,tt,rt){if(!ol(tt))throw Error(p$6(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$6(38));return rl(_e,et,tt,!1,rt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_e){console.error(_e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports),ReactDOM$1=_mergeNamespaces({__proto__:null,default:ReactDOM},[reactDomExports]);/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$2.apply(this,arguments)}var Action;(function(_e){_e.Pop="POP",_e.Push="PUSH",_e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(_e){_e===void 0&&(_e={});function et(rt,nt){let{pathname:it,search:at,hash:ot}=rt.location;return createLocation("",{pathname:it,search:at,hash:ot},nt.state&&nt.state.usr||null,nt.state&&nt.state.key||"default")}function tt(rt,nt){return typeof nt=="string"?nt:createPath(nt)}return getUrlBasedHistory(et,tt,null,_e)}function invariant$2(_e,et){if(_e===!1||_e===null||typeof _e>"u")throw new Error(et)}function warning(_e,et){if(!_e){typeof console<"u"&&console.warn(et);try{throw new Error(et)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(_e,et){return{usr:_e.state,key:_e.key,idx:et}}function createLocation(_e,et,tt,rt){return tt===void 0&&(tt=null),_extends$2({pathname:typeof _e=="string"?_e:_e.pathname,search:"",hash:""},typeof et=="string"?parsePath(et):et,{state:tt,key:et&&et.key||rt||createKey()})}function createPath(_e){let{pathname:et="/",search:tt="",hash:rt=""}=_e;return tt&&tt!=="?"&&(et+=tt.charAt(0)==="?"?tt:"?"+tt),rt&&rt!=="#"&&(et+=rt.charAt(0)==="#"?rt:"#"+rt),et}function parsePath(_e){let et={};if(_e){let tt=_e.indexOf("#");tt>=0&&(et.hash=_e.substr(tt),_e=_e.substr(0,tt));let rt=_e.indexOf("?");rt>=0&&(et.search=_e.substr(rt),_e=_e.substr(0,rt)),_e&&(et.pathname=_e)}return et}function getUrlBasedHistory(_e,et,tt,rt){rt===void 0&&(rt={});let{window:nt=document.defaultView,v5Compat:it=!1}=rt,at=nt.history,ot=Action.Pop,st=null,lt=ct();lt==null&&(lt=0,at.replaceState(_extends$2({},at.state,{idx:lt}),""));function ct(){return(at.state||{idx:null}).idx}function ut(){ot=Action.Pop;let yt=ct(),mt=yt==null?null:yt-lt;lt=yt,st&&st({action:ot,location:ht.location,delta:mt})}function dt(yt,mt){ot=Action.Push;let gt=createLocation(ht.location,yt,mt);lt=ct()+1;let vt=getHistoryState(gt,lt),St=ht.createHref(gt);try{at.pushState(vt,"",St)}catch(xt){if(xt instanceof DOMException&&xt.name==="DataCloneError")throw xt;nt.location.assign(St)}it&&st&&st({action:ot,location:ht.location,delta:1})}function ft(yt,mt){ot=Action.Replace;let gt=createLocation(ht.location,yt,mt);lt=ct();let vt=getHistoryState(gt,lt),St=ht.createHref(gt);at.replaceState(vt,"",St),it&&st&&st({action:ot,location:ht.location,delta:0})}function pt(yt){let mt=nt.location.origin!=="null"?nt.location.origin:nt.location.href,gt=typeof yt=="string"?yt:createPath(yt);return gt=gt.replace(/ $/,"%20"),invariant$2(mt,"No window.location.(origin|href) available to create URL for href: "+gt),new URL(gt,mt)}let ht={get action(){return ot},get location(){return _e(nt,at)},listen(yt){if(st)throw new Error("A history only accepts one active listener");return nt.addEventListener(PopStateEventType,ut),st=yt,()=>{nt.removeEventListener(PopStateEventType,ut),st=null}},createHref(yt){return et(nt,yt)},createURL:pt,encodeLocation(yt){let mt=pt(yt);return{pathname:mt.pathname,search:mt.search,hash:mt.hash}},push:dt,replace:ft,go(yt){return at.go(yt)}};return ht}var ResultType;(function(_e){_e.data="data",_e.deferred="deferred",_e.redirect="redirect",_e.error="error"})(ResultType||(ResultType={}));const immutableRouteKeys=new Set(["lazy","caseSensitive","path","id","index","children"]);function isIndexRoute(_e){return _e.index===!0}function convertRoutesToDataRoutes(_e,et,tt,rt){return tt===void 0&&(tt=[]),rt===void 0&&(rt={}),_e.map((nt,it)=>{let at=[...tt,String(it)],ot=typeof nt.id=="string"?nt.id:at.join("-");if(invariant$2(nt.index!==!0||!nt.children,"Cannot specify children on an index route"),invariant$2(!rt[ot],'Found a route id collision on id "'+ot+`".  Route id's must be globally unique within Data Router usages`),isIndexRoute(nt)){let st=_extends$2({},nt,et(nt),{id:ot});return rt[ot]=st,st}else{let st=_extends$2({},nt,et(nt),{id:ot,children:void 0});return rt[ot]=st,nt.children&&(st.children=convertRoutesToDataRoutes(nt.children,et,at,rt)),st}})}function matchRoutes(_e,et,tt){return tt===void 0&&(tt="/"),matchRoutesImpl(_e,et,tt,!1)}function matchRoutesImpl(_e,et,tt,rt){let nt=typeof et=="string"?parsePath(et):et,it=stripBasename(nt.pathname||"/",tt);if(it==null)return null;let at=flattenRoutes(_e);rankRouteBranches(at);let ot=null;for(let st=0;ot==null&&st<at.length;++st){let lt=decodePath(it);ot=matchRouteBranch(at[st],lt,rt)}return ot}function convertRouteMatchToUiMatch(_e,et){let{route:tt,pathname:rt,params:nt}=_e;return{id:tt.id,pathname:rt,params:nt,data:et[tt.id],handle:tt.handle}}function flattenRoutes(_e,et,tt,rt){et===void 0&&(et=[]),tt===void 0&&(tt=[]),rt===void 0&&(rt="");let nt=(it,at,ot)=>{let st={relativePath:ot===void 0?it.path||"":ot,caseSensitive:it.caseSensitive===!0,childrenIndex:at,route:it};st.relativePath.startsWith("/")&&(invariant$2(st.relativePath.startsWith(rt),'Absolute route path "'+st.relativePath+'" nested under path '+('"'+rt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),st.relativePath=st.relativePath.slice(rt.length));let lt=joinPaths([rt,st.relativePath]),ct=tt.concat(st);it.children&&it.children.length>0&&(invariant$2(it.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+lt+'".')),flattenRoutes(it.children,et,ct,lt)),!(it.path==null&&!it.index)&&et.push({path:lt,score:computeScore(lt,it.index),routesMeta:ct})};return _e.forEach((it,at)=>{var ot;if(it.path===""||!((ot=it.path)!=null&&ot.includes("?")))nt(it,at);else for(let st of explodeOptionalSegments(it.path))nt(it,at,st)}),et}function explodeOptionalSegments(_e){let et=_e.split("/");if(et.length===0)return[];let[tt,...rt]=et,nt=tt.endsWith("?"),it=tt.replace(/\?$/,"");if(rt.length===0)return nt?[it,""]:[it];let at=explodeOptionalSegments(rt.join("/")),ot=[];return ot.push(...at.map(st=>st===""?it:[it,st].join("/"))),nt&&ot.push(...at),ot.map(st=>_e.startsWith("/")&&st===""?"/":st)}function rankRouteBranches(_e){_e.sort((et,tt)=>et.score!==tt.score?tt.score-et.score:compareIndexes(et.routesMeta.map(rt=>rt.childrenIndex),tt.routesMeta.map(rt=>rt.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=_e=>_e==="*";function computeScore(_e,et){let tt=_e.split("/"),rt=tt.length;return tt.some(isSplat)&&(rt+=splatPenalty),et&&(rt+=indexRouteValue),tt.filter(nt=>!isSplat(nt)).reduce((nt,it)=>nt+(paramRe.test(it)?dynamicSegmentValue:it===""?emptySegmentValue:staticSegmentValue),rt)}function compareIndexes(_e,et){return _e.length===et.length&&_e.slice(0,-1).every((rt,nt)=>rt===et[nt])?_e[_e.length-1]-et[et.length-1]:0}function matchRouteBranch(_e,et,tt){tt===void 0&&(tt=!1);let{routesMeta:rt}=_e,nt={},it="/",at=[];for(let ot=0;ot<rt.length;++ot){let st=rt[ot],lt=ot===rt.length-1,ct=it==="/"?et:et.slice(it.length)||"/",ut=matchPath({path:st.relativePath,caseSensitive:st.caseSensitive,end:lt},ct),dt=st.route;if(!ut&&lt&&tt&&!rt[rt.length-1].route.index&&(ut=matchPath({path:st.relativePath,caseSensitive:st.caseSensitive,end:!1},ct)),!ut)return null;Object.assign(nt,ut.params),at.push({params:nt,pathname:joinPaths([it,ut.pathname]),pathnameBase:normalizePathname(joinPaths([it,ut.pathnameBase])),route:dt}),ut.pathnameBase!=="/"&&(it=joinPaths([it,ut.pathnameBase]))}return at}function matchPath(_e,et){typeof _e=="string"&&(_e={path:_e,caseSensitive:!1,end:!0});let[tt,rt]=compilePath(_e.path,_e.caseSensitive,_e.end),nt=et.match(tt);if(!nt)return null;let it=nt[0],at=it.replace(/(.)\/+$/,"$1"),ot=nt.slice(1);return{params:rt.reduce((lt,ct,ut)=>{let{paramName:dt,isOptional:ft}=ct;if(dt==="*"){let ht=ot[ut]||"";at=it.slice(0,it.length-ht.length).replace(/(.)\/+$/,"$1")}const pt=ot[ut];return ft&&!pt?lt[dt]=void 0:lt[dt]=(pt||"").replace(/%2F/g,"/"),lt},{}),pathname:it,pathnameBase:at,pattern:_e}}function compilePath(_e,et,tt){et===void 0&&(et=!1),tt===void 0&&(tt=!0),warning(_e==="*"||!_e.endsWith("*")||_e.endsWith("/*"),'Route path "'+_e+'" will be treated as if it were '+('"'+_e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+_e.replace(/\*$/,"/*")+'".'));let rt=[],nt="^"+_e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(at,ot,st)=>(rt.push({paramName:ot,isOptional:st!=null}),st?"/?([^\\/]+)?":"/([^\\/]+)"));return _e.endsWith("*")?(rt.push({paramName:"*"}),nt+=_e==="*"||_e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):tt?nt+="\\/*$":_e!==""&&_e!=="/"&&(nt+="(?:(?=\\/|$))"),[new RegExp(nt,et?void 0:"i"),rt]}function decodePath(_e){try{return _e.split("/").map(et=>decodeURIComponent(et).replace(/\//g,"%2F")).join("/")}catch(et){return warning(!1,'The URL path "'+_e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+et+").")),_e}}function stripBasename(_e,et){if(et==="/")return _e;if(!_e.toLowerCase().startsWith(et.toLowerCase()))return null;let tt=et.endsWith("/")?et.length-1:et.length,rt=_e.charAt(tt);return rt&&rt!=="/"?null:_e.slice(tt)||"/"}function resolvePath(_e,et){et===void 0&&(et="/");let{pathname:tt,search:rt="",hash:nt=""}=typeof _e=="string"?parsePath(_e):_e;return{pathname:tt?tt.startsWith("/")?tt:resolvePathname(tt,et):et,search:normalizeSearch(rt),hash:normalizeHash(nt)}}function resolvePathname(_e,et){let tt=et.replace(/\/+$/,"").split("/");return _e.split("/").forEach(nt=>{nt===".."?tt.length>1&&tt.pop():nt!=="."&&tt.push(nt)}),tt.length>1?tt.join("/"):"/"}function getInvalidPathError(_e,et,tt,rt){return"Cannot include a '"+_e+"' character in a manually specified "+("`to."+et+"` field ["+JSON.stringify(rt)+"].  Please separate it out to the ")+("`to."+tt+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(_e){return _e.filter((et,tt)=>tt===0||et.route.path&&et.route.path.length>0)}function getResolveToMatches(_e,et){let tt=getPathContributingMatches(_e);return et?tt.map((rt,nt)=>nt===tt.length-1?rt.pathname:rt.pathnameBase):tt.map(rt=>rt.pathnameBase)}function resolveTo(_e,et,tt,rt){rt===void 0&&(rt=!1);let nt;typeof _e=="string"?nt=parsePath(_e):(nt=_extends$2({},_e),invariant$2(!nt.pathname||!nt.pathname.includes("?"),getInvalidPathError("?","pathname","search",nt)),invariant$2(!nt.pathname||!nt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",nt)),invariant$2(!nt.search||!nt.search.includes("#"),getInvalidPathError("#","search","hash",nt)));let it=_e===""||nt.pathname==="",at=it?"/":nt.pathname,ot;if(at==null)ot=tt;else{let ut=et.length-1;if(!rt&&at.startsWith("..")){let dt=at.split("/");for(;dt[0]==="..";)dt.shift(),ut-=1;nt.pathname=dt.join("/")}ot=ut>=0?et[ut]:"/"}let st=resolvePath(nt,ot),lt=at&&at!=="/"&&at.endsWith("/"),ct=(it||at===".")&&tt.endsWith("/");return!st.pathname.endsWith("/")&&(lt||ct)&&(st.pathname+="/"),st}const joinPaths=_e=>_e.join("/").replace(/\/\/+/g,"/"),normalizePathname=_e=>_e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=_e=>!_e||_e==="?"?"":_e.startsWith("?")?_e:"?"+_e,normalizeHash=_e=>!_e||_e==="#"?"":_e.startsWith("#")?_e:"#"+_e;class ErrorResponseImpl{constructor(et,tt,rt,nt){nt===void 0&&(nt=!1),this.status=et,this.statusText=tt||"",this.internal=nt,rt instanceof Error?(this.data=rt.toString(),this.error=rt):this.data=rt}}function isRouteErrorResponse(_e){return _e!=null&&typeof _e.status=="number"&&typeof _e.statusText=="string"&&typeof _e.internal=="boolean"&&"data"in _e}const validMutationMethodsArr=["post","put","patch","delete"],validMutationMethods=new Set(validMutationMethodsArr),validRequestMethodsArr=["get",...validMutationMethodsArr],validRequestMethods=new Set(validRequestMethodsArr),redirectStatusCodes=new Set([301,302,303,307,308]),redirectPreserveMethodStatusCodes=new Set([307,308]),IDLE_NAVIGATION={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_FETCHER={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_BLOCKER={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ABSOLUTE_URL_REGEX$1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,defaultMapRouteProperties=_e=>({hasErrorBoundary:!!_e.hasErrorBoundary}),TRANSITIONS_STORAGE_KEY="remix-router-transitions";function createRouter(_e){const et=_e.window?_e.window:typeof window<"u"?window:void 0,tt=typeof et<"u"&&typeof et.document<"u"&&typeof et.document.createElement<"u",rt=!tt;invariant$2(_e.routes.length>0,"You must provide a non-empty routes array to createRouter");let nt;if(_e.mapRouteProperties)nt=_e.mapRouteProperties;else if(_e.detectErrorBoundary){let Wt=_e.detectErrorBoundary;nt=Qt=>({hasErrorBoundary:Wt(Qt)})}else nt=defaultMapRouteProperties;let it={},at=convertRoutesToDataRoutes(_e.routes,nt,void 0,it),ot,st=_e.basename||"/",lt=_e.unstable_dataStrategy||defaultDataStrategy,ct=_e.unstable_patchRoutesOnNavigation,ut=_extends$2({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},_e.future),dt=null,ft=new Set,pt=1e3,ht=new Set,yt=null,mt=null,gt=null,vt=_e.hydrationData!=null,St=matchRoutes(at,_e.history.location,st),xt=null;if(St==null&&!ct){let Wt=getInternalRouterError(404,{pathname:_e.history.location.pathname}),{matches:Qt,route:or}=getShortCircuitMatches(at);St=Qt,xt={[or.id]:Wt}}St&&!_e.hydrationData&&Rn(St,at,_e.history.location.pathname).active&&(St=null);let Ct;if(St)if(St.some(Wt=>Wt.route.lazy))Ct=!1;else if(!St.some(Wt=>Wt.route.loader))Ct=!0;else if(ut.v7_partialHydration){let Wt=_e.hydrationData?_e.hydrationData.loaderData:null,Qt=_e.hydrationData?_e.hydrationData.errors:null,or=hr=>hr.route.loader?typeof hr.route.loader=="function"&&hr.route.loader.hydrate===!0?!1:Wt&&Wt[hr.route.id]!==void 0||Qt&&Qt[hr.route.id]!==void 0:!0;if(Qt){let hr=St.findIndex(Ur=>Qt[Ur.route.id]!==void 0);Ct=St.slice(0,hr+1).every(or)}else Ct=St.every(or)}else Ct=_e.hydrationData!=null;else if(Ct=!1,St=[],ut.v7_partialHydration){let Wt=Rn(null,at,_e.history.location.pathname);Wt.active&&Wt.matches&&(St=Wt.matches)}let wt,_t={historyAction:_e.history.action,location:_e.history.location,matches:St,initialized:Ct,navigation:IDLE_NAVIGATION,restoreScrollPosition:_e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:_e.hydrationData&&_e.hydrationData.loaderData||{},actionData:_e.hydrationData&&_e.hydrationData.actionData||null,errors:_e.hydrationData&&_e.hydrationData.errors||xt,fetchers:new Map,blockers:new Map},Ot=Action.Pop,kt=!1,Lt,$t=!1,zt=new Map,Vt=null,Ut=!1,It=!1,Dt=[],Tt=new Set,Rt=new Map,Ft=0,jt=-1,nr=new Map,cr=new Set,ur=new Map,pr=new Map,xr=new Set,vr=new Map,Br=new Map,mr=new Map,Ir;function br(){if(dt=_e.history.listen(Wt=>{let{action:Qt,location:or,delta:hr}=Wt;if(Ir){Ir(),Ir=void 0;return}warning(Br.size===0||hr!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ur=To({currentLocation:_t.location,nextLocation:or,historyAction:Qt});if(Ur&&hr!=null){let Kr=new Promise(nn=>{Ir=nn});_e.history.go(hr*-1),yo(Ur,{state:"blocked",location:or,proceed(){yo(Ur,{state:"proceeding",proceed:void 0,reset:void 0,location:or}),Kr.then(()=>_e.history.go(hr))},reset(){let nn=new Map(_t.blockers);nn.set(Ur,IDLE_BLOCKER),yr({blockers:nn})}});return}return _r(Qt,or)}),tt){restoreAppliedTransitions(et,zt);let Wt=()=>persistAppliedTransitions(et,zt);et.addEventListener("pagehide",Wt),Vt=()=>et.removeEventListener("pagehide",Wt)}return _t.initialized||_r(Action.Pop,_t.location,{initialHydration:!0}),wt}function Tr(){dt&&dt(),Vt&&Vt(),ft.clear(),Lt&&Lt.abort(),_t.fetchers.forEach((Wt,Qt)=>Gr(Qt)),_t.blockers.forEach((Wt,Qt)=>Zn(Qt))}function Vr(Wt){return ft.add(Wt),()=>ft.delete(Wt)}function yr(Wt,Qt){Qt===void 0&&(Qt={}),_t=_extends$2({},_t,Wt);let or=[],hr=[];ut.v7_fetcherPersist&&_t.fetchers.forEach((Ur,Kr)=>{Ur.state==="idle"&&(xr.has(Kr)?hr.push(Kr):or.push(Kr))}),[...ft].forEach(Ur=>Ur(_t,{deletedFetchers:hr,unstable_viewTransitionOpts:Qt.viewTransitionOpts,unstable_flushSync:Qt.flushSync===!0})),ut.v7_fetcherPersist&&(or.forEach(Ur=>_t.fetchers.delete(Ur)),hr.forEach(Ur=>Gr(Ur)))}function rn(Wt,Qt,or){var hr,Ur;let{flushSync:Kr}=or===void 0?{}:or,nn=_t.actionData!=null&&_t.navigation.formMethod!=null&&isMutationMethod(_t.navigation.formMethod)&&_t.navigation.state==="loading"&&((hr=Wt.state)==null?void 0:hr._isRedirect)!==!0,Nr;Qt.actionData?Object.keys(Qt.actionData).length>0?Nr=Qt.actionData:Nr=null:nn?Nr=_t.actionData:Nr=null;let Zr=Qt.loaderData?mergeLoaderData(_t.loaderData,Qt.loaderData,Qt.matches||[],Qt.errors):_t.loaderData,Yr=_t.blockers;Yr.size>0&&(Yr=new Map(Yr),Yr.forEach((_n,ln)=>Yr.set(ln,IDLE_BLOCKER)));let Wr=kt===!0||_t.navigation.formMethod!=null&&isMutationMethod(_t.navigation.formMethod)&&((Ur=Wt.state)==null?void 0:Ur._isRedirect)!==!0;ot&&(at=ot,ot=void 0),Ut||Ot===Action.Pop||(Ot===Action.Push?_e.history.push(Wt,Wt.state):Ot===Action.Replace&&_e.history.replace(Wt,Wt.state));let Sn;if(Ot===Action.Pop){let _n=zt.get(_t.location.pathname);_n&&_n.has(Wt.pathname)?Sn={currentLocation:_t.location,nextLocation:Wt}:zt.has(Wt.pathname)&&(Sn={currentLocation:Wt,nextLocation:_t.location})}else if($t){let _n=zt.get(_t.location.pathname);_n?_n.add(Wt.pathname):(_n=new Set([Wt.pathname]),zt.set(_t.location.pathname,_n)),Sn={currentLocation:_t.location,nextLocation:Wt}}yr(_extends$2({},Qt,{actionData:Nr,loaderData:Zr,historyAction:Ot,location:Wt,initialized:!0,navigation:IDLE_NAVIGATION,revalidation:"idle",restoreScrollPosition:$n(Wt,Qt.matches||_t.matches),preventScrollReset:Wr,blockers:Yr}),{viewTransitionOpts:Sn,flushSync:Kr===!0}),Ot=Action.Pop,kt=!1,$t=!1,Ut=!1,It=!1,Dt=[]}async function ar(Wt,Qt){if(typeof Wt=="number"){_e.history.go(Wt);return}let or=normalizeTo(_t.location,_t.matches,st,ut.v7_prependBasename,Wt,ut.v7_relativeSplatPath,Qt==null?void 0:Qt.fromRouteId,Qt==null?void 0:Qt.relative),{path:hr,submission:Ur,error:Kr}=normalizeNavigateOptions(ut.v7_normalizeFormMethod,!1,or,Qt),nn=_t.location,Nr=createLocation(_t.location,hr,Qt&&Qt.state);Nr=_extends$2({},Nr,_e.history.encodeLocation(Nr));let Zr=Qt&&Qt.replace!=null?Qt.replace:void 0,Yr=Action.Push;Zr===!0?Yr=Action.Replace:Zr===!1||Ur!=null&&isMutationMethod(Ur.formMethod)&&Ur.formAction===_t.location.pathname+_t.location.search&&(Yr=Action.Replace);let Wr=Qt&&"preventScrollReset"in Qt?Qt.preventScrollReset===!0:void 0,Sn=(Qt&&Qt.unstable_flushSync)===!0,_n=To({currentLocation:nn,nextLocation:Nr,historyAction:Yr});if(_n){yo(_n,{state:"blocked",location:Nr,proceed(){yo(_n,{state:"proceeding",proceed:void 0,reset:void 0,location:Nr}),ar(Wt,Qt)},reset(){let ln=new Map(_t.blockers);ln.set(_n,IDLE_BLOCKER),yr({blockers:ln})}});return}return await _r(Yr,Nr,{submission:Ur,pendingError:Kr,preventScrollReset:Wr,replace:Qt&&Qt.replace,enableViewTransition:Qt&&Qt.unstable_viewTransition,flushSync:Sn})}function Er(){if(an(),yr({revalidation:"loading"}),_t.navigation.state!=="submitting"){if(_t.navigation.state==="idle"){_r(_t.historyAction,_t.location,{startUninterruptedRevalidation:!0});return}_r(Ot||_t.historyAction,_t.navigation.location,{overrideNavigation:_t.navigation,enableViewTransition:$t===!0})}}async function _r(Wt,Qt,or){Lt&&Lt.abort(),Lt=null,Ot=Wt,Ut=(or&&or.startUninterruptedRevalidation)===!0,Mn(_t.location,_t.matches),kt=(or&&or.preventScrollReset)===!0,$t=(or&&or.enableViewTransition)===!0;let hr=ot||at,Ur=or&&or.overrideNavigation,Kr=matchRoutes(hr,Qt,st),nn=(or&&or.flushSync)===!0,Nr=Rn(Kr,hr,Qt.pathname);if(Nr.active&&Nr.matches&&(Kr=Nr.matches),!Kr){let{error:hn,notFoundMatches:Pn,route:kn}=Eo(Qt.pathname);rn(Qt,{matches:Pn,loaderData:{},errors:{[kn.id]:hn}},{flushSync:nn});return}if(_t.initialized&&!It&&isHashChangeOnly(_t.location,Qt)&&!(or&&or.submission&&isMutationMethod(or.submission.formMethod))){rn(Qt,{matches:Kr},{flushSync:nn});return}Lt=new AbortController;let Zr=createClientSideRequest(_e.history,Qt,Lt.signal,or&&or.submission),Yr;if(or&&or.pendingError)Yr=[findNearestBoundary(Kr).route.id,{type:ResultType.error,error:or.pendingError}];else if(or&&or.submission&&isMutationMethod(or.submission.formMethod)){let hn=await gr(Zr,Qt,or.submission,Kr,Nr.active,{replace:or.replace,flushSync:nn});if(hn.shortCircuited)return;if(hn.pendingActionResult){let[Pn,kn]=hn.pendingActionResult;if(isErrorResult(kn)&&isRouteErrorResponse(kn.error)&&kn.error.status===404){Lt=null,rn(Qt,{matches:hn.matches,loaderData:{},errors:{[Pn]:kn.error}});return}}Kr=hn.matches||Kr,Yr=hn.pendingActionResult,Ur=getLoadingNavigation(Qt,or.submission),nn=!1,Nr.active=!1,Zr=createClientSideRequest(_e.history,Zr.url,Zr.signal)}let{shortCircuited:Wr,matches:Sn,loaderData:_n,errors:ln}=await qr(Zr,Qt,Kr,Nr.active,Ur,or&&or.submission,or&&or.fetcherSubmission,or&&or.replace,or&&or.initialHydration===!0,nn,Yr);Wr||(Lt=null,rn(Qt,_extends$2({matches:Sn||Kr},getActionDataForCommit(Yr),{loaderData:_n,errors:ln})))}async function gr(Wt,Qt,or,hr,Ur,Kr){Kr===void 0&&(Kr={}),an();let nn=getSubmittingNavigation(Qt,or);if(yr({navigation:nn},{flushSync:Kr.flushSync===!0}),Ur){let Yr=await sn(hr,Qt.pathname,Wt.signal);if(Yr.type==="aborted")return{shortCircuited:!0};if(Yr.type==="error"){let{boundaryId:Wr,error:Sn}=ba(Qt.pathname,Yr);return{matches:Yr.partialMatches,pendingActionResult:[Wr,{type:ResultType.error,error:Sn}]}}else if(Yr.matches)hr=Yr.matches;else{let{notFoundMatches:Wr,error:Sn,route:_n}=Eo(Qt.pathname);return{matches:Wr,pendingActionResult:[_n.id,{type:ResultType.error,error:Sn}]}}}let Nr,Zr=getTargetMatch(hr,Qt);if(!Zr.route.action&&!Zr.route.lazy)Nr={type:ResultType.error,error:getInternalRouterError(405,{method:Wt.method,pathname:Qt.pathname,routeId:Zr.route.id})};else if(Nr=(await wr("action",_t,Wt,[Zr],hr,null))[Zr.route.id],Wt.signal.aborted)return{shortCircuited:!0};if(isRedirectResult(Nr)){let Yr;return Kr&&Kr.replace!=null?Yr=Kr.replace:Yr=normalizeRedirectLocation(Nr.response.headers.get("Location"),new URL(Wt.url),st)===_t.location.pathname+_t.location.search,await Rr(Wt,Nr,!0,{submission:or,replace:Yr}),{shortCircuited:!0}}if(isDeferredResult(Nr))throw getInternalRouterError(400,{type:"defer-action"});if(isErrorResult(Nr)){let Yr=findNearestBoundary(hr,Zr.route.id);return(Kr&&Kr.replace)!==!0&&(Ot=Action.Push),{matches:hr,pendingActionResult:[Yr.route.id,Nr]}}return{matches:hr,pendingActionResult:[Zr.route.id,Nr]}}async function qr(Wt,Qt,or,hr,Ur,Kr,nn,Nr,Zr,Yr,Wr){let Sn=Ur||getLoadingNavigation(Qt,Kr),_n=Kr||nn||getSubmissionFromNavigation(Sn),ln=!Ut&&(!ut.v7_partialHydration||!Zr);if(hr){if(ln){let In=Sr(Wr);yr(_extends$2({navigation:Sn},In!==void 0?{actionData:In}:{}),{flushSync:Yr})}let un=await sn(or,Qt.pathname,Wt.signal);if(un.type==="aborted")return{shortCircuited:!0};if(un.type==="error"){let{boundaryId:In,error:Vn}=ba(Qt.pathname,un);return{matches:un.partialMatches,loaderData:{},errors:{[In]:Vn}}}else if(un.matches)or=un.matches;else{let{error:In,notFoundMatches:Vn,route:on}=Eo(Qt.pathname);return{matches:Vn,loaderData:{},errors:{[on.id]:In}}}}let hn=ot||at,[Pn,kn]=getMatchesToLoad(_e.history,_t,or,_n,Qt,ut.v7_partialHydration&&Zr===!0,ut.v7_skipActionErrorRevalidation,It,Dt,Tt,xr,ur,cr,hn,st,Wr);if(oo(un=>!(or&&or.some(In=>In.route.id===un))||Pn&&Pn.some(In=>In.route.id===un)),jt=++Ft,Pn.length===0&&kn.length===0){let un=Gn();return rn(Qt,_extends$2({matches:or,loaderData:{},errors:Wr&&isErrorResult(Wr[1])?{[Wr[0]]:Wr[1].error}:null},getActionDataForCommit(Wr),un?{fetchers:new Map(_t.fetchers)}:{}),{flushSync:Yr}),{shortCircuited:!0}}if(ln){let un={};if(!hr){un.navigation=Sn;let In=Sr(Wr);In!==void 0&&(un.actionData=In)}kn.length>0&&(un.fetchers=Hr(kn)),yr(un,{flushSync:Yr})}kn.forEach(un=>{Rt.has(un.key)&&Fr(un.key),un.controller&&Rt.set(un.key,un.controller)});let xa=()=>kn.forEach(un=>Fr(un.key));Lt&&Lt.signal.addEventListener("abort",xa);let{loaderResults:Qn,fetcherResults:co}=await Dr(_t,or,Pn,kn,Wt);if(Wt.signal.aborted)return{shortCircuited:!0};Lt&&Lt.signal.removeEventListener("abort",xa),kn.forEach(un=>Rt.delete(un.key));let $a=findRedirect(Qn);if($a)return await Rr(Wt,$a.result,!0,{replace:Nr}),{shortCircuited:!0};if($a=findRedirect(co),$a)return cr.add($a.key),await Rr(Wt,$a.result,!0,{replace:Nr}),{shortCircuited:!0};let{loaderData:eo,errors:to}=processLoaderData(_t,or,Pn,Qn,Wr,kn,co,vr);vr.forEach((un,In)=>{un.subscribe(Vn=>{(Vn||un.done)&&vr.delete(In)})}),ut.v7_partialHydration&&Zr&&_t.errors&&Object.entries(_t.errors).filter(un=>{let[In]=un;return!Pn.some(Vn=>Vn.route.id===In)}).forEach(un=>{let[In,Vn]=un;to=Object.assign(to||{},{[In]:Vn})});let So=Gn(),Fo=An(jt),pn=So||Fo||kn.length>0;return _extends$2({matches:or,loaderData:eo,errors:to},pn?{fetchers:new Map(_t.fetchers)}:{})}function Sr(Wt){if(Wt&&!isErrorResult(Wt[1]))return{[Wt[0]]:Wt[1].data};if(_t.actionData)return Object.keys(_t.actionData).length===0?null:_t.actionData}function Hr(Wt){return Wt.forEach(Qt=>{let or=_t.fetchers.get(Qt.key),hr=getLoadingFetcher(void 0,or?or.data:void 0);_t.fetchers.set(Qt.key,hr)}),new Map(_t.fetchers)}function Qr(Wt,Qt,or,hr){if(rt)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Rt.has(Wt)&&Fr(Wt);let Ur=(hr&&hr.unstable_flushSync)===!0,Kr=ot||at,nn=normalizeTo(_t.location,_t.matches,st,ut.v7_prependBasename,or,ut.v7_relativeSplatPath,Qt,hr==null?void 0:hr.relative),Nr=matchRoutes(Kr,nn,st),Zr=Rn(Nr,Kr,nn);if(Zr.active&&Zr.matches&&(Nr=Zr.matches),!Nr){dn(Wt,Qt,getInternalRouterError(404,{pathname:nn}),{flushSync:Ur});return}let{path:Yr,submission:Wr,error:Sn}=normalizeNavigateOptions(ut.v7_normalizeFormMethod,!0,nn,hr);if(Sn){dn(Wt,Qt,Sn,{flushSync:Ur});return}let _n=getTargetMatch(Nr,Yr);if(kt=(hr&&hr.preventScrollReset)===!0,Wr&&isMutationMethod(Wr.formMethod)){Xr(Wt,Qt,Yr,_n,Nr,Zr.active,Ur,Wr);return}ur.set(Wt,{routeId:Qt,path:Yr}),tn(Wt,Qt,Yr,_n,Nr,Zr.active,Ur,Wr)}async function Xr(Wt,Qt,or,hr,Ur,Kr,nn,Nr){an(),ur.delete(Wt);function Zr(on){if(!on.route.action&&!on.route.lazy){let Wn=getInternalRouterError(405,{method:Nr.formMethod,pathname:or,routeId:Qt});return dn(Wt,Qt,Wn,{flushSync:nn}),!0}return!1}if(!Kr&&Zr(hr))return;let Yr=_t.fetchers.get(Wt);En(Wt,getSubmittingFetcher(Nr,Yr),{flushSync:nn});let Wr=new AbortController,Sn=createClientSideRequest(_e.history,or,Wr.signal,Nr);if(Kr){let on=await sn(Ur,or,Sn.signal);if(on.type==="aborted")return;if(on.type==="error"){let{error:Wn}=ba(or,on);dn(Wt,Qt,Wn,{flushSync:nn});return}else if(on.matches){if(Ur=on.matches,hr=getTargetMatch(Ur,or),Zr(hr))return}else{dn(Wt,Qt,getInternalRouterError(404,{pathname:or}),{flushSync:nn});return}}Rt.set(Wt,Wr);let _n=Ft,hn=(await wr("action",_t,Sn,[hr],Ur,Wt))[hr.route.id];if(Sn.signal.aborted){Rt.get(Wt)===Wr&&Rt.delete(Wt);return}if(ut.v7_fetcherPersist&&xr.has(Wt)){if(isRedirectResult(hn)||isErrorResult(hn)){En(Wt,getDoneFetcher(void 0));return}}else{if(isRedirectResult(hn))if(Rt.delete(Wt),jt>_n){En(Wt,getDoneFetcher(void 0));return}else return cr.add(Wt),En(Wt,getLoadingFetcher(Nr)),Rr(Sn,hn,!1,{fetcherSubmission:Nr});if(isErrorResult(hn)){dn(Wt,Qt,hn.error);return}}if(isDeferredResult(hn))throw getInternalRouterError(400,{type:"defer-action"});let Pn=_t.navigation.location||_t.location,kn=createClientSideRequest(_e.history,Pn,Wr.signal),xa=ot||at,Qn=_t.navigation.state!=="idle"?matchRoutes(xa,_t.navigation.location,st):_t.matches;invariant$2(Qn,"Didn't find any matches after fetcher action");let co=++Ft;nr.set(Wt,co);let $a=getLoadingFetcher(Nr,hn.data);_t.fetchers.set(Wt,$a);let[eo,to]=getMatchesToLoad(_e.history,_t,Qn,Nr,Pn,!1,ut.v7_skipActionErrorRevalidation,It,Dt,Tt,xr,ur,cr,xa,st,[hr.route.id,hn]);to.filter(on=>on.key!==Wt).forEach(on=>{let Wn=on.key,wo=_t.fetchers.get(Wn),Co=getLoadingFetcher(void 0,wo?wo.data:void 0);_t.fetchers.set(Wn,Co),Rt.has(Wn)&&Fr(Wn),on.controller&&Rt.set(Wn,on.controller)}),yr({fetchers:new Map(_t.fetchers)});let So=()=>to.forEach(on=>Fr(on.key));Wr.signal.addEventListener("abort",So);let{loaderResults:Fo,fetcherResults:pn}=await Dr(_t,Qn,eo,to,kn);if(Wr.signal.aborted)return;Wr.signal.removeEventListener("abort",So),nr.delete(Wt),Rt.delete(Wt),to.forEach(on=>Rt.delete(on.key));let un=findRedirect(Fo);if(un)return Rr(kn,un.result,!1);if(un=findRedirect(pn),un)return cr.add(un.key),Rr(kn,un.result,!1);let{loaderData:In,errors:Vn}=processLoaderData(_t,Qn,eo,Fo,void 0,to,pn,vr);if(_t.fetchers.has(Wt)){let on=getDoneFetcher(hn.data);_t.fetchers.set(Wt,on)}An(co),_t.navigation.state==="loading"&&co>jt?(invariant$2(Ot,"Expected pending action"),Lt&&Lt.abort(),rn(_t.navigation.location,{matches:Qn,loaderData:In,errors:Vn,fetchers:new Map(_t.fetchers)})):(yr({errors:Vn,loaderData:mergeLoaderData(_t.loaderData,In,Qn,Vn),fetchers:new Map(_t.fetchers)}),It=!1)}async function tn(Wt,Qt,or,hr,Ur,Kr,nn,Nr){let Zr=_t.fetchers.get(Wt);En(Wt,getLoadingFetcher(Nr,Zr?Zr.data:void 0),{flushSync:nn});let Yr=new AbortController,Wr=createClientSideRequest(_e.history,or,Yr.signal);if(Kr){let hn=await sn(Ur,or,Wr.signal);if(hn.type==="aborted")return;if(hn.type==="error"){let{error:Pn}=ba(or,hn);dn(Wt,Qt,Pn,{flushSync:nn});return}else if(hn.matches)Ur=hn.matches,hr=getTargetMatch(Ur,or);else{dn(Wt,Qt,getInternalRouterError(404,{pathname:or}),{flushSync:nn});return}}Rt.set(Wt,Yr);let Sn=Ft,ln=(await wr("loader",_t,Wr,[hr],Ur,Wt))[hr.route.id];if(isDeferredResult(ln)&&(ln=await resolveDeferredData(ln,Wr.signal,!0)||ln),Rt.get(Wt)===Yr&&Rt.delete(Wt),!Wr.signal.aborted){if(xr.has(Wt)){En(Wt,getDoneFetcher(void 0));return}if(isRedirectResult(ln))if(jt>Sn){En(Wt,getDoneFetcher(void 0));return}else{cr.add(Wt),await Rr(Wr,ln,!1);return}if(isErrorResult(ln)){dn(Wt,Qt,ln.error);return}invariant$2(!isDeferredResult(ln),"Unhandled fetcher deferred data"),En(Wt,getDoneFetcher(ln.data))}}async function Rr(Wt,Qt,or,hr){let{submission:Ur,fetcherSubmission:Kr,replace:nn}=hr===void 0?{}:hr;Qt.response.headers.has("X-Remix-Revalidate")&&(It=!0);let Nr=Qt.response.headers.get("Location");invariant$2(Nr,"Expected a Location header on the redirect Response"),Nr=normalizeRedirectLocation(Nr,new URL(Wt.url),st);let Zr=createLocation(_t.location,Nr,{_isRedirect:!0});if(tt){let hn=!1;if(Qt.response.headers.has("X-Remix-Reload-Document"))hn=!0;else if(ABSOLUTE_URL_REGEX$1.test(Nr)){const Pn=_e.history.createURL(Nr);hn=Pn.origin!==et.location.origin||stripBasename(Pn.pathname,st)==null}if(hn){nn?et.location.replace(Nr):et.location.assign(Nr);return}}Lt=null;let Yr=nn===!0||Qt.response.headers.has("X-Remix-Replace")?Action.Replace:Action.Push,{formMethod:Wr,formAction:Sn,formEncType:_n}=_t.navigation;!Ur&&!Kr&&Wr&&Sn&&_n&&(Ur=getSubmissionFromNavigation(_t.navigation));let ln=Ur||Kr;if(redirectPreserveMethodStatusCodes.has(Qt.response.status)&&ln&&isMutationMethod(ln.formMethod))await _r(Yr,Zr,{submission:_extends$2({},ln,{formAction:Nr}),preventScrollReset:kt,enableViewTransition:or?$t:void 0});else{let hn=getLoadingNavigation(Zr,Ur);await _r(Yr,Zr,{overrideNavigation:hn,fetcherSubmission:Kr,preventScrollReset:kt,enableViewTransition:or?$t:void 0})}}async function wr(Wt,Qt,or,hr,Ur,Kr){let nn,Nr={};try{nn=await callDataStrategyImpl(lt,Wt,Qt,or,hr,Ur,Kr,it,nt)}catch(Zr){return hr.forEach(Yr=>{Nr[Yr.route.id]={type:ResultType.error,error:Zr}}),Nr}for(let[Zr,Yr]of Object.entries(nn))if(isRedirectDataStrategyResultResult(Yr)){let Wr=Yr.result;Nr[Zr]={type:ResultType.redirect,response:normalizeRelativeRoutingRedirectResponse(Wr,or,Zr,Ur,st,ut.v7_relativeSplatPath)}}else Nr[Zr]=await convertDataStrategyResultToDataResult(Yr);return Nr}async function Dr(Wt,Qt,or,hr,Ur){let Kr=Wt.matches,nn=wr("loader",Wt,Ur,or,Qt,null),Nr=Promise.all(hr.map(async Wr=>{if(Wr.matches&&Wr.match&&Wr.controller){let _n=(await wr("loader",Wt,createClientSideRequest(_e.history,Wr.path,Wr.controller.signal),[Wr.match],Wr.matches,Wr.key))[Wr.match.route.id];return{[Wr.key]:_n}}else return Promise.resolve({[Wr.key]:{type:ResultType.error,error:getInternalRouterError(404,{pathname:Wr.path})}})})),Zr=await nn,Yr=(await Nr).reduce((Wr,Sn)=>Object.assign(Wr,Sn),{});return await Promise.all([resolveNavigationDeferredResults(Qt,Zr,Ur.signal,Kr,Wt.loaderData),resolveFetcherDeferredResults(Qt,Yr,hr)]),{loaderResults:Zr,fetcherResults:Yr}}function an(){It=!0,Dt.push(...oo()),ur.forEach((Wt,Qt)=>{Rt.has(Qt)&&(Tt.add(Qt),Fr(Qt))})}function En(Wt,Qt,or){or===void 0&&(or={}),_t.fetchers.set(Wt,Qt),yr({fetchers:new Map(_t.fetchers)},{flushSync:(or&&or.flushSync)===!0})}function dn(Wt,Qt,or,hr){hr===void 0&&(hr={});let Ur=findNearestBoundary(_t.matches,Qt);Gr(Wt),yr({errors:{[Ur.route.id]:or},fetchers:new Map(_t.fetchers)},{flushSync:(hr&&hr.flushSync)===!0})}function en(Wt){return ut.v7_fetcherPersist&&(pr.set(Wt,(pr.get(Wt)||0)+1),xr.has(Wt)&&xr.delete(Wt)),_t.fetchers.get(Wt)||IDLE_FETCHER}function Gr(Wt){let Qt=_t.fetchers.get(Wt);Rt.has(Wt)&&!(Qt&&Qt.state==="loading"&&nr.has(Wt))&&Fr(Wt),ur.delete(Wt),nr.delete(Wt),cr.delete(Wt),xr.delete(Wt),Tt.delete(Wt),_t.fetchers.delete(Wt)}function Cn(Wt){if(ut.v7_fetcherPersist){let Qt=(pr.get(Wt)||0)-1;Qt<=0?(pr.delete(Wt),xr.add(Wt)):pr.set(Wt,Qt)}else Gr(Wt);yr({fetchers:new Map(_t.fetchers)})}function Fr(Wt){let Qt=Rt.get(Wt);invariant$2(Qt,"Expected fetch controller: "+Wt),Qt.abort(),Rt.delete(Wt)}function Ln(Wt){for(let Qt of Wt){let or=en(Qt),hr=getDoneFetcher(or.data);_t.fetchers.set(Qt,hr)}}function Gn(){let Wt=[],Qt=!1;for(let or of cr){let hr=_t.fetchers.get(or);invariant$2(hr,"Expected fetcher: "+or),hr.state==="loading"&&(cr.delete(or),Wt.push(or),Qt=!0)}return Ln(Wt),Qt}function An(Wt){let Qt=[];for(let[or,hr]of nr)if(hr<Wt){let Ur=_t.fetchers.get(or);invariant$2(Ur,"Expected fetcher: "+or),Ur.state==="loading"&&(Fr(or),nr.delete(or),Qt.push(or))}return Ln(Qt),Qt.length>0}function Lr(Wt,Qt){let or=_t.blockers.get(Wt)||IDLE_BLOCKER;return Br.get(Wt)!==Qt&&Br.set(Wt,Qt),or}function Zn(Wt){_t.blockers.delete(Wt),Br.delete(Wt)}function yo(Wt,Qt){let or=_t.blockers.get(Wt)||IDLE_BLOCKER;invariant$2(or.state==="unblocked"&&Qt.state==="blocked"||or.state==="blocked"&&Qt.state==="blocked"||or.state==="blocked"&&Qt.state==="proceeding"||or.state==="blocked"&&Qt.state==="unblocked"||or.state==="proceeding"&&Qt.state==="unblocked","Invalid blocker state transition: "+or.state+" -> "+Qt.state);let hr=new Map(_t.blockers);hr.set(Wt,Qt),yr({blockers:hr})}function To(Wt){let{currentLocation:Qt,nextLocation:or,historyAction:hr}=Wt;if(Br.size===0)return;Br.size>1&&warning(!1,"A router only supports one blocker at a time");let Ur=Array.from(Br.entries()),[Kr,nn]=Ur[Ur.length-1],Nr=_t.blockers.get(Kr);if(!(Nr&&Nr.state==="proceeding")&&nn({currentLocation:Qt,nextLocation:or,historyAction:hr}))return Kr}function Eo(Wt){let Qt=getInternalRouterError(404,{pathname:Wt}),or=ot||at,{matches:hr,route:Ur}=getShortCircuitMatches(or);return oo(),{notFoundMatches:hr,route:Ur,error:Qt}}function ba(Wt,Qt){return{boundaryId:findNearestBoundary(Qt.partialMatches).route.id,error:getInternalRouterError(400,{type:"route-discovery",pathname:Wt,message:Qt.error!=null&&"message"in Qt.error?Qt.error:String(Qt.error)})}}function oo(Wt){let Qt=[];return vr.forEach((or,hr)=>{(!Wt||Wt(hr))&&(or.cancel(),Qt.push(hr),vr.delete(hr))}),Qt}function On(Wt,Qt,or){if(yt=Wt,gt=Qt,mt=or||null,!vt&&_t.navigation===IDLE_NAVIGATION){vt=!0;let hr=$n(_t.location,_t.matches);hr!=null&&yr({restoreScrollPosition:hr})}return()=>{yt=null,gt=null,mt=null}}function wn(Wt,Qt){return mt&&mt(Wt,Qt.map(hr=>convertRouteMatchToUiMatch(hr,_t.loaderData)))||Wt.key}function Mn(Wt,Qt){if(yt&&gt){let or=wn(Wt,Qt);yt[or]=gt()}}function $n(Wt,Qt){if(yt){let or=wn(Wt,Qt),hr=yt[or];if(typeof hr=="number")return hr}return null}function Rn(Wt,Qt,or){if(ct){if(ht.has(or))return{active:!1,matches:Wt};if(Wt){if(Object.keys(Wt[0].params).length>0)return{active:!0,matches:matchRoutesImpl(Qt,or,st,!0)}}else return{active:!0,matches:matchRoutesImpl(Qt,or,st,!0)||[]}}return{active:!1,matches:null}}async function sn(Wt,Qt,or){let hr=Wt;for(;;){let Ur=ot==null,Kr=ot||at;try{await loadLazyRouteChildren(ct,Qt,hr,Kr,it,nt,mr,or)}catch(Zr){return{type:"error",error:Zr,partialMatches:hr}}finally{Ur&&(at=[...at])}if(or.aborted)return{type:"aborted"};let nn=matchRoutes(Kr,Qt,st);if(nn)return xn(Qt,ht),{type:"success",matches:nn};let Nr=matchRoutesImpl(Kr,Qt,st,!0);if(!Nr||hr.length===Nr.length&&hr.every((Zr,Yr)=>Zr.route.id===Nr[Yr].route.id))return xn(Qt,ht),{type:"success",matches:null};hr=Nr}}function xn(Wt,Qt){if(Qt.size>=pt){let or=Qt.values().next().value;Qt.delete(or)}Qt.add(Wt)}function Jn(Wt){it={},ot=convertRoutesToDataRoutes(Wt,nt,void 0,it)}function _i(Wt,Qt){let or=ot==null;patchRoutesImpl(Wt,Qt,ot||at,it,nt),or&&(at=[...at],yr({}))}return wt={get basename(){return st},get future(){return ut},get state(){return _t},get routes(){return at},get window(){return et},initialize:br,subscribe:Vr,enableScrollRestoration:On,navigate:ar,fetch:Qr,revalidate:Er,createHref:Wt=>_e.history.createHref(Wt),encodeLocation:Wt=>_e.history.encodeLocation(Wt),getFetcher:en,deleteFetcher:Cn,dispose:Tr,getBlocker:Lr,deleteBlocker:Zn,patchRoutes:_i,_internalFetchControllers:Rt,_internalActiveDeferreds:vr,_internalSetRoutes:Jn},wt}function isSubmissionNavigation(_e){return _e!=null&&("formData"in _e&&_e.formData!=null||"body"in _e&&_e.body!==void 0)}function normalizeTo(_e,et,tt,rt,nt,it,at,ot){let st,lt;if(at){st=[];for(let ut of et)if(st.push(ut),ut.route.id===at){lt=ut;break}}else st=et,lt=et[et.length-1];let ct=resolveTo(nt||".",getResolveToMatches(st,it),stripBasename(_e.pathname,tt)||_e.pathname,ot==="path");return nt==null&&(ct.search=_e.search,ct.hash=_e.hash),(nt==null||nt===""||nt===".")&&lt&&lt.route.index&&!hasNakedIndexQuery(ct.search)&&(ct.search=ct.search?ct.search.replace(/^\?/,"?index&"):"?index"),rt&&tt!=="/"&&(ct.pathname=ct.pathname==="/"?tt:joinPaths([tt,ct.pathname])),createPath(ct)}function normalizeNavigateOptions(_e,et,tt,rt){if(!rt||!isSubmissionNavigation(rt))return{path:tt};if(rt.formMethod&&!isValidMethod(rt.formMethod))return{path:tt,error:getInternalRouterError(405,{method:rt.formMethod})};let nt=()=>({path:tt,error:getInternalRouterError(400,{type:"invalid-body"})}),it=rt.formMethod||"get",at=_e?it.toUpperCase():it.toLowerCase(),ot=stripHashFromPath(tt);if(rt.body!==void 0){if(rt.formEncType==="text/plain"){if(!isMutationMethod(at))return nt();let dt=typeof rt.body=="string"?rt.body:rt.body instanceof FormData||rt.body instanceof URLSearchParams?Array.from(rt.body.entries()).reduce((ft,pt)=>{let[ht,yt]=pt;return""+ft+ht+"="+yt+`
`},""):String(rt.body);return{path:tt,submission:{formMethod:at,formAction:ot,formEncType:rt.formEncType,formData:void 0,json:void 0,text:dt}}}else if(rt.formEncType==="application/json"){if(!isMutationMethod(at))return nt();try{let dt=typeof rt.body=="string"?JSON.parse(rt.body):rt.body;return{path:tt,submission:{formMethod:at,formAction:ot,formEncType:rt.formEncType,formData:void 0,json:dt,text:void 0}}}catch{return nt()}}}invariant$2(typeof FormData=="function","FormData is not available in this environment");let st,lt;if(rt.formData)st=convertFormDataToSearchParams(rt.formData),lt=rt.formData;else if(rt.body instanceof FormData)st=convertFormDataToSearchParams(rt.body),lt=rt.body;else if(rt.body instanceof URLSearchParams)st=rt.body,lt=convertSearchParamsToFormData(st);else if(rt.body==null)st=new URLSearchParams,lt=new FormData;else try{st=new URLSearchParams(rt.body),lt=convertSearchParamsToFormData(st)}catch{return nt()}let ct={formMethod:at,formAction:ot,formEncType:rt&&rt.formEncType||"application/x-www-form-urlencoded",formData:lt,json:void 0,text:void 0};if(isMutationMethod(ct.formMethod))return{path:tt,submission:ct};let ut=parsePath(tt);return et&&ut.search&&hasNakedIndexQuery(ut.search)&&st.append("index",""),ut.search="?"+st,{path:createPath(ut),submission:ct}}function getLoaderMatchesUntilBoundary(_e,et){let tt=_e;if(et){let rt=_e.findIndex(nt=>nt.route.id===et);rt>=0&&(tt=_e.slice(0,rt))}return tt}function getMatchesToLoad(_e,et,tt,rt,nt,it,at,ot,st,lt,ct,ut,dt,ft,pt,ht){let yt=ht?isErrorResult(ht[1])?ht[1].error:ht[1].data:void 0,mt=_e.createURL(et.location),gt=_e.createURL(nt),vt=ht&&isErrorResult(ht[1])?ht[0]:void 0,St=vt?getLoaderMatchesUntilBoundary(tt,vt):tt,xt=ht?ht[1].statusCode:void 0,Ct=at&&xt&&xt>=400,wt=St.filter((Ot,kt)=>{let{route:Lt}=Ot;if(Lt.lazy)return!0;if(Lt.loader==null)return!1;if(it)return typeof Lt.loader!="function"||Lt.loader.hydrate?!0:et.loaderData[Lt.id]===void 0&&(!et.errors||et.errors[Lt.id]===void 0);if(isNewLoader(et.loaderData,et.matches[kt],Ot)||st.some(Vt=>Vt===Ot.route.id))return!0;let $t=et.matches[kt],zt=Ot;return shouldRevalidateLoader(Ot,_extends$2({currentUrl:mt,currentParams:$t.params,nextUrl:gt,nextParams:zt.params},rt,{actionResult:yt,actionStatus:xt,defaultShouldRevalidate:Ct?!1:ot||mt.pathname+mt.search===gt.pathname+gt.search||mt.search!==gt.search||isNewRouteInstance($t,zt)}))}),_t=[];return ut.forEach((Ot,kt)=>{if(it||!tt.some(Ut=>Ut.route.id===Ot.routeId)||ct.has(kt))return;let Lt=matchRoutes(ft,Ot.path,pt);if(!Lt){_t.push({key:kt,routeId:Ot.routeId,path:Ot.path,matches:null,match:null,controller:null});return}let $t=et.fetchers.get(kt),zt=getTargetMatch(Lt,Ot.path),Vt=!1;dt.has(kt)?Vt=!1:lt.has(kt)?(lt.delete(kt),Vt=!0):$t&&$t.state!=="idle"&&$t.data===void 0?Vt=ot:Vt=shouldRevalidateLoader(zt,_extends$2({currentUrl:mt,currentParams:et.matches[et.matches.length-1].params,nextUrl:gt,nextParams:tt[tt.length-1].params},rt,{actionResult:yt,actionStatus:xt,defaultShouldRevalidate:Ct?!1:ot})),Vt&&_t.push({key:kt,routeId:Ot.routeId,path:Ot.path,matches:Lt,match:zt,controller:new AbortController})}),[wt,_t]}function isNewLoader(_e,et,tt){let rt=!et||tt.route.id!==et.route.id,nt=_e[tt.route.id]===void 0;return rt||nt}function isNewRouteInstance(_e,et){let tt=_e.route.path;return _e.pathname!==et.pathname||tt!=null&&tt.endsWith("*")&&_e.params["*"]!==et.params["*"]}function shouldRevalidateLoader(_e,et){if(_e.route.shouldRevalidate){let tt=_e.route.shouldRevalidate(et);if(typeof tt=="boolean")return tt}return et.defaultShouldRevalidate}async function loadLazyRouteChildren(_e,et,tt,rt,nt,it,at,ot){let st=[et,...tt.map(lt=>lt.route.id)].join("-");try{let lt=at.get(st);lt||(lt=_e({path:et,matches:tt,patch:(ct,ut)=>{ot.aborted||patchRoutesImpl(ct,ut,rt,nt,it)}}),at.set(st,lt)),lt&&isPromise(lt)&&await lt}finally{at.delete(st)}}function patchRoutesImpl(_e,et,tt,rt,nt){if(_e){var it;let at=rt[_e];invariant$2(at,"No route found to patch children into: routeId = "+_e);let ot=convertRoutesToDataRoutes(et,nt,[_e,"patch",String(((it=at.children)==null?void 0:it.length)||"0")],rt);at.children?at.children.push(...ot):at.children=ot}else{let at=convertRoutesToDataRoutes(et,nt,["patch",String(tt.length||"0")],rt);tt.push(...at)}}async function loadLazyRouteModule(_e,et,tt){if(!_e.lazy)return;let rt=await _e.lazy();if(!_e.lazy)return;let nt=tt[_e.id];invariant$2(nt,"No route found in manifest");let it={};for(let at in rt){let st=nt[at]!==void 0&&at!=="hasErrorBoundary";warning(!st,'Route "'+nt.id+'" has a static property "'+at+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+at+'" will be ignored.')),!st&&!immutableRouteKeys.has(at)&&(it[at]=rt[at])}Object.assign(nt,it),Object.assign(nt,_extends$2({},et(nt),{lazy:void 0}))}async function defaultDataStrategy(_e){let{matches:et}=_e,tt=et.filter(nt=>nt.shouldLoad);return(await Promise.all(tt.map(nt=>nt.resolve()))).reduce((nt,it,at)=>Object.assign(nt,{[tt[at].route.id]:it}),{})}async function callDataStrategyImpl(_e,et,tt,rt,nt,it,at,ot,st,lt){let ct=it.map(ft=>ft.route.lazy?loadLazyRouteModule(ft.route,st,ot):void 0),ut=it.map((ft,pt)=>{let ht=ct[pt],yt=nt.some(gt=>gt.route.id===ft.route.id);return _extends$2({},ft,{shouldLoad:yt,resolve:async gt=>(gt&&rt.method==="GET"&&(ft.route.lazy||ft.route.loader)&&(yt=!0),yt?callLoaderOrAction(et,rt,ft,ht,gt,lt):Promise.resolve({type:ResultType.data,result:void 0}))})}),dt=await _e({matches:ut,request:rt,params:it[0].params,fetcherKey:at,context:lt});try{await Promise.all(ct)}catch{}return dt}async function callLoaderOrAction(_e,et,tt,rt,nt,it){let at,ot,st=lt=>{let ct,ut=new Promise((pt,ht)=>ct=ht);ot=()=>ct(),et.signal.addEventListener("abort",ot);let dt=pt=>typeof lt!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+_e+'" [routeId: '+tt.route.id+"]"))):lt({request:et,params:tt.params,context:it},...pt!==void 0?[pt]:[]),ft=(async()=>{try{return{type:"data",result:await(nt?nt(ht=>dt(ht)):dt())}}catch(pt){return{type:"error",result:pt}}})();return Promise.race([ft,ut])};try{let lt=tt.route[_e];if(rt)if(lt){let ct,[ut]=await Promise.all([st(lt).catch(dt=>{ct=dt}),rt]);if(ct!==void 0)throw ct;at=ut}else if(await rt,lt=tt.route[_e],lt)at=await st(lt);else if(_e==="action"){let ct=new URL(et.url),ut=ct.pathname+ct.search;throw getInternalRouterError(405,{method:et.method,pathname:ut,routeId:tt.route.id})}else return{type:ResultType.data,result:void 0};else if(lt)at=await st(lt);else{let ct=new URL(et.url),ut=ct.pathname+ct.search;throw getInternalRouterError(404,{pathname:ut})}invariant$2(at.result!==void 0,"You defined "+(_e==="action"?"an action":"a loader")+" for route "+('"'+tt.route.id+"\" but didn't return anything from your `"+_e+"` ")+"function. Please return a value or `null`.")}catch(lt){return{type:ResultType.error,result:lt}}finally{ot&&et.signal.removeEventListener("abort",ot)}return at}async function convertDataStrategyResultToDataResult(_e){let{result:et,type:tt}=_e;if(isResponse$2(et)){let lt;try{let ct=et.headers.get("Content-Type");ct&&/\bapplication\/json\b/.test(ct)?et.body==null?lt=null:lt=await et.json():lt=await et.text()}catch(ct){return{type:ResultType.error,error:ct}}return tt===ResultType.error?{type:ResultType.error,error:new ErrorResponseImpl(et.status,et.statusText,lt),statusCode:et.status,headers:et.headers}:{type:ResultType.data,data:lt,statusCode:et.status,headers:et.headers}}if(tt===ResultType.error){if(isDataWithResponseInit(et)){var rt;if(et.data instanceof Error){var nt;return{type:ResultType.error,error:et.data,statusCode:(nt=et.init)==null?void 0:nt.status}}et=new ErrorResponseImpl(((rt=et.init)==null?void 0:rt.status)||500,void 0,et.data)}return{type:ResultType.error,error:et,statusCode:isRouteErrorResponse(et)?et.status:void 0}}if(isDeferredData(et)){var it,at;return{type:ResultType.deferred,deferredData:et,statusCode:(it=et.init)==null?void 0:it.status,headers:((at=et.init)==null?void 0:at.headers)&&new Headers(et.init.headers)}}if(isDataWithResponseInit(et)){var ot,st;return{type:ResultType.data,data:et.data,statusCode:(ot=et.init)==null?void 0:ot.status,headers:(st=et.init)!=null&&st.headers?new Headers(et.init.headers):void 0}}return{type:ResultType.data,data:et}}function normalizeRelativeRoutingRedirectResponse(_e,et,tt,rt,nt,it){let at=_e.headers.get("Location");if(invariant$2(at,"Redirects returned/thrown from loaders/actions must have a Location header"),!ABSOLUTE_URL_REGEX$1.test(at)){let ot=rt.slice(0,rt.findIndex(st=>st.route.id===tt)+1);at=normalizeTo(new URL(et.url),ot,nt,!0,at,it),_e.headers.set("Location",at)}return _e}function normalizeRedirectLocation(_e,et,tt){if(ABSOLUTE_URL_REGEX$1.test(_e)){let rt=_e,nt=rt.startsWith("//")?new URL(et.protocol+rt):new URL(rt),it=stripBasename(nt.pathname,tt)!=null;if(nt.origin===et.origin&&it)return nt.pathname+nt.search+nt.hash}return _e}function createClientSideRequest(_e,et,tt,rt){let nt=_e.createURL(stripHashFromPath(et)).toString(),it={signal:tt};if(rt&&isMutationMethod(rt.formMethod)){let{formMethod:at,formEncType:ot}=rt;it.method=at.toUpperCase(),ot==="application/json"?(it.headers=new Headers({"Content-Type":ot}),it.body=JSON.stringify(rt.json)):ot==="text/plain"?it.body=rt.text:ot==="application/x-www-form-urlencoded"&&rt.formData?it.body=convertFormDataToSearchParams(rt.formData):it.body=rt.formData}return new Request(nt,it)}function convertFormDataToSearchParams(_e){let et=new URLSearchParams;for(let[tt,rt]of _e.entries())et.append(tt,typeof rt=="string"?rt:rt.name);return et}function convertSearchParamsToFormData(_e){let et=new FormData;for(let[tt,rt]of _e.entries())et.append(tt,rt);return et}function processRouteLoaderData(_e,et,tt,rt,nt){let it={},at=null,ot,st=!1,lt={},ct=tt&&isErrorResult(tt[1])?tt[1].error:void 0;return _e.forEach(ut=>{if(!(ut.route.id in et))return;let dt=ut.route.id,ft=et[dt];if(invariant$2(!isRedirectResult(ft),"Cannot handle redirect results in processLoaderData"),isErrorResult(ft)){let pt=ft.error;ct!==void 0&&(pt=ct,ct=void 0),at=at||{};{let ht=findNearestBoundary(_e,dt);at[ht.route.id]==null&&(at[ht.route.id]=pt)}it[dt]=void 0,st||(st=!0,ot=isRouteErrorResponse(ft.error)?ft.error.status:500),ft.headers&&(lt[dt]=ft.headers)}else isDeferredResult(ft)?(rt.set(dt,ft.deferredData),it[dt]=ft.deferredData.data,ft.statusCode!=null&&ft.statusCode!==200&&!st&&(ot=ft.statusCode),ft.headers&&(lt[dt]=ft.headers)):(it[dt]=ft.data,ft.statusCode&&ft.statusCode!==200&&!st&&(ot=ft.statusCode),ft.headers&&(lt[dt]=ft.headers))}),ct!==void 0&&tt&&(at={[tt[0]]:ct},it[tt[0]]=void 0),{loaderData:it,errors:at,statusCode:ot||200,loaderHeaders:lt}}function processLoaderData(_e,et,tt,rt,nt,it,at,ot){let{loaderData:st,errors:lt}=processRouteLoaderData(et,rt,nt,ot);return it.forEach(ct=>{let{key:ut,match:dt,controller:ft}=ct,pt=at[ut];if(invariant$2(pt,"Did not find corresponding fetcher result"),!(ft&&ft.signal.aborted))if(isErrorResult(pt)){let ht=findNearestBoundary(_e.matches,dt==null?void 0:dt.route.id);lt&&lt[ht.route.id]||(lt=_extends$2({},lt,{[ht.route.id]:pt.error})),_e.fetchers.delete(ut)}else if(isRedirectResult(pt))invariant$2(!1,"Unhandled fetcher revalidation redirect");else if(isDeferredResult(pt))invariant$2(!1,"Unhandled fetcher deferred data");else{let ht=getDoneFetcher(pt.data);_e.fetchers.set(ut,ht)}}),{loaderData:st,errors:lt}}function mergeLoaderData(_e,et,tt,rt){let nt=_extends$2({},et);for(let it of tt){let at=it.route.id;if(et.hasOwnProperty(at)?et[at]!==void 0&&(nt[at]=et[at]):_e[at]!==void 0&&it.route.loader&&(nt[at]=_e[at]),rt&&rt.hasOwnProperty(at))break}return nt}function getActionDataForCommit(_e){return _e?isErrorResult(_e[1])?{actionData:{}}:{actionData:{[_e[0]]:_e[1].data}}:{}}function findNearestBoundary(_e,et){return(et?_e.slice(0,_e.findIndex(rt=>rt.route.id===et)+1):[..._e]).reverse().find(rt=>rt.route.hasErrorBoundary===!0)||_e[0]}function getShortCircuitMatches(_e){let et=_e.length===1?_e[0]:_e.find(tt=>tt.index||!tt.path||tt.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:et}],route:et}}function getInternalRouterError(_e,et){let{pathname:tt,routeId:rt,method:nt,type:it,message:at}=et===void 0?{}:et,ot="Unknown Server Error",st="Unknown @remix-run/router error";return _e===400?(ot="Bad Request",it==="route-discovery"?st='Unable to match URL "'+tt+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+at):nt&&tt&&rt?st="You made a "+nt+' request to "'+tt+'" but '+('did not provide a `loader` for route "'+rt+'", ')+"so there is no way to handle the request.":it==="defer-action"?st="defer() is not supported in actions":it==="invalid-body"&&(st="Unable to encode submission body")):_e===403?(ot="Forbidden",st='Route "'+rt+'" does not match URL "'+tt+'"'):_e===404?(ot="Not Found",st='No route matches URL "'+tt+'"'):_e===405&&(ot="Method Not Allowed",nt&&tt&&rt?st="You made a "+nt.toUpperCase()+' request to "'+tt+'" but '+('did not provide an `action` for route "'+rt+'", ')+"so there is no way to handle the request.":nt&&(st='Invalid request method "'+nt.toUpperCase()+'"')),new ErrorResponseImpl(_e||500,ot,new Error(st),!0)}function findRedirect(_e){let et=Object.entries(_e);for(let tt=et.length-1;tt>=0;tt--){let[rt,nt]=et[tt];if(isRedirectResult(nt))return{key:rt,result:nt}}}function stripHashFromPath(_e){let et=typeof _e=="string"?parsePath(_e):_e;return createPath(_extends$2({},et,{hash:""}))}function isHashChangeOnly(_e,et){return _e.pathname!==et.pathname||_e.search!==et.search?!1:_e.hash===""?et.hash!=="":_e.hash===et.hash?!0:et.hash!==""}function isPromise(_e){return typeof _e=="object"&&_e!=null&&"then"in _e}function isRedirectDataStrategyResultResult(_e){return isResponse$2(_e.result)&&redirectStatusCodes.has(_e.result.status)}function isDeferredResult(_e){return _e.type===ResultType.deferred}function isErrorResult(_e){return _e.type===ResultType.error}function isRedirectResult(_e){return(_e&&_e.type)===ResultType.redirect}function isDataWithResponseInit(_e){return typeof _e=="object"&&_e!=null&&"type"in _e&&"data"in _e&&"init"in _e&&_e.type==="DataWithResponseInit"}function isDeferredData(_e){let et=_e;return et&&typeof et=="object"&&typeof et.data=="object"&&typeof et.subscribe=="function"&&typeof et.cancel=="function"&&typeof et.resolveData=="function"}function isResponse$2(_e){return _e!=null&&typeof _e.status=="number"&&typeof _e.statusText=="string"&&typeof _e.headers=="object"&&typeof _e.body<"u"}function isValidMethod(_e){return validRequestMethods.has(_e.toLowerCase())}function isMutationMethod(_e){return validMutationMethods.has(_e.toLowerCase())}async function resolveNavigationDeferredResults(_e,et,tt,rt,nt){let it=Object.entries(et);for(let at=0;at<it.length;at++){let[ot,st]=it[at],lt=_e.find(dt=>(dt==null?void 0:dt.route.id)===ot);if(!lt)continue;let ct=rt.find(dt=>dt.route.id===lt.route.id),ut=ct!=null&&!isNewRouteInstance(ct,lt)&&(nt&&nt[lt.route.id])!==void 0;isDeferredResult(st)&&ut&&await resolveDeferredData(st,tt,!1).then(dt=>{dt&&(et[ot]=dt)})}}async function resolveFetcherDeferredResults(_e,et,tt){for(let rt=0;rt<tt.length;rt++){let{key:nt,routeId:it,controller:at}=tt[rt],ot=et[nt];_e.find(lt=>(lt==null?void 0:lt.route.id)===it)&&isDeferredResult(ot)&&(invariant$2(at,"Expected an AbortController for revalidating fetcher deferred result"),await resolveDeferredData(ot,at.signal,!0).then(lt=>{lt&&(et[nt]=lt)}))}}async function resolveDeferredData(_e,et,tt){if(tt===void 0&&(tt=!1),!await _e.deferredData.resolveData(et)){if(tt)try{return{type:ResultType.data,data:_e.deferredData.unwrappedData}}catch(nt){return{type:ResultType.error,error:nt}}return{type:ResultType.data,data:_e.deferredData.data}}}function hasNakedIndexQuery(_e){return new URLSearchParams(_e).getAll("index").some(et=>et==="")}function getTargetMatch(_e,et){let tt=typeof et=="string"?parsePath(et).search:et.search;if(_e[_e.length-1].route.index&&hasNakedIndexQuery(tt||""))return _e[_e.length-1];let rt=getPathContributingMatches(_e);return rt[rt.length-1]}function getSubmissionFromNavigation(_e){let{formMethod:et,formAction:tt,formEncType:rt,text:nt,formData:it,json:at}=_e;if(!(!et||!tt||!rt)){if(nt!=null)return{formMethod:et,formAction:tt,formEncType:rt,formData:void 0,json:void 0,text:nt};if(it!=null)return{formMethod:et,formAction:tt,formEncType:rt,formData:it,json:void 0,text:void 0};if(at!==void 0)return{formMethod:et,formAction:tt,formEncType:rt,formData:void 0,json:at,text:void 0}}}function getLoadingNavigation(_e,et){return et?{state:"loading",location:_e,formMethod:et.formMethod,formAction:et.formAction,formEncType:et.formEncType,formData:et.formData,json:et.json,text:et.text}:{state:"loading",location:_e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function getSubmittingNavigation(_e,et){return{state:"submitting",location:_e,formMethod:et.formMethod,formAction:et.formAction,formEncType:et.formEncType,formData:et.formData,json:et.json,text:et.text}}function getLoadingFetcher(_e,et){return _e?{state:"loading",formMethod:_e.formMethod,formAction:_e.formAction,formEncType:_e.formEncType,formData:_e.formData,json:_e.json,text:_e.text,data:et}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:et}}function getSubmittingFetcher(_e,et){return{state:"submitting",formMethod:_e.formMethod,formAction:_e.formAction,formEncType:_e.formEncType,formData:_e.formData,json:_e.json,text:_e.text,data:et?et.data:void 0}}function getDoneFetcher(_e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:_e}}function restoreAppliedTransitions(_e,et){try{let tt=_e.sessionStorage.getItem(TRANSITIONS_STORAGE_KEY);if(tt){let rt=JSON.parse(tt);for(let[nt,it]of Object.entries(rt||{}))it&&Array.isArray(it)&&et.set(nt,new Set(it||[]))}}catch{}}function persistAppliedTransitions(_e,et){if(et.size>0){let tt={};for(let[rt,nt]of et)tt[rt]=[...nt];try{_e.sessionStorage.setItem(TRANSITIONS_STORAGE_KEY,JSON.stringify(tt))}catch(rt){warning(!1,"Failed to save applied view transitions in sessionStorage ("+rt+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(_e,et){let{relative:tt}=et===void 0?{}:et;useInRouterContext()||invariant$2(!1);let{basename:rt,navigator:nt}=reactExports.useContext(NavigationContext),{hash:it,pathname:at,search:ot}=useResolvedPath(_e,{relative:tt}),st=at;return rt!=="/"&&(st=at==="/"?rt:joinPaths([rt,at])),nt.createHref({pathname:st,search:ot,hash:it})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$2(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$2(_e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(_e)}function useNavigate(){let{isDataRoute:_e}=reactExports.useContext(RouteContext);return _e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$2(!1);let _e=reactExports.useContext(DataRouterContext),{basename:et,future:tt,navigator:rt}=reactExports.useContext(NavigationContext),{matches:nt}=reactExports.useContext(RouteContext),{pathname:it}=useLocation(),at=JSON.stringify(getResolveToMatches(nt,tt.v7_relativeSplatPath)),ot=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{ot.current=!0}),reactExports.useCallback(function(lt,ct){if(ct===void 0&&(ct={}),!ot.current)return;if(typeof lt=="number"){rt.go(lt);return}let ut=resolveTo(lt,JSON.parse(at),it,ct.relative==="path");_e==null&&et!=="/"&&(ut.pathname=ut.pathname==="/"?et:joinPaths([et,ut.pathname])),(ct.replace?rt.replace:rt.push)(ut,ct.state,ct)},[et,rt,at,it,_e])}const OutletContext=reactExports.createContext(null);function useOutlet(_e){let et=reactExports.useContext(RouteContext).outlet;return et&&reactExports.createElement(OutletContext.Provider,{value:_e},et)}function useParams(){let{matches:_e}=reactExports.useContext(RouteContext),et=_e[_e.length-1];return et?et.params:{}}function useResolvedPath(_e,et){let{relative:tt}=et===void 0?{}:et,{future:rt}=reactExports.useContext(NavigationContext),{matches:nt}=reactExports.useContext(RouteContext),{pathname:it}=useLocation(),at=JSON.stringify(getResolveToMatches(nt,rt.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(_e,JSON.parse(at),it,tt==="path"),[_e,at,it,tt])}function useRoutesImpl(_e,et,tt,rt){useInRouterContext()||invariant$2(!1);let{navigator:nt}=reactExports.useContext(NavigationContext),{matches:it}=reactExports.useContext(RouteContext),at=it[it.length-1],ot=at?at.params:{};at&&at.pathname;let st=at?at.pathnameBase:"/";at&&at.route;let lt=useLocation(),ct;ct=lt;let ut=ct.pathname||"/",dt=ut;if(st!=="/"){let ht=st.replace(/^\//,"").split("/");dt="/"+ut.replace(/^\//,"").split("/").slice(ht.length).join("/")}let ft=matchRoutes(_e,{pathname:dt});return _renderMatches(ft&&ft.map(ht=>Object.assign({},ht,{params:Object.assign({},ot,ht.params),pathname:joinPaths([st,nt.encodeLocation?nt.encodeLocation(ht.pathname).pathname:ht.pathname]),pathnameBase:ht.pathnameBase==="/"?st:joinPaths([st,nt.encodeLocation?nt.encodeLocation(ht.pathnameBase).pathname:ht.pathnameBase])})),it,tt,rt)}function DefaultErrorComponent(){let _e=useRouteError(),et=isRouteErrorResponse(_e)?_e.status+" "+_e.statusText:_e instanceof Error?_e.message:JSON.stringify(_e),tt=_e instanceof Error?_e.stack:null,nt={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},et),tt?reactExports.createElement("pre",{style:nt},tt):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(et){super(et),this.state={location:et.location,revalidation:et.revalidation,error:et.error}}static getDerivedStateFromError(et){return{error:et}}static getDerivedStateFromProps(et,tt){return tt.location!==et.location||tt.revalidation!=="idle"&&et.revalidation==="idle"?{error:et.error,location:et.location,revalidation:et.revalidation}:{error:et.error!==void 0?et.error:tt.error,location:tt.location,revalidation:et.revalidation||tt.revalidation}}componentDidCatch(et,tt){console.error("React Router caught the following error during render",et,tt)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(_e){let{routeContext:et,match:tt,children:rt}=_e,nt=reactExports.useContext(DataRouterContext);return nt&&nt.static&&nt.staticContext&&(tt.route.errorElement||tt.route.ErrorBoundary)&&(nt.staticContext._deepestRenderedBoundaryId=tt.route.id),reactExports.createElement(RouteContext.Provider,{value:et},rt)}function _renderMatches(_e,et,tt,rt){var nt;if(et===void 0&&(et=[]),tt===void 0&&(tt=null),rt===void 0&&(rt=null),_e==null){var it;if(!tt)return null;if(tt.errors)_e=tt.matches;else if((it=rt)!=null&&it.v7_partialHydration&&et.length===0&&!tt.initialized&&tt.matches.length>0)_e=tt.matches;else return null}let at=_e,ot=(nt=tt)==null?void 0:nt.errors;if(ot!=null){let ct=at.findIndex(ut=>ut.route.id&&(ot==null?void 0:ot[ut.route.id])!==void 0);ct>=0||invariant$2(!1),at=at.slice(0,Math.min(at.length,ct+1))}let st=!1,lt=-1;if(tt&&rt&&rt.v7_partialHydration)for(let ct=0;ct<at.length;ct++){let ut=at[ct];if((ut.route.HydrateFallback||ut.route.hydrateFallbackElement)&&(lt=ct),ut.route.id){let{loaderData:dt,errors:ft}=tt,pt=ut.route.loader&&dt[ut.route.id]===void 0&&(!ft||ft[ut.route.id]===void 0);if(ut.route.lazy||pt){st=!0,lt>=0?at=at.slice(0,lt+1):at=[at[0]];break}}}return at.reduceRight((ct,ut,dt)=>{let ft,pt=!1,ht=null,yt=null;tt&&(ft=ot&&ut.route.id?ot[ut.route.id]:void 0,ht=ut.route.errorElement||defaultErrorElement,st&&(lt<0&&dt===0?(pt=!0,yt=null):lt===dt&&(pt=!0,yt=ut.route.hydrateFallbackElement||null)));let mt=et.concat(at.slice(0,dt+1)),gt=()=>{let vt;return ft?vt=ht:pt?vt=yt:ut.route.Component?vt=reactExports.createElement(ut.route.Component,null):ut.route.element?vt=ut.route.element:vt=ct,reactExports.createElement(RenderedRoute,{match:ut,routeContext:{outlet:ct,matches:mt,isDataRoute:tt!=null},children:vt})};return tt&&(ut.route.ErrorBoundary||ut.route.errorElement||dt===0)?reactExports.createElement(RenderErrorBoundary,{location:tt.location,revalidation:tt.revalidation,component:ht,error:ft,children:gt(),routeContext:{outlet:null,matches:mt,isDataRoute:!0}}):gt()},null)}var DataRouterHook$1=function(_e){return _e.UseBlocker="useBlocker",_e.UseRevalidator="useRevalidator",_e.UseNavigateStable="useNavigate",_e}(DataRouterHook$1||{}),DataRouterStateHook$1=function(_e){return _e.UseBlocker="useBlocker",_e.UseLoaderData="useLoaderData",_e.UseActionData="useActionData",_e.UseRouteError="useRouteError",_e.UseNavigation="useNavigation",_e.UseRouteLoaderData="useRouteLoaderData",_e.UseMatches="useMatches",_e.UseRevalidator="useRevalidator",_e.UseNavigateStable="useNavigate",_e.UseRouteId="useRouteId",_e}(DataRouterStateHook$1||{});function useDataRouterContext(_e){let et=reactExports.useContext(DataRouterContext);return et||invariant$2(!1),et}function useDataRouterState(_e){let et=reactExports.useContext(DataRouterStateContext);return et||invariant$2(!1),et}function useRouteContext(_e){let et=reactExports.useContext(RouteContext);return et||invariant$2(!1),et}function useCurrentRouteId(_e){let et=useRouteContext(),tt=et.matches[et.matches.length-1];return tt.route.id||invariant$2(!1),tt.route.id}function useRouteError(){var _e;let et=reactExports.useContext(RouteErrorContext),tt=useDataRouterState(DataRouterStateHook$1.UseRouteError),rt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return et!==void 0?et:(_e=tt.errors)==null?void 0:_e[rt]}function useNavigateStable(){let{router:_e}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),et=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),tt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{tt.current=!0}),reactExports.useCallback(function(nt,it){it===void 0&&(it={}),tt.current&&(typeof nt=="number"?_e.navigate(nt):_e.navigate(nt,_extends$1({fromRouteId:et},it)))},[_e,et])}function Navigate(_e){let{to:et,replace:tt,state:rt,relative:nt}=_e;useInRouterContext()||invariant$2(!1);let{future:it,static:at}=reactExports.useContext(NavigationContext),{matches:ot}=reactExports.useContext(RouteContext),{pathname:st}=useLocation(),lt=useNavigate(),ct=resolveTo(et,getResolveToMatches(ot,it.v7_relativeSplatPath),st,nt==="path"),ut=JSON.stringify(ct);return reactExports.useEffect(()=>lt(JSON.parse(ut),{replace:tt,state:rt,relative:nt}),[lt,ut,nt,tt,rt]),null}function Outlet(_e){return useOutlet(_e.context)}function Router(_e){let{basename:et="/",children:tt=null,location:rt,navigationType:nt=Action.Pop,navigator:it,static:at=!1,future:ot}=_e;useInRouterContext()&&invariant$2(!1);let st=et.replace(/^\/*/,"/"),lt=reactExports.useMemo(()=>({basename:st,navigator:it,static:at,future:_extends$1({v7_relativeSplatPath:!1},ot)}),[st,ot,it,at]);typeof rt=="string"&&(rt=parsePath(rt));let{pathname:ct="/",search:ut="",hash:dt="",state:ft=null,key:pt="default"}=rt,ht=reactExports.useMemo(()=>{let yt=stripBasename(ct,st);return yt==null?null:{location:{pathname:yt,search:ut,hash:dt,state:ft,key:pt},navigationType:nt}},[st,ct,ut,dt,ft,pt,nt]);return ht==null?null:reactExports.createElement(NavigationContext.Provider,{value:lt},reactExports.createElement(LocationContext.Provider,{children:tt,value:ht}))}new Promise(()=>{});function mapRouteProperties(_e){let et={hasErrorBoundary:_e.ErrorBoundary!=null||_e.errorElement!=null};return _e.Component&&Object.assign(et,{element:reactExports.createElement(_e.Component),Component:void 0}),_e.HydrateFallback&&Object.assign(et,{hydrateFallbackElement:reactExports.createElement(_e.HydrateFallback),HydrateFallback:void 0}),_e.ErrorBoundary&&Object.assign(et,{errorElement:reactExports.createElement(_e.ErrorBoundary),ErrorBoundary:void 0}),et}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(_e,et){if(_e==null)return{};var tt={},rt=Object.keys(_e),nt,it;for(it=0;it<rt.length;it++)nt=rt[it],!(et.indexOf(nt)>=0)&&(tt[nt]=_e[nt]);return tt}function isModifiedEvent(_e){return!!(_e.metaKey||_e.altKey||_e.ctrlKey||_e.shiftKey)}function shouldProcessLinkClick(_e,et){return _e.button===0&&(!et||et==="_self")&&!isModifiedEvent(_e)}function createSearchParams(_e){return _e===void 0&&(_e=""),new URLSearchParams(typeof _e=="string"||Array.isArray(_e)||_e instanceof URLSearchParams?_e:Object.keys(_e).reduce((et,tt)=>{let rt=_e[tt];return et.concat(Array.isArray(rt)?rt.map(nt=>[tt,nt]):[[tt,rt]])},[]))}function getSearchParamsForLocation(_e,et){let tt=createSearchParams(_e);return et&&et.forEach((rt,nt)=>{tt.has(nt)||et.getAll(nt).forEach(it=>{tt.append(nt,it)})}),tt}const _excluded$1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}function createBrowserRouter(_e,et){return createRouter({basename:et==null?void 0:et.basename,future:_extends({},et==null?void 0:et.future,{v7_prependBasename:!0}),history:createBrowserHistory({window:et==null?void 0:et.window}),hydrationData:(et==null?void 0:et.hydrationData)||parseHydrationData(),routes:_e,mapRouteProperties,unstable_dataStrategy:et==null?void 0:et.unstable_dataStrategy,unstable_patchRoutesOnNavigation:et==null?void 0:et.unstable_patchRoutesOnNavigation,window:et==null?void 0:et.window}).initialize()}function parseHydrationData(){var _e;let et=(_e=window)==null?void 0:_e.__staticRouterHydrationData;return et&&et.errors&&(et=_extends({},et,{errors:deserializeErrors(et.errors)})),et}function deserializeErrors(_e){if(!_e)return null;let et=Object.entries(_e),tt={};for(let[rt,nt]of et)if(nt&&nt.__type==="RouteErrorResponse")tt[rt]=new ErrorResponseImpl(nt.status,nt.statusText,nt.data,nt.internal===!0);else if(nt&&nt.__type==="Error"){if(nt.__subType){let it=window[nt.__subType];if(typeof it=="function")try{let at=new it(nt.message);at.stack="",tt[rt]=at}catch{}}if(tt[rt]==null){let it=new Error(nt.message);it.stack="",tt[rt]=it}}else tt[rt]=nt;return tt}const ViewTransitionContext=reactExports.createContext({isTransitioning:!1}),FetchersContext=reactExports.createContext(new Map),START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION],FLUSH_SYNC="flushSync",flushSyncImpl=ReactDOM$1[FLUSH_SYNC];function startTransitionSafe(_e){startTransitionImpl?startTransitionImpl(_e):_e()}function flushSyncSafe(_e){flushSyncImpl?flushSyncImpl(_e):_e()}let Deferred$2=class{constructor(){this.status="pending",this.promise=new Promise((et,tt)=>{this.resolve=rt=>{this.status==="pending"&&(this.status="resolved",et(rt))},this.reject=rt=>{this.status==="pending"&&(this.status="rejected",tt(rt))}})}};function RouterProvider(_e){let{fallbackElement:et,router:tt,future:rt}=_e,[nt,it]=reactExports.useState(tt.state),[at,ot]=reactExports.useState(),[st,lt]=reactExports.useState({isTransitioning:!1}),[ct,ut]=reactExports.useState(),[dt,ft]=reactExports.useState(),[pt,ht]=reactExports.useState(),yt=reactExports.useRef(new Map),{v7_startTransition:mt}=rt||{},gt=reactExports.useCallback(_t=>{mt?startTransitionSafe(_t):_t()},[mt]),vt=reactExports.useCallback((_t,Ot)=>{let{deletedFetchers:kt,unstable_flushSync:Lt,unstable_viewTransitionOpts:$t}=Ot;kt.forEach(Vt=>yt.current.delete(Vt)),_t.fetchers.forEach((Vt,Ut)=>{Vt.data!==void 0&&yt.current.set(Ut,Vt.data)});let zt=tt.window==null||tt.window.document==null||typeof tt.window.document.startViewTransition!="function";if(!$t||zt){Lt?flushSyncSafe(()=>it(_t)):gt(()=>it(_t));return}if(Lt){flushSyncSafe(()=>{dt&&(ct&&ct.resolve(),dt.skipTransition()),lt({isTransitioning:!0,flushSync:!0,currentLocation:$t.currentLocation,nextLocation:$t.nextLocation})});let Vt=tt.window.document.startViewTransition(()=>{flushSyncSafe(()=>it(_t))});Vt.finished.finally(()=>{flushSyncSafe(()=>{ut(void 0),ft(void 0),ot(void 0),lt({isTransitioning:!1})})}),flushSyncSafe(()=>ft(Vt));return}dt?(ct&&ct.resolve(),dt.skipTransition(),ht({state:_t,currentLocation:$t.currentLocation,nextLocation:$t.nextLocation})):(ot(_t),lt({isTransitioning:!0,flushSync:!1,currentLocation:$t.currentLocation,nextLocation:$t.nextLocation}))},[tt.window,dt,ct,yt,gt]);reactExports.useLayoutEffect(()=>tt.subscribe(vt),[tt,vt]),reactExports.useEffect(()=>{st.isTransitioning&&!st.flushSync&&ut(new Deferred$2)},[st]),reactExports.useEffect(()=>{if(ct&&at&&tt.window){let _t=at,Ot=ct.promise,kt=tt.window.document.startViewTransition(async()=>{gt(()=>it(_t)),await Ot});kt.finished.finally(()=>{ut(void 0),ft(void 0),ot(void 0),lt({isTransitioning:!1})}),ft(kt)}},[gt,at,ct,tt.window]),reactExports.useEffect(()=>{ct&&at&&nt.location.key===at.location.key&&ct.resolve()},[ct,dt,nt.location,at]),reactExports.useEffect(()=>{!st.isTransitioning&&pt&&(ot(pt.state),lt({isTransitioning:!0,flushSync:!1,currentLocation:pt.currentLocation,nextLocation:pt.nextLocation}),ht(void 0))},[st.isTransitioning,pt]),reactExports.useEffect(()=>{},[]);let St=reactExports.useMemo(()=>({createHref:tt.createHref,encodeLocation:tt.encodeLocation,go:_t=>tt.navigate(_t),push:(_t,Ot,kt)=>tt.navigate(_t,{state:Ot,preventScrollReset:kt==null?void 0:kt.preventScrollReset}),replace:(_t,Ot,kt)=>tt.navigate(_t,{replace:!0,state:Ot,preventScrollReset:kt==null?void 0:kt.preventScrollReset})}),[tt]),xt=tt.basename||"/",Ct=reactExports.useMemo(()=>({router:tt,navigator:St,static:!1,basename:xt}),[tt,St,xt]),wt=reactExports.useMemo(()=>({v7_relativeSplatPath:tt.future.v7_relativeSplatPath}),[tt.future.v7_relativeSplatPath]);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(DataRouterContext.Provider,{value:Ct},reactExports.createElement(DataRouterStateContext.Provider,{value:nt},reactExports.createElement(FetchersContext.Provider,{value:yt.current},reactExports.createElement(ViewTransitionContext.Provider,{value:st},reactExports.createElement(Router,{basename:xt,location:nt.location,navigationType:nt.historyAction,navigator:St,future:wt},nt.initialized||tt.future.v7_partialHydration?reactExports.createElement(MemoizedDataRoutes,{routes:tt.routes,future:tt.future,state:nt}):et))))),null)}const MemoizedDataRoutes=reactExports.memo(DataRoutes);function DataRoutes(_e){let{routes:et,future:tt,state:rt}=_e;return useRoutesImpl(et,void 0,rt,tt)}const isBrowser$3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(et,tt){let{onClick:rt,relative:nt,reloadDocument:it,replace:at,state:ot,target:st,to:lt,preventScrollReset:ct,unstable_viewTransition:ut}=et,dt=_objectWithoutPropertiesLoose$1(et,_excluded$1),{basename:ft}=reactExports.useContext(NavigationContext),pt,ht=!1;if(typeof lt=="string"&&ABSOLUTE_URL_REGEX.test(lt)&&(pt=lt,isBrowser$3))try{let vt=new URL(window.location.href),St=lt.startsWith("//")?new URL(vt.protocol+lt):new URL(lt),xt=stripBasename(St.pathname,ft);St.origin===vt.origin&&xt!=null?lt=xt+St.search+St.hash:ht=!0}catch{}let yt=useHref(lt,{relative:nt}),mt=useLinkClickHandler(lt,{replace:at,state:ot,target:st,preventScrollReset:ct,relative:nt,unstable_viewTransition:ut});function gt(vt){rt&&rt(vt),vt.defaultPrevented||mt(vt)}return reactExports.createElement("a",_extends({},dt,{href:pt||yt,onClick:ht||it?rt:gt,ref:tt,target:st}))});var DataRouterHook;(function(_e){_e.UseScrollRestoration="useScrollRestoration",_e.UseSubmit="useSubmit",_e.UseSubmitFetcher="useSubmitFetcher",_e.UseFetcher="useFetcher",_e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(_e){_e.UseFetcher="useFetcher",_e.UseFetchers="useFetchers",_e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(_e,et){let{target:tt,replace:rt,state:nt,preventScrollReset:it,relative:at,unstable_viewTransition:ot}=et===void 0?{}:et,st=useNavigate(),lt=useLocation(),ct=useResolvedPath(_e,{relative:at});return reactExports.useCallback(ut=>{if(shouldProcessLinkClick(ut,tt)){ut.preventDefault();let dt=rt!==void 0?rt:createPath(lt)===createPath(ct);st(_e,{replace:dt,state:nt,preventScrollReset:it,relative:at,unstable_viewTransition:ot})}},[lt,st,ct,rt,nt,tt,_e,it,at,ot])}function useSearchParams$1(_e){let et=reactExports.useRef(createSearchParams(_e)),tt=reactExports.useRef(!1),rt=useLocation(),nt=reactExports.useMemo(()=>getSearchParamsForLocation(rt.search,tt.current?null:et.current),[rt.search]),it=useNavigate(),at=reactExports.useCallback((ot,st)=>{const lt=createSearchParams(typeof ot=="function"?ot(nt):ot);tt.current=!0,it("?"+lt,st)},[it,nt]);return[nt,at]}let globalSearchParams=new URLSearchParams;function useSearchParams(){const _e=useLocation(),et=useNavigate(),tt=reactExports.useMemo(()=>(globalSearchParams=new URLSearchParams(_e.search),globalSearchParams),[_e.search]),rt=reactExports.useRef(null),nt=reactExports.useCallback((at,ot,st)=>{const lt=new URLSearchParams(globalSearchParams),ct=lt.get(at);ot!==ct&&(ot===null?lt.delete(at):lt.set(at,ot),globalSearchParams=lt,rt.current!=null&&(clearTimeout(rt.current),rt.current=null),rt.current=setTimeout(()=>{rt.current=null,et("?"+globalSearchParams,st)},0))},[et]),it=reactExports.useCallback((at,ot)=>{nt(at,null,ot)},[nt]);return{searchParams:tt,setSearchParam:nt,deleteSearchParam:it}}function useBooleanQueryParam(_e,et){const{searchParams:tt,setSearchParam:rt}=useSearchParams(),nt=tt.get(_e),it=reactExports.useCallback((ot,st)=>{rt(_e,ot!==null?String(ot):null,st)},[_e,rt]);return[(nt!=null?nt=="true":null)??et??null,it]}function useStringQueryParam(_e,et){const{searchParams:tt,setSearchParam:rt}=useSearchParams(),nt=tt.get(_e),it=reactExports.useCallback((at,ot)=>{rt(_e,at!==null?at:null,ot)},[_e,rt]);return[nt??et??null,it]}function useEnumQueryParam(_e,et,tt){const{searchParams:rt,setSearchParam:nt}=useSearchParams(),it=rt.get(_e),at=reactExports.useMemo(()=>tt.includes(it)?it:null,[it,tt]),ot=reactExports.useCallback((st,lt)=>{nt(_e,st!==null?st:null,lt)},[_e,nt]);return[at??et??null,ot]}function getQueryParam(_e){return new URLSearchParams(window.location.search).get(_e)}function getQueryParamsObject(){const _e=new URLSearchParams(window.location.search),et={};return _e.forEach((tt,rt)=>{et[rt]=tt}),et}const IS_DEV=!1,remoteLoggerUrl=getQueryParam("remote-logger")??void 0,consoleLogger=getQueryParam("console-logger")==="true"||IS_DEV;setLoggerFactory(new LoggerFactory({transports:[consoleLogger?new BrowserConsoleLogTransport:null,new BrowserDatadogLogTransport(datadogLogs.logger),remoteLoggerUrl!=null?new HttpLogTransport(remoteLoggerUrl):null],defaultLevel:LogLevel$1.always,metadata:{application:"book-webapp",package:"@remento/book-webapp"}}));hijackConsole(createLogger("console"));var client={},m$4=reactDomExports;client.createRoot=m$4.createRoot,client.hydrateRoot=m$4.hydrateRoot;var dayjs_min={exports:{}};(function(_e,et){(function(tt,rt){_e.exports=rt()})(commonjsGlobal,function(){var tt=1e3,rt=6e4,nt=36e5,it="millisecond",at="second",ot="minute",st="hour",lt="day",ct="week",ut="month",dt="quarter",ft="year",pt="date",ht="Invalid Date",yt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,mt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,gt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Vt){var Ut=["th","st","nd","rd"],It=Vt%100;return"["+Vt+(Ut[(It-20)%10]||Ut[It]||Ut[0])+"]"}},vt=function(Vt,Ut,It){var Dt=String(Vt);return!Dt||Dt.length>=Ut?Vt:""+Array(Ut+1-Dt.length).join(It)+Vt},St={s:vt,z:function(Vt){var Ut=-Vt.utcOffset(),It=Math.abs(Ut),Dt=Math.floor(It/60),Tt=It%60;return(Ut<=0?"+":"-")+vt(Dt,2,"0")+":"+vt(Tt,2,"0")},m:function Vt(Ut,It){if(Ut.date()<It.date())return-Vt(It,Ut);var Dt=12*(It.year()-Ut.year())+(It.month()-Ut.month()),Tt=Ut.clone().add(Dt,ut),Rt=It-Tt<0,Ft=Ut.clone().add(Dt+(Rt?-1:1),ut);return+(-(Dt+(It-Tt)/(Rt?Tt-Ft:Ft-Tt))||0)},a:function(Vt){return Vt<0?Math.ceil(Vt)||0:Math.floor(Vt)},p:function(Vt){return{M:ut,y:ft,w:ct,d:lt,D:pt,h:st,m:ot,s:at,ms:it,Q:dt}[Vt]||String(Vt||"").toLowerCase().replace(/s$/,"")},u:function(Vt){return Vt===void 0}},xt="en",Ct={};Ct[xt]=gt;var wt="$isDayjsObject",_t=function(Vt){return Vt instanceof $t||!(!Vt||!Vt[wt])},Ot=function Vt(Ut,It,Dt){var Tt;if(!Ut)return xt;if(typeof Ut=="string"){var Rt=Ut.toLowerCase();Ct[Rt]&&(Tt=Rt),It&&(Ct[Rt]=It,Tt=Rt);var Ft=Ut.split("-");if(!Tt&&Ft.length>1)return Vt(Ft[0])}else{var jt=Ut.name;Ct[jt]=Ut,Tt=jt}return!Dt&&Tt&&(xt=Tt),Tt||!Dt&&xt},kt=function(Vt,Ut){if(_t(Vt))return Vt.clone();var It=typeof Ut=="object"?Ut:{};return It.date=Vt,It.args=arguments,new $t(It)},Lt=St;Lt.l=Ot,Lt.i=_t,Lt.w=function(Vt,Ut){return kt(Vt,{locale:Ut.$L,utc:Ut.$u,x:Ut.$x,$offset:Ut.$offset})};var $t=function(){function Vt(It){this.$L=Ot(It.locale,null,!0),this.parse(It),this.$x=this.$x||It.x||{},this[wt]=!0}var Ut=Vt.prototype;return Ut.parse=function(It){this.$d=function(Dt){var Tt=Dt.date,Rt=Dt.utc;if(Tt===null)return new Date(NaN);if(Lt.u(Tt))return new Date;if(Tt instanceof Date)return new Date(Tt);if(typeof Tt=="string"&&!/Z$/i.test(Tt)){var Ft=Tt.match(yt);if(Ft){var jt=Ft[2]-1||0,nr=(Ft[7]||"0").substring(0,3);return Rt?new Date(Date.UTC(Ft[1],jt,Ft[3]||1,Ft[4]||0,Ft[5]||0,Ft[6]||0,nr)):new Date(Ft[1],jt,Ft[3]||1,Ft[4]||0,Ft[5]||0,Ft[6]||0,nr)}}return new Date(Tt)}(It),this.init()},Ut.init=function(){var It=this.$d;this.$y=It.getFullYear(),this.$M=It.getMonth(),this.$D=It.getDate(),this.$W=It.getDay(),this.$H=It.getHours(),this.$m=It.getMinutes(),this.$s=It.getSeconds(),this.$ms=It.getMilliseconds()},Ut.$utils=function(){return Lt},Ut.isValid=function(){return this.$d.toString()!==ht},Ut.isSame=function(It,Dt){var Tt=kt(It);return this.startOf(Dt)<=Tt&&Tt<=this.endOf(Dt)},Ut.isAfter=function(It,Dt){return kt(It)<this.startOf(Dt)},Ut.isBefore=function(It,Dt){return this.endOf(Dt)<kt(It)},Ut.$g=function(It,Dt,Tt){return Lt.u(It)?this[Dt]:this.set(Tt,It)},Ut.unix=function(){return Math.floor(this.valueOf()/1e3)},Ut.valueOf=function(){return this.$d.getTime()},Ut.startOf=function(It,Dt){var Tt=this,Rt=!!Lt.u(Dt)||Dt,Ft=Lt.p(It),jt=function(mr,Ir){var br=Lt.w(Tt.$u?Date.UTC(Tt.$y,Ir,mr):new Date(Tt.$y,Ir,mr),Tt);return Rt?br:br.endOf(lt)},nr=function(mr,Ir){return Lt.w(Tt.toDate()[mr].apply(Tt.toDate("s"),(Rt?[0,0,0,0]:[23,59,59,999]).slice(Ir)),Tt)},cr=this.$W,ur=this.$M,pr=this.$D,xr="set"+(this.$u?"UTC":"");switch(Ft){case ft:return Rt?jt(1,0):jt(31,11);case ut:return Rt?jt(1,ur):jt(0,ur+1);case ct:var vr=this.$locale().weekStart||0,Br=(cr<vr?cr+7:cr)-vr;return jt(Rt?pr-Br:pr+(6-Br),ur);case lt:case pt:return nr(xr+"Hours",0);case st:return nr(xr+"Minutes",1);case ot:return nr(xr+"Seconds",2);case at:return nr(xr+"Milliseconds",3);default:return this.clone()}},Ut.endOf=function(It){return this.startOf(It,!1)},Ut.$set=function(It,Dt){var Tt,Rt=Lt.p(It),Ft="set"+(this.$u?"UTC":""),jt=(Tt={},Tt[lt]=Ft+"Date",Tt[pt]=Ft+"Date",Tt[ut]=Ft+"Month",Tt[ft]=Ft+"FullYear",Tt[st]=Ft+"Hours",Tt[ot]=Ft+"Minutes",Tt[at]=Ft+"Seconds",Tt[it]=Ft+"Milliseconds",Tt)[Rt],nr=Rt===lt?this.$D+(Dt-this.$W):Dt;if(Rt===ut||Rt===ft){var cr=this.clone().set(pt,1);cr.$d[jt](nr),cr.init(),this.$d=cr.set(pt,Math.min(this.$D,cr.daysInMonth())).$d}else jt&&this.$d[jt](nr);return this.init(),this},Ut.set=function(It,Dt){return this.clone().$set(It,Dt)},Ut.get=function(It){return this[Lt.p(It)]()},Ut.add=function(It,Dt){var Tt,Rt=this;It=Number(It);var Ft=Lt.p(Dt),jt=function(ur){var pr=kt(Rt);return Lt.w(pr.date(pr.date()+Math.round(ur*It)),Rt)};if(Ft===ut)return this.set(ut,this.$M+It);if(Ft===ft)return this.set(ft,this.$y+It);if(Ft===lt)return jt(1);if(Ft===ct)return jt(7);var nr=(Tt={},Tt[ot]=rt,Tt[st]=nt,Tt[at]=tt,Tt)[Ft]||1,cr=this.$d.getTime()+It*nr;return Lt.w(cr,this)},Ut.subtract=function(It,Dt){return this.add(-1*It,Dt)},Ut.format=function(It){var Dt=this,Tt=this.$locale();if(!this.isValid())return Tt.invalidDate||ht;var Rt=It||"YYYY-MM-DDTHH:mm:ssZ",Ft=Lt.z(this),jt=this.$H,nr=this.$m,cr=this.$M,ur=Tt.weekdays,pr=Tt.months,xr=Tt.meridiem,vr=function(Ir,br,Tr,Vr){return Ir&&(Ir[br]||Ir(Dt,Rt))||Tr[br].slice(0,Vr)},Br=function(Ir){return Lt.s(jt%12||12,Ir,"0")},mr=xr||function(Ir,br,Tr){var Vr=Ir<12?"AM":"PM";return Tr?Vr.toLowerCase():Vr};return Rt.replace(mt,function(Ir,br){return br||function(Tr){switch(Tr){case"YY":return String(Dt.$y).slice(-2);case"YYYY":return Lt.s(Dt.$y,4,"0");case"M":return cr+1;case"MM":return Lt.s(cr+1,2,"0");case"MMM":return vr(Tt.monthsShort,cr,pr,3);case"MMMM":return vr(pr,cr);case"D":return Dt.$D;case"DD":return Lt.s(Dt.$D,2,"0");case"d":return String(Dt.$W);case"dd":return vr(Tt.weekdaysMin,Dt.$W,ur,2);case"ddd":return vr(Tt.weekdaysShort,Dt.$W,ur,3);case"dddd":return ur[Dt.$W];case"H":return String(jt);case"HH":return Lt.s(jt,2,"0");case"h":return Br(1);case"hh":return Br(2);case"a":return mr(jt,nr,!0);case"A":return mr(jt,nr,!1);case"m":return String(nr);case"mm":return Lt.s(nr,2,"0");case"s":return String(Dt.$s);case"ss":return Lt.s(Dt.$s,2,"0");case"SSS":return Lt.s(Dt.$ms,3,"0");case"Z":return Ft}return null}(Ir)||Ft.replace(":","")})},Ut.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Ut.diff=function(It,Dt,Tt){var Rt,Ft=this,jt=Lt.p(Dt),nr=kt(It),cr=(nr.utcOffset()-this.utcOffset())*rt,ur=this-nr,pr=function(){return Lt.m(Ft,nr)};switch(jt){case ft:Rt=pr()/12;break;case ut:Rt=pr();break;case dt:Rt=pr()/3;break;case ct:Rt=(ur-cr)/6048e5;break;case lt:Rt=(ur-cr)/864e5;break;case st:Rt=ur/nt;break;case ot:Rt=ur/rt;break;case at:Rt=ur/tt;break;default:Rt=ur}return Tt?Rt:Lt.a(Rt)},Ut.daysInMonth=function(){return this.endOf(ut).$D},Ut.$locale=function(){return Ct[this.$L]},Ut.locale=function(It,Dt){if(!It)return this.$L;var Tt=this.clone(),Rt=Ot(It,Dt,!0);return Rt&&(Tt.$L=Rt),Tt},Ut.clone=function(){return Lt.w(this.$d,this)},Ut.toDate=function(){return new Date(this.valueOf())},Ut.toJSON=function(){return this.isValid()?this.toISOString():null},Ut.toISOString=function(){return this.$d.toISOString()},Ut.toString=function(){return this.$d.toUTCString()},Vt}(),zt=$t.prototype;return kt.prototype=zt,[["$ms",it],["$s",at],["$m",ot],["$H",st],["$W",lt],["$M",ut],["$y",ft],["$D",pt]].forEach(function(Vt){zt[Vt[1]]=function(Ut){return this.$g(Ut,Vt[0],Vt[1])}}),kt.extend=function(Vt,Ut){return Vt.$i||(Vt(Ut,$t,kt),Vt.$i=!0),kt},kt.locale=Ot,kt.isDayjs=_t,kt.unix=function(Vt){return kt(1e3*Vt)},kt.en=Ct[xt],kt.Ls=Ct,kt.p={},kt})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs(dayjs_minExports);var advancedFormat$1={exports:{}};(function(_e,et){(function(tt,rt){_e.exports=rt()})(commonjsGlobal,function(){return function(tt,rt){var nt=rt.prototype,it=nt.format;nt.format=function(at){var ot=this,st=this.$locale();if(!this.isValid())return it.bind(this)(at);var lt=this.$utils(),ct=(at||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(ut){switch(ut){case"Q":return Math.ceil((ot.$M+1)/3);case"Do":return st.ordinal(ot.$D);case"gggg":return ot.weekYear();case"GGGG":return ot.isoWeekYear();case"wo":return st.ordinal(ot.week(),"W");case"w":case"ww":return lt.s(ot.week(),ut==="w"?1:2,"0");case"W":case"WW":return lt.s(ot.isoWeek(),ut==="W"?1:2,"0");case"k":case"kk":return lt.s(String(ot.$H===0?24:ot.$H),ut==="k"?1:2,"0");case"X":return Math.floor(ot.$d.getTime()/1e3);case"x":return ot.$d.getTime();case"z":return"["+ot.offsetName()+"]";case"zzz":return"["+ot.offsetName("long")+"]";default:return ut}});return it.bind(this)(ct)}}})})(advancedFormat$1);var advancedFormatExports=advancedFormat$1.exports;const advancedFormat=getDefaultExportFromCjs(advancedFormatExports);var duration$1={exports:{}};(function(_e,et){(function(tt,rt){_e.exports=rt()})(commonjsGlobal,function(){var tt,rt,nt=1e3,it=6e4,at=36e5,ot=864e5,st=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,lt=31536e6,ct=2628e6,ut=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,dt={years:lt,months:ct,days:ot,hours:at,minutes:it,seconds:nt,milliseconds:1,weeks:6048e5},ft=function(Ct){return Ct instanceof St},pt=function(Ct,wt,_t){return new St(Ct,_t,wt.$l)},ht=function(Ct){return rt.p(Ct)+"s"},yt=function(Ct){return Ct<0},mt=function(Ct){return yt(Ct)?Math.ceil(Ct):Math.floor(Ct)},gt=function(Ct){return Math.abs(Ct)},vt=function(Ct,wt){return Ct?yt(Ct)?{negative:!0,format:""+gt(Ct)+wt}:{negative:!1,format:""+Ct+wt}:{negative:!1,format:""}},St=function(){function Ct(_t,Ot,kt){var Lt=this;if(this.$d={},this.$l=kt,_t===void 0&&(this.$ms=0,this.parseFromMilliseconds()),Ot)return pt(_t*dt[ht(Ot)],this);if(typeof _t=="number")return this.$ms=_t,this.parseFromMilliseconds(),this;if(typeof _t=="object")return Object.keys(_t).forEach(function(Vt){Lt.$d[ht(Vt)]=_t[Vt]}),this.calMilliseconds(),this;if(typeof _t=="string"){var $t=_t.match(ut);if($t){var zt=$t.slice(2).map(function(Vt){return Vt!=null?Number(Vt):0});return this.$d.years=zt[0],this.$d.months=zt[1],this.$d.weeks=zt[2],this.$d.days=zt[3],this.$d.hours=zt[4],this.$d.minutes=zt[5],this.$d.seconds=zt[6],this.calMilliseconds(),this}}return this}var wt=Ct.prototype;return wt.calMilliseconds=function(){var _t=this;this.$ms=Object.keys(this.$d).reduce(function(Ot,kt){return Ot+(_t.$d[kt]||0)*dt[kt]},0)},wt.parseFromMilliseconds=function(){var _t=this.$ms;this.$d.years=mt(_t/lt),_t%=lt,this.$d.months=mt(_t/ct),_t%=ct,this.$d.days=mt(_t/ot),_t%=ot,this.$d.hours=mt(_t/at),_t%=at,this.$d.minutes=mt(_t/it),_t%=it,this.$d.seconds=mt(_t/nt),_t%=nt,this.$d.milliseconds=_t},wt.toISOString=function(){var _t=vt(this.$d.years,"Y"),Ot=vt(this.$d.months,"M"),kt=+this.$d.days||0;this.$d.weeks&&(kt+=7*this.$d.weeks);var Lt=vt(kt,"D"),$t=vt(this.$d.hours,"H"),zt=vt(this.$d.minutes,"M"),Vt=this.$d.seconds||0;this.$d.milliseconds&&(Vt+=this.$d.milliseconds/1e3,Vt=Math.round(1e3*Vt)/1e3);var Ut=vt(Vt,"S"),It=_t.negative||Ot.negative||Lt.negative||$t.negative||zt.negative||Ut.negative,Dt=$t.format||zt.format||Ut.format?"T":"",Tt=(It?"-":"")+"P"+_t.format+Ot.format+Lt.format+Dt+$t.format+zt.format+Ut.format;return Tt==="P"||Tt==="-P"?"P0D":Tt},wt.toJSON=function(){return this.toISOString()},wt.format=function(_t){var Ot=_t||"YYYY-MM-DDTHH:mm:ss",kt={Y:this.$d.years,YY:rt.s(this.$d.years,2,"0"),YYYY:rt.s(this.$d.years,4,"0"),M:this.$d.months,MM:rt.s(this.$d.months,2,"0"),D:this.$d.days,DD:rt.s(this.$d.days,2,"0"),H:this.$d.hours,HH:rt.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:rt.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:rt.s(this.$d.seconds,2,"0"),SSS:rt.s(this.$d.milliseconds,3,"0")};return Ot.replace(st,function(Lt,$t){return $t||String(kt[Lt])})},wt.as=function(_t){return this.$ms/dt[ht(_t)]},wt.get=function(_t){var Ot=this.$ms,kt=ht(_t);return kt==="milliseconds"?Ot%=1e3:Ot=kt==="weeks"?mt(Ot/dt[kt]):this.$d[kt],Ot||0},wt.add=function(_t,Ot,kt){var Lt;return Lt=Ot?_t*dt[ht(Ot)]:ft(_t)?_t.$ms:pt(_t,this).$ms,pt(this.$ms+Lt*(kt?-1:1),this)},wt.subtract=function(_t,Ot){return this.add(_t,Ot,!0)},wt.locale=function(_t){var Ot=this.clone();return Ot.$l=_t,Ot},wt.clone=function(){return pt(this.$ms,this)},wt.humanize=function(_t){return tt().add(this.$ms,"ms").locale(this.$l).fromNow(!_t)},wt.valueOf=function(){return this.asMilliseconds()},wt.milliseconds=function(){return this.get("milliseconds")},wt.asMilliseconds=function(){return this.as("milliseconds")},wt.seconds=function(){return this.get("seconds")},wt.asSeconds=function(){return this.as("seconds")},wt.minutes=function(){return this.get("minutes")},wt.asMinutes=function(){return this.as("minutes")},wt.hours=function(){return this.get("hours")},wt.asHours=function(){return this.as("hours")},wt.days=function(){return this.get("days")},wt.asDays=function(){return this.as("days")},wt.weeks=function(){return this.get("weeks")},wt.asWeeks=function(){return this.as("weeks")},wt.months=function(){return this.get("months")},wt.asMonths=function(){return this.as("months")},wt.years=function(){return this.get("years")},wt.asYears=function(){return this.as("years")},Ct}(),xt=function(Ct,wt,_t){return Ct.add(wt.years()*_t,"y").add(wt.months()*_t,"M").add(wt.days()*_t,"d").add(wt.hours()*_t,"h").add(wt.minutes()*_t,"m").add(wt.seconds()*_t,"s").add(wt.milliseconds()*_t,"ms")};return function(Ct,wt,_t){tt=_t,rt=_t().$utils(),_t.duration=function(Lt,$t){var zt=_t.locale();return pt(Lt,{$l:zt},$t)},_t.isDuration=ft;var Ot=wt.prototype.add,kt=wt.prototype.subtract;wt.prototype.add=function(Lt,$t){return ft(Lt)?xt(this,Lt,1):Ot.bind(this)(Lt,$t)},wt.prototype.subtract=function(Lt,$t){return ft(Lt)?xt(this,Lt,-1):kt.bind(this)(Lt,$t)}}})})(duration$1);var durationExports=duration$1.exports;const duration=getDefaultExportFromCjs(durationExports);var customParseFormat$1={exports:{}};(function(_e,et){(function(tt,rt){_e.exports=rt()})(commonjsGlobal,function(){var tt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},rt=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,nt=/\d/,it=/\d\d/,at=/\d\d?/,ot=/\d*[^-_:/,()\s\d]+/,st={},lt=function(yt){return(yt=+yt)+(yt>68?1900:2e3)},ct=function(yt){return function(mt){this[yt]=+mt}},ut=[/[+-]\d\d:?(\d\d)?|Z/,function(yt){(this.zone||(this.zone={})).offset=function(mt){if(!mt||mt==="Z")return 0;var gt=mt.match(/([+-]|\d\d)/g),vt=60*gt[1]+(+gt[2]||0);return vt===0?0:gt[0]==="+"?-vt:vt}(yt)}],dt=function(yt){var mt=st[yt];return mt&&(mt.indexOf?mt:mt.s.concat(mt.f))},ft=function(yt,mt){var gt,vt=st.meridiem;if(vt){for(var St=1;St<=24;St+=1)if(yt.indexOf(vt(St,0,mt))>-1){gt=St>12;break}}else gt=yt===(mt?"pm":"PM");return gt},pt={A:[ot,function(yt){this.afternoon=ft(yt,!1)}],a:[ot,function(yt){this.afternoon=ft(yt,!0)}],Q:[nt,function(yt){this.month=3*(yt-1)+1}],S:[nt,function(yt){this.milliseconds=100*+yt}],SS:[it,function(yt){this.milliseconds=10*+yt}],SSS:[/\d{3}/,function(yt){this.milliseconds=+yt}],s:[at,ct("seconds")],ss:[at,ct("seconds")],m:[at,ct("minutes")],mm:[at,ct("minutes")],H:[at,ct("hours")],h:[at,ct("hours")],HH:[at,ct("hours")],hh:[at,ct("hours")],D:[at,ct("day")],DD:[it,ct("day")],Do:[ot,function(yt){var mt=st.ordinal,gt=yt.match(/\d+/);if(this.day=gt[0],mt)for(var vt=1;vt<=31;vt+=1)mt(vt).replace(/\[|\]/g,"")===yt&&(this.day=vt)}],w:[at,ct("week")],ww:[it,ct("week")],M:[at,ct("month")],MM:[it,ct("month")],MMM:[ot,function(yt){var mt=dt("months"),gt=(dt("monthsShort")||mt.map(function(vt){return vt.slice(0,3)})).indexOf(yt)+1;if(gt<1)throw new Error;this.month=gt%12||gt}],MMMM:[ot,function(yt){var mt=dt("months").indexOf(yt)+1;if(mt<1)throw new Error;this.month=mt%12||mt}],Y:[/[+-]?\d+/,ct("year")],YY:[it,function(yt){this.year=lt(yt)}],YYYY:[/\d{4}/,ct("year")],Z:ut,ZZ:ut};function ht(yt){var mt,gt;mt=yt,gt=st&&st.formats;for(var vt=(yt=mt.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(kt,Lt,$t){var zt=$t&&$t.toUpperCase();return Lt||gt[$t]||tt[$t]||gt[zt].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Vt,Ut,It){return Ut||It.slice(1)})})).match(rt),St=vt.length,xt=0;xt<St;xt+=1){var Ct=vt[xt],wt=pt[Ct],_t=wt&&wt[0],Ot=wt&&wt[1];vt[xt]=Ot?{regex:_t,parser:Ot}:Ct.replace(/^\[|\]$/g,"")}return function(kt){for(var Lt={},$t=0,zt=0;$t<St;$t+=1){var Vt=vt[$t];if(typeof Vt=="string")zt+=Vt.length;else{var Ut=Vt.regex,It=Vt.parser,Dt=kt.slice(zt),Tt=Ut.exec(Dt)[0];It.call(Lt,Tt),kt=kt.replace(Tt,"")}}return function(Rt){var Ft=Rt.afternoon;if(Ft!==void 0){var jt=Rt.hours;Ft?jt<12&&(Rt.hours+=12):jt===12&&(Rt.hours=0),delete Rt.afternoon}}(Lt),Lt}}return function(yt,mt,gt){gt.p.customParseFormat=!0,yt&&yt.parseTwoDigitYear&&(lt=yt.parseTwoDigitYear);var vt=mt.prototype,St=vt.parse;vt.parse=function(xt){var Ct=xt.date,wt=xt.utc,_t=xt.args;this.$u=wt;var Ot=_t[1];if(typeof Ot=="string"){var kt=_t[2]===!0,Lt=_t[3]===!0,$t=kt||Lt,zt=_t[2];Lt&&(zt=_t[2]),st=this.$locale(),!kt&&zt&&(st=gt.Ls[zt]),this.$d=function(Dt,Tt,Rt,Ft){try{if(["x","X"].indexOf(Tt)>-1)return new Date((Tt==="X"?1e3:1)*Dt);var jt=ht(Tt)(Dt),nr=jt.year,cr=jt.month,ur=jt.day,pr=jt.hours,xr=jt.minutes,vr=jt.seconds,Br=jt.milliseconds,mr=jt.zone,Ir=jt.week,br=new Date,Tr=ur||(nr||cr?1:br.getDate()),Vr=nr||br.getFullYear(),yr=0;nr&&!cr||(yr=cr>0?cr-1:br.getMonth());var rn,ar=pr||0,Er=xr||0,_r=vr||0,gr=Br||0;return mr?new Date(Date.UTC(Vr,yr,Tr,ar,Er,_r,gr+60*mr.offset*1e3)):Rt?new Date(Date.UTC(Vr,yr,Tr,ar,Er,_r,gr)):(rn=new Date(Vr,yr,Tr,ar,Er,_r,gr),Ir&&(rn=Ft(rn).week(Ir).toDate()),rn)}catch{return new Date("")}}(Ct,Ot,wt,gt),this.init(),zt&&zt!==!0&&(this.$L=this.locale(zt).$L),$t&&Ct!=this.format(Ot)&&(this.$d=new Date("")),st={}}else if(Ot instanceof Array)for(var Vt=Ot.length,Ut=1;Ut<=Vt;Ut+=1){_t[1]=Ot[Ut-1];var It=gt.apply(this,_t);if(It.isValid()){this.$d=It.$d,this.$L=It.$L,this.init();break}Ut===Vt&&(this.$d=new Date(""))}else St.call(this,xt)}}})})(customParseFormat$1);var customParseFormatExports=customParseFormat$1.exports;const customParseFormat=getDefaultExportFromCjs(customParseFormatExports);var relativeTime$1={exports:{}};(function(_e,et){(function(tt,rt){_e.exports=rt()})(commonjsGlobal,function(){return function(tt,rt,nt){tt=tt||{};var it=rt.prototype,at={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function ot(lt,ct,ut,dt){return it.fromToBase(lt,ct,ut,dt)}nt.en.relativeTime=at,it.fromToBase=function(lt,ct,ut,dt,ft){for(var pt,ht,yt,mt=ut.$locale().relativeTime||at,gt=tt.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],vt=gt.length,St=0;St<vt;St+=1){var xt=gt[St];xt.d&&(pt=dt?nt(lt).diff(ut,xt.d,!0):ut.diff(lt,xt.d,!0));var Ct=(tt.rounding||Math.round)(Math.abs(pt));if(yt=pt>0,Ct<=xt.r||!xt.r){Ct<=1&&St>0&&(xt=gt[St-1]);var wt=mt[xt.l];ft&&(Ct=ft(""+Ct)),ht=typeof wt=="string"?wt.replace("%d",Ct):wt(Ct,ct,xt.l,yt);break}}if(ct)return ht;var _t=yt?mt.future:mt.past;return typeof _t=="function"?_t(ht):_t.replace("%s",ht)},it.to=function(lt,ct){return ot(lt,ct,this,!0)},it.from=function(lt,ct){return ot(lt,ct,this)};var st=function(lt){return lt.$u?nt.utc():nt()};it.toNow=function(lt){return this.to(st(this),lt)},it.fromNow=function(lt){return this.from(st(this),lt)}}})})(relativeTime$1);var relativeTimeExports=relativeTime$1.exports;const relativeTime=getDefaultExportFromCjs(relativeTimeExports);var timezone$1={exports:{}};(function(_e,et){(function(tt,rt){_e.exports=rt()})(commonjsGlobal,function(){var tt={year:0,month:1,day:2,hour:3,minute:4,second:5},rt={};return function(nt,it,at){var ot,st=function(dt,ft,pt){pt===void 0&&(pt={});var ht=new Date(dt),yt=function(mt,gt){gt===void 0&&(gt={});var vt=gt.timeZoneName||"short",St=mt+"|"+vt,xt=rt[St];return xt||(xt=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:mt,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:vt}),rt[St]=xt),xt}(ft,pt);return yt.formatToParts(ht)},lt=function(dt,ft){for(var pt=st(dt,ft),ht=[],yt=0;yt<pt.length;yt+=1){var mt=pt[yt],gt=mt.type,vt=mt.value,St=tt[gt];St>=0&&(ht[St]=parseInt(vt,10))}var xt=ht[3],Ct=xt===24?0:xt,wt=ht[0]+"-"+ht[1]+"-"+ht[2]+" "+Ct+":"+ht[4]+":"+ht[5]+":000",_t=+dt;return(at.utc(wt).valueOf()-(_t-=_t%1e3))/6e4},ct=it.prototype;ct.tz=function(dt,ft){dt===void 0&&(dt=ot);var pt,ht=this.utcOffset(),yt=this.toDate(),mt=yt.toLocaleString("en-US",{timeZone:dt}),gt=Math.round((yt-new Date(mt))/1e3/60),vt=15*-Math.round(yt.getTimezoneOffset()/15)-gt;if(!Number(vt))pt=this.utcOffset(0,ft);else if(pt=at(mt,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(vt,!0),ft){var St=pt.utcOffset();pt=pt.add(ht-St,"minute")}return pt.$x.$timezone=dt,pt},ct.offsetName=function(dt){var ft=this.$x.$timezone||at.tz.guess(),pt=st(this.valueOf(),ft,{timeZoneName:dt}).find(function(ht){return ht.type.toLowerCase()==="timezonename"});return pt&&pt.value};var ut=ct.startOf;ct.startOf=function(dt,ft){if(!this.$x||!this.$x.$timezone)return ut.call(this,dt,ft);var pt=at(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return ut.call(pt,dt,ft).tz(this.$x.$timezone,!0)},at.tz=function(dt,ft,pt){var ht=pt&&ft,yt=pt||ft||ot,mt=lt(+at(),yt);if(typeof dt!="string")return at(dt).tz(yt);var gt=function(Ct,wt,_t){var Ot=Ct-60*wt*1e3,kt=lt(Ot,_t);if(wt===kt)return[Ot,wt];var Lt=lt(Ot-=60*(kt-wt)*1e3,_t);return kt===Lt?[Ot,kt]:[Ct-60*Math.min(kt,Lt)*1e3,Math.max(kt,Lt)]}(at.utc(dt,ht).valueOf(),mt,yt),vt=gt[0],St=gt[1],xt=at(vt).utcOffset(St);return xt.$x.$timezone=yt,xt},at.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},at.tz.setDefault=function(dt){ot=dt}}})})(timezone$1);var timezoneExports=timezone$1.exports;const timezone=getDefaultExportFromCjs(timezoneExports);var utc$1={exports:{}};(function(_e,et){(function(tt,rt){_e.exports=rt()})(commonjsGlobal,function(){var tt="minute",rt=/[+-]\d\d(?::?\d\d)?/g,nt=/([+-]|\d\d)/g;return function(it,at,ot){var st=at.prototype;ot.utc=function(ht){var yt={date:ht,utc:!0,args:arguments};return new at(yt)},st.utc=function(ht){var yt=ot(this.toDate(),{locale:this.$L,utc:!0});return ht?yt.add(this.utcOffset(),tt):yt},st.local=function(){return ot(this.toDate(),{locale:this.$L,utc:!1})};var lt=st.parse;st.parse=function(ht){ht.utc&&(this.$u=!0),this.$utils().u(ht.$offset)||(this.$offset=ht.$offset),lt.call(this,ht)};var ct=st.init;st.init=function(){if(this.$u){var ht=this.$d;this.$y=ht.getUTCFullYear(),this.$M=ht.getUTCMonth(),this.$D=ht.getUTCDate(),this.$W=ht.getUTCDay(),this.$H=ht.getUTCHours(),this.$m=ht.getUTCMinutes(),this.$s=ht.getUTCSeconds(),this.$ms=ht.getUTCMilliseconds()}else ct.call(this)};var ut=st.utcOffset;st.utcOffset=function(ht,yt){var mt=this.$utils().u;if(mt(ht))return this.$u?0:mt(this.$offset)?ut.call(this):this.$offset;if(typeof ht=="string"&&(ht=function(xt){xt===void 0&&(xt="");var Ct=xt.match(rt);if(!Ct)return null;var wt=(""+Ct[0]).match(nt)||["-",0,0],_t=wt[0],Ot=60*+wt[1]+ +wt[2];return Ot===0?0:_t==="+"?Ot:-Ot}(ht),ht===null))return this;var gt=Math.abs(ht)<=16?60*ht:ht,vt=this;if(yt)return vt.$offset=gt,vt.$u=ht===0,vt;if(ht!==0){var St=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(vt=this.local().add(gt+St,tt)).$offset=gt,vt.$x.$localOffset=St}else vt=this.utc();return vt};var dt=st.format;st.format=function(ht){var yt=ht||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return dt.call(this,yt)},st.valueOf=function(){var ht=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*ht},st.isUTC=function(){return!!this.$u},st.toISOString=function(){return this.toDate().toISOString()},st.toString=function(){return this.toDate().toUTCString()};var ft=st.toDate;st.toDate=function(ht){return ht==="s"&&this.$offset?ot(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():ft.call(this)};var pt=st.diff;st.diff=function(ht,yt,mt){if(ht&&this.$u===ht.$u)return pt.call(this,ht,yt,mt);var gt=this.local(),vt=ot(ht).local();return pt.call(gt,vt,yt,mt)}}})})(utc$1);var utcExports=utc$1.exports;const utc=getDefaultExportFromCjs(utcExports);var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function _e(rt,nt,it,at,ot,st){if(st!==ReactPropTypesSecret){var lt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw lt.name="Invariant Violation",lt}}_e.isRequired=_e;function et(){return _e}var tt={array:_e,bigint:_e,bool:_e,func:_e,number:_e,object:_e,string:_e,symbol:_e,any:_e,arrayOf:et,element:_e,elementType:_e,instanceOf:et,node:_e,objectOf:et,oneOf:et,oneOfType:et,shape:et,exact:et,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return tt.PropTypes=tt,tt};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(_e,et){if(_e===et)return!0;if(_e&&et&&typeof _e=="object"&&typeof et=="object"){if(_e.constructor!==et.constructor)return!1;var tt,rt,nt;if(Array.isArray(_e)){if(tt=_e.length,tt!=et.length)return!1;for(rt=tt;rt--!==0;)if(!equal(_e[rt],et[rt]))return!1;return!0}var it;if(hasMap&&_e instanceof Map&&et instanceof Map){if(_e.size!==et.size)return!1;for(it=_e.entries();!(rt=it.next()).done;)if(!et.has(rt.value[0]))return!1;for(it=_e.entries();!(rt=it.next()).done;)if(!equal(rt.value[1],et.get(rt.value[0])))return!1;return!0}if(hasSet&&_e instanceof Set&&et instanceof Set){if(_e.size!==et.size)return!1;for(it=_e.entries();!(rt=it.next()).done;)if(!et.has(rt.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(_e)&&ArrayBuffer.isView(et)){if(tt=_e.length,tt!=et.length)return!1;for(rt=tt;rt--!==0;)if(_e[rt]!==et[rt])return!1;return!0}if(_e.constructor===RegExp)return _e.source===et.source&&_e.flags===et.flags;if(_e.valueOf!==Object.prototype.valueOf&&typeof _e.valueOf=="function"&&typeof et.valueOf=="function")return _e.valueOf()===et.valueOf();if(_e.toString!==Object.prototype.toString&&typeof _e.toString=="function"&&typeof et.toString=="function")return _e.toString()===et.toString();if(nt=Object.keys(_e),tt=nt.length,tt!==Object.keys(et).length)return!1;for(rt=tt;rt--!==0;)if(!Object.prototype.hasOwnProperty.call(et,nt[rt]))return!1;if(hasElementType&&_e instanceof Element)return!1;for(rt=tt;rt--!==0;)if(!((nt[rt]==="_owner"||nt[rt]==="__v"||nt[rt]==="__o")&&_e.$$typeof)&&!equal(_e[nt[rt]],et[nt[rt]]))return!1;return!0}return _e!==_e&&et!==et}var reactFastCompare=function(et,tt){try{return equal(et,tt)}catch(rt){if((rt.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw rt}};const isEqual=getDefaultExportFromCjs(reactFastCompare);var invariant$1=function(_e,et,tt,rt,nt,it,at,ot){if(!_e){var st;if(et===void 0)st=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var lt=[tt,rt,nt,it,at,ot],ct=0;st=new Error(et.replace(/%s/g,function(){return lt[ct++]})),st.name="Invariant Violation"}throw st.framesToPop=1,st}},browser$1=invariant$1;const i$2=getDefaultExportFromCjs(browser$1);var shallowequal=function(et,tt,rt,nt){var it=rt?rt.call(nt,et,tt):void 0;if(it!==void 0)return!!it;if(et===tt)return!0;if(typeof et!="object"||!et||typeof tt!="object"||!tt)return!1;var at=Object.keys(et),ot=Object.keys(tt);if(at.length!==ot.length)return!1;for(var st=Object.prototype.hasOwnProperty.bind(tt),lt=0;lt<at.length;lt++){var ct=at[lt];if(!st(ct))return!1;var ut=et[ct],dt=tt[ct];if(it=rt?rt.call(nt,ut,dt,ct):void 0,it===!1||it===void 0&&ut!==dt)return!1}return!0};const o=getDefaultExportFromCjs(shallowequal);function a(){return a=Object.assign||function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},a.apply(this,arguments)}function s$1(_e,et){_e.prototype=Object.create(et.prototype),_e.prototype.constructor=_e,c(_e,et)}function c(_e,et){return c=Object.setPrototypeOf||function(tt,rt){return tt.__proto__=rt,tt},c(_e,et)}function u$3(_e,et){if(_e==null)return{};var tt,rt,nt={},it=Object.keys(_e);for(rt=0;rt<it.length;rt++)et.indexOf(tt=it[rt])>=0||(nt[tt]=_e[tt]);return nt}var l$2={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},p$5={rel:["amphtml","canonical","alternate"]},f$3={type:["application/ld+json"]},d$2={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},h$5=Object.keys(l$2).map(function(_e){return l$2[_e]}),m$3={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},y$1=Object.keys(m$3).reduce(function(_e,et){return _e[m$3[et]]=et,_e},{}),T$1=function(_e,et){for(var tt=_e.length-1;tt>=0;tt-=1){var rt=_e[tt];if(Object.prototype.hasOwnProperty.call(rt,et))return rt[et]}return null},g$3=function(_e){var et=T$1(_e,l$2.TITLE),tt=T$1(_e,"titleTemplate");if(Array.isArray(et)&&(et=et.join("")),tt&&et)return tt.replace(/%s/g,function(){return et});var rt=T$1(_e,"defaultTitle");return et||rt||void 0},b$1=function(_e){return T$1(_e,"onChangeClientState")||function(){}},v$5=function(_e,et){return et.filter(function(tt){return tt[_e]!==void 0}).map(function(tt){return tt[_e]}).reduce(function(tt,rt){return a({},tt,rt)},{})},A$1=function(_e,et){return et.filter(function(tt){return tt[l$2.BASE]!==void 0}).map(function(tt){return tt[l$2.BASE]}).reverse().reduce(function(tt,rt){if(!tt.length)for(var nt=Object.keys(rt),it=0;it<nt.length;it+=1){var at=nt[it].toLowerCase();if(_e.indexOf(at)!==-1&&rt[at])return tt.concat(rt)}return tt},[])},C$1=function(_e,et,tt){var rt={};return tt.filter(function(nt){return!!Array.isArray(nt[_e])||(nt[_e]!==void 0&&console&&typeof console.warn=="function"&&console.warn("Helmet: "+_e+' should be of type "Array". Instead found type "'+typeof nt[_e]+'"'),!1)}).map(function(nt){return nt[_e]}).reverse().reduce(function(nt,it){var at={};it.filter(function(ut){for(var dt,ft=Object.keys(ut),pt=0;pt<ft.length;pt+=1){var ht=ft[pt],yt=ht.toLowerCase();et.indexOf(yt)===-1||dt==="rel"&&ut[dt].toLowerCase()==="canonical"||yt==="rel"&&ut[yt].toLowerCase()==="stylesheet"||(dt=yt),et.indexOf(ht)===-1||ht!=="innerHTML"&&ht!=="cssText"&&ht!=="itemprop"||(dt=ht)}if(!dt||!ut[dt])return!1;var mt=ut[dt].toLowerCase();return rt[dt]||(rt[dt]={}),at[dt]||(at[dt]={}),!rt[dt][mt]&&(at[dt][mt]=!0,!0)}).reverse().forEach(function(ut){return nt.push(ut)});for(var ot=Object.keys(at),st=0;st<ot.length;st+=1){var lt=ot[st],ct=a({},rt[lt],at[lt]);rt[lt]=ct}return nt},[]).reverse()},O$3=function(_e,et){if(Array.isArray(_e)&&_e.length){for(var tt=0;tt<_e.length;tt+=1)if(_e[tt][et])return!0}return!1},S$1=function(_e){return Array.isArray(_e)?_e.join(""):_e},E$2=function(_e,et){return Array.isArray(_e)?_e.reduce(function(tt,rt){return function(nt,it){for(var at=Object.keys(nt),ot=0;ot<at.length;ot+=1)if(it[at[ot]]&&it[at[ot]].includes(nt[at[ot]]))return!0;return!1}(rt,et)?tt.priority.push(rt):tt.default.push(rt),tt},{priority:[],default:[]}):{default:_e}},I$1=function(_e,et){var tt;return a({},_e,((tt={})[et]=void 0,tt))},P$2=[l$2.NOSCRIPT,l$2.SCRIPT,l$2.STYLE],w$4=function(_e,et){return et===void 0&&(et=!0),et===!1?String(_e):String(_e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},x=function(_e){return Object.keys(_e).reduce(function(et,tt){var rt=_e[tt]!==void 0?tt+'="'+_e[tt]+'"':""+tt;return et?et+" "+rt:rt},"")},L$2=function(_e,et){return et===void 0&&(et={}),Object.keys(_e).reduce(function(tt,rt){return tt[m$3[rt]||rt]=_e[rt],tt},et)},j=function(_e,et){return et.map(function(tt,rt){var nt,it=((nt={key:rt})["data-rh"]=!0,nt);return Object.keys(tt).forEach(function(at){var ot=m$3[at]||at;ot==="innerHTML"||ot==="cssText"?it.dangerouslySetInnerHTML={__html:tt.innerHTML||tt.cssText}:it[ot]=tt[at]}),React.createElement(_e,it)})},M$2=function(_e,et,tt){switch(_e){case l$2.TITLE:return{toComponent:function(){return nt=et.titleAttributes,(it={key:rt=et.title})["data-rh"]=!0,at=L$2(nt,it),[React.createElement(l$2.TITLE,at,rt)];var rt,nt,it,at},toString:function(){return function(rt,nt,it,at){var ot=x(it),st=S$1(nt);return ot?"<"+rt+' data-rh="true" '+ot+">"+w$4(st,at)+"</"+rt+">":"<"+rt+' data-rh="true">'+w$4(st,at)+"</"+rt+">"}(_e,et.title,et.titleAttributes,tt)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return L$2(et)},toString:function(){return x(et)}};default:return{toComponent:function(){return j(_e,et)},toString:function(){return function(rt,nt,it){return nt.reduce(function(at,ot){var st=Object.keys(ot).filter(function(ut){return!(ut==="innerHTML"||ut==="cssText")}).reduce(function(ut,dt){var ft=ot[dt]===void 0?dt:dt+'="'+w$4(ot[dt],it)+'"';return ut?ut+" "+ft:ft},""),lt=ot.innerHTML||ot.cssText||"",ct=P$2.indexOf(rt)===-1;return at+"<"+rt+' data-rh="true" '+st+(ct?"/>":">"+lt+"</"+rt+">")},"")}(_e,et,tt)}}}},k$2=function(_e){var et=_e.baseTag,tt=_e.bodyAttributes,rt=_e.encode,nt=_e.htmlAttributes,it=_e.noscriptTags,at=_e.styleTags,ot=_e.title,st=ot===void 0?"":ot,lt=_e.titleAttributes,ct=_e.linkTags,ut=_e.metaTags,dt=_e.scriptTags,ft={toComponent:function(){},toString:function(){return""}};if(_e.prioritizeSeoTags){var pt=function(ht){var yt=ht.linkTags,mt=ht.scriptTags,gt=ht.encode,vt=E$2(ht.metaTags,d$2),St=E$2(yt,p$5),xt=E$2(mt,f$3);return{priorityMethods:{toComponent:function(){return[].concat(j(l$2.META,vt.priority),j(l$2.LINK,St.priority),j(l$2.SCRIPT,xt.priority))},toString:function(){return M$2(l$2.META,vt.priority,gt)+" "+M$2(l$2.LINK,St.priority,gt)+" "+M$2(l$2.SCRIPT,xt.priority,gt)}},metaTags:vt.default,linkTags:St.default,scriptTags:xt.default}}(_e);ft=pt.priorityMethods,ct=pt.linkTags,ut=pt.metaTags,dt=pt.scriptTags}return{priority:ft,base:M$2(l$2.BASE,et,rt),bodyAttributes:M$2("bodyAttributes",tt,rt),htmlAttributes:M$2("htmlAttributes",nt,rt),link:M$2(l$2.LINK,ct,rt),meta:M$2(l$2.META,ut,rt),noscript:M$2(l$2.NOSCRIPT,it,rt),script:M$2(l$2.SCRIPT,dt,rt),style:M$2(l$2.STYLE,at,rt),title:M$2(l$2.TITLE,{title:st,titleAttributes:lt},rt)}},H$1=[],N$1=function(_e,et){var tt=this;et===void 0&&(et=typeof document<"u"),this.instances=[],this.value={setHelmet:function(rt){tt.context.helmet=rt},helmetInstances:{get:function(){return tt.canUseDOM?H$1:tt.instances},add:function(rt){(tt.canUseDOM?H$1:tt.instances).push(rt)},remove:function(rt){var nt=(tt.canUseDOM?H$1:tt.instances).indexOf(rt);(tt.canUseDOM?H$1:tt.instances).splice(nt,1)}}},this.context=_e,this.canUseDOM=et,et||(_e.helmet=k$2({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},R$2=React.createContext({}),D$1=PropTypes.shape({setHelmet:PropTypes.func,helmetInstances:PropTypes.shape({get:PropTypes.func,add:PropTypes.func,remove:PropTypes.func})}),U=typeof document<"u",q$4=function(_e){function et(tt){var rt;return(rt=_e.call(this,tt)||this).helmetData=new N$1(rt.props.context,et.canUseDOM),rt}return s$1(et,_e),et.prototype.render=function(){return React.createElement(R$2.Provider,{value:this.helmetData.value},this.props.children)},et}(reactExports.Component);q$4.canUseDOM=U,q$4.propTypes={context:PropTypes.shape({helmet:PropTypes.shape()}),children:PropTypes.node.isRequired},q$4.defaultProps={context:{}},q$4.displayName="HelmetProvider";var Y=function(_e,et){var tt,rt=document.head||document.querySelector(l$2.HEAD),nt=rt.querySelectorAll(_e+"[data-rh]"),it=[].slice.call(nt),at=[];return et&&et.length&&et.forEach(function(ot){var st=document.createElement(_e);for(var lt in ot)Object.prototype.hasOwnProperty.call(ot,lt)&&(lt==="innerHTML"?st.innerHTML=ot.innerHTML:lt==="cssText"?st.styleSheet?st.styleSheet.cssText=ot.cssText:st.appendChild(document.createTextNode(ot.cssText)):st.setAttribute(lt,ot[lt]===void 0?"":ot[lt]));st.setAttribute("data-rh","true"),it.some(function(ct,ut){return tt=ut,st.isEqualNode(ct)})?it.splice(tt,1):at.push(st)}),it.forEach(function(ot){return ot.parentNode.removeChild(ot)}),at.forEach(function(ot){return rt.appendChild(ot)}),{oldTags:it,newTags:at}},B$1=function(_e,et){var tt=document.getElementsByTagName(_e)[0];if(tt){for(var rt=tt.getAttribute("data-rh"),nt=rt?rt.split(","):[],it=[].concat(nt),at=Object.keys(et),ot=0;ot<at.length;ot+=1){var st=at[ot],lt=et[st]||"";tt.getAttribute(st)!==lt&&tt.setAttribute(st,lt),nt.indexOf(st)===-1&&nt.push(st);var ct=it.indexOf(st);ct!==-1&&it.splice(ct,1)}for(var ut=it.length-1;ut>=0;ut-=1)tt.removeAttribute(it[ut]);nt.length===it.length?tt.removeAttribute("data-rh"):tt.getAttribute("data-rh")!==at.join(",")&&tt.setAttribute("data-rh",at.join(","))}},K=function(_e,et){var tt=_e.baseTag,rt=_e.htmlAttributes,nt=_e.linkTags,it=_e.metaTags,at=_e.noscriptTags,ot=_e.onChangeClientState,st=_e.scriptTags,lt=_e.styleTags,ct=_e.title,ut=_e.titleAttributes;B$1(l$2.BODY,_e.bodyAttributes),B$1(l$2.HTML,rt),function(ht,yt){ht!==void 0&&document.title!==ht&&(document.title=S$1(ht)),B$1(l$2.TITLE,yt)}(ct,ut);var dt={baseTag:Y(l$2.BASE,tt),linkTags:Y(l$2.LINK,nt),metaTags:Y(l$2.META,it),noscriptTags:Y(l$2.NOSCRIPT,at),scriptTags:Y(l$2.SCRIPT,st),styleTags:Y(l$2.STYLE,lt)},ft={},pt={};Object.keys(dt).forEach(function(ht){var yt=dt[ht],mt=yt.newTags,gt=yt.oldTags;mt.length&&(ft[ht]=mt),gt.length&&(pt[ht]=dt[ht].oldTags)}),et&&et(),ot(_e,ft,pt)},_$2=null,z$3=function(_e){function et(){for(var rt,nt=arguments.length,it=new Array(nt),at=0;at<nt;at++)it[at]=arguments[at];return(rt=_e.call.apply(_e,[this].concat(it))||this).rendered=!1,rt}s$1(et,_e);var tt=et.prototype;return tt.shouldComponentUpdate=function(rt){return!o(rt,this.props)},tt.componentDidUpdate=function(){this.emitChange()},tt.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},tt.emitChange=function(){var rt,nt,it=this.props.context,at=it.setHelmet,ot=null,st=(rt=it.helmetInstances.get().map(function(lt){var ct=a({},lt.props);return delete ct.context,ct}),{baseTag:A$1(["href"],rt),bodyAttributes:v$5("bodyAttributes",rt),defer:T$1(rt,"defer"),encode:T$1(rt,"encodeSpecialCharacters"),htmlAttributes:v$5("htmlAttributes",rt),linkTags:C$1(l$2.LINK,["rel","href"],rt),metaTags:C$1(l$2.META,["name","charset","http-equiv","property","itemprop"],rt),noscriptTags:C$1(l$2.NOSCRIPT,["innerHTML"],rt),onChangeClientState:b$1(rt),scriptTags:C$1(l$2.SCRIPT,["src","innerHTML"],rt),styleTags:C$1(l$2.STYLE,["cssText"],rt),title:g$3(rt),titleAttributes:v$5("titleAttributes",rt),prioritizeSeoTags:O$3(rt,"prioritizeSeoTags")});q$4.canUseDOM?(nt=st,_$2&&cancelAnimationFrame(_$2),nt.defer?_$2=requestAnimationFrame(function(){K(nt,function(){_$2=null})}):(K(nt),_$2=null)):k$2&&(ot=k$2(st)),at(ot)},tt.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},tt.render=function(){return this.init(),null},et}(reactExports.Component);z$3.propTypes={context:D$1.isRequired},z$3.displayName="HelmetDispatcher";var F$2=["children"],G=["children"],W$1=function(_e){function et(){return _e.apply(this,arguments)||this}s$1(et,_e);var tt=et.prototype;return tt.shouldComponentUpdate=function(rt){return!isEqual(I$1(this.props,"helmetData"),I$1(rt,"helmetData"))},tt.mapNestedChildrenToProps=function(rt,nt){if(!nt)return null;switch(rt.type){case l$2.SCRIPT:case l$2.NOSCRIPT:return{innerHTML:nt};case l$2.STYLE:return{cssText:nt};default:throw new Error("<"+rt.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},tt.flattenArrayTypeChildren=function(rt){var nt,it=rt.child,at=rt.arrayTypeChildren;return a({},at,((nt={})[it.type]=[].concat(at[it.type]||[],[a({},rt.newChildProps,this.mapNestedChildrenToProps(it,rt.nestedChildren))]),nt))},tt.mapObjectTypeChildren=function(rt){var nt,it,at=rt.child,ot=rt.newProps,st=rt.newChildProps,lt=rt.nestedChildren;switch(at.type){case l$2.TITLE:return a({},ot,((nt={})[at.type]=lt,nt.titleAttributes=a({},st),nt));case l$2.BODY:return a({},ot,{bodyAttributes:a({},st)});case l$2.HTML:return a({},ot,{htmlAttributes:a({},st)});default:return a({},ot,((it={})[at.type]=a({},st),it))}},tt.mapArrayTypeChildrenToProps=function(rt,nt){var it=a({},nt);return Object.keys(rt).forEach(function(at){var ot;it=a({},it,((ot={})[at]=rt[at],ot))}),it},tt.warnOnInvalidChildren=function(rt,nt){return i$2(h$5.some(function(it){return rt.type===it}),typeof rt.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+h$5.join(", ")+" are allowed. Helmet does not support rendering <"+rt.type+"> elements. Refer to our API for more information."),i$2(!nt||typeof nt=="string"||Array.isArray(nt)&&!nt.some(function(it){return typeof it!="string"}),"Helmet expects a string as a child of <"+rt.type+">. Did you forget to wrap your children in braces? ( <"+rt.type+">{``}</"+rt.type+"> ) Refer to our API for more information."),!0},tt.mapChildrenToProps=function(rt,nt){var it=this,at={};return React.Children.forEach(rt,function(ot){if(ot&&ot.props){var st=ot.props,lt=st.children,ct=u$3(st,F$2),ut=Object.keys(ct).reduce(function(ft,pt){return ft[y$1[pt]||pt]=ct[pt],ft},{}),dt=ot.type;switch(typeof dt=="symbol"?dt=dt.toString():it.warnOnInvalidChildren(ot,lt),dt){case l$2.FRAGMENT:nt=it.mapChildrenToProps(lt,nt);break;case l$2.LINK:case l$2.META:case l$2.NOSCRIPT:case l$2.SCRIPT:case l$2.STYLE:at=it.flattenArrayTypeChildren({child:ot,arrayTypeChildren:at,newChildProps:ut,nestedChildren:lt});break;default:nt=it.mapObjectTypeChildren({child:ot,newProps:nt,newChildProps:ut,nestedChildren:lt})}}}),this.mapArrayTypeChildrenToProps(at,nt)},tt.render=function(){var rt=this.props,nt=rt.children,it=u$3(rt,G),at=a({},it),ot=it.helmetData;return nt&&(at=this.mapChildrenToProps(nt,at)),!ot||ot instanceof N$1||(ot=new N$1(ot.context,ot.instances)),ot?React.createElement(z$3,a({},at,{context:ot.value,helmetData:void 0})):React.createElement(R$2.Consumer,null,function(st){return React.createElement(z$3,a({},at,{context:st}))})},et}(reactExports.Component);W$1.propTypes={base:PropTypes.object,bodyAttributes:PropTypes.object,children:PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node),PropTypes.node]),defaultTitle:PropTypes.string,defer:PropTypes.bool,encodeSpecialCharacters:PropTypes.bool,htmlAttributes:PropTypes.object,link:PropTypes.arrayOf(PropTypes.object),meta:PropTypes.arrayOf(PropTypes.object),noscript:PropTypes.arrayOf(PropTypes.object),onChangeClientState:PropTypes.func,script:PropTypes.arrayOf(PropTypes.object),style:PropTypes.arrayOf(PropTypes.object),title:PropTypes.string,titleAttributes:PropTypes.object,titleTemplate:PropTypes.string,prioritizeSeoTags:PropTypes.bool,helmetData:PropTypes.object},W$1.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},W$1.displayName="Helmet";function r$2(_e){var et,tt,rt="";if(typeof _e=="string"||typeof _e=="number")rt+=_e;else if(typeof _e=="object")if(Array.isArray(_e))for(et=0;et<_e.length;et++)_e[et]&&(tt=r$2(_e[et]))&&(rt&&(rt+=" "),rt+=tt);else for(et in _e)_e[et]&&(rt&&(rt+=" "),rt+=et);return rt}function clsx(){for(var _e,et,tt=0,rt="";tt<arguments.length;)(_e=arguments[tt++])&&(et=r$2(_e))&&(rt&&(rt+=" "),rt+=et);return rt}const u$2=_e=>typeof _e=="number"&&!isNaN(_e),d$1=_e=>typeof _e=="string",p$4=_e=>typeof _e=="function",m$2=_e=>d$1(_e)||p$4(_e)?_e:null,f$2=_e=>reactExports.isValidElement(_e)||d$1(_e)||p$4(_e)||u$2(_e);function g$2(_e,et,tt){tt===void 0&&(tt=300);const{scrollHeight:rt,style:nt}=_e;requestAnimationFrame(()=>{nt.minHeight="initial",nt.height=rt+"px",nt.transition=`all ${tt}ms`,requestAnimationFrame(()=>{nt.height="0",nt.padding="0",nt.margin="0",setTimeout(et,tt)})})}function h$4(_e){let{enter:et,exit:tt,appendPosition:rt=!1,collapse:nt=!0,collapseDuration:it=300}=_e;return function(at){let{children:ot,position:st,preventExitTransition:lt,done:ct,nodeRef:ut,isIn:dt}=at;const ft=rt?`${et}--${st}`:et,pt=rt?`${tt}--${st}`:tt,ht=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{const yt=ut.current,mt=ft.split(" "),gt=vt=>{vt.target===ut.current&&(yt.dispatchEvent(new Event("d")),yt.removeEventListener("animationend",gt),yt.removeEventListener("animationcancel",gt),ht.current===0&&vt.type!=="animationcancel"&&yt.classList.remove(...mt))};yt.classList.add(...mt),yt.addEventListener("animationend",gt),yt.addEventListener("animationcancel",gt)},[]),reactExports.useEffect(()=>{const yt=ut.current,mt=()=>{yt.removeEventListener("animationend",mt),nt?g$2(yt,ct,it):ct()};dt||(lt?mt():(ht.current=1,yt.className+=` ${pt}`,yt.addEventListener("animationend",mt)))},[dt]),React.createElement(React.Fragment,null,ot)}}function y(_e,et){return _e!=null?{content:_e.content,containerId:_e.props.containerId,id:_e.props.toastId,theme:_e.props.theme,type:_e.props.type,data:_e.props.data||{},isLoading:_e.props.isLoading,icon:_e.props.icon,status:et}:{}}const v$4={list:new Map,emitQueue:new Map,on(_e,et){return this.list.has(_e)||this.list.set(_e,[]),this.list.get(_e).push(et),this},off(_e,et){if(et){const tt=this.list.get(_e).filter(rt=>rt!==et);return this.list.set(_e,tt),this}return this.list.delete(_e),this},cancelEmit(_e){const et=this.emitQueue.get(_e);return et&&(et.forEach(clearTimeout),this.emitQueue.delete(_e)),this},emit(_e){this.list.has(_e)&&this.list.get(_e).forEach(et=>{const tt=setTimeout(()=>{et(...[].slice.call(arguments,1))},0);this.emitQueue.has(_e)||this.emitQueue.set(_e,[]),this.emitQueue.get(_e).push(tt)})}},T=_e=>{let{theme:et,type:tt,...rt}=_e;return React.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:et==="colored"?"currentColor":`var(--toastify-icon-color-${tt})`,...rt})},E$1={info:function(_e){return React.createElement(T,{..._e},React.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(_e){return React.createElement(T,{..._e},React.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(_e){return React.createElement(T,{..._e},React.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(_e){return React.createElement(T,{..._e},React.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return React.createElement("div",{className:"Toastify__spinner"})}};function C(_e){const[,et]=reactExports.useReducer(ft=>ft+1,0),[tt,rt]=reactExports.useState([]),nt=reactExports.useRef(null),it=reactExports.useRef(new Map).current,at=ft=>tt.indexOf(ft)!==-1,ot=reactExports.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:_e,containerId:null,isToastActive:at,getToast:ft=>it.get(ft)}).current;function st(ft){let{containerId:pt}=ft;const{limit:ht}=ot.props;!ht||pt&&ot.containerId!==pt||(ot.count-=ot.queue.length,ot.queue=[])}function lt(ft){rt(pt=>ft==null?[]:pt.filter(ht=>ht!==ft))}function ct(){const{toastContent:ft,toastProps:pt,staleId:ht}=ot.queue.shift();dt(ft,pt,ht)}function ut(ft,pt){let{delay:ht,staleId:yt,...mt}=pt;if(!f$2(ft)||function($t){return!nt.current||ot.props.enableMultiContainer&&$t.containerId!==ot.props.containerId||it.has($t.toastId)&&$t.updateId==null}(mt))return;const{toastId:gt,updateId:vt,data:St}=mt,{props:xt}=ot,Ct=()=>lt(gt),wt=vt==null;wt&&ot.count++;const _t={...xt,style:xt.toastStyle,key:ot.toastKey++,...Object.fromEntries(Object.entries(mt).filter($t=>{let[zt,Vt]=$t;return Vt!=null})),toastId:gt,updateId:vt,data:St,closeToast:Ct,isIn:!1,className:m$2(mt.className||xt.toastClassName),bodyClassName:m$2(mt.bodyClassName||xt.bodyClassName),progressClassName:m$2(mt.progressClassName||xt.progressClassName),autoClose:!mt.isLoading&&(Ot=mt.autoClose,kt=xt.autoClose,Ot===!1||u$2(Ot)&&Ot>0?Ot:kt),deleteToast(){const $t=y(it.get(gt),"removed");it.delete(gt),v$4.emit(4,$t);const zt=ot.queue.length;if(ot.count=gt==null?ot.count-ot.displayedToast:ot.count-1,ot.count<0&&(ot.count=0),zt>0){const Vt=gt==null?ot.props.limit:1;if(zt===1||Vt===1)ot.displayedToast++,ct();else{const Ut=Vt>zt?zt:Vt;ot.displayedToast=Ut;for(let It=0;It<Ut;It++)ct()}}else et()}};var Ot,kt;_t.iconOut=function($t){let{theme:zt,type:Vt,isLoading:Ut,icon:It}=$t,Dt=null;const Tt={theme:zt,type:Vt};return It===!1||(p$4(It)?Dt=It(Tt):reactExports.isValidElement(It)?Dt=reactExports.cloneElement(It,Tt):d$1(It)||u$2(It)?Dt=It:Ut?Dt=E$1.spinner():(Rt=>Rt in E$1)(Vt)&&(Dt=E$1[Vt](Tt))),Dt}(_t),p$4(mt.onOpen)&&(_t.onOpen=mt.onOpen),p$4(mt.onClose)&&(_t.onClose=mt.onClose),_t.closeButton=xt.closeButton,mt.closeButton===!1||f$2(mt.closeButton)?_t.closeButton=mt.closeButton:mt.closeButton===!0&&(_t.closeButton=!f$2(xt.closeButton)||xt.closeButton);let Lt=ft;reactExports.isValidElement(ft)&&!d$1(ft.type)?Lt=reactExports.cloneElement(ft,{closeToast:Ct,toastProps:_t,data:St}):p$4(ft)&&(Lt=ft({closeToast:Ct,toastProps:_t,data:St})),xt.limit&&xt.limit>0&&ot.count>xt.limit&&wt?ot.queue.push({toastContent:Lt,toastProps:_t,staleId:yt}):u$2(ht)?setTimeout(()=>{dt(Lt,_t,yt)},ht):dt(Lt,_t,yt)}function dt(ft,pt,ht){const{toastId:yt}=pt;ht&&it.delete(ht);const mt={content:ft,props:pt};it.set(yt,mt),rt(gt=>[...gt,yt].filter(vt=>vt!==ht)),v$4.emit(4,y(mt,mt.props.updateId==null?"added":"updated"))}return reactExports.useEffect(()=>(ot.containerId=_e.containerId,v$4.cancelEmit(3).on(0,ut).on(1,ft=>nt.current&&lt(ft)).on(5,st).emit(2,ot),()=>{it.clear(),v$4.emit(3,ot)}),[]),reactExports.useEffect(()=>{ot.props=_e,ot.isToastActive=at,ot.displayedToast=tt.length}),{getToastToRender:function(ft){const pt=new Map,ht=Array.from(it.values());return _e.newestOnTop&&ht.reverse(),ht.forEach(yt=>{const{position:mt}=yt.props;pt.has(mt)||pt.set(mt,[]),pt.get(mt).push(yt)}),Array.from(pt,yt=>ft(yt[0],yt[1]))},containerRef:nt,isToastActive:at}}function b(_e){return _e.targetTouches&&_e.targetTouches.length>=1?_e.targetTouches[0].clientX:_e.clientX}function I(_e){return _e.targetTouches&&_e.targetTouches.length>=1?_e.targetTouches[0].clientY:_e.clientY}function _$1(_e){const[et,tt]=reactExports.useState(!1),[rt,nt]=reactExports.useState(!1),it=reactExports.useRef(null),at=reactExports.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,ot=reactExports.useRef(_e),{autoClose:st,pauseOnHover:lt,closeToast:ct,onClick:ut,closeOnClick:dt}=_e;function ft(St){if(_e.draggable){St.nativeEvent.type==="touchstart"&&St.nativeEvent.preventDefault(),at.didMove=!1,document.addEventListener("mousemove",mt),document.addEventListener("mouseup",gt),document.addEventListener("touchmove",mt),document.addEventListener("touchend",gt);const xt=it.current;at.canCloseOnClick=!0,at.canDrag=!0,at.boundingRect=xt.getBoundingClientRect(),xt.style.transition="",at.x=b(St.nativeEvent),at.y=I(St.nativeEvent),_e.draggableDirection==="x"?(at.start=at.x,at.removalDistance=xt.offsetWidth*(_e.draggablePercent/100)):(at.start=at.y,at.removalDistance=xt.offsetHeight*(_e.draggablePercent===80?1.5*_e.draggablePercent:_e.draggablePercent/100))}}function pt(St){if(at.boundingRect){const{top:xt,bottom:Ct,left:wt,right:_t}=at.boundingRect;St.nativeEvent.type!=="touchend"&&_e.pauseOnHover&&at.x>=wt&&at.x<=_t&&at.y>=xt&&at.y<=Ct?yt():ht()}}function ht(){tt(!0)}function yt(){tt(!1)}function mt(St){const xt=it.current;at.canDrag&&xt&&(at.didMove=!0,et&&yt(),at.x=b(St),at.y=I(St),at.delta=_e.draggableDirection==="x"?at.x-at.start:at.y-at.start,at.start!==at.x&&(at.canCloseOnClick=!1),xt.style.transform=`translate${_e.draggableDirection}(${at.delta}px)`,xt.style.opacity=""+(1-Math.abs(at.delta/at.removalDistance)))}function gt(){document.removeEventListener("mousemove",mt),document.removeEventListener("mouseup",gt),document.removeEventListener("touchmove",mt),document.removeEventListener("touchend",gt);const St=it.current;if(at.canDrag&&at.didMove&&St){if(at.canDrag=!1,Math.abs(at.delta)>at.removalDistance)return nt(!0),void _e.closeToast();St.style.transition="transform 0.2s, opacity 0.2s",St.style.transform=`translate${_e.draggableDirection}(0)`,St.style.opacity="1"}}reactExports.useEffect(()=>{ot.current=_e}),reactExports.useEffect(()=>(it.current&&it.current.addEventListener("d",ht,{once:!0}),p$4(_e.onOpen)&&_e.onOpen(reactExports.isValidElement(_e.children)&&_e.children.props),()=>{const St=ot.current;p$4(St.onClose)&&St.onClose(reactExports.isValidElement(St.children)&&St.children.props)}),[]),reactExports.useEffect(()=>(_e.pauseOnFocusLoss&&(document.hasFocus()||yt(),window.addEventListener("focus",ht),window.addEventListener("blur",yt)),()=>{_e.pauseOnFocusLoss&&(window.removeEventListener("focus",ht),window.removeEventListener("blur",yt))}),[_e.pauseOnFocusLoss]);const vt={onMouseDown:ft,onTouchStart:ft,onMouseUp:pt,onTouchEnd:pt};return st&&lt&&(vt.onMouseEnter=yt,vt.onMouseLeave=ht),dt&&(vt.onClick=St=>{ut&&ut(St),at.canCloseOnClick&&ct()}),{playToast:ht,pauseToast:yt,isRunning:et,preventExitTransition:rt,toastRef:it,eventHandlers:vt}}function L$1(_e){let{closeToast:et,theme:tt,ariaLabel:rt="close"}=_e;return React.createElement("button",{className:`Toastify__close-button Toastify__close-button--${tt}`,type:"button",onClick:nt=>{nt.stopPropagation(),et(nt)},"aria-label":rt},React.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},React.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function O$2(_e){let{delay:et,isRunning:tt,closeToast:rt,type:nt="default",hide:it,className:at,style:ot,controlledProgress:st,progress:lt,rtl:ct,isIn:ut,theme:dt}=_e;const ft=it||st&&lt===0,pt={...ot,animationDuration:`${et}ms`,animationPlayState:tt?"running":"paused",opacity:ft?0:1};st&&(pt.transform=`scaleX(${lt})`);const ht=clsx("Toastify__progress-bar",st?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${dt}`,`Toastify__progress-bar--${nt}`,{"Toastify__progress-bar--rtl":ct}),yt=p$4(at)?at({rtl:ct,type:nt,defaultClassName:ht}):clsx(ht,at);return React.createElement("div",{role:"progressbar","aria-hidden":ft?"true":"false","aria-label":"notification timer",className:yt,style:pt,[st&&lt>=1?"onTransitionEnd":"onAnimationEnd"]:st&&lt<1?null:()=>{ut&&rt()}})}const N=_e=>{const{isRunning:et,preventExitTransition:tt,toastRef:rt,eventHandlers:nt}=_$1(_e),{closeButton:it,children:at,autoClose:ot,onClick:st,type:lt,hideProgressBar:ct,closeToast:ut,transition:dt,position:ft,className:pt,style:ht,bodyClassName:yt,bodyStyle:mt,progressClassName:gt,progressStyle:vt,updateId:St,role:xt,progress:Ct,rtl:wt,toastId:_t,deleteToast:Ot,isIn:kt,isLoading:Lt,iconOut:$t,closeOnClick:zt,theme:Vt}=_e,Ut=clsx("Toastify__toast",`Toastify__toast-theme--${Vt}`,`Toastify__toast--${lt}`,{"Toastify__toast--rtl":wt},{"Toastify__toast--close-on-click":zt}),It=p$4(pt)?pt({rtl:wt,position:ft,type:lt,defaultClassName:Ut}):clsx(Ut,pt),Dt=!!Ct||!ot,Tt={closeToast:ut,type:lt,theme:Vt};let Rt=null;return it===!1||(Rt=p$4(it)?it(Tt):reactExports.isValidElement(it)?reactExports.cloneElement(it,Tt):L$1(Tt)),React.createElement(dt,{isIn:kt,done:Ot,position:ft,preventExitTransition:tt,nodeRef:rt},React.createElement("div",{id:_t,onClick:st,className:It,...nt,style:ht,ref:rt},React.createElement("div",{...kt&&{role:xt},className:p$4(yt)?yt({type:lt}):clsx("Toastify__toast-body",yt),style:mt},$t!=null&&React.createElement("div",{className:clsx("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Lt})},$t),React.createElement("div",null,at)),Rt,React.createElement(O$2,{...St&&!Dt?{key:`pb-${St}`}:{},rtl:wt,theme:Vt,delay:ot,isRunning:et,isIn:kt,closeToast:ut,hide:ct,type:lt,style:vt,className:gt,controlledProgress:Dt,progress:Ct||0})))},M$1=function(_e,et){return et===void 0&&(et=!1),{enter:`Toastify--animate Toastify__${_e}-enter`,exit:`Toastify--animate Toastify__${_e}-exit`,appendPosition:et}},R$1=h$4(M$1("bounce",!0));h$4(M$1("slide",!0));h$4(M$1("zoom"));h$4(M$1("flip"));const k$1=reactExports.forwardRef((_e,et)=>{const{getToastToRender:tt,containerRef:rt,isToastActive:nt}=C(_e),{className:it,style:at,rtl:ot,containerId:st}=_e;function lt(ct){const ut=clsx("Toastify__toast-container",`Toastify__toast-container--${ct}`,{"Toastify__toast-container--rtl":ot});return p$4(it)?it({position:ct,rtl:ot,defaultClassName:ut}):clsx(ut,m$2(it))}return reactExports.useEffect(()=>{et&&(et.current=rt.current)},[]),React.createElement("div",{ref:rt,className:"Toastify",id:st},tt((ct,ut)=>{const dt=ut.length?{...at}:{...at,pointerEvents:"none"};return React.createElement("div",{className:lt(ct),style:dt,key:`container-${ct}`},ut.map((ft,pt)=>{let{content:ht,props:yt}=ft;return React.createElement(N,{...yt,isIn:nt(yt.toastId),style:{...yt.style,"--nth":pt+1,"--len":ut.length},key:`toast-${yt.key}`},ht)}))}))});k$1.displayName="ToastContainer",k$1.defaultProps={position:"top-right",transition:R$1,autoClose:5e3,closeButton:L$1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let P$1,B=new Map,D=[],A=1;function z$2(){return""+A++}function F$1(_e){return _e&&(d$1(_e.toastId)||u$2(_e.toastId))?_e.toastId:z$2()}function H(_e,et){return B.size>0?v$4.emit(0,_e,et):D.push({content:_e,options:et}),et.toastId}function S(_e,et){return{...et,type:et&&et.type||_e,toastId:F$1(et)}}function q$3(_e){return(et,tt)=>H(et,S(_e,tt))}function Q$1(_e,et){return H(_e,S("default",et))}Q$1.loading=(_e,et)=>H(_e,S("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...et})),Q$1.promise=function(_e,et,tt){let rt,{pending:nt,error:it,success:at}=et;nt&&(rt=d$1(nt)?Q$1.loading(nt,tt):Q$1.loading(nt.render,{...tt,...nt}));const ot={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},st=(ct,ut,dt)=>{if(ut==null)return void Q$1.dismiss(rt);const ft={type:ct,...ot,...tt,data:dt},pt=d$1(ut)?{render:ut}:ut;return rt?Q$1.update(rt,{...ft,...pt}):Q$1(pt.render,{...ft,...pt}),dt},lt=p$4(_e)?_e():_e;return lt.then(ct=>st("success",at,ct)).catch(ct=>st("error",it,ct)),lt},Q$1.success=q$3("success"),Q$1.info=q$3("info"),Q$1.error=q$3("error"),Q$1.warning=q$3("warning"),Q$1.warn=Q$1.warning,Q$1.dark=(_e,et)=>H(_e,S("default",{theme:"dark",...et})),Q$1.dismiss=_e=>{B.size>0?v$4.emit(1,_e):D=D.filter(et=>_e!=null&&et.options.toastId!==_e)},Q$1.clearWaitingQueue=function(_e){return _e===void 0&&(_e={}),v$4.emit(5,_e)},Q$1.isActive=_e=>{let et=!1;return B.forEach(tt=>{tt.isToastActive&&tt.isToastActive(_e)&&(et=!0)}),et},Q$1.update=function(_e,et){et===void 0&&(et={}),setTimeout(()=>{const tt=function(rt,nt){let{containerId:it}=nt;const at=B.get(it||P$1);return at&&at.getToast(rt)}(_e,et);if(tt){const{props:rt,content:nt}=tt,it={delay:100,...rt,...et,toastId:et.toastId||_e,updateId:z$2()};it.toastId!==_e&&(it.staleId=_e);const at=it.render||nt;delete it.render,H(at,it)}},0)},Q$1.done=_e=>{Q$1.update(_e,{progress:1})},Q$1.onChange=_e=>(v$4.on(4,_e),()=>{v$4.off(4,_e)}),Q$1.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Q$1.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},v$4.on(2,_e=>{P$1=_e.containerId||_e,B.set(P$1,_e),D.forEach(et=>{v$4.emit(0,et.content,et.options)}),D=[]}).on(3,_e=>{B.delete(_e.containerId||_e),B.size===0&&v$4.off(0).off(1).off(5)});var m$1=typeof window>"u";m$1?React.useEffect:React.useLayoutEffect;var f$1="__wrap_b",_=(_e,et,tt)=>{tt=tt||document.querySelector(`[data-br="${_e}"]`);let rt=tt.parentElement,nt=ct=>tt.style.maxWidth=ct+"px";tt.style.maxWidth="";let it=rt.clientWidth,at=rt.clientHeight,ot=it/2-.25,st=it+.5,lt;if(it){for(nt(ot),ot=Math.max(tt.scrollWidth,ot);ot+1<st;)lt=Math.round((ot+st)/2),nt(lt),rt.clientHeight===at?st=lt:ot=lt;nt(st*et+it*(1-et))}tt.__wrap_o||typeof ResizeObserver<"u"&&(tt.__wrap_o=new ResizeObserver(()=>{self.__wrap_b(0,+tt.dataset.brr,tt)})).observe(rt)},O$1=_.toString(),v$3=(_e,et,tt="")=>React.createElement("script",{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`self.${f$1}=${O$1};`+tt},nonce:et}),g$1=React.createContext(!1),L=({nonce:_e,children:et})=>React.createElement(g$1.Provider,{value:!0},v$3(!1,_e),et);function memoize$2(_e){var et=Object.create(null);return function(tt){return et[tt]===void 0&&(et[tt]=_e(tt)),et[tt]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$2(function(_e){return reactPropsRegex.test(_e)||_e.charCodeAt(0)===111&&_e.charCodeAt(1)===110&&_e.charCodeAt(2)<91}),cx=function(){const et=Array.prototype.slice.call(arguments).filter(Boolean),tt={},rt=[];et.forEach(it=>{(it?it.split(" "):[]).forEach(ot=>{if(ot.startsWith("atm_")){const[,st]=ot.split("_");tt[st]=ot}else rt.push(ot)})});const nt=[];for(const it in tt)Object.prototype.hasOwnProperty.call(tt,it)&&nt.push(tt[it]);return nt.push(...rt),nt.join(" ")},cx_default=cx,isCapital=_e=>_e.toUpperCase()===_e,filterKey=_e=>et=>_e.indexOf(et)===-1,omit=(_e,et)=>{const tt={};return Object.keys(_e).filter(filterKey(et)).forEach(rt=>{tt[rt]=_e[rt]}),tt};function filterProps$1(_e,et,tt){const rt=omit(et,tt);if(!_e){const nt=typeof isPropValid=="function"?{default:isPropValid}:isPropValid;Object.keys(rt).forEach(it=>{nt.default(it)||delete rt[it]})}return rt}var warnIfInvalid=(_e,et)=>{};function styled(_e){let et="";return tt=>{const rt=(it,at)=>{const{as:ot=_e,class:st=et}=it,lt=tt.propsAsIs===void 0?!(typeof ot=="string"&&ot.indexOf("-")===-1&&!isCapital(ot[0])):tt.propsAsIs,ct=filterProps$1(lt,it,["as","class"]);ct.ref=at,ct.className=tt.atomic?cx_default(tt.class,ct.className||st):cx_default(ct.className||st,tt.class);const{vars:ut}=tt;if(ut){const dt={};for(const ht in ut){const yt=ut[ht],mt=yt[0],gt=yt[1]||"",vt=typeof mt=="function"?mt(it):mt;warnIfInvalid(vt,tt.name),dt[`--${ht}`]=`${vt}${gt}`}const ft=ct.style||{},pt=Object.keys(ft);pt.length>0&&pt.forEach(ht=>{dt[ht]=ft[ht]}),ct.style=dt}return _e.__linaria&&_e!==ot?(ct.as=ot,React.createElement(_e,ct)):React.createElement(ot,ct)},nt=React.forwardRef?React.forwardRef(rt):it=>{const at=omit(it,["innerRef"]);return rt(at,it.innerRef)};return nt.displayName=tt.name,nt.__linaria={className:tt.class||et,extends:_e},nt}}var styled_default=styled;const FaviconSrc="/app/book/assets/favicon-QUTjvhYR.svg",NavbarStoreContext=reactExports.createContext(null);function NavbarStoreProvider({store:_e,children:et}){return jsxRuntimeExports.jsx(NavbarStoreContext.Provider,{value:_e,children:et})}function useNavbarStore(){const _e=reactExports.useContext(NavbarStoreContext);if(!_e)throw new Error("useNavbarStore must be used inside a NavbarStoreProvider");return _e}const __vite_import_meta_env__$2={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ANALYTICS_API_URL:"https://www.remento.co/api/a",VITE_ANALYTICS_DD_API_HOST:"www.remento.co",VITE_ANALYTICS_DD_API_PATH:"/api/dd",VITE_ANALYTICS_DD_APP_ID:"7ef20e73-b483-45b3-adb7-ea926c31ff69",VITE_ANALYTICS_DD_SITE:"us5.datadoghq.com",VITE_ANALYTICS_DD_TOKEN:"pub2635ca1a364a1a7f8059f6056bf4858e",VITE_ANALYTICS_ROOT_DOMAIN:"remento.co",VITE_ANALYTICS_SEGMENT_API_HOST:"www.remento.co",VITE_ANALYTICS_SEGMENT_API_PATH:"/api/seg",VITE_ANALYTICS_SEGMENT_CDN_HOST:"www.remento.co",VITE_ANALYTICS_SEGMENT_CDN_PATH:"/cdn/seg",VITE_ANALYTICS_SEGMENT_KEY:"OSGRDVRIilTVp3ptsl0DSpPbseww8aFW",VITE_ANALYTICS_SOURCE:"remento-book-webapp",VITE_API_URL:"https://api-v36wh5jacq-uc.a.run.app",VITE_APP_NAME:"Remento",VITE_BUNDLE_FORM_ID:"vIduiDvA",VITE_ENV:"production",VITE_FILESTACK_API_KEY:"AE3gaZ6XRetBBQte2ygiAz",VITE_FIREBASE_API_KEY:"AIzaSyDdtZTvdOJsqivzG3MOGecH8E6hQvszzPY",VITE_FIREBASE_APP_ID:"1:1081609483368:web:7fbb490839e5ace692f7dd",VITE_FIREBASE_AUTH_DOMAIN:"remento-book-prod.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"remento-book-prod",VITE_GIFT_FORM_ID:"DUl84RoK",VITE_INTERCOM_APP_ID:"dg59io5v",VITE_PATH_BASENAME:"",VITE_SANITY_DATASET:"book-prod"},createStoreImpl=_e=>{let et;const tt=new Set,rt=(ct,ut)=>{const dt=typeof ct=="function"?ct(et):ct;if(!Object.is(dt,et)){const ft=et;et=ut??(typeof dt!="object"||dt===null)?dt:Object.assign({},et,dt),tt.forEach(pt=>pt(et,ft))}},nt=()=>et,st={setState:rt,getState:nt,getInitialState:()=>lt,subscribe:ct=>(tt.add(ct),()=>tt.delete(ct)),destroy:()=>{(__vite_import_meta_env__$2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),tt.clear()}},lt=et=_e(rt,nt,st);return st},createStore=_e=>_e?createStoreImpl(_e):createStoreImpl;var withSelector={exports:{}},withSelector_production_min={},shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=reactExports;function h$3(_e,et){return _e===et&&(_e!==0||1/_e===1/et)||_e!==_e&&et!==et}var k=typeof Object.is=="function"?Object.is:h$3,l$1=e.useState,m=e.useEffect,n$2=e.useLayoutEffect,p$3=e.useDebugValue;function q$2(_e,et){var tt=et(),rt=l$1({inst:{value:tt,getSnapshot:et}}),nt=rt[0].inst,it=rt[1];return n$2(function(){nt.value=tt,nt.getSnapshot=et,r$1(nt)&&it({inst:nt})},[_e,tt,et]),m(function(){return r$1(nt)&&it({inst:nt}),_e(function(){r$1(nt)&&it({inst:nt})})},[_e]),p$3(tt),tt}function r$1(_e){var et=_e.getSnapshot;_e=_e.value;try{var tt=et();return!k(_e,tt)}catch{return!0}}function t$2(_e,et){return et()}var u$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$2:q$2;useSyncExternalStoreShim_production_min.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u$1;shim.exports=useSyncExternalStoreShim_production_min;var shimExports=shim.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h$2=reactExports,n$1=shimExports;function p$2(_e,et){return _e===et&&(_e!==0||1/_e===1/et)||_e!==_e&&et!==et}var q$1=typeof Object.is=="function"?Object.is:p$2,r=n$1.useSyncExternalStore,t$1=h$2.useRef,u=h$2.useEffect,v$2=h$2.useMemo,w$3=h$2.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function(_e,et,tt,rt,nt){var it=t$1(null);if(it.current===null){var at={hasValue:!1,value:null};it.current=at}else at=it.current;it=v$2(function(){function st(ft){if(!lt){if(lt=!0,ct=ft,ft=rt(ft),nt!==void 0&&at.hasValue){var pt=at.value;if(nt(pt,ft))return ut=pt}return ut=ft}if(pt=ut,q$1(ct,ft))return pt;var ht=rt(ft);return nt!==void 0&&nt(pt,ht)?pt:(ct=ft,ut=ht)}var lt=!1,ct,ut,dt=tt===void 0?null:tt;return[function(){return st(et())},dt===null?void 0:function(){return st(dt())}]},[et,tt,rt,nt]);var ot=r(_e,it[0],it[1]);return u(function(){at.hasValue=!0,at.value=ot},[ot]),w$3(ot),ot};withSelector.exports=withSelector_production_min;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),__vite_import_meta_env__$1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ANALYTICS_API_URL:"https://www.remento.co/api/a",VITE_ANALYTICS_DD_API_HOST:"www.remento.co",VITE_ANALYTICS_DD_API_PATH:"/api/dd",VITE_ANALYTICS_DD_APP_ID:"7ef20e73-b483-45b3-adb7-ea926c31ff69",VITE_ANALYTICS_DD_SITE:"us5.datadoghq.com",VITE_ANALYTICS_DD_TOKEN:"pub2635ca1a364a1a7f8059f6056bf4858e",VITE_ANALYTICS_ROOT_DOMAIN:"remento.co",VITE_ANALYTICS_SEGMENT_API_HOST:"www.remento.co",VITE_ANALYTICS_SEGMENT_API_PATH:"/api/seg",VITE_ANALYTICS_SEGMENT_CDN_HOST:"www.remento.co",VITE_ANALYTICS_SEGMENT_CDN_PATH:"/cdn/seg",VITE_ANALYTICS_SEGMENT_KEY:"OSGRDVRIilTVp3ptsl0DSpPbseww8aFW",VITE_ANALYTICS_SOURCE:"remento-book-webapp",VITE_API_URL:"https://api-v36wh5jacq-uc.a.run.app",VITE_APP_NAME:"Remento",VITE_BUNDLE_FORM_ID:"vIduiDvA",VITE_ENV:"production",VITE_FILESTACK_API_KEY:"AE3gaZ6XRetBBQte2ygiAz",VITE_FIREBASE_API_KEY:"AIzaSyDdtZTvdOJsqivzG3MOGecH8E6hQvszzPY",VITE_FIREBASE_APP_ID:"1:1081609483368:web:7fbb490839e5ace692f7dd",VITE_FIREBASE_AUTH_DOMAIN:"remento-book-prod.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"remento-book-prod",VITE_GIFT_FORM_ID:"DUl84RoK",VITE_INTERCOM_APP_ID:"dg59io5v",VITE_PATH_BASENAME:"",VITE_SANITY_DATASET:"book-prod"},{useDebugValue}=React,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;let didWarnAboutEqualityFn=!1;const identity$1=_e=>_e;function useStore(_e,et=identity$1,tt){(__vite_import_meta_env__$1?"production":void 0)!=="production"&&tt&&!didWarnAboutEqualityFn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),didWarnAboutEqualityFn=!0);const rt=useSyncExternalStoreWithSelector(_e.subscribe,_e.getState,_e.getServerState||_e.getInitialState,et,tt);return useDebugValue(rt),rt}const createImpl=_e=>{(__vite_import_meta_env__$1?"production":void 0)!=="production"&&typeof _e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const et=typeof _e=="function"?createStore(_e):_e,tt=(rt,nt)=>useStore(et,rt,nt);return Object.assign(tt,et),tt},create$1=_e=>_e?createImpl(_e):createImpl;function createNavbarStore(){return createStore(()=>({projectId:null,status:"closed"}))}function setNavbarProjectId(_e,et){_e.setState({projectId:et})}function getNavbarProjectId(_e){return _e.getState().projectId}function useNavbarProjectId(_e){return useStore(_e,reactExports.useCallback(({projectId:et})=>et,[]))}function openNavbar(_e){_e.setState({status:"opening"})}function closeNavbar(_e){_e.setState({status:"closing"})}function setNavbarStatus(_e,et){_e.setState({status:et})}function useNavbarStatus(_e){return useStore(_e,reactExports.useCallback(et=>et.status,[]))}const v$1="5.7.4",fr$1=60,ip$1=613,op$1=661,w$2=600,h$1=600,nm$1="asset",ddd$1=0,assets$1=[],layers$1=[{ddd:0,ind:1,ty:4,nm:"shape rotation",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[300,300,0],ix:2,l:2},a:{a:0,k:[-26,-20,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[404,404],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[.3137,.4863,.4863,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:49,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[-26,-20],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:613,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:636,s:[20]},{t:660,s:[0]}],ix:1},e:{a:0,k:28,ix:2},o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:613,s:[0]},{t:660,s:[360]}],ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"tm",s:{a:0,k:0,ix:1},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:3},m:1,ix:3,nm:"Trim Paths 2",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:1500,st:0,bm:0}],markers$1=[],spinnerAnimationData={v:v$1,fr:fr$1,ip:ip$1,op:op$1,w:w$2,h:h$1,nm:nm$1,ddd:ddd$1,assets:assets$1,layers:layers$1,markers:markers$1},v="5.7.4",fr=60,ip=613,op=661,w$1=600,h=600,nm="asset",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:4,nm:"shape rotation",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[300,300,0],ix:2,l:2},a:{a:0,k:[-26,-20,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[404,404],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[.5137254901960784,.6862745098039216,.6862745098039216,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:49,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[-26,-20],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:613,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:636,s:[20]},{t:660,s:[0]}],ix:1},e:{a:0,k:28,ix:2},o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:613,s:[0]},{t:660,s:[360]}],ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"tm",s:{a:0,k:0,ix:1},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:3},m:1,ix:3,nm:"Trim Paths 2",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:1500,st:0,bm:0}],markers=[],SpinnerLightLottieAnimation={v,fr,ip,op,w:w$1,h,nm,ddd,assets,layers,markers};var lottie$1={exports:{}};(function(module,exports){typeof navigator<"u"&&function(_e,et){module.exports=et()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(et){_useWebWorker=!!et},getWebWorker=function(){return _useWebWorker},setLocationHref=function(et){locationHref=et},getLocationHref=function(){return locationHref};function createTag(_e){return document.createElement(_e)}function extendPrototype(_e,et){var tt,rt=_e.length,nt;for(tt=0;tt<rt;tt+=1){nt=_e[tt].prototype;for(var it in nt)Object.prototype.hasOwnProperty.call(nt,it)&&(et.prototype[it]=nt[it])}}function getDescriptor(_e,et){return Object.getOwnPropertyDescriptor(_e,et)}function createProxyFunction(_e){function et(){}return et.prototype=_e,et}var audioControllerFactory=function(){function _e(et){this.audios=[],this.audioFactory=et,this._volume=1,this._isMuted=!1}return _e.prototype={addAudio:function(tt){this.audios.push(tt)},pause:function(){var tt,rt=this.audios.length;for(tt=0;tt<rt;tt+=1)this.audios[tt].pause()},resume:function(){var tt,rt=this.audios.length;for(tt=0;tt<rt;tt+=1)this.audios[tt].resume()},setRate:function(tt){var rt,nt=this.audios.length;for(rt=0;rt<nt;rt+=1)this.audios[rt].setRate(tt)},createAudio:function(tt){return this.audioFactory?this.audioFactory(tt):window.Howl?new window.Howl({src:[tt]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(tt){this.audioFactory=tt},setVolume:function(tt){this._volume=tt,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var tt,rt=this.audios.length;for(tt=0;tt<rt;tt+=1)this.audios[tt].volume(this._volume*(this._isMuted?0:1))}},function(){return new _e}}(),createTypedArray=function(){function _e(tt,rt){var nt=0,it=[],at;switch(tt){case"int16":case"uint8c":at=1;break;default:at=1.1;break}for(nt=0;nt<rt;nt+=1)it.push(at);return it}function et(tt,rt){return tt==="float32"?new Float32Array(rt):tt==="int16"?new Int16Array(rt):tt==="uint8c"?new Uint8ClampedArray(rt):_e(tt,rt)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?et:_e}();function createSizedArray(_e){return Array.apply(null,{length:_e})}function _typeof$6(_e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(tt){return typeof tt}:_typeof$6=function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$6(_e)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var _e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],et,tt=_e.length;for(et=0;et<tt;et+=1)BMMath[_e[et]]=Math[_e[et]]})(),BMMath.random=Math.random,BMMath.abs=function(_e){var et=_typeof$6(_e);if(et==="object"&&_e.length){var tt=createSizedArray(_e.length),rt,nt=_e.length;for(rt=0;rt<nt;rt+=1)tt[rt]=Math.abs(_e[rt]);return tt}return Math.abs(_e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(_e){_e.style.position="absolute",_e.style.top=0,_e.style.left=0,_e.style.display="block",_e.style.transformOrigin="0 0",_e.style.webkitTransformOrigin="0 0",_e.style.backfaceVisibility="visible",_e.style.webkitBackfaceVisibility="visible",_e.style.transformStyle="preserve-3d",_e.style.webkitTransformStyle="preserve-3d",_e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(_e,et,tt,rt){this.type=_e,this.currentTime=et,this.totalTime=tt,this.direction=rt<0?-1:1}function BMCompleteEvent(_e,et){this.type=_e,this.direction=et<0?-1:1}function BMCompleteLoopEvent(_e,et,tt,rt){this.type=_e,this.currentLoop=tt,this.totalLoops=et,this.direction=rt<0?-1:1}function BMSegmentStartEvent(_e,et,tt){this.type=_e,this.firstFrame=et,this.totalFrames=tt}function BMDestroyEvent(_e,et){this.type=_e,this.target=et}function BMRenderFrameErrorEvent(_e,et){this.type="renderFrameError",this.nativeError=_e,this.currentTime=et}function BMConfigErrorEvent(_e){this.type="configError",this.nativeError=_e}var createElementID=function(){var _e=0;return function(){return _e+=1,idPrefix$1+"__lottie_element_"+_e}}();function HSVtoRGB(_e,et,tt){var rt,nt,it,at,ot,st,lt,ct;switch(at=Math.floor(_e*6),ot=_e*6-at,st=tt*(1-et),lt=tt*(1-ot*et),ct=tt*(1-(1-ot)*et),at%6){case 0:rt=tt,nt=ct,it=st;break;case 1:rt=lt,nt=tt,it=st;break;case 2:rt=st,nt=tt,it=ct;break;case 3:rt=st,nt=lt,it=tt;break;case 4:rt=ct,nt=st,it=tt;break;case 5:rt=tt,nt=st,it=lt;break}return[rt,nt,it]}function RGBtoHSV(_e,et,tt){var rt=Math.max(_e,et,tt),nt=Math.min(_e,et,tt),it=rt-nt,at,ot=rt===0?0:it/rt,st=rt/255;switch(rt){case nt:at=0;break;case _e:at=et-tt+it*(et<tt?6:0),at/=6*it;break;case et:at=tt-_e+it*2,at/=6*it;break;case tt:at=_e-et+it*4,at/=6*it;break}return[at,ot,st]}function addSaturationToRGB(_e,et){var tt=RGBtoHSV(_e[0]*255,_e[1]*255,_e[2]*255);return tt[1]+=et,tt[1]>1?tt[1]=1:tt[1]<=0&&(tt[1]=0),HSVtoRGB(tt[0],tt[1],tt[2])}function addBrightnessToRGB(_e,et){var tt=RGBtoHSV(_e[0]*255,_e[1]*255,_e[2]*255);return tt[2]+=et,tt[2]>1?tt[2]=1:tt[2]<0&&(tt[2]=0),HSVtoRGB(tt[0],tt[1],tt[2])}function addHueToRGB(_e,et){var tt=RGBtoHSV(_e[0]*255,_e[1]*255,_e[2]*255);return tt[0]+=et/360,tt[0]>1?tt[0]-=1:tt[0]<0&&(tt[0]+=1),HSVtoRGB(tt[0],tt[1],tt[2])}var rgbToHex=function(){var _e=[],et,tt;for(et=0;et<256;et+=1)tt=et.toString(16),_e[et]=tt.length===1?"0"+tt:tt;return function(rt,nt,it){return rt<0&&(rt=0),nt<0&&(nt=0),it<0&&(it=0),"#"+_e[rt]+_e[nt]+_e[it]}}(),setSubframeEnabled=function(et){subframeEnabled=!!et},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(et){expressionsPlugin=et},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(et){expressionsInterfaces=et},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(et){defaultCurveSegments=et},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(et){idPrefix$1=et};function createNS(_e){return document.createElementNS(svgNS,_e)}function _typeof$5(_e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(tt){return typeof tt}:_typeof$5=function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$5(_e)}var dataManager=function(){var _e=1,et=[],tt,rt,nt={onmessage:function(){},postMessage:function(ft){tt({data:ft})}},it={postMessage:function(ft){nt.onmessage({data:ft})}};function at(dt){if(window.Worker&&window.Blob&&getWebWorker()){var ft=new Blob(["var _workerSelf = self; self.onmessage = ",dt.toString()],{type:"text/javascript"}),pt=URL.createObjectURL(ft);return new Worker(pt)}return tt=dt,nt}function ot(){rt||(rt=at(function(ft){function pt(){function yt(Ut,It){var Dt,Tt,Rt=Ut.length,Ft,jt,nr,cr;for(Tt=0;Tt<Rt;Tt+=1)if(Dt=Ut[Tt],"ks"in Dt&&!Dt.completed){if(Dt.completed=!0,Dt.hasMask){var ur=Dt.masksProperties;for(jt=ur.length,Ft=0;Ft<jt;Ft+=1)if(ur[Ft].pt.k.i)xt(ur[Ft].pt.k);else for(cr=ur[Ft].pt.k.length,nr=0;nr<cr;nr+=1)ur[Ft].pt.k[nr].s&&xt(ur[Ft].pt.k[nr].s[0]),ur[Ft].pt.k[nr].e&&xt(ur[Ft].pt.k[nr].e[0])}Dt.ty===0?(Dt.layers=vt(Dt.refId,It),yt(Dt.layers,It)):Dt.ty===4?St(Dt.shapes):Dt.ty===5&&zt(Dt)}}function mt(Ut,It){if(Ut){var Dt=0,Tt=Ut.length;for(Dt=0;Dt<Tt;Dt+=1)Ut[Dt].t===1&&(Ut[Dt].data.layers=vt(Ut[Dt].data.refId,It),yt(Ut[Dt].data.layers,It))}}function gt(Ut,It){for(var Dt=0,Tt=It.length;Dt<Tt;){if(It[Dt].id===Ut)return It[Dt];Dt+=1}return null}function vt(Ut,It){var Dt=gt(Ut,It);return Dt?Dt.layers.__used?JSON.parse(JSON.stringify(Dt.layers)):(Dt.layers.__used=!0,Dt.layers):null}function St(Ut){var It,Dt=Ut.length,Tt,Rt;for(It=Dt-1;It>=0;It-=1)if(Ut[It].ty==="sh")if(Ut[It].ks.k.i)xt(Ut[It].ks.k);else for(Rt=Ut[It].ks.k.length,Tt=0;Tt<Rt;Tt+=1)Ut[It].ks.k[Tt].s&&xt(Ut[It].ks.k[Tt].s[0]),Ut[It].ks.k[Tt].e&&xt(Ut[It].ks.k[Tt].e[0]);else Ut[It].ty==="gr"&&St(Ut[It].it)}function xt(Ut){var It,Dt=Ut.i.length;for(It=0;It<Dt;It+=1)Ut.i[It][0]+=Ut.v[It][0],Ut.i[It][1]+=Ut.v[It][1],Ut.o[It][0]+=Ut.v[It][0],Ut.o[It][1]+=Ut.v[It][1]}function Ct(Ut,It){var Dt=It?It.split("."):[100,100,100];return Ut[0]>Dt[0]?!0:Dt[0]>Ut[0]?!1:Ut[1]>Dt[1]?!0:Dt[1]>Ut[1]?!1:Ut[2]>Dt[2]?!0:Dt[2]>Ut[2]?!1:null}var wt=function(){var Ut=[4,4,14];function It(Tt){var Rt=Tt.t.d;Tt.t.d={k:[{s:Rt,t:0}]}}function Dt(Tt){var Rt,Ft=Tt.length;for(Rt=0;Rt<Ft;Rt+=1)Tt[Rt].ty===5&&It(Tt[Rt])}return function(Tt){if(Ct(Ut,Tt.v)&&(Dt(Tt.layers),Tt.assets)){var Rt,Ft=Tt.assets.length;for(Rt=0;Rt<Ft;Rt+=1)Tt.assets[Rt].layers&&Dt(Tt.assets[Rt].layers)}}}(),_t=function(){var Ut=[4,7,99];return function(It){if(It.chars&&!Ct(Ut,It.v)){var Dt,Tt=It.chars.length;for(Dt=0;Dt<Tt;Dt+=1){var Rt=It.chars[Dt];Rt.data&&Rt.data.shapes&&(St(Rt.data.shapes),Rt.data.ip=0,Rt.data.op=99999,Rt.data.st=0,Rt.data.sr=1,Rt.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},It.chars[Dt].t||(Rt.data.shapes.push({ty:"no"}),Rt.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),Ot=function(){var Ut=[5,7,15];function It(Tt){var Rt=Tt.t.p;typeof Rt.a=="number"&&(Rt.a={a:0,k:Rt.a}),typeof Rt.p=="number"&&(Rt.p={a:0,k:Rt.p}),typeof Rt.r=="number"&&(Rt.r={a:0,k:Rt.r})}function Dt(Tt){var Rt,Ft=Tt.length;for(Rt=0;Rt<Ft;Rt+=1)Tt[Rt].ty===5&&It(Tt[Rt])}return function(Tt){if(Ct(Ut,Tt.v)&&(Dt(Tt.layers),Tt.assets)){var Rt,Ft=Tt.assets.length;for(Rt=0;Rt<Ft;Rt+=1)Tt.assets[Rt].layers&&Dt(Tt.assets[Rt].layers)}}}(),kt=function(){var Ut=[4,1,9];function It(Tt){var Rt,Ft=Tt.length,jt,nr;for(Rt=0;Rt<Ft;Rt+=1)if(Tt[Rt].ty==="gr")It(Tt[Rt].it);else if(Tt[Rt].ty==="fl"||Tt[Rt].ty==="st")if(Tt[Rt].c.k&&Tt[Rt].c.k[0].i)for(nr=Tt[Rt].c.k.length,jt=0;jt<nr;jt+=1)Tt[Rt].c.k[jt].s&&(Tt[Rt].c.k[jt].s[0]/=255,Tt[Rt].c.k[jt].s[1]/=255,Tt[Rt].c.k[jt].s[2]/=255,Tt[Rt].c.k[jt].s[3]/=255),Tt[Rt].c.k[jt].e&&(Tt[Rt].c.k[jt].e[0]/=255,Tt[Rt].c.k[jt].e[1]/=255,Tt[Rt].c.k[jt].e[2]/=255,Tt[Rt].c.k[jt].e[3]/=255);else Tt[Rt].c.k[0]/=255,Tt[Rt].c.k[1]/=255,Tt[Rt].c.k[2]/=255,Tt[Rt].c.k[3]/=255}function Dt(Tt){var Rt,Ft=Tt.length;for(Rt=0;Rt<Ft;Rt+=1)Tt[Rt].ty===4&&It(Tt[Rt].shapes)}return function(Tt){if(Ct(Ut,Tt.v)&&(Dt(Tt.layers),Tt.assets)){var Rt,Ft=Tt.assets.length;for(Rt=0;Rt<Ft;Rt+=1)Tt.assets[Rt].layers&&Dt(Tt.assets[Rt].layers)}}}(),Lt=function(){var Ut=[4,4,18];function It(Tt){var Rt,Ft=Tt.length,jt,nr;for(Rt=Ft-1;Rt>=0;Rt-=1)if(Tt[Rt].ty==="sh")if(Tt[Rt].ks.k.i)Tt[Rt].ks.k.c=Tt[Rt].closed;else for(nr=Tt[Rt].ks.k.length,jt=0;jt<nr;jt+=1)Tt[Rt].ks.k[jt].s&&(Tt[Rt].ks.k[jt].s[0].c=Tt[Rt].closed),Tt[Rt].ks.k[jt].e&&(Tt[Rt].ks.k[jt].e[0].c=Tt[Rt].closed);else Tt[Rt].ty==="gr"&&It(Tt[Rt].it)}function Dt(Tt){var Rt,Ft,jt=Tt.length,nr,cr,ur,pr;for(Ft=0;Ft<jt;Ft+=1){if(Rt=Tt[Ft],Rt.hasMask){var xr=Rt.masksProperties;for(cr=xr.length,nr=0;nr<cr;nr+=1)if(xr[nr].pt.k.i)xr[nr].pt.k.c=xr[nr].cl;else for(pr=xr[nr].pt.k.length,ur=0;ur<pr;ur+=1)xr[nr].pt.k[ur].s&&(xr[nr].pt.k[ur].s[0].c=xr[nr].cl),xr[nr].pt.k[ur].e&&(xr[nr].pt.k[ur].e[0].c=xr[nr].cl)}Rt.ty===4&&It(Rt.shapes)}}return function(Tt){if(Ct(Ut,Tt.v)&&(Dt(Tt.layers),Tt.assets)){var Rt,Ft=Tt.assets.length;for(Rt=0;Rt<Ft;Rt+=1)Tt.assets[Rt].layers&&Dt(Tt.assets[Rt].layers)}}}();function $t(Ut){Ut.__complete||(kt(Ut),wt(Ut),_t(Ut),Ot(Ut),Lt(Ut),yt(Ut.layers,Ut.assets),mt(Ut.chars,Ut.assets),Ut.__complete=!0)}function zt(Ut){Ut.t.a.length===0&&"m"in Ut.t.p}var Vt={};return Vt.completeData=$t,Vt.checkColors=kt,Vt.checkChars=_t,Vt.checkPathProperties=Ot,Vt.checkShapes=Lt,Vt.completeLayers=yt,Vt}if(it.dataManager||(it.dataManager=pt()),it.assetLoader||(it.assetLoader=function(){function yt(gt){var vt=gt.getResponseHeader("content-type");return vt&&gt.responseType==="json"&&vt.indexOf("json")!==-1||gt.response&&_typeof$5(gt.response)==="object"?gt.response:gt.response&&typeof gt.response=="string"?JSON.parse(gt.response):gt.responseText?JSON.parse(gt.responseText):null}function mt(gt,vt,St,xt){var Ct,wt=new XMLHttpRequest;try{wt.responseType="json"}catch{}wt.onreadystatechange=function(){if(wt.readyState===4)if(wt.status===200)Ct=yt(wt),St(Ct);else try{Ct=yt(wt),St(Ct)}catch(_t){xt&&xt(_t)}};try{wt.open(["G","E","T"].join(""),gt,!0)}catch{wt.open(["G","E","T"].join(""),vt+"/"+gt,!0)}wt.send()}return{load:mt}}()),ft.data.type==="loadAnimation")it.assetLoader.load(ft.data.path,ft.data.fullPath,function(yt){it.dataManager.completeData(yt),it.postMessage({id:ft.data.id,payload:yt,status:"success"})},function(){it.postMessage({id:ft.data.id,status:"error"})});else if(ft.data.type==="complete"){var ht=ft.data.animation;it.dataManager.completeData(ht),it.postMessage({id:ft.data.id,payload:ht,status:"success"})}else ft.data.type==="loadData"&&it.assetLoader.load(ft.data.path,ft.data.fullPath,function(yt){it.postMessage({id:ft.data.id,payload:yt,status:"success"})},function(){it.postMessage({id:ft.data.id,status:"error"})})}),rt.onmessage=function(dt){var ft=dt.data,pt=ft.id,ht=et[pt];et[pt]=null,ft.status==="success"?ht.onComplete(ft.payload):ht.onError&&ht.onError()})}function st(dt,ft){_e+=1;var pt="processId_"+_e;return et[pt]={onComplete:dt,onError:ft},pt}function lt(dt,ft,pt){ot();var ht=st(ft,pt);rt.postMessage({type:"loadAnimation",path:dt,fullPath:window.location.origin+window.location.pathname,id:ht})}function ct(dt,ft,pt){ot();var ht=st(ft,pt);rt.postMessage({type:"loadData",path:dt,fullPath:window.location.origin+window.location.pathname,id:ht})}function ut(dt,ft,pt){ot();var ht=st(ft,pt);rt.postMessage({type:"complete",animation:dt,id:ht})}return{loadAnimation:lt,loadData:ct,completeAnimation:ut}}(),ImagePreloader=function(){var _e=function(){var mt=createTag("canvas");mt.width=1,mt.height=1;var gt=mt.getContext("2d");return gt.fillStyle="rgba(0,0,0,0)",gt.fillRect(0,0,1,1),mt}();function et(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function tt(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function rt(mt,gt,vt){var St="";if(mt.e)St=mt.p;else if(gt){var xt=mt.p;xt.indexOf("images/")!==-1&&(xt=xt.split("/")[1]),St=gt+xt}else St=vt,St+=mt.u?mt.u:"",St+=mt.p;return St}function nt(mt){var gt=0,vt=setInterval((function(){var St=mt.getBBox();(St.width||gt>500)&&(this._imageLoaded(),clearInterval(vt)),gt+=1}).bind(this),50)}function it(mt){var gt=rt(mt,this.assetsPath,this.path),vt=createNS("image");isSafari?this.testImageLoaded(vt):vt.addEventListener("load",this._imageLoaded,!1),vt.addEventListener("error",(function(){St.img=_e,this._imageLoaded()}).bind(this),!1),vt.setAttributeNS("http://www.w3.org/1999/xlink","href",gt),this._elementHelper.append?this._elementHelper.append(vt):this._elementHelper.appendChild(vt);var St={img:vt,assetData:mt};return St}function at(mt){var gt=rt(mt,this.assetsPath,this.path),vt=createTag("img");vt.crossOrigin="anonymous",vt.addEventListener("load",this._imageLoaded,!1),vt.addEventListener("error",(function(){St.img=_e,this._imageLoaded()}).bind(this),!1),vt.src=gt;var St={img:vt,assetData:mt};return St}function ot(mt){var gt={assetData:mt},vt=rt(mt,this.assetsPath,this.path);return dataManager.loadData(vt,(function(St){gt.img=St,this._footageLoaded()}).bind(this),(function(){gt.img={},this._footageLoaded()}).bind(this)),gt}function st(mt,gt){this.imagesLoadedCb=gt;var vt,St=mt.length;for(vt=0;vt<St;vt+=1)mt[vt].layers||(!mt[vt].t||mt[vt].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(mt[vt]))):mt[vt].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(mt[vt]))))}function lt(mt){this.path=mt||""}function ct(mt){this.assetsPath=mt||""}function ut(mt){for(var gt=0,vt=this.images.length;gt<vt;){if(this.images[gt].assetData===mt)return this.images[gt].img;gt+=1}return null}function dt(){this.imagesLoadedCb=null,this.images.length=0}function ft(){return this.totalImages===this.loadedAssets}function pt(){return this.totalFootages===this.loadedFootagesCount}function ht(mt,gt){mt==="svg"?(this._elementHelper=gt,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function yt(){this._imageLoaded=et.bind(this),this._footageLoaded=tt.bind(this),this.testImageLoaded=nt.bind(this),this.createFootageData=ot.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return yt.prototype={loadAssets:st,setAssetsPath:ct,setPath:lt,loadedImages:ft,loadedFootages:pt,destroy:dt,getAsset:ut,createImgData:at,createImageData:it,imageLoaded:et,footageLoaded:tt,setCacheType:ht},yt}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(et,tt){if(this._cbs[et])for(var rt=this._cbs[et],nt=0;nt<rt.length;nt+=1)rt[nt](tt)},addEventListener:function(et,tt){return this._cbs[et]||(this._cbs[et]=[]),this._cbs[et].push(tt),(function(){this.removeEventListener(et,tt)}).bind(this)},removeEventListener:function(et,tt){if(!tt)this._cbs[et]=null;else if(this._cbs[et]){for(var rt=0,nt=this._cbs[et].length;rt<nt;)this._cbs[et][rt]===tt&&(this._cbs[et].splice(rt,1),rt-=1,nt-=1),rt+=1;this._cbs[et].length||(this._cbs[et]=null)}}};var markerParser=function(){function _e(et){for(var tt=et.split(`\r
`),rt={},nt,it=0,at=0;at<tt.length;at+=1)nt=tt[at].split(":"),nt.length===2&&(rt[nt[0]]=nt[1].trim(),it+=1);if(it===0)throw new Error;return rt}return function(et){for(var tt=[],rt=0;rt<et.length;rt+=1){var nt=et[rt],it={time:nt.tm,duration:nt.dr};try{it.payload=JSON.parse(et[rt].cm)}catch{try{it.payload=_e(et[rt].cm)}catch{it.payload={name:et[rt].cm}}}tt.push(it)}return tt}}(),ProjectInterface=function(){function _e(et){this.compositions.push(et)}return function(){function et(tt){for(var rt=0,nt=this.compositions.length;rt<nt;){if(this.compositions[rt].data&&this.compositions[rt].data.nm===tt)return this.compositions[rt].prepareFrame&&this.compositions[rt].data.xt&&this.compositions[rt].prepareFrame(this.currentFrame),this.compositions[rt].compInterface;rt+=1}return null}return et.compositions=[],et.currentFrame=0,et.registerComposition=_e,et}}(),renderers={},registerRenderer=function(et,tt){renderers[et]=tt};function getRenderer(_e){return renderers[_e]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var _e in renderers)if(renderers[_e])return _e;return""}function _typeof$4(_e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(tt){return typeof tt}:_typeof$4=function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$4(_e)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(_e){(_e.wrapper||_e.container)&&(this.wrapper=_e.wrapper||_e.container);var et="svg";_e.animType?et=_e.animType:_e.renderer&&(et=_e.renderer);var tt=getRenderer(et);this.renderer=new tt(this,_e.rendererSettings),this.imagePreloader.setCacheType(et,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=et,_e.loop===""||_e.loop===null||_e.loop===void 0||_e.loop===!0?this.loop=!0:_e.loop===!1?this.loop=!1:this.loop=parseInt(_e.loop,10),this.autoplay="autoplay"in _e?_e.autoplay:!0,this.name=_e.name?_e.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(_e,"autoloadSegments")?_e.autoloadSegments:!0,this.assetsPath=_e.assetsPath,this.initialSegment=_e.initialSegment,_e.audioFactory&&this.audioController.setAudioFactory(_e.audioFactory),_e.animationData?this.setupAnimation(_e.animationData):_e.path&&(_e.path.lastIndexOf("\\")!==-1?this.path=_e.path.substr(0,_e.path.lastIndexOf("\\")+1):this.path=_e.path.substr(0,_e.path.lastIndexOf("/")+1),this.fileName=_e.path.substr(_e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(_e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(_e){dataManager.completeAnimation(_e,this.configAnimation)},AnimationItem.prototype.setData=function(_e,et){et&&_typeof$4(et)!=="object"&&(et=JSON.parse(et));var tt={wrapper:_e,animationData:et},rt=_e.attributes;tt.path=rt.getNamedItem("data-animation-path")?rt.getNamedItem("data-animation-path").value:rt.getNamedItem("data-bm-path")?rt.getNamedItem("data-bm-path").value:rt.getNamedItem("bm-path")?rt.getNamedItem("bm-path").value:"",tt.animType=rt.getNamedItem("data-anim-type")?rt.getNamedItem("data-anim-type").value:rt.getNamedItem("data-bm-type")?rt.getNamedItem("data-bm-type").value:rt.getNamedItem("bm-type")?rt.getNamedItem("bm-type").value:rt.getNamedItem("data-bm-renderer")?rt.getNamedItem("data-bm-renderer").value:rt.getNamedItem("bm-renderer")?rt.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var nt=rt.getNamedItem("data-anim-loop")?rt.getNamedItem("data-anim-loop").value:rt.getNamedItem("data-bm-loop")?rt.getNamedItem("data-bm-loop").value:rt.getNamedItem("bm-loop")?rt.getNamedItem("bm-loop").value:"";nt==="false"?tt.loop=!1:nt==="true"?tt.loop=!0:nt!==""&&(tt.loop=parseInt(nt,10));var it=rt.getNamedItem("data-anim-autoplay")?rt.getNamedItem("data-anim-autoplay").value:rt.getNamedItem("data-bm-autoplay")?rt.getNamedItem("data-bm-autoplay").value:rt.getNamedItem("bm-autoplay")?rt.getNamedItem("bm-autoplay").value:!0;tt.autoplay=it!=="false",tt.name=rt.getNamedItem("data-name")?rt.getNamedItem("data-name").value:rt.getNamedItem("data-bm-name")?rt.getNamedItem("data-bm-name").value:rt.getNamedItem("bm-name")?rt.getNamedItem("bm-name").value:"";var at=rt.getNamedItem("data-anim-prerender")?rt.getNamedItem("data-anim-prerender").value:rt.getNamedItem("data-bm-prerender")?rt.getNamedItem("data-bm-prerender").value:rt.getNamedItem("bm-prerender")?rt.getNamedItem("bm-prerender").value:"";at==="false"&&(tt.prerender=!1),tt.path?this.setParams(tt):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(_e){_e.op>this.animationData.op&&(this.animationData.op=_e.op,this.totalFrames=Math.floor(_e.op-this.animationData.ip));var et=this.animationData.layers,tt,rt=et.length,nt=_e.layers,it,at=nt.length;for(it=0;it<at;it+=1)for(tt=0;tt<rt;){if(et[tt].id===nt[it].id){et[tt]=nt[it];break}tt+=1}if((_e.chars||_e.fonts)&&(this.renderer.globalData.fontManager.addChars(_e.chars),this.renderer.globalData.fontManager.addFonts(_e.fonts,this.renderer.globalData.defs)),_e.assets)for(rt=_e.assets.length,tt=0;tt<rt;tt+=1)this.animationData.assets.push(_e.assets[tt]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(_e){this.animationData=_e;var et=getExpressionsPlugin();et&&et.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var _e=this.animationData.segments;if(!_e||_e.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var et=_e.shift();this.timeCompleted=et.time*this.frameRate;var tt=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(tt,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var _e=this.animationData.segments;_e||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(_e){if(this.renderer)try{this.animationData=_e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(_e),_e.assets||(_e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(_e.assets),this.markers=markerParser(_e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(et){this.triggerConfigError(et)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var _e=getExpressionsPlugin();_e&&_e.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(_e,et){var tt=typeof _e=="number"?_e:void 0,rt=typeof et=="number"?et:void 0;this.renderer.updateContainerSize(tt,rt)},AnimationItem.prototype.setSubframe=function(_e){this.isSubframeEnabled=!!_e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(_e){this.triggerRenderFrameError(_e)}},AnimationItem.prototype.play=function(_e){_e&&this.name!==_e||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(_e){_e&&this.name!==_e||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(_e){_e&&this.name!==_e||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(_e){_e&&this.name!==_e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(_e){for(var et,tt=0;tt<this.markers.length;tt+=1)if(et=this.markers[tt],et.payload&&et.payload.name===_e)return et;return null},AnimationItem.prototype.goToAndStop=function(_e,et,tt){if(!(tt&&this.name!==tt)){var rt=Number(_e);if(isNaN(rt)){var nt=this.getMarkerData(_e);nt&&this.goToAndStop(nt.time,!0)}else et?this.setCurrentRawFrameValue(_e):this.setCurrentRawFrameValue(_e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(_e,et,tt){if(!(tt&&this.name!==tt)){var rt=Number(_e);if(isNaN(rt)){var nt=this.getMarkerData(_e);nt&&(nt.duration?this.playSegments([nt.time,nt.time+nt.duration],!0):this.goToAndStop(nt.time,!0))}else this.goToAndStop(rt,et,tt);this.play()}},AnimationItem.prototype.advanceTime=function(_e){if(!(this.isPaused===!0||this.isLoaded===!1)){var et=this.currentRawFrame+_e*this.frameModifier,tt=!1;et>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(et>this.totalFrames?et%this.totalFrames:0)||(tt=!0,et=this.totalFrames-1):et>=this.totalFrames?(this.playCount+=1,this.checkSegments(et%this.totalFrames)||(this.setCurrentRawFrameValue(et%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(et):et<0?this.checkSegments(et%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+et%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(tt=!0,et=0)):this.setCurrentRawFrameValue(et),tt&&(this.setCurrentRawFrameValue(et),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(_e,et){this.playCount=0,_e[1]<_e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=_e[0]-_e[1],this.timeCompleted=this.totalFrames,this.firstFrame=_e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-et)):_e[1]>_e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=_e[1]-_e[0],this.timeCompleted=this.totalFrames,this.firstFrame=_e[0],this.setCurrentRawFrameValue(.001+et)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(_e,et){var tt=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<_e?tt=_e:this.currentRawFrame+this.firstFrame>et&&(tt=et-_e)),this.firstFrame=_e,this.totalFrames=et-_e,this.timeCompleted=this.totalFrames,tt!==-1&&this.goToAndStop(tt,!0)},AnimationItem.prototype.playSegments=function(_e,et){if(et&&(this.segments.length=0),_typeof$4(_e[0])==="object"){var tt,rt=_e.length;for(tt=0;tt<rt;tt+=1)this.segments.push(_e[tt])}else this.segments.push(_e);this.segments.length&&et&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(_e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),_e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(_e){return this.segments.length?(this.adjustSegment(this.segments.shift(),_e),!0):!1},AnimationItem.prototype.destroy=function(_e){_e&&this.name!==_e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(_e){this.currentRawFrame=_e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(_e){this.playSpeed=_e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(_e){this.playDirection=_e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(_e){this.loop=_e},AnimationItem.prototype.setVolume=function(_e,et){et&&this.name!==et||this.audioController.setVolume(_e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(_e){_e&&this.name!==_e||this.audioController.mute()},AnimationItem.prototype.unmute=function(_e){_e&&this.name!==_e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(_e){var et="";if(_e.e)et=_e.p;else if(this.assetsPath){var tt=_e.p;tt.indexOf("images/")!==-1&&(tt=tt.split("/")[1]),et=this.assetsPath+tt}else et=this.path,et+=_e.u?_e.u:"",et+=_e.p;return et},AnimationItem.prototype.getAssetData=function(_e){for(var et=0,tt=this.assets.length;et<tt;){if(_e===this.assets[et].id)return this.assets[et];et+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(_e){return _e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(_e,et,tt){try{var rt=this.renderer.getElementByPath(_e);rt.updateDocumentData(et,tt)}catch{}},AnimationItem.prototype.trigger=function(_e){if(this._cbs&&this._cbs[_e])switch(_e){case"enterFrame":this.triggerEvent(_e,new BMEnterFrameEvent(_e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(_e,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(_e,new BMCompleteLoopEvent(_e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(_e,new BMCompleteEvent(_e,this.frameMult));break;case"segmentStart":this.triggerEvent(_e,new BMSegmentStartEvent(_e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(_e,new BMDestroyEvent(_e,this));break;default:this.triggerEvent(_e)}_e==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(_e,this.currentFrame,this.totalFrames,this.frameMult)),_e==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(_e,this.loop,this.playCount,this.frameMult)),_e==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(_e,this.frameMult)),_e==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(_e,this.firstFrame,this.totalFrames)),_e==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(_e,this))},AnimationItem.prototype.triggerRenderFrameError=function(_e){var et=new BMRenderFrameErrorEvent(_e,this.currentFrame);this.triggerEvent("error",et),this.onError&&this.onError.call(this,et)},AnimationItem.prototype.triggerConfigError=function(_e){var et=new BMConfigErrorEvent(_e,this.currentFrame);this.triggerEvent("error",et),this.onError&&this.onError.call(this,et)};var animationManager=function(){var _e={},et=[],tt=0,rt=0,nt=0,it=!0,at=!1;function ot(It){for(var Dt=0,Tt=It.target;Dt<rt;)et[Dt].animation===Tt&&(et.splice(Dt,1),Dt-=1,rt-=1,Tt.isPaused||ut()),Dt+=1}function st(It,Dt){if(!It)return null;for(var Tt=0;Tt<rt;){if(et[Tt].elem===It&&et[Tt].elem!==null)return et[Tt].animation;Tt+=1}var Rt=new AnimationItem;return dt(Rt,It),Rt.setData(It,Dt),Rt}function lt(){var It,Dt=et.length,Tt=[];for(It=0;It<Dt;It+=1)Tt.push(et[It].animation);return Tt}function ct(){nt+=1,kt()}function ut(){nt-=1}function dt(It,Dt){It.addEventListener("destroy",ot),It.addEventListener("_active",ct),It.addEventListener("_idle",ut),et.push({elem:Dt,animation:It}),rt+=1}function ft(It){var Dt=new AnimationItem;return dt(Dt,null),Dt.setParams(It),Dt}function pt(It,Dt){var Tt;for(Tt=0;Tt<rt;Tt+=1)et[Tt].animation.setSpeed(It,Dt)}function ht(It,Dt){var Tt;for(Tt=0;Tt<rt;Tt+=1)et[Tt].animation.setDirection(It,Dt)}function yt(It){var Dt;for(Dt=0;Dt<rt;Dt+=1)et[Dt].animation.play(It)}function mt(It){var Dt=It-tt,Tt;for(Tt=0;Tt<rt;Tt+=1)et[Tt].animation.advanceTime(Dt);tt=It,nt&&!at?window.requestAnimationFrame(mt):it=!0}function gt(It){tt=It,window.requestAnimationFrame(mt)}function vt(It){var Dt;for(Dt=0;Dt<rt;Dt+=1)et[Dt].animation.pause(It)}function St(It,Dt,Tt){var Rt;for(Rt=0;Rt<rt;Rt+=1)et[Rt].animation.goToAndStop(It,Dt,Tt)}function xt(It){var Dt;for(Dt=0;Dt<rt;Dt+=1)et[Dt].animation.stop(It)}function Ct(It){var Dt;for(Dt=0;Dt<rt;Dt+=1)et[Dt].animation.togglePause(It)}function wt(It){var Dt;for(Dt=rt-1;Dt>=0;Dt-=1)et[Dt].animation.destroy(It)}function _t(It,Dt,Tt){var Rt=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Ft,jt=Rt.length;for(Ft=0;Ft<jt;Ft+=1)Tt&&Rt[Ft].setAttribute("data-bm-type",Tt),st(Rt[Ft],It);if(Dt&&jt===0){Tt||(Tt="svg");var nr=document.getElementsByTagName("body")[0];nr.innerText="";var cr=createTag("div");cr.style.width="100%",cr.style.height="100%",cr.setAttribute("data-bm-type",Tt),nr.appendChild(cr),st(cr,It)}}function Ot(){var It;for(It=0;It<rt;It+=1)et[It].animation.resize()}function kt(){!at&&nt&&it&&(window.requestAnimationFrame(gt),it=!1)}function Lt(){at=!0}function $t(){at=!1,kt()}function zt(It,Dt){var Tt;for(Tt=0;Tt<rt;Tt+=1)et[Tt].animation.setVolume(It,Dt)}function Vt(It){var Dt;for(Dt=0;Dt<rt;Dt+=1)et[Dt].animation.mute(It)}function Ut(It){var Dt;for(Dt=0;Dt<rt;Dt+=1)et[Dt].animation.unmute(It)}return _e.registerAnimation=st,_e.loadAnimation=ft,_e.setSpeed=pt,_e.setDirection=ht,_e.play=yt,_e.pause=vt,_e.stop=xt,_e.togglePause=Ct,_e.searchAnimations=_t,_e.resize=Ot,_e.goToAndStop=St,_e.destroy=wt,_e.freeze=Lt,_e.unfreeze=$t,_e.setVolume=zt,_e.mute=Vt,_e.unmute=Ut,_e.getRegisteredAnimations=lt,_e}(),BezierFactory=function(){var _e={};_e.getBezierEasing=tt;var et={};function tt(gt,vt,St,xt,Ct){var wt=Ct||("bez_"+gt+"_"+vt+"_"+St+"_"+xt).replace(/\./g,"p");if(et[wt])return et[wt];var _t=new mt([gt,vt,St,xt]);return et[wt]=_t,_t}var rt=4,nt=.001,it=1e-7,at=10,ot=11,st=1/(ot-1),lt=typeof Float32Array=="function";function ct(gt,vt){return 1-3*vt+3*gt}function ut(gt,vt){return 3*vt-6*gt}function dt(gt){return 3*gt}function ft(gt,vt,St){return((ct(vt,St)*gt+ut(vt,St))*gt+dt(vt))*gt}function pt(gt,vt,St){return 3*ct(vt,St)*gt*gt+2*ut(vt,St)*gt+dt(vt)}function ht(gt,vt,St,xt,Ct){var wt,_t,Ot=0;do _t=vt+(St-vt)/2,wt=ft(_t,xt,Ct)-gt,wt>0?St=_t:vt=_t;while(Math.abs(wt)>it&&++Ot<at);return _t}function yt(gt,vt,St,xt){for(var Ct=0;Ct<rt;++Ct){var wt=pt(vt,St,xt);if(wt===0)return vt;var _t=ft(vt,St,xt)-gt;vt-=_t/wt}return vt}function mt(gt){this._p=gt,this._mSampleValues=lt?new Float32Array(ot):new Array(ot),this._precomputed=!1,this.get=this.get.bind(this)}return mt.prototype={get:function(vt){var St=this._p[0],xt=this._p[1],Ct=this._p[2],wt=this._p[3];return this._precomputed||this._precompute(),St===xt&&Ct===wt?vt:vt===0?0:vt===1?1:ft(this._getTForX(vt),xt,wt)},_precompute:function(){var vt=this._p[0],St=this._p[1],xt=this._p[2],Ct=this._p[3];this._precomputed=!0,(vt!==St||xt!==Ct)&&this._calcSampleValues()},_calcSampleValues:function(){for(var vt=this._p[0],St=this._p[2],xt=0;xt<ot;++xt)this._mSampleValues[xt]=ft(xt*st,vt,St)},_getTForX:function(vt){for(var St=this._p[0],xt=this._p[2],Ct=this._mSampleValues,wt=0,_t=1,Ot=ot-1;_t!==Ot&&Ct[_t]<=vt;++_t)wt+=st;--_t;var kt=(vt-Ct[_t])/(Ct[_t+1]-Ct[_t]),Lt=wt+kt*st,$t=pt(Lt,St,xt);return $t>=nt?yt(vt,Lt,St,xt):$t===0?Lt:ht(vt,wt,wt+st,St,xt)}},_e}(),pooling=function(){function _e(et){return et.concat(createSizedArray(et.length))}return{double:_e}}(),poolFactory=function(){return function(_e,et,tt){var rt=0,nt=_e,it=createSizedArray(nt),at={newElement:ot,release:st};function ot(){var lt;return rt?(rt-=1,lt=it[rt]):lt=et(),lt}function st(lt){rt===nt&&(it=pooling.double(it),nt*=2),tt&&tt(lt),it[rt]=lt,rt+=1}return at}}(),bezierLengthPool=function(){function _e(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,_e)}(),segmentsLengthPool=function(){function _e(){return{lengths:[],totalLength:0}}function et(tt){var rt,nt=tt.lengths.length;for(rt=0;rt<nt;rt+=1)bezierLengthPool.release(tt.lengths[rt]);tt.lengths.length=0}return poolFactory(8,_e,et)}();function bezFunction(){var _e=Math;function et(dt,ft,pt,ht,yt,mt){var gt=dt*ht+ft*yt+pt*mt-yt*ht-mt*dt-pt*ft;return gt>-.001&&gt<.001}function tt(dt,ft,pt,ht,yt,mt,gt,vt,St){if(pt===0&&mt===0&&St===0)return et(dt,ft,ht,yt,gt,vt);var xt=_e.sqrt(_e.pow(ht-dt,2)+_e.pow(yt-ft,2)+_e.pow(mt-pt,2)),Ct=_e.sqrt(_e.pow(gt-dt,2)+_e.pow(vt-ft,2)+_e.pow(St-pt,2)),wt=_e.sqrt(_e.pow(gt-ht,2)+_e.pow(vt-yt,2)+_e.pow(St-mt,2)),_t;return xt>Ct?xt>wt?_t=xt-Ct-wt:_t=wt-Ct-xt:wt>Ct?_t=wt-Ct-xt:_t=Ct-xt-wt,_t>-1e-4&&_t<1e-4}var rt=function(){return function(dt,ft,pt,ht){var yt=getDefaultCurveSegments(),mt,gt,vt,St,xt,Ct=0,wt,_t=[],Ot=[],kt=bezierLengthPool.newElement();for(vt=pt.length,mt=0;mt<yt;mt+=1){for(xt=mt/(yt-1),wt=0,gt=0;gt<vt;gt+=1)St=bmPow(1-xt,3)*dt[gt]+3*bmPow(1-xt,2)*xt*pt[gt]+3*(1-xt)*bmPow(xt,2)*ht[gt]+bmPow(xt,3)*ft[gt],_t[gt]=St,Ot[gt]!==null&&(wt+=bmPow(_t[gt]-Ot[gt],2)),Ot[gt]=_t[gt];wt&&(wt=bmSqrt(wt),Ct+=wt),kt.percents[mt]=xt,kt.lengths[mt]=Ct}return kt.addedLength=Ct,kt}}();function nt(dt){var ft=segmentsLengthPool.newElement(),pt=dt.c,ht=dt.v,yt=dt.o,mt=dt.i,gt,vt=dt._length,St=ft.lengths,xt=0;for(gt=0;gt<vt-1;gt+=1)St[gt]=rt(ht[gt],ht[gt+1],yt[gt],mt[gt+1]),xt+=St[gt].addedLength;return pt&&vt&&(St[gt]=rt(ht[gt],ht[0],yt[gt],mt[0]),xt+=St[gt].addedLength),ft.totalLength=xt,ft}function it(dt){this.segmentLength=0,this.points=new Array(dt)}function at(dt,ft){this.partialLength=dt,this.point=ft}var ot=function(){var dt={};return function(ft,pt,ht,yt){var mt=(ft[0]+"_"+ft[1]+"_"+pt[0]+"_"+pt[1]+"_"+ht[0]+"_"+ht[1]+"_"+yt[0]+"_"+yt[1]).replace(/\./g,"p");if(!dt[mt]){var gt=getDefaultCurveSegments(),vt,St,xt,Ct,wt,_t=0,Ot,kt,Lt=null;ft.length===2&&(ft[0]!==pt[0]||ft[1]!==pt[1])&&et(ft[0],ft[1],pt[0],pt[1],ft[0]+ht[0],ft[1]+ht[1])&&et(ft[0],ft[1],pt[0],pt[1],pt[0]+yt[0],pt[1]+yt[1])&&(gt=2);var $t=new it(gt);for(xt=ht.length,vt=0;vt<gt;vt+=1){for(kt=createSizedArray(xt),wt=vt/(gt-1),Ot=0,St=0;St<xt;St+=1)Ct=bmPow(1-wt,3)*ft[St]+3*bmPow(1-wt,2)*wt*(ft[St]+ht[St])+3*(1-wt)*bmPow(wt,2)*(pt[St]+yt[St])+bmPow(wt,3)*pt[St],kt[St]=Ct,Lt!==null&&(Ot+=bmPow(kt[St]-Lt[St],2));Ot=bmSqrt(Ot),_t+=Ot,$t.points[vt]=new at(Ot,kt),Lt=kt}$t.segmentLength=_t,dt[mt]=$t}return dt[mt]}}();function st(dt,ft){var pt=ft.percents,ht=ft.lengths,yt=pt.length,mt=bmFloor((yt-1)*dt),gt=dt*ft.addedLength,vt=0;if(mt===yt-1||mt===0||gt===ht[mt])return pt[mt];for(var St=ht[mt]>gt?-1:1,xt=!0;xt;)if(ht[mt]<=gt&&ht[mt+1]>gt?(vt=(gt-ht[mt])/(ht[mt+1]-ht[mt]),xt=!1):mt+=St,mt<0||mt>=yt-1){if(mt===yt-1)return pt[mt];xt=!1}return pt[mt]+(pt[mt+1]-pt[mt])*vt}function lt(dt,ft,pt,ht,yt,mt){var gt=st(yt,mt),vt=1-gt,St=_e.round((vt*vt*vt*dt[0]+(gt*vt*vt+vt*gt*vt+vt*vt*gt)*pt[0]+(gt*gt*vt+vt*gt*gt+gt*vt*gt)*ht[0]+gt*gt*gt*ft[0])*1e3)/1e3,xt=_e.round((vt*vt*vt*dt[1]+(gt*vt*vt+vt*gt*vt+vt*vt*gt)*pt[1]+(gt*gt*vt+vt*gt*gt+gt*vt*gt)*ht[1]+gt*gt*gt*ft[1])*1e3)/1e3;return[St,xt]}var ct=createTypedArray("float32",8);function ut(dt,ft,pt,ht,yt,mt,gt){yt<0?yt=0:yt>1&&(yt=1);var vt=st(yt,gt);mt=mt>1?1:mt;var St=st(mt,gt),xt,Ct=dt.length,wt=1-vt,_t=1-St,Ot=wt*wt*wt,kt=vt*wt*wt*3,Lt=vt*vt*wt*3,$t=vt*vt*vt,zt=wt*wt*_t,Vt=vt*wt*_t+wt*vt*_t+wt*wt*St,Ut=vt*vt*_t+wt*vt*St+vt*wt*St,It=vt*vt*St,Dt=wt*_t*_t,Tt=vt*_t*_t+wt*St*_t+wt*_t*St,Rt=vt*St*_t+wt*St*St+vt*_t*St,Ft=vt*St*St,jt=_t*_t*_t,nr=St*_t*_t+_t*St*_t+_t*_t*St,cr=St*St*_t+_t*St*St+St*_t*St,ur=St*St*St;for(xt=0;xt<Ct;xt+=1)ct[xt*4]=_e.round((Ot*dt[xt]+kt*pt[xt]+Lt*ht[xt]+$t*ft[xt])*1e3)/1e3,ct[xt*4+1]=_e.round((zt*dt[xt]+Vt*pt[xt]+Ut*ht[xt]+It*ft[xt])*1e3)/1e3,ct[xt*4+2]=_e.round((Dt*dt[xt]+Tt*pt[xt]+Rt*ht[xt]+Ft*ft[xt])*1e3)/1e3,ct[xt*4+3]=_e.round((jt*dt[xt]+nr*pt[xt]+cr*ht[xt]+ur*ft[xt])*1e3)/1e3;return ct}return{getSegmentsLength:nt,getNewSegment:ut,getPointInSegment:lt,buildBezierData:ot,pointOnLine2D:et,pointOnLine3D:tt}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(_e,et){var tt=this.offsetTime,rt;this.propType==="multidimensional"&&(rt=createTypedArray("float32",this.pv.length));for(var nt=et.lastIndex,it=nt,at=this.keyframes.length-1,ot=!0,st,lt,ct;ot;){if(st=this.keyframes[it],lt=this.keyframes[it+1],it===at-1&&_e>=lt.t-tt){st.h&&(st=lt),nt=0;break}if(lt.t-tt>_e){nt=it;break}it<at-1?it+=1:(nt=0,ot=!1)}ct=this.keyframesMetadata[it]||{};var ut,dt,ft,pt,ht,yt,mt=lt.t-tt,gt=st.t-tt,vt;if(st.to){ct.bezierData||(ct.bezierData=bez.buildBezierData(st.s,lt.s||st.e,st.to,st.ti));var St=ct.bezierData;if(_e>=mt||_e<gt){var xt=_e>=mt?St.points.length-1:0;for(dt=St.points[xt].point.length,ut=0;ut<dt;ut+=1)rt[ut]=St.points[xt].point[ut]}else{ct.__fnct?yt=ct.__fnct:(yt=BezierFactory.getBezierEasing(st.o.x,st.o.y,st.i.x,st.i.y,st.n).get,ct.__fnct=yt),ft=yt((_e-gt)/(mt-gt));var Ct=St.segmentLength*ft,wt,_t=et.lastFrame<_e&&et._lastKeyframeIndex===it?et._lastAddedLength:0;for(ht=et.lastFrame<_e&&et._lastKeyframeIndex===it?et._lastPoint:0,ot=!0,pt=St.points.length;ot;){if(_t+=St.points[ht].partialLength,Ct===0||ft===0||ht===St.points.length-1){for(dt=St.points[ht].point.length,ut=0;ut<dt;ut+=1)rt[ut]=St.points[ht].point[ut];break}else if(Ct>=_t&&Ct<_t+St.points[ht+1].partialLength){for(wt=(Ct-_t)/St.points[ht+1].partialLength,dt=St.points[ht].point.length,ut=0;ut<dt;ut+=1)rt[ut]=St.points[ht].point[ut]+(St.points[ht+1].point[ut]-St.points[ht].point[ut])*wt;break}ht<pt-1?ht+=1:ot=!1}et._lastPoint=ht,et._lastAddedLength=_t-St.points[ht].partialLength,et._lastKeyframeIndex=it}}else{var Ot,kt,Lt,$t,zt;if(at=st.s.length,vt=lt.s||st.e,this.sh&&st.h!==1)if(_e>=mt)rt[0]=vt[0],rt[1]=vt[1],rt[2]=vt[2];else if(_e<=gt)rt[0]=st.s[0],rt[1]=st.s[1],rt[2]=st.s[2];else{var Vt=createQuaternion(st.s),Ut=createQuaternion(vt),It=(_e-gt)/(mt-gt);quaternionToEuler(rt,slerp(Vt,Ut,It))}else for(it=0;it<at;it+=1)st.h!==1&&(_e>=mt?ft=1:_e<gt?ft=0:(st.o.x.constructor===Array?(ct.__fnct||(ct.__fnct=[]),ct.__fnct[it]?yt=ct.__fnct[it]:(Ot=st.o.x[it]===void 0?st.o.x[0]:st.o.x[it],kt=st.o.y[it]===void 0?st.o.y[0]:st.o.y[it],Lt=st.i.x[it]===void 0?st.i.x[0]:st.i.x[it],$t=st.i.y[it]===void 0?st.i.y[0]:st.i.y[it],yt=BezierFactory.getBezierEasing(Ot,kt,Lt,$t).get,ct.__fnct[it]=yt)):ct.__fnct?yt=ct.__fnct:(Ot=st.o.x,kt=st.o.y,Lt=st.i.x,$t=st.i.y,yt=BezierFactory.getBezierEasing(Ot,kt,Lt,$t).get,st.keyframeMetadata=yt),ft=yt((_e-gt)/(mt-gt)))),vt=lt.s||st.e,zt=st.h===1?st.s[it]:st.s[it]+(vt[it]-st.s[it])*ft,this.propType==="multidimensional"?rt[it]=zt:rt=zt}return et.lastIndex=nt,rt}function slerp(_e,et,tt){var rt=[],nt=_e[0],it=_e[1],at=_e[2],ot=_e[3],st=et[0],lt=et[1],ct=et[2],ut=et[3],dt,ft,pt,ht,yt;return ft=nt*st+it*lt+at*ct+ot*ut,ft<0&&(ft=-ft,st=-st,lt=-lt,ct=-ct,ut=-ut),1-ft>1e-6?(dt=Math.acos(ft),pt=Math.sin(dt),ht=Math.sin((1-tt)*dt)/pt,yt=Math.sin(tt*dt)/pt):(ht=1-tt,yt=tt),rt[0]=ht*nt+yt*st,rt[1]=ht*it+yt*lt,rt[2]=ht*at+yt*ct,rt[3]=ht*ot+yt*ut,rt}function quaternionToEuler(_e,et){var tt=et[0],rt=et[1],nt=et[2],it=et[3],at=Math.atan2(2*rt*it-2*tt*nt,1-2*rt*rt-2*nt*nt),ot=Math.asin(2*tt*rt+2*nt*it),st=Math.atan2(2*tt*it-2*rt*nt,1-2*tt*tt-2*nt*nt);_e[0]=at/degToRads,_e[1]=ot/degToRads,_e[2]=st/degToRads}function createQuaternion(_e){var et=_e[0]*degToRads,tt=_e[1]*degToRads,rt=_e[2]*degToRads,nt=Math.cos(et/2),it=Math.cos(tt/2),at=Math.cos(rt/2),ot=Math.sin(et/2),st=Math.sin(tt/2),lt=Math.sin(rt/2),ct=nt*it*at-ot*st*lt,ut=ot*st*at+nt*it*lt,dt=ot*it*at+nt*st*lt,ft=nt*st*at-ot*it*lt;return[ut,dt,ft,ct]}function getValueAtCurrentTime(){var _e=this.comp.renderedFrame-this.offsetTime,et=this.keyframes[0].t-this.offsetTime,tt=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(_e===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=tt&&_e>=tt||this._caching.lastFrame<et&&_e<et))){this._caching.lastFrame>=_e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var rt=this.interpolateValue(_e,this._caching);this.pv=rt}return this._caching.lastFrame=_e,this.pv}function setVValue(_e){var et;if(this.propType==="unidimensional")et=_e*this.mult,mathAbs(this.v-et)>1e-5&&(this.v=et,this._mdf=!0);else for(var tt=0,rt=this.v.length;tt<rt;)et=_e[tt]*this.mult,mathAbs(this.v[tt]-et)>1e-5&&(this.v[tt]=et,this._mdf=!0),tt+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var _e,et=this.effectsSequence.length,tt=this.kf?this.pv:this.data.k;for(_e=0;_e<et;_e+=1)tt=this.effectsSequence[_e](tt);this.setVValue(tt),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(_e){this.effectsSequence.push(_e),this.container.addDynamicProperty(this)}function ValueProperty(_e,et,tt,rt){this.propType="unidimensional",this.mult=tt||1,this.data=et,this.v=tt?et.k*tt:et.k,this.pv=et.k,this._mdf=!1,this.elem=_e,this.container=rt,this.comp=_e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(_e,et,tt,rt){this.propType="multidimensional",this.mult=tt||1,this.data=et,this._mdf=!1,this.elem=_e,this.container=rt,this.comp=_e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var nt,it=et.k.length;for(this.v=createTypedArray("float32",it),this.pv=createTypedArray("float32",it),this.vel=createTypedArray("float32",it),nt=0;nt<it;nt+=1)this.v[nt]=et.k[nt]*this.mult,this.pv[nt]=et.k[nt];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(_e,et,tt,rt){this.propType="unidimensional",this.keyframes=et.k,this.keyframesMetadata=[],this.offsetTime=_e.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=et,this.mult=tt||1,this.elem=_e,this.container=rt,this.comp=_e.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(_e,et,tt,rt){this.propType="multidimensional";var nt,it=et.k.length,at,ot,st,lt;for(nt=0;nt<it-1;nt+=1)et.k[nt].to&&et.k[nt].s&&et.k[nt+1]&&et.k[nt+1].s&&(at=et.k[nt].s,ot=et.k[nt+1].s,st=et.k[nt].to,lt=et.k[nt].ti,(at.length===2&&!(at[0]===ot[0]&&at[1]===ot[1])&&bez.pointOnLine2D(at[0],at[1],ot[0],ot[1],at[0]+st[0],at[1]+st[1])&&bez.pointOnLine2D(at[0],at[1],ot[0],ot[1],ot[0]+lt[0],ot[1]+lt[1])||at.length===3&&!(at[0]===ot[0]&&at[1]===ot[1]&&at[2]===ot[2])&&bez.pointOnLine3D(at[0],at[1],at[2],ot[0],ot[1],ot[2],at[0]+st[0],at[1]+st[1],at[2]+st[2])&&bez.pointOnLine3D(at[0],at[1],at[2],ot[0],ot[1],ot[2],ot[0]+lt[0],ot[1]+lt[1],ot[2]+lt[2]))&&(et.k[nt].to=null,et.k[nt].ti=null),at[0]===ot[0]&&at[1]===ot[1]&&st[0]===0&&st[1]===0&&lt[0]===0&&lt[1]===0&&(at.length===2||at[2]===ot[2]&&st[2]===0&&lt[2]===0)&&(et.k[nt].to=null,et.k[nt].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=et,this.keyframes=et.k,this.keyframesMetadata=[],this.offsetTime=_e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=tt||1,this.elem=_e,this.container=rt,this.comp=_e.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var ct=et.k[0].s.length;for(this.v=createTypedArray("float32",ct),this.pv=createTypedArray("float32",ct),nt=0;nt<ct;nt+=1)this.v[nt]=initFrame,this.pv[nt]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",ct)},this.addEffect=addEffect}var PropertyFactory=function(){function _e(tt,rt,nt,it,at){rt.sid&&(rt=tt.globalData.slotManager.getProp(rt));var ot;if(!rt.k.length)ot=new ValueProperty(tt,rt,it,at);else if(typeof rt.k[0]=="number")ot=new MultiDimensionalProperty(tt,rt,it,at);else switch(nt){case 0:ot=new KeyframedValueProperty(tt,rt,it,at);break;case 1:ot=new KeyframedMultidimensionalProperty(tt,rt,it,at);break}return ot.effectsSequence.length&&at.addDynamicProperty(ot),ot}var et={getProp:_e};return et}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(et){this.dynamicProperties.indexOf(et)===-1&&(this.dynamicProperties.push(et),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var et,tt=this.dynamicProperties.length;for(et=0;et<tt;et+=1)this.dynamicProperties[et].getValue(),this.dynamicProperties[et]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(et){this.container=et,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function _e(){return createTypedArray("float32",2)}return poolFactory(8,_e)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(_e,et){this.c=_e,this.setLength(et);for(var tt=0;tt<et;)this.v[tt]=pointPool.newElement(),this.o[tt]=pointPool.newElement(),this.i[tt]=pointPool.newElement(),tt+=1},ShapePath.prototype.setLength=function(_e){for(;this._maxLength<_e;)this.doubleArrayLength();this._length=_e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(_e,et,tt,rt,nt){var it;switch(this._length=Math.max(this._length,rt+1),this._length>=this._maxLength&&this.doubleArrayLength(),tt){case"v":it=this.v;break;case"i":it=this.i;break;case"o":it=this.o;break;default:it=[];break}(!it[rt]||it[rt]&&!nt)&&(it[rt]=pointPool.newElement()),it[rt][0]=_e,it[rt][1]=et},ShapePath.prototype.setTripleAt=function(_e,et,tt,rt,nt,it,at,ot){this.setXYAt(_e,et,"v",at,ot),this.setXYAt(tt,rt,"o",at,ot),this.setXYAt(nt,it,"i",at,ot)},ShapePath.prototype.reverse=function(){var _e=new ShapePath;_e.setPathData(this.c,this._length);var et=this.v,tt=this.o,rt=this.i,nt=0;this.c&&(_e.setTripleAt(et[0][0],et[0][1],rt[0][0],rt[0][1],tt[0][0],tt[0][1],0,!1),nt=1);var it=this._length-1,at=this._length,ot;for(ot=nt;ot<at;ot+=1)_e.setTripleAt(et[it][0],et[it][1],rt[it][0],rt[it][1],tt[it][0],tt[it][1],ot,!1),it-=1;return _e},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function _e(){return new ShapePath}function et(nt){var it=nt._length,at;for(at=0;at<it;at+=1)pointPool.release(nt.v[at]),pointPool.release(nt.i[at]),pointPool.release(nt.o[at]),nt.v[at]=null,nt.i[at]=null,nt.o[at]=null;nt._length=0,nt.c=!1}function tt(nt){var it=rt.newElement(),at,ot=nt._length===void 0?nt.v.length:nt._length;for(it.setLength(ot),it.c=nt.c,at=0;at<ot;at+=1)it.setTripleAt(nt.v[at][0],nt.v[at][1],nt.o[at][0],nt.o[at][1],nt.i[at][0],nt.i[at][1],at);return it}var rt=poolFactory(4,_e,et);return rt.clone=tt,rt}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(_e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=_e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var _e;for(_e=0;_e<this._length;_e+=1)shapePool.release(this.shapes[_e]);this._length=0};var shapeCollectionPool=function(){var _e={newShapeCollection:nt,release:it},et=0,tt=4,rt=createSizedArray(tt);function nt(){var at;return et?(et-=1,at=rt[et]):at=new ShapeCollection,at}function it(at){var ot,st=at._length;for(ot=0;ot<st;ot+=1)shapePool.release(at.shapes[ot]);at._length=0,et===tt&&(rt=pooling.double(rt),tt*=2),rt[et]=at,et+=1}return _e}(),ShapePropertyFactory=function(){var _e=-999999;function et(mt,gt,vt){var St=vt.lastIndex,xt,Ct,wt,_t,Ot,kt,Lt,$t,zt,Vt=this.keyframes;if(mt<Vt[0].t-this.offsetTime)xt=Vt[0].s[0],wt=!0,St=0;else if(mt>=Vt[Vt.length-1].t-this.offsetTime)xt=Vt[Vt.length-1].s?Vt[Vt.length-1].s[0]:Vt[Vt.length-2].e[0],wt=!0;else{for(var Ut=St,It=Vt.length-1,Dt=!0,Tt,Rt,Ft;Dt&&(Tt=Vt[Ut],Rt=Vt[Ut+1],!(Rt.t-this.offsetTime>mt));)Ut<It-1?Ut+=1:Dt=!1;if(Ft=this.keyframesMetadata[Ut]||{},wt=Tt.h===1,St=Ut,!wt){if(mt>=Rt.t-this.offsetTime)$t=1;else if(mt<Tt.t-this.offsetTime)$t=0;else{var jt;Ft.__fnct?jt=Ft.__fnct:(jt=BezierFactory.getBezierEasing(Tt.o.x,Tt.o.y,Tt.i.x,Tt.i.y).get,Ft.__fnct=jt),$t=jt((mt-(Tt.t-this.offsetTime))/(Rt.t-this.offsetTime-(Tt.t-this.offsetTime)))}Ct=Rt.s?Rt.s[0]:Tt.e[0]}xt=Tt.s[0]}for(kt=gt._length,Lt=xt.i[0].length,vt.lastIndex=St,_t=0;_t<kt;_t+=1)for(Ot=0;Ot<Lt;Ot+=1)zt=wt?xt.i[_t][Ot]:xt.i[_t][Ot]+(Ct.i[_t][Ot]-xt.i[_t][Ot])*$t,gt.i[_t][Ot]=zt,zt=wt?xt.o[_t][Ot]:xt.o[_t][Ot]+(Ct.o[_t][Ot]-xt.o[_t][Ot])*$t,gt.o[_t][Ot]=zt,zt=wt?xt.v[_t][Ot]:xt.v[_t][Ot]+(Ct.v[_t][Ot]-xt.v[_t][Ot])*$t,gt.v[_t][Ot]=zt}function tt(){var mt=this.comp.renderedFrame-this.offsetTime,gt=this.keyframes[0].t-this.offsetTime,vt=this.keyframes[this.keyframes.length-1].t-this.offsetTime,St=this._caching.lastFrame;return St!==_e&&(St<gt&&mt<gt||St>vt&&mt>vt)||(this._caching.lastIndex=St<mt?this._caching.lastIndex:0,this.interpolateShape(mt,this.pv,this._caching)),this._caching.lastFrame=mt,this.pv}function rt(){this.paths=this.localShapeCollection}function nt(mt,gt){if(mt._length!==gt._length||mt.c!==gt.c)return!1;var vt,St=mt._length;for(vt=0;vt<St;vt+=1)if(mt.v[vt][0]!==gt.v[vt][0]||mt.v[vt][1]!==gt.v[vt][1]||mt.o[vt][0]!==gt.o[vt][0]||mt.o[vt][1]!==gt.o[vt][1]||mt.i[vt][0]!==gt.i[vt][0]||mt.i[vt][1]!==gt.i[vt][1])return!1;return!0}function it(mt){nt(this.v,mt)||(this.v=shapePool.clone(mt),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function at(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var mt;this.kf?mt=this.pv:this.data.ks?mt=this.data.ks.k:mt=this.data.pt.k;var gt,vt=this.effectsSequence.length;for(gt=0;gt<vt;gt+=1)mt=this.effectsSequence[gt](mt);this.setVValue(mt),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function ot(mt,gt,vt){this.propType="shape",this.comp=mt.comp,this.container=mt,this.elem=mt,this.data=gt,this.k=!1,this.kf=!1,this._mdf=!1;var St=vt===3?gt.pt.k:gt.ks.k;this.v=shapePool.clone(St),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=rt,this.effectsSequence=[]}function st(mt){this.effectsSequence.push(mt),this.container.addDynamicProperty(this)}ot.prototype.interpolateShape=et,ot.prototype.getValue=at,ot.prototype.setVValue=it,ot.prototype.addEffect=st;function lt(mt,gt,vt){this.propType="shape",this.comp=mt.comp,this.elem=mt,this.container=mt,this.offsetTime=mt.data.st,this.keyframes=vt===3?gt.pt.k:gt.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var St=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,St),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=_e,this.reset=rt,this._caching={lastFrame:_e,lastIndex:0},this.effectsSequence=[tt.bind(this)]}lt.prototype.getValue=at,lt.prototype.interpolateShape=et,lt.prototype.setVValue=it,lt.prototype.addEffect=st;var ct=function(){var mt=roundCorner;function gt(vt,St){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=St.d,this.elem=vt,this.comp=vt.comp,this.frameId=-1,this.initDynamicPropertyContainer(vt),this.p=PropertyFactory.getProp(vt,St.p,1,0,this),this.s=PropertyFactory.getProp(vt,St.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return gt.prototype={reset:rt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var St=this.p.v[0],xt=this.p.v[1],Ct=this.s.v[0]/2,wt=this.s.v[1]/2,_t=this.d!==3,Ot=this.v;Ot.v[0][0]=St,Ot.v[0][1]=xt-wt,Ot.v[1][0]=_t?St+Ct:St-Ct,Ot.v[1][1]=xt,Ot.v[2][0]=St,Ot.v[2][1]=xt+wt,Ot.v[3][0]=_t?St-Ct:St+Ct,Ot.v[3][1]=xt,Ot.i[0][0]=_t?St-Ct*mt:St+Ct*mt,Ot.i[0][1]=xt-wt,Ot.i[1][0]=_t?St+Ct:St-Ct,Ot.i[1][1]=xt-wt*mt,Ot.i[2][0]=_t?St+Ct*mt:St-Ct*mt,Ot.i[2][1]=xt+wt,Ot.i[3][0]=_t?St-Ct:St+Ct,Ot.i[3][1]=xt+wt*mt,Ot.o[0][0]=_t?St+Ct*mt:St-Ct*mt,Ot.o[0][1]=xt-wt,Ot.o[1][0]=_t?St+Ct:St-Ct,Ot.o[1][1]=xt+wt*mt,Ot.o[2][0]=_t?St-Ct*mt:St+Ct*mt,Ot.o[2][1]=xt+wt,Ot.o[3][0]=_t?St-Ct:St+Ct,Ot.o[3][1]=xt-wt*mt}},extendPrototype([DynamicPropertyContainer],gt),gt}(),ut=function(){function mt(gt,vt){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=gt,this.comp=gt.comp,this.data=vt,this.frameId=-1,this.d=vt.d,this.initDynamicPropertyContainer(gt),vt.sy===1?(this.ir=PropertyFactory.getProp(gt,vt.ir,0,0,this),this.is=PropertyFactory.getProp(gt,vt.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(gt,vt.pt,0,0,this),this.p=PropertyFactory.getProp(gt,vt.p,1,0,this),this.r=PropertyFactory.getProp(gt,vt.r,0,degToRads,this),this.or=PropertyFactory.getProp(gt,vt.or,0,0,this),this.os=PropertyFactory.getProp(gt,vt.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return mt.prototype={reset:rt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var vt=Math.floor(this.pt.v)*2,St=Math.PI*2/vt,xt=!0,Ct=this.or.v,wt=this.ir.v,_t=this.os.v,Ot=this.is.v,kt=2*Math.PI*Ct/(vt*2),Lt=2*Math.PI*wt/(vt*2),$t,zt,Vt,Ut,It=-Math.PI/2;It+=this.r.v;var Dt=this.data.d===3?-1:1;for(this.v._length=0,$t=0;$t<vt;$t+=1){zt=xt?Ct:wt,Vt=xt?_t:Ot,Ut=xt?kt:Lt;var Tt=zt*Math.cos(It),Rt=zt*Math.sin(It),Ft=Tt===0&&Rt===0?0:Rt/Math.sqrt(Tt*Tt+Rt*Rt),jt=Tt===0&&Rt===0?0:-Tt/Math.sqrt(Tt*Tt+Rt*Rt);Tt+=+this.p.v[0],Rt+=+this.p.v[1],this.v.setTripleAt(Tt,Rt,Tt-Ft*Ut*Vt*Dt,Rt-jt*Ut*Vt*Dt,Tt+Ft*Ut*Vt*Dt,Rt+jt*Ut*Vt*Dt,$t,!0),xt=!xt,It+=St*Dt}},convertPolygonToPath:function(){var vt=Math.floor(this.pt.v),St=Math.PI*2/vt,xt=this.or.v,Ct=this.os.v,wt=2*Math.PI*xt/(vt*4),_t,Ot=-Math.PI*.5,kt=this.data.d===3?-1:1;for(Ot+=this.r.v,this.v._length=0,_t=0;_t<vt;_t+=1){var Lt=xt*Math.cos(Ot),$t=xt*Math.sin(Ot),zt=Lt===0&&$t===0?0:$t/Math.sqrt(Lt*Lt+$t*$t),Vt=Lt===0&&$t===0?0:-Lt/Math.sqrt(Lt*Lt+$t*$t);Lt+=+this.p.v[0],$t+=+this.p.v[1],this.v.setTripleAt(Lt,$t,Lt-zt*wt*Ct*kt,$t-Vt*wt*Ct*kt,Lt+zt*wt*Ct*kt,$t+Vt*wt*Ct*kt,_t,!0),Ot+=St*kt}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],mt),mt}(),dt=function(){function mt(gt,vt){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=gt,this.comp=gt.comp,this.frameId=-1,this.d=vt.d,this.initDynamicPropertyContainer(gt),this.p=PropertyFactory.getProp(gt,vt.p,1,0,this),this.s=PropertyFactory.getProp(gt,vt.s,1,0,this),this.r=PropertyFactory.getProp(gt,vt.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return mt.prototype={convertRectToPath:function(){var vt=this.p.v[0],St=this.p.v[1],xt=this.s.v[0]/2,Ct=this.s.v[1]/2,wt=bmMin(xt,Ct,this.r.v),_t=wt*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(vt+xt,St-Ct+wt,vt+xt,St-Ct+wt,vt+xt,St-Ct+_t,0,!0),this.v.setTripleAt(vt+xt,St+Ct-wt,vt+xt,St+Ct-_t,vt+xt,St+Ct-wt,1,!0),wt!==0?(this.v.setTripleAt(vt+xt-wt,St+Ct,vt+xt-wt,St+Ct,vt+xt-_t,St+Ct,2,!0),this.v.setTripleAt(vt-xt+wt,St+Ct,vt-xt+_t,St+Ct,vt-xt+wt,St+Ct,3,!0),this.v.setTripleAt(vt-xt,St+Ct-wt,vt-xt,St+Ct-wt,vt-xt,St+Ct-_t,4,!0),this.v.setTripleAt(vt-xt,St-Ct+wt,vt-xt,St-Ct+_t,vt-xt,St-Ct+wt,5,!0),this.v.setTripleAt(vt-xt+wt,St-Ct,vt-xt+wt,St-Ct,vt-xt+_t,St-Ct,6,!0),this.v.setTripleAt(vt+xt-wt,St-Ct,vt+xt-_t,St-Ct,vt+xt-wt,St-Ct,7,!0)):(this.v.setTripleAt(vt-xt,St+Ct,vt-xt+_t,St+Ct,vt-xt,St+Ct,2),this.v.setTripleAt(vt-xt,St-Ct,vt-xt,St-Ct+_t,vt-xt,St-Ct,3))):(this.v.setTripleAt(vt+xt,St-Ct+wt,vt+xt,St-Ct+_t,vt+xt,St-Ct+wt,0,!0),wt!==0?(this.v.setTripleAt(vt+xt-wt,St-Ct,vt+xt-wt,St-Ct,vt+xt-_t,St-Ct,1,!0),this.v.setTripleAt(vt-xt+wt,St-Ct,vt-xt+_t,St-Ct,vt-xt+wt,St-Ct,2,!0),this.v.setTripleAt(vt-xt,St-Ct+wt,vt-xt,St-Ct+wt,vt-xt,St-Ct+_t,3,!0),this.v.setTripleAt(vt-xt,St+Ct-wt,vt-xt,St+Ct-_t,vt-xt,St+Ct-wt,4,!0),this.v.setTripleAt(vt-xt+wt,St+Ct,vt-xt+wt,St+Ct,vt-xt+_t,St+Ct,5,!0),this.v.setTripleAt(vt+xt-wt,St+Ct,vt+xt-_t,St+Ct,vt+xt-wt,St+Ct,6,!0),this.v.setTripleAt(vt+xt,St+Ct-wt,vt+xt,St+Ct-wt,vt+xt,St+Ct-_t,7,!0)):(this.v.setTripleAt(vt-xt,St-Ct,vt-xt+_t,St-Ct,vt-xt,St-Ct,1,!0),this.v.setTripleAt(vt-xt,St+Ct,vt-xt,St+Ct-_t,vt-xt,St+Ct,2,!0),this.v.setTripleAt(vt+xt,St+Ct,vt+xt-_t,St+Ct,vt+xt,St+Ct,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:rt},extendPrototype([DynamicPropertyContainer],mt),mt}();function ft(mt,gt,vt){var St;if(vt===3||vt===4){var xt=vt===3?gt.pt:gt.ks,Ct=xt.k;Ct.length?St=new lt(mt,gt,vt):St=new ot(mt,gt,vt)}else vt===5?St=new dt(mt,gt):vt===6?St=new ct(mt,gt):vt===7&&(St=new ut(mt,gt));return St.k&&mt.addDynamicProperty(St),St}function pt(){return ot}function ht(){return lt}var yt={};return yt.getShapeProp=ft,yt.getConstructorFunction=pt,yt.getKeyframedConstructorFunction=ht,yt}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var _e=Math.cos,et=Math.sin,tt=Math.tan,rt=Math.round;function nt(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function it(Tt){if(Tt===0)return this;var Rt=_e(Tt),Ft=et(Tt);return this._t(Rt,-Ft,0,0,Ft,Rt,0,0,0,0,1,0,0,0,0,1)}function at(Tt){if(Tt===0)return this;var Rt=_e(Tt),Ft=et(Tt);return this._t(1,0,0,0,0,Rt,-Ft,0,0,Ft,Rt,0,0,0,0,1)}function ot(Tt){if(Tt===0)return this;var Rt=_e(Tt),Ft=et(Tt);return this._t(Rt,0,Ft,0,0,1,0,0,-Ft,0,Rt,0,0,0,0,1)}function st(Tt){if(Tt===0)return this;var Rt=_e(Tt),Ft=et(Tt);return this._t(Rt,-Ft,0,0,Ft,Rt,0,0,0,0,1,0,0,0,0,1)}function lt(Tt,Rt){return this._t(1,Rt,Tt,1,0,0)}function ct(Tt,Rt){return this.shear(tt(Tt),tt(Rt))}function ut(Tt,Rt){var Ft=_e(Rt),jt=et(Rt);return this._t(Ft,jt,0,0,-jt,Ft,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,tt(Tt),1,0,0,0,0,1,0,0,0,0,1)._t(Ft,-jt,0,0,jt,Ft,0,0,0,0,1,0,0,0,0,1)}function dt(Tt,Rt,Ft){return!Ft&&Ft!==0&&(Ft=1),Tt===1&&Rt===1&&Ft===1?this:this._t(Tt,0,0,0,0,Rt,0,0,0,0,Ft,0,0,0,0,1)}function ft(Tt,Rt,Ft,jt,nr,cr,ur,pr,xr,vr,Br,mr,Ir,br,Tr,Vr){return this.props[0]=Tt,this.props[1]=Rt,this.props[2]=Ft,this.props[3]=jt,this.props[4]=nr,this.props[5]=cr,this.props[6]=ur,this.props[7]=pr,this.props[8]=xr,this.props[9]=vr,this.props[10]=Br,this.props[11]=mr,this.props[12]=Ir,this.props[13]=br,this.props[14]=Tr,this.props[15]=Vr,this}function pt(Tt,Rt,Ft){return Ft=Ft||0,Tt!==0||Rt!==0||Ft!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Tt,Rt,Ft,1):this}function ht(Tt,Rt,Ft,jt,nr,cr,ur,pr,xr,vr,Br,mr,Ir,br,Tr,Vr){var yr=this.props;if(Tt===1&&Rt===0&&Ft===0&&jt===0&&nr===0&&cr===1&&ur===0&&pr===0&&xr===0&&vr===0&&Br===1&&mr===0)return yr[12]=yr[12]*Tt+yr[15]*Ir,yr[13]=yr[13]*cr+yr[15]*br,yr[14]=yr[14]*Br+yr[15]*Tr,yr[15]*=Vr,this._identityCalculated=!1,this;var rn=yr[0],ar=yr[1],Er=yr[2],_r=yr[3],gr=yr[4],qr=yr[5],Sr=yr[6],Hr=yr[7],Qr=yr[8],Xr=yr[9],tn=yr[10],Rr=yr[11],wr=yr[12],Dr=yr[13],an=yr[14],En=yr[15];return yr[0]=rn*Tt+ar*nr+Er*xr+_r*Ir,yr[1]=rn*Rt+ar*cr+Er*vr+_r*br,yr[2]=rn*Ft+ar*ur+Er*Br+_r*Tr,yr[3]=rn*jt+ar*pr+Er*mr+_r*Vr,yr[4]=gr*Tt+qr*nr+Sr*xr+Hr*Ir,yr[5]=gr*Rt+qr*cr+Sr*vr+Hr*br,yr[6]=gr*Ft+qr*ur+Sr*Br+Hr*Tr,yr[7]=gr*jt+qr*pr+Sr*mr+Hr*Vr,yr[8]=Qr*Tt+Xr*nr+tn*xr+Rr*Ir,yr[9]=Qr*Rt+Xr*cr+tn*vr+Rr*br,yr[10]=Qr*Ft+Xr*ur+tn*Br+Rr*Tr,yr[11]=Qr*jt+Xr*pr+tn*mr+Rr*Vr,yr[12]=wr*Tt+Dr*nr+an*xr+En*Ir,yr[13]=wr*Rt+Dr*cr+an*vr+En*br,yr[14]=wr*Ft+Dr*ur+an*Br+En*Tr,yr[15]=wr*jt+Dr*pr+an*mr+En*Vr,this._identityCalculated=!1,this}function yt(Tt){var Rt=Tt.props;return this.transform(Rt[0],Rt[1],Rt[2],Rt[3],Rt[4],Rt[5],Rt[6],Rt[7],Rt[8],Rt[9],Rt[10],Rt[11],Rt[12],Rt[13],Rt[14],Rt[15])}function mt(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function gt(Tt){for(var Rt=0;Rt<16;){if(Tt.props[Rt]!==this.props[Rt])return!1;Rt+=1}return!0}function vt(Tt){var Rt;for(Rt=0;Rt<16;Rt+=1)Tt.props[Rt]=this.props[Rt];return Tt}function St(Tt){var Rt;for(Rt=0;Rt<16;Rt+=1)this.props[Rt]=Tt[Rt]}function xt(Tt,Rt,Ft){return{x:Tt*this.props[0]+Rt*this.props[4]+Ft*this.props[8]+this.props[12],y:Tt*this.props[1]+Rt*this.props[5]+Ft*this.props[9]+this.props[13],z:Tt*this.props[2]+Rt*this.props[6]+Ft*this.props[10]+this.props[14]}}function Ct(Tt,Rt,Ft){return Tt*this.props[0]+Rt*this.props[4]+Ft*this.props[8]+this.props[12]}function wt(Tt,Rt,Ft){return Tt*this.props[1]+Rt*this.props[5]+Ft*this.props[9]+this.props[13]}function _t(Tt,Rt,Ft){return Tt*this.props[2]+Rt*this.props[6]+Ft*this.props[10]+this.props[14]}function Ot(){var Tt=this.props[0]*this.props[5]-this.props[1]*this.props[4],Rt=this.props[5]/Tt,Ft=-this.props[1]/Tt,jt=-this.props[4]/Tt,nr=this.props[0]/Tt,cr=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Tt,ur=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Tt,pr=new Matrix;return pr.props[0]=Rt,pr.props[1]=Ft,pr.props[4]=jt,pr.props[5]=nr,pr.props[12]=cr,pr.props[13]=ur,pr}function kt(Tt){var Rt=this.getInverseMatrix();return Rt.applyToPointArray(Tt[0],Tt[1],Tt[2]||0)}function Lt(Tt){var Rt,Ft=Tt.length,jt=[];for(Rt=0;Rt<Ft;Rt+=1)jt[Rt]=kt(Tt[Rt]);return jt}function $t(Tt,Rt,Ft){var jt=createTypedArray("float32",6);if(this.isIdentity())jt[0]=Tt[0],jt[1]=Tt[1],jt[2]=Rt[0],jt[3]=Rt[1],jt[4]=Ft[0],jt[5]=Ft[1];else{var nr=this.props[0],cr=this.props[1],ur=this.props[4],pr=this.props[5],xr=this.props[12],vr=this.props[13];jt[0]=Tt[0]*nr+Tt[1]*ur+xr,jt[1]=Tt[0]*cr+Tt[1]*pr+vr,jt[2]=Rt[0]*nr+Rt[1]*ur+xr,jt[3]=Rt[0]*cr+Rt[1]*pr+vr,jt[4]=Ft[0]*nr+Ft[1]*ur+xr,jt[5]=Ft[0]*cr+Ft[1]*pr+vr}return jt}function zt(Tt,Rt,Ft){var jt;return this.isIdentity()?jt=[Tt,Rt,Ft]:jt=[Tt*this.props[0]+Rt*this.props[4]+Ft*this.props[8]+this.props[12],Tt*this.props[1]+Rt*this.props[5]+Ft*this.props[9]+this.props[13],Tt*this.props[2]+Rt*this.props[6]+Ft*this.props[10]+this.props[14]],jt}function Vt(Tt,Rt){if(this.isIdentity())return Tt+","+Rt;var Ft=this.props;return Math.round((Tt*Ft[0]+Rt*Ft[4]+Ft[12])*100)/100+","+Math.round((Tt*Ft[1]+Rt*Ft[5]+Ft[13])*100)/100}function Ut(){for(var Tt=0,Rt=this.props,Ft="matrix3d(",jt=1e4;Tt<16;)Ft+=rt(Rt[Tt]*jt)/jt,Ft+=Tt===15?")":",",Tt+=1;return Ft}function It(Tt){var Rt=1e4;return Tt<1e-6&&Tt>0||Tt>-1e-6&&Tt<0?rt(Tt*Rt)/Rt:Tt}function Dt(){var Tt=this.props,Rt=It(Tt[0]),Ft=It(Tt[1]),jt=It(Tt[4]),nr=It(Tt[5]),cr=It(Tt[12]),ur=It(Tt[13]);return"matrix("+Rt+","+Ft+","+jt+","+nr+","+cr+","+ur+")"}return function(){this.reset=nt,this.rotate=it,this.rotateX=at,this.rotateY=ot,this.rotateZ=st,this.skew=ct,this.skewFromAxis=ut,this.shear=lt,this.scale=dt,this.setTransform=ft,this.translate=pt,this.transform=ht,this.multiply=yt,this.applyToPoint=xt,this.applyToX=Ct,this.applyToY=wt,this.applyToZ=_t,this.applyToPointArray=zt,this.applyToTriplePoints=$t,this.applyToPointStringified=Vt,this.toCSS=Ut,this.to2dCSS=Dt,this.clone=vt,this.cloneFromProps=St,this.equals=gt,this.inversePoints=Lt,this.inversePoint=kt,this.getInverseMatrix=Ot,this._t=this.transform,this.isIdentity=mt,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(_e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(tt){return typeof tt}:_typeof$3=function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$3(_e)}var lottie={};function setLocation(_e){setLocationHref(_e)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(_e){setSubframeEnabled(_e)}function setPrefix(_e){setIdPrefix(_e)}function loadAnimation(_e){return animationManager.loadAnimation(_e)}function setQuality(_e){if(typeof _e=="string")switch(_e){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(_e)&&_e>1&&setDefaultCurveSegments(_e)}function inBrowser(){return typeof navigator<"u"}function installPlugin(_e,et){_e==="expressions"&&setExpressionsPlugin(et)}function getFactory(_e){switch(_e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(_e){for(var et=queryString.split("&"),tt=0;tt<et.length;tt+=1){var rt=et[tt].split("=");if(decodeURIComponent(rt[0])==_e)return decodeURIComponent(rt[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(_e){}var ShapeModifiers=function(){var _e={},et={};_e.registerModifier=tt,_e.getModifier=rt;function tt(nt,it){et[nt]||(et[nt]=it)}function rt(nt,it,at){return new et[nt](it,at)}return _e}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(_e){if(!this.closed){_e.sh.container.addDynamicProperty(_e.sh);var et={shape:_e.sh,data:_e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(et),this.addShapeToModifier(et),this._isAnimated&&_e.setAsAnimated()}},ShapeModifier.prototype.init=function(_e,et){this.shapes=[],this.elem=_e,this.initDynamicPropertyContainer(_e),this.initModifierProperties(_e,et),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(_e,et){this.s=PropertyFactory.getProp(_e,et.s,0,.01,this),this.e=PropertyFactory.getProp(_e,et.e,0,.01,this),this.o=PropertyFactory.getProp(_e,et.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=et.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(_e){_e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(_e,et,tt,rt,nt){var it=[];et<=1?it.push({s:_e,e:et}):_e>=1?it.push({s:_e-1,e:et-1}):(it.push({s:_e,e:1}),it.push({s:0,e:et-1}));var at=[],ot,st=it.length,lt;for(ot=0;ot<st;ot+=1)if(lt=it[ot],!(lt.e*nt<rt||lt.s*nt>rt+tt)){var ct,ut;lt.s*nt<=rt?ct=0:ct=(lt.s*nt-rt)/tt,lt.e*nt>=rt+tt?ut=1:ut=(lt.e*nt-rt)/tt,at.push([ct,ut])}return at.length||at.push([0,0]),at},TrimModifier.prototype.releasePathsData=function(_e){var et,tt=_e.length;for(et=0;et<tt;et+=1)segmentsLengthPool.release(_e[et]);return _e.length=0,_e},TrimModifier.prototype.processShapes=function(_e){var et,tt;if(this._mdf||_e){var rt=this.o.v%360/360;if(rt<0&&(rt+=1),this.s.v>1?et=1+rt:this.s.v<0?et=0+rt:et=this.s.v+rt,this.e.v>1?tt=1+rt:this.e.v<0?tt=0+rt:tt=this.e.v+rt,et>tt){var nt=et;et=tt,tt=nt}et=Math.round(et*1e4)*1e-4,tt=Math.round(tt*1e4)*1e-4,this.sValue=et,this.eValue=tt}else et=this.sValue,tt=this.eValue;var it,at,ot=this.shapes.length,st,lt,ct,ut,dt,ft=0;if(tt===et)for(at=0;at<ot;at+=1)this.shapes[at].localShapeCollection.releaseShapes(),this.shapes[at].shape._mdf=!0,this.shapes[at].shape.paths=this.shapes[at].localShapeCollection,this._mdf&&(this.shapes[at].pathsData.length=0);else if(tt===1&&et===0||tt===0&&et===1){if(this._mdf)for(at=0;at<ot;at+=1)this.shapes[at].pathsData.length=0,this.shapes[at].shape._mdf=!0}else{var pt=[],ht,yt;for(at=0;at<ot;at+=1)if(ht=this.shapes[at],!ht.shape._mdf&&!this._mdf&&!_e&&this.m!==2)ht.shape.paths=ht.localShapeCollection;else{if(it=ht.shape.paths,lt=it._length,dt=0,!ht.shape._mdf&&ht.pathsData.length)dt=ht.totalShapeLength;else{for(ct=this.releasePathsData(ht.pathsData),st=0;st<lt;st+=1)ut=bez.getSegmentsLength(it.shapes[st]),ct.push(ut),dt+=ut.totalLength;ht.totalShapeLength=dt,ht.pathsData=ct}ft+=dt,ht.shape._mdf=!0}var mt=et,gt=tt,vt=0,St;for(at=ot-1;at>=0;at-=1)if(ht=this.shapes[at],ht.shape._mdf){for(yt=ht.localShapeCollection,yt.releaseShapes(),this.m===2&&ot>1?(St=this.calculateShapeEdges(et,tt,ht.totalShapeLength,vt,ft),vt+=ht.totalShapeLength):St=[[mt,gt]],lt=St.length,st=0;st<lt;st+=1){mt=St[st][0],gt=St[st][1],pt.length=0,gt<=1?pt.push({s:ht.totalShapeLength*mt,e:ht.totalShapeLength*gt}):mt>=1?pt.push({s:ht.totalShapeLength*(mt-1),e:ht.totalShapeLength*(gt-1)}):(pt.push({s:ht.totalShapeLength*mt,e:ht.totalShapeLength}),pt.push({s:0,e:ht.totalShapeLength*(gt-1)}));var xt=this.addShapes(ht,pt[0]);if(pt[0].s!==pt[0].e){if(pt.length>1){var Ct=ht.shape.paths.shapes[ht.shape.paths._length-1];if(Ct.c){var wt=xt.pop();this.addPaths(xt,yt),xt=this.addShapes(ht,pt[1],wt)}else this.addPaths(xt,yt),xt=this.addShapes(ht,pt[1])}this.addPaths(xt,yt)}}ht.shape.paths=yt}}},TrimModifier.prototype.addPaths=function(_e,et){var tt,rt=_e.length;for(tt=0;tt<rt;tt+=1)et.addShape(_e[tt])},TrimModifier.prototype.addSegment=function(_e,et,tt,rt,nt,it,at){nt.setXYAt(et[0],et[1],"o",it),nt.setXYAt(tt[0],tt[1],"i",it+1),at&&nt.setXYAt(_e[0],_e[1],"v",it),nt.setXYAt(rt[0],rt[1],"v",it+1)},TrimModifier.prototype.addSegmentFromArray=function(_e,et,tt,rt){et.setXYAt(_e[1],_e[5],"o",tt),et.setXYAt(_e[2],_e[6],"i",tt+1),rt&&et.setXYAt(_e[0],_e[4],"v",tt),et.setXYAt(_e[3],_e[7],"v",tt+1)},TrimModifier.prototype.addShapes=function(_e,et,tt){var rt=_e.pathsData,nt=_e.shape.paths.shapes,it,at=_e.shape.paths._length,ot,st,lt=0,ct,ut,dt,ft,pt=[],ht,yt=!0;for(tt?(ut=tt._length,ht=tt._length):(tt=shapePool.newElement(),ut=0,ht=0),pt.push(tt),it=0;it<at;it+=1){for(dt=rt[it].lengths,tt.c=nt[it].c,st=nt[it].c?dt.length:dt.length+1,ot=1;ot<st;ot+=1)if(ct=dt[ot-1],lt+ct.addedLength<et.s)lt+=ct.addedLength,tt.c=!1;else if(lt>et.e){tt.c=!1;break}else et.s<=lt&&et.e>=lt+ct.addedLength?(this.addSegment(nt[it].v[ot-1],nt[it].o[ot-1],nt[it].i[ot],nt[it].v[ot],tt,ut,yt),yt=!1):(ft=bez.getNewSegment(nt[it].v[ot-1],nt[it].v[ot],nt[it].o[ot-1],nt[it].i[ot],(et.s-lt)/ct.addedLength,(et.e-lt)/ct.addedLength,dt[ot-1]),this.addSegmentFromArray(ft,tt,ut,yt),yt=!1,tt.c=!1),lt+=ct.addedLength,ut+=1;if(nt[it].c&&dt.length){if(ct=dt[ot-1],lt<=et.e){var mt=dt[ot-1].addedLength;et.s<=lt&&et.e>=lt+mt?(this.addSegment(nt[it].v[ot-1],nt[it].o[ot-1],nt[it].i[0],nt[it].v[0],tt,ut,yt),yt=!1):(ft=bez.getNewSegment(nt[it].v[ot-1],nt[it].v[0],nt[it].o[ot-1],nt[it].i[0],(et.s-lt)/mt,(et.e-lt)/mt,dt[ot-1]),this.addSegmentFromArray(ft,tt,ut,yt),yt=!1,tt.c=!1)}else tt.c=!1;lt+=ct.addedLength,ut+=1}if(tt._length&&(tt.setXYAt(tt.v[ht][0],tt.v[ht][1],"i",ht),tt.setXYAt(tt.v[tt._length-1][0],tt.v[tt._length-1][1],"o",tt._length-1)),lt>et.e)break;it<at-1&&(tt=shapePool.newElement(),yt=!0,pt.push(tt),ut=0)}return pt};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(_e,et){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(_e,et.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(_e,et){var tt=et/100,rt=[0,0],nt=_e._length,it=0;for(it=0;it<nt;it+=1)rt[0]+=_e.v[it][0],rt[1]+=_e.v[it][1];rt[0]/=nt,rt[1]/=nt;var at=shapePool.newElement();at.c=_e.c;var ot,st,lt,ct,ut,dt;for(it=0;it<nt;it+=1)ot=_e.v[it][0]+(rt[0]-_e.v[it][0])*tt,st=_e.v[it][1]+(rt[1]-_e.v[it][1])*tt,lt=_e.o[it][0]+(rt[0]-_e.o[it][0])*-tt,ct=_e.o[it][1]+(rt[1]-_e.o[it][1])*-tt,ut=_e.i[it][0]+(rt[0]-_e.i[it][0])*-tt,dt=_e.i[it][1]+(rt[1]-_e.i[it][1])*-tt,at.setTripleAt(ot,st,lt,ct,ut,dt,it);return at},PuckerAndBloatModifier.prototype.processShapes=function(_e){var et,tt,rt=this.shapes.length,nt,it,at=this.amount.v;if(at!==0){var ot,st;for(tt=0;tt<rt;tt+=1){if(ot=this.shapes[tt],st=ot.localShapeCollection,!(!ot.shape._mdf&&!this._mdf&&!_e))for(st.releaseShapes(),ot.shape._mdf=!0,et=ot.shape.paths.shapes,it=ot.shape.paths._length,nt=0;nt<it;nt+=1)st.addShape(this.processPath(et[nt],at));ot.shape.paths=ot.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var _e=[0,0];function et(st){var lt=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||lt,this.a&&st.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&st.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&st.skewFromAxis(-this.sk.v,this.sa.v),this.r?st.rotate(-this.r.v):st.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?st.translate(this.px.v,this.py.v,-this.pz.v):st.translate(this.px.v,this.py.v,0):st.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function tt(st){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||st){var lt;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var ct,ut;if(lt=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(ct=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/lt,0),ut=this.p.getValueAtTime(this.p.keyframes[0].t/lt,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(ct=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/lt,0),ut=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/lt,0)):(ct=this.p.pv,ut=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/lt,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){ct=[],ut=[];var dt=this.px,ft=this.py;dt._caching.lastFrame+dt.offsetTime<=dt.keyframes[0].t?(ct[0]=dt.getValueAtTime((dt.keyframes[0].t+.01)/lt,0),ct[1]=ft.getValueAtTime((ft.keyframes[0].t+.01)/lt,0),ut[0]=dt.getValueAtTime(dt.keyframes[0].t/lt,0),ut[1]=ft.getValueAtTime(ft.keyframes[0].t/lt,0)):dt._caching.lastFrame+dt.offsetTime>=dt.keyframes[dt.keyframes.length-1].t?(ct[0]=dt.getValueAtTime(dt.keyframes[dt.keyframes.length-1].t/lt,0),ct[1]=ft.getValueAtTime(ft.keyframes[ft.keyframes.length-1].t/lt,0),ut[0]=dt.getValueAtTime((dt.keyframes[dt.keyframes.length-1].t-.01)/lt,0),ut[1]=ft.getValueAtTime((ft.keyframes[ft.keyframes.length-1].t-.01)/lt,0)):(ct=[dt.pv,ft.pv],ut[0]=dt.getValueAtTime((dt._caching.lastFrame+dt.offsetTime-.01)/lt,dt.offsetTime),ut[1]=ft.getValueAtTime((ft._caching.lastFrame+ft.offsetTime-.01)/lt,ft.offsetTime))}else ut=_e,ct=ut;this.v.rotate(-Math.atan2(ct[1]-ut[1],ct[0]-ut[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function rt(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function nt(){}function it(st){this._addDynamicProperty(st),this.elem.addDynamicProperty(st),this._isDirty=!0}function at(st,lt,ct){if(this.elem=st,this.frameId=-1,this.propType="transform",this.data=lt,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(ct||st),lt.p&&lt.p.s?(this.px=PropertyFactory.getProp(st,lt.p.x,0,0,this),this.py=PropertyFactory.getProp(st,lt.p.y,0,0,this),lt.p.z&&(this.pz=PropertyFactory.getProp(st,lt.p.z,0,0,this))):this.p=PropertyFactory.getProp(st,lt.p||{k:[0,0,0]},1,0,this),lt.rx){if(this.rx=PropertyFactory.getProp(st,lt.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(st,lt.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(st,lt.rz,0,degToRads,this),lt.or.k[0].ti){var ut,dt=lt.or.k.length;for(ut=0;ut<dt;ut+=1)lt.or.k[ut].to=null,lt.or.k[ut].ti=null}this.or=PropertyFactory.getProp(st,lt.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(st,lt.r||{k:0},0,degToRads,this);lt.sk&&(this.sk=PropertyFactory.getProp(st,lt.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(st,lt.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(st,lt.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(st,lt.s||{k:[100,100,100]},1,.01,this),lt.o?this.o=PropertyFactory.getProp(st,lt.o,0,.01,st):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}at.prototype={applyToMatrix:et,getValue:tt,precalculateMatrix:rt,autoOrient:nt},extendPrototype([DynamicPropertyContainer],at),at.prototype.addDynamicProperty=it,at.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function ot(st,lt,ct){return new at(st,lt,ct)}return{getTransformProperty:ot}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(_e,et){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(_e,et.c,0,null,this),this.o=PropertyFactory.getProp(_e,et.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(_e,et.tr,this),this.so=PropertyFactory.getProp(_e,et.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(_e,et.tr.eo,0,.01,this),this.data=et,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(_e,et,tt,rt,nt,it){var at=it?-1:1,ot=rt.s.v[0]+(1-rt.s.v[0])*(1-nt),st=rt.s.v[1]+(1-rt.s.v[1])*(1-nt);_e.translate(rt.p.v[0]*at*nt,rt.p.v[1]*at*nt,rt.p.v[2]),et.translate(-rt.a.v[0],-rt.a.v[1],rt.a.v[2]),et.rotate(-rt.r.v*at*nt),et.translate(rt.a.v[0],rt.a.v[1],rt.a.v[2]),tt.translate(-rt.a.v[0],-rt.a.v[1],rt.a.v[2]),tt.scale(it?1/ot:ot,it?1/st:st),tt.translate(rt.a.v[0],rt.a.v[1],rt.a.v[2])},RepeaterModifier.prototype.init=function(_e,et,tt,rt){for(this.elem=_e,this.arr=et,this.pos=tt,this.elemsData=rt,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(_e),this.initModifierProperties(_e,et[tt]);tt>0;)tt-=1,this._elements.unshift(et[tt]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(_e){var et,tt=_e.length;for(et=0;et<tt;et+=1)_e[et]._processed=!1,_e[et].ty==="gr"&&this.resetElements(_e[et].it)},RepeaterModifier.prototype.cloneElements=function(_e){var et=JSON.parse(JSON.stringify(_e));return this.resetElements(et),et},RepeaterModifier.prototype.changeGroupRender=function(_e,et){var tt,rt=_e.length;for(tt=0;tt<rt;tt+=1)_e[tt]._render=et,_e[tt].ty==="gr"&&this.changeGroupRender(_e[tt].it,et)},RepeaterModifier.prototype.processShapes=function(_e){var et,tt,rt,nt,it,at=!1;if(this._mdf||_e){var ot=Math.ceil(this.c.v);if(this._groups.length<ot){for(;this._groups.length<ot;){var st={it:this.cloneElements(this._elements),ty:"gr"};st.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,st),this._groups.splice(0,0,st),this._currentCopies+=1}this.elem.reloadShapes(),at=!0}it=0;var lt;for(rt=0;rt<=this._groups.length-1;rt+=1){if(lt=it<ot,this._groups[rt]._render=lt,this.changeGroupRender(this._groups[rt].it,lt),!lt){var ct=this.elemsData[rt].it,ut=ct[ct.length-1];ut.transform.op.v!==0?(ut.transform.op._mdf=!0,ut.transform.op.v=0):ut.transform.op._mdf=!1}it+=1}this._currentCopies=ot;var dt=this.o.v,ft=dt%1,pt=dt>0?Math.floor(dt):Math.ceil(dt),ht=this.pMatrix.props,yt=this.rMatrix.props,mt=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var gt=0;if(dt>0){for(;gt<pt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),gt+=1;ft&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,ft,!1),gt+=ft)}else if(dt<0){for(;gt>pt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),gt-=1;ft&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-ft,!0),gt-=ft)}rt=this.data.m===1?0:this._currentCopies-1,nt=this.data.m===1?1:-1,it=this._currentCopies;for(var vt,St;it;){if(et=this.elemsData[rt].it,tt=et[et.length-1].transform.mProps.v.props,St=tt.length,et[et.length-1].transform.mProps._mdf=!0,et[et.length-1].transform.op._mdf=!0,et[et.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(rt/(this._currentCopies-1)),gt!==0){for((rt!==0&&nt===1||rt!==this._currentCopies-1&&nt===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(yt[0],yt[1],yt[2],yt[3],yt[4],yt[5],yt[6],yt[7],yt[8],yt[9],yt[10],yt[11],yt[12],yt[13],yt[14],yt[15]),this.matrix.transform(mt[0],mt[1],mt[2],mt[3],mt[4],mt[5],mt[6],mt[7],mt[8],mt[9],mt[10],mt[11],mt[12],mt[13],mt[14],mt[15]),this.matrix.transform(ht[0],ht[1],ht[2],ht[3],ht[4],ht[5],ht[6],ht[7],ht[8],ht[9],ht[10],ht[11],ht[12],ht[13],ht[14],ht[15]),vt=0;vt<St;vt+=1)tt[vt]=this.matrix.props[vt];this.matrix.reset()}else for(this.matrix.reset(),vt=0;vt<St;vt+=1)tt[vt]=this.matrix.props[vt];gt+=1,it-=1,rt+=nt}}else for(it=this._currentCopies,rt=0,nt=1;it;)et=this.elemsData[rt].it,tt=et[et.length-1].transform.mProps.v.props,et[et.length-1].transform.mProps._mdf=!1,et[et.length-1].transform.op._mdf=!1,it-=1,rt+=nt;return at},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(_e,et){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(_e,et.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(_e,et){var tt=shapePool.newElement();tt.c=_e.c;var rt,nt=_e._length,it,at,ot,st,lt,ct,ut=0,dt,ft,pt,ht,yt,mt;for(rt=0;rt<nt;rt+=1)it=_e.v[rt],ot=_e.o[rt],at=_e.i[rt],it[0]===ot[0]&&it[1]===ot[1]&&it[0]===at[0]&&it[1]===at[1]?(rt===0||rt===nt-1)&&!_e.c?(tt.setTripleAt(it[0],it[1],ot[0],ot[1],at[0],at[1],ut),ut+=1):(rt===0?st=_e.v[nt-1]:st=_e.v[rt-1],lt=Math.sqrt(Math.pow(it[0]-st[0],2)+Math.pow(it[1]-st[1],2)),ct=lt?Math.min(lt/2,et)/lt:0,yt=it[0]+(st[0]-it[0])*ct,dt=yt,mt=it[1]-(it[1]-st[1])*ct,ft=mt,pt=dt-(dt-it[0])*roundCorner,ht=ft-(ft-it[1])*roundCorner,tt.setTripleAt(dt,ft,pt,ht,yt,mt,ut),ut+=1,rt===nt-1?st=_e.v[0]:st=_e.v[rt+1],lt=Math.sqrt(Math.pow(it[0]-st[0],2)+Math.pow(it[1]-st[1],2)),ct=lt?Math.min(lt/2,et)/lt:0,pt=it[0]+(st[0]-it[0])*ct,dt=pt,ht=it[1]+(st[1]-it[1])*ct,ft=ht,yt=dt-(dt-it[0])*roundCorner,mt=ft-(ft-it[1])*roundCorner,tt.setTripleAt(dt,ft,pt,ht,yt,mt,ut),ut+=1):(tt.setTripleAt(_e.v[rt][0],_e.v[rt][1],_e.o[rt][0],_e.o[rt][1],_e.i[rt][0],_e.i[rt][1],ut),ut+=1);return tt},RoundCornersModifier.prototype.processShapes=function(_e){var et,tt,rt=this.shapes.length,nt,it,at=this.rd.v;if(at!==0){var ot,st;for(tt=0;tt<rt;tt+=1){if(ot=this.shapes[tt],st=ot.localShapeCollection,!(!ot.shape._mdf&&!this._mdf&&!_e))for(st.releaseShapes(),ot.shape._mdf=!0,et=ot.shape.paths.shapes,it=ot.shape.paths._length,nt=0;nt<it;nt+=1)st.addShape(this.processPath(et[nt],at));ot.shape.paths=ot.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(_e,et){return Math.abs(_e-et)*1e5<=Math.min(Math.abs(_e),Math.abs(et))}function floatZero(_e){return Math.abs(_e)<=1e-5}function lerp(_e,et,tt){return _e*(1-tt)+et*tt}function lerpPoint(_e,et,tt){return[lerp(_e[0],et[0],tt),lerp(_e[1],et[1],tt)]}function quadRoots(_e,et,tt){if(_e===0)return[];var rt=et*et-4*_e*tt;if(rt<0)return[];var nt=-et/(2*_e);if(rt===0)return[nt];var it=Math.sqrt(rt)/(2*_e);return[nt-it,nt+it]}function polynomialCoefficients(_e,et,tt,rt){return[-_e+3*et-3*tt+rt,3*_e-6*et+3*tt,-3*_e+3*et,_e]}function singlePoint(_e){return new PolynomialBezier(_e,_e,_e,_e,!1)}function PolynomialBezier(_e,et,tt,rt,nt){nt&&pointEqual(_e,et)&&(et=lerpPoint(_e,rt,1/3)),nt&&pointEqual(tt,rt)&&(tt=lerpPoint(_e,rt,2/3));var it=polynomialCoefficients(_e[0],et[0],tt[0],rt[0]),at=polynomialCoefficients(_e[1],et[1],tt[1],rt[1]);this.a=[it[0],at[0]],this.b=[it[1],at[1]],this.c=[it[2],at[2]],this.d=[it[3],at[3]],this.points=[_e,et,tt,rt]}PolynomialBezier.prototype.point=function(_e){return[((this.a[0]*_e+this.b[0])*_e+this.c[0])*_e+this.d[0],((this.a[1]*_e+this.b[1])*_e+this.c[1])*_e+this.d[1]]},PolynomialBezier.prototype.derivative=function(_e){return[(3*_e*this.a[0]+2*this.b[0])*_e+this.c[0],(3*_e*this.a[1]+2*this.b[1])*_e+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(_e){var et=this.derivative(_e);return Math.atan2(et[1],et[0])},PolynomialBezier.prototype.normalAngle=function(_e){var et=this.derivative(_e);return Math.atan2(et[0],et[1])},PolynomialBezier.prototype.inflectionPoints=function(){var _e=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(_e))return[];var et=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/_e,tt=et*et-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/_e;if(tt<0)return[];var rt=Math.sqrt(tt);return floatZero(rt)?rt>0&&rt<1?[et]:[]:[et-rt,et+rt].filter(function(nt){return nt>0&&nt<1})},PolynomialBezier.prototype.split=function(_e){if(_e<=0)return[singlePoint(this.points[0]),this];if(_e>=1)return[this,singlePoint(this.points[this.points.length-1])];var et=lerpPoint(this.points[0],this.points[1],_e),tt=lerpPoint(this.points[1],this.points[2],_e),rt=lerpPoint(this.points[2],this.points[3],_e),nt=lerpPoint(et,tt,_e),it=lerpPoint(tt,rt,_e),at=lerpPoint(nt,it,_e);return[new PolynomialBezier(this.points[0],et,nt,at,!0),new PolynomialBezier(at,it,rt,this.points[3],!0)]};function extrema(_e,et){var tt=_e.points[0][et],rt=_e.points[_e.points.length-1][et];if(tt>rt){var nt=rt;rt=tt,tt=nt}for(var it=quadRoots(3*_e.a[et],2*_e.b[et],_e.c[et]),at=0;at<it.length;at+=1)if(it[at]>0&&it[at]<1){var ot=_e.point(it[at])[et];ot<tt?tt=ot:ot>rt&&(rt=ot)}return{min:tt,max:rt}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var _e=this.bounds();return{left:_e.x.min,right:_e.x.max,top:_e.y.min,bottom:_e.y.max,width:_e.x.max-_e.x.min,height:_e.y.max-_e.y.min,cx:(_e.x.max+_e.x.min)/2,cy:(_e.y.max+_e.y.min)/2}};function intersectData(_e,et,tt){var rt=_e.boundingBox();return{cx:rt.cx,cy:rt.cy,width:rt.width,height:rt.height,bez:_e,t:(et+tt)/2,t1:et,t2:tt}}function splitData(_e){var et=_e.bez.split(.5);return[intersectData(et[0],_e.t1,_e.t),intersectData(et[1],_e.t,_e.t2)]}function boxIntersect(_e,et){return Math.abs(_e.cx-et.cx)*2<_e.width+et.width&&Math.abs(_e.cy-et.cy)*2<_e.height+et.height}function intersectsImpl(_e,et,tt,rt,nt,it){if(boxIntersect(_e,et)){if(tt>=it||_e.width<=rt&&_e.height<=rt&&et.width<=rt&&et.height<=rt){nt.push([_e.t,et.t]);return}var at=splitData(_e),ot=splitData(et);intersectsImpl(at[0],ot[0],tt+1,rt,nt,it),intersectsImpl(at[0],ot[1],tt+1,rt,nt,it),intersectsImpl(at[1],ot[0],tt+1,rt,nt,it),intersectsImpl(at[1],ot[1],tt+1,rt,nt,it)}}PolynomialBezier.prototype.intersections=function(_e,et,tt){et===void 0&&(et=2),tt===void 0&&(tt=7);var rt=[];return intersectsImpl(intersectData(this,0,1),intersectData(_e,0,1),0,et,rt,tt),rt},PolynomialBezier.shapeSegment=function(_e,et){var tt=(et+1)%_e.length();return new PolynomialBezier(_e.v[et],_e.o[et],_e.i[tt],_e.v[tt],!0)},PolynomialBezier.shapeSegmentInverted=function(_e,et){var tt=(et+1)%_e.length();return new PolynomialBezier(_e.v[tt],_e.i[tt],_e.o[et],_e.v[et],!0)};function crossProduct(_e,et){return[_e[1]*et[2]-_e[2]*et[1],_e[2]*et[0]-_e[0]*et[2],_e[0]*et[1]-_e[1]*et[0]]}function lineIntersection(_e,et,tt,rt){var nt=[_e[0],_e[1],1],it=[et[0],et[1],1],at=[tt[0],tt[1],1],ot=[rt[0],rt[1],1],st=crossProduct(crossProduct(nt,it),crossProduct(at,ot));return floatZero(st[2])?null:[st[0]/st[2],st[1]/st[2]]}function polarOffset(_e,et,tt){return[_e[0]+Math.cos(et)*tt,_e[1]-Math.sin(et)*tt]}function pointDistance(_e,et){return Math.hypot(_e[0]-et[0],_e[1]-et[1])}function pointEqual(_e,et){return floatEqual(_e[0],et[0])&&floatEqual(_e[1],et[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(_e,et){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(_e,et.s,0,null,this),this.frequency=PropertyFactory.getProp(_e,et.r,0,null,this),this.pointsType=PropertyFactory.getProp(_e,et.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(_e,et,tt,rt,nt,it,at){var ot=tt-Math.PI/2,st=tt+Math.PI/2,lt=et[0]+Math.cos(tt)*rt*nt,ct=et[1]-Math.sin(tt)*rt*nt;_e.setTripleAt(lt,ct,lt+Math.cos(ot)*it,ct-Math.sin(ot)*it,lt+Math.cos(st)*at,ct-Math.sin(st)*at,_e.length())}function getPerpendicularVector(_e,et){var tt=[et[0]-_e[0],et[1]-_e[1]],rt=-Math.PI*.5,nt=[Math.cos(rt)*tt[0]-Math.sin(rt)*tt[1],Math.sin(rt)*tt[0]+Math.cos(rt)*tt[1]];return nt}function getProjectingAngle(_e,et){var tt=et===0?_e.length()-1:et-1,rt=(et+1)%_e.length(),nt=_e.v[tt],it=_e.v[rt],at=getPerpendicularVector(nt,it);return Math.atan2(0,1)-Math.atan2(at[1],at[0])}function zigZagCorner(_e,et,tt,rt,nt,it,at){var ot=getProjectingAngle(et,tt),st=et.v[tt%et._length],lt=et.v[tt===0?et._length-1:tt-1],ct=et.v[(tt+1)%et._length],ut=it===2?Math.sqrt(Math.pow(st[0]-lt[0],2)+Math.pow(st[1]-lt[1],2)):0,dt=it===2?Math.sqrt(Math.pow(st[0]-ct[0],2)+Math.pow(st[1]-ct[1],2)):0;setPoint(_e,et.v[tt%et._length],ot,at,rt,dt/((nt+1)*2),ut/((nt+1)*2))}function zigZagSegment(_e,et,tt,rt,nt,it){for(var at=0;at<rt;at+=1){var ot=(at+1)/(rt+1),st=nt===2?Math.sqrt(Math.pow(et.points[3][0]-et.points[0][0],2)+Math.pow(et.points[3][1]-et.points[0][1],2)):0,lt=et.normalAngle(ot),ct=et.point(ot);setPoint(_e,ct,lt,it,tt,st/((rt+1)*2),st/((rt+1)*2)),it=-it}return it}ZigZagModifier.prototype.processPath=function(_e,et,tt,rt){var nt=_e._length,it=shapePool.newElement();if(it.c=_e.c,_e.c||(nt-=1),nt===0)return it;var at=-1,ot=PolynomialBezier.shapeSegment(_e,0);zigZagCorner(it,_e,0,et,tt,rt,at);for(var st=0;st<nt;st+=1)at=zigZagSegment(it,ot,et,tt,rt,-at),st===nt-1&&!_e.c?ot=null:ot=PolynomialBezier.shapeSegment(_e,(st+1)%nt),zigZagCorner(it,_e,st+1,et,tt,rt,at);return it},ZigZagModifier.prototype.processShapes=function(_e){var et,tt,rt=this.shapes.length,nt,it,at=this.amplitude.v,ot=Math.max(0,Math.round(this.frequency.v)),st=this.pointsType.v;if(at!==0){var lt,ct;for(tt=0;tt<rt;tt+=1){if(lt=this.shapes[tt],ct=lt.localShapeCollection,!(!lt.shape._mdf&&!this._mdf&&!_e))for(ct.releaseShapes(),lt.shape._mdf=!0,et=lt.shape.paths.shapes,it=lt.shape.paths._length,nt=0;nt<it;nt+=1)ct.addShape(this.processPath(et[nt],at,ot,st));lt.shape.paths=lt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(_e,et,tt){var rt=Math.atan2(et[0]-_e[0],et[1]-_e[1]);return[polarOffset(_e,rt,tt),polarOffset(et,rt,tt)]}function offsetSegment(_e,et){var tt,rt,nt,it,at,ot,st;st=linearOffset(_e.points[0],_e.points[1],et),tt=st[0],rt=st[1],st=linearOffset(_e.points[1],_e.points[2],et),nt=st[0],it=st[1],st=linearOffset(_e.points[2],_e.points[3],et),at=st[0],ot=st[1];var lt=lineIntersection(tt,rt,nt,it);lt===null&&(lt=rt);var ct=lineIntersection(at,ot,nt,it);return ct===null&&(ct=at),new PolynomialBezier(tt,lt,ct,ot)}function joinLines(_e,et,tt,rt,nt){var it=et.points[3],at=tt.points[0];if(rt===3||pointEqual(it,at))return it;if(rt===2){var ot=-et.tangentAngle(1),st=-tt.tangentAngle(0)+Math.PI,lt=lineIntersection(it,polarOffset(it,ot+Math.PI/2,100),at,polarOffset(at,ot+Math.PI/2,100)),ct=lt?pointDistance(lt,it):pointDistance(it,at)/2,ut=polarOffset(it,ot,2*ct*roundCorner);return _e.setXYAt(ut[0],ut[1],"o",_e.length()-1),ut=polarOffset(at,st,2*ct*roundCorner),_e.setTripleAt(at[0],at[1],at[0],at[1],ut[0],ut[1],_e.length()),at}var dt=pointEqual(it,et.points[2])?et.points[0]:et.points[2],ft=pointEqual(at,tt.points[1])?tt.points[3]:tt.points[1],pt=lineIntersection(dt,it,at,ft);return pt&&pointDistance(pt,it)<nt?(_e.setTripleAt(pt[0],pt[1],pt[0],pt[1],pt[0],pt[1],_e.length()),pt):it}function getIntersection(_e,et){var tt=_e.intersections(et);return tt.length&&floatEqual(tt[0][0],1)&&tt.shift(),tt.length?tt[0]:null}function pruneSegmentIntersection(_e,et){var tt=_e.slice(),rt=et.slice(),nt=getIntersection(_e[_e.length-1],et[0]);return nt&&(tt[_e.length-1]=_e[_e.length-1].split(nt[0])[0],rt[0]=et[0].split(nt[1])[1]),_e.length>1&&et.length>1&&(nt=getIntersection(_e[0],et[et.length-1]),nt)?[[_e[0].split(nt[0])[0]],[et[et.length-1].split(nt[1])[1]]]:[tt,rt]}function pruneIntersections(_e){for(var et,tt=1;tt<_e.length;tt+=1)et=pruneSegmentIntersection(_e[tt-1],_e[tt]),_e[tt-1]=et[0],_e[tt]=et[1];return _e.length>1&&(et=pruneSegmentIntersection(_e[_e.length-1],_e[0]),_e[_e.length-1]=et[0],_e[0]=et[1]),_e}function offsetSegmentSplit(_e,et){var tt=_e.inflectionPoints(),rt,nt,it,at;if(tt.length===0)return[offsetSegment(_e,et)];if(tt.length===1||floatEqual(tt[1],1))return it=_e.split(tt[0]),rt=it[0],nt=it[1],[offsetSegment(rt,et),offsetSegment(nt,et)];it=_e.split(tt[0]),rt=it[0];var ot=(tt[1]-tt[0])/(1-tt[0]);return it=it[1].split(ot),at=it[0],nt=it[1],[offsetSegment(rt,et),offsetSegment(at,et),offsetSegment(nt,et)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(_e,et){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(_e,et.a,0,null,this),this.miterLimit=PropertyFactory.getProp(_e,et.ml,0,null,this),this.lineJoin=et.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(_e,et,tt,rt){var nt=shapePool.newElement();nt.c=_e.c;var it=_e.length();_e.c||(it-=1);var at,ot,st,lt=[];for(at=0;at<it;at+=1)st=PolynomialBezier.shapeSegment(_e,at),lt.push(offsetSegmentSplit(st,et));if(!_e.c)for(at=it-1;at>=0;at-=1)st=PolynomialBezier.shapeSegmentInverted(_e,at),lt.push(offsetSegmentSplit(st,et));lt=pruneIntersections(lt);var ct=null,ut=null;for(at=0;at<lt.length;at+=1){var dt=lt[at];for(ut&&(ct=joinLines(nt,ut,dt[0],tt,rt)),ut=dt[dt.length-1],ot=0;ot<dt.length;ot+=1)st=dt[ot],ct&&pointEqual(st.points[0],ct)?nt.setXYAt(st.points[1][0],st.points[1][1],"o",nt.length()-1):nt.setTripleAt(st.points[0][0],st.points[0][1],st.points[1][0],st.points[1][1],st.points[0][0],st.points[0][1],nt.length()),nt.setTripleAt(st.points[3][0],st.points[3][1],st.points[3][0],st.points[3][1],st.points[2][0],st.points[2][1],nt.length()),ct=st.points[3]}return lt.length&&joinLines(nt,ut,lt[0][0],tt,rt),nt},OffsetPathModifier.prototype.processShapes=function(_e){var et,tt,rt=this.shapes.length,nt,it,at=this.amount.v,ot=this.miterLimit.v,st=this.lineJoin;if(at!==0){var lt,ct;for(tt=0;tt<rt;tt+=1){if(lt=this.shapes[tt],ct=lt.localShapeCollection,!(!lt.shape._mdf&&!this._mdf&&!_e))for(ct.releaseShapes(),lt.shape._mdf=!0,et=lt.shape.paths.shapes,it=lt.shape.paths._length,nt=0;nt<it;nt+=1)ct.addShape(this.processPath(et[nt],at,st,ot));lt.shape.paths=lt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(_e){for(var et=_e.fStyle?_e.fStyle.split(" "):[],tt="normal",rt="normal",nt=et.length,it,at=0;at<nt;at+=1)switch(it=et[at].toLowerCase(),it){case"italic":rt="italic";break;case"bold":tt="700";break;case"black":tt="900";break;case"medium":tt="500";break;case"regular":case"normal":tt="400";break;case"light":case"thin":tt="200";break}return{style:rt,weight:_e.fWeight||tt}}var FontManager=function(){var _e=5e3,et={w:0,size:0,shapes:[],data:{shapes:[]}},tt=[];tt=tt.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var rt=127988,nt=917631,it=917601,at=917626,ot=65039,st=8205,lt=127462,ct=127487,ut=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function dt(It){var Dt=It.split(","),Tt,Rt=Dt.length,Ft=[];for(Tt=0;Tt<Rt;Tt+=1)Dt[Tt]!=="sans-serif"&&Dt[Tt]!=="monospace"&&Ft.push(Dt[Tt]);return Ft.join(",")}function ft(It,Dt){var Tt=createTag("span");Tt.setAttribute("aria-hidden",!0),Tt.style.fontFamily=Dt;var Rt=createTag("span");Rt.innerText="giItT1WQy@!-/#",Tt.style.position="absolute",Tt.style.left="-10000px",Tt.style.top="-10000px",Tt.style.fontSize="300px",Tt.style.fontVariant="normal",Tt.style.fontStyle="normal",Tt.style.fontWeight="normal",Tt.style.letterSpacing="0",Tt.appendChild(Rt),document.body.appendChild(Tt);var Ft=Rt.offsetWidth;return Rt.style.fontFamily=dt(It)+", "+Dt,{node:Rt,w:Ft,parent:Tt}}function pt(){var It,Dt=this.fonts.length,Tt,Rt,Ft=Dt;for(It=0;It<Dt;It+=1)this.fonts[It].loaded?Ft-=1:this.fonts[It].fOrigin==="n"||this.fonts[It].origin===0?this.fonts[It].loaded=!0:(Tt=this.fonts[It].monoCase.node,Rt=this.fonts[It].monoCase.w,Tt.offsetWidth!==Rt?(Ft-=1,this.fonts[It].loaded=!0):(Tt=this.fonts[It].sansCase.node,Rt=this.fonts[It].sansCase.w,Tt.offsetWidth!==Rt&&(Ft-=1,this.fonts[It].loaded=!0)),this.fonts[It].loaded&&(this.fonts[It].sansCase.parent.parentNode.removeChild(this.fonts[It].sansCase.parent),this.fonts[It].monoCase.parent.parentNode.removeChild(this.fonts[It].monoCase.parent)));Ft!==0&&Date.now()-this.initTime<_e?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function ht(It,Dt){var Tt=document.body&&Dt?"svg":"canvas",Rt,Ft=getFontProperties(It);if(Tt==="svg"){var jt=createNS("text");jt.style.fontSize="100px",jt.setAttribute("font-family",It.fFamily),jt.setAttribute("font-style",Ft.style),jt.setAttribute("font-weight",Ft.weight),jt.textContent="1",It.fClass?(jt.style.fontFamily="inherit",jt.setAttribute("class",It.fClass)):jt.style.fontFamily=It.fFamily,Dt.appendChild(jt),Rt=jt}else{var nr=new OffscreenCanvas(500,500).getContext("2d");nr.font=Ft.style+" "+Ft.weight+" 100px "+It.fFamily,Rt=nr}function cr(ur){return Tt==="svg"?(Rt.textContent=ur,Rt.getComputedTextLength()):Rt.measureText(ur).width}return{measureText:cr}}function yt(It,Dt){if(!It){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=It.list;return}if(!document.body){this.isLoaded=!0,It.list.forEach(function(Br){Br.helper=ht(Br),Br.cache={}}),this.fonts=It.list;return}var Tt=It.list,Rt,Ft=Tt.length,jt=Ft;for(Rt=0;Rt<Ft;Rt+=1){var nr=!0,cr,ur;if(Tt[Rt].loaded=!1,Tt[Rt].monoCase=ft(Tt[Rt].fFamily,"monospace"),Tt[Rt].sansCase=ft(Tt[Rt].fFamily,"sans-serif"),!Tt[Rt].fPath)Tt[Rt].loaded=!0,jt-=1;else if(Tt[Rt].fOrigin==="p"||Tt[Rt].origin===3){if(cr=document.querySelectorAll('style[f-forigin="p"][f-family="'+Tt[Rt].fFamily+'"], style[f-origin="3"][f-family="'+Tt[Rt].fFamily+'"]'),cr.length>0&&(nr=!1),nr){var pr=createTag("style");pr.setAttribute("f-forigin",Tt[Rt].fOrigin),pr.setAttribute("f-origin",Tt[Rt].origin),pr.setAttribute("f-family",Tt[Rt].fFamily),pr.type="text/css",pr.innerText="@font-face {font-family: "+Tt[Rt].fFamily+"; font-style: normal; src: url('"+Tt[Rt].fPath+"');}",Dt.appendChild(pr)}}else if(Tt[Rt].fOrigin==="g"||Tt[Rt].origin===1){for(cr=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),ur=0;ur<cr.length;ur+=1)cr[ur].href.indexOf(Tt[Rt].fPath)!==-1&&(nr=!1);if(nr){var xr=createTag("link");xr.setAttribute("f-forigin",Tt[Rt].fOrigin),xr.setAttribute("f-origin",Tt[Rt].origin),xr.type="text/css",xr.rel="stylesheet",xr.href=Tt[Rt].fPath,document.body.appendChild(xr)}}else if(Tt[Rt].fOrigin==="t"||Tt[Rt].origin===2){for(cr=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),ur=0;ur<cr.length;ur+=1)Tt[Rt].fPath===cr[ur].src&&(nr=!1);if(nr){var vr=createTag("link");vr.setAttribute("f-forigin",Tt[Rt].fOrigin),vr.setAttribute("f-origin",Tt[Rt].origin),vr.setAttribute("rel","stylesheet"),vr.setAttribute("href",Tt[Rt].fPath),Dt.appendChild(vr)}}Tt[Rt].helper=ht(Tt[Rt],Dt),Tt[Rt].cache={},this.fonts.push(Tt[Rt])}jt===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function mt(It){if(It){this.chars||(this.chars=[]);var Dt,Tt=It.length,Rt,Ft=this.chars.length,jt;for(Dt=0;Dt<Tt;Dt+=1){for(Rt=0,jt=!1;Rt<Ft;)this.chars[Rt].style===It[Dt].style&&this.chars[Rt].fFamily===It[Dt].fFamily&&this.chars[Rt].ch===It[Dt].ch&&(jt=!0),Rt+=1;jt||(this.chars.push(It[Dt]),Ft+=1)}}}function gt(It,Dt,Tt){for(var Rt=0,Ft=this.chars.length;Rt<Ft;){if(this.chars[Rt].ch===It&&this.chars[Rt].style===Dt&&this.chars[Rt].fFamily===Tt)return this.chars[Rt];Rt+=1}return(typeof It=="string"&&It.charCodeAt(0)!==13||!It)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",It,Dt,Tt)),et}function vt(It,Dt,Tt){var Rt=this.getFontByName(Dt),Ft=It;if(!Rt.cache[Ft]){var jt=Rt.helper;if(It===" "){var nr=jt.measureText("|"+It+"|"),cr=jt.measureText("||");Rt.cache[Ft]=(nr-cr)/100}else Rt.cache[Ft]=jt.measureText(It)/100}return Rt.cache[Ft]*Tt}function St(It){for(var Dt=0,Tt=this.fonts.length;Dt<Tt;){if(this.fonts[Dt].fName===It)return this.fonts[Dt];Dt+=1}return this.fonts[0]}function xt(It){var Dt=0,Tt=It.charCodeAt(0);if(Tt>=55296&&Tt<=56319){var Rt=It.charCodeAt(1);Rt>=56320&&Rt<=57343&&(Dt=(Tt-55296)*1024+Rt-56320+65536)}return Dt}function Ct(It,Dt){var Tt=It.toString(16)+Dt.toString(16);return ut.indexOf(Tt)!==-1}function wt(It){return It===st}function _t(It){return It===ot}function Ot(It){var Dt=xt(It);return Dt>=lt&&Dt<=ct}function kt(It){return Ot(It.substr(0,2))&&Ot(It.substr(2,2))}function Lt(It){return tt.indexOf(It)!==-1}function $t(It,Dt){var Tt=xt(It.substr(Dt,2));if(Tt!==rt)return!1;var Rt=0;for(Dt+=2;Rt<5;){if(Tt=xt(It.substr(Dt,2)),Tt<it||Tt>at)return!1;Rt+=1,Dt+=2}return xt(It.substr(Dt,2))===nt}function zt(){this.isLoaded=!0}var Vt=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Vt.isModifier=Ct,Vt.isZeroWidthJoiner=wt,Vt.isFlagEmoji=kt,Vt.isRegionalCode=Ot,Vt.isCombinedCharacter=Lt,Vt.isRegionalFlag=$t,Vt.isVariationSelector=_t,Vt.BLACK_FLAG_CODE_POINT=rt;var Ut={addChars:mt,addFonts:yt,getCharData:gt,getFontByName:St,measureText:vt,checkLoadedFonts:pt,setIsLoaded:zt};return Vt.prototype=Ut,Vt}();function SlotManager(_e){this.animationData=_e}SlotManager.prototype.getProp=function(_e){return this.animationData.slots&&this.animationData.slots[_e.sid]?Object.assign(_e,this.animationData.slots[_e.sid].p):_e};function slotFactory(_e){return new SlotManager(_e)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(et){this.renderableComponents.indexOf(et)===-1&&this.renderableComponents.push(et)},removeRenderableComponent:function(et){this.renderableComponents.indexOf(et)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(et),1)},prepareRenderableFrame:function(et){this.checkLayerLimits(et)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(et){this.data.ip-this.data.st<=et&&this.data.op-this.data.st>et?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var et,tt=this.renderableComponents.length;for(et=0;et<tt;et+=1)this.renderableComponents[et].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var _e={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(et){return _e[et]||""}}();function SliderEffect(_e,et,tt){this.p=PropertyFactory.getProp(et,_e.v,0,0,tt)}function AngleEffect(_e,et,tt){this.p=PropertyFactory.getProp(et,_e.v,0,0,tt)}function ColorEffect(_e,et,tt){this.p=PropertyFactory.getProp(et,_e.v,1,0,tt)}function PointEffect(_e,et,tt){this.p=PropertyFactory.getProp(et,_e.v,1,0,tt)}function LayerIndexEffect(_e,et,tt){this.p=PropertyFactory.getProp(et,_e.v,0,0,tt)}function MaskIndexEffect(_e,et,tt){this.p=PropertyFactory.getProp(et,_e.v,0,0,tt)}function CheckboxEffect(_e,et,tt){this.p=PropertyFactory.getProp(et,_e.v,0,0,tt)}function NoValueEffect(){this.p={}}function EffectsManager(_e,et){var tt=_e.ef||[];this.effectElements=[];var rt,nt=tt.length,it;for(rt=0;rt<nt;rt+=1)it=new GroupEffect(tt[rt],et),this.effectElements.push(it)}function GroupEffect(_e,et){this.init(_e,et)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(_e,et){this.data=_e,this.effectElements=[],this.initDynamicPropertyContainer(et);var tt,rt=this.data.ef.length,nt,it=this.data.ef;for(tt=0;tt<rt;tt+=1){switch(nt=null,it[tt].ty){case 0:nt=new SliderEffect(it[tt],et,this);break;case 1:nt=new AngleEffect(it[tt],et,this);break;case 2:nt=new ColorEffect(it[tt],et,this);break;case 3:nt=new PointEffect(it[tt],et,this);break;case 4:case 7:nt=new CheckboxEffect(it[tt],et,this);break;case 10:nt=new LayerIndexEffect(it[tt],et,this);break;case 11:nt=new MaskIndexEffect(it[tt],et,this);break;case 5:nt=new EffectsManager(it[tt],et);break;default:nt=new NoValueEffect(it[tt]);break}nt&&this.effectElements.push(nt)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var et=0,tt=this.data.masksProperties.length;et<tt;){if(this.data.masksProperties[et].mode!=="n"&&this.data.masksProperties[et].cl!==!1)return!0;et+=1}return!1},initExpressions:function(){var et=getExpressionInterfaces();if(et){var tt=et("layer"),rt=et("effects"),nt=et("shape"),it=et("text"),at=et("comp");this.layerInterface=tt(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var ot=rt.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(ot),this.data.ty===0||this.data.xt?this.compInterface=at(this):this.data.ty===4?(this.layerInterface.shapeInterface=nt(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=it(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var et=getBlendMode(this.data.bm),tt=this.baseElement||this.layerElement;tt.style["mix-blend-mode"]=et},initBaseData:function(et,tt,rt){this.globalData=tt,this.comp=rt,this.data=et,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(et,tt){var rt,nt=this.dynamicProperties.length;for(rt=0;rt<nt;rt+=1)(tt||this._isParent&&this.dynamicProperties[rt].propType==="transform")&&(this.dynamicProperties[rt].getValue(),this.dynamicProperties[rt]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(et){this.dynamicProperties.indexOf(et)===-1&&this.dynamicProperties.push(et)}};function FootageElement(_e,et,tt){this.initFrame(),this.initRenderable(),this.assetData=et.getAssetData(_e.refId),this.footageData=et.imageLoader.getAsset(this.assetData),this.initBaseData(_e,et,tt)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var _e=getExpressionInterfaces();if(_e){var et=_e("footage");this.layerInterface=et(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(_e,et,tt){this.initFrame(),this.initRenderable(),this.assetData=et.getAssetData(_e.refId),this.initBaseData(_e,et,tt),this._isPlaying=!1,this._canPlay=!1;var rt=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(rt),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=_e.tm?PropertyFactory.getProp(this,_e.tm,0,et.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,_e.au&&_e.au.lv?_e.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(_e){if(this.prepareRenderableFrame(_e,!0),this.prepareProperties(_e,!0),this.tm._placeholder)this._currentTime=_e/this.data.sr;else{var et=this.tm.v;this._currentTime=et}this._volume=this.lv.v[0];var tt=this._volume*this._volumeMultiplier;this._previousVolume!==tt&&(this._previousVolume=tt,this.audio.volume(tt))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(_e){this.audio.rate(_e)},AudioElement.prototype.volume=function(_e){this._volumeMultiplier=_e,this._previousVolume=_e*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(_e){var et,tt=this.layers.length,rt;for(this.completeLayers=!0,et=tt-1;et>=0;et-=1)this.elements[et]||(rt=this.layers[et],rt.ip-rt.st<=_e-this.layers[et].st&&rt.op-rt.st>_e-this.layers[et].st&&this.buildItem(et)),this.completeLayers=this.elements[et]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(_e){switch(_e.ty){case 2:return this.createImage(_e);case 0:return this.createComp(_e);case 1:return this.createSolid(_e);case 3:return this.createNull(_e);case 4:return this.createShape(_e);case 5:return this.createText(_e);case 6:return this.createAudio(_e);case 13:return this.createCamera(_e);case 15:return this.createFootage(_e);default:return this.createNull(_e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(_e){return new AudioElement(_e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(_e){return new FootageElement(_e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var _e,et=this.layers.length;for(_e=0;_e<et;_e+=1)this.buildItem(_e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(_e){this.completeLayers=!1;var et,tt=_e.length,rt,nt=this.layers.length;for(et=0;et<tt;et+=1)for(rt=0;rt<nt;){if(this.layers[rt].id===_e[et].id){this.layers[rt]=_e[et];break}rt+=1}},BaseRenderer.prototype.setProjectInterface=function(_e){this.globalData.projectInterface=_e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(_e,et,tt){for(var rt=this.elements,nt=this.layers,it=0,at=nt.length;it<at;)nt[it].ind==et&&(!rt[it]||rt[it]===!0?(this.buildItem(it),this.addPendingElement(_e)):(tt.push(rt[it]),rt[it].setAsParent(),nt[it].parent!==void 0?this.buildElementParenting(_e,nt[it].parent,tt):_e.setHierarchy(tt))),it+=1},BaseRenderer.prototype.addPendingElement=function(_e){this.pendingElements.push(_e)},BaseRenderer.prototype.searchExtraCompositions=function(_e){var et,tt=_e.length;for(et=0;et<tt;et+=1)if(_e[et].xt){var rt=this.createComp(_e[et]);rt.initExpressions(),this.globalData.projectInterface.registerComposition(rt)}},BaseRenderer.prototype.getElementById=function(_e){var et,tt=this.elements.length;for(et=0;et<tt;et+=1)if(this.elements[et].data.ind===_e)return this.elements[et];return null},BaseRenderer.prototype.getElementByPath=function(_e){var et=_e.shift(),tt;if(typeof et=="number")tt=this.elements[et];else{var rt,nt=this.elements.length;for(rt=0;rt<nt;rt+=1)if(this.elements[rt].data.nm===et){tt=this.elements[rt];break}}return _e.length===0?tt:tt.getElementByPath(_e)},BaseRenderer.prototype.setupGlobalData=function(_e,et){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(_e),this.globalData.fontManager.addChars(_e.chars),this.globalData.fontManager.addFonts(_e.fonts,et),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=_e.fr,this.globalData.nm=_e.nm,this.globalData.compSize={w:_e.w,h:_e.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var et=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:et,localMat:et,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var et,tt=this.finalTransform.mat,rt=0,nt=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;rt<nt;){if(this.hierarchy[rt].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}rt+=1}if(this.finalTransform._matMdf)for(et=this.finalTransform.mProp.v.props,tt.cloneFromProps(et),rt=0;rt<nt;rt+=1)tt.multiply(this.hierarchy[rt].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var et=0,tt=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;et<tt;)this.localTransforms[et]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[et]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),et+=1;if(this.finalTransform._localMatMdf){var rt=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(rt),et=1;et<tt;et+=1){var nt=this.localTransforms[et].matrix;rt.multiply(nt)}rt.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var it=this.finalTransform.localOpacity;for(et=0;et<tt;et+=1)it*=this.localTransforms[et].opacity*.01;this.finalTransform.localOpacity=it}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var et=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(et.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var tt=0,rt=et.length;for(tt=0;tt<rt;tt+=1)this.localTransforms.push(et[tt])}}},globalToLocal:function(et){var tt=[];tt.push(this.finalTransform);for(var rt=!0,nt=this.comp;rt;)nt.finalTransform?(nt.data.hasMask&&tt.splice(0,0,nt.finalTransform),nt=nt.comp):rt=!1;var it,at=tt.length,ot;for(it=0;it<at;it+=1)ot=tt[it].mat.applyToPointArray(0,0,0),et=[et[0]-ot[0],et[1]-ot[1],0];return et},mHelper:new Matrix};function MaskElement(_e,et,tt){this.data=_e,this.element=et,this.globalData=tt,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var rt=this.globalData.defs,nt,it=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(it),this.solidPath="";var at,ot=this.masksProperties,st=0,lt=[],ct,ut,dt=createElementID(),ft,pt,ht,yt,mt="clipPath",gt="clip-path";for(nt=0;nt<it;nt+=1)if((ot[nt].mode!=="a"&&ot[nt].mode!=="n"||ot[nt].inv||ot[nt].o.k!==100||ot[nt].o.x)&&(mt="mask",gt="mask"),(ot[nt].mode==="s"||ot[nt].mode==="i")&&st===0?(ft=createNS("rect"),ft.setAttribute("fill","#ffffff"),ft.setAttribute("width",this.element.comp.data.w||0),ft.setAttribute("height",this.element.comp.data.h||0),lt.push(ft)):ft=null,at=createNS("path"),ot[nt].mode==="n")this.viewData[nt]={op:PropertyFactory.getProp(this.element,ot[nt].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ot[nt],3),elem:at,lastPath:""},rt.appendChild(at);else{st+=1,at.setAttribute("fill",ot[nt].mode==="s"?"#000000":"#ffffff"),at.setAttribute("clip-rule","nonzero");var vt;if(ot[nt].x.k!==0?(mt="mask",gt="mask",yt=PropertyFactory.getProp(this.element,ot[nt].x,0,null,this.element),vt=createElementID(),pt=createNS("filter"),pt.setAttribute("id",vt),ht=createNS("feMorphology"),ht.setAttribute("operator","erode"),ht.setAttribute("in","SourceGraphic"),ht.setAttribute("radius","0"),pt.appendChild(ht),rt.appendChild(pt),at.setAttribute("stroke",ot[nt].mode==="s"?"#000000":"#ffffff")):(ht=null,yt=null),this.storedData[nt]={elem:at,x:yt,expan:ht,lastPath:"",lastOperator:"",filterId:vt,lastRadius:0},ot[nt].mode==="i"){ut=lt.length;var St=createNS("g");for(ct=0;ct<ut;ct+=1)St.appendChild(lt[ct]);var xt=createNS("mask");xt.setAttribute("mask-type","alpha"),xt.setAttribute("id",dt+"_"+st),xt.appendChild(at),rt.appendChild(xt),St.setAttribute("mask","url("+getLocationHref()+"#"+dt+"_"+st+")"),lt.length=0,lt.push(St)}else lt.push(at);ot[nt].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[nt]={elem:at,lastPath:"",op:PropertyFactory.getProp(this.element,ot[nt].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ot[nt],3),invRect:ft},this.viewData[nt].prop.k||this.drawPath(ot[nt],this.viewData[nt].prop.v,this.viewData[nt])}for(this.maskElement=createNS(mt),it=lt.length,nt=0;nt<it;nt+=1)this.maskElement.appendChild(lt[nt]);st>0&&(this.maskElement.setAttribute("id",dt),this.element.maskedElement.setAttribute(gt,"url("+getLocationHref()+"#"+dt+")"),rt.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(_e){return this.viewData[_e].prop},MaskElement.prototype.renderFrame=function(_e){var et=this.element.finalTransform.mat,tt,rt=this.masksProperties.length;for(tt=0;tt<rt;tt+=1)if((this.viewData[tt].prop._mdf||_e)&&this.drawPath(this.masksProperties[tt],this.viewData[tt].prop.v,this.viewData[tt]),(this.viewData[tt].op._mdf||_e)&&this.viewData[tt].elem.setAttribute("fill-opacity",this.viewData[tt].op.v),this.masksProperties[tt].mode!=="n"&&(this.viewData[tt].invRect&&(this.element.finalTransform.mProp._mdf||_e)&&this.viewData[tt].invRect.setAttribute("transform",et.getInverseMatrix().to2dCSS()),this.storedData[tt].x&&(this.storedData[tt].x._mdf||_e))){var nt=this.storedData[tt].expan;this.storedData[tt].x.v<0?(this.storedData[tt].lastOperator!=="erode"&&(this.storedData[tt].lastOperator="erode",this.storedData[tt].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[tt].filterId+")")),nt.setAttribute("radius",-this.storedData[tt].x.v)):(this.storedData[tt].lastOperator!=="dilate"&&(this.storedData[tt].lastOperator="dilate",this.storedData[tt].elem.setAttribute("filter",null)),this.storedData[tt].elem.setAttribute("stroke-width",this.storedData[tt].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var _e="M0,0 ";return _e+=" h"+this.globalData.compSize.w,_e+=" v"+this.globalData.compSize.h,_e+=" h-"+this.globalData.compSize.w,_e+=" v-"+this.globalData.compSize.h+" ",_e},MaskElement.prototype.drawPath=function(_e,et,tt){var rt=" M"+et.v[0][0]+","+et.v[0][1],nt,it;for(it=et._length,nt=1;nt<it;nt+=1)rt+=" C"+et.o[nt-1][0]+","+et.o[nt-1][1]+" "+et.i[nt][0]+","+et.i[nt][1]+" "+et.v[nt][0]+","+et.v[nt][1];if(et.c&&it>1&&(rt+=" C"+et.o[nt-1][0]+","+et.o[nt-1][1]+" "+et.i[0][0]+","+et.i[0][1]+" "+et.v[0][0]+","+et.v[0][1]),tt.lastPath!==rt){var at="";tt.elem&&(et.c&&(at=_e.inv?this.solidPath+rt:rt),tt.elem.setAttribute("d",at)),tt.lastPath=rt}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var _e={};_e.createFilter=et,_e.createAlphaToLuminanceFilter=tt;function et(rt,nt){var it=createNS("filter");return it.setAttribute("id",rt),nt!==!0&&(it.setAttribute("filterUnits","objectBoundingBox"),it.setAttribute("x","0%"),it.setAttribute("y","0%"),it.setAttribute("width","100%"),it.setAttribute("height","100%")),it}function tt(){var rt=createNS("feColorMatrix");return rt.setAttribute("type","matrix"),rt.setAttribute("color-interpolation-filters","sRGB"),rt.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),rt}return _e}(),featureSupport=function(){var _e={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(_e.maskType=!1),/firefox/i.test(navigator.userAgent)&&(_e.svgLumaHidden=!1),_e}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(_e){var et,tt="SourceGraphic",rt=_e.data.ef?_e.data.ef.length:0,nt=createElementID(),it=filtersFactory.createFilter(nt,!0),at=0;this.filters=[];var ot;for(et=0;et<rt;et+=1){ot=null;var st=_e.data.ef[et].ty;if(registeredEffects$1[st]){var lt=registeredEffects$1[st].effect;ot=new lt(it,_e.effectsManager.effectElements[et],_e,idPrefix+at,tt),tt=idPrefix+at,registeredEffects$1[st].countsAsEffect&&(at+=1)}ot&&this.filters.push(ot)}at&&(_e.globalData.defs.appendChild(it),_e.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+nt+")")),this.filters.length&&_e.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(_e){var et,tt=this.filters.length;for(et=0;et<tt;et+=1)this.filters[et].renderFrame(_e)},SVGEffects.prototype.getEffects=function(_e){var et,tt=this.filters.length,rt=[];for(et=0;et<tt;et+=1)this.filters[et].type===_e&&rt.push(this.filters[et]);return rt};function registerEffect$1(_e,et,tt){registeredEffects$1[_e]={effect:et,countsAsEffect:tt}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var et=null;if(this.data.td){this.matteMasks={};var tt=createNS("g");tt.setAttribute("id",this.layerId),tt.appendChild(this.layerElement),et=tt,this.globalData.defs.appendChild(tt)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),et=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var rt=createNS("clipPath"),nt=createNS("path");nt.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var it=createElementID();if(rt.setAttribute("id",it),rt.appendChild(nt),this.globalData.defs.appendChild(rt),this.checkMasks()){var at=createNS("g");at.setAttribute("clip-path","url("+getLocationHref()+"#"+it+")"),at.appendChild(this.layerElement),this.transformedElement=at,et?et.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+it+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(et){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[et]){var tt=this.layerId+"_"+et,rt,nt,it,at;if(et===1||et===3){var ot=createNS("mask");ot.setAttribute("id",tt),ot.setAttribute("mask-type",et===3?"luminance":"alpha"),it=createNS("use"),it.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ot.appendChild(it),this.globalData.defs.appendChild(ot),!featureSupport.maskType&&et===1&&(ot.setAttribute("mask-type","luminance"),rt=createElementID(),nt=filtersFactory.createFilter(rt),this.globalData.defs.appendChild(nt),nt.appendChild(filtersFactory.createAlphaToLuminanceFilter()),at=createNS("g"),at.appendChild(it),ot.appendChild(at),at.setAttribute("filter","url("+getLocationHref()+"#"+rt+")"))}else if(et===2){var st=createNS("mask");st.setAttribute("id",tt),st.setAttribute("mask-type","alpha");var lt=createNS("g");st.appendChild(lt),rt=createElementID(),nt=filtersFactory.createFilter(rt);var ct=createNS("feComponentTransfer");ct.setAttribute("in","SourceGraphic"),nt.appendChild(ct);var ut=createNS("feFuncA");ut.setAttribute("type","table"),ut.setAttribute("tableValues","1.0 0.0"),ct.appendChild(ut),this.globalData.defs.appendChild(nt);var dt=createNS("rect");dt.setAttribute("width",this.comp.data.w),dt.setAttribute("height",this.comp.data.h),dt.setAttribute("x","0"),dt.setAttribute("y","0"),dt.setAttribute("fill","#ffffff"),dt.setAttribute("opacity","0"),lt.setAttribute("filter","url("+getLocationHref()+"#"+rt+")"),lt.appendChild(dt),it=createNS("use"),it.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),lt.appendChild(it),featureSupport.maskType||(st.setAttribute("mask-type","luminance"),nt.appendChild(filtersFactory.createAlphaToLuminanceFilter()),at=createNS("g"),lt.appendChild(dt),at.appendChild(this.layerElement),lt.appendChild(at)),this.globalData.defs.appendChild(st)}this.matteMasks[et]=tt}return this.matteMasks[et]},setMatte:function(et){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+et+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(et){this.hierarchy=et},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var _e={initElement:function(tt,rt,nt){this.initFrame(),this.initBaseData(tt,rt,nt),this.initTransform(tt,rt,nt),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var tt=this.baseElement||this.layerElement;tt.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var tt=this.baseElement||this.layerElement;tt.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(tt){this._mdf=!1,this.prepareRenderableFrame(tt),this.prepareProperties(tt,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(_e)],RenderableDOMElement)})();function IImageElement(_e,et,tt){this.assetData=et.getAssetData(_e.refId),this.assetData&&this.assetData.sid&&(this.assetData=et.slotManager.getProp(this.assetData)),this.initElement(_e,et,tt),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var _e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",_e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(_e,et){this.elem=_e,this.pos=et}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(et){var tt,rt=this.shapeModifiers.length;for(tt=0;tt<rt;tt+=1)this.shapeModifiers[tt].addShape(et)},isShapeInAnimatedModifiers:function(et){for(var tt=0,rt=this.shapeModifiers.length;tt<rt;)if(this.shapeModifiers[tt].isAnimatedWithShape(et))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var et,tt=this.shapes.length;for(et=0;et<tt;et+=1)this.shapes[et].sh.reset();tt=this.shapeModifiers.length;var rt;for(et=tt-1;et>=0&&(rt=this.shapeModifiers[et].processShapes(this._isFirstFrame),!rt);et-=1);}},searchProcessedElement:function(et){for(var tt=this.processedElements,rt=0,nt=tt.length;rt<nt;){if(tt[rt].elem===et)return tt[rt].pos;rt+=1}return 0},addProcessedElement:function(et,tt){for(var rt=this.processedElements,nt=rt.length;nt;)if(nt-=1,rt[nt].elem===et){rt[nt].pos=tt;return}rt.push(new ProcessedElement(et,tt))},prepareFrame:function(et){this.prepareRenderableFrame(et),this.prepareProperties(et,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(_e,et,tt){this.caches=[],this.styles=[],this.transformers=_e,this.lStr="",this.sh=tt,this.lvl=et,this._isAnimated=!!tt.k;for(var rt=0,nt=_e.length;rt<nt;){if(_e[rt].mProps.dynamicProperties.length){this._isAnimated=!0;break}rt+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(_e,et){this.data=_e,this.type=_e.ty,this.d="",this.lvl=et,this._mdf=!1,this.closed=_e.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(_e,et,tt,rt){this.elem=_e,this.frameId=-1,this.dataProps=createSizedArray(et.length),this.renderer=tt,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",et.length?et.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(rt);var nt,it=et.length||0,at;for(nt=0;nt<it;nt+=1)at=PropertyFactory.getProp(_e,et[nt].v,0,0,this),this.k=at.k||this.k,this.dataProps[nt]={n:et[nt].n,p:at};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(_e){if(!(this.elem.globalData.frameId===this.frameId&&!_e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||_e,this._mdf)){var et=0,tt=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),et=0;et<tt;et+=1)this.dataProps[et].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[et].p.v:this.dashArray[et]=this.dataProps[et].p.v:this.dashoffset[0]=this.dataProps[et].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(_e,et,tt){this.initDynamicPropertyContainer(_e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(_e,et.o,0,.01,this),this.w=PropertyFactory.getProp(_e,et.w,0,null,this),this.d=new DashProperty(_e,et.d||{},"svg",this),this.c=PropertyFactory.getProp(_e,et.c,1,255,this),this.style=tt,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(_e,et,tt){this.initDynamicPropertyContainer(_e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(_e,et.o,0,.01,this),this.c=PropertyFactory.getProp(_e,et.c,1,255,this),this.style=tt}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(_e,et,tt){this.initDynamicPropertyContainer(_e),this.getValue=this.iterateDynamicProperties,this.style=tt}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(_e,et,tt){this.data=et,this.c=createTypedArray("uint8c",et.p*4);var rt=et.k.k[0].s?et.k.k[0].s.length-et.p*4:et.k.k.length-et.p*4;this.o=createTypedArray("float32",rt),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=rt,this.initDynamicPropertyContainer(tt),this.prop=PropertyFactory.getProp(_e,et.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(_e,et){for(var tt=0,rt=this.o.length/2,nt;tt<rt;){if(nt=Math.abs(_e[tt*4]-_e[et*4+tt*2]),nt>.01)return!1;tt+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var _e=0,et=this.data.k.k.length;_e<et;){if(!this.comparePoints(this.data.k.k[_e].s,this.data.p))return!1;_e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(_e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||_e){var et,tt=this.data.p*4,rt,nt;for(et=0;et<tt;et+=1)rt=et%4===0?100:255,nt=Math.round(this.prop.v[et]*rt),this.c[et]!==nt&&(this.c[et]=nt,this._cmdf=!_e);if(this.o.length)for(tt=this.prop.v.length,et=this.data.p*4;et<tt;et+=1)rt=et%2===0?100:1,nt=et%2===0?Math.round(this.prop.v[et]*100):this.prop.v[et],this.o[et-this.data.p*4]!==nt&&(this.o[et-this.data.p*4]=nt,this._omdf=!_e);this._mdf=!_e}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(_e,et,tt){this.initDynamicPropertyContainer(_e),this.getValue=this.iterateDynamicProperties,this.initGradientData(_e,et,tt)}SVGGradientFillStyleData.prototype.initGradientData=function(_e,et,tt){this.o=PropertyFactory.getProp(_e,et.o,0,.01,this),this.s=PropertyFactory.getProp(_e,et.s,1,null,this),this.e=PropertyFactory.getProp(_e,et.e,1,null,this),this.h=PropertyFactory.getProp(_e,et.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(_e,et.a||{k:0},0,degToRads,this),this.g=new GradientProperty(_e,et.g,this),this.style=tt,this.stops=[],this.setGradientData(tt.pElem,et),this.setGradientOpacity(et,tt),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(_e,et){var tt=createElementID(),rt=createNS(et.t===1?"linearGradient":"radialGradient");rt.setAttribute("id",tt),rt.setAttribute("spreadMethod","pad"),rt.setAttribute("gradientUnits","userSpaceOnUse");var nt=[],it,at,ot;for(ot=et.g.p*4,at=0;at<ot;at+=4)it=createNS("stop"),rt.appendChild(it),nt.push(it);_e.setAttribute(et.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+tt+")"),this.gf=rt,this.cst=nt},SVGGradientFillStyleData.prototype.setGradientOpacity=function(_e,et){if(this.g._hasOpacity&&!this.g._collapsable){var tt,rt,nt,it=createNS("mask"),at=createNS("path");it.appendChild(at);var ot=createElementID(),st=createElementID();it.setAttribute("id",st);var lt=createNS(_e.t===1?"linearGradient":"radialGradient");lt.setAttribute("id",ot),lt.setAttribute("spreadMethod","pad"),lt.setAttribute("gradientUnits","userSpaceOnUse"),nt=_e.g.k.k[0].s?_e.g.k.k[0].s.length:_e.g.k.k.length;var ct=this.stops;for(rt=_e.g.p*4;rt<nt;rt+=2)tt=createNS("stop"),tt.setAttribute("stop-color","rgb(255,255,255)"),lt.appendChild(tt),ct.push(tt);at.setAttribute(_e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+ot+")"),_e.ty==="gs"&&(at.setAttribute("stroke-linecap",lineCapEnum[_e.lc||2]),at.setAttribute("stroke-linejoin",lineJoinEnum[_e.lj||2]),_e.lj===1&&at.setAttribute("stroke-miterlimit",_e.ml)),this.of=lt,this.ms=it,this.ost=ct,this.maskId=st,et.msElem=at}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(_e,et,tt){this.initDynamicPropertyContainer(_e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(_e,et.w,0,null,this),this.d=new DashProperty(_e,et.d||{},"svg",this),this.initGradientData(_e,et,tt),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(_e,et,tt){this.transform={mProps:_e,op:et,container:tt},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(et,tt,rt,nt){if(tt===0)return"";var it=et.o,at=et.i,ot=et.v,st,lt=" M"+nt.applyToPointStringified(ot[0][0],ot[0][1]);for(st=1;st<tt;st+=1)lt+=" C"+nt.applyToPointStringified(it[st-1][0],it[st-1][1])+" "+nt.applyToPointStringified(at[st][0],at[st][1])+" "+nt.applyToPointStringified(ot[st][0],ot[st][1]);return rt&&tt&&(lt+=" C"+nt.applyToPointStringified(it[st-1][0],it[st-1][1])+" "+nt.applyToPointStringified(at[0][0],at[0][1])+" "+nt.applyToPointStringified(ot[0][0],ot[0][1]),lt+="z"),lt},SVGElementsRenderer=function(){var _e=new Matrix,et=new Matrix,tt={createRenderFunction:rt};function rt(ut){switch(ut.ty){case"fl":return ot;case"gf":return lt;case"gs":return st;case"st":return ct;case"sh":case"el":case"rc":case"sr":return at;case"tr":return nt;case"no":return it;default:return null}}function nt(ut,dt,ft){(ft||dt.transform.op._mdf)&&dt.transform.container.setAttribute("opacity",dt.transform.op.v),(ft||dt.transform.mProps._mdf)&&dt.transform.container.setAttribute("transform",dt.transform.mProps.v.to2dCSS())}function it(){}function at(ut,dt,ft){var pt,ht,yt,mt,gt,vt,St=dt.styles.length,xt=dt.lvl,Ct,wt,_t,Ot;for(vt=0;vt<St;vt+=1){if(mt=dt.sh._mdf||ft,dt.styles[vt].lvl<xt){for(wt=et.reset(),_t=xt-dt.styles[vt].lvl,Ot=dt.transformers.length-1;!mt&&_t>0;)mt=dt.transformers[Ot].mProps._mdf||mt,_t-=1,Ot-=1;if(mt)for(_t=xt-dt.styles[vt].lvl,Ot=dt.transformers.length-1;_t>0;)wt.multiply(dt.transformers[Ot].mProps.v),_t-=1,Ot-=1}else wt=_e;if(Ct=dt.sh.paths,ht=Ct._length,mt){for(yt="",pt=0;pt<ht;pt+=1)gt=Ct.shapes[pt],gt&&gt._length&&(yt+=buildShapeString(gt,gt._length,gt.c,wt));dt.caches[vt]=yt}else yt=dt.caches[vt];dt.styles[vt].d+=ut.hd===!0?"":yt,dt.styles[vt]._mdf=mt||dt.styles[vt]._mdf}}function ot(ut,dt,ft){var pt=dt.style;(dt.c._mdf||ft)&&pt.pElem.setAttribute("fill","rgb("+bmFloor(dt.c.v[0])+","+bmFloor(dt.c.v[1])+","+bmFloor(dt.c.v[2])+")"),(dt.o._mdf||ft)&&pt.pElem.setAttribute("fill-opacity",dt.o.v)}function st(ut,dt,ft){lt(ut,dt,ft),ct(ut,dt,ft)}function lt(ut,dt,ft){var pt=dt.gf,ht=dt.g._hasOpacity,yt=dt.s.v,mt=dt.e.v;if(dt.o._mdf||ft){var gt=ut.ty==="gf"?"fill-opacity":"stroke-opacity";dt.style.pElem.setAttribute(gt,dt.o.v)}if(dt.s._mdf||ft){var vt=ut.t===1?"x1":"cx",St=vt==="x1"?"y1":"cy";pt.setAttribute(vt,yt[0]),pt.setAttribute(St,yt[1]),ht&&!dt.g._collapsable&&(dt.of.setAttribute(vt,yt[0]),dt.of.setAttribute(St,yt[1]))}var xt,Ct,wt,_t;if(dt.g._cmdf||ft){xt=dt.cst;var Ot=dt.g.c;for(wt=xt.length,Ct=0;Ct<wt;Ct+=1)_t=xt[Ct],_t.setAttribute("offset",Ot[Ct*4]+"%"),_t.setAttribute("stop-color","rgb("+Ot[Ct*4+1]+","+Ot[Ct*4+2]+","+Ot[Ct*4+3]+")")}if(ht&&(dt.g._omdf||ft)){var kt=dt.g.o;for(dt.g._collapsable?xt=dt.cst:xt=dt.ost,wt=xt.length,Ct=0;Ct<wt;Ct+=1)_t=xt[Ct],dt.g._collapsable||_t.setAttribute("offset",kt[Ct*2]+"%"),_t.setAttribute("stop-opacity",kt[Ct*2+1])}if(ut.t===1)(dt.e._mdf||ft)&&(pt.setAttribute("x2",mt[0]),pt.setAttribute("y2",mt[1]),ht&&!dt.g._collapsable&&(dt.of.setAttribute("x2",mt[0]),dt.of.setAttribute("y2",mt[1])));else{var Lt;if((dt.s._mdf||dt.e._mdf||ft)&&(Lt=Math.sqrt(Math.pow(yt[0]-mt[0],2)+Math.pow(yt[1]-mt[1],2)),pt.setAttribute("r",Lt),ht&&!dt.g._collapsable&&dt.of.setAttribute("r",Lt)),dt.e._mdf||dt.h._mdf||dt.a._mdf||ft){Lt||(Lt=Math.sqrt(Math.pow(yt[0]-mt[0],2)+Math.pow(yt[1]-mt[1],2)));var $t=Math.atan2(mt[1]-yt[1],mt[0]-yt[0]),zt=dt.h.v;zt>=1?zt=.99:zt<=-1&&(zt=-.99);var Vt=Lt*zt,Ut=Math.cos($t+dt.a.v)*Vt+yt[0],It=Math.sin($t+dt.a.v)*Vt+yt[1];pt.setAttribute("fx",Ut),pt.setAttribute("fy",It),ht&&!dt.g._collapsable&&(dt.of.setAttribute("fx",Ut),dt.of.setAttribute("fy",It))}}}function ct(ut,dt,ft){var pt=dt.style,ht=dt.d;ht&&(ht._mdf||ft)&&ht.dashStr&&(pt.pElem.setAttribute("stroke-dasharray",ht.dashStr),pt.pElem.setAttribute("stroke-dashoffset",ht.dashoffset[0])),dt.c&&(dt.c._mdf||ft)&&pt.pElem.setAttribute("stroke","rgb("+bmFloor(dt.c.v[0])+","+bmFloor(dt.c.v[1])+","+bmFloor(dt.c.v[2])+")"),(dt.o._mdf||ft)&&pt.pElem.setAttribute("stroke-opacity",dt.o.v),(dt.w._mdf||ft)&&(pt.pElem.setAttribute("stroke-width",dt.w.v),pt.msElem&&pt.msElem.setAttribute("stroke-width",dt.w.v))}return tt}();function SVGShapeElement(_e,et,tt){this.shapes=[],this.shapesData=_e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(_e,et,tt),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var _e,et=this.shapes.length,tt,rt,nt=this.stylesList.length,it,at=[],ot=!1;for(rt=0;rt<nt;rt+=1){for(it=this.stylesList[rt],ot=!1,at.length=0,_e=0;_e<et;_e+=1)tt=this.shapes[_e],tt.styles.indexOf(it)!==-1&&(at.push(tt),ot=tt._isAnimated||ot);at.length>1&&ot&&this.setShapesAsAnimated(at)}},SVGShapeElement.prototype.setShapesAsAnimated=function(_e){var et,tt=_e.length;for(et=0;et<tt;et+=1)_e[et].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(_e,et){var tt,rt=new SVGStyleData(_e,et),nt=rt.pElem;if(_e.ty==="st")tt=new SVGStrokeStyleData(this,_e,rt);else if(_e.ty==="fl")tt=new SVGFillStyleData(this,_e,rt);else if(_e.ty==="gf"||_e.ty==="gs"){var it=_e.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;tt=new it(this,_e,rt),this.globalData.defs.appendChild(tt.gf),tt.maskId&&(this.globalData.defs.appendChild(tt.ms),this.globalData.defs.appendChild(tt.of),nt.setAttribute("mask","url("+getLocationHref()+"#"+tt.maskId+")"))}else _e.ty==="no"&&(tt=new SVGNoStyleData(this,_e,rt));return(_e.ty==="st"||_e.ty==="gs")&&(nt.setAttribute("stroke-linecap",lineCapEnum[_e.lc||2]),nt.setAttribute("stroke-linejoin",lineJoinEnum[_e.lj||2]),nt.setAttribute("fill-opacity","0"),_e.lj===1&&nt.setAttribute("stroke-miterlimit",_e.ml)),_e.r===2&&nt.setAttribute("fill-rule","evenodd"),_e.ln&&nt.setAttribute("id",_e.ln),_e.cl&&nt.setAttribute("class",_e.cl),_e.bm&&(nt.style["mix-blend-mode"]=getBlendMode(_e.bm)),this.stylesList.push(rt),this.addToAnimatedContents(_e,tt),tt},SVGShapeElement.prototype.createGroupElement=function(_e){var et=new ShapeGroupData;return _e.ln&&et.gr.setAttribute("id",_e.ln),_e.cl&&et.gr.setAttribute("class",_e.cl),_e.bm&&(et.gr.style["mix-blend-mode"]=getBlendMode(_e.bm)),et},SVGShapeElement.prototype.createTransformElement=function(_e,et){var tt=TransformPropertyFactory.getTransformProperty(this,_e,this),rt=new SVGTransformData(tt,tt.o,et);return this.addToAnimatedContents(_e,rt),rt},SVGShapeElement.prototype.createShapeElement=function(_e,et,tt){var rt=4;_e.ty==="rc"?rt=5:_e.ty==="el"?rt=6:_e.ty==="sr"&&(rt=7);var nt=ShapePropertyFactory.getShapeProp(this,_e,rt,this),it=new SVGShapeData(et,tt,nt);return this.shapes.push(it),this.addShapeToModifiers(it),this.addToAnimatedContents(_e,it),it},SVGShapeElement.prototype.addToAnimatedContents=function(_e,et){for(var tt=0,rt=this.animatedContents.length;tt<rt;){if(this.animatedContents[tt].element===et)return;tt+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(_e),element:et,data:_e})},SVGShapeElement.prototype.setElementStyles=function(_e){var et=_e.styles,tt,rt=this.stylesList.length;for(tt=0;tt<rt;tt+=1)this.stylesList[tt].closed||et.push(this.stylesList[tt])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var _e,et=this.itemsData.length;for(_e=0;_e<et;_e+=1)this.prevViewData[_e]=this.itemsData[_e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),et=this.dynamicProperties.length,_e=0;_e<et;_e+=1)this.dynamicProperties[_e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(_e,et,tt,rt,nt,it,at){var ot=[].concat(it),st,lt=_e.length-1,ct,ut,dt=[],ft=[],pt,ht,yt;for(st=lt;st>=0;st-=1){if(yt=this.searchProcessedElement(_e[st]),yt?et[st]=tt[yt-1]:_e[st]._render=at,_e[st].ty==="fl"||_e[st].ty==="st"||_e[st].ty==="gf"||_e[st].ty==="gs"||_e[st].ty==="no")yt?et[st].style.closed=!1:et[st]=this.createStyleElement(_e[st],nt),_e[st]._render&&et[st].style.pElem.parentNode!==rt&&rt.appendChild(et[st].style.pElem),dt.push(et[st].style);else if(_e[st].ty==="gr"){if(!yt)et[st]=this.createGroupElement(_e[st]);else for(ut=et[st].it.length,ct=0;ct<ut;ct+=1)et[st].prevViewData[ct]=et[st].it[ct];this.searchShapes(_e[st].it,et[st].it,et[st].prevViewData,et[st].gr,nt+1,ot,at),_e[st]._render&&et[st].gr.parentNode!==rt&&rt.appendChild(et[st].gr)}else _e[st].ty==="tr"?(yt||(et[st]=this.createTransformElement(_e[st],rt)),pt=et[st].transform,ot.push(pt)):_e[st].ty==="sh"||_e[st].ty==="rc"||_e[st].ty==="el"||_e[st].ty==="sr"?(yt||(et[st]=this.createShapeElement(_e[st],ot,nt)),this.setElementStyles(et[st])):_e[st].ty==="tm"||_e[st].ty==="rd"||_e[st].ty==="ms"||_e[st].ty==="pb"||_e[st].ty==="zz"||_e[st].ty==="op"?(yt?(ht=et[st],ht.closed=!1):(ht=ShapeModifiers.getModifier(_e[st].ty),ht.init(this,_e[st]),et[st]=ht,this.shapeModifiers.push(ht)),ft.push(ht)):_e[st].ty==="rp"&&(yt?(ht=et[st],ht.closed=!0):(ht=ShapeModifiers.getModifier(_e[st].ty),et[st]=ht,ht.init(this,_e,st,et),this.shapeModifiers.push(ht),at=!1),ft.push(ht));this.addProcessedElement(_e[st],st+1)}for(lt=dt.length,st=0;st<lt;st+=1)dt[st].closed=!0;for(lt=ft.length,st=0;st<lt;st+=1)ft[st].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var _e,et=this.stylesList.length;for(_e=0;_e<et;_e+=1)this.stylesList[_e].reset();for(this.renderShape(),_e=0;_e<et;_e+=1)(this.stylesList[_e]._mdf||this._isFirstFrame)&&(this.stylesList[_e].msElem&&(this.stylesList[_e].msElem.setAttribute("d",this.stylesList[_e].d),this.stylesList[_e].d="M0 0"+this.stylesList[_e].d),this.stylesList[_e].pElem.setAttribute("d",this.stylesList[_e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var _e,et=this.animatedContents.length,tt;for(_e=0;_e<et;_e+=1)tt=this.animatedContents[_e],(this._isFirstFrame||tt.element._isAnimated)&&tt.data!==!0&&tt.fn(tt.data,tt.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(_e,et,tt,rt,nt,it){this.o=_e,this.sw=et,this.sc=tt,this.fc=rt,this.m=nt,this.p=it,this._mdf={o:!0,sw:!!et,sc:!!tt,fc:!!rt,m:!0,p:!0}}LetterProps.prototype.update=function(_e,et,tt,rt,nt,it){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var at=!1;return this.o!==_e&&(this.o=_e,this._mdf.o=!0,at=!0),this.sw!==et&&(this.sw=et,this._mdf.sw=!0,at=!0),this.sc!==tt&&(this.sc=tt,this._mdf.sc=!0,at=!0),this.fc!==rt&&(this.fc=rt,this._mdf.fc=!0,at=!0),this.m!==nt&&(this.m=nt,this._mdf.m=!0,at=!0),it.length&&(this.p[0]!==it[0]||this.p[1]!==it[1]||this.p[4]!==it[4]||this.p[5]!==it[5]||this.p[12]!==it[12]||this.p[13]!==it[13])&&(this.p=it,this._mdf.p=!0,at=!0),at};function TextProperty(_e,et){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,et.d&&et.d.sid&&(et.d=_e.globalData.slotManager.getProp(et.d)),this.data=et,this.elem=_e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(_e,et){for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt]);return _e},TextProperty.prototype.setCurrentData=function(_e){_e.__complete||this.completeTextData(_e),this.currentData=_e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(_e){this.effectsSequence.push(_e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(_e){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!_e)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var et=this.currentData,tt=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var rt,nt=this.effectsSequence.length,it=_e||this.data.d.k[this.keysIndex].s;for(rt=0;rt<nt;rt+=1)tt!==this.keysIndex?it=this.effectsSequence[rt](it,it.t):it=this.effectsSequence[rt](this.currentData,it.t);et!==it&&this.setCurrentData(it),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var _e=this.data.d.k,et=this.elem.comp.renderedFrame,tt=0,rt=_e.length;tt<=rt-1&&!(tt===rt-1||_e[tt+1].t>et);)tt+=1;return this.keysIndex!==tt&&(this.keysIndex=tt),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(_e){for(var et=[],tt=0,rt=_e.length,nt,it,at=!1,ot=!1,st="";tt<rt;)at=ot,ot=!1,nt=_e.charCodeAt(tt),st=_e.charAt(tt),FontManager.isCombinedCharacter(nt)?at=!0:nt>=55296&&nt<=56319?FontManager.isRegionalFlag(_e,tt)?st=_e.substr(tt,14):(it=_e.charCodeAt(tt+1),it>=56320&&it<=57343&&(FontManager.isModifier(nt,it)?(st=_e.substr(tt,2),at=!0):FontManager.isFlagEmoji(_e.substr(tt,4))?st=_e.substr(tt,4):st=_e.substr(tt,2))):nt>56319?(it=_e.charCodeAt(tt+1),FontManager.isVariationSelector(nt)&&(at=!0)):FontManager.isZeroWidthJoiner(nt)&&(at=!0,ot=!0),at?(et[et.length-1]+=st,at=!1):et.push(st),tt+=st.length;return et},TextProperty.prototype.completeTextData=function(_e){_e.__complete=!0;var et=this.elem.globalData.fontManager,tt=this.data,rt=[],nt,it,at,ot=0,st,lt=tt.m.g,ct=0,ut=0,dt=0,ft=[],pt=0,ht=0,yt,mt,gt=et.getFontByName(_e.f),vt,St=0,xt=getFontProperties(gt);_e.fWeight=xt.weight,_e.fStyle=xt.style,_e.finalSize=_e.s,_e.finalText=this.buildFinalText(_e.t),it=_e.finalText.length,_e.finalLineHeight=_e.lh;var Ct=_e.tr/1e3*_e.finalSize,wt;if(_e.sz)for(var _t=!0,Ot=_e.sz[0],kt=_e.sz[1],Lt,$t;_t;){$t=this.buildFinalText(_e.t),Lt=0,pt=0,it=$t.length,Ct=_e.tr/1e3*_e.finalSize;var zt=-1;for(nt=0;nt<it;nt+=1)wt=$t[nt].charCodeAt(0),at=!1,$t[nt]===" "?zt=nt:(wt===13||wt===3)&&(pt=0,at=!0,Lt+=_e.finalLineHeight||_e.finalSize*1.2),et.chars?(vt=et.getCharData($t[nt],gt.fStyle,gt.fFamily),St=at?0:vt.w*_e.finalSize/100):St=et.measureText($t[nt],_e.f,_e.finalSize),pt+St>Ot&&$t[nt]!==" "?(zt===-1?it+=1:nt=zt,Lt+=_e.finalLineHeight||_e.finalSize*1.2,$t.splice(nt,zt===nt?1:0,"\r"),zt=-1,pt=0):(pt+=St,pt+=Ct);Lt+=gt.ascent*_e.finalSize/100,this.canResize&&_e.finalSize>this.minimumFontSize&&kt<Lt?(_e.finalSize-=1,_e.finalLineHeight=_e.finalSize*_e.lh/_e.s):(_e.finalText=$t,it=_e.finalText.length,_t=!1)}pt=-Ct,St=0;var Vt=0,Ut;for(nt=0;nt<it;nt+=1)if(at=!1,Ut=_e.finalText[nt],wt=Ut.charCodeAt(0),wt===13||wt===3?(Vt=0,ft.push(pt),ht=pt>ht?pt:ht,pt=-2*Ct,st="",at=!0,dt+=1):st=Ut,et.chars?(vt=et.getCharData(Ut,gt.fStyle,et.getFontByName(_e.f).fFamily),St=at?0:vt.w*_e.finalSize/100):St=et.measureText(st,_e.f,_e.finalSize),Ut===" "?Vt+=St+Ct:(pt+=St+Ct+Vt,Vt=0),rt.push({l:St,an:St,add:ct,n:at,anIndexes:[],val:st,line:dt,animatorJustifyOffset:0}),lt==2){if(ct+=St,st===""||st===" "||nt===it-1){for((st===""||st===" ")&&(ct-=St);ut<=nt;)rt[ut].an=ct,rt[ut].ind=ot,rt[ut].extra=St,ut+=1;ot+=1,ct=0}}else if(lt==3){if(ct+=St,st===""||nt===it-1){for(st===""&&(ct-=St);ut<=nt;)rt[ut].an=ct,rt[ut].ind=ot,rt[ut].extra=St,ut+=1;ct=0,ot+=1}}else rt[ot].ind=ot,rt[ot].extra=0,ot+=1;if(_e.l=rt,ht=pt>ht?pt:ht,ft.push(pt),_e.sz)_e.boxWidth=_e.sz[0],_e.justifyOffset=0;else switch(_e.boxWidth=ht,_e.j){case 1:_e.justifyOffset=-_e.boxWidth;break;case 2:_e.justifyOffset=-_e.boxWidth/2;break;default:_e.justifyOffset=0}_e.lineWidths=ft;var It=tt.a,Dt,Tt;mt=It.length;var Rt,Ft,jt=[];for(yt=0;yt<mt;yt+=1){for(Dt=It[yt],Dt.a.sc&&(_e.strokeColorAnim=!0),Dt.a.sw&&(_e.strokeWidthAnim=!0),(Dt.a.fc||Dt.a.fh||Dt.a.fs||Dt.a.fb)&&(_e.fillColorAnim=!0),Ft=0,Rt=Dt.s.b,nt=0;nt<it;nt+=1)Tt=rt[nt],Tt.anIndexes[yt]=Ft,(Rt==1&&Tt.val!==""||Rt==2&&Tt.val!==""&&Tt.val!==" "||Rt==3&&(Tt.n||Tt.val==" "||nt==it-1)||Rt==4&&(Tt.n||nt==it-1))&&(Dt.s.rn===1&&jt.push(Ft),Ft+=1);tt.a[yt].s.totalChars=Ft;var nr=-1,cr;if(Dt.s.rn===1)for(nt=0;nt<it;nt+=1)Tt=rt[nt],nr!=Tt.anIndexes[yt]&&(nr=Tt.anIndexes[yt],cr=jt.splice(Math.floor(Math.random()*jt.length),1)[0]),Tt.anIndexes[yt]=cr}_e.yOffset=_e.finalLineHeight||_e.finalSize*1.2,_e.ls=_e.ls||0,_e.ascent=gt.ascent*_e.finalSize/100},TextProperty.prototype.updateDocumentData=function(_e,et){et=et===void 0?this.keysIndex:et;var tt=this.copyData({},this.data.d.k[et].s);tt=this.copyData(tt,_e),this.data.d.k[et].s=tt,this.recalculate(et),this.setCurrentData(tt),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(_e){var et=this.data.d.k[_e].s;et.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(et)},TextProperty.prototype.canResizeFont=function(_e){this.canResize=_e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(_e){this.minimumFontSize=Math.floor(_e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var _e=Math.max,et=Math.min,tt=Math.floor;function rt(it,at){this._currentTextLength=-1,this.k=!1,this.data=at,this.elem=it,this.comp=it.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(it),this.s=PropertyFactory.getProp(it,at.s||{k:0},0,0,this),"e"in at?this.e=PropertyFactory.getProp(it,at.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(it,at.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(it,at.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(it,at.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(it,at.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(it,at.a,0,.01,this),this.dynamicProperties.length||this.getValue()}rt.prototype={getMult:function(at){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var ot=0,st=0,lt=1,ct=1;this.ne.v>0?ot=this.ne.v/100:st=-this.ne.v/100,this.xe.v>0?lt=1-this.xe.v/100:ct=1+this.xe.v/100;var ut=BezierFactory.getBezierEasing(ot,st,lt,ct).get,dt=0,ft=this.finalS,pt=this.finalE,ht=this.data.sh;if(ht===2)pt===ft?dt=at>=pt?1:0:dt=_e(0,et(.5/(pt-ft)+(at-ft)/(pt-ft),1)),dt=ut(dt);else if(ht===3)pt===ft?dt=at>=pt?0:1:dt=1-_e(0,et(.5/(pt-ft)+(at-ft)/(pt-ft),1)),dt=ut(dt);else if(ht===4)pt===ft?dt=0:(dt=_e(0,et(.5/(pt-ft)+(at-ft)/(pt-ft),1)),dt<.5?dt*=2:dt=1-2*(dt-.5)),dt=ut(dt);else if(ht===5){if(pt===ft)dt=0;else{var yt=pt-ft;at=et(_e(0,at+.5-ft),pt-ft);var mt=-yt/2+at,gt=yt/2;dt=Math.sqrt(1-mt*mt/(gt*gt))}dt=ut(dt)}else ht===6?(pt===ft?dt=0:(at=et(_e(0,at+.5-ft),pt-ft),dt=(1+Math.cos(Math.PI+Math.PI*2*at/(pt-ft)))/2),dt=ut(dt)):(at>=tt(ft)&&(at-ft<0?dt=_e(0,et(et(pt,1)-(ft-at),1)):dt=_e(0,et(pt-at,1))),dt=ut(dt));if(this.sm.v!==100){var vt=this.sm.v*.01;vt===0&&(vt=1e-8);var St=.5-vt*.5;dt<St?dt=0:(dt=(dt-St)/vt,dt>1&&(dt=1))}return dt*this.a.v},getValue:function(at){this.iterateDynamicProperties(),this._mdf=at||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,at&&this.data.r===2&&(this.e.v=this._currentTextLength);var ot=this.data.r===2?1:100/this.data.totalChars,st=this.o.v/ot,lt=this.s.v/ot+st,ct=this.e.v/ot+st;if(lt>ct){var ut=lt;lt=ct,ct=ut}this.finalS=lt,this.finalE=ct}},extendPrototype([DynamicPropertyContainer],rt);function nt(it,at,ot){return new rt(it,at)}return{getTextSelectorProp:nt}}();function TextAnimatorDataProperty(_e,et,tt){var rt={propType:!1},nt=PropertyFactory.getProp,it=et.a;this.a={r:it.r?nt(_e,it.r,0,degToRads,tt):rt,rx:it.rx?nt(_e,it.rx,0,degToRads,tt):rt,ry:it.ry?nt(_e,it.ry,0,degToRads,tt):rt,sk:it.sk?nt(_e,it.sk,0,degToRads,tt):rt,sa:it.sa?nt(_e,it.sa,0,degToRads,tt):rt,s:it.s?nt(_e,it.s,1,.01,tt):rt,a:it.a?nt(_e,it.a,1,0,tt):rt,o:it.o?nt(_e,it.o,0,.01,tt):rt,p:it.p?nt(_e,it.p,1,0,tt):rt,sw:it.sw?nt(_e,it.sw,0,0,tt):rt,sc:it.sc?nt(_e,it.sc,1,0,tt):rt,fc:it.fc?nt(_e,it.fc,1,0,tt):rt,fh:it.fh?nt(_e,it.fh,0,0,tt):rt,fs:it.fs?nt(_e,it.fs,0,.01,tt):rt,fb:it.fb?nt(_e,it.fb,0,.01,tt):rt,t:it.t?nt(_e,it.t,0,0,tt):rt},this.s=TextSelectorProp.getTextSelectorProp(_e,et.s,tt),this.s.t=et.s.t}function TextAnimatorProperty(_e,et,tt){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=_e,this._renderType=et,this._elem=tt,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(tt)}TextAnimatorProperty.prototype.searchProperties=function(){var _e,et=this._textData.a.length,tt,rt=PropertyFactory.getProp;for(_e=0;_e<et;_e+=1)tt=this._textData.a[_e],this._animatorsData[_e]=new TextAnimatorDataProperty(this._elem,tt,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:rt(this._elem,this._textData.p.a,0,0,this),f:rt(this._elem,this._textData.p.f,0,0,this),l:rt(this._elem,this._textData.p.l,0,0,this),r:rt(this._elem,this._textData.p.r,0,0,this),p:rt(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=rt(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(_e,et){if(this.lettersChangedFlag=et,!(!this._mdf&&!this._isFirstFrame&&!et&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var tt=this._moreOptions.alignment.v,rt=this._animatorsData,nt=this._textData,it=this.mHelper,at=this._renderType,ot=this.renderedLetters.length,st,lt,ct,ut,dt=_e.l,ft,pt,ht,yt,mt,gt,vt,St,xt,Ct,wt,_t,Ot,kt,Lt;if(this._hasMaskedPath){if(Lt=this._pathData.m,!this._pathData.n||this._pathData._mdf){var $t=Lt.v;this._pathData.r.v&&($t=$t.reverse()),ft={tLength:0,segments:[]},ut=$t._length-1;var zt;for(_t=0,ct=0;ct<ut;ct+=1)zt=bez.buildBezierData($t.v[ct],$t.v[ct+1],[$t.o[ct][0]-$t.v[ct][0],$t.o[ct][1]-$t.v[ct][1]],[$t.i[ct+1][0]-$t.v[ct+1][0],$t.i[ct+1][1]-$t.v[ct+1][1]]),ft.tLength+=zt.segmentLength,ft.segments.push(zt),_t+=zt.segmentLength;ct=ut,Lt.v.c&&(zt=bez.buildBezierData($t.v[ct],$t.v[0],[$t.o[ct][0]-$t.v[ct][0],$t.o[ct][1]-$t.v[ct][1]],[$t.i[0][0]-$t.v[0][0],$t.i[0][1]-$t.v[0][1]]),ft.tLength+=zt.segmentLength,ft.segments.push(zt),_t+=zt.segmentLength),this._pathData.pi=ft}if(ft=this._pathData.pi,pt=this._pathData.f.v,vt=0,gt=1,yt=0,mt=!0,Ct=ft.segments,pt<0&&Lt.v.c)for(ft.tLength<Math.abs(pt)&&(pt=-Math.abs(pt)%ft.tLength),vt=Ct.length-1,xt=Ct[vt].points,gt=xt.length-1;pt<0;)pt+=xt[gt].partialLength,gt-=1,gt<0&&(vt-=1,xt=Ct[vt].points,gt=xt.length-1);xt=Ct[vt].points,St=xt[gt-1],ht=xt[gt],wt=ht.partialLength}ut=dt.length,st=0,lt=0;var Vt=_e.finalSize*1.2*.714,Ut=!0,It,Dt,Tt,Rt,Ft;Rt=rt.length;var jt,nr=-1,cr,ur,pr,xr=pt,vr=vt,Br=gt,mr=-1,Ir,br,Tr,Vr,yr,rn,ar,Er,_r="",gr=this.defaultPropsArray,qr;if(_e.j===2||_e.j===1){var Sr=0,Hr=0,Qr=_e.j===2?-.5:-1,Xr=0,tn=!0;for(ct=0;ct<ut;ct+=1)if(dt[ct].n){for(Sr&&(Sr+=Hr);Xr<ct;)dt[Xr].animatorJustifyOffset=Sr,Xr+=1;Sr=0,tn=!0}else{for(Tt=0;Tt<Rt;Tt+=1)It=rt[Tt].a,It.t.propType&&(tn&&_e.j===2&&(Hr+=It.t.v*Qr),Dt=rt[Tt].s,jt=Dt.getMult(dt[ct].anIndexes[Tt],nt.a[Tt].s.totalChars),jt.length?Sr+=It.t.v*jt[0]*Qr:Sr+=It.t.v*jt*Qr);tn=!1}for(Sr&&(Sr+=Hr);Xr<ct;)dt[Xr].animatorJustifyOffset=Sr,Xr+=1}for(ct=0;ct<ut;ct+=1){if(it.reset(),Ir=1,dt[ct].n)st=0,lt+=_e.yOffset,lt+=Ut?1:0,pt=xr,Ut=!1,this._hasMaskedPath&&(vt=vr,gt=Br,xt=Ct[vt].points,St=xt[gt-1],ht=xt[gt],wt=ht.partialLength,yt=0),_r="",Er="",rn="",qr="",gr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(mr!==dt[ct].line){switch(_e.j){case 1:pt+=_t-_e.lineWidths[dt[ct].line];break;case 2:pt+=(_t-_e.lineWidths[dt[ct].line])/2;break}mr=dt[ct].line}nr!==dt[ct].ind&&(dt[nr]&&(pt+=dt[nr].extra),pt+=dt[ct].an/2,nr=dt[ct].ind),pt+=tt[0]*dt[ct].an*.005;var Rr=0;for(Tt=0;Tt<Rt;Tt+=1)It=rt[Tt].a,It.p.propType&&(Dt=rt[Tt].s,jt=Dt.getMult(dt[ct].anIndexes[Tt],nt.a[Tt].s.totalChars),jt.length?Rr+=It.p.v[0]*jt[0]:Rr+=It.p.v[0]*jt),It.a.propType&&(Dt=rt[Tt].s,jt=Dt.getMult(dt[ct].anIndexes[Tt],nt.a[Tt].s.totalChars),jt.length?Rr+=It.a.v[0]*jt[0]:Rr+=It.a.v[0]*jt);for(mt=!0,this._pathData.a.v&&(pt=dt[0].an*.5+(_t-this._pathData.f.v-dt[0].an*.5-dt[dt.length-1].an*.5)*nr/(ut-1),pt+=this._pathData.f.v);mt;)yt+wt>=pt+Rr||!xt?(Ot=(pt+Rr-yt)/ht.partialLength,ur=St.point[0]+(ht.point[0]-St.point[0])*Ot,pr=St.point[1]+(ht.point[1]-St.point[1])*Ot,it.translate(-tt[0]*dt[ct].an*.005,-(tt[1]*Vt)*.01),mt=!1):xt&&(yt+=ht.partialLength,gt+=1,gt>=xt.length&&(gt=0,vt+=1,Ct[vt]?xt=Ct[vt].points:Lt.v.c?(gt=0,vt=0,xt=Ct[vt].points):(yt-=ht.partialLength,xt=null)),xt&&(St=ht,ht=xt[gt],wt=ht.partialLength));cr=dt[ct].an/2-dt[ct].add,it.translate(-cr,0,0)}else cr=dt[ct].an/2-dt[ct].add,it.translate(-cr,0,0),it.translate(-tt[0]*dt[ct].an*.005,-tt[1]*Vt*.01,0);for(Tt=0;Tt<Rt;Tt+=1)It=rt[Tt].a,It.t.propType&&(Dt=rt[Tt].s,jt=Dt.getMult(dt[ct].anIndexes[Tt],nt.a[Tt].s.totalChars),(st!==0||_e.j!==0)&&(this._hasMaskedPath?jt.length?pt+=It.t.v*jt[0]:pt+=It.t.v*jt:jt.length?st+=It.t.v*jt[0]:st+=It.t.v*jt));for(_e.strokeWidthAnim&&(Tr=_e.sw||0),_e.strokeColorAnim&&(_e.sc?br=[_e.sc[0],_e.sc[1],_e.sc[2]]:br=[0,0,0]),_e.fillColorAnim&&_e.fc&&(Vr=[_e.fc[0],_e.fc[1],_e.fc[2]]),Tt=0;Tt<Rt;Tt+=1)It=rt[Tt].a,It.a.propType&&(Dt=rt[Tt].s,jt=Dt.getMult(dt[ct].anIndexes[Tt],nt.a[Tt].s.totalChars),jt.length?it.translate(-It.a.v[0]*jt[0],-It.a.v[1]*jt[1],It.a.v[2]*jt[2]):it.translate(-It.a.v[0]*jt,-It.a.v[1]*jt,It.a.v[2]*jt));for(Tt=0;Tt<Rt;Tt+=1)It=rt[Tt].a,It.s.propType&&(Dt=rt[Tt].s,jt=Dt.getMult(dt[ct].anIndexes[Tt],nt.a[Tt].s.totalChars),jt.length?it.scale(1+(It.s.v[0]-1)*jt[0],1+(It.s.v[1]-1)*jt[1],1):it.scale(1+(It.s.v[0]-1)*jt,1+(It.s.v[1]-1)*jt,1));for(Tt=0;Tt<Rt;Tt+=1){if(It=rt[Tt].a,Dt=rt[Tt].s,jt=Dt.getMult(dt[ct].anIndexes[Tt],nt.a[Tt].s.totalChars),It.sk.propType&&(jt.length?it.skewFromAxis(-It.sk.v*jt[0],It.sa.v*jt[1]):it.skewFromAxis(-It.sk.v*jt,It.sa.v*jt)),It.r.propType&&(jt.length?it.rotateZ(-It.r.v*jt[2]):it.rotateZ(-It.r.v*jt)),It.ry.propType&&(jt.length?it.rotateY(It.ry.v*jt[1]):it.rotateY(It.ry.v*jt)),It.rx.propType&&(jt.length?it.rotateX(It.rx.v*jt[0]):it.rotateX(It.rx.v*jt)),It.o.propType&&(jt.length?Ir+=(It.o.v*jt[0]-Ir)*jt[0]:Ir+=(It.o.v*jt-Ir)*jt),_e.strokeWidthAnim&&It.sw.propType&&(jt.length?Tr+=It.sw.v*jt[0]:Tr+=It.sw.v*jt),_e.strokeColorAnim&&It.sc.propType)for(yr=0;yr<3;yr+=1)jt.length?br[yr]+=(It.sc.v[yr]-br[yr])*jt[0]:br[yr]+=(It.sc.v[yr]-br[yr])*jt;if(_e.fillColorAnim&&_e.fc){if(It.fc.propType)for(yr=0;yr<3;yr+=1)jt.length?Vr[yr]+=(It.fc.v[yr]-Vr[yr])*jt[0]:Vr[yr]+=(It.fc.v[yr]-Vr[yr])*jt;It.fh.propType&&(jt.length?Vr=addHueToRGB(Vr,It.fh.v*jt[0]):Vr=addHueToRGB(Vr,It.fh.v*jt)),It.fs.propType&&(jt.length?Vr=addSaturationToRGB(Vr,It.fs.v*jt[0]):Vr=addSaturationToRGB(Vr,It.fs.v*jt)),It.fb.propType&&(jt.length?Vr=addBrightnessToRGB(Vr,It.fb.v*jt[0]):Vr=addBrightnessToRGB(Vr,It.fb.v*jt))}}for(Tt=0;Tt<Rt;Tt+=1)It=rt[Tt].a,It.p.propType&&(Dt=rt[Tt].s,jt=Dt.getMult(dt[ct].anIndexes[Tt],nt.a[Tt].s.totalChars),this._hasMaskedPath?jt.length?it.translate(0,It.p.v[1]*jt[0],-It.p.v[2]*jt[1]):it.translate(0,It.p.v[1]*jt,-It.p.v[2]*jt):jt.length?it.translate(It.p.v[0]*jt[0],It.p.v[1]*jt[1],-It.p.v[2]*jt[2]):it.translate(It.p.v[0]*jt,It.p.v[1]*jt,-It.p.v[2]*jt));if(_e.strokeWidthAnim&&(rn=Tr<0?0:Tr),_e.strokeColorAnim&&(ar="rgb("+Math.round(br[0]*255)+","+Math.round(br[1]*255)+","+Math.round(br[2]*255)+")"),_e.fillColorAnim&&_e.fc&&(Er="rgb("+Math.round(Vr[0]*255)+","+Math.round(Vr[1]*255)+","+Math.round(Vr[2]*255)+")"),this._hasMaskedPath){if(it.translate(0,-_e.ls),it.translate(0,tt[1]*Vt*.01+lt,0),this._pathData.p.v){kt=(ht.point[1]-St.point[1])/(ht.point[0]-St.point[0]);var wr=Math.atan(kt)*180/Math.PI;ht.point[0]<St.point[0]&&(wr+=180),it.rotate(-wr*Math.PI/180)}it.translate(ur,pr,0),pt-=tt[0]*dt[ct].an*.005,dt[ct+1]&&nr!==dt[ct+1].ind&&(pt+=dt[ct].an/2,pt+=_e.tr*.001*_e.finalSize)}else{switch(it.translate(st,lt,0),_e.ps&&it.translate(_e.ps[0],_e.ps[1]+_e.ascent,0),_e.j){case 1:it.translate(dt[ct].animatorJustifyOffset+_e.justifyOffset+(_e.boxWidth-_e.lineWidths[dt[ct].line]),0,0);break;case 2:it.translate(dt[ct].animatorJustifyOffset+_e.justifyOffset+(_e.boxWidth-_e.lineWidths[dt[ct].line])/2,0,0);break}it.translate(0,-_e.ls),it.translate(cr,0,0),it.translate(tt[0]*dt[ct].an*.005,tt[1]*Vt*.01,0),st+=dt[ct].l+_e.tr*.001*_e.finalSize}at==="html"?_r=it.toCSS():at==="svg"?_r=it.to2dCSS():gr=[it.props[0],it.props[1],it.props[2],it.props[3],it.props[4],it.props[5],it.props[6],it.props[7],it.props[8],it.props[9],it.props[10],it.props[11],it.props[12],it.props[13],it.props[14],it.props[15]],qr=Ir}ot<=ct?(Ft=new LetterProps(qr,rn,ar,Er,_r,gr),this.renderedLetters.push(Ft),ot+=1,this.lettersChangedFlag=!0):(Ft=this.renderedLetters[ct],this.lettersChangedFlag=Ft.update(qr,rn,ar,Er,_r,gr)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(_e,et,tt){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(_e,et,tt),this.textProperty=new TextProperty(this,_e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(_e.t,this.renderType,this),this.initTransform(_e,et,tt),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(_e){this._mdf=!1,this.prepareRenderableFrame(_e),this.prepareProperties(_e,this.isInRange)},ITextElement.prototype.createPathShape=function(_e,et){var tt,rt=et.length,nt,it="";for(tt=0;tt<rt;tt+=1)et[tt].ty==="sh"&&(nt=et[tt].ks.k,it+=buildShapeString(nt,nt.i.length,!0,_e));return it},ITextElement.prototype.updateDocumentData=function(_e,et){this.textProperty.updateDocumentData(_e,et)},ITextElement.prototype.canResizeFont=function(_e){this.textProperty.canResizeFont(_e)},ITextElement.prototype.setMinimumFontSize=function(_e){this.textProperty.setMinimumFontSize(_e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(_e,et,tt,rt,nt){switch(_e.ps&&et.translate(_e.ps[0],_e.ps[1]+_e.ascent,0),et.translate(0,-_e.ls,0),_e.j){case 1:et.translate(_e.justifyOffset+(_e.boxWidth-_e.lineWidths[tt]),0,0);break;case 2:et.translate(_e.justifyOffset+(_e.boxWidth-_e.lineWidths[tt])/2,0,0);break}et.translate(rt,nt,0)},ITextElement.prototype.buildColor=function(_e){return"rgb("+Math.round(_e[0]*255)+","+Math.round(_e[1]*255)+","+Math.round(_e[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(_e,et,tt){this.textSpans=[],this.renderType="svg",this.initElement(_e,et,tt)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(_e){for(var et=0,tt=_e.length,rt=[],nt="";et<tt;)_e[et]==="\r"||_e[et]===""?(rt.push(nt),nt=""):nt+=_e[et],et+=1;return rt.push(nt),rt},SVGTextLottieElement.prototype.buildShapeData=function(_e,et){if(_e.shapes&&_e.shapes.length){var tt=_e.shapes[0];if(tt.it){var rt=tt.it[tt.it.length-1];rt.s&&(rt.s.k[0]=et,rt.s.k[1]=et)}}return _e},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var _e,et,tt=this.textProperty.currentData;this.renderedLetters=createSizedArray(tt?tt.l.length:0),tt.fc?this.layerElement.setAttribute("fill",this.buildColor(tt.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),tt.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(tt.sc)),this.layerElement.setAttribute("stroke-width",tt.sw)),this.layerElement.setAttribute("font-size",tt.finalSize);var rt=this.globalData.fontManager.getFontByName(tt.f);if(rt.fClass)this.layerElement.setAttribute("class",rt.fClass);else{this.layerElement.setAttribute("font-family",rt.fFamily);var nt=tt.fWeight,it=tt.fStyle;this.layerElement.setAttribute("font-style",it),this.layerElement.setAttribute("font-weight",nt)}this.layerElement.setAttribute("aria-label",tt.t);var at=tt.l||[],ot=!!this.globalData.fontManager.chars;et=at.length;var st,lt=this.mHelper,ct="",ut=this.data.singleShape,dt=0,ft=0,pt=!0,ht=tt.tr*.001*tt.finalSize;if(ut&&!ot&&!tt.sz){var yt=this.textContainer,mt="start";switch(tt.j){case 1:mt="end";break;case 2:mt="middle";break;default:mt="start";break}yt.setAttribute("text-anchor",mt),yt.setAttribute("letter-spacing",ht);var gt=this.buildTextContents(tt.finalText);for(et=gt.length,ft=tt.ps?tt.ps[1]+tt.ascent:0,_e=0;_e<et;_e+=1)st=this.textSpans[_e].span||createNS("tspan"),st.textContent=gt[_e],st.setAttribute("x",0),st.setAttribute("y",ft),st.style.display="inherit",yt.appendChild(st),this.textSpans[_e]||(this.textSpans[_e]={span:null,glyph:null}),this.textSpans[_e].span=st,ft+=tt.finalLineHeight;this.layerElement.appendChild(yt)}else{var vt=this.textSpans.length,St;for(_e=0;_e<et;_e+=1){if(this.textSpans[_e]||(this.textSpans[_e]={span:null,childSpan:null,glyph:null}),!ot||!ut||_e===0){if(st=vt>_e?this.textSpans[_e].span:createNS(ot?"g":"text"),vt<=_e){if(st.setAttribute("stroke-linecap","butt"),st.setAttribute("stroke-linejoin","round"),st.setAttribute("stroke-miterlimit","4"),this.textSpans[_e].span=st,ot){var xt=createNS("g");st.appendChild(xt),this.textSpans[_e].childSpan=xt}this.textSpans[_e].span=st,this.layerElement.appendChild(st)}st.style.display="inherit"}if(lt.reset(),ut&&(at[_e].n&&(dt=-ht,ft+=tt.yOffset,ft+=pt?1:0,pt=!1),this.applyTextPropertiesToMatrix(tt,lt,at[_e].line,dt,ft),dt+=at[_e].l||0,dt+=ht),ot){St=this.globalData.fontManager.getCharData(tt.finalText[_e],rt.fStyle,this.globalData.fontManager.getFontByName(tt.f).fFamily);var Ct;if(St.t===1)Ct=new SVGCompElement(St.data,this.globalData,this);else{var wt=emptyShapeData;St.data&&St.data.shapes&&(wt=this.buildShapeData(St.data,tt.finalSize)),Ct=new SVGShapeElement(wt,this.globalData,this)}if(this.textSpans[_e].glyph){var _t=this.textSpans[_e].glyph;this.textSpans[_e].childSpan.removeChild(_t.layerElement),_t.destroy()}this.textSpans[_e].glyph=Ct,Ct._debug=!0,Ct.prepareFrame(0),Ct.renderFrame(),this.textSpans[_e].childSpan.appendChild(Ct.layerElement),St.t===1&&this.textSpans[_e].childSpan.setAttribute("transform","scale("+tt.finalSize/100+","+tt.finalSize/100+")")}else ut&&st.setAttribute("transform","translate("+lt.props[12]+","+lt.props[13]+")"),st.textContent=at[_e].val,st.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}ut&&st&&st.setAttribute("d",ct)}for(;_e<this.textSpans.length;)this.textSpans[_e].span.style.display="none",_e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var _e=this.layerElement.getBBox();this.bbox={top:_e.y,left:_e.x,width:_e.width,height:_e.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var _e,et=this.textSpans.length,tt;for(this.renderedFrame=this.comp.renderedFrame,_e=0;_e<et;_e+=1)tt=this.textSpans[_e].glyph,tt&&(tt.prepareFrame(this.comp.renderedFrame-this.data.st),tt._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var _e,et,tt=this.textAnimator.renderedLetters,rt=this.textProperty.currentData.l;et=rt.length;var nt,it,at;for(_e=0;_e<et;_e+=1)rt[_e].n||(nt=tt[_e],it=this.textSpans[_e].span,at=this.textSpans[_e].glyph,at&&at.renderFrame(),nt._mdf.m&&it.setAttribute("transform",nt.m),nt._mdf.o&&it.setAttribute("opacity",nt.o),nt._mdf.sw&&it.setAttribute("stroke-width",nt.sw),nt._mdf.sc&&it.setAttribute("stroke",nt.sc),nt._mdf.fc&&it.setAttribute("fill",nt.fc))}};function ISolidElement(_e,et,tt){this.initElement(_e,et,tt)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var _e=createNS("rect");_e.setAttribute("width",this.data.sw),_e.setAttribute("height",this.data.sh),_e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(_e)};function NullElement(_e,et,tt){this.initFrame(),this.initBaseData(_e,et,tt),this.initFrame(),this.initTransform(_e,et,tt),this.initHierarchy()}NullElement.prototype.prepareFrame=function(_e){this.prepareProperties(_e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(_e){return new NullElement(_e,this.globalData,this)},SVGRendererBase.prototype.createShape=function(_e){return new SVGShapeElement(_e,this.globalData,this)},SVGRendererBase.prototype.createText=function(_e){return new SVGTextLottieElement(_e,this.globalData,this)},SVGRendererBase.prototype.createImage=function(_e){return new IImageElement(_e,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(_e){return new ISolidElement(_e,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(_e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+_e.w+" "+_e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",_e.w),this.svgElement.setAttribute("height",_e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var et=this.globalData.defs;this.setupGlobalData(_e,et),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=_e;var tt=createNS("clipPath"),rt=createNS("rect");rt.setAttribute("width",_e.w),rt.setAttribute("height",_e.h),rt.setAttribute("x",0),rt.setAttribute("y",0);var nt=createElementID();tt.setAttribute("id",nt),tt.appendChild(rt),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+nt+")"),et.appendChild(tt),this.layers=_e.layers,this.elements=createSizedArray(_e.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var _e,et=this.layers?this.layers.length:0;for(_e=0;_e<et;_e+=1)this.elements[_e]&&this.elements[_e].destroy&&this.elements[_e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(_e){var et=0,tt=this.layers.length;for(et=0;et<tt;et+=1)if(this.layers[et].ind===_e)return et;return-1},SVGRendererBase.prototype.buildItem=function(_e){var et=this.elements;if(!(et[_e]||this.layers[_e].ty===99)){et[_e]=!0;var tt=this.createItem(this.layers[_e]);if(et[_e]=tt,getExpressionsPlugin()&&(this.layers[_e].ty===0&&this.globalData.projectInterface.registerComposition(tt),tt.initExpressions()),this.appendElementInPos(tt,_e),this.layers[_e].tt){var rt="tp"in this.layers[_e]?this.findIndexByInd(this.layers[_e].tp):_e-1;if(rt===-1)return;if(!this.elements[rt]||this.elements[rt]===!0)this.buildItem(rt),this.addPendingElement(tt);else{var nt=et[rt],it=nt.getMatte(this.layers[_e].tt);tt.setMatte(it)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var _e=this.pendingElements.pop();if(_e.checkParenting(),_e.data.tt)for(var et=0,tt=this.elements.length;et<tt;){if(this.elements[et]===_e){var rt="tp"in _e.data?this.findIndexByInd(_e.data.tp):et-1,nt=this.elements[rt],it=nt.getMatte(this.layers[et].tt);_e.setMatte(it);break}et+=1}}},SVGRendererBase.prototype.renderFrame=function(_e){if(!(this.renderedFrame===_e||this.destroyed)){_e===null?_e=this.renderedFrame:this.renderedFrame=_e,this.globalData.frameNum=_e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=_e,this.globalData._mdf=!1;var et,tt=this.layers.length;for(this.completeLayers||this.checkLayers(_e),et=tt-1;et>=0;et-=1)(this.completeLayers||this.elements[et])&&this.elements[et].prepareFrame(_e-this.layers[et].st);if(this.globalData._mdf)for(et=0;et<tt;et+=1)(this.completeLayers||this.elements[et])&&this.elements[et].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(_e,et){var tt=_e.getBaseElement();if(tt){for(var rt=0,nt;rt<et;)this.elements[rt]&&this.elements[rt]!==!0&&this.elements[rt].getBaseElement()&&(nt=this.elements[rt].getBaseElement()),rt+=1;nt?this.layerElement.insertBefore(tt,nt):this.layerElement.appendChild(tt)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(_e,et,tt){this.initFrame(),this.initBaseData(_e,et,tt),this.initTransform(_e,et,tt),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!et.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(_e){if(this._mdf=!1,this.prepareRenderableFrame(_e),this.prepareProperties(_e,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=_e/this.data.sr;else{var et=this.tm.v;et===this.data.op&&(et=this.data.op-1),this.renderedFrame=et}var tt,rt=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),tt=rt-1;tt>=0;tt-=1)(this.completeLayers||this.elements[tt])&&(this.elements[tt].prepareFrame(this.renderedFrame-this.layers[tt].st),this.elements[tt]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var _e,et=this.layers.length;for(_e=0;_e<et;_e+=1)(this.completeLayers||this.elements[_e])&&this.elements[_e].renderFrame()},ICompElement.prototype.setElements=function(_e){this.elements=_e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var _e,et=this.layers.length;for(_e=0;_e<et;_e+=1)this.elements[_e]&&this.elements[_e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(_e,et,tt){this.layers=_e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(_e,et,tt),this.tm=_e.tm?PropertyFactory.getProp(this,_e.tm,0,et.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(_e){return new SVGCompElement(_e,this.globalData,this)};function SVGRenderer(_e,et){this.animationItem=_e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var tt="";if(et&&et.title){var rt=createNS("title"),nt=createElementID();rt.setAttribute("id",nt),rt.textContent=et.title,this.svgElement.appendChild(rt),tt+=nt}if(et&&et.description){var it=createNS("desc"),at=createElementID();it.setAttribute("id",at),it.textContent=et.description,this.svgElement.appendChild(it),tt+=" "+at}tt&&this.svgElement.setAttribute("aria-labelledby",tt);var ot=createNS("defs");this.svgElement.appendChild(ot);var st=createNS("g");this.svgElement.appendChild(st),this.layerElement=st,this.renderConfig={preserveAspectRatio:et&&et.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:et&&et.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:et&&et.contentVisibility||"visible",progressiveLoad:et&&et.progressiveLoad||!1,hideOnTransparent:!(et&&et.hideOnTransparent===!1),viewBoxOnly:et&&et.viewBoxOnly||!1,viewBoxSize:et&&et.viewBoxSize||!1,className:et&&et.className||"",id:et&&et.id||"",focusable:et&&et.focusable,filterSize:{width:et&&et.filterSize&&et.filterSize.width||"100%",height:et&&et.filterSize&&et.filterSize.height||"100%",x:et&&et.filterSize&&et.filterSize.x||"0%",y:et&&et.filterSize&&et.filterSize.y||"0%"},width:et&&et.width,height:et&&et.height,runExpressions:!et||et.runExpressions===void 0||et.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:ot,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(_e){return new SVGCompElement(_e,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(et){var tt,rt=et.length,nt="_";for(tt=0;tt<rt;tt+=1)nt+=et[tt].transform.key+"_";var it=this.sequences[nt];return it||(it={transforms:[].concat(et),finalTransform:new Matrix,_mdf:!1},this.sequences[nt]=it,this.sequenceList.push(it)),it},processSequence:function(et,tt){for(var rt=0,nt=et.transforms.length,it=tt;rt<nt&&!tt;){if(et.transforms[rt].transform.mProps._mdf){it=!0;break}rt+=1}if(it)for(et.finalTransform.reset(),rt=nt-1;rt>=0;rt-=1)et.finalTransform.multiply(et.transforms[rt].transform.mProps.v);et._mdf=it},processSequences:function(et){var tt,rt=this.sequenceList.length;for(tt=0;tt<rt;tt+=1)this.processSequence(this.sequenceList[tt],et)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var et="__lottie_element_luma_buffer",tt=null,rt=null,nt=null;function it(){var st=createNS("svg"),lt=createNS("filter"),ct=createNS("feColorMatrix");return lt.setAttribute("id",et),ct.setAttribute("type","matrix"),ct.setAttribute("color-interpolation-filters","sRGB"),ct.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),lt.appendChild(ct),st.appendChild(lt),st.setAttribute("id",et+"_svg"),featureSupport.svgLumaHidden&&(st.style.display="none"),st}function at(){tt||(nt=it(),document.body.appendChild(nt),tt=createTag("canvas"),rt=tt.getContext("2d"),rt.filter="url(#"+et+")",rt.fillStyle="rgba(0,0,0,0)",rt.fillRect(0,0,1,1))}function ot(st){return tt||at(),tt.width=st.width,tt.height=st.height,rt.filter="url(#"+et+")",tt}return{load:at,get:ot}};function createCanvas(_e,et){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(_e,et);var tt=createTag("canvas");return tt.width=_e,tt.height=et,tt}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(_e){var et,tt=_e.data.ef?_e.data.ef.length:0;this.filters=[];var rt;for(et=0;et<tt;et+=1){rt=null;var nt=_e.data.ef[et].ty;if(registeredEffects[nt]){var it=registeredEffects[nt].effect;rt=new it(_e.effectsManager.effectElements[et],_e)}rt&&this.filters.push(rt)}this.filters.length&&_e.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(_e){var et,tt=this.filters.length;for(et=0;et<tt;et+=1)this.filters[et].renderFrame(_e)},CVEffects.prototype.getEffects=function(_e){var et,tt=this.filters.length,rt=[];for(et=0;et<tt;et+=1)this.filters[et].type===_e&&rt.push(this.filters[et]);return rt};function registerEffect(_e,et){registeredEffects[_e]={effect:et}}function CVMaskElement(_e,et){this.data=_e,this.element=et,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var tt,rt=this.masksProperties.length,nt=!1;for(tt=0;tt<rt;tt+=1)this.masksProperties[tt].mode!=="n"&&(nt=!0),this.viewData[tt]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[tt],3);this.hasMasks=nt,nt&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var _e=this.element.finalTransform.mat,et=this.element.canvasContext,tt,rt=this.masksProperties.length,nt,it,at;for(et.beginPath(),tt=0;tt<rt;tt+=1)if(this.masksProperties[tt].mode!=="n"){this.masksProperties[tt].inv&&(et.moveTo(0,0),et.lineTo(this.element.globalData.compSize.w,0),et.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),et.lineTo(0,this.element.globalData.compSize.h),et.lineTo(0,0)),at=this.viewData[tt].v,nt=_e.applyToPointArray(at.v[0][0],at.v[0][1],0),et.moveTo(nt[0],nt[1]);var ot,st=at._length;for(ot=1;ot<st;ot+=1)it=_e.applyToTriplePoints(at.o[ot-1],at.i[ot],at.v[ot]),et.bezierCurveTo(it[0],it[1],it[2],it[3],it[4],it[5]);it=_e.applyToTriplePoints(at.o[ot-1],at.i[0],at.v[0]),et.bezierCurveTo(it[0],it[1],it[2],it[3],it[4],it[5])}this.element.globalData.renderer.save(!0),et.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var et=this.globalData.canvasContext,tt=assetLoader.createCanvas(et.canvas.width,et.canvas.height);this.buffers.push(tt);var rt=assetLoader.createCanvas(et.canvas.width,et.canvas.height);this.buffers.push(rt),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var et=this.globalData;if(et.blendMode!==this.data.bm){et.blendMode=this.data.bm;var tt=getBlendMode(this.data.bm);et.canvasContext.globalCompositeOperation=tt}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(et){et.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var et=this.buffers[0],tt=et.getContext("2d");this.clearCanvas(tt),tt.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var et=this.buffers[1],tt=et.getContext("2d");this.clearCanvas(tt),tt.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var rt=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(rt.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var nt=assetLoader.getLumaCanvas(this.canvasContext.canvas),it=nt.getContext("2d");it.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(nt,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(et,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(et){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!et)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var tt=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(tt),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(tt),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(_e,et,tt,rt){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var nt=4;et.ty==="rc"?nt=5:et.ty==="el"?nt=6:et.ty==="sr"&&(nt=7),this.sh=ShapePropertyFactory.getShapeProp(_e,et,nt,_e);var it,at=tt.length,ot;for(it=0;it<at;it+=1)tt[it].closed||(ot={transforms:rt.addTransformSequence(tt[it].transforms),trNodes:[]},this.styledShapes.push(ot),tt[it].elements.push(ot))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(_e,et,tt){this.shapes=[],this.shapesData=_e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(_e,et,tt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(_e,et){var tt={data:_e,type:_e.ty,preTransforms:this.transformsManager.addTransformSequence(et),transforms:[],elements:[],closed:_e.hd===!0},rt={};if(_e.ty==="fl"||_e.ty==="st"?(rt.c=PropertyFactory.getProp(this,_e.c,1,255,this),rt.c.k||(tt.co="rgb("+bmFloor(rt.c.v[0])+","+bmFloor(rt.c.v[1])+","+bmFloor(rt.c.v[2])+")")):(_e.ty==="gf"||_e.ty==="gs")&&(rt.s=PropertyFactory.getProp(this,_e.s,1,null,this),rt.e=PropertyFactory.getProp(this,_e.e,1,null,this),rt.h=PropertyFactory.getProp(this,_e.h||{k:0},0,.01,this),rt.a=PropertyFactory.getProp(this,_e.a||{k:0},0,degToRads,this),rt.g=new GradientProperty(this,_e.g,this)),rt.o=PropertyFactory.getProp(this,_e.o,0,.01,this),_e.ty==="st"||_e.ty==="gs"){if(tt.lc=lineCapEnum[_e.lc||2],tt.lj=lineJoinEnum[_e.lj||2],_e.lj==1&&(tt.ml=_e.ml),rt.w=PropertyFactory.getProp(this,_e.w,0,null,this),rt.w.k||(tt.wi=rt.w.v),_e.d){var nt=new DashProperty(this,_e.d,"canvas",this);rt.d=nt,rt.d.k||(tt.da=rt.d.dashArray,tt.do=rt.d.dashoffset[0])}}else tt.r=_e.r===2?"evenodd":"nonzero";return this.stylesList.push(tt),rt.style=tt,rt},CVShapeElement.prototype.createGroupElement=function(){var _e={it:[],prevViewData:[]};return _e},CVShapeElement.prototype.createTransformElement=function(_e){var et={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,_e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,_e,this)}};return et},CVShapeElement.prototype.createShapeElement=function(_e){var et=new CVShapeData(this,_e,this.stylesList,this.transformsManager);return this.shapes.push(et),this.addShapeToModifiers(et),et},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var _e,et=this.itemsData.length;for(_e=0;_e<et;_e+=1)this.prevViewData[_e]=this.itemsData[_e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),et=this.dynamicProperties.length,_e=0;_e<et;_e+=1)this.dynamicProperties[_e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(_e){var et,tt=this.stylesList.length;for(et=0;et<tt;et+=1)this.stylesList[et].closed||this.stylesList[et].transforms.push(_e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var _e,et=this.stylesList.length;for(_e=0;_e<et;_e+=1)this.stylesList[_e].closed||this.stylesList[_e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(_e){var et,tt=_e.length;for(et=0;et<tt;et+=1)_e[et].closed=!0},CVShapeElement.prototype.searchShapes=function(_e,et,tt,rt,nt){var it,at=_e.length-1,ot,st,lt=[],ct=[],ut,dt,ft,pt=[].concat(nt);for(it=at;it>=0;it-=1){if(ut=this.searchProcessedElement(_e[it]),ut?et[it]=tt[ut-1]:_e[it]._shouldRender=rt,_e[it].ty==="fl"||_e[it].ty==="st"||_e[it].ty==="gf"||_e[it].ty==="gs")ut?et[it].style.closed=!1:et[it]=this.createStyleElement(_e[it],pt),lt.push(et[it].style);else if(_e[it].ty==="gr"){if(!ut)et[it]=this.createGroupElement(_e[it]);else for(st=et[it].it.length,ot=0;ot<st;ot+=1)et[it].prevViewData[ot]=et[it].it[ot];this.searchShapes(_e[it].it,et[it].it,et[it].prevViewData,rt,pt)}else _e[it].ty==="tr"?(ut||(ft=this.createTransformElement(_e[it]),et[it]=ft),pt.push(et[it]),this.addTransformToStyleList(et[it])):_e[it].ty==="sh"||_e[it].ty==="rc"||_e[it].ty==="el"||_e[it].ty==="sr"?ut||(et[it]=this.createShapeElement(_e[it])):_e[it].ty==="tm"||_e[it].ty==="rd"||_e[it].ty==="pb"||_e[it].ty==="zz"||_e[it].ty==="op"?(ut?(dt=et[it],dt.closed=!1):(dt=ShapeModifiers.getModifier(_e[it].ty),dt.init(this,_e[it]),et[it]=dt,this.shapeModifiers.push(dt)),ct.push(dt)):_e[it].ty==="rp"&&(ut?(dt=et[it],dt.closed=!0):(dt=ShapeModifiers.getModifier(_e[it].ty),et[it]=dt,dt.init(this,_e,it,et),this.shapeModifiers.push(dt),rt=!1),ct.push(dt));this.addProcessedElement(_e[it],it+1)}for(this.removeTransformFromStyleList(),this.closeStyles(lt),at=ct.length,it=0;it<at;it+=1)ct[it].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(_e,et){(_e._opMdf||et.op._mdf||this._isFirstFrame)&&(et.opacity=_e.opacity,et.opacity*=et.op.v,et._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var _e,et=this.stylesList.length,tt,rt,nt,it,at,ot,st=this.globalData.renderer,lt=this.globalData.canvasContext,ct,ut;for(_e=0;_e<et;_e+=1)if(ut=this.stylesList[_e],ct=ut.type,!((ct==="st"||ct==="gs")&&ut.wi===0||!ut.data._shouldRender||ut.coOp===0||this.globalData.currentGlobalAlpha===0)){for(st.save(),at=ut.elements,ct==="st"||ct==="gs"?(st.ctxStrokeStyle(ct==="st"?ut.co:ut.grd),st.ctxLineWidth(ut.wi),st.ctxLineCap(ut.lc),st.ctxLineJoin(ut.lj),st.ctxMiterLimit(ut.ml||0)):st.ctxFillStyle(ct==="fl"?ut.co:ut.grd),st.ctxOpacity(ut.coOp),ct!=="st"&&ct!=="gs"&&lt.beginPath(),st.ctxTransform(ut.preTransforms.finalTransform.props),rt=at.length,tt=0;tt<rt;tt+=1){for((ct==="st"||ct==="gs")&&(lt.beginPath(),ut.da&&(lt.setLineDash(ut.da),lt.lineDashOffset=ut.do)),ot=at[tt].trNodes,it=ot.length,nt=0;nt<it;nt+=1)ot[nt].t==="m"?lt.moveTo(ot[nt].p[0],ot[nt].p[1]):ot[nt].t==="c"?lt.bezierCurveTo(ot[nt].pts[0],ot[nt].pts[1],ot[nt].pts[2],ot[nt].pts[3],ot[nt].pts[4],ot[nt].pts[5]):lt.closePath();(ct==="st"||ct==="gs")&&(st.ctxStroke(),ut.da&&lt.setLineDash(this.dashResetter))}ct!=="st"&&ct!=="gs"&&this.globalData.renderer.ctxFill(ut.r),st.restore()}},CVShapeElement.prototype.renderShape=function(_e,et,tt,rt){var nt,it=et.length-1,at;for(at=_e,nt=it;nt>=0;nt-=1)et[nt].ty==="tr"?(at=tt[nt].transform,this.renderShapeTransform(_e,at)):et[nt].ty==="sh"||et[nt].ty==="el"||et[nt].ty==="rc"||et[nt].ty==="sr"?this.renderPath(et[nt],tt[nt]):et[nt].ty==="fl"?this.renderFill(et[nt],tt[nt],at):et[nt].ty==="st"?this.renderStroke(et[nt],tt[nt],at):et[nt].ty==="gf"||et[nt].ty==="gs"?this.renderGradientFill(et[nt],tt[nt],at):et[nt].ty==="gr"?this.renderShape(at,et[nt].it,tt[nt].it):et[nt].ty;rt&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(_e,et){if(this._isFirstFrame||et._mdf||_e.transforms._mdf){var tt=_e.trNodes,rt=et.paths,nt,it,at,ot=rt._length;tt.length=0;var st=_e.transforms.finalTransform;for(at=0;at<ot;at+=1){var lt=rt.shapes[at];if(lt&&lt.v){for(it=lt._length,nt=1;nt<it;nt+=1)nt===1&&tt.push({t:"m",p:st.applyToPointArray(lt.v[0][0],lt.v[0][1],0)}),tt.push({t:"c",pts:st.applyToTriplePoints(lt.o[nt-1],lt.i[nt],lt.v[nt])});it===1&&tt.push({t:"m",p:st.applyToPointArray(lt.v[0][0],lt.v[0][1],0)}),lt.c&&it&&(tt.push({t:"c",pts:st.applyToTriplePoints(lt.o[nt-1],lt.i[0],lt.v[0])}),tt.push({t:"z"}))}}_e.trNodes=tt}},CVShapeElement.prototype.renderPath=function(_e,et){if(_e.hd!==!0&&_e._shouldRender){var tt,rt=et.styledShapes.length;for(tt=0;tt<rt;tt+=1)this.renderStyledShape(et.styledShapes[tt],et.sh)}},CVShapeElement.prototype.renderFill=function(_e,et,tt){var rt=et.style;(et.c._mdf||this._isFirstFrame)&&(rt.co="rgb("+bmFloor(et.c.v[0])+","+bmFloor(et.c.v[1])+","+bmFloor(et.c.v[2])+")"),(et.o._mdf||tt._opMdf||this._isFirstFrame)&&(rt.coOp=et.o.v*tt.opacity)},CVShapeElement.prototype.renderGradientFill=function(_e,et,tt){var rt=et.style,nt;if(!rt.grd||et.g._mdf||et.s._mdf||et.e._mdf||_e.t!==1&&(et.h._mdf||et.a._mdf)){var it=this.globalData.canvasContext,at=et.s.v,ot=et.e.v;if(_e.t===1)nt=it.createLinearGradient(at[0],at[1],ot[0],ot[1]);else{var st=Math.sqrt(Math.pow(at[0]-ot[0],2)+Math.pow(at[1]-ot[1],2)),lt=Math.atan2(ot[1]-at[1],ot[0]-at[0]),ct=et.h.v;ct>=1?ct=.99:ct<=-1&&(ct=-.99);var ut=st*ct,dt=Math.cos(lt+et.a.v)*ut+at[0],ft=Math.sin(lt+et.a.v)*ut+at[1];nt=it.createRadialGradient(dt,ft,0,at[0],at[1],st)}var pt,ht=_e.g.p,yt=et.g.c,mt=1;for(pt=0;pt<ht;pt+=1)et.g._hasOpacity&&et.g._collapsable&&(mt=et.g.o[pt*2+1]),nt.addColorStop(yt[pt*4]/100,"rgba("+yt[pt*4+1]+","+yt[pt*4+2]+","+yt[pt*4+3]+","+mt+")");rt.grd=nt}rt.coOp=et.o.v*tt.opacity},CVShapeElement.prototype.renderStroke=function(_e,et,tt){var rt=et.style,nt=et.d;nt&&(nt._mdf||this._isFirstFrame)&&(rt.da=nt.dashArray,rt.do=nt.dashoffset[0]),(et.c._mdf||this._isFirstFrame)&&(rt.co="rgb("+bmFloor(et.c.v[0])+","+bmFloor(et.c.v[1])+","+bmFloor(et.c.v[2])+")"),(et.o._mdf||tt._opMdf||this._isFirstFrame)&&(rt.coOp=et.o.v*tt.opacity),(et.w._mdf||this._isFirstFrame)&&(rt.wi=et.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(_e,et,tt){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(_e,et,tt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var _e=this.textProperty.currentData;this.renderedLetters=createSizedArray(_e.l?_e.l.length:0);var et=!1;_e.fc?(et=!0,this.values.fill=this.buildColor(_e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=et;var tt=!1;_e.sc&&(tt=!0,this.values.stroke=this.buildColor(_e.sc),this.values.sWidth=_e.sw);var rt=this.globalData.fontManager.getFontByName(_e.f),nt,it,at=_e.l,ot=this.mHelper;this.stroke=tt,this.values.fValue=_e.finalSize+"px "+this.globalData.fontManager.getFontByName(_e.f).fFamily,it=_e.finalText.length;var st,lt,ct,ut,dt,ft,pt,ht,yt,mt,gt=this.data.singleShape,vt=_e.tr*.001*_e.finalSize,St=0,xt=0,Ct=!0,wt=0;for(nt=0;nt<it;nt+=1){st=this.globalData.fontManager.getCharData(_e.finalText[nt],rt.fStyle,this.globalData.fontManager.getFontByName(_e.f).fFamily),lt=st&&st.data||{},ot.reset(),gt&&at[nt].n&&(St=-vt,xt+=_e.yOffset,xt+=Ct?1:0,Ct=!1),dt=lt.shapes?lt.shapes[0].it:[],pt=dt.length,ot.scale(_e.finalSize/100,_e.finalSize/100),gt&&this.applyTextPropertiesToMatrix(_e,ot,at[nt].line,St,xt),yt=createSizedArray(pt-1);var _t=0;for(ft=0;ft<pt;ft+=1)if(dt[ft].ty==="sh"){for(ut=dt[ft].ks.k.i.length,ht=dt[ft].ks.k,mt=[],ct=1;ct<ut;ct+=1)ct===1&&mt.push(ot.applyToX(ht.v[0][0],ht.v[0][1],0),ot.applyToY(ht.v[0][0],ht.v[0][1],0)),mt.push(ot.applyToX(ht.o[ct-1][0],ht.o[ct-1][1],0),ot.applyToY(ht.o[ct-1][0],ht.o[ct-1][1],0),ot.applyToX(ht.i[ct][0],ht.i[ct][1],0),ot.applyToY(ht.i[ct][0],ht.i[ct][1],0),ot.applyToX(ht.v[ct][0],ht.v[ct][1],0),ot.applyToY(ht.v[ct][0],ht.v[ct][1],0));mt.push(ot.applyToX(ht.o[ct-1][0],ht.o[ct-1][1],0),ot.applyToY(ht.o[ct-1][0],ht.o[ct-1][1],0),ot.applyToX(ht.i[0][0],ht.i[0][1],0),ot.applyToY(ht.i[0][0],ht.i[0][1],0),ot.applyToX(ht.v[0][0],ht.v[0][1],0),ot.applyToY(ht.v[0][0],ht.v[0][1],0)),yt[_t]=mt,_t+=1}gt&&(St+=at[nt].l,St+=vt),this.textSpans[wt]?this.textSpans[wt].elem=yt:this.textSpans[wt]={elem:yt},wt+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var _e=this.canvasContext;_e.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var et,tt,rt,nt,it,at,ot=this.textAnimator.renderedLetters,st=this.textProperty.currentData.l;tt=st.length;var lt,ct=null,ut=null,dt=null,ft,pt,ht=this.globalData.renderer;for(et=0;et<tt;et+=1)if(!st[et].n){if(lt=ot[et],lt&&(ht.save(),ht.ctxTransform(lt.p),ht.ctxOpacity(lt.o)),this.fill){for(lt&&lt.fc?ct!==lt.fc&&(ht.ctxFillStyle(lt.fc),ct=lt.fc):ct!==this.values.fill&&(ct=this.values.fill,ht.ctxFillStyle(this.values.fill)),ft=this.textSpans[et].elem,nt=ft.length,this.globalData.canvasContext.beginPath(),rt=0;rt<nt;rt+=1)for(pt=ft[rt],at=pt.length,this.globalData.canvasContext.moveTo(pt[0],pt[1]),it=2;it<at;it+=6)this.globalData.canvasContext.bezierCurveTo(pt[it],pt[it+1],pt[it+2],pt[it+3],pt[it+4],pt[it+5]);this.globalData.canvasContext.closePath(),ht.ctxFill()}if(this.stroke){for(lt&&lt.sw?dt!==lt.sw&&(dt=lt.sw,ht.ctxLineWidth(lt.sw)):dt!==this.values.sWidth&&(dt=this.values.sWidth,ht.ctxLineWidth(this.values.sWidth)),lt&&lt.sc?ut!==lt.sc&&(ut=lt.sc,ht.ctxStrokeStyle(lt.sc)):ut!==this.values.stroke&&(ut=this.values.stroke,ht.ctxStrokeStyle(this.values.stroke)),ft=this.textSpans[et].elem,nt=ft.length,this.globalData.canvasContext.beginPath(),rt=0;rt<nt;rt+=1)for(pt=ft[rt],at=pt.length,this.globalData.canvasContext.moveTo(pt[0],pt[1]),it=2;it<at;it+=6)this.globalData.canvasContext.bezierCurveTo(pt[it],pt[it+1],pt[it+2],pt[it+3],pt[it+4],pt[it+5]);this.globalData.canvasContext.closePath(),ht.ctxStroke()}lt&&this.globalData.renderer.restore()}};function CVImageElement(_e,et,tt){this.assetData=et.getAssetData(_e.refId),this.img=et.imageLoader.getAsset(this.assetData),this.initElement(_e,et,tt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var _e=createTag("canvas");_e.width=this.assetData.w,_e.height=this.assetData.h;var et=_e.getContext("2d"),tt=this.img.width,rt=this.img.height,nt=tt/rt,it=this.assetData.w/this.assetData.h,at,ot,st=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;nt>it&&st==="xMidYMid slice"||nt<it&&st!=="xMidYMid slice"?(ot=rt,at=ot*it):(at=tt,ot=at/it),et.drawImage(this.img,(tt-at)/2,(rt-ot)/2,at,ot,0,0,this.assetData.w,this.assetData.h),this.img=_e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(_e,et,tt){this.initElement(_e,et,tt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(_e){return new CVShapeElement(_e,this.globalData,this)},CanvasRendererBase.prototype.createText=function(_e){return new CVTextElement(_e,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(_e){return new CVImageElement(_e,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(_e){return new CVSolidElement(_e,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(_e){_e[0]===1&&_e[1]===0&&_e[4]===0&&_e[5]===1&&_e[12]===0&&_e[13]===0||this.canvasContext.transform(_e[0],_e[1],_e[4],_e[5],_e[12],_e[13])},CanvasRendererBase.prototype.ctxOpacity=function(_e){this.canvasContext.globalAlpha*=_e<0?0:_e},CanvasRendererBase.prototype.ctxFillStyle=function(_e){this.canvasContext.fillStyle=_e},CanvasRendererBase.prototype.ctxStrokeStyle=function(_e){this.canvasContext.strokeStyle=_e},CanvasRendererBase.prototype.ctxLineWidth=function(_e){this.canvasContext.lineWidth=_e},CanvasRendererBase.prototype.ctxLineCap=function(_e){this.canvasContext.lineCap=_e},CanvasRendererBase.prototype.ctxLineJoin=function(_e){this.canvasContext.lineJoin=_e},CanvasRendererBase.prototype.ctxMiterLimit=function(_e){this.canvasContext.miterLimit=_e},CanvasRendererBase.prototype.ctxFill=function(_e){this.canvasContext.fill(_e)},CanvasRendererBase.prototype.ctxFillRect=function(_e,et,tt,rt){this.canvasContext.fillRect(_e,et,tt,rt)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(_e){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}_e&&(this.globalData.blendMode="source-over"),this.contextData.restore(_e)},CanvasRendererBase.prototype.configAnimation=function(_e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var et=this.animationItem.container.style;et.width="100%",et.height="100%";var tt="0px 0px 0px";et.transformOrigin=tt,et.mozTransformOrigin=tt,et.webkitTransformOrigin=tt,et["-webkit-transform"]=tt,et.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=_e,this.layers=_e.layers,this.transformCanvas={w:_e.w,h:_e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(_e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(_e.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(_e,et){this.reset();var tt,rt;_e?(tt=_e,rt=et,this.canvasContext.canvas.width=tt,this.canvasContext.canvas.height=rt):(this.animationItem.wrapper&&this.animationItem.container?(tt=this.animationItem.wrapper.offsetWidth,rt=this.animationItem.wrapper.offsetHeight):(tt=this.canvasContext.canvas.width,rt=this.canvasContext.canvas.height),this.canvasContext.canvas.width=tt*this.renderConfig.dpr,this.canvasContext.canvas.height=rt*this.renderConfig.dpr);var nt,it;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var at=this.renderConfig.preserveAspectRatio.split(" "),ot=at[1]||"meet",st=at[0]||"xMidYMid",lt=st.substr(0,4),ct=st.substr(4);nt=tt/rt,it=this.transformCanvas.w/this.transformCanvas.h,it>nt&&ot==="meet"||it<nt&&ot==="slice"?(this.transformCanvas.sx=tt/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=tt/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=rt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=rt/(this.transformCanvas.h/this.renderConfig.dpr)),lt==="xMid"&&(it<nt&&ot==="meet"||it>nt&&ot==="slice")?this.transformCanvas.tx=(tt-this.transformCanvas.w*(rt/this.transformCanvas.h))/2*this.renderConfig.dpr:lt==="xMax"&&(it<nt&&ot==="meet"||it>nt&&ot==="slice")?this.transformCanvas.tx=(tt-this.transformCanvas.w*(rt/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,ct==="YMid"&&(it>nt&&ot==="meet"||it<nt&&ot==="slice")?this.transformCanvas.ty=(rt-this.transformCanvas.h*(tt/this.transformCanvas.w))/2*this.renderConfig.dpr:ct==="YMax"&&(it>nt&&ot==="meet"||it<nt&&ot==="slice")?this.transformCanvas.ty=(rt-this.transformCanvas.h*(tt/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=tt/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=rt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var _e,et=this.layers?this.layers.length:0;for(_e=et-1;_e>=0;_e-=1)this.elements[_e]&&this.elements[_e].destroy&&this.elements[_e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(_e,et){if(!(this.renderedFrame===_e&&this.renderConfig.clearCanvas===!0&&!et||this.destroyed||_e===-1)){this.renderedFrame=_e,this.globalData.frameNum=_e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||et,this.globalData.projectInterface.currentFrame=_e;var tt,rt=this.layers.length;for(this.completeLayers||this.checkLayers(_e),tt=rt-1;tt>=0;tt-=1)(this.completeLayers||this.elements[tt])&&this.elements[tt].prepareFrame(_e-this.layers[tt].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),tt=rt-1;tt>=0;tt-=1)(this.completeLayers||this.elements[tt])&&this.elements[tt].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(_e){var et=this.elements;if(!(et[_e]||this.layers[_e].ty===99)){var tt=this.createItem(this.layers[_e],this,this.globalData);et[_e]=tt,tt.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var _e=this.pendingElements.pop();_e.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var _e,et=15;for(_e=0;_e<et;_e+=1){var tt=new CanvasContext;this.stack[_e]=tt}this._length=et,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var _e=this._length*2,et=0;for(et=this._length;et<_e;et+=1)this.stack[et]=new CanvasContext;this._length=_e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(_e){this.cArrPos-=1;var et=this.stack[this.cArrPos],tt=et.transform,rt,nt=this.cTr.props;for(rt=0;rt<16;rt+=1)nt[rt]=tt[rt];if(_e){this.nativeContext.restore();var it=this.stack[this.cArrPos+1];this.appliedFillStyle=it.fillStyle,this.appliedStrokeStyle=it.strokeStyle,this.appliedLineWidth=it.lineWidth,this.appliedLineCap=it.lineCap,this.appliedLineJoin=it.lineJoin,this.appliedMiterLimit=it.miterLimit}this.nativeContext.setTransform(tt[0],tt[1],tt[4],tt[5],tt[12],tt[13]),(_e||et.opacity!==-1&&this.currentOpacity!==et.opacity)&&(this.nativeContext.globalAlpha=et.opacity,this.currentOpacity=et.opacity),this.currentFillStyle=et.fillStyle,this.currentStrokeStyle=et.strokeStyle,this.currentLineWidth=et.lineWidth,this.currentLineCap=et.lineCap,this.currentLineJoin=et.lineJoin,this.currentMiterLimit=et.miterLimit},CVContextData.prototype.save=function(_e){_e&&this.nativeContext.save();var et=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var tt=this.stack[this.cArrPos],rt;for(rt=0;rt<16;rt+=1)tt.transform[rt]=et[rt];this.cArrPos+=1;var nt=this.stack[this.cArrPos];nt.opacity=tt.opacity,nt.fillStyle=tt.fillStyle,nt.strokeStyle=tt.strokeStyle,nt.lineWidth=tt.lineWidth,nt.lineCap=tt.lineCap,nt.lineJoin=tt.lineJoin,nt.miterLimit=tt.miterLimit},CVContextData.prototype.setOpacity=function(_e){this.stack[this.cArrPos].opacity=_e},CVContextData.prototype.setContext=function(_e){this.nativeContext=_e},CVContextData.prototype.fillStyle=function(_e){this.stack[this.cArrPos].fillStyle!==_e&&(this.currentFillStyle=_e,this.stack[this.cArrPos].fillStyle=_e)},CVContextData.prototype.strokeStyle=function(_e){this.stack[this.cArrPos].strokeStyle!==_e&&(this.currentStrokeStyle=_e,this.stack[this.cArrPos].strokeStyle=_e)},CVContextData.prototype.lineWidth=function(_e){this.stack[this.cArrPos].lineWidth!==_e&&(this.currentLineWidth=_e,this.stack[this.cArrPos].lineWidth=_e)},CVContextData.prototype.lineCap=function(_e){this.stack[this.cArrPos].lineCap!==_e&&(this.currentLineCap=_e,this.stack[this.cArrPos].lineCap=_e)},CVContextData.prototype.lineJoin=function(_e){this.stack[this.cArrPos].lineJoin!==_e&&(this.currentLineJoin=_e,this.stack[this.cArrPos].lineJoin=_e)},CVContextData.prototype.miterLimit=function(_e){this.stack[this.cArrPos].miterLimit!==_e&&(this.currentMiterLimit=_e,this.stack[this.cArrPos].miterLimit=_e)},CVContextData.prototype.transform=function(_e){this.transformMat.cloneFromProps(_e);var et=this.cTr;this.transformMat.multiply(et),et.cloneFromProps(this.transformMat.props);var tt=et.props;this.nativeContext.setTransform(tt[0],tt[1],tt[4],tt[5],tt[12],tt[13])},CVContextData.prototype.opacity=function(_e){var et=this.stack[this.cArrPos].opacity;et*=_e<0?0:_e,this.stack[this.cArrPos].opacity!==et&&(this.currentOpacity!==_e&&(this.nativeContext.globalAlpha=_e,this.currentOpacity=_e),this.stack[this.cArrPos].opacity=et)},CVContextData.prototype.fill=function(_e){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(_e)},CVContextData.prototype.fillRect=function(_e,et,tt,rt){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(_e,et,tt,rt)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(_e,et,tt){this.completeLayers=!1,this.layers=_e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(_e,et,tt),this.tm=_e.tm?PropertyFactory.getProp(this,_e.tm,0,et.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var _e=this.canvasContext;_e.beginPath(),_e.moveTo(0,0),_e.lineTo(this.data.w,0),_e.lineTo(this.data.w,this.data.h),_e.lineTo(0,this.data.h),_e.lineTo(0,0),_e.clip();var et,tt=this.layers.length;for(et=tt-1;et>=0;et-=1)(this.completeLayers||this.elements[et])&&this.elements[et].renderFrame()},CVCompElement.prototype.destroy=function(){var _e,et=this.layers.length;for(_e=et-1;_e>=0;_e-=1)this.elements[_e]&&this.elements[_e].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(_e){return new CVCompElement(_e,this.globalData,this)};function CanvasRenderer(_e,et){this.animationItem=_e,this.renderConfig={clearCanvas:et&&et.clearCanvas!==void 0?et.clearCanvas:!0,context:et&&et.context||null,progressiveLoad:et&&et.progressiveLoad||!1,preserveAspectRatio:et&&et.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:et&&et.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:et&&et.contentVisibility||"visible",className:et&&et.className||"",id:et&&et.id||"",runExpressions:!et||et.runExpressions===void 0||et.runExpressions},this.renderConfig.dpr=et&&et.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=et&&et.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(_e){return new CVCompElement(_e,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var et=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var tt=this.finalTransform.mat.toCSS();et.transform=tt,et.webkitTransform=tt}this.finalTransform._opMdf&&(et.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(_e,et,tt){this.initElement(_e,et,tt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var _e;this.data.hasMask?(_e=createNS("rect"),_e.setAttribute("width",this.data.sw),_e.setAttribute("height",this.data.sh),_e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(_e=createTag("div"),_e.style.width=this.data.sw+"px",_e.style.height=this.data.sh+"px",_e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(_e)};function HShapeElement(_e,et,tt){this.shapes=[],this.shapesData=_e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(_e,et,tt),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var _e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),_e=this.svgElement;else{_e=createNS("svg");var et=this.comp.data?this.comp.data:this.globalData.compSize;_e.setAttribute("width",et.w),_e.setAttribute("height",et.h),_e.appendChild(this.shapesContainer),this.layerElement.appendChild(_e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=_e},HShapeElement.prototype.getTransformedPoint=function(_e,et){var tt,rt=_e.length;for(tt=0;tt<rt;tt+=1)et=_e[tt].mProps.v.applyToPointArray(et[0],et[1],0);return et},HShapeElement.prototype.calculateShapeBoundingBox=function(_e,et){var tt=_e.sh.v,rt=_e.transformers,nt,it=tt._length,at,ot,st,lt;if(!(it<=1)){for(nt=0;nt<it-1;nt+=1)at=this.getTransformedPoint(rt,tt.v[nt]),ot=this.getTransformedPoint(rt,tt.o[nt]),st=this.getTransformedPoint(rt,tt.i[nt+1]),lt=this.getTransformedPoint(rt,tt.v[nt+1]),this.checkBounds(at,ot,st,lt,et);tt.c&&(at=this.getTransformedPoint(rt,tt.v[nt]),ot=this.getTransformedPoint(rt,tt.o[nt]),st=this.getTransformedPoint(rt,tt.i[0]),lt=this.getTransformedPoint(rt,tt.v[0]),this.checkBounds(at,ot,st,lt,et))}},HShapeElement.prototype.checkBounds=function(_e,et,tt,rt,nt){this.getBoundsOfCurve(_e,et,tt,rt);var it=this.shapeBoundingBox;nt.x=bmMin(it.left,nt.x),nt.xMax=bmMax(it.right,nt.xMax),nt.y=bmMin(it.top,nt.y),nt.yMax=bmMax(it.bottom,nt.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(_e,et,tt,rt){for(var nt=[[_e[0],rt[0]],[_e[1],rt[1]]],it,at,ot,st,lt,ct,ut,dt=0;dt<2;++dt)at=6*_e[dt]-12*et[dt]+6*tt[dt],it=-3*_e[dt]+9*et[dt]-9*tt[dt]+3*rt[dt],ot=3*et[dt]-3*_e[dt],at|=0,it|=0,ot|=0,it===0&&at===0||(it===0?(st=-ot/at,st>0&&st<1&&nt[dt].push(this.calculateF(st,_e,et,tt,rt,dt))):(lt=at*at-4*ot*it,lt>=0&&(ct=(-at+bmSqrt(lt))/(2*it),ct>0&&ct<1&&nt[dt].push(this.calculateF(ct,_e,et,tt,rt,dt)),ut=(-at-bmSqrt(lt))/(2*it),ut>0&&ut<1&&nt[dt].push(this.calculateF(ut,_e,et,tt,rt,dt)))));this.shapeBoundingBox.left=bmMin.apply(null,nt[0]),this.shapeBoundingBox.top=bmMin.apply(null,nt[1]),this.shapeBoundingBox.right=bmMax.apply(null,nt[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,nt[1])},HShapeElement.prototype.calculateF=function(_e,et,tt,rt,nt,it){return bmPow(1-_e,3)*et[it]+3*bmPow(1-_e,2)*_e*tt[it]+3*(1-_e)*bmPow(_e,2)*rt[it]+bmPow(_e,3)*nt[it]},HShapeElement.prototype.calculateBoundingBox=function(_e,et){var tt,rt=_e.length;for(tt=0;tt<rt;tt+=1)_e[tt]&&_e[tt].sh?this.calculateShapeBoundingBox(_e[tt],et):_e[tt]&&_e[tt].it?this.calculateBoundingBox(_e[tt].it,et):_e[tt]&&_e[tt].style&&_e[tt].w&&this.expandStrokeBoundingBox(_e[tt].w,et)},HShapeElement.prototype.expandStrokeBoundingBox=function(_e,et){var tt=0;if(_e.keyframes){for(var rt=0;rt<_e.keyframes.length;rt+=1){var nt=_e.keyframes[rt].s;nt>tt&&(tt=nt)}tt*=_e.mult}else tt=_e.v*_e.mult;et.x-=tt,et.xMax+=tt,et.y-=tt,et.yMax+=tt},HShapeElement.prototype.currentBoxContains=function(_e){return this.currentBBox.x<=_e.x&&this.currentBBox.y<=_e.y&&this.currentBBox.width+this.currentBBox.x>=_e.x+_e.width&&this.currentBBox.height+this.currentBBox.y>=_e.y+_e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var _e=this.tempBoundingBox,et=999999;if(_e.x=et,_e.xMax=-et,_e.y=et,_e.yMax=-et,this.calculateBoundingBox(this.itemsData,_e),_e.width=_e.xMax<_e.x?0:_e.xMax-_e.x,_e.height=_e.yMax<_e.y?0:_e.yMax-_e.y,this.currentBoxContains(_e))return;var tt=!1;if(this.currentBBox.w!==_e.width&&(this.currentBBox.w=_e.width,this.shapeCont.setAttribute("width",_e.width),tt=!0),this.currentBBox.h!==_e.height&&(this.currentBBox.h=_e.height,this.shapeCont.setAttribute("height",_e.height),tt=!0),tt||this.currentBBox.x!==_e.x||this.currentBBox.y!==_e.y){this.currentBBox.w=_e.width,this.currentBBox.h=_e.height,this.currentBBox.x=_e.x,this.currentBBox.y=_e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var rt=this.shapeCont.style,nt="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";rt.transform=nt,rt.webkitTransform=nt}}};function HTextElement(_e,et,tt){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(_e,et,tt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var _e=createNS("g");this.maskedElement.appendChild(_e),this.innerElem=_e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var _e=this.textProperty.currentData;this.renderedLetters=createSizedArray(_e.l?_e.l.length:0);var et=this.innerElem.style,tt=_e.fc?this.buildColor(_e.fc):"rgba(0,0,0,0)";et.fill=tt,et.color=tt,_e.sc&&(et.stroke=this.buildColor(_e.sc),et.strokeWidth=_e.sw+"px");var rt=this.globalData.fontManager.getFontByName(_e.f);if(!this.globalData.fontManager.chars)if(et.fontSize=_e.finalSize+"px",et.lineHeight=_e.finalSize+"px",rt.fClass)this.innerElem.className=rt.fClass;else{et.fontFamily=rt.fFamily;var nt=_e.fWeight,it=_e.fStyle;et.fontStyle=it,et.fontWeight=nt}var at,ot,st=_e.l;ot=st.length;var lt,ct,ut,dt=this.mHelper,ft,pt="",ht=0;for(at=0;at<ot;at+=1){if(this.globalData.fontManager.chars?(this.textPaths[ht]?lt=this.textPaths[ht]:(lt=createNS("path"),lt.setAttribute("stroke-linecap",lineCapEnum[1]),lt.setAttribute("stroke-linejoin",lineJoinEnum[2]),lt.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[ht]?(ct=this.textSpans[ht],ut=ct.children[0]):(ct=createTag("div"),ct.style.lineHeight=0,ut=createNS("svg"),ut.appendChild(lt),styleDiv(ct)))):this.isMasked?lt=this.textPaths[ht]?this.textPaths[ht]:createNS("text"):this.textSpans[ht]?(ct=this.textSpans[ht],lt=this.textPaths[ht]):(ct=createTag("span"),styleDiv(ct),lt=createTag("span"),styleDiv(lt),ct.appendChild(lt)),this.globalData.fontManager.chars){var yt=this.globalData.fontManager.getCharData(_e.finalText[at],rt.fStyle,this.globalData.fontManager.getFontByName(_e.f).fFamily),mt;if(yt?mt=yt.data:mt=null,dt.reset(),mt&&mt.shapes&&mt.shapes.length&&(ft=mt.shapes[0].it,dt.scale(_e.finalSize/100,_e.finalSize/100),pt=this.createPathShape(dt,ft),lt.setAttribute("d",pt)),this.isMasked)this.innerElem.appendChild(lt);else{if(this.innerElem.appendChild(ct),mt&&mt.shapes){document.body.appendChild(ut);var gt=ut.getBBox();ut.setAttribute("width",gt.width+2),ut.setAttribute("height",gt.height+2),ut.setAttribute("viewBox",gt.x-1+" "+(gt.y-1)+" "+(gt.width+2)+" "+(gt.height+2));var vt=ut.style,St="translate("+(gt.x-1)+"px,"+(gt.y-1)+"px)";vt.transform=St,vt.webkitTransform=St,st[at].yOffset=gt.y-1}else ut.setAttribute("width",1),ut.setAttribute("height",1);ct.appendChild(ut)}}else if(lt.textContent=st[at].val,lt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(lt);else{this.innerElem.appendChild(ct);var xt=lt.style,Ct="translate3d(0,"+-_e.finalSize/1.2+"px,0)";xt.transform=Ct,xt.webkitTransform=Ct}this.isMasked?this.textSpans[ht]=lt:this.textSpans[ht]=ct,this.textSpans[ht].style.display="block",this.textPaths[ht]=lt,ht+=1}for(;ht<this.textSpans.length;)this.textSpans[ht].style.display="none",ht+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var _e;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),_e=this.svgElement.style;var et="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";_e.transform=et,_e.webkitTransform=et}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var tt,rt,nt=0,it=this.textAnimator.renderedLetters,at=this.textProperty.currentData.l;rt=at.length;var ot,st,lt;for(tt=0;tt<rt;tt+=1)at[tt].n?nt+=1:(st=this.textSpans[tt],lt=this.textPaths[tt],ot=it[nt],nt+=1,ot._mdf.m&&(this.isMasked?st.setAttribute("transform",ot.m):(st.style.webkitTransform=ot.m,st.style.transform=ot.m)),st.style.opacity=ot.o,ot.sw&&ot._mdf.sw&&lt.setAttribute("stroke-width",ot.sw),ot.sc&&ot._mdf.sc&&lt.setAttribute("stroke",ot.sc),ot.fc&&ot._mdf.fc&&(lt.setAttribute("fill",ot.fc),lt.style.color=ot.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var ct=this.innerElem.getBBox();this.currentBBox.w!==ct.width&&(this.currentBBox.w=ct.width,this.svgElement.setAttribute("width",ct.width)),this.currentBBox.h!==ct.height&&(this.currentBBox.h=ct.height,this.svgElement.setAttribute("height",ct.height));var ut=1;if(this.currentBBox.w!==ct.width+ut*2||this.currentBBox.h!==ct.height+ut*2||this.currentBBox.x!==ct.x-ut||this.currentBBox.y!==ct.y-ut){this.currentBBox.w=ct.width+ut*2,this.currentBBox.h=ct.height+ut*2,this.currentBBox.x=ct.x-ut,this.currentBBox.y=ct.y-ut,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),_e=this.svgElement.style;var dt="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";_e.transform=dt,_e.webkitTransform=dt}}}};function HCameraElement(_e,et,tt){this.initFrame(),this.initBaseData(_e,et,tt),this.initHierarchy();var rt=PropertyFactory.getProp;if(this.pe=rt(this,_e.pe,0,0,this),_e.ks.p.s?(this.px=rt(this,_e.ks.p.x,1,0,this),this.py=rt(this,_e.ks.p.y,1,0,this),this.pz=rt(this,_e.ks.p.z,1,0,this)):this.p=rt(this,_e.ks.p,1,0,this),_e.ks.a&&(this.a=rt(this,_e.ks.a,1,0,this)),_e.ks.or.k.length&&_e.ks.or.k[0].to){var nt,it=_e.ks.or.k.length;for(nt=0;nt<it;nt+=1)_e.ks.or.k[nt].to=null,_e.ks.or.k[nt].ti=null}this.or=rt(this,_e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=rt(this,_e.ks.rx,0,degToRads,this),this.ry=rt(this,_e.ks.ry,0,degToRads,this),this.rz=rt(this,_e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var _e,et=this.comp.threeDElements.length,tt,rt,nt;for(_e=0;_e<et;_e+=1)if(tt=this.comp.threeDElements[_e],tt.type==="3d"){rt=tt.perspectiveElem.style,nt=tt.container.style;var it=this.pe.v+"px",at="0px 0px 0px",ot="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";rt.perspective=it,rt.webkitPerspective=it,nt.transformOrigin=at,nt.mozTransformOrigin=at,nt.webkitTransformOrigin=at,rt.transform=ot,rt.webkitTransform=ot}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var _e=this._isFirstFrame,et,tt;if(this.hierarchy)for(tt=this.hierarchy.length,et=0;et<tt;et+=1)_e=this.hierarchy[et].finalTransform.mProp._mdf||_e;if(_e||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(tt=this.hierarchy.length-1,et=tt;et>=0;et-=1){var rt=this.hierarchy[et].finalTransform.mProp;this.mat.translate(-rt.p.v[0],-rt.p.v[1],rt.p.v[2]),this.mat.rotateX(-rt.or.v[0]).rotateY(-rt.or.v[1]).rotateZ(rt.or.v[2]),this.mat.rotateX(-rt.rx.v).rotateY(-rt.ry.v).rotateZ(rt.rz.v),this.mat.scale(1/rt.s.v[0],1/rt.s.v[1],1/rt.s.v[2]),this.mat.translate(rt.a.v[0],rt.a.v[1],rt.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var nt;this.p?nt=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:nt=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var it=Math.sqrt(Math.pow(nt[0],2)+Math.pow(nt[1],2)+Math.pow(nt[2],2)),at=[nt[0]/it,nt[1]/it,nt[2]/it],ot=Math.sqrt(at[2]*at[2]+at[0]*at[0]),st=Math.atan2(at[1],ot),lt=Math.atan2(at[0],-at[2]);this.mat.rotateY(lt).rotateX(-st)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var ct=!this._prevMat.equals(this.mat);if((ct||this.pe._mdf)&&this.comp.threeDElements){tt=this.comp.threeDElements.length;var ut,dt,ft;for(et=0;et<tt;et+=1)if(ut=this.comp.threeDElements[et],ut.type==="3d"){if(ct){var pt=this.mat.toCSS();ft=ut.container.style,ft.transform=pt,ft.webkitTransform=pt}this.pe._mdf&&(dt=ut.perspectiveElem.style,dt.perspective=this.pe.v+"px",dt.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(_e){this.prepareProperties(_e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(_e,et,tt){this.assetData=et.getAssetData(_e.refId),this.initElement(_e,et,tt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var _e=this.globalData.getAssetsPath(this.assetData),et=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",_e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(et),et.crossOrigin="anonymous",et.src=_e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(_e,et){this.animationItem=_e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:et&&et.className||"",imagePreserveAspectRatio:et&&et.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(et&&et.hideOnTransparent===!1),filterSize:{width:et&&et.filterSize&&et.filterSize.width||"400%",height:et&&et.filterSize&&et.filterSize.height||"400%",x:et&&et.filterSize&&et.filterSize.x||"-100%",y:et&&et.filterSize&&et.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var _e=this.pendingElements.pop();_e.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(_e,et){var tt=_e.getBaseElement();if(tt){var rt=this.layers[et];if(!rt.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(tt,et);else{for(var nt=0,it,at,ot;nt<et;)this.elements[nt]&&this.elements[nt]!==!0&&this.elements[nt].getBaseElement&&(at=this.elements[nt],ot=this.layers[nt].ddd?this.getThreeDContainerByPos(nt):at.getBaseElement(),it=ot||it),nt+=1;it?(!rt.ddd||!this.supports3d)&&this.layerElement.insertBefore(tt,it):(!rt.ddd||!this.supports3d)&&this.layerElement.appendChild(tt)}else this.addTo3dContainer(tt,et)}},HybridRendererBase.prototype.createShape=function(_e){return this.supports3d?new HShapeElement(_e,this.globalData,this):new SVGShapeElement(_e,this.globalData,this)},HybridRendererBase.prototype.createText=function(_e){return this.supports3d?new HTextElement(_e,this.globalData,this):new SVGTextLottieElement(_e,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(_e){return this.camera=new HCameraElement(_e,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(_e){return this.supports3d?new HImageElement(_e,this.globalData,this):new IImageElement(_e,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(_e){return this.supports3d?new HSolidElement(_e,this.globalData,this):new ISolidElement(_e,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(_e){for(var et=0,tt=this.threeDElements.length;et<tt;){if(this.threeDElements[et].startPos<=_e&&this.threeDElements[et].endPos>=_e)return this.threeDElements[et].perspectiveElem;et+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(_e,et){var tt=createTag("div"),rt,nt;styleDiv(tt);var it=createTag("div");if(styleDiv(it),et==="3d"){rt=tt.style,rt.width=this.globalData.compSize.w+"px",rt.height=this.globalData.compSize.h+"px";var at="50% 50%";rt.webkitTransformOrigin=at,rt.mozTransformOrigin=at,rt.transformOrigin=at,nt=it.style;var ot="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";nt.transform=ot,nt.webkitTransform=ot}tt.appendChild(it);var st={container:it,perspectiveElem:tt,startPos:_e,endPos:_e,type:et};return this.threeDElements.push(st),st},HybridRendererBase.prototype.build3dContainers=function(){var _e,et=this.layers.length,tt,rt="";for(_e=0;_e<et;_e+=1)this.layers[_e].ddd&&this.layers[_e].ty!==3?(rt!=="3d"&&(rt="3d",tt=this.createThreeDContainer(_e,"3d")),tt.endPos=Math.max(tt.endPos,_e)):(rt!=="2d"&&(rt="2d",tt=this.createThreeDContainer(_e,"2d")),tt.endPos=Math.max(tt.endPos,_e));for(et=this.threeDElements.length,_e=et-1;_e>=0;_e-=1)this.resizerElem.appendChild(this.threeDElements[_e].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(_e,et){for(var tt=0,rt=this.threeDElements.length;tt<rt;){if(et<=this.threeDElements[tt].endPos){for(var nt=this.threeDElements[tt].startPos,it;nt<et;)this.elements[nt]&&this.elements[nt].getBaseElement&&(it=this.elements[nt].getBaseElement()),nt+=1;it?this.threeDElements[tt].container.insertBefore(_e,it):this.threeDElements[tt].container.appendChild(_e);break}tt+=1}},HybridRendererBase.prototype.configAnimation=function(_e){var et=createTag("div"),tt=this.animationItem.wrapper,rt=et.style;rt.width=_e.w+"px",rt.height=_e.h+"px",this.resizerElem=et,styleDiv(et),rt.transformStyle="flat",rt.mozTransformStyle="flat",rt.webkitTransformStyle="flat",this.renderConfig.className&&et.setAttribute("class",this.renderConfig.className),tt.appendChild(et),rt.overflow="hidden";var nt=createNS("svg");nt.setAttribute("width","1"),nt.setAttribute("height","1"),styleDiv(nt),this.resizerElem.appendChild(nt);var it=createNS("defs");nt.appendChild(it),this.data=_e,this.setupGlobalData(_e,nt),this.globalData.defs=it,this.layers=_e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var _e,et=this.layers?this.layers.length:0;for(_e=0;_e<et;_e+=1)this.elements[_e]&&this.elements[_e].destroy&&this.elements[_e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var _e=this.animationItem.wrapper.offsetWidth,et=this.animationItem.wrapper.offsetHeight,tt=_e/et,rt=this.globalData.compSize.w/this.globalData.compSize.h,nt,it,at,ot;rt>tt?(nt=_e/this.globalData.compSize.w,it=_e/this.globalData.compSize.w,at=0,ot=(et-this.globalData.compSize.h*(_e/this.globalData.compSize.w))/2):(nt=et/this.globalData.compSize.h,it=et/this.globalData.compSize.h,at=(_e-this.globalData.compSize.w*(et/this.globalData.compSize.h))/2,ot=0);var st=this.resizerElem.style;st.webkitTransform="matrix3d("+nt+",0,0,0,0,"+it+",0,0,0,0,1,0,"+at+","+ot+",0,1)",st.transform=st.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var _e=this.globalData.compSize.w,et=this.globalData.compSize.h,tt,rt=this.threeDElements.length;for(tt=0;tt<rt;tt+=1){var nt=this.threeDElements[tt].perspectiveElem.style;nt.webkitPerspective=Math.sqrt(Math.pow(_e,2)+Math.pow(et,2))+"px",nt.perspective=nt.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(_e){var et,tt=_e.length,rt=createTag("div");for(et=0;et<tt;et+=1)if(_e[et].xt){var nt=this.createComp(_e[et],rt,this.globalData.comp,null);nt.initExpressions(),this.globalData.projectInterface.registerComposition(nt)}};function HCompElement(_e,et,tt){this.layers=_e.layers,this.supports3d=!_e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(_e,et,tt),this.tm=_e.tm?PropertyFactory.getProp(this,_e.tm,0,et.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(_e,et){for(var tt=0,rt;tt<et;)this.elements[tt]&&this.elements[tt].getBaseElement&&(rt=this.elements[tt].getBaseElement()),tt+=1;rt?this.layerElement.insertBefore(_e,rt):this.layerElement.appendChild(_e)},HCompElement.prototype.createComp=function(_e){return this.supports3d?new HCompElement(_e,this.globalData,this):new SVGCompElement(_e,this.globalData,this)};function HybridRenderer(_e,et){this.animationItem=_e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:et&&et.className||"",imagePreserveAspectRatio:et&&et.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(et&&et.hideOnTransparent===!1),filterSize:{width:et&&et.filterSize&&et.filterSize.width||"400%",height:et&&et.filterSize&&et.filterSize.height||"400%",x:et&&et.filterSize&&et.filterSize.x||"-100%",y:et&&et.filterSize&&et.filterSize.y||"-100%"},runExpressions:!et||et.runExpressions===void 0||et.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(_e){return this.supports3d?new HCompElement(_e,this.globalData,this):new SVGCompElement(_e,this.globalData,this)};var CompExpressionInterface=function(){return function(_e){function et(tt){for(var rt=0,nt=_e.layers.length;rt<nt;){if(_e.layers[rt].nm===tt||_e.layers[rt].ind===tt)return _e.elements[rt].layerInterface;rt+=1}return null}return Object.defineProperty(et,"_name",{value:_e.data.nm}),et.layer=et,et.pixelAspect=1,et.height=_e.data.h||_e.globalData.compSize.h,et.width=_e.data.w||_e.globalData.compSize.w,et.pixelAspect=1,et.frameDuration=1/_e.globalData.frameRate,et.displayStartTime=0,et.numLayers=_e.layers.length,et}}();function _typeof$2(_e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(tt){return typeof tt}:_typeof$2=function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$2(_e)}function seedRandom(_e,et){var tt=this,rt=256,nt=6,it=52,at="random",ot=et.pow(rt,nt),st=et.pow(2,it),lt=st*2,ct=rt-1,ut;function dt(vt,St,xt){var Ct=[];St=St===!0?{entropy:!0}:St||{};var wt=yt(ht(St.entropy?[vt,gt(_e)]:vt===null?mt():vt,3),Ct),_t=new ft(Ct),Ot=function(){for(var Lt=_t.g(nt),$t=ot,zt=0;Lt<st;)Lt=(Lt+zt)*rt,$t*=rt,zt=_t.g(1);for(;Lt>=lt;)Lt/=2,$t/=2,zt>>>=1;return(Lt+zt)/$t};return Ot.int32=function(){return _t.g(4)|0},Ot.quick=function(){return _t.g(4)/4294967296},Ot.double=Ot,yt(gt(_t.S),_e),(St.pass||xt||function(kt,Lt,$t,zt){return zt&&(zt.S&&pt(zt,_t),kt.state=function(){return pt(_t,{})}),$t?(et[at]=kt,Lt):kt})(Ot,wt,"global"in St?St.global:this==et,St.state)}et["seed"+at]=dt;function ft(vt){var St,xt=vt.length,Ct=this,wt=0,_t=Ct.i=Ct.j=0,Ot=Ct.S=[];for(xt||(vt=[xt++]);wt<rt;)Ot[wt]=wt++;for(wt=0;wt<rt;wt++)Ot[wt]=Ot[_t=ct&_t+vt[wt%xt]+(St=Ot[wt])],Ot[_t]=St;Ct.g=function(kt){for(var Lt,$t=0,zt=Ct.i,Vt=Ct.j,Ut=Ct.S;kt--;)Lt=Ut[zt=ct&zt+1],$t=$t*rt+Ut[ct&(Ut[zt]=Ut[Vt=ct&Vt+Lt])+(Ut[Vt]=Lt)];return Ct.i=zt,Ct.j=Vt,$t}}function pt(vt,St){return St.i=vt.i,St.j=vt.j,St.S=vt.S.slice(),St}function ht(vt,St){var xt=[],Ct=_typeof$2(vt),wt;if(St&&Ct=="object")for(wt in vt)try{xt.push(ht(vt[wt],St-1))}catch{}return xt.length?xt:Ct=="string"?vt:vt+"\0"}function yt(vt,St){for(var xt=vt+"",Ct,wt=0;wt<xt.length;)St[ct&wt]=ct&(Ct^=St[ct&wt]*19)+xt.charCodeAt(wt++);return gt(St)}function mt(){try{var vt=new Uint8Array(rt);return(tt.crypto||tt.msCrypto).getRandomValues(vt),gt(vt)}catch{var St=tt.navigator,xt=St&&St.plugins;return[+new Date,tt,xt,tt.screen,gt(_e)]}}function gt(vt){return String.fromCharCode.apply(0,vt)}yt(et.random(),_e)}function initialize$2(_e){seedRandom([],_e)}var propTypes={SHAPE:"shape"};function _typeof$1(_e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(tt){return typeof tt}:_typeof$1=function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$1(_e)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(_e){return _e.constructor===Array||_e.constructor===Float32Array}function isNumerable(_e,et){return _e==="number"||et instanceof Number||_e==="boolean"||_e==="string"}function $bm_neg(_e){var et=_typeof$1(_e);if(et==="number"||_e instanceof Number||et==="boolean")return-_e;if($bm_isInstanceOfArray(_e)){var tt,rt=_e.length,nt=[];for(tt=0;tt<rt;tt+=1)nt[tt]=-_e[tt];return nt}return _e.propType?_e.v:-_e}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(_e,et){var tt=_typeof$1(_e),rt=_typeof$1(et);if(isNumerable(tt,_e)&&isNumerable(rt,et)||tt==="string"||rt==="string")return _e+et;if($bm_isInstanceOfArray(_e)&&isNumerable(rt,et))return _e=_e.slice(0),_e[0]+=et,_e;if(isNumerable(tt,_e)&&$bm_isInstanceOfArray(et))return et=et.slice(0),et[0]=_e+et[0],et;if($bm_isInstanceOfArray(_e)&&$bm_isInstanceOfArray(et)){for(var nt=0,it=_e.length,at=et.length,ot=[];nt<it||nt<at;)(typeof _e[nt]=="number"||_e[nt]instanceof Number)&&(typeof et[nt]=="number"||et[nt]instanceof Number)?ot[nt]=_e[nt]+et[nt]:ot[nt]=et[nt]===void 0?_e[nt]:_e[nt]||et[nt],nt+=1;return ot}return 0}var add=sum;function sub(_e,et){var tt=_typeof$1(_e),rt=_typeof$1(et);if(isNumerable(tt,_e)&&isNumerable(rt,et))return tt==="string"&&(_e=parseInt(_e,10)),rt==="string"&&(et=parseInt(et,10)),_e-et;if($bm_isInstanceOfArray(_e)&&isNumerable(rt,et))return _e=_e.slice(0),_e[0]-=et,_e;if(isNumerable(tt,_e)&&$bm_isInstanceOfArray(et))return et=et.slice(0),et[0]=_e-et[0],et;if($bm_isInstanceOfArray(_e)&&$bm_isInstanceOfArray(et)){for(var nt=0,it=_e.length,at=et.length,ot=[];nt<it||nt<at;)(typeof _e[nt]=="number"||_e[nt]instanceof Number)&&(typeof et[nt]=="number"||et[nt]instanceof Number)?ot[nt]=_e[nt]-et[nt]:ot[nt]=et[nt]===void 0?_e[nt]:_e[nt]||et[nt],nt+=1;return ot}return 0}function mul(_e,et){var tt=_typeof$1(_e),rt=_typeof$1(et),nt;if(isNumerable(tt,_e)&&isNumerable(rt,et))return _e*et;var it,at;if($bm_isInstanceOfArray(_e)&&isNumerable(rt,et)){for(at=_e.length,nt=createTypedArray("float32",at),it=0;it<at;it+=1)nt[it]=_e[it]*et;return nt}if(isNumerable(tt,_e)&&$bm_isInstanceOfArray(et)){for(at=et.length,nt=createTypedArray("float32",at),it=0;it<at;it+=1)nt[it]=_e*et[it];return nt}return 0}function div(_e,et){var tt=_typeof$1(_e),rt=_typeof$1(et),nt;if(isNumerable(tt,_e)&&isNumerable(rt,et))return _e/et;var it,at;if($bm_isInstanceOfArray(_e)&&isNumerable(rt,et)){for(at=_e.length,nt=createTypedArray("float32",at),it=0;it<at;it+=1)nt[it]=_e[it]/et;return nt}if(isNumerable(tt,_e)&&$bm_isInstanceOfArray(et)){for(at=et.length,nt=createTypedArray("float32",at),it=0;it<at;it+=1)nt[it]=_e/et[it];return nt}return 0}function mod(_e,et){return typeof _e=="string"&&(_e=parseInt(_e,10)),typeof et=="string"&&(et=parseInt(et,10)),_e%et}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(_e,et,tt){if(et>tt){var rt=tt;tt=et,et=rt}return Math.min(Math.max(_e,et),tt)}function radiansToDegrees(_e){return _e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(_e){return _e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(_e,et){if(typeof _e=="number"||_e instanceof Number)return et=et||0,Math.abs(_e-et);et||(et=helperLengthArray);var tt,rt=Math.min(_e.length,et.length),nt=0;for(tt=0;tt<rt;tt+=1)nt+=Math.pow(et[tt]-_e[tt],2);return Math.sqrt(nt)}function normalize(_e){return div(_e,length(_e))}function rgbToHsl(_e){var et=_e[0],tt=_e[1],rt=_e[2],nt=Math.max(et,tt,rt),it=Math.min(et,tt,rt),at,ot,st=(nt+it)/2;if(nt===it)at=0,ot=0;else{var lt=nt-it;switch(ot=st>.5?lt/(2-nt-it):lt/(nt+it),nt){case et:at=(tt-rt)/lt+(tt<rt?6:0);break;case tt:at=(rt-et)/lt+2;break;case rt:at=(et-tt)/lt+4;break}at/=6}return[at,ot,st,_e[3]]}function hue2rgb(_e,et,tt){return tt<0&&(tt+=1),tt>1&&(tt-=1),tt<1/6?_e+(et-_e)*6*tt:tt<1/2?et:tt<2/3?_e+(et-_e)*(2/3-tt)*6:_e}function hslToRgb(_e){var et=_e[0],tt=_e[1],rt=_e[2],nt,it,at;if(tt===0)nt=rt,at=rt,it=rt;else{var ot=rt<.5?rt*(1+tt):rt+tt-rt*tt,st=2*rt-ot;nt=hue2rgb(st,ot,et+1/3),it=hue2rgb(st,ot,et),at=hue2rgb(st,ot,et-1/3)}return[nt,it,at,_e[3]]}function linear(_e,et,tt,rt,nt){if((rt===void 0||nt===void 0)&&(rt=et,nt=tt,et=0,tt=1),tt<et){var it=tt;tt=et,et=it}if(_e<=et)return rt;if(_e>=tt)return nt;var at=tt===et?0:(_e-et)/(tt-et);if(!rt.length)return rt+(nt-rt)*at;var ot,st=rt.length,lt=createTypedArray("float32",st);for(ot=0;ot<st;ot+=1)lt[ot]=rt[ot]+(nt[ot]-rt[ot])*at;return lt}function random(_e,et){if(et===void 0&&(_e===void 0?(_e=0,et=1):(et=_e,_e=void 0)),et.length){var tt,rt=et.length;_e||(_e=createTypedArray("float32",rt));var nt=createTypedArray("float32",rt),it=BMMath.random();for(tt=0;tt<rt;tt+=1)nt[tt]=_e[tt]+it*(et[tt]-_e[tt]);return nt}_e===void 0&&(_e=0);var at=BMMath.random();return _e+at*(et-_e)}function createPath(_e,et,tt,rt){var nt,it=_e.length,at=shapePool.newElement();at.setPathData(!!rt,it);var ot=[0,0],st,lt;for(nt=0;nt<it;nt+=1)st=et&&et[nt]?et[nt]:ot,lt=tt&&tt[nt]?tt[nt]:ot,at.setTripleAt(_e[nt][0],_e[nt][1],lt[0]+_e[nt][0],lt[1]+_e[nt][1],st[0]+_e[nt][0],st[1]+_e[nt][1],nt,!0);return at}function initiateExpression(elem,data,property){function noOp(_e){return _e}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function _e(et,tt){var rt,nt,it=this.pv.length?this.pv.length:1,at=createTypedArray("float32",it);et=5;var ot=Math.floor(time*et);for(rt=0,nt=0;rt<ot;){for(nt=0;nt<it;nt+=1)at[nt]+=-tt+tt*2*BMMath.random();rt+=1}var st=time*et,lt=st-Math.floor(st),ct=createTypedArray("float32",it);if(it>1){for(nt=0;nt<it;nt+=1)ct[nt]=this.pv[nt]+at[nt]+(-tt+tt*2*BMMath.random())*lt;return ct}return this.pv+at[0]+(-tt+tt*2*BMMath.random())*lt}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(_e,et){return loopIn(_e,et,!0)}function loopOutDuration(_e,et){return loopOut(_e,et,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(_e,et){var tt=[et[0]-_e[0],et[1]-_e[1],et[2]-_e[2]],rt=Math.atan2(tt[0],Math.sqrt(tt[1]*tt[1]+tt[2]*tt[2]))/degToRads,nt=-Math.atan2(tt[1],tt[2])/degToRads;return[nt,rt,0]}function easeOut(_e,et,tt,rt,nt){return applyEase(easeOutBez,_e,et,tt,rt,nt)}function easeIn(_e,et,tt,rt,nt){return applyEase(easeInBez,_e,et,tt,rt,nt)}function ease(_e,et,tt,rt,nt){return applyEase(easeInOutBez,_e,et,tt,rt,nt)}function applyEase(_e,et,tt,rt,nt,it){nt===void 0?(nt=tt,it=rt):et=(et-tt)/(rt-tt),et>1?et=1:et<0&&(et=0);var at=_e(et);if($bm_isInstanceOfArray(nt)){var ot,st=nt.length,lt=createTypedArray("float32",st);for(ot=0;ot<st;ot+=1)lt[ot]=(it[ot]-nt[ot])*at+nt[ot];return lt}return(it-nt)*at+nt}function nearestKey(_e){var et,tt=data.k.length,rt,nt;if(!data.k.length||typeof data.k[0]=="number")rt=0,nt=0;else if(rt=-1,_e*=elem.comp.globalData.frameRate,_e<data.k[0].t)rt=1,nt=data.k[0].t;else{for(et=0;et<tt-1;et+=1)if(_e===data.k[et].t){rt=et+1,nt=data.k[et].t;break}else if(_e>data.k[et].t&&_e<data.k[et+1].t){_e-data.k[et].t>data.k[et+1].t-_e?(rt=et+2,nt=data.k[et+1].t):(rt=et+1,nt=data.k[et].t);break}rt===-1&&(rt=et+1,nt=data.k[et].t)}var it={};return it.index=rt,it.time=nt/elem.comp.globalData.frameRate,it}function key(_e){var et,tt,rt;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+_e);_e-=1,et={time:data.k[_e].t/elem.comp.globalData.frameRate,value:[]};var nt=Object.prototype.hasOwnProperty.call(data.k[_e],"s")?data.k[_e].s:data.k[_e-1].e;for(rt=nt.length,tt=0;tt<rt;tt+=1)et[tt]=nt[tt],et.value[tt]=nt[tt];return et}function framesToTime(_e,et){return et||(et=elem.comp.globalData.frameRate),_e/et}function timeToFrames(_e,et){return!_e&&_e!==0&&(_e=time),et||(et=elem.comp.globalData.frameRate),_e*et}function seedRandom(_e){BMMath.seedrandom(randSeed+_e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(_e,et){return typeof value=="string"?et===void 0?value.substring(_e):value.substring(_e,et):""}function substr(_e,et){return typeof value=="string"?et===void 0?value.substr(_e):value.substr(_e,et):""}function posterizeTime(_e){time=_e===0?0:Math.floor(time*_e)/_e,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(_e){return value=_e,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var _e={};_e.initExpressions=et,_e.resetFrame=ExpressionManager.resetFrame;function et(tt){var rt=0,nt=[];function it(){rt+=1}function at(){rt-=1,rt===0&&st()}function ot(lt){nt.indexOf(lt)===-1&&nt.push(lt)}function st(){var lt,ct=nt.length;for(lt=0;lt<ct;lt+=1)nt[lt].release();nt.length=0}tt.renderer.compInterface=CompExpressionInterface(tt.renderer),tt.renderer.globalData.projectInterface.registerComposition(tt.renderer),tt.renderer.globalData.pushExpression=it,tt.renderer.globalData.popExpression=at,tt.renderer.globalData.registerExpressionProperty=ot}return _e}(),MaskManagerInterface=function(){function _e(tt,rt){this._mask=tt,this._data=rt}Object.defineProperty(_e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(_e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var et=function(rt){var nt=createSizedArray(rt.viewData.length),it,at=rt.viewData.length;for(it=0;it<at;it+=1)nt[it]=new _e(rt.viewData[it],rt.masksProperties[it]);var ot=function(lt){for(it=0;it<at;){if(rt.masksProperties[it].nm===lt)return nt[it];it+=1}return null};return ot};return et}(),ExpressionPropertyInterface=function(){var _e={pv:0,v:0,mult:1},et={pv:[0,0,0],v:[0,0,0],mult:1};function tt(at,ot,st){Object.defineProperty(at,"velocity",{get:function(){return ot.getVelocityAtTime(ot.comp.currentFrame)}}),at.numKeys=ot.keyframes?ot.keyframes.length:0,at.key=function(lt){if(!at.numKeys)return 0;var ct="";"s"in ot.keyframes[lt-1]?ct=ot.keyframes[lt-1].s:"e"in ot.keyframes[lt-2]?ct=ot.keyframes[lt-2].e:ct=ot.keyframes[lt-2].s;var ut=st==="unidimensional"?new Number(ct):Object.assign({},ct);return ut.time=ot.keyframes[lt-1].t/ot.elem.comp.globalData.frameRate,ut.value=st==="unidimensional"?ct[0]:ct,ut},at.valueAtTime=ot.getValueAtTime,at.speedAtTime=ot.getSpeedAtTime,at.velocityAtTime=ot.getVelocityAtTime,at.propertyGroup=ot.propertyGroup}function rt(at){(!at||!("pv"in at))&&(at=_e);var ot=1/at.mult,st=at.pv*ot,lt=new Number(st);return lt.value=st,tt(lt,at,"unidimensional"),function(){return at.k&&at.getValue(),st=at.v*ot,lt.value!==st&&(lt=new Number(st),lt.value=st,tt(lt,at,"unidimensional")),lt}}function nt(at){(!at||!("pv"in at))&&(at=et);var ot=1/at.mult,st=at.data&&at.data.l||at.pv.length,lt=createTypedArray("float32",st),ct=createTypedArray("float32",st);return lt.value=ct,tt(lt,at,"multidimensional"),function(){at.k&&at.getValue();for(var ut=0;ut<st;ut+=1)ct[ut]=at.v[ut]*ot,lt[ut]=ct[ut];return lt}}function it(){return _e}return function(at){return at?at.propType==="unidimensional"?rt(at):nt(at):it}}(),TransformExpressionInterface=function(){return function(_e){function et(at){switch(at){case"scale":case"Scale":case"ADBE Scale":case 6:return et.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return et.rotation;case"ADBE Rotate X":return et.xRotation;case"ADBE Rotate Y":return et.yRotation;case"position":case"Position":case"ADBE Position":case 2:return et.position;case"ADBE Position_0":return et.xPosition;case"ADBE Position_1":return et.yPosition;case"ADBE Position_2":return et.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return et.anchorPoint;case"opacity":case"Opacity":case 11:return et.opacity;default:return null}}Object.defineProperty(et,"rotation",{get:ExpressionPropertyInterface(_e.r||_e.rz)}),Object.defineProperty(et,"zRotation",{get:ExpressionPropertyInterface(_e.rz||_e.r)}),Object.defineProperty(et,"xRotation",{get:ExpressionPropertyInterface(_e.rx)}),Object.defineProperty(et,"yRotation",{get:ExpressionPropertyInterface(_e.ry)}),Object.defineProperty(et,"scale",{get:ExpressionPropertyInterface(_e.s)});var tt,rt,nt,it;return _e.p?it=ExpressionPropertyInterface(_e.p):(tt=ExpressionPropertyInterface(_e.px),rt=ExpressionPropertyInterface(_e.py),_e.pz&&(nt=ExpressionPropertyInterface(_e.pz))),Object.defineProperty(et,"position",{get:function(){return _e.p?it():[tt(),rt(),nt?nt():0]}}),Object.defineProperty(et,"xPosition",{get:ExpressionPropertyInterface(_e.px)}),Object.defineProperty(et,"yPosition",{get:ExpressionPropertyInterface(_e.py)}),Object.defineProperty(et,"zPosition",{get:ExpressionPropertyInterface(_e.pz)}),Object.defineProperty(et,"anchorPoint",{get:ExpressionPropertyInterface(_e.a)}),Object.defineProperty(et,"opacity",{get:ExpressionPropertyInterface(_e.o)}),Object.defineProperty(et,"skew",{get:ExpressionPropertyInterface(_e.sk)}),Object.defineProperty(et,"skewAxis",{get:ExpressionPropertyInterface(_e.sa)}),Object.defineProperty(et,"orientation",{get:ExpressionPropertyInterface(_e.or)}),et}}(),LayerExpressionInterface=function(){function _e(lt){var ct=new Matrix;if(lt!==void 0){var ut=this._elem.finalTransform.mProp.getValueAtTime(lt);ut.clone(ct)}else{var dt=this._elem.finalTransform.mProp;dt.applyToMatrix(ct)}return ct}function et(lt,ct){var ut=this.getMatrix(ct);return ut.props[12]=0,ut.props[13]=0,ut.props[14]=0,this.applyPoint(ut,lt)}function tt(lt,ct){var ut=this.getMatrix(ct);return this.applyPoint(ut,lt)}function rt(lt,ct){var ut=this.getMatrix(ct);return ut.props[12]=0,ut.props[13]=0,ut.props[14]=0,this.invertPoint(ut,lt)}function nt(lt,ct){var ut=this.getMatrix(ct);return this.invertPoint(ut,lt)}function it(lt,ct){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ut,dt=this._elem.hierarchy.length;for(ut=0;ut<dt;ut+=1)this._elem.hierarchy[ut].finalTransform.mProp.applyToMatrix(lt)}return lt.applyToPointArray(ct[0],ct[1],ct[2]||0)}function at(lt,ct){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ut,dt=this._elem.hierarchy.length;for(ut=0;ut<dt;ut+=1)this._elem.hierarchy[ut].finalTransform.mProp.applyToMatrix(lt)}return lt.inversePoint(ct)}function ot(lt){var ct=new Matrix;if(ct.reset(),this._elem.finalTransform.mProp.applyToMatrix(ct),this._elem.hierarchy&&this._elem.hierarchy.length){var ut,dt=this._elem.hierarchy.length;for(ut=0;ut<dt;ut+=1)this._elem.hierarchy[ut].finalTransform.mProp.applyToMatrix(ct);return ct.inversePoint(lt)}return ct.inversePoint(lt)}function st(){return[1,1,1,1]}return function(lt){var ct;function ut(ht){ft.mask=new MaskManagerInterface(ht,lt)}function dt(ht){ft.effect=ht}function ft(ht){switch(ht){case"ADBE Root Vectors Group":case"Contents":case 2:return ft.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return ct;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return ft.effect;case"ADBE Text Properties":return ft.textInterface;default:return null}}ft.getMatrix=_e,ft.invertPoint=at,ft.applyPoint=it,ft.toWorld=tt,ft.toWorldVec=et,ft.fromWorld=nt,ft.fromWorldVec=rt,ft.toComp=tt,ft.fromComp=ot,ft.sampleImage=st,ft.sourceRectAtTime=lt.sourceRectAtTime.bind(lt),ft._elem=lt,ct=TransformExpressionInterface(lt.finalTransform.mProp);var pt=getDescriptor(ct,"anchorPoint");return Object.defineProperties(ft,{hasParent:{get:function(){return lt.hierarchy.length}},parent:{get:function(){return lt.hierarchy[0].layerInterface}},rotation:getDescriptor(ct,"rotation"),scale:getDescriptor(ct,"scale"),position:getDescriptor(ct,"position"),opacity:getDescriptor(ct,"opacity"),anchorPoint:pt,anchor_point:pt,transform:{get:function(){return ct}},active:{get:function(){return lt.isInRange}}}),ft.startTime=lt.data.st,ft.index=lt.data.ind,ft.source=lt.data.refId,ft.height=lt.data.ty===0?lt.data.h:100,ft.width=lt.data.ty===0?lt.data.w:100,ft.inPoint=lt.data.ip/lt.comp.globalData.frameRate,ft.outPoint=lt.data.op/lt.comp.globalData.frameRate,ft._name=lt.data.nm,ft.registerMaskInterface=ut,ft.registerEffectsInterface=dt,ft}}(),propertyGroupFactory=function(){return function(_e,et){return function(tt){return tt=tt===void 0?1:tt,tt<=0?_e:et(tt-1)}}}(),PropertyInterface=function(){return function(_e,et){var tt={_name:_e};function rt(nt){return nt=nt===void 0?1:nt,nt<=0?tt:et(nt-1)}return rt}}(),EffectsExpressionInterface=function(){var _e={createEffectsInterface:et};function et(nt,it){if(nt.effectsManager){var at=[],ot=nt.data.ef,st,lt=nt.effectsManager.effectElements.length;for(st=0;st<lt;st+=1)at.push(tt(ot[st],nt.effectsManager.effectElements[st],it,nt));var ct=nt.data.ef||[],ut=function(ft){for(st=0,lt=ct.length;st<lt;){if(ft===ct[st].nm||ft===ct[st].mn||ft===ct[st].ix)return at[st];st+=1}return null};return Object.defineProperty(ut,"numProperties",{get:function(){return ct.length}}),ut}return null}function tt(nt,it,at,ot){function st(ft){for(var pt=nt.ef,ht=0,yt=pt.length;ht<yt;){if(ft===pt[ht].nm||ft===pt[ht].mn||ft===pt[ht].ix)return pt[ht].ty===5?ct[ht]:ct[ht]();ht+=1}throw new Error}var lt=propertyGroupFactory(st,at),ct=[],ut,dt=nt.ef.length;for(ut=0;ut<dt;ut+=1)nt.ef[ut].ty===5?ct.push(tt(nt.ef[ut],it.effectElements[ut],it.effectElements[ut].propertyGroup,ot)):ct.push(rt(it.effectElements[ut],nt.ef[ut].ty,ot,lt));return nt.mn==="ADBE Color Control"&&Object.defineProperty(st,"color",{get:function(){return ct[0]()}}),Object.defineProperties(st,{numProperties:{get:function(){return nt.np}},_name:{value:nt.nm},propertyGroup:{value:lt}}),st.enabled=nt.en!==0,st.active=st.enabled,st}function rt(nt,it,at,ot){var st=ExpressionPropertyInterface(nt.p);function lt(){return it===10?at.comp.compInterface(nt.p.v):st()}return nt.p.setGroupProperty&&nt.p.setGroupProperty(PropertyInterface("",ot)),lt}return _e}(),ShapePathInterface=function(){return function(et,tt,rt){var nt=tt.sh;function it(ot){return ot==="Shape"||ot==="shape"||ot==="Path"||ot==="path"||ot==="ADBE Vector Shape"||ot===2?it.path:null}var at=propertyGroupFactory(it,rt);return nt.setGroupProperty(PropertyInterface("Path",at)),Object.defineProperties(it,{path:{get:function(){return nt.k&&nt.getValue(),nt}},shape:{get:function(){return nt.k&&nt.getValue(),nt}},_name:{value:et.nm},ix:{value:et.ix},propertyIndex:{value:et.ix},mn:{value:et.mn},propertyGroup:{value:rt}}),it}}(),ShapeExpressionInterface=function(){function _e(pt,ht,yt){var mt=[],gt,vt=pt?pt.length:0;for(gt=0;gt<vt;gt+=1)pt[gt].ty==="gr"?mt.push(tt(pt[gt],ht[gt],yt)):pt[gt].ty==="fl"?mt.push(rt(pt[gt],ht[gt],yt)):pt[gt].ty==="st"?mt.push(at(pt[gt],ht[gt],yt)):pt[gt].ty==="tm"?mt.push(ot(pt[gt],ht[gt],yt)):pt[gt].ty==="tr"||(pt[gt].ty==="el"?mt.push(lt(pt[gt],ht[gt],yt)):pt[gt].ty==="sr"?mt.push(ct(pt[gt],ht[gt],yt)):pt[gt].ty==="sh"?mt.push(ShapePathInterface(pt[gt],ht[gt],yt)):pt[gt].ty==="rc"?mt.push(ut(pt[gt],ht[gt],yt)):pt[gt].ty==="rd"?mt.push(dt(pt[gt],ht[gt],yt)):pt[gt].ty==="rp"?mt.push(ft(pt[gt],ht[gt],yt)):pt[gt].ty==="gf"?mt.push(nt(pt[gt],ht[gt],yt)):mt.push(it(pt[gt],ht[gt])));return mt}function et(pt,ht,yt){var mt,gt=function(xt){for(var Ct=0,wt=mt.length;Ct<wt;){if(mt[Ct]._name===xt||mt[Ct].mn===xt||mt[Ct].propertyIndex===xt||mt[Ct].ix===xt||mt[Ct].ind===xt)return mt[Ct];Ct+=1}return typeof xt=="number"?mt[xt-1]:null};gt.propertyGroup=propertyGroupFactory(gt,yt),mt=_e(pt.it,ht.it,gt.propertyGroup),gt.numProperties=mt.length;var vt=st(pt.it[pt.it.length-1],ht.it[ht.it.length-1],gt.propertyGroup);return gt.transform=vt,gt.propertyIndex=pt.cix,gt._name=pt.nm,gt}function tt(pt,ht,yt){var mt=function(xt){switch(xt){case"ADBE Vectors Group":case"Contents":case 2:return mt.content;default:return mt.transform}};mt.propertyGroup=propertyGroupFactory(mt,yt);var gt=et(pt,ht,mt.propertyGroup),vt=st(pt.it[pt.it.length-1],ht.it[ht.it.length-1],mt.propertyGroup);return mt.content=gt,mt.transform=vt,Object.defineProperty(mt,"_name",{get:function(){return pt.nm}}),mt.numProperties=pt.np,mt.propertyIndex=pt.ix,mt.nm=pt.nm,mt.mn=pt.mn,mt}function rt(pt,ht,yt){function mt(gt){return gt==="Color"||gt==="color"?mt.color:gt==="Opacity"||gt==="opacity"?mt.opacity:null}return Object.defineProperties(mt,{color:{get:ExpressionPropertyInterface(ht.c)},opacity:{get:ExpressionPropertyInterface(ht.o)},_name:{value:pt.nm},mn:{value:pt.mn}}),ht.c.setGroupProperty(PropertyInterface("Color",yt)),ht.o.setGroupProperty(PropertyInterface("Opacity",yt)),mt}function nt(pt,ht,yt){function mt(gt){return gt==="Start Point"||gt==="start point"?mt.startPoint:gt==="End Point"||gt==="end point"?mt.endPoint:gt==="Opacity"||gt==="opacity"?mt.opacity:null}return Object.defineProperties(mt,{startPoint:{get:ExpressionPropertyInterface(ht.s)},endPoint:{get:ExpressionPropertyInterface(ht.e)},opacity:{get:ExpressionPropertyInterface(ht.o)},type:{get:function(){return"a"}},_name:{value:pt.nm},mn:{value:pt.mn}}),ht.s.setGroupProperty(PropertyInterface("Start Point",yt)),ht.e.setGroupProperty(PropertyInterface("End Point",yt)),ht.o.setGroupProperty(PropertyInterface("Opacity",yt)),mt}function it(){function pt(){return null}return pt}function at(pt,ht,yt){var mt=propertyGroupFactory(wt,yt),gt=propertyGroupFactory(Ct,mt);function vt(_t){Object.defineProperty(Ct,pt.d[_t].nm,{get:ExpressionPropertyInterface(ht.d.dataProps[_t].p)})}var St,xt=pt.d?pt.d.length:0,Ct={};for(St=0;St<xt;St+=1)vt(St),ht.d.dataProps[St].p.setGroupProperty(gt);function wt(_t){return _t==="Color"||_t==="color"?wt.color:_t==="Opacity"||_t==="opacity"?wt.opacity:_t==="Stroke Width"||_t==="stroke width"?wt.strokeWidth:null}return Object.defineProperties(wt,{color:{get:ExpressionPropertyInterface(ht.c)},opacity:{get:ExpressionPropertyInterface(ht.o)},strokeWidth:{get:ExpressionPropertyInterface(ht.w)},dash:{get:function(){return Ct}},_name:{value:pt.nm},mn:{value:pt.mn}}),ht.c.setGroupProperty(PropertyInterface("Color",mt)),ht.o.setGroupProperty(PropertyInterface("Opacity",mt)),ht.w.setGroupProperty(PropertyInterface("Stroke Width",mt)),wt}function ot(pt,ht,yt){function mt(vt){return vt===pt.e.ix||vt==="End"||vt==="end"?mt.end:vt===pt.s.ix?mt.start:vt===pt.o.ix?mt.offset:null}var gt=propertyGroupFactory(mt,yt);return mt.propertyIndex=pt.ix,ht.s.setGroupProperty(PropertyInterface("Start",gt)),ht.e.setGroupProperty(PropertyInterface("End",gt)),ht.o.setGroupProperty(PropertyInterface("Offset",gt)),mt.propertyIndex=pt.ix,mt.propertyGroup=yt,Object.defineProperties(mt,{start:{get:ExpressionPropertyInterface(ht.s)},end:{get:ExpressionPropertyInterface(ht.e)},offset:{get:ExpressionPropertyInterface(ht.o)},_name:{value:pt.nm}}),mt.mn=pt.mn,mt}function st(pt,ht,yt){function mt(vt){return pt.a.ix===vt||vt==="Anchor Point"?mt.anchorPoint:pt.o.ix===vt||vt==="Opacity"?mt.opacity:pt.p.ix===vt||vt==="Position"?mt.position:pt.r.ix===vt||vt==="Rotation"||vt==="ADBE Vector Rotation"?mt.rotation:pt.s.ix===vt||vt==="Scale"?mt.scale:pt.sk&&pt.sk.ix===vt||vt==="Skew"?mt.skew:pt.sa&&pt.sa.ix===vt||vt==="Skew Axis"?mt.skewAxis:null}var gt=propertyGroupFactory(mt,yt);return ht.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",gt)),ht.transform.mProps.p.setGroupProperty(PropertyInterface("Position",gt)),ht.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",gt)),ht.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",gt)),ht.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",gt)),ht.transform.mProps.sk&&(ht.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",gt)),ht.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",gt))),ht.transform.op.setGroupProperty(PropertyInterface("Opacity",gt)),Object.defineProperties(mt,{opacity:{get:ExpressionPropertyInterface(ht.transform.mProps.o)},position:{get:ExpressionPropertyInterface(ht.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(ht.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(ht.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(ht.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(ht.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(ht.transform.mProps.sa)},_name:{value:pt.nm}}),mt.ty="tr",mt.mn=pt.mn,mt.propertyGroup=yt,mt}function lt(pt,ht,yt){function mt(St){return pt.p.ix===St?mt.position:pt.s.ix===St?mt.size:null}var gt=propertyGroupFactory(mt,yt);mt.propertyIndex=pt.ix;var vt=ht.sh.ty==="tm"?ht.sh.prop:ht.sh;return vt.s.setGroupProperty(PropertyInterface("Size",gt)),vt.p.setGroupProperty(PropertyInterface("Position",gt)),Object.defineProperties(mt,{size:{get:ExpressionPropertyInterface(vt.s)},position:{get:ExpressionPropertyInterface(vt.p)},_name:{value:pt.nm}}),mt.mn=pt.mn,mt}function ct(pt,ht,yt){function mt(St){return pt.p.ix===St?mt.position:pt.r.ix===St?mt.rotation:pt.pt.ix===St?mt.points:pt.or.ix===St||St==="ADBE Vector Star Outer Radius"?mt.outerRadius:pt.os.ix===St?mt.outerRoundness:pt.ir&&(pt.ir.ix===St||St==="ADBE Vector Star Inner Radius")?mt.innerRadius:pt.is&&pt.is.ix===St?mt.innerRoundness:null}var gt=propertyGroupFactory(mt,yt),vt=ht.sh.ty==="tm"?ht.sh.prop:ht.sh;return mt.propertyIndex=pt.ix,vt.or.setGroupProperty(PropertyInterface("Outer Radius",gt)),vt.os.setGroupProperty(PropertyInterface("Outer Roundness",gt)),vt.pt.setGroupProperty(PropertyInterface("Points",gt)),vt.p.setGroupProperty(PropertyInterface("Position",gt)),vt.r.setGroupProperty(PropertyInterface("Rotation",gt)),pt.ir&&(vt.ir.setGroupProperty(PropertyInterface("Inner Radius",gt)),vt.is.setGroupProperty(PropertyInterface("Inner Roundness",gt))),Object.defineProperties(mt,{position:{get:ExpressionPropertyInterface(vt.p)},rotation:{get:ExpressionPropertyInterface(vt.r)},points:{get:ExpressionPropertyInterface(vt.pt)},outerRadius:{get:ExpressionPropertyInterface(vt.or)},outerRoundness:{get:ExpressionPropertyInterface(vt.os)},innerRadius:{get:ExpressionPropertyInterface(vt.ir)},innerRoundness:{get:ExpressionPropertyInterface(vt.is)},_name:{value:pt.nm}}),mt.mn=pt.mn,mt}function ut(pt,ht,yt){function mt(St){return pt.p.ix===St?mt.position:pt.r.ix===St?mt.roundness:pt.s.ix===St||St==="Size"||St==="ADBE Vector Rect Size"?mt.size:null}var gt=propertyGroupFactory(mt,yt),vt=ht.sh.ty==="tm"?ht.sh.prop:ht.sh;return mt.propertyIndex=pt.ix,vt.p.setGroupProperty(PropertyInterface("Position",gt)),vt.s.setGroupProperty(PropertyInterface("Size",gt)),vt.r.setGroupProperty(PropertyInterface("Rotation",gt)),Object.defineProperties(mt,{position:{get:ExpressionPropertyInterface(vt.p)},roundness:{get:ExpressionPropertyInterface(vt.r)},size:{get:ExpressionPropertyInterface(vt.s)},_name:{value:pt.nm}}),mt.mn=pt.mn,mt}function dt(pt,ht,yt){function mt(St){return pt.r.ix===St||St==="Round Corners 1"?mt.radius:null}var gt=propertyGroupFactory(mt,yt),vt=ht;return mt.propertyIndex=pt.ix,vt.rd.setGroupProperty(PropertyInterface("Radius",gt)),Object.defineProperties(mt,{radius:{get:ExpressionPropertyInterface(vt.rd)},_name:{value:pt.nm}}),mt.mn=pt.mn,mt}function ft(pt,ht,yt){function mt(St){return pt.c.ix===St||St==="Copies"?mt.copies:pt.o.ix===St||St==="Offset"?mt.offset:null}var gt=propertyGroupFactory(mt,yt),vt=ht;return mt.propertyIndex=pt.ix,vt.c.setGroupProperty(PropertyInterface("Copies",gt)),vt.o.setGroupProperty(PropertyInterface("Offset",gt)),Object.defineProperties(mt,{copies:{get:ExpressionPropertyInterface(vt.c)},offset:{get:ExpressionPropertyInterface(vt.o)},_name:{value:pt.nm}}),mt.mn=pt.mn,mt}return function(pt,ht,yt){var mt;function gt(St){if(typeof St=="number")return St=St===void 0?1:St,St===0?yt:mt[St-1];for(var xt=0,Ct=mt.length;xt<Ct;){if(mt[xt]._name===St)return mt[xt];xt+=1}return null}function vt(){return yt}return gt.propertyGroup=propertyGroupFactory(gt,vt),mt=_e(pt,ht,gt.propertyGroup),gt.numProperties=mt.length,gt._name="Contents",gt}}(),TextExpressionInterface=function(){return function(_e){var et;function tt(rt){switch(rt){case"ADBE Text Document":return tt.sourceText;default:return null}}return Object.defineProperty(tt,"sourceText",{get:function(){_e.textProperty.getValue();var nt=_e.textProperty.currentData.t;return(!et||nt!==et.value)&&(et=new String(nt),et.value=nt||new String(nt),Object.defineProperty(et,"style",{get:function(){return{fillColor:_e.textProperty.currentData.fc}}})),et}}),tt}}();function _typeof(_e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(tt){return typeof tt}:_typeof=function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof(_e)}var FootageInterface=function(){var _e=function(rt){var nt="",it=rt.getFootageData();function at(){return nt="",it=rt.getFootageData(),ot}function ot(st){if(it[st])return nt=st,it=it[st],_typeof(it)==="object"?ot:it;var lt=st.indexOf(nt);if(lt!==-1){var ct=parseInt(st.substr(lt+nt.length),10);return it=it[ct],_typeof(it)==="object"?ot:it}return""}return at},et=function(rt){function nt(it){return it==="Outline"?nt.outlineInterface():null}return nt._name="Outline",nt.outlineInterface=_e(rt),nt};return function(tt){function rt(nt){return nt==="Data"?rt.dataInterface:null}return rt._name="Data",rt.dataInterface=et(tt),rt}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(_e){return interfaces[_e]||null}var expressionHelpers=function(){function _e(at,ot,st){ot.x&&(st.k=!0,st.x=!0,st.initiateExpression=ExpressionManager.initiateExpression,st.effectsSequence.push(st.initiateExpression(at,ot,st).bind(st)))}function et(at){return at*=this.elem.globalData.frameRate,at-=this.offsetTime,at!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<at?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(at,this._cachingAtTime),this._cachingAtTime.lastFrame=at),this._cachingAtTime.value}function tt(at){var ot=-.01,st=this.getValueAtTime(at),lt=this.getValueAtTime(at+ot),ct=0;if(st.length){var ut;for(ut=0;ut<st.length;ut+=1)ct+=Math.pow(lt[ut]-st[ut],2);ct=Math.sqrt(ct)*100}else ct=0;return ct}function rt(at){if(this.vel!==void 0)return this.vel;var ot=-.001,st=this.getValueAtTime(at),lt=this.getValueAtTime(at+ot),ct;if(st.length){ct=createTypedArray("float32",st.length);var ut;for(ut=0;ut<st.length;ut+=1)ct[ut]=(lt[ut]-st[ut])/ot}else ct=(lt-st)/ot;return ct}function nt(){return this.pv}function it(at){this.propertyGroup=at}return{searchExpressions:_e,getSpeedAtTime:tt,getVelocityAtTime:rt,getValueAtTime:et,getStaticValueAtTime:nt,setGroupProperty:it}}();function addPropertyDecorator(){function _e(dt,ft,pt){if(!this.k||!this.keyframes)return this.pv;dt=dt?dt.toLowerCase():"";var ht=this.comp.renderedFrame,yt=this.keyframes,mt=yt[yt.length-1].t;if(ht<=mt)return this.pv;var gt,vt;pt?(ft?gt=Math.abs(mt-this.elem.comp.globalData.frameRate*ft):gt=Math.max(0,mt-this.elem.data.ip),vt=mt-gt):((!ft||ft>yt.length-1)&&(ft=yt.length-1),vt=yt[yt.length-1-ft].t,gt=mt-vt);var St,xt,Ct;if(dt==="pingpong"){var wt=Math.floor((ht-vt)/gt);if(wt%2!==0)return this.getValueAtTime((gt-(ht-vt)%gt+vt)/this.comp.globalData.frameRate,0)}else if(dt==="offset"){var _t=this.getValueAtTime(vt/this.comp.globalData.frameRate,0),Ot=this.getValueAtTime(mt/this.comp.globalData.frameRate,0),kt=this.getValueAtTime(((ht-vt)%gt+vt)/this.comp.globalData.frameRate,0),Lt=Math.floor((ht-vt)/gt);if(this.pv.length){for(Ct=new Array(_t.length),xt=Ct.length,St=0;St<xt;St+=1)Ct[St]=(Ot[St]-_t[St])*Lt+kt[St];return Ct}return(Ot-_t)*Lt+kt}else if(dt==="continue"){var $t=this.getValueAtTime(mt/this.comp.globalData.frameRate,0),zt=this.getValueAtTime((mt-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Ct=new Array($t.length),xt=Ct.length,St=0;St<xt;St+=1)Ct[St]=$t[St]+($t[St]-zt[St])*((ht-mt)/this.comp.globalData.frameRate)/5e-4;return Ct}return $t+($t-zt)*((ht-mt)/.001)}return this.getValueAtTime(((ht-vt)%gt+vt)/this.comp.globalData.frameRate,0)}function et(dt,ft,pt){if(!this.k)return this.pv;dt=dt?dt.toLowerCase():"";var ht=this.comp.renderedFrame,yt=this.keyframes,mt=yt[0].t;if(ht>=mt)return this.pv;var gt,vt;pt?(ft?gt=Math.abs(this.elem.comp.globalData.frameRate*ft):gt=Math.max(0,this.elem.data.op-mt),vt=mt+gt):((!ft||ft>yt.length-1)&&(ft=yt.length-1),vt=yt[ft].t,gt=vt-mt);var St,xt,Ct;if(dt==="pingpong"){var wt=Math.floor((mt-ht)/gt);if(wt%2===0)return this.getValueAtTime(((mt-ht)%gt+mt)/this.comp.globalData.frameRate,0)}else if(dt==="offset"){var _t=this.getValueAtTime(mt/this.comp.globalData.frameRate,0),Ot=this.getValueAtTime(vt/this.comp.globalData.frameRate,0),kt=this.getValueAtTime((gt-(mt-ht)%gt+mt)/this.comp.globalData.frameRate,0),Lt=Math.floor((mt-ht)/gt)+1;if(this.pv.length){for(Ct=new Array(_t.length),xt=Ct.length,St=0;St<xt;St+=1)Ct[St]=kt[St]-(Ot[St]-_t[St])*Lt;return Ct}return kt-(Ot-_t)*Lt}else if(dt==="continue"){var $t=this.getValueAtTime(mt/this.comp.globalData.frameRate,0),zt=this.getValueAtTime((mt+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Ct=new Array($t.length),xt=Ct.length,St=0;St<xt;St+=1)Ct[St]=$t[St]+($t[St]-zt[St])*(mt-ht)/.001;return Ct}return $t+($t-zt)*(mt-ht)/.001}return this.getValueAtTime((gt-((mt-ht)%gt+mt))/this.comp.globalData.frameRate,0)}function tt(dt,ft){if(!this.k)return this.pv;if(dt=(dt||.4)*.5,ft=Math.floor(ft||5),ft<=1)return this.pv;var pt=this.comp.renderedFrame/this.comp.globalData.frameRate,ht=pt-dt,yt=pt+dt,mt=ft>1?(yt-ht)/(ft-1):1,gt=0,vt=0,St;this.pv.length?St=createTypedArray("float32",this.pv.length):St=0;for(var xt;gt<ft;){if(xt=this.getValueAtTime(ht+gt*mt),this.pv.length)for(vt=0;vt<this.pv.length;vt+=1)St[vt]+=xt[vt];else St+=xt;gt+=1}if(this.pv.length)for(vt=0;vt<this.pv.length;vt+=1)St[vt]/=ft;else St/=ft;return St}function rt(dt){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var ft=this._transformCachingAtTime.v;if(ft.cloneFromProps(this.pre.props),this.appliedTransformations<1){var pt=this.a.getValueAtTime(dt);ft.translate(-pt[0]*this.a.mult,-pt[1]*this.a.mult,pt[2]*this.a.mult)}if(this.appliedTransformations<2){var ht=this.s.getValueAtTime(dt);ft.scale(ht[0]*this.s.mult,ht[1]*this.s.mult,ht[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var yt=this.sk.getValueAtTime(dt),mt=this.sa.getValueAtTime(dt);ft.skewFromAxis(-yt*this.sk.mult,mt*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var gt=this.r.getValueAtTime(dt);ft.rotate(-gt*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var vt=this.rz.getValueAtTime(dt),St=this.ry.getValueAtTime(dt),xt=this.rx.getValueAtTime(dt),Ct=this.or.getValueAtTime(dt);ft.rotateZ(-vt*this.rz.mult).rotateY(St*this.ry.mult).rotateX(xt*this.rx.mult).rotateZ(-Ct[2]*this.or.mult).rotateY(Ct[1]*this.or.mult).rotateX(Ct[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var wt=this.px.getValueAtTime(dt),_t=this.py.getValueAtTime(dt);if(this.data.p.z){var Ot=this.pz.getValueAtTime(dt);ft.translate(wt*this.px.mult,_t*this.py.mult,-Ot*this.pz.mult)}else ft.translate(wt*this.px.mult,_t*this.py.mult,0)}else{var kt=this.p.getValueAtTime(dt);ft.translate(kt[0]*this.p.mult,kt[1]*this.p.mult,-kt[2]*this.p.mult)}return ft}function nt(){return this.v.clone(new Matrix)}var it=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(dt,ft,pt){var ht=it(dt,ft,pt);return ht.dynamicProperties.length?ht.getValueAtTime=rt.bind(ht):ht.getValueAtTime=nt.bind(ht),ht.setGroupProperty=expressionHelpers.setGroupProperty,ht};var at=PropertyFactory.getProp;PropertyFactory.getProp=function(dt,ft,pt,ht,yt){var mt=at(dt,ft,pt,ht,yt);mt.kf?mt.getValueAtTime=expressionHelpers.getValueAtTime.bind(mt):mt.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(mt),mt.setGroupProperty=expressionHelpers.setGroupProperty,mt.loopOut=_e,mt.loopIn=et,mt.smooth=tt,mt.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(mt),mt.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(mt),mt.numKeys=ft.a===1?ft.k.length:0,mt.propertyIndex=ft.ix;var gt=0;return pt!==0&&(gt=createTypedArray("float32",ft.a===1?ft.k[0].s.length:ft.k.length)),mt._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:gt},expressionHelpers.searchExpressions(dt,ft,mt),mt.k&&yt.addDynamicProperty(mt),mt};function ot(dt){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),dt*=this.elem.globalData.frameRate,dt-=this.offsetTime,dt!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<dt?this._caching.lastIndex:0,this._cachingAtTime.lastTime=dt,this.interpolateShape(dt,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var st=ShapePropertyFactory.getConstructorFunction(),lt=ShapePropertyFactory.getKeyframedConstructorFunction();function ct(){}ct.prototype={vertices:function(ft,pt){this.k&&this.getValue();var ht=this.v;pt!==void 0&&(ht=this.getValueAtTime(pt,0));var yt,mt=ht._length,gt=ht[ft],vt=ht.v,St=createSizedArray(mt);for(yt=0;yt<mt;yt+=1)ft==="i"||ft==="o"?St[yt]=[gt[yt][0]-vt[yt][0],gt[yt][1]-vt[yt][1]]:St[yt]=[gt[yt][0],gt[yt][1]];return St},points:function(ft){return this.vertices("v",ft)},inTangents:function(ft){return this.vertices("i",ft)},outTangents:function(ft){return this.vertices("o",ft)},isClosed:function(){return this.v.c},pointOnPath:function(ft,pt){var ht=this.v;pt!==void 0&&(ht=this.getValueAtTime(pt,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(ht));for(var yt=this._segmentsLength,mt=yt.lengths,gt=yt.totalLength*ft,vt=0,St=mt.length,xt=0,Ct;vt<St;){if(xt+mt[vt].addedLength>gt){var wt=vt,_t=ht.c&&vt===St-1?0:vt+1,Ot=(gt-xt)/mt[vt].addedLength;Ct=bez.getPointInSegment(ht.v[wt],ht.v[_t],ht.o[wt],ht.i[_t],Ot,mt[vt]);break}else xt+=mt[vt].addedLength;vt+=1}return Ct||(Ct=ht.c?[ht.v[0][0],ht.v[0][1]]:[ht.v[ht._length-1][0],ht.v[ht._length-1][1]]),Ct},vectorOnPath:function(ft,pt,ht){ft==1?ft=this.v.c:ft==0&&(ft=.999);var yt=this.pointOnPath(ft,pt),mt=this.pointOnPath(ft+.001,pt),gt=mt[0]-yt[0],vt=mt[1]-yt[1],St=Math.sqrt(Math.pow(gt,2)+Math.pow(vt,2));if(St===0)return[0,0];var xt=ht==="tangent"?[gt/St,vt/St]:[-vt/St,gt/St];return xt},tangentOnPath:function(ft,pt){return this.vectorOnPath(ft,pt,"tangent")},normalOnPath:function(ft,pt){return this.vectorOnPath(ft,pt,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([ct],st),extendPrototype([ct],lt),lt.prototype.getValueAtTime=ot,lt.prototype.initiateExpression=ExpressionManager.initiateExpression;var ut=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(dt,ft,pt,ht,yt){var mt=ut(dt,ft,pt,ht,yt);return mt.propertyIndex=ft.ix,mt.lock=!1,pt===3?expressionHelpers.searchExpressions(dt,ft.pt,mt):pt===4&&expressionHelpers.searchExpressions(dt,ft.ks,mt),mt.k&&dt.addDynamicProperty(mt),mt}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function _e(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(et,tt){var rt=this.calculateExpression(tt);if(et.t!==rt){var nt={};return this.copyData(nt,et),nt.t=rt.toString(),nt.__complete=!1,nt}return et},TextProperty.prototype.searchProperty=function(){var et=this.searchKeyframes(),tt=this.searchExpressions();return this.kf=et||tt,this.kf},TextProperty.prototype.searchExpressions=_e}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function _e(et,tt){var rt=createNS("feMerge");rt.setAttribute("result",et);var nt,it;for(it=0;it<tt.length;it+=1)nt=createNS("feMergeNode"),nt.setAttribute("in",tt[it]),rt.appendChild(nt),rt.appendChild(nt);return rt}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(_e,et,tt,rt,nt){this.filterManager=et;var it=createNS("feColorMatrix");it.setAttribute("type","matrix"),it.setAttribute("color-interpolation-filters","linearRGB"),it.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=it,it.setAttribute("result",rt+"_tint_1"),_e.appendChild(it),it=createNS("feColorMatrix"),it.setAttribute("type","matrix"),it.setAttribute("color-interpolation-filters","sRGB"),it.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),it.setAttribute("result",rt+"_tint_2"),_e.appendChild(it),this.matrixFilter=it;var at=this.createMergeNode(rt,[nt,rt+"_tint_1",rt+"_tint_2"]);_e.appendChild(at)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){var et=this.filterManager.effectElements[0].p.v,tt=this.filterManager.effectElements[1].p.v,rt=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+rt+" 0"),this.matrixFilter.setAttribute("values",tt[0]-et[0]+" 0 0 0 "+et[0]+" "+(tt[1]-et[1])+" 0 0 0 "+et[1]+" "+(tt[2]-et[2])+" 0 0 0 "+et[2]+" 0 0 0 1 0")}};function SVGFillFilter(_e,et,tt,rt){this.filterManager=et;var nt=createNS("feColorMatrix");nt.setAttribute("type","matrix"),nt.setAttribute("color-interpolation-filters","sRGB"),nt.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),nt.setAttribute("result",rt),_e.appendChild(nt),this.matrixFilter=nt}SVGFillFilter.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){var et=this.filterManager.effectElements[2].p.v,tt=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+et[0]+" 0 0 0 0 "+et[1]+" 0 0 0 0 "+et[2]+" 0 0 0 "+tt+" 0")}};function SVGStrokeEffect(_e,et,tt){this.initialized=!1,this.filterManager=et,this.elem=tt,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var _e=this.elem.layerElement.children||this.elem.layerElement.childNodes,et,tt,rt,nt;for(this.filterManager.effectElements[1].p.v===1?(nt=this.elem.maskManager.masksProperties.length,rt=0):(rt=this.filterManager.effectElements[0].p.v-1,nt=rt+1),tt=createNS("g"),tt.setAttribute("fill","none"),tt.setAttribute("stroke-linecap","round"),tt.setAttribute("stroke-dashoffset",1),rt;rt<nt;rt+=1)et=createNS("path"),tt.appendChild(et),this.paths.push({p:et,m:rt});if(this.filterManager.effectElements[10].p.v===3){var it=createNS("mask"),at=createElementID();it.setAttribute("id",at),it.setAttribute("mask-type","alpha"),it.appendChild(tt),this.elem.globalData.defs.appendChild(it);var ot=createNS("g");for(ot.setAttribute("mask","url("+getLocationHref()+"#"+at+")");_e[0];)ot.appendChild(_e[0]);this.elem.layerElement.appendChild(ot),this.masker=it,tt.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(_e=this.elem.layerElement.children||this.elem.layerElement.childNodes;_e.length;)this.elem.layerElement.removeChild(_e[0]);this.elem.layerElement.appendChild(tt),this.elem.layerElement.removeAttribute("mask"),tt.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=tt},SVGStrokeEffect.prototype.renderFrame=function(_e){this.initialized||this.initialize();var et,tt=this.paths.length,rt,nt;for(et=0;et<tt;et+=1)if(this.paths[et].m!==-1&&(rt=this.elem.maskManager.viewData[this.paths[et].m],nt=this.paths[et].p,(_e||this.filterManager._mdf||rt.prop._mdf)&&nt.setAttribute("d",rt.lastPath),_e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||rt.prop._mdf)){var it;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var at=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,ot=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,st=nt.getTotalLength();it="0 0 0 "+st*at+" ";var lt=st*(ot-at),ct=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,ut=Math.floor(lt/ct),dt;for(dt=0;dt<ut;dt+=1)it+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";it+="0 "+st*10+" 0 0"}else it="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;nt.setAttribute("stroke-dasharray",it)}if((_e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(_e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(_e||this.filterManager.effectElements[3].p._mdf)){var ft=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(ft[0]*255)+","+bmFloor(ft[1]*255)+","+bmFloor(ft[2]*255)+")")}};function SVGTritoneFilter(_e,et,tt,rt){this.filterManager=et;var nt=createNS("feColorMatrix");nt.setAttribute("type","matrix"),nt.setAttribute("color-interpolation-filters","linearRGB"),nt.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),_e.appendChild(nt);var it=createNS("feComponentTransfer");it.setAttribute("color-interpolation-filters","sRGB"),it.setAttribute("result",rt),this.matrixFilter=it;var at=createNS("feFuncR");at.setAttribute("type","table"),it.appendChild(at),this.feFuncR=at;var ot=createNS("feFuncG");ot.setAttribute("type","table"),it.appendChild(ot),this.feFuncG=ot;var st=createNS("feFuncB");st.setAttribute("type","table"),it.appendChild(st),this.feFuncB=st,_e.appendChild(it)}SVGTritoneFilter.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){var et=this.filterManager.effectElements[0].p.v,tt=this.filterManager.effectElements[1].p.v,rt=this.filterManager.effectElements[2].p.v,nt=rt[0]+" "+tt[0]+" "+et[0],it=rt[1]+" "+tt[1]+" "+et[1],at=rt[2]+" "+tt[2]+" "+et[2];this.feFuncR.setAttribute("tableValues",nt),this.feFuncG.setAttribute("tableValues",it),this.feFuncB.setAttribute("tableValues",at)}};function SVGProLevelsFilter(_e,et,tt,rt){this.filterManager=et;var nt=this.filterManager.effectElements,it=createNS("feComponentTransfer");(nt[10].p.k||nt[10].p.v!==0||nt[11].p.k||nt[11].p.v!==1||nt[12].p.k||nt[12].p.v!==1||nt[13].p.k||nt[13].p.v!==0||nt[14].p.k||nt[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",it)),(nt[17].p.k||nt[17].p.v!==0||nt[18].p.k||nt[18].p.v!==1||nt[19].p.k||nt[19].p.v!==1||nt[20].p.k||nt[20].p.v!==0||nt[21].p.k||nt[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",it)),(nt[24].p.k||nt[24].p.v!==0||nt[25].p.k||nt[25].p.v!==1||nt[26].p.k||nt[26].p.v!==1||nt[27].p.k||nt[27].p.v!==0||nt[28].p.k||nt[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",it)),(nt[31].p.k||nt[31].p.v!==0||nt[32].p.k||nt[32].p.v!==1||nt[33].p.k||nt[33].p.v!==1||nt[34].p.k||nt[34].p.v!==0||nt[35].p.k||nt[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",it)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(it.setAttribute("color-interpolation-filters","sRGB"),_e.appendChild(it)),(nt[3].p.k||nt[3].p.v!==0||nt[4].p.k||nt[4].p.v!==1||nt[5].p.k||nt[5].p.v!==1||nt[6].p.k||nt[6].p.v!==0||nt[7].p.k||nt[7].p.v!==1)&&(it=createNS("feComponentTransfer"),it.setAttribute("color-interpolation-filters","sRGB"),it.setAttribute("result",rt),_e.appendChild(it),this.feFuncRComposed=this.createFeFunc("feFuncR",it),this.feFuncGComposed=this.createFeFunc("feFuncG",it),this.feFuncBComposed=this.createFeFunc("feFuncB",it))}SVGProLevelsFilter.prototype.createFeFunc=function(_e,et){var tt=createNS(_e);return tt.setAttribute("type","table"),et.appendChild(tt),tt},SVGProLevelsFilter.prototype.getTableValue=function(_e,et,tt,rt,nt){for(var it=0,at=256,ot,st=Math.min(_e,et),lt=Math.max(_e,et),ct=Array.call(null,{length:at}),ut,dt=0,ft=nt-rt,pt=et-_e;it<=256;)ot=it/256,ot<=st?ut=pt<0?nt:rt:ot>=lt?ut=pt<0?rt:nt:ut=rt+ft*Math.pow((ot-_e)/pt,1/tt),ct[dt]=ut,dt+=1,it+=256/(at-1);return ct.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){var et,tt=this.filterManager.effectElements;this.feFuncRComposed&&(_e||tt[3].p._mdf||tt[4].p._mdf||tt[5].p._mdf||tt[6].p._mdf||tt[7].p._mdf)&&(et=this.getTableValue(tt[3].p.v,tt[4].p.v,tt[5].p.v,tt[6].p.v,tt[7].p.v),this.feFuncRComposed.setAttribute("tableValues",et),this.feFuncGComposed.setAttribute("tableValues",et),this.feFuncBComposed.setAttribute("tableValues",et)),this.feFuncR&&(_e||tt[10].p._mdf||tt[11].p._mdf||tt[12].p._mdf||tt[13].p._mdf||tt[14].p._mdf)&&(et=this.getTableValue(tt[10].p.v,tt[11].p.v,tt[12].p.v,tt[13].p.v,tt[14].p.v),this.feFuncR.setAttribute("tableValues",et)),this.feFuncG&&(_e||tt[17].p._mdf||tt[18].p._mdf||tt[19].p._mdf||tt[20].p._mdf||tt[21].p._mdf)&&(et=this.getTableValue(tt[17].p.v,tt[18].p.v,tt[19].p.v,tt[20].p.v,tt[21].p.v),this.feFuncG.setAttribute("tableValues",et)),this.feFuncB&&(_e||tt[24].p._mdf||tt[25].p._mdf||tt[26].p._mdf||tt[27].p._mdf||tt[28].p._mdf)&&(et=this.getTableValue(tt[24].p.v,tt[25].p.v,tt[26].p.v,tt[27].p.v,tt[28].p.v),this.feFuncB.setAttribute("tableValues",et)),this.feFuncA&&(_e||tt[31].p._mdf||tt[32].p._mdf||tt[33].p._mdf||tt[34].p._mdf||tt[35].p._mdf)&&(et=this.getTableValue(tt[31].p.v,tt[32].p.v,tt[33].p.v,tt[34].p.v,tt[35].p.v),this.feFuncA.setAttribute("tableValues",et))}};function SVGDropShadowEffect(_e,et,tt,rt,nt){var it=et.container.globalData.renderConfig.filterSize,at=et.data.fs||it;_e.setAttribute("x",at.x||it.x),_e.setAttribute("y",at.y||it.y),_e.setAttribute("width",at.width||it.width),_e.setAttribute("height",at.height||it.height),this.filterManager=et;var ot=createNS("feGaussianBlur");ot.setAttribute("in","SourceAlpha"),ot.setAttribute("result",rt+"_drop_shadow_1"),ot.setAttribute("stdDeviation","0"),this.feGaussianBlur=ot,_e.appendChild(ot);var st=createNS("feOffset");st.setAttribute("dx","25"),st.setAttribute("dy","0"),st.setAttribute("in",rt+"_drop_shadow_1"),st.setAttribute("result",rt+"_drop_shadow_2"),this.feOffset=st,_e.appendChild(st);var lt=createNS("feFlood");lt.setAttribute("flood-color","#00ff00"),lt.setAttribute("flood-opacity","1"),lt.setAttribute("result",rt+"_drop_shadow_3"),this.feFlood=lt,_e.appendChild(lt);var ct=createNS("feComposite");ct.setAttribute("in",rt+"_drop_shadow_3"),ct.setAttribute("in2",rt+"_drop_shadow_2"),ct.setAttribute("operator","in"),ct.setAttribute("result",rt+"_drop_shadow_4"),_e.appendChild(ct);var ut=this.createMergeNode(rt,[rt+"_drop_shadow_4",nt]);_e.appendChild(ut)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){if((_e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),_e||this.filterManager.effectElements[0].p._mdf){var et=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(et[0]*255),Math.round(et[1]*255),Math.round(et[2]*255)))}if((_e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),_e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var tt=this.filterManager.effectElements[3].p.v,rt=(this.filterManager.effectElements[2].p.v-90)*degToRads,nt=tt*Math.cos(rt),it=tt*Math.sin(rt);this.feOffset.setAttribute("dx",nt),this.feOffset.setAttribute("dy",it)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(_e,et,tt){this.initialized=!1,this.filterManager=et,this.filterElem=_e,this.elem=tt,tt.matteElement=createNS("g"),tt.matteElement.appendChild(tt.layerElement),tt.matteElement.appendChild(tt.transformedElement),tt.baseElement=tt.matteElement}SVGMatte3Effect.prototype.findSymbol=function(_e){for(var et=0,tt=_svgMatteSymbols.length;et<tt;){if(_svgMatteSymbols[et]===_e)return _svgMatteSymbols[et];et+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(_e,et){var tt=_e.layerElement.parentNode;if(tt){for(var rt=tt.children,nt=0,it=rt.length;nt<it&&rt[nt]!==_e.layerElement;)nt+=1;var at;nt<=it-2&&(at=rt[nt+1]);var ot=createNS("use");ot.setAttribute("href","#"+et),at?tt.insertBefore(ot,at):tt.appendChild(ot)}},SVGMatte3Effect.prototype.setElementAsMask=function(_e,et){if(!this.findSymbol(et)){var tt=createElementID(),rt=createNS("mask");rt.setAttribute("id",et.layerId),rt.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(et);var nt=_e.globalData.defs;nt.appendChild(rt);var it=createNS("symbol");it.setAttribute("id",tt),this.replaceInParent(et,tt),it.appendChild(et.layerElement),nt.appendChild(it);var at=createNS("use");at.setAttribute("href","#"+tt),rt.appendChild(at),et.data.hd=!1,et.show()}_e.setMatte(et.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var _e=this.filterManager.effectElements[0].p.v,et=this.elem.comp.elements,tt=0,rt=et.length;tt<rt;)et[tt]&&et[tt].data.ind===_e&&this.setElementAsMask(this.elem,et[tt]),tt+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(_e,et,tt,rt){_e.setAttribute("x","-100%"),_e.setAttribute("y","-100%"),_e.setAttribute("width","300%"),_e.setAttribute("height","300%"),this.filterManager=et;var nt=createNS("feGaussianBlur");nt.setAttribute("result",rt),_e.appendChild(nt),this.feGaussianBlur=nt}SVGGaussianBlurEffect.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){var et=.3,tt=this.filterManager.effectElements[0].p.v*et,rt=this.filterManager.effectElements[1].p.v,nt=rt==3?0:tt,it=rt==2?0:tt;this.feGaussianBlur.setAttribute("stdDeviation",nt+" "+it);var at=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",at)}};function TransformEffect(){}TransformEffect.prototype.init=function(_e){this.effectsManager=_e,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(_e){if(this._opMdf=!1,this._mdf=!1,_e||this.effectsManager._mdf){var et=this.effectsManager.effectElements,tt=et[0].p.v,rt=et[1].p.v,nt=et[2].p.v===1,it=et[3].p.v,at=nt?it:et[4].p.v,ot=et[5].p.v,st=et[6].p.v,lt=et[7].p.v;this.matrix.reset(),this.matrix.translate(-tt[0],-tt[1],tt[2]),this.matrix.scale(at*.01,it*.01,1),this.matrix.rotate(-lt*degToRads),this.matrix.skewFromAxis(-ot*degToRads,(st+90)*degToRads),this.matrix.translate(rt[0],rt[1],0),this._mdf=!0,this.opacity!==et[8].p.v&&(this.opacity=et[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(_e,et){this.init(et)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(_e){this.init(_e)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports),fillContainerClassName="fillContainerClassName_fjji4ig",LottieContainer=styled_default("div")({name:"LottieContainer",class:"LottieContainer_lkvt791",propsAsIs:!1});function LottieAnimation({animationData:_e,loop:et,fillContainer:tt,className:rt,onComplete:nt,children:it}){const at=reactExports.useRef(nt);reactExports.useEffect(()=>{at.current=nt},[nt]);const ot=reactExports.useRef(),st=reactExports.useCallback(lt=>{var dt;if(lt===null){(dt=ot.current)==null||dt.destroy(),ot.current=null;return}const ct=lottie.loadAnimation({container:lt,loop:et??!1,autoplay:!0,animationData:_e,renderer:"svg",rendererSettings:{preserveAspectRatio:"xMidYMax slice"}});ot.current=ct;const ut=ct.addEventListener("complete",()=>{var ft;(ft=at.current)==null||ft.call(at),ut()})},[_e,et]);return jsxRuntimeExports.jsxs("div",{className:clsx(rt,tt&&fillContainerClassName),children:[jsxRuntimeExports.jsx(LottieContainer,{ref:st}),it]})}const _exp$k=()=>LottieAnimation,LottieLoader=styled_default(_exp$k())({name:"LottieLoader",class:"LottieLoader_l1iibflu",propsAsIs:!0}),LoaderWrapper=styled_default("div")({name:"LoaderWrapper",class:"LoaderWrapper_l18na4y",propsAsIs:!1});function RMLoader({center:_e=!1,light:et=!1}){return jsxRuntimeExports.jsx(LoaderWrapper,{"data-center":_e,children:jsxRuntimeExports.jsx(LottieLoader,{loop:!0,animationData:et?SpinnerLightLottieAnimation:spinnerAnimationData})})}const Footer$2=styled_default("div")({name:"Footer",class:"Footer_fn1thg2",propsAsIs:!1});function RecordingLayoutFooter({hideSeparator:_e=!1,children:et}){return jsxRuntimeExports.jsx(Footer$2,{"data-hide-separator":_e,children:et})}var faTrashCan$1={prefix:"far",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M170.5 51.6L151.5 80h145l-19-28.4c-1.5-2.2-4-3.6-6.7-3.6H177.1c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80H368h48 8c13.3 0 24 10.7 24 24s-10.7 24-24 24h-8V432c0 44.2-35.8 80-80 80H112c-44.2 0-80-35.8-80-80V128H24c-13.3 0-24-10.7-24-24S10.7 80 24 80h8H80 93.8l36.7-55.1C140.9 9.4 158.4 0 177.1 0h93.7c18.7 0 36.2 9.4 46.6 24.9zM80 128V432c0 17.7 14.3 32 32 32H336c17.7 0 32-14.3 32-32V128H80zm80 64V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16z"]},faRectangleHistory$1={prefix:"far",iconName:"rectangle-history",icon:[512,512,[],"e4a2","M464 224c0-8.8-7.2-16-16-16L64 208c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16l384 0c8.8 0 16-7.2 16-16l0-224zm-16-64c35.3 0 64 28.7 64 64l0 224c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 224c0-35.3 28.7-64 64-64l384 0zm-8-80c13.3 0 24 10.7 24 24s-10.7 24-24 24L72 128c-13.3 0-24-10.7-24-24s10.7-24 24-24l368 0zM392 0c13.3 0 24 10.7 24 24s-10.7 24-24 24L120 48c-13.3 0-24-10.7-24-24s10.7-24 24-24L392 0z"]},faCircleMinus={prefix:"far",iconName:"circle-minus",icon:[512,512,["minus-circle"],"f056","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM184 232c-13.3 0-24 10.7-24 24s10.7 24 24 24H328c13.3 0 24-10.7 24-24s-10.7-24-24-24H184z"]},faRecordVinyl={prefix:"far",iconName:"record-vinyl",icon:[512,512,[],"f8d9","M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm160 0a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm120 0a24 24 0 1 0 -48 0 24 24 0 1 0 48 0z"]},faCircleExclamation={prefix:"far",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c-13.3 0-24 10.7-24 24V264c0 13.3 10.7 24 24 24s24-10.7 24-24V152c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},faList={prefix:"far",iconName:"list",icon:[512,512,["list-squares"],"f03a","M40 48C26.7 48 16 58.7 16 72v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V72c0-13.3-10.7-24-24-24H40zM184 72c-13.3 0-24 10.7-24 24s10.7 24 24 24H488c13.3 0 24-10.7 24-24s-10.7-24-24-24H184zm0 160c-13.3 0-24 10.7-24 24s10.7 24 24 24H488c13.3 0 24-10.7 24-24s-10.7-24-24-24H184zm0 160c-13.3 0-24 10.7-24 24s10.7 24 24 24H488c13.3 0 24-10.7 24-24s-10.7-24-24-24H184zM16 232v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V232c0-13.3-10.7-24-24-24H40c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V392c0-13.3-10.7-24-24-24H40z"]},faPenToSquare$1={prefix:"far",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152V424c0 48.6 39.4 88 88 88H360c48.6 0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1 0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H200c13.3 0 24-10.7 24-24s-10.7-24-24-24H88z"]},faAngleRight={prefix:"far",iconName:"angle-right",icon:[320,512,[8250],"f105","M273 239c9.4 9.4 9.4 24.6 0 33.9L113 433c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l143-143L79 113c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L273 239z"]},faShuffle={prefix:"far",iconName:"shuffle",icon:[512,512,[128256,"random"],"f074","M425 31l80 80c9.4 9.4 9.4 24.6 0 33.9l-80 80c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l39-39H352c-12.6 0-24.4 5.9-32 16l-46 61.3-30-40 37.6-50.1C298.2 117 324.3 104 352 104h78.1L391 65c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0zM204 322.7l-37.6 50.1C149.8 395 123.7 408 96 408H24c-13.3 0-24-10.7-24-24s10.7-24 24-24H96c12.6 0 24.4-5.9 32-16l46-61.3 30 40zM391 287c9.4-9.4 24.6-9.4 33.9 0l80 80c9.4 9.4 9.4 24.6 0 33.9l-80 80c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l39-39H352c-27.7 0-53.8-13-70.4-35.2L128 168c-7.6-10.1-19.4-16-32-16H24c-13.3 0-24-10.7-24-24s10.7-24 24-24H96c27.7 0 53.8 13 70.4 35.2L320 344c7.6 10.1 19.4 16 32 16h78.1l-39-39c-9.4-9.4-9.4-24.6 0-33.9z"]},faPaperPlaneTop$1={prefix:"far",iconName:"paper-plane-top",icon:[512,512,["paper-plane-alt","send"],"e20a","M133.9 232L65.8 95.9 383.4 232H133.9zm0 48H383.4L65.8 416.1l68-136.1zM44.6 34.6C32.3 29.3 17.9 32.3 8.7 42S-2.6 66.3 3.4 78.3L92.2 256 3.4 433.7c-6 12-3.9 26.5 5.3 36.3s23.5 12.7 35.9 7.5l448-192c11.8-5 19.4-16.6 19.4-29.4s-7.6-24.4-19.4-29.4l-448-192z"]},faSend$1=faPaperPlaneTop$1,faGift$1={prefix:"far",iconName:"gift",icon:[512,512,[127873],"f06b","M231.9 44.4C215.7 16.9 186.1 0 154.2 0H152C103.4 0 64 39.4 64 88c0 14.4 3.5 28 9.6 40H48c-26.5 0-48 21.5-48 48v64c0 20.9 13.4 38.7 32 45.3V288 448c0 35.3 28.7 64 64 64H416c35.3 0 64-28.7 64-64V288v-2.7c18.6-6.6 32-24.4 32-45.3V176c0-26.5-21.5-48-48-48H438.4c6.1-12 9.6-25.6 9.6-40c0-48.6-39.4-88-88-88h-2.2c-31.9 0-61.5 16.9-77.7 44.4L256 85.5l-24.1-41zM464 176v64H432 288V176h72H464zm-240 0v64H80 48V176H152h72zm0 112V464H96c-8.8 0-16-7.2-16-16V288H224zm64 176V288H432V448c0 8.8-7.2 16-16 16H288zm72-336H288h-1.3l34.8-59.2C329.1 55.9 342.9 48 357.8 48H360c22.1 0 40 17.9 40 40s-17.9 40-40 40zm-136 0H152c-22.1 0-40-17.9-40-40s17.9-40 40-40h2.2c14.9 0 28.8 7.9 36.3 20.8L225.3 128H224z"]},faImage$1={prefix:"far",iconName:"image",icon:[512,512,[],"f03e","M448 80c8.8 0 16 7.2 16 16V415.8l-5-6.5-136-176c-4.5-5.9-11.6-9.3-19-9.3s-14.4 3.4-19 9.3L202 340.7l-30.5-42.7C167 291.7 159.8 288 152 288s-15 3.7-19.5 10.1l-80 112L48 416.3l0-.3V96c0-8.8 7.2-16 16-16H448zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm80 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"]},faArrowRight$1={prefix:"far",iconName:"arrow-right",icon:[448,512,[8594],"f061","M440.6 273.4c4.7-4.5 7.4-10.8 7.4-17.4s-2.7-12.8-7.4-17.4l-176-168c-9.6-9.2-24.8-8.8-33.9 .8s-8.8 24.8 .8 33.9L364.1 232 24 232c-13.3 0-24 10.7-24 24s10.7 24 24 24l340.1 0L231.4 406.6c-9.6 9.2-9.9 24.3-.8 33.9s24.3 9.9 33.9 .8l176-168z"]},faHeart={prefix:"far",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8v-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5v3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20c0 0-.1-.1-.1-.1c0 0 0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5v3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2v-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z"]},faCircleQuestion={prefix:"far",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm169.8-90.7c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},faQuestionCircle=faCircleQuestion,faPen$1={prefix:"far",iconName:"pen",icon:[512,512,[128394],"f304","M36.4 360.9L13.4 439 1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1L73 498.6l78.1-23c12.4-3.6 23.7-9.9 33.4-18.4c1.4-1.2 2.7-2.5 4-3.8L492.7 149.3c21.9-21.9 24.6-55.6 8.2-80.5c-2.3-3.5-5.1-6.9-8.2-10L453.3 19.3c-25-25-65.5-25-90.5 0L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4zm46 13.5c1.7-5.6 4.5-10.8 8.4-15.2c.6-.6 1.1-1.2 1.7-1.8L321 129 383 191 154.6 419.5c-4.7 4.7-10.6 8.2-17 10.1l-23.4 6.9L59.4 452.6l16.1-54.8 6.9-23.4z"]},faArrowRotateRight={prefix:"far",iconName:"arrow-rotate-right",icon:[512,512,[8635,"arrow-right-rotate","arrow-rotate-forward","redo"],"f01e","M472 224c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24s-24 10.7-24 24v80.1l-20-23.5C387 63.4 325.1 32 256 32C132.3 32 32 132.3 32 256s100.3 224 224 224c50.4 0 97-16.7 134.4-44.8c10.6-8 12.7-23 4.8-33.6s-23-12.7-33.6-4.8C332.2 418.9 295.7 432 256 432c-97.2 0-176-78.8-176-176s78.8-176 176-176c54.3 0 102.9 24.6 135.2 63.4l.1 .2 0 0L418.9 176H328c-13.3 0-24 10.7-24 24s10.7 24 24 24H472z"]},faRedo=faArrowRotateRight,faTrash$1={prefix:"far",iconName:"trash",icon:[448,512,[],"f1f8","M177.1 48h93.7c2.7 0 5.2 1.3 6.7 3.6l19 28.4h-145l19-28.4c1.5-2.2 4-3.6 6.7-3.6zM354.2 80L317.5 24.9C307.1 9.4 289.6 0 270.9 0H177.1c-18.7 0-36.2 9.4-46.6 24.9L93.8 80H80.1 32 24C10.7 80 0 90.7 0 104s10.7 24 24 24H35.6L59.6 452.7c2.5 33.4 30.3 59.3 63.8 59.3H324.6c33.5 0 61.3-25.9 63.8-59.3L412.4 128H424c13.3 0 24-10.7 24-24s-10.7-24-24-24h-8H367.9 354.2zm10.1 48L340.5 449.2c-.6 8.4-7.6 14.8-16 14.8H123.4c-8.4 0-15.3-6.5-16-14.8L83.7 128H364.3z"]},faCircleInfo={prefix:"far",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336c-13.3 0-24 10.7-24 24s10.7 24 24 24h80c13.3 0 24-10.7 24-24s-10.7-24-24-24h-8V248c0-13.3-10.7-24-24-24H216c-13.3 0-24 10.7-24 24s10.7 24 24 24h24v64H216zm40-144a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"]},faInfoCircle=faCircleInfo,faMinus$1={prefix:"far",iconName:"minus",icon:[448,512,[8211,8722,10134,"subtract"],"f068","M432 256c0 13.3-10.7 24-24 24L40 280c-13.3 0-24-10.7-24-24s10.7-24 24-24l368 0c13.3 0 24 10.7 24 24z"]},faGear$1={prefix:"far",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M256 0c17 0 33.6 1.7 49.8 4.8c7.9 1.5 21.8 6.1 29.4 20.1c2 3.7 3.6 7.6 4.6 11.8l9.3 38.5C350.5 81 360.3 86.7 366 85l38-11.2c4-1.2 8.1-1.8 12.2-1.9c16.1-.5 27 9.4 32.3 15.4c22.1 25.1 39.1 54.6 49.9 86.3c2.6 7.6 5.6 21.8-2.7 35.4c-2.2 3.6-4.9 7-8 10L459 246.3c-4.2 4-4.2 15.5 0 19.5l28.7 27.3c3.1 3 5.8 6.4 8 10c8.2 13.6 5.2 27.8 2.7 35.4c-10.8 31.7-27.8 61.1-49.9 86.3c-5.3 6-16.3 15.9-32.3 15.4c-4.1-.1-8.2-.8-12.2-1.9L366 427c-5.7-1.7-15.5 4-16.9 9.8l-9.3 38.5c-1 4.2-2.6 8.2-4.6 11.8c-7.7 14-21.6 18.5-29.4 20.1C289.6 510.3 273 512 256 512s-33.6-1.7-49.8-4.8c-7.9-1.5-21.8-6.1-29.4-20.1c-2-3.7-3.6-7.6-4.6-11.8l-9.3-38.5c-1.4-5.8-11.2-11.5-16.9-9.8l-38 11.2c-4 1.2-8.1 1.8-12.2 1.9c-16.1 .5-27-9.4-32.3-15.4c-22-25.1-39.1-54.6-49.9-86.3c-2.6-7.6-5.6-21.8 2.7-35.4c2.2-3.6 4.9-7 8-10L53 265.7c4.2-4 4.2-15.5 0-19.5L24.2 218.9c-3.1-3-5.8-6.4-8-10C8 195.3 11 181.1 13.6 173.6c10.8-31.7 27.8-61.1 49.9-86.3c5.3-6 16.3-15.9 32.3-15.4c4.1 .1 8.2 .8 12.2 1.9L146 85c5.7 1.7 15.5-4 16.9-9.8l9.3-38.5c1-4.2 2.6-8.2 4.6-11.8c7.7-14 21.6-18.5 29.4-20.1C222.4 1.7 239 0 256 0zM218.1 51.4l-8.5 35.1c-7.8 32.3-45.3 53.9-77.2 44.6L97.9 120.9c-16.5 19.3-29.5 41.7-38 65.7l26.2 24.9c24 22.8 24 66.2 0 89L59.9 325.4c8.5 24 21.5 46.4 38 65.7l34.6-10.2c31.8-9.4 69.4 12.3 77.2 44.6l8.5 35.1c24.6 4.5 51.3 4.5 75.9 0l8.5-35.1c7.8-32.3 45.3-53.9 77.2-44.6l34.6 10.2c16.5-19.3 29.5-41.7 38-65.7l-26.2-24.9c-24-22.8-24-66.2 0-89l26.2-24.9c-8.5-24-21.5-46.4-38-65.7l-34.6 10.2c-31.8 9.4-69.4-12.3-77.2-44.6l-8.5-35.1c-24.6-4.5-51.3-4.5-75.9 0zM208 256a48 48 0 1 0 96 0 48 48 0 1 0 -96 0zm48 96a96 96 0 1 1 0-192 96 96 0 1 1 0 192z"]},faClock$1={prefix:"far",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},faHouse$1={prefix:"far",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M272.5 5.7c9-7.6 22.1-7.6 31.1 0l264 224c10.1 8.6 11.4 23.7 2.8 33.8s-23.7 11.3-33.8 2.8L512 245.5V432c0 44.2-35.8 80-80 80H144c-44.2 0-80-35.8-80-80V245.5L39.5 266.3c-10.1 8.6-25.3 7.3-33.8-2.8s-7.3-25.3 2.8-33.8l264-224zM288 55.5L112 204.8V432c0 17.7 14.3 32 32 32h48V312c0-22.1 17.9-40 40-40H344c22.1 0 40 17.9 40 40V464h48c17.7 0 32-14.3 32-32V204.8L288 55.5zM240 464h96V320H240V464z"]},faHome$1=faHouse$1,faLink$1={prefix:"far",iconName:"link",icon:[640,512,[128279,"chain"],"f0c1","M580.3 267.2c56.2-56.2 56.2-147.3 0-203.5C526.8 10.2 440.9 7.3 383.9 57.2l-6.1 5.4c-10 8.7-11 23.9-2.3 33.9s23.9 11 33.9 2.3l6.1-5.4c38-33.2 95.2-31.3 130.9 4.4c37.4 37.4 37.4 98.1 0 135.6L433.1 346.6c-37.4 37.4-98.2 37.4-135.6 0c-35.7-35.7-37.6-92.9-4.4-130.9l4.7-5.4c8.7-10 7.7-25.1-2.3-33.9s-25.1-7.7-33.9 2.3l-4.7 5.4c-49.8 57-46.9 142.9 6.6 196.4c56.2 56.2 147.3 56.2 203.5 0L580.3 267.2zM59.7 244.8C3.5 301 3.5 392.1 59.7 448.2c53.6 53.6 139.5 56.4 196.5 6.5l6.1-5.4c10-8.7 11-23.9 2.3-33.9s-23.9-11-33.9-2.3l-6.1 5.4c-38 33.2-95.2 31.3-130.9-4.4c-37.4-37.4-37.4-98.1 0-135.6L207 165.4c37.4-37.4 98.1-37.4 135.6 0c35.7 35.7 37.6 92.9 4.4 130.9l-5.4 6.1c-8.7 10-7.7 25.1 2.3 33.9s25.1 7.7 33.9-2.3l5.4-6.1c49.9-57 47-142.9-6.5-196.5c-56.2-56.2-147.3-56.2-203.5 0L59.7 244.8z"]},faCopy={prefix:"far",iconName:"copy",icon:[448,512,[],"f0c5","M384 336H192c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16l140.1 0L400 115.9V320c0 8.8-7.2 16-16 16zM192 384H384c35.3 0 64-28.7 64-64V115.9c0-12.7-5.1-24.9-14.1-33.9L366.1 14.1c-9-9-21.2-14.1-33.9-14.1H192c-35.3 0-64 28.7-64 64V320c0 35.3 28.7 64 64 64zM64 128c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H256c35.3 0 64-28.7 64-64V416H272v32c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192c0-8.8 7.2-16 16-16H96V128H64z"]},faPlus$1={prefix:"far",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M248 72c0-13.3-10.7-24-24-24s-24 10.7-24 24V232H40c-13.3 0-24 10.7-24 24s10.7 24 24 24H200V440c0 13.3 10.7 24 24 24s24-10.7 24-24V280H408c13.3 0 24-10.7 24-24s-10.7-24-24-24H248V72z"]},faXmark$1={prefix:"far",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M345 137c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-119 119L73 103c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l119 119L39 375c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l119-119L311 409c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-119-119L345 137z"]},faClose$1=faXmark$1,faChevronLeft$1={prefix:"far",iconName:"chevron-left",icon:[320,512,[9001],"f053","M15 239c-9.4 9.4-9.4 24.6 0 33.9L207 465c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9L65.9 256 241 81c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L15 239z"]},faChevronRight$1={prefix:"far",iconName:"chevron-right",icon:[320,512,[9002],"f054","M305 239c9.4 9.4 9.4 24.6 0 33.9L113 465c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l175-175L79 81c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L305 239z"]},faCalendar={prefix:"far",iconName:"calendar",icon:[448,512,[128197,128198],"f133","M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192H400V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192z"]},faCirclePlus$1={prefix:"far",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344c0 13.3 10.7 24 24 24s24-10.7 24-24V280h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H280V168c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H168c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"]},faBook$1={prefix:"far",iconName:"book",icon:[448,512,[128212],"f02d","M0 88C0 39.4 39.4 0 88 0H392c30.9 0 56 25.1 56 56V344c0 22.3-13.1 41.6-32 50.6V464h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H80c-44.2 0-80-35.8-80-80c0-2.7 .1-5.4 .4-8H0V88zM80 400c-17.7 0-32 14.3-32 32s14.3 32 32 32H368V400H80zM48 358.7c9.8-4.3 20.6-6.7 32-6.7H392c4.4 0 8-3.6 8-8V56c0-4.4-3.6-8-8-8H88C65.9 48 48 65.9 48 88V358.7zM152 112H328c13.3 0 24 10.7 24 24s-10.7 24-24 24H152c-13.3 0-24-10.7-24-24s10.7-24 24-24zm0 80H328c13.3 0 24 10.7 24 24s-10.7 24-24 24H152c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]},faUserPlus={prefix:"far",iconName:"user-plus",icon:[640,512,[],"f234","M224 48a80 80 0 1 1 0 160 80 80 0 1 1 0-160zm0 208A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 96h91.4c65.7 0 120.1 48.7 129 112H49.3c8.9-63.3 63.3-112 129-112zm0-48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3zM504 312c0 13.3 10.7 24 24 24s24-10.7 24-24V248h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H552V136c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H440c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"]},faCheck$1={prefix:"far",iconName:"check",icon:[448,512,[10003,10004],"f00c","M441 103c9.4 9.4 9.4 24.6 0 33.9L177 401c-9.4 9.4-24.6 9.4-33.9 0L7 265c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l119 119L407 103c9.4-9.4 24.6-9.4 33.9 0z"]},faAngleLeft={prefix:"far",iconName:"angle-left",icon:[320,512,[8249],"f104","M47 239c-9.4 9.4-9.4 24.6 0 33.9L207 433c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9L97.9 256 241 113c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L47 239z"]},faTriangleExclamation$1={prefix:"far",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M248.4 84.3c1.6-2.7 4.5-4.3 7.6-4.3s6 1.6 7.6 4.3L461.9 410c1.4 2.3 2.1 4.9 2.1 7.5c0 8-6.5 14.5-14.5 14.5H62.5c-8 0-14.5-6.5-14.5-14.5c0-2.7 .7-5.3 2.1-7.5L248.4 84.3zm-41-25L9.1 385c-6 9.8-9.1 21-9.1 32.5C0 452 28 480 62.5 480h387c34.5 0 62.5-28 62.5-62.5c0-11.5-3.2-22.7-9.1-32.5L304.6 59.3C294.3 42.4 275.9 32 256 32s-38.3 10.4-48.6 27.3zM288 368a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm-8-184c0-13.3-10.7-24-24-24s-24 10.7-24 24v96c0 13.3 10.7 24 24 24s24-10.7 24-24V184z"]},faShare$1={prefix:"far",iconName:"share",icon:[512,512,["mail-forward"],"f064","M288 240H192c-66.2 0-122 44.7-138.8 105.5C49.9 333.1 48 319.3 48 304c0-70.7 57.3-128 128-128H288h24c13.3 0 24-10.7 24-24V128 99.9L456.1 208 336 316.1V288 264c0-13.3-10.7-24-24-24H288zm0 48v48 16c0 12.6 7.4 24.1 19 29.2s25 3 34.4-5.4l160-144c6.7-6.1 10.6-14.7 10.6-23.8s-3.8-17.7-10.6-23.8l-160-144c-9.4-8.5-22.9-10.6-34.4-5.4s-19 16.6-19 29.2V80v48H240 176C78.8 128 0 206.8 0 304c0 78 38.6 126.2 68.7 152.1c4.1 3.5 8.1 6.6 11.7 9.3c3.2 2.4 6.2 4.4 8.9 6.2c4.5 3 8.3 5.1 10.8 6.5c2.5 1.4 5.3 1.9 8.1 1.9c10.9 0 19.7-8.9 19.7-19.7c0-6.8-3.6-13.2-8.3-18.1c-.5-.5-.9-.9-1.4-1.4c-2.4-2.3-5.1-5.1-7.7-8.6c-1.7-2.3-3.4-5-5-7.9c-5.3-9.7-9.5-22.9-9.5-40.2c0-53 43-96 96-96h48 48z"]},faRightLeft$1={prefix:"far",iconName:"right-left",icon:[512,512,["exchange-alt"],"f362","M336 215c0 22.6 18.3 41 41 41c10.9 0 21.3-4.3 29-12l99-99c4.5-4.5 7-10.6 7-17s-2.5-12.5-7-17l-99-99c-7.7-7.7-18.1-12-29-12c-22.6 0-41 18.3-41 41v63H24c-13.3 0-24 10.7-24 24s10.7 24 24 24H336v63zm118.1-87L384 198.1V57.9L454.1 128zM135 256c-10.9 0-21.3 4.3-29 12L7 367c-4.5 4.5-7 10.6-7 17s2.5 12.5 7 17l99 99c7.7 7.7 18.1 12 29 12c22.6 0 41-18.3 41-41V408H488c13.3 0 24-10.7 24-24s-10.7-24-24-24H176V297c0-22.6-18.3-41-41-41zm-7 198.1L57.9 384 128 313.9V454.1z"]},faVideo$1={prefix:"far",iconName:"video",icon:[576,512,["video-camera"],"f03d","M64 112c-8.8 0-16 7.2-16 16V384c0 8.8 7.2 16 16 16H320c8.8 0 16-7.2 16-16V128c0-8.8-7.2-16-16-16H64zM0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64v33V351v33c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128zM528 363.4V148.6L416 199V146.4L520.3 99.5c5.1-2.3 10.6-3.5 16.2-3.5c21.8 0 39.5 17.7 39.5 39.5v241c0 21.8-17.7 39.5-39.5 39.5c-5.6 0-11.1-1.2-16.2-3.5L416 365.6V313l112 50.4z"]},faTrashCan={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"]},faRectangleHistory={prefix:"fas",iconName:"rectangle-history",icon:[512,512,[],"e4a2","M512 224c0-35.3-28.7-64-64-64L64 160c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-224zM440 80L72 80c-13.3 0-24 10.7-24 24s10.7 24 24 24l368 0c13.3 0 24-10.7 24-24s-10.7-24-24-24zM392 0L120 0C106.7 0 96 10.7 96 24s10.7 24 24 24l272 0c13.3 0 24-10.7 24-24s-10.7-24-24-24z"]},faRightFromBracket={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"]},faCrop={prefix:"fas",iconName:"crop",icon:[512,512,[],"f125","M448 109.3l54.6-54.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L402.7 64 160 64v64l178.7 0L128 338.7V32c0-17.7-14.3-32-32-32S64 14.3 64 32V64H32C14.3 64 0 78.3 0 96s14.3 32 32 32H64V384c0 35.3 28.7 64 64 64H352V384H173.3L384 173.3 384 480c0 17.7 14.3 32 32 32s32-14.3 32-32V448h32c17.7 0 32-14.3 32-32s-14.3-32-32-32H448l0-274.7z"]},faBars={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},faCompress={prefix:"fas",iconName:"compress",icon:[448,512,[],"f066","M160 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V64zM32 320c-17.7 0-32 14.3-32 32s14.3 32 32 32H96v64c0 17.7 14.3 32 32 32s32-14.3 32-32V352c0-17.7-14.3-32-32-32H32zM352 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H352V64zM320 320c-17.7 0-32 14.3-32 32v96c0 17.7 14.3 32 32 32s32-14.3 32-32V384h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H320z"]},faBookOpenCover={prefix:"fas",iconName:"book-open-cover",icon:[640,512,["book-open-alt"],"e0c0","M304 32V408L96 368V34.7C96 14.9 113.8-.2 133.3 3.1L304 32zM89.7 405.1L320 451.2l230.3-46.1c15-3 25.7-16.1 25.7-31.4V28.8l25.7-5.1C621.5 19.7 640 34.8 640 55V421.8c0 15.3-10.8 28.4-25.7 31.4L320 512 25.7 453.1C10.8 450.2 0 437 0 421.8V55C0 34.8 18.5 19.7 38.3 23.7L64 28.8v345c0 15.3 10.8 28.4 25.7 31.4zM336 408V32L506.7 3.1C526.2-.2 544 14.9 544 34.7V368L336 408z"]},faPenToSquare={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"]},faEdit=faPenToSquare,faSparkles={prefix:"fas",iconName:"sparkles",icon:[512,512,[10024],"f890","M327.5 85.2c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L384 128l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L448 128l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L448 64 426.8 7.5C425.1 3 420.8 0 416 0s-9.1 3-10.8 7.5L384 64 327.5 85.2zM205.1 73.3c-2.6-5.7-8.3-9.3-14.5-9.3s-11.9 3.6-14.5 9.3L123.3 187.3 9.3 240C3.6 242.6 0 248.3 0 254.6s3.6 11.9 9.3 14.5l114.1 52.7L176 435.8c2.6 5.7 8.3 9.3 14.5 9.3s11.9-3.6 14.5-9.3l52.7-114.1 114.1-52.7c5.7-2.6 9.3-8.3 9.3-14.5s-3.6-11.9-9.3-14.5L257.8 187.4 205.1 73.3zM384 384l-56.5 21.2c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L384 448l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L448 448l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L448 384l-21.2-56.5c-1.7-4.5-6-7.5-10.8-7.5s-9.1 3-10.8 7.5L384 384z"]},faShieldCheck={prefix:"fas",iconName:"shield-check",icon:[512,512,[],"f2f7","M269.4 2.9C265.2 1 260.7 0 256 0s-9.2 1-13.4 2.9L54.3 82.8c-22 9.3-38.4 31-38.3 57.2c.5 99.2 41.3 280.7 213.6 363.2c16.7 8 36.1 8 52.8 0C454.7 420.7 495.5 239.2 496 140c.1-26.2-16.3-47.9-38.3-57.2L269.4 2.9zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},faArrowUpFromBracket={prefix:"fas",iconName:"arrow-up-from-bracket",icon:[448,512,[],"e09a","M246.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 109.3 192 320c0 17.7 14.3 32 32 32s32-14.3 32-32l0-210.7 73.4 73.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-128-128zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 64c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 64c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-64z"]},faPaperPlaneTop={prefix:"fas",iconName:"paper-plane-top",icon:[512,512,["paper-plane-alt","send"],"e20a","M49.9 27.8C15.1 12.7-19.2 50.1-1.2 83.5L68.1 212.2c4.4 8.3 12.6 13.8 21.9 15c0 0 0 0 0 0l176 22c3.4 .4 6 3.3 6 6.7s-2.6 6.3-6 6.7l-176 22s0 0 0 0c-9.3 1.2-17.5 6.8-21.9 15L-1.2 428.5c-18 33.4 16.3 70.8 51.1 55.7L491.8 292.7c32.1-13.9 32.1-59.5 0-73.4L49.9 27.8z"]},faSend=faPaperPlaneTop,faWifi={prefix:"fas",iconName:"wifi",icon:[640,512,["wifi-3","wifi-strong"],"f1eb","M54.2 202.9C123.2 136.7 216.8 96 320 96s196.8 40.7 265.8 106.9c12.8 12.2 33 11.8 45.2-.9s11.8-33-.9-45.2C549.7 79.5 440.4 32 320 32S90.3 79.5 9.8 156.7C-2.9 169-3.3 189.2 8.9 202s32.5 13.2 45.2 .9zM320 256c56.8 0 108.6 21.1 148.2 56c13.3 11.7 33.5 10.4 45.2-2.8s10.4-33.5-2.8-45.2C459.8 219.2 393 192 320 192s-139.8 27.2-190.5 72c-13.3 11.7-14.5 31.9-2.8 45.2s31.9 14.5 45.2 2.8c39.5-34.9 91.3-56 148.2-56zm64 160a64 64 0 1 0 -128 0 64 64 0 1 0 128 0z"]},faGift={prefix:"fas",iconName:"gift",icon:[512,512,[127873],"f06b","M190.5 68.8L225.3 128H224 152c-22.1 0-40-17.9-40-40s17.9-40 40-40h2.2c14.9 0 28.8 7.9 36.3 20.8zM64 88c0 14.4 3.5 28 9.6 40H32c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32H480c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32H438.4c6.1-12 9.6-25.6 9.6-40c0-48.6-39.4-88-88-88h-2.2c-31.9 0-61.5 16.9-77.7 44.4L256 85.5l-24.1-41C215.7 16.9 186.1 0 154.2 0H152C103.4 0 64 39.4 64 88zm336 0c0 22.1-17.9 40-40 40H288h-1.3l34.8-59.2C329.1 55.9 342.9 48 357.8 48H360c22.1 0 40 17.9 40 40zM32 288V464c0 26.5 21.5 48 48 48H224V288H32zM288 512H432c26.5 0 48-21.5 48-48V288H288V512z"]},faVolume={prefix:"fas",iconName:"volume",icon:[576,512,[128265,"volume-medium"],"f6a8","M333.1 34.8C344.6 40 352 51.4 352 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L163.8 352H96c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L298.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3zm172 72.2c43.2 35.2 70.9 88.9 70.9 149s-27.7 113.8-70.9 149c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C507.3 341.3 528 301.1 528 256s-20.7-85.3-53.2-111.8c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zm-60.5 74.5C466.1 199.1 480 225.9 480 256s-13.9 56.9-35.4 74.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C425.1 284.4 432 271 432 256s-6.9-28.4-17.7-37.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5z"]},faArrowDownToLine={prefix:"fas",iconName:"arrow-down-to-line",icon:[384,512,["arrow-to-bottom"],"f33d","M32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l320 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 480zM214.6 342.6c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 242.7 160 64c0-17.7 14.3-32 32-32s32 14.3 32 32l0 178.7 73.4-73.4c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3l-128 128z"]},faImage={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM323.8 202.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6L170.7 297c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6h96 32H424c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"]},faMicrophone={prefix:"fas",iconName:"microphone",icon:[384,512,[],"f130","M192 0C139 0 96 43 96 96V256c0 53 43 96 96 96s96-43 96-96V96c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 89.1 66.2 162.7 152 174.4V464H120c-13.3 0-24 10.7-24 24s10.7 24 24 24h72 72c13.3 0 24-10.7 24-24s-10.7-24-24-24H216V430.4c85.8-11.7 152-85.3 152-174.4V216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 70.7-57.3 128-128 128s-128-57.3-128-128V216z"]},faCircleCheck={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},faCheckCircle=faCircleCheck,faPause={prefix:"fas",iconName:"pause",icon:[320,512,[9208],"f04c","M48 64C21.5 64 0 85.5 0 112V400c0 26.5 21.5 48 48 48H80c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zm192 0c-26.5 0-48 21.5-48 48V400c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H240z"]},faArrowRight={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},faCircle={prefix:"fas",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"]},faPen={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]},faSpinnerThird={prefix:"fas",iconName:"spinner-third",icon:[512,512,[],"f3f4","M224 32c0-17.7 14.3-32 32-32C397.4 0 512 114.6 512 256c0 46.6-12.5 90.4-34.3 128c-8.8 15.3-28.4 20.5-43.7 11.7s-20.5-28.4-11.7-43.7c16.3-28.2 25.7-61 25.7-96c0-106-86-192-192-192c-17.7 0-32-14.3-32-32z"]},faTrash={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"]},faArrowLeft={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},faEnvelope={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},faMinus={prefix:"fas",iconName:"minus",icon:[448,512,[8211,8722,10134,"subtract"],"f068","M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"]},faGear={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},faCog=faGear,faWaveformLines={prefix:"fas",iconName:"waveform-lines",icon:[640,512,["waveform-path"],"f8f2","M352 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V480c0 17.7 14.3 32 32 32s32-14.3 32-32V32zM544 96c0-17.7-14.3-32-32-32s-32 14.3-32 32V416c0 17.7 14.3 32 32 32s32-14.3 32-32V96zM256 128c0-17.7-14.3-32-32-32s-32 14.3-32 32V384c0 17.7 14.3 32 32 32s32-14.3 32-32V128zm192 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V352c0 17.7 14.3 32 32 32s32-14.3 32-32V160zM160 224c0-17.7-14.3-32-32-32s-32 14.3-32 32v64c0 17.7 14.3 32 32 32s32-14.3 32-32V224zM0 256a32 32 0 1 0 64 0A32 32 0 1 0 0 256zm576 0a32 32 0 1 0 64 0 32 32 0 1 0 -64 0z"]},faGripVertical={prefix:"fas",iconName:"grip-vertical",icon:[320,512,[],"f58e","M40 352l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40zm192 0l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40zM40 320c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0zM232 192l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40zM40 160c-22.1 0-40-17.9-40-40L0 72C0 49.9 17.9 32 40 32l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0zM232 32l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40z"]},faClock={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},faDownload={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},faHouse={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},faHome=faHouse,faRotateRight={prefix:"fas",iconName:"rotate-right",icon:[512,512,["redo-alt","rotate-forward"],"f2f9","M463.5 224H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1c-87.5 87.5-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5z"]},faStop={prefix:"fas",iconName:"stop",icon:[384,512,[9209],"f04d","M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128z"]},faBolt={prefix:"fas",iconName:"bolt",icon:[448,512,[9889,"zap"],"f0e7","M349.4 44.6c5.9-13.7 1.5-29.7-10.6-38.5s-28.6-8-39.9 1.8l-256 224c-10 8.8-13.6 22.9-8.9 35.3S50.7 288 64 288H175.5L98.6 467.4c-5.9 13.7-1.5 29.7 10.6 38.5s28.6 8 39.9-1.8l256-224c10-8.8 13.6-22.9 8.9-35.3s-16.6-20.7-30-20.7H272.5L349.4 44.6z"]},faEllipsis={prefix:"fas",iconName:"ellipsis",icon:[448,512,["ellipsis-h"],"f141","M8 256a56 56 0 1 1 112 0A56 56 0 1 1 8 256zm160 0a56 56 0 1 1 112 0 56 56 0 1 1 -112 0zm216-56a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"]},faLink={prefix:"fas",iconName:"link",icon:[640,512,[128279,"chain"],"f0c1","M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"]},faPlay={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"]},faChevronDown={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},faVolumeXmark={prefix:"fas",iconName:"volume-xmark",icon:[576,512,["volume-mute","volume-times"],"f6a9","M301.1 34.8C312.6 40 320 51.4 320 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3zM425 167l55 55 55-55c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-55 55 55 55c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-55-55-55 55c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l55-55-55-55c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"]},faPlus={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},faAdd=faPlus,faExpand={prefix:"fas",iconName:"expand",icon:[448,512,[],"f065","M32 32C14.3 32 0 46.3 0 64v96c0 17.7 14.3 32 32 32s32-14.3 32-32V96h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H32zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H64V352zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h64v64c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H320zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V352z"]},faXmark={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},faClose=faXmark,faChevronLeft={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},faChevronRight={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},faSpinner={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"]},faUpRightAndDownLeftFromCenter={prefix:"fas",iconName:"up-right-and-down-left-from-center",icon:[512,512,["expand-alt"],"f424","M344 0H488c13.3 0 24 10.7 24 24V168c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39-87 87c-9.4 9.4-24.6 9.4-33.9 0l-32-32c-9.4-9.4-9.4-24.6 0-33.9l87-87L327 41c-6.9-6.9-8.9-17.2-5.2-26.2S334.3 0 344 0zM168 512H24c-13.3 0-24-10.7-24-24V344c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39 87-87c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8z"]},faCirclePlus={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344V280H168c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},faBook={prefix:"fas",iconName:"book",icon:[448,512,[128212],"f02d","M96 0C43 0 0 43 0 96V416c0 53 43 96 96 96H384h32c17.7 0 32-14.3 32-32s-14.3-32-32-32V384c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H384 96zm0 384H352v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16zm16 48H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},faCheck={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},faTriangleExclamation={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},faWarning=faTriangleExclamation,faShare={prefix:"fas",iconName:"share",icon:[512,512,["mail-forward"],"f064","M307 34.8c-11.5 5.1-19 16.6-19 29.2v64H176C78.8 128 0 206.8 0 304C0 417.3 81.5 467.9 100.2 478.1c2.5 1.4 5.3 1.9 8.1 1.9c10.9 0 19.7-8.9 19.7-19.7c0-7.5-4.3-14.4-9.8-19.5C108.8 431.9 96 414.4 96 384c0-53 43-96 96-96h96v64c0 12.6 7.4 24.1 19 29.2s25 3 34.4-5.4l160-144c6.7-6.1 10.6-14.7 10.6-23.8s-3.8-17.7-10.6-23.8l-160-144c-9.4-8.5-22.9-10.6-34.4-5.4z"]},faRightLeft={prefix:"fas",iconName:"right-left",icon:[512,512,["exchange-alt"],"f362","M32 96l320 0V32c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l96 96c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-96 96c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V160L32 160c-17.7 0-32-14.3-32-32s14.3-32 32-32zM480 352c17.7 0 32 14.3 32 32s-14.3 32-32 32H160v64c0 12.9-7.8 24.6-19.8 29.6s-25.7 2.2-34.9-6.9l-96-96c-6-6-9.4-14.1-9.4-22.6s3.4-16.6 9.4-22.6l96-96c9.2-9.2 22.9-11.9 34.9-6.9s19.8 16.6 19.8 29.6l0 64H480z"]},faPrint={prefix:"fas",iconName:"print",icon:[512,512,[128424,128438,9113],"f02f","M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zM432 248a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},faVideo={prefix:"fas",iconName:"video",icon:[576,512,["video-camera"],"f03d","M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128zM559.1 99.8c10.4 5.6 16.9 16.4 16.9 28.2V384c0 11.8-6.5 22.6-16.9 28.2s-23 5-32.9-1.6l-96-64L416 337.1V320 192 174.9l14.2-9.5 96-64c9.8-6.5 22.4-7.2 32.9-1.6z"]};const _exp$j=()=>_e=>_e.color??"unset",_exp2$7=()=>_e=>_e.fontFamily,_exp3$5=()=>_e=>_e.fontSize,_exp4$4=()=>_e=>_e.fontWeight,_exp5$4=()=>_e=>_e.letterSpacing??0,_exp6$3=()=>_e=>_e.underline?"underline":"none",_exp7$2=()=>_e=>_e.align,_exp8$2=()=>_e=>_e.lineHeight,Text=styled_default("span")({name:"Text",class:"Text_t144bvqi",propsAsIs:!1,vars:{"t144bvqi-0":[_exp$j()],"t144bvqi-1":[_exp2$7()],"t144bvqi-2":[_exp3$5()],"t144bvqi-3":[_exp4$4()],"t144bvqi-4":[_exp5$4()],"t144bvqi-5":[_exp6$3()],"t144bvqi-6":[_exp7$2()],"t144bvqi-7":[_exp8$2()]}});function RMText({type:_e,size:et,color:tt,bold:rt,trackedOutCaps:nt,underline:it=!1,align:at="left",truncate:ot=!1,lineHeight:st,italic:lt,cursor:ct="default",whiteSpace:ut,as:dt,...ft}){const pt=reactExports.useMemo(()=>_e==="sans"?"FKGroteskNeue":"Adonis",[_e]),ht=reactExports.useMemo(()=>({xxs:"0.75rem",xs:"0.875rem",s:"1rem",s2:"1.125rem",m:_e==="serif"?"1.25rem":"1.125rem",l:"1.5625rem",xl:"1.9375rem",xxl:"2.4375rem",xxxl:"3.0625rem"})[et],[et,_e]),yt=reactExports.useMemo(()=>{const vt={xs:"1.225rem",s:"1.4rem",m:"1.575rem",l:"1.875rem",xl:"2.7125rem"};return st?vt[st]?vt[st]:(console.warn(`Tracked out caps not supported for the ${st} line height`),"unset"):"unset"},[st]),mt=reactExports.useMemo(()=>rt==="bold"||rt===!0?700:rt==="medium"?500:400,[rt]),gt=reactExports.useMemo(()=>{if(!nt)return;const vt={xxs:"1.2px",xs:"1.4px"};if(vt[et])return vt[et];console.warn(`Tracked out caps not supported for the ${et} text size`)},[et,nt]);return jsxRuntimeExports.jsx(Text,{as:dt,fontFamily:pt,fontSize:ht,fontWeight:mt,letterSpacing:gt,underline:it,color:tt?`var(--${tt})`:void 0,align:at,lineHeight:yt,"data-truncate":ot,"data-italic":lt,"data-cursor":ct,"data-white-space":ut,...ft})}const Stepper=styled_default("div")({name:"Stepper",class:"Stepper_s19wrfhu",propsAsIs:!1}),Step=styled_default("div")({name:"Step",class:"Step_sa6zkdt",propsAsIs:!1}),_exp$i=()=>_e=>_e.active?"var(--border-primary)":"unset",StepBar=styled_default("div")({name:"StepBar",class:"StepBar_svnv44i",propsAsIs:!1,vars:{"svnv44i-0":[_exp$i()]}}),ProgressWrapper=styled_default("div")({name:"ProgressWrapper",class:"ProgressWrapper_p5w80da",propsAsIs:!1}),Progress=styled_default("progress")({name:"Progress",class:"Progress_p1xhsuc9",propsAsIs:!1});function RMStepper({activeStepIndex:_e,steps:et,layout:tt,hideIndex:rt=!1,onStepChange:nt}){var at;const it=reactExports.useId();return tt==="stepper"?jsxRuntimeExports.jsx(Stepper,{role:"tablist",children:et.map((ot,st)=>jsxRuntimeExports.jsxs(Step,{"data-disabled":ot.disabled,onClick:()=>!ot.disabled&&(nt==null?void 0:nt(st)),title:ot.label,"aria-disabled":ot.disabled,"aria-labelledby":it+"-"+ot.label,role:"tab",children:[jsxRuntimeExports.jsxs(RMText,{id:it+"-"+ot.label,as:"label",type:"sans",size:"xxs",bold:!0,trackedOutCaps:!0,truncate:!0,color:st===_e?"on-surface-secondary":void 0,style:{color:st!==_e?"#696E6B":void 0},children:[rt==!0?"":`${st+1}. `,ot.label]}),jsxRuntimeExports.jsx(StepBar,{"data-disabled":ot.disabled,active:st===_e})]},ot.label))}):jsxRuntimeExports.jsxs(ProgressWrapper,{children:[jsxRuntimeExports.jsxs(RMText,{type:"sans",size:"xxs",color:"on-surface-secondary",bold:!0,trackedOutCaps:!0,id:`${it}-label`,children:[rt==!0?"":`${_e+1} `,(at=et[_e])==null?void 0:at.label]}),jsxRuntimeExports.jsx(Progress,{value:_e+1,max:et.length,"aria-labelledby":`${it}-label`})]})}function useMatchMedia(_e){const et=reactExports.useMemo(()=>window.matchMedia(_e),[_e]),[tt,rt]=reactExports.useState(et.matches);return reactExports.useEffect(()=>{const nt=it=>{rt(it.matches)};return et.addEventListener("change",nt),()=>et.removeEventListener("change",nt)},[et]),tt}function ownKeys$1(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread2$1(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$1(Object(tt),!0).forEach(function(rt){_defineProperty$1(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$1(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _typeof$1(_e){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof$1(_e)}function _classCallCheck(_e,et){if(!(_e instanceof et))throw new TypeError("Cannot call a class as a function")}function _defineProperties(_e,et){for(var tt=0;tt<et.length;tt++){var rt=et[tt];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(_e,rt.key,rt)}}function _createClass(_e,et,tt){return et&&_defineProperties(_e.prototype,et),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _defineProperty$1(_e,et,tt){return et in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _slicedToArray(_e,et){return _arrayWithHoles(_e)||_iterableToArrayLimit(_e,et)||_unsupportedIterableToArray$1(_e,et)||_nonIterableRest()}function _toConsumableArray$1(_e){return _arrayWithoutHoles$1(_e)||_iterableToArray$1(_e)||_unsupportedIterableToArray$1(_e)||_nonIterableSpread$1()}function _arrayWithoutHoles$1(_e){if(Array.isArray(_e))return _arrayLikeToArray$1(_e)}function _arrayWithHoles(_e){if(Array.isArray(_e))return _e}function _iterableToArray$1(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _iterableToArrayLimit(_e,et){var tt=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(tt!=null){var rt=[],nt=!0,it=!1,at,ot;try{for(tt=tt.call(_e);!(nt=(at=tt.next()).done)&&(rt.push(at.value),!(et&&rt.length===et));nt=!0);}catch(st){it=!0,ot=st}finally{try{!nt&&tt.return!=null&&tt.return()}finally{if(it)throw ot}}return rt}}function _unsupportedIterableToArray$1(_e,et){if(_e){if(typeof _e=="string")return _arrayLikeToArray$1(_e,et);var tt=Object.prototype.toString.call(_e).slice(8,-1);if(tt==="Object"&&_e.constructor&&(tt=_e.constructor.name),tt==="Map"||tt==="Set")return Array.from(_e);if(tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt))return _arrayLikeToArray$1(_e,et)}}function _arrayLikeToArray$1(_e,et){(et==null||et>_e.length)&&(et=_e.length);for(var tt=0,rt=new Array(et);tt<et;tt++)rt[tt]=_e[tt];return rt}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var noop$6=function _e(){},_WINDOW={},_DOCUMENT={},_MUTATION_OBSERVER=null,_PERFORMANCE={mark:noop$6,measure:noop$6};try{typeof window<"u"&&(_WINDOW=window),typeof document<"u"&&(_DOCUMENT=document),typeof MutationObserver<"u"&&(_MUTATION_OBSERVER=MutationObserver),typeof performance<"u"&&(_PERFORMANCE=performance)}catch(_e){}var _ref=_WINDOW.navigator||{},_ref$userAgent=_ref.userAgent,userAgent=_ref$userAgent===void 0?"":_ref$userAgent,WINDOW=_WINDOW,DOCUMENT=_DOCUMENT,MUTATION_OBSERVER=_MUTATION_OBSERVER,PERFORMANCE=_PERFORMANCE;WINDOW.document;var IS_DOM=!!DOCUMENT.documentElement&&!!DOCUMENT.head&&typeof DOCUMENT.addEventListener=="function"&&typeof DOCUMENT.createElement=="function",IS_IE=~userAgent.indexOf("MSIE")||~userAgent.indexOf("Trident/"),_familyProxy,_familyProxy2,_familyProxy3,_familyProxy4,_familyProxy5,NAMESPACE_IDENTIFIER="___FONT_AWESOME___",UNITS_IN_GRID=16,DEFAULT_CSS_PREFIX="fa",DEFAULT_REPLACEMENT_CLASS="svg-inline--fa",DATA_FA_I2SVG="data-fa-i2svg",DATA_FA_PSEUDO_ELEMENT="data-fa-pseudo-element",DATA_FA_PSEUDO_ELEMENT_PENDING="data-fa-pseudo-element-pending",DATA_PREFIX="data-prefix",DATA_ICON="data-icon",HTML_CLASS_I2SVG_BASE_CLASS="fontawesome-i2svg",MUTATION_APPROACH_ASYNC="async",TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS=["HTML","HEAD","STYLE","SCRIPT"],PRODUCTION$1=function(){try{return!0}catch{return!1}}(),FAMILY_CLASSIC="classic",FAMILY_SHARP="sharp",FAMILIES=[FAMILY_CLASSIC,FAMILY_SHARP];function familyProxy(_e){return new Proxy(_e,{get:function(tt,rt){return rt in tt?tt[rt]:tt[FAMILY_CLASSIC]}})}var PREFIX_TO_STYLE=familyProxy((_familyProxy={},_defineProperty$1(_familyProxy,FAMILY_CLASSIC,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),_defineProperty$1(_familyProxy,FAMILY_SHARP,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),_familyProxy)),STYLE_TO_PREFIX=familyProxy((_familyProxy2={},_defineProperty$1(_familyProxy2,FAMILY_CLASSIC,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),_defineProperty$1(_familyProxy2,FAMILY_SHARP,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),_familyProxy2)),PREFIX_TO_LONG_STYLE=familyProxy((_familyProxy3={},_defineProperty$1(_familyProxy3,FAMILY_CLASSIC,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),_defineProperty$1(_familyProxy3,FAMILY_SHARP,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),_familyProxy3)),LONG_STYLE_TO_PREFIX=familyProxy((_familyProxy4={},_defineProperty$1(_familyProxy4,FAMILY_CLASSIC,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),_defineProperty$1(_familyProxy4,FAMILY_SHARP,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),_familyProxy4)),ICON_SELECTION_SYNTAX_PATTERN=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,LAYERS_TEXT_CLASSNAME="fa-layers-text",FONT_FAMILY_PATTERN=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,FONT_WEIGHT_TO_PREFIX=familyProxy((_familyProxy5={},_defineProperty$1(_familyProxy5,FAMILY_CLASSIC,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),_defineProperty$1(_familyProxy5,FAMILY_SHARP,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),_familyProxy5)),oneToTen=[1,2,3,4,5,6,7,8,9,10],oneToTwenty=oneToTen.concat([11,12,13,14,15,16,17,18,19,20]),ATTRIBUTES_WATCHED_FOR_MUTATION=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],DUOTONE_CLASSES={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},prefixes=new Set;Object.keys(STYLE_TO_PREFIX[FAMILY_CLASSIC]).map(prefixes.add.bind(prefixes));Object.keys(STYLE_TO_PREFIX[FAMILY_SHARP]).map(prefixes.add.bind(prefixes));var RESERVED_CLASSES=[].concat(FAMILIES,_toConsumableArray$1(prefixes),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",DUOTONE_CLASSES.GROUP,DUOTONE_CLASSES.SWAP_OPACITY,DUOTONE_CLASSES.PRIMARY,DUOTONE_CLASSES.SECONDARY]).concat(oneToTen.map(function(_e){return"".concat(_e,"x")})).concat(oneToTwenty.map(function(_e){return"w-".concat(_e)})),initial=WINDOW.FontAwesomeConfig||{};function getAttrConfig(_e){var et=DOCUMENT.querySelector("script["+_e+"]");if(et)return et.getAttribute(_e)}function coerce$1(_e){return _e===""?!0:_e==="false"?!1:_e==="true"?!0:_e}if(DOCUMENT&&typeof DOCUMENT.querySelector=="function"){var attrs=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];attrs.forEach(function(_e){var et=_slicedToArray(_e,2),tt=et[0],rt=et[1],nt=coerce$1(getAttrConfig(tt));nt!=null&&(initial[rt]=nt)})}var _default={styleDefault:"solid",familyDefault:"classic",cssPrefix:DEFAULT_CSS_PREFIX,replacementClass:DEFAULT_REPLACEMENT_CLASS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};initial.familyPrefix&&(initial.cssPrefix=initial.familyPrefix);var _config=_objectSpread2$1(_objectSpread2$1({},_default),initial);_config.autoReplaceSvg||(_config.observeMutations=!1);var config$1={};Object.keys(_default).forEach(function(_e){Object.defineProperty(config$1,_e,{enumerable:!0,set:function(tt){_config[_e]=tt,_onChangeCb.forEach(function(rt){return rt(config$1)})},get:function(){return _config[_e]}})});Object.defineProperty(config$1,"familyPrefix",{enumerable:!0,set:function _e(et){_config.cssPrefix=et,_onChangeCb.forEach(function(tt){return tt(config$1)})},get:function _e(){return _config.cssPrefix}});WINDOW.FontAwesomeConfig=config$1;var _onChangeCb=[];function onChange(_e){return _onChangeCb.push(_e),function(){_onChangeCb.splice(_onChangeCb.indexOf(_e),1)}}var d=UNITS_IN_GRID,meaninglessTransform={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function insertCss(_e){if(!(!_e||!IS_DOM)){var et=DOCUMENT.createElement("style");et.setAttribute("type","text/css"),et.innerHTML=_e;for(var tt=DOCUMENT.head.childNodes,rt=null,nt=tt.length-1;nt>-1;nt--){var it=tt[nt],at=(it.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(at)>-1&&(rt=it)}return DOCUMENT.head.insertBefore(et,rt),_e}}var idPool="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function nextUniqueId(){for(var _e=12,et="";_e-- >0;)et+=idPool[Math.random()*62|0];return et}function toArray$1(_e){for(var et=[],tt=(_e||[]).length>>>0;tt--;)et[tt]=_e[tt];return et}function classArray(_e){return _e.classList?toArray$1(_e.classList):(_e.getAttribute("class")||"").split(" ").filter(function(et){return et})}function htmlEscape(_e){return"".concat(_e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function joinAttributes(_e){return Object.keys(_e||{}).reduce(function(et,tt){return et+"".concat(tt,'="').concat(htmlEscape(_e[tt]),'" ')},"").trim()}function joinStyles(_e){return Object.keys(_e||{}).reduce(function(et,tt){return et+"".concat(tt,": ").concat(_e[tt].trim(),";")},"")}function transformIsMeaningful(_e){return _e.size!==meaninglessTransform.size||_e.x!==meaninglessTransform.x||_e.y!==meaninglessTransform.y||_e.rotate!==meaninglessTransform.rotate||_e.flipX||_e.flipY}function transformForSvg(_e){var et=_e.transform,tt=_e.containerWidth,rt=_e.iconWidth,nt={transform:"translate(".concat(tt/2," 256)")},it="translate(".concat(et.x*32,", ").concat(et.y*32,") "),at="scale(".concat(et.size/16*(et.flipX?-1:1),", ").concat(et.size/16*(et.flipY?-1:1),") "),ot="rotate(".concat(et.rotate," 0 0)"),st={transform:"".concat(it," ").concat(at," ").concat(ot)},lt={transform:"translate(".concat(rt/2*-1," -256)")};return{outer:nt,inner:st,path:lt}}function transformForCss(_e){var et=_e.transform,tt=_e.width,rt=tt===void 0?UNITS_IN_GRID:tt,nt=_e.height,it=nt===void 0?UNITS_IN_GRID:nt,at=_e.startCentered,ot=at===void 0?!1:at,st="";return ot&&IS_IE?st+="translate(".concat(et.x/d-rt/2,"em, ").concat(et.y/d-it/2,"em) "):ot?st+="translate(calc(-50% + ".concat(et.x/d,"em), calc(-50% + ").concat(et.y/d,"em)) "):st+="translate(".concat(et.x/d,"em, ").concat(et.y/d,"em) "),st+="scale(".concat(et.size/d*(et.flipX?-1:1),", ").concat(et.size/d*(et.flipY?-1:1),") "),st+="rotate(".concat(et.rotate,"deg) "),st}var baseStyles$1=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, 0));
          transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function css(){var _e=DEFAULT_CSS_PREFIX,et=DEFAULT_REPLACEMENT_CLASS,tt=config$1.cssPrefix,rt=config$1.replacementClass,nt=baseStyles$1;if(tt!==_e||rt!==et){var it=new RegExp("\\.".concat(_e,"\\-"),"g"),at=new RegExp("\\--".concat(_e,"\\-"),"g"),ot=new RegExp("\\.".concat(et),"g");nt=nt.replace(it,".".concat(tt,"-")).replace(at,"--".concat(tt,"-")).replace(ot,".".concat(rt))}return nt}var _cssInserted=!1;function ensureCss(){config$1.autoAddCss&&!_cssInserted&&(insertCss(css()),_cssInserted=!0)}var InjectCSS={mixout:function _e(){return{dom:{css,insertCss:ensureCss}}},hooks:function _e(){return{beforeDOMElementCreation:function(){ensureCss()},beforeI2svg:function(){ensureCss()}}}},w=WINDOW||{};w[NAMESPACE_IDENTIFIER]||(w[NAMESPACE_IDENTIFIER]={});w[NAMESPACE_IDENTIFIER].styles||(w[NAMESPACE_IDENTIFIER].styles={});w[NAMESPACE_IDENTIFIER].hooks||(w[NAMESPACE_IDENTIFIER].hooks={});w[NAMESPACE_IDENTIFIER].shims||(w[NAMESPACE_IDENTIFIER].shims=[]);var namespace=w[NAMESPACE_IDENTIFIER],functions=[],listener=function _e(){DOCUMENT.removeEventListener("DOMContentLoaded",_e),loaded=1,functions.map(function(et){return et()})},loaded=!1;IS_DOM&&(loaded=(DOCUMENT.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(DOCUMENT.readyState),loaded||DOCUMENT.addEventListener("DOMContentLoaded",listener));function domready(_e){IS_DOM&&(loaded?setTimeout(_e,0):functions.push(_e))}function toHtml(_e){var et=_e.tag,tt=_e.attributes,rt=tt===void 0?{}:tt,nt=_e.children,it=nt===void 0?[]:nt;return typeof _e=="string"?htmlEscape(_e):"<".concat(et," ").concat(joinAttributes(rt),">").concat(it.map(toHtml).join(""),"</").concat(et,">")}function iconFromMapping(_e,et,tt){if(_e&&_e[et]&&_e[et][tt])return{prefix:et,iconName:tt,icon:_e[et][tt]}}var reduce=function _e(et,tt,rt,nt){var it=Object.keys(et),at=it.length,ot=tt,st,lt,ct;for(rt===void 0?(st=1,ct=et[it[0]]):(st=0,ct=rt);st<at;st++)lt=it[st],ct=ot(ct,et[lt],lt,et);return ct};function ucs2decode(_e){for(var et=[],tt=0,rt=_e.length;tt<rt;){var nt=_e.charCodeAt(tt++);if(nt>=55296&&nt<=56319&&tt<rt){var it=_e.charCodeAt(tt++);(it&64512)==56320?et.push(((nt&1023)<<10)+(it&1023)+65536):(et.push(nt),tt--)}else et.push(nt)}return et}function toHex(_e){var et=ucs2decode(_e);return et.length===1?et[0].toString(16):null}function codePointAt(_e,et){var tt=_e.length,rt=_e.charCodeAt(et),nt;return rt>=55296&&rt<=56319&&tt>et+1&&(nt=_e.charCodeAt(et+1),nt>=56320&&nt<=57343)?(rt-55296)*1024+nt-56320+65536:rt}function normalizeIcons(_e){return Object.keys(_e).reduce(function(et,tt){var rt=_e[tt],nt=!!rt.icon;return nt?et[rt.iconName]=rt.icon:et[tt]=rt,et},{})}function defineIcons(_e,et){var tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},rt=tt.skipHooks,nt=rt===void 0?!1:rt,it=normalizeIcons(et);typeof namespace.hooks.addPack=="function"&&!nt?namespace.hooks.addPack(_e,normalizeIcons(et)):namespace.styles[_e]=_objectSpread2$1(_objectSpread2$1({},namespace.styles[_e]||{}),it),_e==="fas"&&defineIcons("fa",et)}var _LONG_STYLE,_PREFIXES,_PREFIXES_FOR_FAMILY,styles=namespace.styles,shims=namespace.shims,LONG_STYLE=(_LONG_STYLE={},_defineProperty$1(_LONG_STYLE,FAMILY_CLASSIC,Object.values(PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC])),_defineProperty$1(_LONG_STYLE,FAMILY_SHARP,Object.values(PREFIX_TO_LONG_STYLE[FAMILY_SHARP])),_LONG_STYLE),_defaultUsablePrefix=null,_byUnicode={},_byLigature={},_byOldName={},_byOldUnicode={},_byAlias={},PREFIXES=(_PREFIXES={},_defineProperty$1(_PREFIXES,FAMILY_CLASSIC,Object.keys(PREFIX_TO_STYLE[FAMILY_CLASSIC])),_defineProperty$1(_PREFIXES,FAMILY_SHARP,Object.keys(PREFIX_TO_STYLE[FAMILY_SHARP])),_PREFIXES);function isReserved(_e){return~RESERVED_CLASSES.indexOf(_e)}function getIconName(_e,et){var tt=et.split("-"),rt=tt[0],nt=tt.slice(1).join("-");return rt===_e&&nt!==""&&!isReserved(nt)?nt:null}var build=function _e(){var et=function(it){return reduce(styles,function(at,ot,st){return at[st]=reduce(ot,it,{}),at},{})};_byUnicode=et(function(nt,it,at){if(it[3]&&(nt[it[3]]=at),it[2]){var ot=it[2].filter(function(st){return typeof st=="number"});ot.forEach(function(st){nt[st.toString(16)]=at})}return nt}),_byLigature=et(function(nt,it,at){if(nt[at]=at,it[2]){var ot=it[2].filter(function(st){return typeof st=="string"});ot.forEach(function(st){nt[st]=at})}return nt}),_byAlias=et(function(nt,it,at){var ot=it[2];return nt[at]=at,ot.forEach(function(st){nt[st]=at}),nt});var tt="far"in styles||config$1.autoFetchSvg,rt=reduce(shims,function(nt,it){var at=it[0],ot=it[1],st=it[2];return ot==="far"&&!tt&&(ot="fas"),typeof at=="string"&&(nt.names[at]={prefix:ot,iconName:st}),typeof at=="number"&&(nt.unicodes[at.toString(16)]={prefix:ot,iconName:st}),nt},{names:{},unicodes:{}});_byOldName=rt.names,_byOldUnicode=rt.unicodes,_defaultUsablePrefix=getCanonicalPrefix(config$1.styleDefault,{family:config$1.familyDefault})};onChange(function(_e){_defaultUsablePrefix=getCanonicalPrefix(_e.styleDefault,{family:config$1.familyDefault})});build();function byUnicode(_e,et){return(_byUnicode[_e]||{})[et]}function byLigature(_e,et){return(_byLigature[_e]||{})[et]}function byAlias(_e,et){return(_byAlias[_e]||{})[et]}function byOldName(_e){return _byOldName[_e]||{prefix:null,iconName:null}}function byOldUnicode(_e){var et=_byOldUnicode[_e],tt=byUnicode("fas",_e);return et||(tt?{prefix:"fas",iconName:tt}:null)||{prefix:null,iconName:null}}function getDefaultUsablePrefix(){return _defaultUsablePrefix}var emptyCanonicalIcon=function _e(){return{prefix:null,iconName:null,rest:[]}};function getCanonicalPrefix(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=et.family,rt=tt===void 0?FAMILY_CLASSIC:tt,nt=PREFIX_TO_STYLE[rt][_e],it=STYLE_TO_PREFIX[rt][_e]||STYLE_TO_PREFIX[rt][nt],at=_e in namespace.styles?_e:null;return it||at||null}var PREFIXES_FOR_FAMILY=(_PREFIXES_FOR_FAMILY={},_defineProperty$1(_PREFIXES_FOR_FAMILY,FAMILY_CLASSIC,Object.keys(PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC])),_defineProperty$1(_PREFIXES_FOR_FAMILY,FAMILY_SHARP,Object.keys(PREFIX_TO_LONG_STYLE[FAMILY_SHARP])),_PREFIXES_FOR_FAMILY);function getCanonicalIcon(_e){var et,tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt=tt.skipLookups,nt=rt===void 0?!1:rt,it=(et={},_defineProperty$1(et,FAMILY_CLASSIC,"".concat(config$1.cssPrefix,"-").concat(FAMILY_CLASSIC)),_defineProperty$1(et,FAMILY_SHARP,"".concat(config$1.cssPrefix,"-").concat(FAMILY_SHARP)),et),at=null,ot=FAMILY_CLASSIC;(_e.includes(it[FAMILY_CLASSIC])||_e.some(function(lt){return PREFIXES_FOR_FAMILY[FAMILY_CLASSIC].includes(lt)}))&&(ot=FAMILY_CLASSIC),(_e.includes(it[FAMILY_SHARP])||_e.some(function(lt){return PREFIXES_FOR_FAMILY[FAMILY_SHARP].includes(lt)}))&&(ot=FAMILY_SHARP);var st=_e.reduce(function(lt,ct){var ut=getIconName(config$1.cssPrefix,ct);if(styles[ct]?(ct=LONG_STYLE[ot].includes(ct)?LONG_STYLE_TO_PREFIX[ot][ct]:ct,at=ct,lt.prefix=ct):PREFIXES[ot].indexOf(ct)>-1?(at=ct,lt.prefix=getCanonicalPrefix(ct,{family:ot})):ut?lt.iconName=ut:ct!==config$1.replacementClass&&ct!==it[FAMILY_CLASSIC]&&ct!==it[FAMILY_SHARP]&&lt.rest.push(ct),!nt&&lt.prefix&&lt.iconName){var dt=at==="fa"?byOldName(lt.iconName):{},ft=byAlias(lt.prefix,lt.iconName);dt.prefix&&(at=null),lt.iconName=dt.iconName||ft||lt.iconName,lt.prefix=dt.prefix||lt.prefix,lt.prefix==="far"&&!styles.far&&styles.fas&&!config$1.autoFetchSvg&&(lt.prefix="fas")}return lt},emptyCanonicalIcon());return(_e.includes("fa-brands")||_e.includes("fab"))&&(st.prefix="fab"),(_e.includes("fa-duotone")||_e.includes("fad"))&&(st.prefix="fad"),!st.prefix&&ot===FAMILY_SHARP&&(styles.fass||config$1.autoFetchSvg)&&(st.prefix="fass",st.iconName=byAlias(st.prefix,st.iconName)||st.iconName),(st.prefix==="fa"||at==="fa")&&(st.prefix=getDefaultUsablePrefix()||"fas"),st}var Library=function(){function _e(){_classCallCheck(this,_e),this.definitions={}}return _createClass(_e,[{key:"add",value:function(){for(var tt=this,rt=arguments.length,nt=new Array(rt),it=0;it<rt;it++)nt[it]=arguments[it];var at=nt.reduce(this._pullDefinitions,{});Object.keys(at).forEach(function(ot){tt.definitions[ot]=_objectSpread2$1(_objectSpread2$1({},tt.definitions[ot]||{}),at[ot]),defineIcons(ot,at[ot]);var st=PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC][ot];st&&defineIcons(st,at[ot]),build()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(tt,rt){var nt=rt.prefix&&rt.iconName&&rt.icon?{0:rt}:rt;return Object.keys(nt).map(function(it){var at=nt[it],ot=at.prefix,st=at.iconName,lt=at.icon,ct=lt[2];tt[ot]||(tt[ot]={}),ct.length>0&&ct.forEach(function(ut){typeof ut=="string"&&(tt[ot][ut]=lt)}),tt[ot][st]=lt}),tt}}]),_e}(),_plugins=[],_hooks={},providers={},defaultProviderKeys=Object.keys(providers);function registerPlugins$1(_e,et){var tt=et.mixoutsTo;return _plugins=_e,_hooks={},Object.keys(providers).forEach(function(rt){defaultProviderKeys.indexOf(rt)===-1&&delete providers[rt]}),_plugins.forEach(function(rt){var nt=rt.mixout?rt.mixout():{};if(Object.keys(nt).forEach(function(at){typeof nt[at]=="function"&&(tt[at]=nt[at]),_typeof$1(nt[at])==="object"&&Object.keys(nt[at]).forEach(function(ot){tt[at]||(tt[at]={}),tt[at][ot]=nt[at][ot]})}),rt.hooks){var it=rt.hooks();Object.keys(it).forEach(function(at){_hooks[at]||(_hooks[at]=[]),_hooks[at].push(it[at])})}rt.provides&&rt.provides(providers)}),tt}function chainHooks(_e,et){for(var tt=arguments.length,rt=new Array(tt>2?tt-2:0),nt=2;nt<tt;nt++)rt[nt-2]=arguments[nt];var it=_hooks[_e]||[];return it.forEach(function(at){et=at.apply(null,[et].concat(rt))}),et}function callHooks(_e){for(var et=arguments.length,tt=new Array(et>1?et-1:0),rt=1;rt<et;rt++)tt[rt-1]=arguments[rt];var nt=_hooks[_e]||[];nt.forEach(function(it){it.apply(null,tt)})}function callProvided(){var _e=arguments[0],et=Array.prototype.slice.call(arguments,1);return providers[_e]?providers[_e].apply(null,et):void 0}function findIconDefinition(_e){_e.prefix==="fa"&&(_e.prefix="fas");var et=_e.iconName,tt=_e.prefix||getDefaultUsablePrefix();if(et)return et=byAlias(tt,et)||et,iconFromMapping(library.definitions,tt,et)||iconFromMapping(namespace.styles,tt,et)}var library=new Library,noAuto=function _e(){config$1.autoReplaceSvg=!1,config$1.observeMutations=!1,callHooks("noAuto")},dom={i2svg:function _e(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return IS_DOM?(callHooks("beforeI2svg",et),callProvided("pseudoElements2svg",et),callProvided("i2svg",et)):Promise.reject("Operation requires a DOM of some kind.")},watch:function _e(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},tt=et.autoReplaceSvgRoot;config$1.autoReplaceSvg===!1&&(config$1.autoReplaceSvg=!0),config$1.observeMutations=!0,domready(function(){autoReplace({autoReplaceSvgRoot:tt}),callHooks("watch",et)})}},parse$2={icon:function _e(et){if(et===null)return null;if(_typeof$1(et)==="object"&&et.prefix&&et.iconName)return{prefix:et.prefix,iconName:byAlias(et.prefix,et.iconName)||et.iconName};if(Array.isArray(et)&&et.length===2){var tt=et[1].indexOf("fa-")===0?et[1].slice(3):et[1],rt=getCanonicalPrefix(et[0]);return{prefix:rt,iconName:byAlias(rt,tt)||tt}}if(typeof et=="string"&&(et.indexOf("".concat(config$1.cssPrefix,"-"))>-1||et.match(ICON_SELECTION_SYNTAX_PATTERN))){var nt=getCanonicalIcon(et.split(" "),{skipLookups:!0});return{prefix:nt.prefix||getDefaultUsablePrefix(),iconName:byAlias(nt.prefix,nt.iconName)||nt.iconName}}if(typeof et=="string"){var it=getDefaultUsablePrefix();return{prefix:it,iconName:byAlias(it,et)||et}}}},api$3={noAuto,config:config$1,dom,parse:parse$2,library,findIconDefinition,toHtml},autoReplace=function _e(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},tt=et.autoReplaceSvgRoot,rt=tt===void 0?DOCUMENT:tt;(Object.keys(namespace.styles).length>0||config$1.autoFetchSvg)&&IS_DOM&&config$1.autoReplaceSvg&&api$3.dom.i2svg({node:rt})};function domVariants(_e,et){return Object.defineProperty(_e,"abstract",{get:et}),Object.defineProperty(_e,"html",{get:function(){return _e.abstract.map(function(rt){return toHtml(rt)})}}),Object.defineProperty(_e,"node",{get:function(){if(IS_DOM){var rt=DOCUMENT.createElement("div");return rt.innerHTML=_e.html,rt.children}}}),_e}function asIcon(_e){var et=_e.children,tt=_e.main,rt=_e.mask,nt=_e.attributes,it=_e.styles,at=_e.transform;if(transformIsMeaningful(at)&&tt.found&&!rt.found){var ot=tt.width,st=tt.height,lt={x:ot/st/2,y:.5};nt.style=joinStyles(_objectSpread2$1(_objectSpread2$1({},it),{},{"transform-origin":"".concat(lt.x+at.x/16,"em ").concat(lt.y+at.y/16,"em")}))}return[{tag:"svg",attributes:nt,children:et}]}function asSymbol(_e){var et=_e.prefix,tt=_e.iconName,rt=_e.children,nt=_e.attributes,it=_e.symbol,at=it===!0?"".concat(et,"-").concat(config$1.cssPrefix,"-").concat(tt):it;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:_objectSpread2$1(_objectSpread2$1({},nt),{},{id:at}),children:rt}]}]}function makeInlineSvgAbstract(_e){var et=_e.icons,tt=et.main,rt=et.mask,nt=_e.prefix,it=_e.iconName,at=_e.transform,ot=_e.symbol,st=_e.title,lt=_e.maskId,ct=_e.titleId,ut=_e.extra,dt=_e.watchable,ft=dt===void 0?!1:dt,pt=rt.found?rt:tt,ht=pt.width,yt=pt.height,mt=nt==="fak",gt=[config$1.replacementClass,it?"".concat(config$1.cssPrefix,"-").concat(it):""].filter(function(Ot){return ut.classes.indexOf(Ot)===-1}).filter(function(Ot){return Ot!==""||!!Ot}).concat(ut.classes).join(" "),vt={children:[],attributes:_objectSpread2$1(_objectSpread2$1({},ut.attributes),{},{"data-prefix":nt,"data-icon":it,class:gt,role:ut.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(ht," ").concat(yt)})},St=mt&&!~ut.classes.indexOf("fa-fw")?{width:"".concat(ht/yt*16*.0625,"em")}:{};ft&&(vt.attributes[DATA_FA_I2SVG]=""),st&&(vt.children.push({tag:"title",attributes:{id:vt.attributes["aria-labelledby"]||"title-".concat(ct||nextUniqueId())},children:[st]}),delete vt.attributes.title);var xt=_objectSpread2$1(_objectSpread2$1({},vt),{},{prefix:nt,iconName:it,main:tt,mask:rt,maskId:lt,transform:at,symbol:ot,styles:_objectSpread2$1(_objectSpread2$1({},St),ut.styles)}),Ct=rt.found&&tt.found?callProvided("generateAbstractMask",xt)||{children:[],attributes:{}}:callProvided("generateAbstractIcon",xt)||{children:[],attributes:{}},wt=Ct.children,_t=Ct.attributes;return xt.children=wt,xt.attributes=_t,ot?asSymbol(xt):asIcon(xt)}function makeLayersTextAbstract(_e){var et=_e.content,tt=_e.width,rt=_e.height,nt=_e.transform,it=_e.title,at=_e.extra,ot=_e.watchable,st=ot===void 0?!1:ot,lt=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},at.attributes),it?{title:it}:{}),{},{class:at.classes.join(" ")});st&&(lt[DATA_FA_I2SVG]="");var ct=_objectSpread2$1({},at.styles);transformIsMeaningful(nt)&&(ct.transform=transformForCss({transform:nt,startCentered:!0,width:tt,height:rt}),ct["-webkit-transform"]=ct.transform);var ut=joinStyles(ct);ut.length>0&&(lt.style=ut);var dt=[];return dt.push({tag:"span",attributes:lt,children:[et]}),it&&dt.push({tag:"span",attributes:{class:"sr-only"},children:[it]}),dt}function makeLayersCounterAbstract(_e){var et=_e.content,tt=_e.title,rt=_e.extra,nt=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},rt.attributes),tt?{title:tt}:{}),{},{class:rt.classes.join(" ")}),it=joinStyles(rt.styles);it.length>0&&(nt.style=it);var at=[];return at.push({tag:"span",attributes:nt,children:[et]}),tt&&at.push({tag:"span",attributes:{class:"sr-only"},children:[tt]}),at}var styles$1=namespace.styles;function asFoundIcon(_e){var et=_e[0],tt=_e[1],rt=_e.slice(4),nt=_slicedToArray(rt,1),it=nt[0],at=null;return Array.isArray(it)?at={tag:"g",attributes:{class:"".concat(config$1.cssPrefix,"-").concat(DUOTONE_CLASSES.GROUP)},children:[{tag:"path",attributes:{class:"".concat(config$1.cssPrefix,"-").concat(DUOTONE_CLASSES.SECONDARY),fill:"currentColor",d:it[0]}},{tag:"path",attributes:{class:"".concat(config$1.cssPrefix,"-").concat(DUOTONE_CLASSES.PRIMARY),fill:"currentColor",d:it[1]}}]}:at={tag:"path",attributes:{fill:"currentColor",d:it}},{found:!0,width:et,height:tt,icon:at}}var missingIconResolutionMixin={found:!1,width:512,height:512};function maybeNotifyMissing(_e,et){!PRODUCTION$1&&!config$1.showMissingIcons&&_e&&console.error('Icon with name "'.concat(_e,'" and prefix "').concat(et,'" is missing.'))}function findIcon(_e,et){var tt=et;return et==="fa"&&config$1.styleDefault!==null&&(et=getDefaultUsablePrefix()),new Promise(function(rt,nt){if(callProvided("missingIconAbstract"),tt==="fa"){var it=byOldName(_e)||{};_e=it.iconName||_e,et=it.prefix||et}if(_e&&et&&styles$1[et]&&styles$1[et][_e]){var at=styles$1[et][_e];return rt(asFoundIcon(at))}maybeNotifyMissing(_e,et),rt(_objectSpread2$1(_objectSpread2$1({},missingIconResolutionMixin),{},{icon:config$1.showMissingIcons&&_e?callProvided("missingIconAbstract")||{}:{}}))})}var noop$1$1=function _e(){},p$1=config$1.measurePerformance&&PERFORMANCE&&PERFORMANCE.mark&&PERFORMANCE.measure?PERFORMANCE:{mark:noop$1$1,measure:noop$1$1},preamble='FA "6.5.2"',begin=function _e(et){return p$1.mark("".concat(preamble," ").concat(et," begins")),function(){return end(et)}},end=function _e(et){p$1.mark("".concat(preamble," ").concat(et," ends")),p$1.measure("".concat(preamble," ").concat(et),"".concat(preamble," ").concat(et," begins"),"".concat(preamble," ").concat(et," ends"))},perf={begin,end},noop$2$1=function _e(){};function isWatched(_e){var et=_e.getAttribute?_e.getAttribute(DATA_FA_I2SVG):null;return typeof et=="string"}function hasPrefixAndIcon(_e){var et=_e.getAttribute?_e.getAttribute(DATA_PREFIX):null,tt=_e.getAttribute?_e.getAttribute(DATA_ICON):null;return et&&tt}function hasBeenReplaced(_e){return _e&&_e.classList&&_e.classList.contains&&_e.classList.contains(config$1.replacementClass)}function getMutator(){if(config$1.autoReplaceSvg===!0)return mutators.replace;var _e=mutators[config$1.autoReplaceSvg];return _e||mutators.replace}function createElementNS(_e){return DOCUMENT.createElementNS("http://www.w3.org/2000/svg",_e)}function createElement(_e){return DOCUMENT.createElement(_e)}function convertSVG(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=et.ceFn,rt=tt===void 0?_e.tag==="svg"?createElementNS:createElement:tt;if(typeof _e=="string")return DOCUMENT.createTextNode(_e);var nt=rt(_e.tag);Object.keys(_e.attributes||[]).forEach(function(at){nt.setAttribute(at,_e.attributes[at])});var it=_e.children||[];return it.forEach(function(at){nt.appendChild(convertSVG(at,{ceFn:rt}))}),nt}function nodeAsComment(_e){var et=" ".concat(_e.outerHTML," ");return et="".concat(et,"Font Awesome fontawesome.com "),et}var mutators={replace:function _e(et){var tt=et[0];if(tt.parentNode)if(et[1].forEach(function(nt){tt.parentNode.insertBefore(convertSVG(nt),tt)}),tt.getAttribute(DATA_FA_I2SVG)===null&&config$1.keepOriginalSource){var rt=DOCUMENT.createComment(nodeAsComment(tt));tt.parentNode.replaceChild(rt,tt)}else tt.remove()},nest:function _e(et){var tt=et[0],rt=et[1];if(~classArray(tt).indexOf(config$1.replacementClass))return mutators.replace(et);var nt=new RegExp("".concat(config$1.cssPrefix,"-.*"));if(delete rt[0].attributes.id,rt[0].attributes.class){var it=rt[0].attributes.class.split(" ").reduce(function(ot,st){return st===config$1.replacementClass||st.match(nt)?ot.toSvg.push(st):ot.toNode.push(st),ot},{toNode:[],toSvg:[]});rt[0].attributes.class=it.toSvg.join(" "),it.toNode.length===0?tt.removeAttribute("class"):tt.setAttribute("class",it.toNode.join(" "))}var at=rt.map(function(ot){return toHtml(ot)}).join(`
`);tt.setAttribute(DATA_FA_I2SVG,""),tt.innerHTML=at}};function performOperationSync(_e){_e()}function perform(_e,et){var tt=typeof et=="function"?et:noop$2$1;if(_e.length===0)tt();else{var rt=performOperationSync;config$1.mutateApproach===MUTATION_APPROACH_ASYNC&&(rt=WINDOW.requestAnimationFrame||performOperationSync),rt(function(){var nt=getMutator(),it=perf.begin("mutate");_e.map(nt),it(),tt()})}}var disabled$1=!1;function disableObservation(){disabled$1=!0}function enableObservation(){disabled$1=!1}var mo=null;function observe(_e){if(MUTATION_OBSERVER&&config$1.observeMutations){var et=_e.treeCallback,tt=et===void 0?noop$2$1:et,rt=_e.nodeCallback,nt=rt===void 0?noop$2$1:rt,it=_e.pseudoElementsCallback,at=it===void 0?noop$2$1:it,ot=_e.observeMutationsRoot,st=ot===void 0?DOCUMENT:ot;mo=new MUTATION_OBSERVER(function(lt){if(!disabled$1){var ct=getDefaultUsablePrefix();toArray$1(lt).forEach(function(ut){if(ut.type==="childList"&&ut.addedNodes.length>0&&!isWatched(ut.addedNodes[0])&&(config$1.searchPseudoElements&&at(ut.target),tt(ut.target)),ut.type==="attributes"&&ut.target.parentNode&&config$1.searchPseudoElements&&at(ut.target.parentNode),ut.type==="attributes"&&isWatched(ut.target)&&~ATTRIBUTES_WATCHED_FOR_MUTATION.indexOf(ut.attributeName))if(ut.attributeName==="class"&&hasPrefixAndIcon(ut.target)){var dt=getCanonicalIcon(classArray(ut.target)),ft=dt.prefix,pt=dt.iconName;ut.target.setAttribute(DATA_PREFIX,ft||ct),pt&&ut.target.setAttribute(DATA_ICON,pt)}else hasBeenReplaced(ut.target)&&nt(ut.target)})}}),IS_DOM&&mo.observe(st,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function disconnect(){mo&&mo.disconnect()}function styleParser(_e){var et=_e.getAttribute("style"),tt=[];return et&&(tt=et.split(";").reduce(function(rt,nt){var it=nt.split(":"),at=it[0],ot=it.slice(1);return at&&ot.length>0&&(rt[at]=ot.join(":").trim()),rt},{})),tt}function classParser(_e){var et=_e.getAttribute("data-prefix"),tt=_e.getAttribute("data-icon"),rt=_e.innerText!==void 0?_e.innerText.trim():"",nt=getCanonicalIcon(classArray(_e));return nt.prefix||(nt.prefix=getDefaultUsablePrefix()),et&&tt&&(nt.prefix=et,nt.iconName=tt),nt.iconName&&nt.prefix||(nt.prefix&&rt.length>0&&(nt.iconName=byLigature(nt.prefix,_e.innerText)||byUnicode(nt.prefix,toHex(_e.innerText))),!nt.iconName&&config$1.autoFetchSvg&&_e.firstChild&&_e.firstChild.nodeType===Node.TEXT_NODE&&(nt.iconName=_e.firstChild.data)),nt}function attributesParser(_e){var et=toArray$1(_e.attributes).reduce(function(nt,it){return nt.name!=="class"&&nt.name!=="style"&&(nt[it.name]=it.value),nt},{}),tt=_e.getAttribute("title"),rt=_e.getAttribute("data-fa-title-id");return config$1.autoA11y&&(tt?et["aria-labelledby"]="".concat(config$1.replacementClass,"-title-").concat(rt||nextUniqueId()):(et["aria-hidden"]="true",et.focusable="false")),et}function blankMeta(){return{iconName:null,title:null,titleId:null,prefix:null,transform:meaninglessTransform,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function parseMeta(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},tt=classParser(_e),rt=tt.iconName,nt=tt.prefix,it=tt.rest,at=attributesParser(_e),ot=chainHooks("parseNodeAttributes",{},_e),st=et.styleParser?styleParser(_e):[];return _objectSpread2$1({iconName:rt,title:_e.getAttribute("title"),titleId:_e.getAttribute("data-fa-title-id"),prefix:nt,transform:meaninglessTransform,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:it,styles:st,attributes:at}},ot)}var styles$2=namespace.styles;function generateMutation(_e){var et=config$1.autoReplaceSvg==="nest"?parseMeta(_e,{styleParser:!1}):parseMeta(_e);return~et.extra.classes.indexOf(LAYERS_TEXT_CLASSNAME)?callProvided("generateLayersText",_e,et):callProvided("generateSvgReplacementMutation",_e,et)}var knownPrefixes=new Set;FAMILIES.map(function(_e){knownPrefixes.add("fa-".concat(_e))});Object.keys(PREFIX_TO_STYLE[FAMILY_CLASSIC]).map(knownPrefixes.add.bind(knownPrefixes));Object.keys(PREFIX_TO_STYLE[FAMILY_SHARP]).map(knownPrefixes.add.bind(knownPrefixes));knownPrefixes=_toConsumableArray$1(knownPrefixes);function onTree(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!IS_DOM)return Promise.resolve();var tt=DOCUMENT.documentElement.classList,rt=function(ut){return tt.add("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(ut))},nt=function(ut){return tt.remove("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(ut))},it=config$1.autoFetchSvg?knownPrefixes:FAMILIES.map(function(ct){return"fa-".concat(ct)}).concat(Object.keys(styles$2));it.includes("fa")||it.push("fa");var at=[".".concat(LAYERS_TEXT_CLASSNAME,":not([").concat(DATA_FA_I2SVG,"])")].concat(it.map(function(ct){return".".concat(ct,":not([").concat(DATA_FA_I2SVG,"])")})).join(", ");if(at.length===0)return Promise.resolve();var ot=[];try{ot=toArray$1(_e.querySelectorAll(at))}catch{}if(ot.length>0)rt("pending"),nt("complete");else return Promise.resolve();var st=perf.begin("onTree"),lt=ot.reduce(function(ct,ut){try{var dt=generateMutation(ut);dt&&ct.push(dt)}catch(ft){PRODUCTION$1||ft.name==="MissingIcon"&&console.error(ft)}return ct},[]);return new Promise(function(ct,ut){Promise.all(lt).then(function(dt){perform(dt,function(){rt("active"),rt("complete"),nt("pending"),typeof et=="function"&&et(),st(),ct()})}).catch(function(dt){st(),ut(dt)})})}function onNode(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;generateMutation(_e).then(function(tt){tt&&perform([tt],et)})}function resolveIcons(_e){return function(et){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt=(et||{}).icon?et:findIconDefinition(et||{}),nt=tt.mask;return nt&&(nt=(nt||{}).icon?nt:findIconDefinition(nt||{})),_e(rt,_objectSpread2$1(_objectSpread2$1({},tt),{},{mask:nt}))}}var render=function _e(et){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt=tt.transform,nt=rt===void 0?meaninglessTransform:rt,it=tt.symbol,at=it===void 0?!1:it,ot=tt.mask,st=ot===void 0?null:ot,lt=tt.maskId,ct=lt===void 0?null:lt,ut=tt.title,dt=ut===void 0?null:ut,ft=tt.titleId,pt=ft===void 0?null:ft,ht=tt.classes,yt=ht===void 0?[]:ht,mt=tt.attributes,gt=mt===void 0?{}:mt,vt=tt.styles,St=vt===void 0?{}:vt;if(et){var xt=et.prefix,Ct=et.iconName,wt=et.icon;return domVariants(_objectSpread2$1({type:"icon"},et),function(){return callHooks("beforeDOMElementCreation",{iconDefinition:et,params:tt}),config$1.autoA11y&&(dt?gt["aria-labelledby"]="".concat(config$1.replacementClass,"-title-").concat(pt||nextUniqueId()):(gt["aria-hidden"]="true",gt.focusable="false")),makeInlineSvgAbstract({icons:{main:asFoundIcon(wt),mask:st?asFoundIcon(st.icon):{found:!1,width:null,height:null,icon:{}}},prefix:xt,iconName:Ct,transform:_objectSpread2$1(_objectSpread2$1({},meaninglessTransform),nt),symbol:at,title:dt,maskId:ct,titleId:pt,extra:{attributes:gt,styles:St,classes:yt}})})}},ReplaceElements={mixout:function _e(){return{icon:resolveIcons(render)}},hooks:function _e(){return{mutationObserverCallbacks:function(tt){return tt.treeCallback=onTree,tt.nodeCallback=onNode,tt}}},provides:function _e(et){et.i2svg=function(tt){var rt=tt.node,nt=rt===void 0?DOCUMENT:rt,it=tt.callback,at=it===void 0?function(){}:it;return onTree(nt,at)},et.generateSvgReplacementMutation=function(tt,rt){var nt=rt.iconName,it=rt.title,at=rt.titleId,ot=rt.prefix,st=rt.transform,lt=rt.symbol,ct=rt.mask,ut=rt.maskId,dt=rt.extra;return new Promise(function(ft,pt){Promise.all([findIcon(nt,ot),ct.iconName?findIcon(ct.iconName,ct.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(ht){var yt=_slicedToArray(ht,2),mt=yt[0],gt=yt[1];ft([tt,makeInlineSvgAbstract({icons:{main:mt,mask:gt},prefix:ot,iconName:nt,transform:st,symbol:lt,maskId:ut,title:it,titleId:at,extra:dt,watchable:!0})])}).catch(pt)})},et.generateAbstractIcon=function(tt){var rt=tt.children,nt=tt.attributes,it=tt.main,at=tt.transform,ot=tt.styles,st=joinStyles(ot);st.length>0&&(nt.style=st);var lt;return transformIsMeaningful(at)&&(lt=callProvided("generateAbstractTransformGrouping",{main:it,transform:at,containerWidth:it.width,iconWidth:it.width})),rt.push(lt||it.icon),{children:rt,attributes:nt}}}},Layers={mixout:function _e(){return{layer:function(tt){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nt=rt.classes,it=nt===void 0?[]:nt;return domVariants({type:"layer"},function(){callHooks("beforeDOMElementCreation",{assembler:tt,params:rt});var at=[];return tt(function(ot){Array.isArray(ot)?ot.map(function(st){at=at.concat(st.abstract)}):at=at.concat(ot.abstract)}),[{tag:"span",attributes:{class:["".concat(config$1.cssPrefix,"-layers")].concat(_toConsumableArray$1(it)).join(" ")},children:at}]})}}}},LayersCounter={mixout:function _e(){return{counter:function(tt){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nt=rt.title,it=nt===void 0?null:nt,at=rt.classes,ot=at===void 0?[]:at,st=rt.attributes,lt=st===void 0?{}:st,ct=rt.styles,ut=ct===void 0?{}:ct;return domVariants({type:"counter",content:tt},function(){return callHooks("beforeDOMElementCreation",{content:tt,params:rt}),makeLayersCounterAbstract({content:tt.toString(),title:it,extra:{attributes:lt,styles:ut,classes:["".concat(config$1.cssPrefix,"-layers-counter")].concat(_toConsumableArray$1(ot))}})})}}}},LayersText={mixout:function _e(){return{text:function(tt){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nt=rt.transform,it=nt===void 0?meaninglessTransform:nt,at=rt.title,ot=at===void 0?null:at,st=rt.classes,lt=st===void 0?[]:st,ct=rt.attributes,ut=ct===void 0?{}:ct,dt=rt.styles,ft=dt===void 0?{}:dt;return domVariants({type:"text",content:tt},function(){return callHooks("beforeDOMElementCreation",{content:tt,params:rt}),makeLayersTextAbstract({content:tt,transform:_objectSpread2$1(_objectSpread2$1({},meaninglessTransform),it),title:ot,extra:{attributes:ut,styles:ft,classes:["".concat(config$1.cssPrefix,"-layers-text")].concat(_toConsumableArray$1(lt))}})})}}},provides:function _e(et){et.generateLayersText=function(tt,rt){var nt=rt.title,it=rt.transform,at=rt.extra,ot=null,st=null;if(IS_IE){var lt=parseInt(getComputedStyle(tt).fontSize,10),ct=tt.getBoundingClientRect();ot=ct.width/lt,st=ct.height/lt}return config$1.autoA11y&&!nt&&(at.attributes["aria-hidden"]="true"),Promise.resolve([tt,makeLayersTextAbstract({content:tt.innerHTML,width:ot,height:st,transform:it,title:nt,extra:at,watchable:!0})])}}},CLEAN_CONTENT_PATTERN=new RegExp('"',"ug"),SECONDARY_UNICODE_RANGE=[1105920,1112319];function hexValueFromContent(_e){var et=_e.replace(CLEAN_CONTENT_PATTERN,""),tt=codePointAt(et,0),rt=tt>=SECONDARY_UNICODE_RANGE[0]&&tt<=SECONDARY_UNICODE_RANGE[1],nt=et.length===2?et[0]===et[1]:!1;return{value:toHex(nt?et[0]:et),isSecondary:rt||nt}}function replaceForPosition(_e,et){var tt="".concat(DATA_FA_PSEUDO_ELEMENT_PENDING).concat(et.replace(":","-"));return new Promise(function(rt,nt){if(_e.getAttribute(tt)!==null)return rt();var it=toArray$1(_e.children),at=it.filter(function(wt){return wt.getAttribute(DATA_FA_PSEUDO_ELEMENT)===et})[0],ot=WINDOW.getComputedStyle(_e,et),st=ot.getPropertyValue("font-family").match(FONT_FAMILY_PATTERN),lt=ot.getPropertyValue("font-weight"),ct=ot.getPropertyValue("content");if(at&&!st)return _e.removeChild(at),rt();if(st&&ct!=="none"&&ct!==""){var ut=ot.getPropertyValue("content"),dt=~["Sharp"].indexOf(st[2])?FAMILY_SHARP:FAMILY_CLASSIC,ft=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(st[2])?STYLE_TO_PREFIX[dt][st[2].toLowerCase()]:FONT_WEIGHT_TO_PREFIX[dt][lt],pt=hexValueFromContent(ut),ht=pt.value,yt=pt.isSecondary,mt=st[0].startsWith("FontAwesome"),gt=byUnicode(ft,ht),vt=gt;if(mt){var St=byOldUnicode(ht);St.iconName&&St.prefix&&(gt=St.iconName,ft=St.prefix)}if(gt&&!yt&&(!at||at.getAttribute(DATA_PREFIX)!==ft||at.getAttribute(DATA_ICON)!==vt)){_e.setAttribute(tt,vt),at&&_e.removeChild(at);var xt=blankMeta(),Ct=xt.extra;Ct.attributes[DATA_FA_PSEUDO_ELEMENT]=et,findIcon(gt,ft).then(function(wt){var _t=makeInlineSvgAbstract(_objectSpread2$1(_objectSpread2$1({},xt),{},{icons:{main:wt,mask:emptyCanonicalIcon()},prefix:ft,iconName:vt,extra:Ct,watchable:!0})),Ot=DOCUMENT.createElementNS("http://www.w3.org/2000/svg","svg");et==="::before"?_e.insertBefore(Ot,_e.firstChild):_e.appendChild(Ot),Ot.outerHTML=_t.map(function(kt){return toHtml(kt)}).join(`
`),_e.removeAttribute(tt),rt()}).catch(nt)}else rt()}else rt()})}function replace2(_e){return Promise.all([replaceForPosition(_e,"::before"),replaceForPosition(_e,"::after")])}function processable(_e){return _e.parentNode!==document.head&&!~TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS.indexOf(_e.tagName.toUpperCase())&&!_e.getAttribute(DATA_FA_PSEUDO_ELEMENT)&&(!_e.parentNode||_e.parentNode.tagName!=="svg")}function searchPseudoElements(_e){if(IS_DOM)return new Promise(function(et,tt){var rt=toArray$1(_e.querySelectorAll("*")).filter(processable).map(replace2),nt=perf.begin("searchPseudoElements");disableObservation(),Promise.all(rt).then(function(){nt(),enableObservation(),et()}).catch(function(){nt(),enableObservation(),tt()})})}var PseudoElements={hooks:function _e(){return{mutationObserverCallbacks:function(tt){return tt.pseudoElementsCallback=searchPseudoElements,tt}}},provides:function _e(et){et.pseudoElements2svg=function(tt){var rt=tt.node,nt=rt===void 0?DOCUMENT:rt;config$1.searchPseudoElements&&searchPseudoElements(nt)}}},_unwatched=!1,MutationObserver$1={mixout:function _e(){return{dom:{unwatch:function(){disableObservation(),_unwatched=!0}}}},hooks:function _e(){return{bootstrap:function(){observe(chainHooks("mutationObserverCallbacks",{}))},noAuto:function(){disconnect()},watch:function(tt){var rt=tt.observeMutationsRoot;_unwatched?enableObservation():observe(chainHooks("mutationObserverCallbacks",{observeMutationsRoot:rt}))}}}},parseTransformString=function _e(et){var tt={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return et.toLowerCase().split(" ").reduce(function(rt,nt){var it=nt.toLowerCase().split("-"),at=it[0],ot=it.slice(1).join("-");if(at&&ot==="h")return rt.flipX=!0,rt;if(at&&ot==="v")return rt.flipY=!0,rt;if(ot=parseFloat(ot),isNaN(ot))return rt;switch(at){case"grow":rt.size=rt.size+ot;break;case"shrink":rt.size=rt.size-ot;break;case"left":rt.x=rt.x-ot;break;case"right":rt.x=rt.x+ot;break;case"up":rt.y=rt.y-ot;break;case"down":rt.y=rt.y+ot;break;case"rotate":rt.rotate=rt.rotate+ot;break}return rt},tt)},PowerTransforms={mixout:function _e(){return{parse:{transform:function(tt){return parseTransformString(tt)}}}},hooks:function _e(){return{parseNodeAttributes:function(tt,rt){var nt=rt.getAttribute("data-fa-transform");return nt&&(tt.transform=parseTransformString(nt)),tt}}},provides:function _e(et){et.generateAbstractTransformGrouping=function(tt){var rt=tt.main,nt=tt.transform,it=tt.containerWidth,at=tt.iconWidth,ot={transform:"translate(".concat(it/2," 256)")},st="translate(".concat(nt.x*32,", ").concat(nt.y*32,") "),lt="scale(".concat(nt.size/16*(nt.flipX?-1:1),", ").concat(nt.size/16*(nt.flipY?-1:1),") "),ct="rotate(".concat(nt.rotate," 0 0)"),ut={transform:"".concat(st," ").concat(lt," ").concat(ct)},dt={transform:"translate(".concat(at/2*-1," -256)")},ft={outer:ot,inner:ut,path:dt};return{tag:"g",attributes:_objectSpread2$1({},ft.outer),children:[{tag:"g",attributes:_objectSpread2$1({},ft.inner),children:[{tag:rt.icon.tag,children:rt.icon.children,attributes:_objectSpread2$1(_objectSpread2$1({},rt.icon.attributes),ft.path)}]}]}}}},ALL_SPACE={x:0,y:0,width:"100%",height:"100%"};function fillBlack(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return _e.attributes&&(_e.attributes.fill||et)&&(_e.attributes.fill="black"),_e}function deGroup(_e){return _e.tag==="g"?_e.children:[_e]}var Masks={hooks:function _e(){return{parseNodeAttributes:function(tt,rt){var nt=rt.getAttribute("data-fa-mask"),it=nt?getCanonicalIcon(nt.split(" ").map(function(at){return at.trim()})):emptyCanonicalIcon();return it.prefix||(it.prefix=getDefaultUsablePrefix()),tt.mask=it,tt.maskId=rt.getAttribute("data-fa-mask-id"),tt}}},provides:function _e(et){et.generateAbstractMask=function(tt){var rt=tt.children,nt=tt.attributes,it=tt.main,at=tt.mask,ot=tt.maskId,st=tt.transform,lt=it.width,ct=it.icon,ut=at.width,dt=at.icon,ft=transformForSvg({transform:st,containerWidth:ut,iconWidth:lt}),pt={tag:"rect",attributes:_objectSpread2$1(_objectSpread2$1({},ALL_SPACE),{},{fill:"white"})},ht=ct.children?{children:ct.children.map(fillBlack)}:{},yt={tag:"g",attributes:_objectSpread2$1({},ft.inner),children:[fillBlack(_objectSpread2$1({tag:ct.tag,attributes:_objectSpread2$1(_objectSpread2$1({},ct.attributes),ft.path)},ht))]},mt={tag:"g",attributes:_objectSpread2$1({},ft.outer),children:[yt]},gt="mask-".concat(ot||nextUniqueId()),vt="clip-".concat(ot||nextUniqueId()),St={tag:"mask",attributes:_objectSpread2$1(_objectSpread2$1({},ALL_SPACE),{},{id:gt,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[pt,mt]},xt={tag:"defs",children:[{tag:"clipPath",attributes:{id:vt},children:deGroup(dt)},St]};return rt.push(xt,{tag:"rect",attributes:_objectSpread2$1({fill:"currentColor","clip-path":"url(#".concat(vt,")"),mask:"url(#".concat(gt,")")},ALL_SPACE)}),{children:rt,attributes:nt}}}},MissingIconIndicator={provides:function _e(et){var tt=!1;WINDOW.matchMedia&&(tt=WINDOW.matchMedia("(prefers-reduced-motion: reduce)").matches),et.missingIconAbstract=function(){var rt=[],nt={fill:"currentColor"},it={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};rt.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},nt),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var at=_objectSpread2$1(_objectSpread2$1({},it),{},{attributeName:"opacity"}),ot={tag:"circle",attributes:_objectSpread2$1(_objectSpread2$1({},nt),{},{cx:"256",cy:"364",r:"28"}),children:[]};return tt||ot.children.push({tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},it),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},at),{},{values:"1;0;1;1;0;1;"})}),rt.push(ot),rt.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},nt),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:tt?[]:[{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},at),{},{values:"1;0;0;0;0;1;"})}]}),tt||rt.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},nt),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},at),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:rt}}}},SvgSymbols={hooks:function _e(){return{parseNodeAttributes:function(tt,rt){var nt=rt.getAttribute("data-fa-symbol"),it=nt===null?!1:nt===""?!0:nt;return tt.symbol=it,tt}}}},plugins=[InjectCSS,ReplaceElements,Layers,LayersCounter,LayersText,PseudoElements,MutationObserver$1,PowerTransforms,Masks,MissingIconIndicator,SvgSymbols];registerPlugins$1(plugins,{mixoutsTo:api$3});api$3.noAuto;api$3.config;api$3.library;api$3.dom;var parse$1$1=api$3.parse;api$3.findIconDefinition;api$3.toHtml;var icon2=api$3.icon;api$3.layer;api$3.text;api$3.counter;function ownKeys(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread2(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys(Object(tt),!0).forEach(function(rt){_defineProperty(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _typeof(_e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof(_e)}function _defineProperty(_e,et,tt){return et in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _objectWithoutPropertiesLoose(_e,et){if(_e==null)return{};var tt={},rt=Object.keys(_e),nt,it;for(it=0;it<rt.length;it++)nt=rt[it],!(et.indexOf(nt)>=0)&&(tt[nt]=_e[nt]);return tt}function _objectWithoutProperties(_e,et){if(_e==null)return{};var tt=_objectWithoutPropertiesLoose(_e,et),rt,nt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],!(et.indexOf(rt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,rt)&&(tt[rt]=_e[rt])}return tt}function _toConsumableArray(_e){return _arrayWithoutHoles(_e)||_iterableToArray(_e)||_unsupportedIterableToArray(_e)||_nonIterableSpread()}function _arrayWithoutHoles(_e){if(Array.isArray(_e))return _arrayLikeToArray(_e)}function _iterableToArray(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _unsupportedIterableToArray(_e,et){if(_e){if(typeof _e=="string")return _arrayLikeToArray(_e,et);var tt=Object.prototype.toString.call(_e).slice(8,-1);if(tt==="Object"&&_e.constructor&&(tt=_e.constructor.name),tt==="Map"||tt==="Set")return Array.from(_e);if(tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt))return _arrayLikeToArray(_e,et)}}function _arrayLikeToArray(_e,et){(et==null||et>_e.length)&&(et=_e.length);for(var tt=0,rt=new Array(et);tt<et;tt++)rt[tt]=_e[tt];return rt}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function classList(_e){var et,tt=_e.beat,rt=_e.fade,nt=_e.beatFade,it=_e.bounce,at=_e.shake,ot=_e.flash,st=_e.spin,lt=_e.spinPulse,ct=_e.spinReverse,ut=_e.pulse,dt=_e.fixedWidth,ft=_e.inverse,pt=_e.border,ht=_e.listItem,yt=_e.flip,mt=_e.size,gt=_e.rotation,vt=_e.pull,St=(et={"fa-beat":tt,"fa-fade":rt,"fa-beat-fade":nt,"fa-bounce":it,"fa-shake":at,"fa-flash":ot,"fa-spin":st,"fa-spin-reverse":ct,"fa-spin-pulse":lt,"fa-pulse":ut,"fa-fw":dt,"fa-inverse":ft,"fa-border":pt,"fa-li":ht,"fa-flip":yt===!0,"fa-flip-horizontal":yt==="horizontal"||yt==="both","fa-flip-vertical":yt==="vertical"||yt==="both"},_defineProperty(et,"fa-".concat(mt),typeof mt<"u"&&mt!==null),_defineProperty(et,"fa-rotate-".concat(gt),typeof gt<"u"&&gt!==null&&gt!==0),_defineProperty(et,"fa-pull-".concat(vt),typeof vt<"u"&&vt!==null),_defineProperty(et,"fa-swap-opacity",_e.swapOpacity),et);return Object.keys(St).map(function(xt){return St[xt]?xt:null}).filter(function(xt){return xt})}function _isNumerical(_e){return _e=_e-0,_e===_e}function camelize(_e){return _isNumerical(_e)?_e:(_e=_e.replace(/[\-_\s]+(.)?/g,function(et,tt){return tt?tt.toUpperCase():""}),_e.substr(0,1).toLowerCase()+_e.substr(1))}var _excluded=["style"];function capitalize(_e){return _e.charAt(0).toUpperCase()+_e.slice(1)}function styleToObject(_e){return _e.split(";").map(function(et){return et.trim()}).filter(function(et){return et}).reduce(function(et,tt){var rt=tt.indexOf(":"),nt=camelize(tt.slice(0,rt)),it=tt.slice(rt+1).trim();return nt.startsWith("webkit")?et[capitalize(nt)]=it:et[nt]=it,et},{})}function convert(_e,et){var tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof et=="string")return et;var rt=(et.children||[]).map(function(st){return convert(_e,st)}),nt=Object.keys(et.attributes||{}).reduce(function(st,lt){var ct=et.attributes[lt];switch(lt){case"class":st.attrs.className=ct,delete et.attributes.class;break;case"style":st.attrs.style=styleToObject(ct);break;default:lt.indexOf("aria-")===0||lt.indexOf("data-")===0?st.attrs[lt.toLowerCase()]=ct:st.attrs[camelize(lt)]=ct}return st},{attrs:{}}),it=tt.style,at=it===void 0?{}:it,ot=_objectWithoutProperties(tt,_excluded);return nt.attrs.style=_objectSpread2(_objectSpread2({},nt.attrs.style),at),_e.apply(void 0,[et.tag,_objectSpread2(_objectSpread2({},nt.attrs),ot)].concat(_toConsumableArray(rt)))}var PRODUCTION=!1;try{PRODUCTION=!0}catch(_e){}function log(){if(!PRODUCTION&&console&&typeof console.error=="function"){var _e;(_e=console).error.apply(_e,arguments)}}function normalizeIconArgs(_e){if(_e&&_typeof(_e)==="object"&&_e.prefix&&_e.iconName&&_e.icon)return _e;if(parse$1$1.icon)return parse$1$1.icon(_e);if(_e===null)return null;if(_e&&_typeof(_e)==="object"&&_e.prefix&&_e.iconName)return _e;if(Array.isArray(_e)&&_e.length===2)return{prefix:_e[0],iconName:_e[1]};if(typeof _e=="string")return{prefix:"fas",iconName:_e}}function objectWithKey(_e,et){return Array.isArray(et)&&et.length>0||!Array.isArray(et)&&et?_defineProperty({},_e,et):{}}var defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},FontAwesomeIcon=React.forwardRef(function(_e,et){var tt=_objectSpread2(_objectSpread2({},defaultProps),_e),rt=tt.icon,nt=tt.mask,it=tt.symbol,at=tt.className,ot=tt.title,st=tt.titleId,lt=tt.maskId,ct=normalizeIconArgs(rt),ut=objectWithKey("classes",[].concat(_toConsumableArray(classList(tt)),_toConsumableArray((at||"").split(" ")))),dt=objectWithKey("transform",typeof tt.transform=="string"?parse$1$1.transform(tt.transform):tt.transform),ft=objectWithKey("mask",normalizeIconArgs(nt)),pt=icon2(ct,_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},ut),dt),ft),{},{symbol:it,title:ot,titleId:st,maskId:lt}));if(!pt)return log("Could not find icon",ct),null;var ht=pt.abstract,yt={ref:et};return Object.keys(tt).forEach(function(mt){defaultProps.hasOwnProperty(mt)||(yt[mt]=tt[mt])}),convertCurry(ht[0],yt)});FontAwesomeIcon.displayName="FontAwesomeIcon";FontAwesomeIcon.propTypes={beat:PropTypes.bool,border:PropTypes.bool,beatFade:PropTypes.bool,bounce:PropTypes.bool,className:PropTypes.string,fade:PropTypes.bool,flash:PropTypes.bool,mask:PropTypes.oneOfType([PropTypes.object,PropTypes.array,PropTypes.string]),maskId:PropTypes.string,fixedWidth:PropTypes.bool,inverse:PropTypes.bool,flip:PropTypes.oneOf([!0,!1,"horizontal","vertical","both"]),icon:PropTypes.oneOfType([PropTypes.object,PropTypes.array,PropTypes.string]),listItem:PropTypes.bool,pull:PropTypes.oneOf(["right","left"]),pulse:PropTypes.bool,rotation:PropTypes.oneOf([0,90,180,270]),shake:PropTypes.bool,size:PropTypes.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:PropTypes.bool,spinPulse:PropTypes.bool,spinReverse:PropTypes.bool,symbol:PropTypes.oneOfType([PropTypes.bool,PropTypes.string]),title:PropTypes.string,titleId:PropTypes.string,transform:PropTypes.oneOfType([PropTypes.string,PropTypes.object]),swapOpacity:PropTypes.bool};var convertCurry=convert.bind(null,React.createElement);function composeEventHandlers$1(_e,et,{checkForDefaultPrevented:tt=!0}={}){return function(nt){if(_e==null||_e(nt),tt===!1||!nt.defaultPrevented)return et==null?void 0:et(nt)}}function setRef$1(_e,et){typeof _e=="function"?_e(et):_e!=null&&(_e.current=et)}function composeRefs$1(..._e){return et=>_e.forEach(tt=>setRef$1(tt,et))}function useComposedRefs$1(..._e){return reactExports.useCallback(composeRefs$1(..._e),_e)}function createContextScope$1(_e,et=[]){let tt=[];function rt(it,at){const ot=reactExports.createContext(at),st=tt.length;tt=[...tt,at];const lt=ut=>{var mt;const{scope:dt,children:ft,...pt}=ut,ht=((mt=dt==null?void 0:dt[_e])==null?void 0:mt[st])||ot,yt=reactExports.useMemo(()=>pt,Object.values(pt));return jsxRuntimeExports.jsx(ht.Provider,{value:yt,children:ft})};lt.displayName=it+"Provider";function ct(ut,dt){var ht;const ft=((ht=dt==null?void 0:dt[_e])==null?void 0:ht[st])||ot,pt=reactExports.useContext(ft);if(pt)return pt;if(at!==void 0)return at;throw new Error(`\`${ut}\` must be used within \`${it}\``)}return[lt,ct]}const nt=()=>{const it=tt.map(at=>reactExports.createContext(at));return function(ot){const st=(ot==null?void 0:ot[_e])||it;return reactExports.useMemo(()=>({[`__scope${_e}`]:{...ot,[_e]:st}}),[ot,st])}};return nt.scopeName=_e,[rt,composeContextScopes$1(nt,...et)]}function composeContextScopes$1(..._e){const et=_e[0];if(_e.length===1)return et;const tt=()=>{const rt=_e.map(nt=>({useScope:nt(),scopeName:nt.scopeName}));return function(it){const at=rt.reduce((ot,{useScope:st,scopeName:lt})=>{const ut=st(it)[`__scope${lt}`];return{...ot,...ut}},{});return reactExports.useMemo(()=>({[`__scope${et.scopeName}`]:at}),[at])}};return tt.scopeName=et.scopeName,tt}var Slot$1=reactExports.forwardRef((_e,et)=>{const{children:tt,...rt}=_e,nt=reactExports.Children.toArray(tt),it=nt.find(isSlottable$1);if(it){const at=it.props.children,ot=nt.map(st=>st===it?reactExports.Children.count(at)>1?reactExports.Children.only(null):reactExports.isValidElement(at)?at.props.children:null:st);return jsxRuntimeExports.jsx(SlotClone$1,{...rt,ref:et,children:reactExports.isValidElement(at)?reactExports.cloneElement(at,void 0,ot):null})}return jsxRuntimeExports.jsx(SlotClone$1,{...rt,ref:et,children:tt})});Slot$1.displayName="Slot";var SlotClone$1=reactExports.forwardRef((_e,et)=>{const{children:tt,...rt}=_e;if(reactExports.isValidElement(tt)){const nt=getElementRef$2(tt);return reactExports.cloneElement(tt,{...mergeProps$1(rt,tt.props),ref:et?composeRefs$1(et,nt):nt})}return reactExports.Children.count(tt)>1?reactExports.Children.only(null):null});SlotClone$1.displayName="SlotClone";var Slottable$1=({children:_e})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:_e});function isSlottable$1(_e){return reactExports.isValidElement(_e)&&_e.type===Slottable$1}function mergeProps$1(_e,et){const tt={...et};for(const rt in et){const nt=_e[rt],it=et[rt];/^on[A-Z]/.test(rt)?nt&&it?tt[rt]=(...ot)=>{it(...ot),nt(...ot)}:nt&&(tt[rt]=nt):rt==="style"?tt[rt]={...nt,...it}:rt==="className"&&(tt[rt]=[nt,it].filter(Boolean).join(" "))}return{..._e,...tt}}function getElementRef$2(_e){var rt,nt;let et=(rt=Object.getOwnPropertyDescriptor(_e.props,"ref"))==null?void 0:rt.get,tt=et&&"isReactWarning"in et&&et.isReactWarning;return tt?_e.ref:(et=(nt=Object.getOwnPropertyDescriptor(_e,"ref"))==null?void 0:nt.get,tt=et&&"isReactWarning"in et&&et.isReactWarning,tt?_e.props.ref:_e.props.ref||_e.ref)}var NODES$1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Primitive$1=NODES$1.reduce((_e,et)=>{const tt=reactExports.forwardRef((rt,nt)=>{const{asChild:it,...at}=rt,ot=it?Slot$1:et;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(ot,{...at,ref:nt})});return tt.displayName=`Primitive.${et}`,{..._e,[et]:tt}},{});function dispatchDiscreteCustomEvent$1(_e,et){_e&&reactDomExports.flushSync(()=>_e.dispatchEvent(et))}function useCallbackRef$1(_e){const et=reactExports.useRef(_e);return reactExports.useEffect(()=>{et.current=_e}),reactExports.useMemo(()=>(...tt)=>{var rt;return(rt=et.current)==null?void 0:rt.call(et,...tt)},[])}function useEscapeKeydown(_e,et=globalThis==null?void 0:globalThis.document){const tt=useCallbackRef$1(_e);reactExports.useEffect(()=>{const rt=nt=>{nt.key==="Escape"&&tt(nt)};return et.addEventListener("keydown",rt,{capture:!0}),()=>et.removeEventListener("keydown",rt,{capture:!0})},[tt,et])}var DISMISSABLE_LAYER_NAME$1="DismissableLayer",CONTEXT_UPDATE$1="dismissableLayer.update",POINTER_DOWN_OUTSIDE$1="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE$1="dismissableLayer.focusOutside",originalBodyPointerEvents$1,DismissableLayerContext$1=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer$1=reactExports.forwardRef((_e,et)=>{const{disableOutsidePointerEvents:tt=!1,onEscapeKeyDown:rt,onPointerDownOutside:nt,onFocusOutside:it,onInteractOutside:at,onDismiss:ot,...st}=_e,lt=reactExports.useContext(DismissableLayerContext$1),[ct,ut]=reactExports.useState(null),dt=(ct==null?void 0:ct.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,ft]=reactExports.useState({}),pt=useComposedRefs$1(et,wt=>ut(wt)),ht=Array.from(lt.layers),[yt]=[...lt.layersWithOutsidePointerEventsDisabled].slice(-1),mt=ht.indexOf(yt),gt=ct?ht.indexOf(ct):-1,vt=lt.layersWithOutsidePointerEventsDisabled.size>0,St=gt>=mt,xt=usePointerDownOutside$1(wt=>{const _t=wt.target,Ot=[...lt.branches].some(kt=>kt.contains(_t));!St||Ot||(nt==null||nt(wt),at==null||at(wt),wt.defaultPrevented||ot==null||ot())},dt),Ct=useFocusOutside$1(wt=>{const _t=wt.target;[...lt.branches].some(kt=>kt.contains(_t))||(it==null||it(wt),at==null||at(wt),wt.defaultPrevented||ot==null||ot())},dt);return useEscapeKeydown(wt=>{gt===lt.layers.size-1&&(rt==null||rt(wt),!wt.defaultPrevented&&ot&&(wt.preventDefault(),ot()))},dt),reactExports.useEffect(()=>{if(ct)return tt&&(lt.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents$1=dt.body.style.pointerEvents,dt.body.style.pointerEvents="none"),lt.layersWithOutsidePointerEventsDisabled.add(ct)),lt.layers.add(ct),dispatchUpdate$1(),()=>{tt&&lt.layersWithOutsidePointerEventsDisabled.size===1&&(dt.body.style.pointerEvents=originalBodyPointerEvents$1)}},[ct,dt,tt,lt]),reactExports.useEffect(()=>()=>{ct&&(lt.layers.delete(ct),lt.layersWithOutsidePointerEventsDisabled.delete(ct),dispatchUpdate$1())},[ct,lt]),reactExports.useEffect(()=>{const wt=()=>ft({});return document.addEventListener(CONTEXT_UPDATE$1,wt),()=>document.removeEventListener(CONTEXT_UPDATE$1,wt)},[]),jsxRuntimeExports.jsx(Primitive$1.div,{...st,ref:pt,style:{pointerEvents:vt?St?"auto":"none":void 0,..._e.style},onFocusCapture:composeEventHandlers$1(_e.onFocusCapture,Ct.onFocusCapture),onBlurCapture:composeEventHandlers$1(_e.onBlurCapture,Ct.onBlurCapture),onPointerDownCapture:composeEventHandlers$1(_e.onPointerDownCapture,xt.onPointerDownCapture)})});DismissableLayer$1.displayName=DISMISSABLE_LAYER_NAME$1;var BRANCH_NAME$1="DismissableLayerBranch",DismissableLayerBranch$1=reactExports.forwardRef((_e,et)=>{const tt=reactExports.useContext(DismissableLayerContext$1),rt=reactExports.useRef(null),nt=useComposedRefs$1(et,rt);return reactExports.useEffect(()=>{const it=rt.current;if(it)return tt.branches.add(it),()=>{tt.branches.delete(it)}},[tt.branches]),jsxRuntimeExports.jsx(Primitive$1.div,{..._e,ref:nt})});DismissableLayerBranch$1.displayName=BRANCH_NAME$1;function usePointerDownOutside$1(_e,et=globalThis==null?void 0:globalThis.document){const tt=useCallbackRef$1(_e),rt=reactExports.useRef(!1),nt=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const it=ot=>{if(ot.target&&!rt.current){let st=function(){handleAndDispatchCustomEvent$1(POINTER_DOWN_OUTSIDE$1,tt,lt,{discrete:!0})};const lt={originalEvent:ot};ot.pointerType==="touch"?(et.removeEventListener("click",nt.current),nt.current=st,et.addEventListener("click",nt.current,{once:!0})):st()}else et.removeEventListener("click",nt.current);rt.current=!1},at=window.setTimeout(()=>{et.addEventListener("pointerdown",it)},0);return()=>{window.clearTimeout(at),et.removeEventListener("pointerdown",it),et.removeEventListener("click",nt.current)}},[et,tt]),{onPointerDownCapture:()=>rt.current=!0}}function useFocusOutside$1(_e,et=globalThis==null?void 0:globalThis.document){const tt=useCallbackRef$1(_e),rt=reactExports.useRef(!1);return reactExports.useEffect(()=>{const nt=it=>{it.target&&!rt.current&&handleAndDispatchCustomEvent$1(FOCUS_OUTSIDE$1,tt,{originalEvent:it},{discrete:!1})};return et.addEventListener("focusin",nt),()=>et.removeEventListener("focusin",nt)},[et,tt]),{onFocusCapture:()=>rt.current=!0,onBlurCapture:()=>rt.current=!1}}function dispatchUpdate$1(){const _e=new CustomEvent(CONTEXT_UPDATE$1);document.dispatchEvent(_e)}function handleAndDispatchCustomEvent$1(_e,et,tt,{discrete:rt}){const nt=tt.originalEvent.target,it=new CustomEvent(_e,{bubbles:!1,cancelable:!0,detail:tt});et&&nt.addEventListener(_e,et,{once:!0}),rt?dispatchDiscreteCustomEvent$1(nt,it):nt.dispatchEvent(it)}var useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},useReactId=React$1.useId||(()=>{}),count$1=0;function useId(_e){const[et,tt]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{tt(rt=>rt??String(count$1++))},[_e]),et?`radix-${et}`:""}const sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=_e=>({x:_e,y:_e}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$2(_e,et,tt){return max(_e,min(et,tt))}function evaluate(_e,et){return typeof _e=="function"?_e(et):_e}function getSide(_e){return _e.split("-")[0]}function getAlignment(_e){return _e.split("-")[1]}function getOppositeAxis(_e){return _e==="x"?"y":"x"}function getAxisLength(_e){return _e==="y"?"height":"width"}function getSideAxis(_e){return["top","bottom"].includes(getSide(_e))?"y":"x"}function getAlignmentAxis(_e){return getOppositeAxis(getSideAxis(_e))}function getAlignmentSides(_e,et,tt){tt===void 0&&(tt=!1);const rt=getAlignment(_e),nt=getAlignmentAxis(_e),it=getAxisLength(nt);let at=nt==="x"?rt===(tt?"end":"start")?"right":"left":rt==="start"?"bottom":"top";return et.reference[it]>et.floating[it]&&(at=getOppositePlacement(at)),[at,getOppositePlacement(at)]}function getExpandedPlacements(_e){const et=getOppositePlacement(_e);return[getOppositeAlignmentPlacement(_e),et,getOppositeAlignmentPlacement(et)]}function getOppositeAlignmentPlacement(_e){return _e.replace(/start|end/g,et=>oppositeAlignmentMap[et])}function getSideList(_e,et,tt){const rt=["left","right"],nt=["right","left"],it=["top","bottom"],at=["bottom","top"];switch(_e){case"top":case"bottom":return tt?et?nt:rt:et?rt:nt;case"left":case"right":return et?it:at;default:return[]}}function getOppositeAxisPlacements(_e,et,tt,rt){const nt=getAlignment(_e);let it=getSideList(getSide(_e),tt==="start",rt);return nt&&(it=it.map(at=>at+"-"+nt),et&&(it=it.concat(it.map(getOppositeAlignmentPlacement)))),it}function getOppositePlacement(_e){return _e.replace(/left|right|bottom|top/g,et=>oppositeSideMap[et])}function expandPaddingObject(_e){return{top:0,right:0,bottom:0,left:0,..._e}}function getPaddingObject(_e){return typeof _e!="number"?expandPaddingObject(_e):{top:_e,right:_e,bottom:_e,left:_e}}function rectToClientRect(_e){const{x:et,y:tt,width:rt,height:nt}=_e;return{width:rt,height:nt,top:tt,left:et,right:et+rt,bottom:tt+nt,x:et,y:tt}}function computeCoordsFromPlacement(_e,et,tt){let{reference:rt,floating:nt}=_e;const it=getSideAxis(et),at=getAlignmentAxis(et),ot=getAxisLength(at),st=getSide(et),lt=it==="y",ct=rt.x+rt.width/2-nt.width/2,ut=rt.y+rt.height/2-nt.height/2,dt=rt[ot]/2-nt[ot]/2;let ft;switch(st){case"top":ft={x:ct,y:rt.y-nt.height};break;case"bottom":ft={x:ct,y:rt.y+rt.height};break;case"right":ft={x:rt.x+rt.width,y:ut};break;case"left":ft={x:rt.x-nt.width,y:ut};break;default:ft={x:rt.x,y:rt.y}}switch(getAlignment(et)){case"start":ft[at]-=dt*(tt&&lt?-1:1);break;case"end":ft[at]+=dt*(tt&&lt?-1:1);break}return ft}const computePosition$1=async(_e,et,tt)=>{const{placement:rt="bottom",strategy:nt="absolute",middleware:it=[],platform:at}=tt,ot=it.filter(Boolean),st=await(at.isRTL==null?void 0:at.isRTL(et));let lt=await at.getElementRects({reference:_e,floating:et,strategy:nt}),{x:ct,y:ut}=computeCoordsFromPlacement(lt,rt,st),dt=rt,ft={},pt=0;for(let ht=0;ht<ot.length;ht++){const{name:yt,fn:mt}=ot[ht],{x:gt,y:vt,data:St,reset:xt}=await mt({x:ct,y:ut,initialPlacement:rt,placement:dt,strategy:nt,middlewareData:ft,rects:lt,platform:at,elements:{reference:_e,floating:et}});ct=gt??ct,ut=vt??ut,ft={...ft,[yt]:{...ft[yt],...St}},xt&&pt<=50&&(pt++,typeof xt=="object"&&(xt.placement&&(dt=xt.placement),xt.rects&&(lt=xt.rects===!0?await at.getElementRects({reference:_e,floating:et,strategy:nt}):xt.rects),{x:ct,y:ut}=computeCoordsFromPlacement(lt,dt,st)),ht=-1)}return{x:ct,y:ut,placement:dt,strategy:nt,middlewareData:ft}};async function detectOverflow(_e,et){var tt;et===void 0&&(et={});const{x:rt,y:nt,platform:it,rects:at,elements:ot,strategy:st}=_e,{boundary:lt="clippingAncestors",rootBoundary:ct="viewport",elementContext:ut="floating",altBoundary:dt=!1,padding:ft=0}=evaluate(et,_e),pt=getPaddingObject(ft),yt=ot[dt?ut==="floating"?"reference":"floating":ut],mt=rectToClientRect(await it.getClippingRect({element:(tt=await(it.isElement==null?void 0:it.isElement(yt)))==null||tt?yt:yt.contextElement||await(it.getDocumentElement==null?void 0:it.getDocumentElement(ot.floating)),boundary:lt,rootBoundary:ct,strategy:st})),gt=ut==="floating"?{x:rt,y:nt,width:at.floating.width,height:at.floating.height}:at.reference,vt=await(it.getOffsetParent==null?void 0:it.getOffsetParent(ot.floating)),St=await(it.isElement==null?void 0:it.isElement(vt))?await(it.getScale==null?void 0:it.getScale(vt))||{x:1,y:1}:{x:1,y:1},xt=rectToClientRect(it.convertOffsetParentRelativeRectToViewportRelativeRect?await it.convertOffsetParentRelativeRectToViewportRelativeRect({elements:ot,rect:gt,offsetParent:vt,strategy:st}):gt);return{top:(mt.top-xt.top+pt.top)/St.y,bottom:(xt.bottom-mt.bottom+pt.bottom)/St.y,left:(mt.left-xt.left+pt.left)/St.x,right:(xt.right-mt.right+pt.right)/St.x}}const arrow$3=_e=>({name:"arrow",options:_e,async fn(et){const{x:tt,y:rt,placement:nt,rects:it,platform:at,elements:ot,middlewareData:st}=et,{element:lt,padding:ct=0}=evaluate(_e,et)||{};if(lt==null)return{};const ut=getPaddingObject(ct),dt={x:tt,y:rt},ft=getAlignmentAxis(nt),pt=getAxisLength(ft),ht=await at.getDimensions(lt),yt=ft==="y",mt=yt?"top":"left",gt=yt?"bottom":"right",vt=yt?"clientHeight":"clientWidth",St=it.reference[pt]+it.reference[ft]-dt[ft]-it.floating[pt],xt=dt[ft]-it.reference[ft],Ct=await(at.getOffsetParent==null?void 0:at.getOffsetParent(lt));let wt=Ct?Ct[vt]:0;(!wt||!await(at.isElement==null?void 0:at.isElement(Ct)))&&(wt=ot.floating[vt]||it.floating[pt]);const _t=St/2-xt/2,Ot=wt/2-ht[pt]/2-1,kt=min(ut[mt],Ot),Lt=min(ut[gt],Ot),$t=kt,zt=wt-ht[pt]-Lt,Vt=wt/2-ht[pt]/2+_t,Ut=clamp$2($t,Vt,zt),It=!st.arrow&&getAlignment(nt)!=null&&Vt!==Ut&&it.reference[pt]/2-(Vt<$t?kt:Lt)-ht[pt]/2<0,Dt=It?Vt<$t?Vt-$t:Vt-zt:0;return{[ft]:dt[ft]+Dt,data:{[ft]:Ut,centerOffset:Vt-Ut-Dt,...It&&{alignmentOffset:Dt}},reset:It}}}),flip$2=function(_e){return _e===void 0&&(_e={}),{name:"flip",options:_e,async fn(et){var tt,rt;const{placement:nt,middlewareData:it,rects:at,initialPlacement:ot,platform:st,elements:lt}=et,{mainAxis:ct=!0,crossAxis:ut=!0,fallbackPlacements:dt,fallbackStrategy:ft="bestFit",fallbackAxisSideDirection:pt="none",flipAlignment:ht=!0,...yt}=evaluate(_e,et);if((tt=it.arrow)!=null&&tt.alignmentOffset)return{};const mt=getSide(nt),gt=getSideAxis(ot),vt=getSide(ot)===ot,St=await(st.isRTL==null?void 0:st.isRTL(lt.floating)),xt=dt||(vt||!ht?[getOppositePlacement(ot)]:getExpandedPlacements(ot)),Ct=pt!=="none";!dt&&Ct&&xt.push(...getOppositeAxisPlacements(ot,ht,pt,St));const wt=[ot,...xt],_t=await detectOverflow(et,yt),Ot=[];let kt=((rt=it.flip)==null?void 0:rt.overflows)||[];if(ct&&Ot.push(_t[mt]),ut){const Vt=getAlignmentSides(nt,at,St);Ot.push(_t[Vt[0]],_t[Vt[1]])}if(kt=[...kt,{placement:nt,overflows:Ot}],!Ot.every(Vt=>Vt<=0)){var Lt,$t;const Vt=(((Lt=it.flip)==null?void 0:Lt.index)||0)+1,Ut=wt[Vt];if(Ut)return{data:{index:Vt,overflows:kt},reset:{placement:Ut}};let It=($t=kt.filter(Dt=>Dt.overflows[0]<=0).sort((Dt,Tt)=>Dt.overflows[1]-Tt.overflows[1])[0])==null?void 0:$t.placement;if(!It)switch(ft){case"bestFit":{var zt;const Dt=(zt=kt.filter(Tt=>{if(Ct){const Rt=getSideAxis(Tt.placement);return Rt===gt||Rt==="y"}return!0}).map(Tt=>[Tt.placement,Tt.overflows.filter(Rt=>Rt>0).reduce((Rt,Ft)=>Rt+Ft,0)]).sort((Tt,Rt)=>Tt[1]-Rt[1])[0])==null?void 0:zt[0];Dt&&(It=Dt);break}case"initialPlacement":It=ot;break}if(nt!==It)return{reset:{placement:It}}}return{}}}};function getSideOffsets(_e,et){return{top:_e.top-et.height,right:_e.right-et.width,bottom:_e.bottom-et.height,left:_e.left-et.width}}function isAnySideFullyClipped(_e){return sides.some(et=>_e[et]>=0)}const hide$2=function(_e){return _e===void 0&&(_e={}),{name:"hide",options:_e,async fn(et){const{rects:tt}=et,{strategy:rt="referenceHidden",...nt}=evaluate(_e,et);switch(rt){case"referenceHidden":{const it=await detectOverflow(et,{...nt,elementContext:"reference"}),at=getSideOffsets(it,tt.reference);return{data:{referenceHiddenOffsets:at,referenceHidden:isAnySideFullyClipped(at)}}}case"escaped":{const it=await detectOverflow(et,{...nt,altBoundary:!0}),at=getSideOffsets(it,tt.floating);return{data:{escapedOffsets:at,escaped:isAnySideFullyClipped(at)}}}default:return{}}}}};async function convertValueToCoords(_e,et){const{placement:tt,platform:rt,elements:nt}=_e,it=await(rt.isRTL==null?void 0:rt.isRTL(nt.floating)),at=getSide(tt),ot=getAlignment(tt),st=getSideAxis(tt)==="y",lt=["left","top"].includes(at)?-1:1,ct=it&&st?-1:1,ut=evaluate(et,_e);let{mainAxis:dt,crossAxis:ft,alignmentAxis:pt}=typeof ut=="number"?{mainAxis:ut,crossAxis:0,alignmentAxis:null}:{mainAxis:ut.mainAxis||0,crossAxis:ut.crossAxis||0,alignmentAxis:ut.alignmentAxis};return ot&&typeof pt=="number"&&(ft=ot==="end"?pt*-1:pt),st?{x:ft*ct,y:dt*lt}:{x:dt*lt,y:ft*ct}}const offset$3=function(_e){return _e===void 0&&(_e=0),{name:"offset",options:_e,async fn(et){var tt,rt;const{x:nt,y:it,placement:at,middlewareData:ot}=et,st=await convertValueToCoords(et,_e);return at===((tt=ot.offset)==null?void 0:tt.placement)&&(rt=ot.arrow)!=null&&rt.alignmentOffset?{}:{x:nt+st.x,y:it+st.y,data:{...st,placement:at}}}}},shift$2=function(_e){return _e===void 0&&(_e={}),{name:"shift",options:_e,async fn(et){const{x:tt,y:rt,placement:nt}=et,{mainAxis:it=!0,crossAxis:at=!1,limiter:ot={fn:yt=>{let{x:mt,y:gt}=yt;return{x:mt,y:gt}}},...st}=evaluate(_e,et),lt={x:tt,y:rt},ct=await detectOverflow(et,st),ut=getSideAxis(getSide(nt)),dt=getOppositeAxis(ut);let ft=lt[dt],pt=lt[ut];if(it){const yt=dt==="y"?"top":"left",mt=dt==="y"?"bottom":"right",gt=ft+ct[yt],vt=ft-ct[mt];ft=clamp$2(gt,ft,vt)}if(at){const yt=ut==="y"?"top":"left",mt=ut==="y"?"bottom":"right",gt=pt+ct[yt],vt=pt-ct[mt];pt=clamp$2(gt,pt,vt)}const ht=ot.fn({...et,[dt]:ft,[ut]:pt});return{...ht,data:{x:ht.x-tt,y:ht.y-rt,enabled:{[dt]:it,[ut]:at}}}}}},limitShift$2=function(_e){return _e===void 0&&(_e={}),{options:_e,fn(et){const{x:tt,y:rt,placement:nt,rects:it,middlewareData:at}=et,{offset:ot=0,mainAxis:st=!0,crossAxis:lt=!0}=evaluate(_e,et),ct={x:tt,y:rt},ut=getSideAxis(nt),dt=getOppositeAxis(ut);let ft=ct[dt],pt=ct[ut];const ht=evaluate(ot,et),yt=typeof ht=="number"?{mainAxis:ht,crossAxis:0}:{mainAxis:0,crossAxis:0,...ht};if(st){const vt=dt==="y"?"height":"width",St=it.reference[dt]-it.floating[vt]+yt.mainAxis,xt=it.reference[dt]+it.reference[vt]-yt.mainAxis;ft<St?ft=St:ft>xt&&(ft=xt)}if(lt){var mt,gt;const vt=dt==="y"?"width":"height",St=["top","left"].includes(getSide(nt)),xt=it.reference[ut]-it.floating[vt]+(St&&((mt=at.offset)==null?void 0:mt[ut])||0)+(St?0:yt.crossAxis),Ct=it.reference[ut]+it.reference[vt]+(St?0:((gt=at.offset)==null?void 0:gt[ut])||0)-(St?yt.crossAxis:0);pt<xt?pt=xt:pt>Ct&&(pt=Ct)}return{[dt]:ft,[ut]:pt}}}},size$2=function(_e){return _e===void 0&&(_e={}),{name:"size",options:_e,async fn(et){var tt,rt;const{placement:nt,rects:it,platform:at,elements:ot}=et,{apply:st=()=>{},...lt}=evaluate(_e,et),ct=await detectOverflow(et,lt),ut=getSide(nt),dt=getAlignment(nt),ft=getSideAxis(nt)==="y",{width:pt,height:ht}=it.floating;let yt,mt;ut==="top"||ut==="bottom"?(yt=ut,mt=dt===(await(at.isRTL==null?void 0:at.isRTL(ot.floating))?"start":"end")?"left":"right"):(mt=ut,yt=dt==="end"?"top":"bottom");const gt=ht-ct.top-ct.bottom,vt=pt-ct.left-ct.right,St=min(ht-ct[yt],gt),xt=min(pt-ct[mt],vt),Ct=!et.middlewareData.shift;let wt=St,_t=xt;if((tt=et.middlewareData.shift)!=null&&tt.enabled.x&&(_t=vt),(rt=et.middlewareData.shift)!=null&&rt.enabled.y&&(wt=gt),Ct&&!dt){const kt=max(ct.left,0),Lt=max(ct.right,0),$t=max(ct.top,0),zt=max(ct.bottom,0);ft?_t=pt-2*(kt!==0||Lt!==0?kt+Lt:max(ct.left,ct.right)):wt=ht-2*($t!==0||zt!==0?$t+zt:max(ct.top,ct.bottom))}await st({...et,availableWidth:_t,availableHeight:wt});const Ot=await at.getDimensions(ot.floating);return pt!==Ot.width||ht!==Ot.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(_e){return isNode(_e)?(_e.nodeName||"").toLowerCase():"#document"}function getWindow(_e){var et;return(_e==null||(et=_e.ownerDocument)==null?void 0:et.defaultView)||window}function getDocumentElement(_e){var et;return(et=(isNode(_e)?_e.ownerDocument:_e.document)||window.document)==null?void 0:et.documentElement}function isNode(_e){return hasWindow()?_e instanceof Node||_e instanceof getWindow(_e).Node:!1}function isElement(_e){return hasWindow()?_e instanceof Element||_e instanceof getWindow(_e).Element:!1}function isHTMLElement(_e){return hasWindow()?_e instanceof HTMLElement||_e instanceof getWindow(_e).HTMLElement:!1}function isShadowRoot(_e){return!hasWindow()||typeof ShadowRoot>"u"?!1:_e instanceof ShadowRoot||_e instanceof getWindow(_e).ShadowRoot}function isOverflowElement(_e){const{overflow:et,overflowX:tt,overflowY:rt,display:nt}=getComputedStyle$2(_e);return/auto|scroll|overlay|hidden|clip/.test(et+rt+tt)&&!["inline","contents"].includes(nt)}function isTableElement(_e){return["table","td","th"].includes(getNodeName(_e))}function isTopLayer(_e){return[":popover-open",":modal"].some(et=>{try{return _e.matches(et)}catch{return!1}})}function isContainingBlock(_e){const et=isWebKit(),tt=isElement(_e)?getComputedStyle$2(_e):_e;return tt.transform!=="none"||tt.perspective!=="none"||(tt.containerType?tt.containerType!=="normal":!1)||!et&&(tt.backdropFilter?tt.backdropFilter!=="none":!1)||!et&&(tt.filter?tt.filter!=="none":!1)||["transform","perspective","filter"].some(rt=>(tt.willChange||"").includes(rt))||["paint","layout","strict","content"].some(rt=>(tt.contain||"").includes(rt))}function getContainingBlock(_e){let et=getParentNode$1(_e);for(;isHTMLElement(et)&&!isLastTraversableNode(et);){if(isContainingBlock(et))return et;if(isTopLayer(et))return null;et=getParentNode$1(et)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(_e){return["html","body","#document"].includes(getNodeName(_e))}function getComputedStyle$2(_e){return getWindow(_e).getComputedStyle(_e)}function getNodeScroll(_e){return isElement(_e)?{scrollLeft:_e.scrollLeft,scrollTop:_e.scrollTop}:{scrollLeft:_e.scrollX,scrollTop:_e.scrollY}}function getParentNode$1(_e){if(getNodeName(_e)==="html")return _e;const et=_e.assignedSlot||_e.parentNode||isShadowRoot(_e)&&_e.host||getDocumentElement(_e);return isShadowRoot(et)?et.host:et}function getNearestOverflowAncestor(_e){const et=getParentNode$1(_e);return isLastTraversableNode(et)?_e.ownerDocument?_e.ownerDocument.body:_e.body:isHTMLElement(et)&&isOverflowElement(et)?et:getNearestOverflowAncestor(et)}function getOverflowAncestors(_e,et,tt){var rt;et===void 0&&(et=[]),tt===void 0&&(tt=!0);const nt=getNearestOverflowAncestor(_e),it=nt===((rt=_e.ownerDocument)==null?void 0:rt.body),at=getWindow(nt);if(it){const ot=getFrameElement(at);return et.concat(at,at.visualViewport||[],isOverflowElement(nt)?nt:[],ot&&tt?getOverflowAncestors(ot):[])}return et.concat(nt,getOverflowAncestors(nt,[],tt))}function getFrameElement(_e){return _e.parent&&Object.getPrototypeOf(_e.parent)?_e.frameElement:null}function getCssDimensions(_e){const et=getComputedStyle$2(_e);let tt=parseFloat(et.width)||0,rt=parseFloat(et.height)||0;const nt=isHTMLElement(_e),it=nt?_e.offsetWidth:tt,at=nt?_e.offsetHeight:rt,ot=round(tt)!==it||round(rt)!==at;return ot&&(tt=it,rt=at),{width:tt,height:rt,$:ot}}function unwrapElement(_e){return isElement(_e)?_e:_e.contextElement}function getScale(_e){const et=unwrapElement(_e);if(!isHTMLElement(et))return createCoords(1);const tt=et.getBoundingClientRect(),{width:rt,height:nt,$:it}=getCssDimensions(et);let at=(it?round(tt.width):tt.width)/rt,ot=(it?round(tt.height):tt.height)/nt;return(!at||!Number.isFinite(at))&&(at=1),(!ot||!Number.isFinite(ot))&&(ot=1),{x:at,y:ot}}const noOffsets=createCoords(0);function getVisualOffsets(_e){const et=getWindow(_e);return!isWebKit()||!et.visualViewport?noOffsets:{x:et.visualViewport.offsetLeft,y:et.visualViewport.offsetTop}}function shouldAddVisualOffsets(_e,et,tt){return et===void 0&&(et=!1),!tt||et&&tt!==getWindow(_e)?!1:et}function getBoundingClientRect(_e,et,tt,rt){et===void 0&&(et=!1),tt===void 0&&(tt=!1);const nt=_e.getBoundingClientRect(),it=unwrapElement(_e);let at=createCoords(1);et&&(rt?isElement(rt)&&(at=getScale(rt)):at=getScale(_e));const ot=shouldAddVisualOffsets(it,tt,rt)?getVisualOffsets(it):createCoords(0);let st=(nt.left+ot.x)/at.x,lt=(nt.top+ot.y)/at.y,ct=nt.width/at.x,ut=nt.height/at.y;if(it){const dt=getWindow(it),ft=rt&&isElement(rt)?getWindow(rt):rt;let pt=dt,ht=getFrameElement(pt);for(;ht&&rt&&ft!==pt;){const yt=getScale(ht),mt=ht.getBoundingClientRect(),gt=getComputedStyle$2(ht),vt=mt.left+(ht.clientLeft+parseFloat(gt.paddingLeft))*yt.x,St=mt.top+(ht.clientTop+parseFloat(gt.paddingTop))*yt.y;st*=yt.x,lt*=yt.y,ct*=yt.x,ut*=yt.y,st+=vt,lt+=St,pt=getWindow(ht),ht=getFrameElement(pt)}}return rectToClientRect({width:ct,height:ut,x:st,y:lt})}function convertOffsetParentRelativeRectToViewportRelativeRect(_e){let{elements:et,rect:tt,offsetParent:rt,strategy:nt}=_e;const it=nt==="fixed",at=getDocumentElement(rt),ot=et?isTopLayer(et.floating):!1;if(rt===at||ot&&it)return tt;let st={scrollLeft:0,scrollTop:0},lt=createCoords(1);const ct=createCoords(0),ut=isHTMLElement(rt);if((ut||!ut&&!it)&&((getNodeName(rt)!=="body"||isOverflowElement(at))&&(st=getNodeScroll(rt)),isHTMLElement(rt))){const dt=getBoundingClientRect(rt);lt=getScale(rt),ct.x=dt.x+rt.clientLeft,ct.y=dt.y+rt.clientTop}return{width:tt.width*lt.x,height:tt.height*lt.y,x:tt.x*lt.x-st.scrollLeft*lt.x+ct.x,y:tt.y*lt.y-st.scrollTop*lt.y+ct.y}}function getClientRects(_e){return Array.from(_e.getClientRects())}function getWindowScrollBarX(_e,et){const tt=getNodeScroll(_e).scrollLeft;return et?et.left+tt:getBoundingClientRect(getDocumentElement(_e)).left+tt}function getDocumentRect(_e){const et=getDocumentElement(_e),tt=getNodeScroll(_e),rt=_e.ownerDocument.body,nt=max(et.scrollWidth,et.clientWidth,rt.scrollWidth,rt.clientWidth),it=max(et.scrollHeight,et.clientHeight,rt.scrollHeight,rt.clientHeight);let at=-tt.scrollLeft+getWindowScrollBarX(_e);const ot=-tt.scrollTop;return getComputedStyle$2(rt).direction==="rtl"&&(at+=max(et.clientWidth,rt.clientWidth)-nt),{width:nt,height:it,x:at,y:ot}}function getViewportRect(_e,et){const tt=getWindow(_e),rt=getDocumentElement(_e),nt=tt.visualViewport;let it=rt.clientWidth,at=rt.clientHeight,ot=0,st=0;if(nt){it=nt.width,at=nt.height;const lt=isWebKit();(!lt||lt&&et==="fixed")&&(ot=nt.offsetLeft,st=nt.offsetTop)}return{width:it,height:at,x:ot,y:st}}function getInnerBoundingClientRect(_e,et){const tt=getBoundingClientRect(_e,!0,et==="fixed"),rt=tt.top+_e.clientTop,nt=tt.left+_e.clientLeft,it=isHTMLElement(_e)?getScale(_e):createCoords(1),at=_e.clientWidth*it.x,ot=_e.clientHeight*it.y,st=nt*it.x,lt=rt*it.y;return{width:at,height:ot,x:st,y:lt}}function getClientRectFromClippingAncestor(_e,et,tt){let rt;if(et==="viewport")rt=getViewportRect(_e,tt);else if(et==="document")rt=getDocumentRect(getDocumentElement(_e));else if(isElement(et))rt=getInnerBoundingClientRect(et,tt);else{const nt=getVisualOffsets(_e);rt={...et,x:et.x-nt.x,y:et.y-nt.y}}return rectToClientRect(rt)}function hasFixedPositionAncestor(_e,et){const tt=getParentNode$1(_e);return tt===et||!isElement(tt)||isLastTraversableNode(tt)?!1:getComputedStyle$2(tt).position==="fixed"||hasFixedPositionAncestor(tt,et)}function getClippingElementAncestors(_e,et){const tt=et.get(_e);if(tt)return tt;let rt=getOverflowAncestors(_e,[],!1).filter(ot=>isElement(ot)&&getNodeName(ot)!=="body"),nt=null;const it=getComputedStyle$2(_e).position==="fixed";let at=it?getParentNode$1(_e):_e;for(;isElement(at)&&!isLastTraversableNode(at);){const ot=getComputedStyle$2(at),st=isContainingBlock(at);!st&&ot.position==="fixed"&&(nt=null),(it?!st&&!nt:!st&&ot.position==="static"&&!!nt&&["absolute","fixed"].includes(nt.position)||isOverflowElement(at)&&!st&&hasFixedPositionAncestor(_e,at))?rt=rt.filter(ct=>ct!==at):nt=ot,at=getParentNode$1(at)}return et.set(_e,rt),rt}function getClippingRect(_e){let{element:et,boundary:tt,rootBoundary:rt,strategy:nt}=_e;const at=[...tt==="clippingAncestors"?isTopLayer(et)?[]:getClippingElementAncestors(et,this._c):[].concat(tt),rt],ot=at[0],st=at.reduce((lt,ct)=>{const ut=getClientRectFromClippingAncestor(et,ct,nt);return lt.top=max(ut.top,lt.top),lt.right=min(ut.right,lt.right),lt.bottom=min(ut.bottom,lt.bottom),lt.left=max(ut.left,lt.left),lt},getClientRectFromClippingAncestor(et,ot,nt));return{width:st.right-st.left,height:st.bottom-st.top,x:st.left,y:st.top}}function getDimensions(_e){const{width:et,height:tt}=getCssDimensions(_e);return{width:et,height:tt}}function getRectRelativeToOffsetParent(_e,et,tt){const rt=isHTMLElement(et),nt=getDocumentElement(et),it=tt==="fixed",at=getBoundingClientRect(_e,!0,it,et);let ot={scrollLeft:0,scrollTop:0};const st=createCoords(0);if(rt||!rt&&!it)if((getNodeName(et)!=="body"||isOverflowElement(nt))&&(ot=getNodeScroll(et)),rt){const ft=getBoundingClientRect(et,!0,it,et);st.x=ft.x+et.clientLeft,st.y=ft.y+et.clientTop}else nt&&(st.x=getWindowScrollBarX(nt));let lt=0,ct=0;if(nt&&!rt&&!it){const ft=nt.getBoundingClientRect();ct=ft.top+ot.scrollTop,lt=ft.left+ot.scrollLeft-getWindowScrollBarX(nt,ft)}const ut=at.left+ot.scrollLeft-st.x-lt,dt=at.top+ot.scrollTop-st.y-ct;return{x:ut,y:dt,width:at.width,height:at.height}}function isStaticPositioned(_e){return getComputedStyle$2(_e).position==="static"}function getTrueOffsetParent(_e,et){if(!isHTMLElement(_e)||getComputedStyle$2(_e).position==="fixed")return null;if(et)return et(_e);let tt=_e.offsetParent;return getDocumentElement(_e)===tt&&(tt=tt.ownerDocument.body),tt}function getOffsetParent(_e,et){const tt=getWindow(_e);if(isTopLayer(_e))return tt;if(!isHTMLElement(_e)){let nt=getParentNode$1(_e);for(;nt&&!isLastTraversableNode(nt);){if(isElement(nt)&&!isStaticPositioned(nt))return nt;nt=getParentNode$1(nt)}return tt}let rt=getTrueOffsetParent(_e,et);for(;rt&&isTableElement(rt)&&isStaticPositioned(rt);)rt=getTrueOffsetParent(rt,et);return rt&&isLastTraversableNode(rt)&&isStaticPositioned(rt)&&!isContainingBlock(rt)?tt:rt||getContainingBlock(_e)||tt}const getElementRects=async function(_e){const et=this.getOffsetParent||getOffsetParent,tt=this.getDimensions,rt=await tt(_e.floating);return{reference:getRectRelativeToOffsetParent(_e.reference,await et(_e.floating),_e.strategy),floating:{x:0,y:0,width:rt.width,height:rt.height}}};function isRTL(_e){return getComputedStyle$2(_e).direction==="rtl"}const platform$2={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(_e,et){let tt=null,rt;const nt=getDocumentElement(_e);function it(){var ot;clearTimeout(rt),(ot=tt)==null||ot.disconnect(),tt=null}function at(ot,st){ot===void 0&&(ot=!1),st===void 0&&(st=1),it();const{left:lt,top:ct,width:ut,height:dt}=_e.getBoundingClientRect();if(ot||et(),!ut||!dt)return;const ft=floor(ct),pt=floor(nt.clientWidth-(lt+ut)),ht=floor(nt.clientHeight-(ct+dt)),yt=floor(lt),gt={rootMargin:-ft+"px "+-pt+"px "+-ht+"px "+-yt+"px",threshold:max(0,min(1,st))||1};let vt=!0;function St(xt){const Ct=xt[0].intersectionRatio;if(Ct!==st){if(!vt)return at();Ct?at(!1,Ct):rt=setTimeout(()=>{at(!1,1e-7)},1e3)}vt=!1}try{tt=new IntersectionObserver(St,{...gt,root:nt.ownerDocument})}catch{tt=new IntersectionObserver(St,gt)}tt.observe(_e)}return at(!0),it}function autoUpdate(_e,et,tt,rt){rt===void 0&&(rt={});const{ancestorScroll:nt=!0,ancestorResize:it=!0,elementResize:at=typeof ResizeObserver=="function",layoutShift:ot=typeof IntersectionObserver=="function",animationFrame:st=!1}=rt,lt=unwrapElement(_e),ct=nt||it?[...lt?getOverflowAncestors(lt):[],...getOverflowAncestors(et)]:[];ct.forEach(mt=>{nt&&mt.addEventListener("scroll",tt,{passive:!0}),it&&mt.addEventListener("resize",tt)});const ut=lt&&ot?observeMove(lt,tt):null;let dt=-1,ft=null;at&&(ft=new ResizeObserver(mt=>{let[gt]=mt;gt&&gt.target===lt&&ft&&(ft.unobserve(et),cancelAnimationFrame(dt),dt=requestAnimationFrame(()=>{var vt;(vt=ft)==null||vt.observe(et)})),tt()}),lt&&!st&&ft.observe(lt),ft.observe(et));let pt,ht=st?getBoundingClientRect(_e):null;st&&yt();function yt(){const mt=getBoundingClientRect(_e);ht&&(mt.x!==ht.x||mt.y!==ht.y||mt.width!==ht.width||mt.height!==ht.height)&&tt(),ht=mt,pt=requestAnimationFrame(yt)}return tt(),()=>{var mt;ct.forEach(gt=>{nt&&gt.removeEventListener("scroll",tt),it&&gt.removeEventListener("resize",tt)}),ut==null||ut(),(mt=ft)==null||mt.disconnect(),ft=null,st&&cancelAnimationFrame(pt)}}const offset$2=offset$3,shift$1=shift$2,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(_e,et,tt)=>{const rt=new Map,nt={platform:platform$2,...tt},it={...nt.platform,_c:rt};return computePosition$1(_e,et,{...nt,platform:it})};var index$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual$1(_e,et){if(_e===et)return!0;if(typeof _e!=typeof et)return!1;if(typeof _e=="function"&&_e.toString()===et.toString())return!0;let tt,rt,nt;if(_e&&et&&typeof _e=="object"){if(Array.isArray(_e)){if(tt=_e.length,tt!==et.length)return!1;for(rt=tt;rt--!==0;)if(!deepEqual$1(_e[rt],et[rt]))return!1;return!0}if(nt=Object.keys(_e),tt=nt.length,tt!==Object.keys(et).length)return!1;for(rt=tt;rt--!==0;)if(!{}.hasOwnProperty.call(et,nt[rt]))return!1;for(rt=tt;rt--!==0;){const it=nt[rt];if(!(it==="_owner"&&_e.$$typeof)&&!deepEqual$1(_e[it],et[it]))return!1}return!0}return _e!==_e&&et!==et}function getDPR(_e){return typeof window>"u"?1:(_e.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(_e,et){const tt=getDPR(_e);return Math.round(et*tt)/tt}function useLatestRef(_e){const et=reactExports.useRef(_e);return index$1(()=>{et.current=_e}),et}function useFloating(_e){_e===void 0&&(_e={});const{placement:et="bottom",strategy:tt="absolute",middleware:rt=[],platform:nt,elements:{reference:it,floating:at}={},transform:ot=!0,whileElementsMounted:st,open:lt}=_e,[ct,ut]=reactExports.useState({x:0,y:0,strategy:tt,placement:et,middlewareData:{},isPositioned:!1}),[dt,ft]=reactExports.useState(rt);deepEqual$1(dt,rt)||ft(rt);const[pt,ht]=reactExports.useState(null),[yt,mt]=reactExports.useState(null),gt=reactExports.useCallback(Tt=>{Tt!==Ct.current&&(Ct.current=Tt,ht(Tt))},[]),vt=reactExports.useCallback(Tt=>{Tt!==wt.current&&(wt.current=Tt,mt(Tt))},[]),St=it||pt,xt=at||yt,Ct=reactExports.useRef(null),wt=reactExports.useRef(null),_t=reactExports.useRef(ct),Ot=st!=null,kt=useLatestRef(st),Lt=useLatestRef(nt),$t=useLatestRef(lt),zt=reactExports.useCallback(()=>{if(!Ct.current||!wt.current)return;const Tt={placement:et,strategy:tt,middleware:dt};Lt.current&&(Tt.platform=Lt.current),computePosition(Ct.current,wt.current,Tt).then(Rt=>{const Ft={...Rt,isPositioned:$t.current!==!1};Vt.current&&!deepEqual$1(_t.current,Ft)&&(_t.current=Ft,reactDomExports.flushSync(()=>{ut(Ft)}))})},[dt,et,tt,Lt,$t]);index$1(()=>{lt===!1&&_t.current.isPositioned&&(_t.current.isPositioned=!1,ut(Tt=>({...Tt,isPositioned:!1})))},[lt]);const Vt=reactExports.useRef(!1);index$1(()=>(Vt.current=!0,()=>{Vt.current=!1}),[]),index$1(()=>{if(St&&(Ct.current=St),xt&&(wt.current=xt),St&&xt){if(kt.current)return kt.current(St,xt,zt);zt()}},[St,xt,zt,kt,Ot]);const Ut=reactExports.useMemo(()=>({reference:Ct,floating:wt,setReference:gt,setFloating:vt}),[gt,vt]),It=reactExports.useMemo(()=>({reference:St,floating:xt}),[St,xt]),Dt=reactExports.useMemo(()=>{const Tt={position:tt,left:0,top:0};if(!It.floating)return Tt;const Rt=roundByDPR(It.floating,ct.x),Ft=roundByDPR(It.floating,ct.y);return ot?{...Tt,transform:"translate("+Rt+"px, "+Ft+"px)",...getDPR(It.floating)>=1.5&&{willChange:"transform"}}:{position:tt,left:Rt,top:Ft}},[tt,ot,It.floating,ct.x,ct.y]);return reactExports.useMemo(()=>({...ct,update:zt,refs:Ut,elements:It,floatingStyles:Dt}),[ct,zt,Ut,It,Dt])}const arrow$1=_e=>{function et(tt){return{}.hasOwnProperty.call(tt,"current")}return{name:"arrow",options:_e,fn(tt){const{element:rt,padding:nt}=typeof _e=="function"?_e(tt):_e;return rt&&et(rt)?rt.current!=null?arrow$2({element:rt.current,padding:nt}).fn(tt):{}:rt?arrow$2({element:rt,padding:nt}).fn(tt):{}}}},offset$1=(_e,et)=>({...offset$2(_e),options:[_e,et]}),shift=(_e,et)=>({...shift$1(_e),options:[_e,et]}),limitShift=(_e,et)=>({...limitShift$1(_e),options:[_e,et]}),flip=(_e,et)=>({...flip$1(_e),options:[_e,et]}),size=(_e,et)=>({...size$1(_e),options:[_e,et]}),hide=(_e,et)=>({...hide$1(_e),options:[_e,et]}),arrow=(_e,et)=>({...arrow$1(_e),options:[_e,et]});var NAME$3="Arrow",Arrow$3=reactExports.forwardRef((_e,et)=>{const{children:tt,width:rt=10,height:nt=5,...it}=_e;return jsxRuntimeExports.jsx(Primitive$1.svg,{...it,ref:et,width:rt,height:nt,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:_e.asChild?tt:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$3.displayName=NAME$3;var Root$3=Arrow$3;function createContextScope(_e,et=[]){let tt=[];function rt(it,at){const ot=reactExports.createContext(at),st=tt.length;tt=[...tt,at];function lt(ut){const{scope:dt,children:ft,...pt}=ut,ht=(dt==null?void 0:dt[_e][st])||ot,yt=reactExports.useMemo(()=>pt,Object.values(pt));return jsxRuntimeExports.jsx(ht.Provider,{value:yt,children:ft})}function ct(ut,dt){const ft=(dt==null?void 0:dt[_e][st])||ot,pt=reactExports.useContext(ft);if(pt)return pt;if(at!==void 0)return at;throw new Error(`\`${ut}\` must be used within \`${it}\``)}return lt.displayName=it+"Provider",[lt,ct]}const nt=()=>{const it=tt.map(at=>reactExports.createContext(at));return function(ot){const st=(ot==null?void 0:ot[_e])||it;return reactExports.useMemo(()=>({[`__scope${_e}`]:{...ot,[_e]:st}}),[ot,st])}};return nt.scopeName=_e,[rt,composeContextScopes(nt,...et)]}function composeContextScopes(..._e){const et=_e[0];if(_e.length===1)return et;const tt=()=>{const rt=_e.map(nt=>({useScope:nt(),scopeName:nt.scopeName}));return function(it){const at=rt.reduce((ot,{useScope:st,scopeName:lt})=>{const ut=st(it)[`__scope${lt}`];return{...ot,...ut}},{});return reactExports.useMemo(()=>({[`__scope${et.scopeName}`]:at}),[at])}};return tt.scopeName=et.scopeName,tt}function useSize(_e){const[et,tt]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(_e){tt({width:_e.offsetWidth,height:_e.offsetHeight});const rt=new ResizeObserver(nt=>{if(!Array.isArray(nt)||!nt.length)return;const it=nt[0];let at,ot;if("borderBoxSize"in it){const st=it.borderBoxSize,lt=Array.isArray(st)?st[0]:st;at=lt.inlineSize,ot=lt.blockSize}else at=_e.offsetWidth,ot=_e.offsetHeight;tt({width:at,height:ot})});return rt.observe(_e,{box:"border-box"}),()=>rt.unobserve(_e)}else tt(void 0)},[_e]),et}var POPPER_NAME$1="Popper",[createPopperContext$1,createPopperScope$1]=createContextScope(POPPER_NAME$1),[PopperProvider$1,usePopperContext$1]=createPopperContext$1(POPPER_NAME$1),Popper$1=_e=>{const{__scopePopper:et,children:tt}=_e,[rt,nt]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider$1,{scope:et,anchor:rt,onAnchorChange:nt,children:tt})};Popper$1.displayName=POPPER_NAME$1;var ANCHOR_NAME$1="PopperAnchor",PopperAnchor$1=reactExports.forwardRef((_e,et)=>{const{__scopePopper:tt,virtualRef:rt,...nt}=_e,it=usePopperContext$1(ANCHOR_NAME$1,tt),at=reactExports.useRef(null),ot=useComposedRefs$1(et,at);return reactExports.useEffect(()=>{it.onAnchorChange((rt==null?void 0:rt.current)||at.current)}),rt?null:jsxRuntimeExports.jsx(Primitive$1.div,{...nt,ref:ot})});PopperAnchor$1.displayName=ANCHOR_NAME$1;var CONTENT_NAME$3="PopperContent",[PopperContentProvider$1,useContentContext$1]=createPopperContext$1(CONTENT_NAME$3),PopperContent$1=reactExports.forwardRef((_e,et)=>{var vr,Br,mr,Ir,br,Tr;const{__scopePopper:tt,side:rt="bottom",sideOffset:nt=0,align:it="center",alignOffset:at=0,arrowPadding:ot=0,avoidCollisions:st=!0,collisionBoundary:lt=[],collisionPadding:ct=0,sticky:ut="partial",hideWhenDetached:dt=!1,updatePositionStrategy:ft="optimized",onPlaced:pt,...ht}=_e,yt=usePopperContext$1(CONTENT_NAME$3,tt),[mt,gt]=reactExports.useState(null),vt=useComposedRefs$1(et,Vr=>gt(Vr)),[St,xt]=reactExports.useState(null),Ct=useSize(St),wt=(Ct==null?void 0:Ct.width)??0,_t=(Ct==null?void 0:Ct.height)??0,Ot=rt+(it!=="center"?"-"+it:""),kt=typeof ct=="number"?ct:{top:0,right:0,bottom:0,left:0,...ct},Lt=Array.isArray(lt)?lt:[lt],$t=Lt.length>0,zt={padding:kt,boundary:Lt.filter(isNotNull$1),altBoundary:$t},{refs:Vt,floatingStyles:Ut,placement:It,isPositioned:Dt,middlewareData:Tt}=useFloating({strategy:"fixed",placement:Ot,whileElementsMounted:(...Vr)=>autoUpdate(...Vr,{animationFrame:ft==="always"}),elements:{reference:yt.anchor},middleware:[offset$1({mainAxis:nt+_t,alignmentAxis:at}),st&&shift({mainAxis:!0,crossAxis:!1,limiter:ut==="partial"?limitShift():void 0,...zt}),st&&flip({...zt}),size({...zt,apply:({elements:Vr,rects:yr,availableWidth:rn,availableHeight:ar})=>{const{width:Er,height:_r}=yr.reference,gr=Vr.floating.style;gr.setProperty("--radix-popper-available-width",`${rn}px`),gr.setProperty("--radix-popper-available-height",`${ar}px`),gr.setProperty("--radix-popper-anchor-width",`${Er}px`),gr.setProperty("--radix-popper-anchor-height",`${_r}px`)}}),St&&arrow({element:St,padding:ot}),transformOrigin$1({arrowWidth:wt,arrowHeight:_t}),dt&&hide({strategy:"referenceHidden",...zt})]}),[Rt,Ft]=getSideAndAlignFromPlacement$1(It),jt=useCallbackRef$1(pt);useLayoutEffect2(()=>{Dt&&(jt==null||jt())},[Dt,jt]);const nr=(vr=Tt.arrow)==null?void 0:vr.x,cr=(Br=Tt.arrow)==null?void 0:Br.y,ur=((mr=Tt.arrow)==null?void 0:mr.centerOffset)!==0,[pr,xr]=reactExports.useState();return useLayoutEffect2(()=>{mt&&xr(window.getComputedStyle(mt).zIndex)},[mt]),jsxRuntimeExports.jsx("div",{ref:Vt.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ut,transform:Dt?Ut.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pr,"--radix-popper-transform-origin":[(Ir=Tt.transformOrigin)==null?void 0:Ir.x,(br=Tt.transformOrigin)==null?void 0:br.y].join(" "),...((Tr=Tt.hide)==null?void 0:Tr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:_e.dir,children:jsxRuntimeExports.jsx(PopperContentProvider$1,{scope:tt,placedSide:Rt,onArrowChange:xt,arrowX:nr,arrowY:cr,shouldHideArrow:ur,children:jsxRuntimeExports.jsx(Primitive$1.div,{"data-side":Rt,"data-align":Ft,...ht,ref:vt,style:{...ht.style,animation:Dt?void 0:"none"}})})})});PopperContent$1.displayName=CONTENT_NAME$3;var ARROW_NAME$3="PopperArrow",OPPOSITE_SIDE$1={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow$1=reactExports.forwardRef(function _e(et,tt){const{__scopePopper:rt,...nt}=et,it=useContentContext$1(ARROW_NAME$3,rt),at=OPPOSITE_SIDE$1[it.placedSide];return jsxRuntimeExports.jsx("span",{ref:it.onArrowChange,style:{position:"absolute",left:it.arrowX,top:it.arrowY,[at]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[it.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[it.placedSide],visibility:it.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$3,{...nt,ref:tt,style:{...nt.style,display:"block"}})})});PopperArrow$1.displayName=ARROW_NAME$3;function isNotNull$1(_e){return _e!==null}var transformOrigin$1=_e=>({name:"transformOrigin",options:_e,fn(et){var yt,mt,gt;const{placement:tt,rects:rt,middlewareData:nt}=et,at=((yt=nt.arrow)==null?void 0:yt.centerOffset)!==0,ot=at?0:_e.arrowWidth,st=at?0:_e.arrowHeight,[lt,ct]=getSideAndAlignFromPlacement$1(tt),ut={start:"0%",center:"50%",end:"100%"}[ct],dt=(((mt=nt.arrow)==null?void 0:mt.x)??0)+ot/2,ft=(((gt=nt.arrow)==null?void 0:gt.y)??0)+st/2;let pt="",ht="";return lt==="bottom"?(pt=at?ut:`${dt}px`,ht=`${-st}px`):lt==="top"?(pt=at?ut:`${dt}px`,ht=`${rt.floating.height+st}px`):lt==="right"?(pt=`${-st}px`,ht=at?ut:`${ft}px`):lt==="left"&&(pt=`${rt.floating.width+st}px`,ht=at?ut:`${ft}px`),{data:{x:pt,y:ht}}}});function getSideAndAlignFromPlacement$1(_e){const[et,tt="center"]=_e.split("-");return[et,tt]}var Root2$2=Popper$1,Anchor$1=PopperAnchor$1,Content$4=PopperContent$1,Arrow$2=PopperArrow$1,PORTAL_NAME$1="Portal",Portal$1=reactExports.forwardRef((_e,et)=>{var ot;const{container:tt,...rt}=_e,[nt,it]=reactExports.useState(!1);useLayoutEffect2(()=>it(!0),[]);const at=tt||nt&&((ot=globalThis==null?void 0:globalThis.document)==null?void 0:ot.body);return at?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive$1.div,{...rt,ref:et}),at):null});Portal$1.displayName=PORTAL_NAME$1;function useStateMachine(_e,et){return reactExports.useReducer((tt,rt)=>et[tt][rt]??tt,_e)}var Presence=_e=>{const{present:et,children:tt}=_e,rt=usePresence$1(et),nt=typeof tt=="function"?tt({present:rt.isPresent}):reactExports.Children.only(tt),it=useComposedRefs$1(rt.ref,getElementRef$1(nt));return typeof tt=="function"||rt.isPresent?reactExports.cloneElement(nt,{ref:it}):null};Presence.displayName="Presence";function usePresence$1(_e){const[et,tt]=reactExports.useState(),rt=reactExports.useRef({}),nt=reactExports.useRef(_e),it=reactExports.useRef("none"),at=_e?"mounted":"unmounted",[ot,st]=useStateMachine(at,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const lt=getAnimationName(rt.current);it.current=ot==="mounted"?lt:"none"},[ot]),useLayoutEffect2(()=>{const lt=rt.current,ct=nt.current;if(ct!==_e){const dt=it.current,ft=getAnimationName(lt);_e?st("MOUNT"):ft==="none"||(lt==null?void 0:lt.display)==="none"?st("UNMOUNT"):st(ct&&dt!==ft?"ANIMATION_OUT":"UNMOUNT"),nt.current=_e}},[_e,st]),useLayoutEffect2(()=>{if(et){let lt;const ct=et.ownerDocument.defaultView??window,ut=ft=>{const ht=getAnimationName(rt.current).includes(ft.animationName);if(ft.target===et&&ht&&(st("ANIMATION_END"),!nt.current)){const yt=et.style.animationFillMode;et.style.animationFillMode="forwards",lt=ct.setTimeout(()=>{et.style.animationFillMode==="forwards"&&(et.style.animationFillMode=yt)})}},dt=ft=>{ft.target===et&&(it.current=getAnimationName(rt.current))};return et.addEventListener("animationstart",dt),et.addEventListener("animationcancel",ut),et.addEventListener("animationend",ut),()=>{ct.clearTimeout(lt),et.removeEventListener("animationstart",dt),et.removeEventListener("animationcancel",ut),et.removeEventListener("animationend",ut)}}else st("ANIMATION_END")},[et,st]),{isPresent:["mounted","unmountSuspended"].includes(ot),ref:reactExports.useCallback(lt=>{lt&&(rt.current=getComputedStyle(lt)),tt(lt)},[])}}function getAnimationName(_e){return(_e==null?void 0:_e.animationName)||"none"}function getElementRef$1(_e){var rt,nt;let et=(rt=Object.getOwnPropertyDescriptor(_e.props,"ref"))==null?void 0:rt.get,tt=et&&"isReactWarning"in et&&et.isReactWarning;return tt?_e.ref:(et=(nt=Object.getOwnPropertyDescriptor(_e,"ref"))==null?void 0:nt.get,tt=et&&"isReactWarning"in et&&et.isReactWarning,tt?_e.props.ref:_e.props.ref||_e.ref)}function useControllableState({prop:_e,defaultProp:et,onChange:tt=()=>{}}){const[rt,nt]=useUncontrolledState({defaultProp:et,onChange:tt}),it=_e!==void 0,at=it?_e:rt,ot=useCallbackRef$1(tt),st=reactExports.useCallback(lt=>{if(it){const ut=typeof lt=="function"?lt(_e):lt;ut!==_e&&ot(ut)}else nt(lt)},[it,_e,nt,ot]);return[at,st]}function useUncontrolledState({defaultProp:_e,onChange:et}){const tt=reactExports.useState(_e),[rt]=tt,nt=reactExports.useRef(rt),it=useCallbackRef$1(et);return reactExports.useEffect(()=>{nt.current!==rt&&(it(rt),nt.current=rt)},[rt,nt,it]),tt}var NAME$2="VisuallyHidden",VisuallyHidden$1=reactExports.forwardRef((_e,et)=>jsxRuntimeExports.jsx(Primitive$1.span,{..._e,ref:et,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",..._e.style}}));VisuallyHidden$1.displayName=NAME$2;var Root$2=VisuallyHidden$1,[createTooltipContext,createTooltipScope]=createContextScope$1("Tooltip",[createPopperScope$1]),usePopperScope$1=createPopperScope$1(),PROVIDER_NAME="TooltipProvider",DEFAULT_DELAY_DURATION=700,TOOLTIP_OPEN="tooltip.open",[TooltipProviderContextProvider,useTooltipProviderContext]=createTooltipContext(PROVIDER_NAME),TooltipProvider=_e=>{const{__scopeTooltip:et,delayDuration:tt=DEFAULT_DELAY_DURATION,skipDelayDuration:rt=300,disableHoverableContent:nt=!1,children:it}=_e,[at,ot]=reactExports.useState(!0),st=reactExports.useRef(!1),lt=reactExports.useRef(0);return reactExports.useEffect(()=>{const ct=lt.current;return()=>window.clearTimeout(ct)},[]),jsxRuntimeExports.jsx(TooltipProviderContextProvider,{scope:et,isOpenDelayed:at,delayDuration:tt,onOpen:reactExports.useCallback(()=>{window.clearTimeout(lt.current),ot(!1)},[]),onClose:reactExports.useCallback(()=>{window.clearTimeout(lt.current),lt.current=window.setTimeout(()=>ot(!0),rt)},[rt]),isPointerInTransitRef:st,onPointerInTransitChange:reactExports.useCallback(ct=>{st.current=ct},[]),disableHoverableContent:nt,children:it})};TooltipProvider.displayName=PROVIDER_NAME;var TOOLTIP_NAME="Tooltip",[TooltipContextProvider,useTooltipContext]=createTooltipContext(TOOLTIP_NAME),Tooltip=_e=>{const{__scopeTooltip:et,children:tt,open:rt,defaultOpen:nt=!1,onOpenChange:it,disableHoverableContent:at,delayDuration:ot}=_e,st=useTooltipProviderContext(TOOLTIP_NAME,_e.__scopeTooltip),lt=usePopperScope$1(et),[ct,ut]=reactExports.useState(null),dt=useId(),ft=reactExports.useRef(0),pt=at??st.disableHoverableContent,ht=ot??st.delayDuration,yt=reactExports.useRef(!1),[mt=!1,gt]=useControllableState({prop:rt,defaultProp:nt,onChange:wt=>{wt?(st.onOpen(),document.dispatchEvent(new CustomEvent(TOOLTIP_OPEN))):st.onClose(),it==null||it(wt)}}),vt=reactExports.useMemo(()=>mt?yt.current?"delayed-open":"instant-open":"closed",[mt]),St=reactExports.useCallback(()=>{window.clearTimeout(ft.current),yt.current=!1,gt(!0)},[gt]),xt=reactExports.useCallback(()=>{window.clearTimeout(ft.current),gt(!1)},[gt]),Ct=reactExports.useCallback(()=>{window.clearTimeout(ft.current),ft.current=window.setTimeout(()=>{yt.current=!0,gt(!0)},ht)},[ht,gt]);return reactExports.useEffect(()=>()=>window.clearTimeout(ft.current),[]),jsxRuntimeExports.jsx(Root2$2,{...lt,children:jsxRuntimeExports.jsx(TooltipContextProvider,{scope:et,contentId:dt,open:mt,stateAttribute:vt,trigger:ct,onTriggerChange:ut,onTriggerEnter:reactExports.useCallback(()=>{st.isOpenDelayed?Ct():St()},[st.isOpenDelayed,Ct,St]),onTriggerLeave:reactExports.useCallback(()=>{pt?xt():window.clearTimeout(ft.current)},[xt,pt]),onOpen:St,onClose:xt,disableHoverableContent:pt,children:tt})})};Tooltip.displayName=TOOLTIP_NAME;var TRIGGER_NAME$1="TooltipTrigger",TooltipTrigger=reactExports.forwardRef((_e,et)=>{const{__scopeTooltip:tt,...rt}=_e,nt=useTooltipContext(TRIGGER_NAME$1,tt),it=useTooltipProviderContext(TRIGGER_NAME$1,tt),at=usePopperScope$1(tt),ot=reactExports.useRef(null),st=useComposedRefs$1(et,ot,nt.onTriggerChange),lt=reactExports.useRef(!1),ct=reactExports.useRef(!1),ut=reactExports.useCallback(()=>lt.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",ut),[ut]),jsxRuntimeExports.jsx(Anchor$1,{asChild:!0,...at,children:jsxRuntimeExports.jsx(Primitive$1.button,{"aria-describedby":nt.open?nt.contentId:void 0,"data-state":nt.stateAttribute,...rt,ref:st,onPointerMove:composeEventHandlers$1(_e.onPointerMove,dt=>{dt.pointerType!=="touch"&&!ct.current&&!it.isPointerInTransitRef.current&&(nt.onTriggerEnter(),ct.current=!0)}),onPointerLeave:composeEventHandlers$1(_e.onPointerLeave,()=>{nt.onTriggerLeave(),ct.current=!1}),onPointerDown:composeEventHandlers$1(_e.onPointerDown,()=>{lt.current=!0,document.addEventListener("pointerup",ut,{once:!0})}),onFocus:composeEventHandlers$1(_e.onFocus,()=>{lt.current||nt.onOpen()}),onBlur:composeEventHandlers$1(_e.onBlur,nt.onClose),onClick:composeEventHandlers$1(_e.onClick,nt.onClose)})})});TooltipTrigger.displayName=TRIGGER_NAME$1;var PORTAL_NAME="TooltipPortal",[PortalProvider,usePortalContext]=createTooltipContext(PORTAL_NAME,{forceMount:void 0}),TooltipPortal=_e=>{const{__scopeTooltip:et,forceMount:tt,children:rt,container:nt}=_e,it=useTooltipContext(PORTAL_NAME,et);return jsxRuntimeExports.jsx(PortalProvider,{scope:et,forceMount:tt,children:jsxRuntimeExports.jsx(Presence,{present:tt||it.open,children:jsxRuntimeExports.jsx(Portal$1,{asChild:!0,container:nt,children:rt})})})};TooltipPortal.displayName=PORTAL_NAME;var CONTENT_NAME$2="TooltipContent",TooltipContent$1=reactExports.forwardRef((_e,et)=>{const tt=usePortalContext(CONTENT_NAME$2,_e.__scopeTooltip),{forceMount:rt=tt.forceMount,side:nt="top",...it}=_e,at=useTooltipContext(CONTENT_NAME$2,_e.__scopeTooltip);return jsxRuntimeExports.jsx(Presence,{present:rt||at.open,children:at.disableHoverableContent?jsxRuntimeExports.jsx(TooltipContentImpl,{side:nt,...it,ref:et}):jsxRuntimeExports.jsx(TooltipContentHoverable,{side:nt,...it,ref:et})})}),TooltipContentHoverable=reactExports.forwardRef((_e,et)=>{const tt=useTooltipContext(CONTENT_NAME$2,_e.__scopeTooltip),rt=useTooltipProviderContext(CONTENT_NAME$2,_e.__scopeTooltip),nt=reactExports.useRef(null),it=useComposedRefs$1(et,nt),[at,ot]=reactExports.useState(null),{trigger:st,onClose:lt}=tt,ct=nt.current,{onPointerInTransitChange:ut}=rt,dt=reactExports.useCallback(()=>{ot(null),ut(!1)},[ut]),ft=reactExports.useCallback((pt,ht)=>{const yt=pt.currentTarget,mt={x:pt.clientX,y:pt.clientY},gt=getExitSideFromRect(mt,yt.getBoundingClientRect()),vt=getPaddedExitPoints(mt,gt),St=getPointsFromRect(ht.getBoundingClientRect()),xt=getHull([...vt,...St]);ot(xt),ut(!0)},[ut]);return reactExports.useEffect(()=>()=>dt(),[dt]),reactExports.useEffect(()=>{if(st&&ct){const pt=yt=>ft(yt,ct),ht=yt=>ft(yt,st);return st.addEventListener("pointerleave",pt),ct.addEventListener("pointerleave",ht),()=>{st.removeEventListener("pointerleave",pt),ct.removeEventListener("pointerleave",ht)}}},[st,ct,ft,dt]),reactExports.useEffect(()=>{if(at){const pt=ht=>{const yt=ht.target,mt={x:ht.clientX,y:ht.clientY},gt=(st==null?void 0:st.contains(yt))||(ct==null?void 0:ct.contains(yt)),vt=!isPointInPolygon(mt,at);gt?dt():vt&&(dt(),lt())};return document.addEventListener("pointermove",pt),()=>document.removeEventListener("pointermove",pt)}},[st,ct,at,lt,dt]),jsxRuntimeExports.jsx(TooltipContentImpl,{..._e,ref:it})}),[VisuallyHiddenContentContextProvider,useVisuallyHiddenContentContext]=createTooltipContext(TOOLTIP_NAME,{isInside:!1}),TooltipContentImpl=reactExports.forwardRef((_e,et)=>{const{__scopeTooltip:tt,children:rt,"aria-label":nt,onEscapeKeyDown:it,onPointerDownOutside:at,...ot}=_e,st=useTooltipContext(CONTENT_NAME$2,tt),lt=usePopperScope$1(tt),{onClose:ct}=st;return reactExports.useEffect(()=>(document.addEventListener(TOOLTIP_OPEN,ct),()=>document.removeEventListener(TOOLTIP_OPEN,ct)),[ct]),reactExports.useEffect(()=>{if(st.trigger){const ut=dt=>{const ft=dt.target;ft!=null&&ft.contains(st.trigger)&&ct()};return window.addEventListener("scroll",ut,{capture:!0}),()=>window.removeEventListener("scroll",ut,{capture:!0})}},[st.trigger,ct]),jsxRuntimeExports.jsx(DismissableLayer$1,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:it,onPointerDownOutside:at,onFocusOutside:ut=>ut.preventDefault(),onDismiss:ct,children:jsxRuntimeExports.jsxs(Content$4,{"data-state":st.stateAttribute,...lt,...ot,ref:et,style:{...ot.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[jsxRuntimeExports.jsx(Slottable$1,{children:rt}),jsxRuntimeExports.jsx(VisuallyHiddenContentContextProvider,{scope:tt,isInside:!0,children:jsxRuntimeExports.jsx(Root$2,{id:st.contentId,role:"tooltip",children:nt||rt})})]})})});TooltipContent$1.displayName=CONTENT_NAME$2;var ARROW_NAME$2="TooltipArrow",TooltipArrow=reactExports.forwardRef((_e,et)=>{const{__scopeTooltip:tt,...rt}=_e,nt=usePopperScope$1(tt);return useVisuallyHiddenContentContext(ARROW_NAME$2,tt).isInside?null:jsxRuntimeExports.jsx(Arrow$2,{...nt,...rt,ref:et})});TooltipArrow.displayName=ARROW_NAME$2;function getExitSideFromRect(_e,et){const tt=Math.abs(et.top-_e.y),rt=Math.abs(et.bottom-_e.y),nt=Math.abs(et.right-_e.x),it=Math.abs(et.left-_e.x);switch(Math.min(tt,rt,nt,it)){case it:return"left";case nt:return"right";case tt:return"top";case rt:return"bottom";default:throw new Error("unreachable")}}function getPaddedExitPoints(_e,et,tt=5){const rt=[];switch(et){case"top":rt.push({x:_e.x-tt,y:_e.y+tt},{x:_e.x+tt,y:_e.y+tt});break;case"bottom":rt.push({x:_e.x-tt,y:_e.y-tt},{x:_e.x+tt,y:_e.y-tt});break;case"left":rt.push({x:_e.x+tt,y:_e.y-tt},{x:_e.x+tt,y:_e.y+tt});break;case"right":rt.push({x:_e.x-tt,y:_e.y-tt},{x:_e.x-tt,y:_e.y+tt});break}return rt}function getPointsFromRect(_e){const{top:et,right:tt,bottom:rt,left:nt}=_e;return[{x:nt,y:et},{x:tt,y:et},{x:tt,y:rt},{x:nt,y:rt}]}function isPointInPolygon(_e,et){const{x:tt,y:rt}=_e;let nt=!1;for(let it=0,at=et.length-1;it<et.length;at=it++){const ot=et[it].x,st=et[it].y,lt=et[at].x,ct=et[at].y;st>rt!=ct>rt&&tt<(lt-ot)*(rt-st)/(ct-st)+ot&&(nt=!nt)}return nt}function getHull(_e){const et=_e.slice();return et.sort((tt,rt)=>tt.x<rt.x?-1:tt.x>rt.x?1:tt.y<rt.y?-1:tt.y>rt.y?1:0),getHullPresorted(et)}function getHullPresorted(_e){if(_e.length<=1)return _e.slice();const et=[];for(let rt=0;rt<_e.length;rt++){const nt=_e[rt];for(;et.length>=2;){const it=et[et.length-1],at=et[et.length-2];if((it.x-at.x)*(nt.y-at.y)>=(it.y-at.y)*(nt.x-at.x))et.pop();else break}et.push(nt)}et.pop();const tt=[];for(let rt=_e.length-1;rt>=0;rt--){const nt=_e[rt];for(;tt.length>=2;){const it=tt[tt.length-1],at=tt[tt.length-2];if((it.x-at.x)*(nt.y-at.y)>=(it.y-at.y)*(nt.x-at.x))tt.pop();else break}tt.push(nt)}return tt.pop(),et.length===1&&tt.length===1&&et[0].x===tt[0].x&&et[0].y===tt[0].y?et:et.concat(tt)}var Provider$1=TooltipProvider,Root3=Tooltip,Trigger$1=TooltipTrigger,Portal=TooltipPortal,Content2$1=TooltipContent$1,uaParser={exports:{}};(function(_e,et){(function(tt,rt){var nt="1.0.39",it="",at="?",ot="function",st="undefined",lt="object",ct="string",ut="major",dt="model",ft="name",pt="type",ht="vendor",yt="version",mt="architecture",gt="console",vt="mobile",St="tablet",xt="smarttv",Ct="wearable",wt="embedded",_t=500,Ot="Amazon",kt="Apple",Lt="ASUS",$t="BlackBerry",zt="Browser",Vt="Chrome",Ut="Edge",It="Firefox",Dt="Google",Tt="Huawei",Rt="LG",Ft="Microsoft",jt="Motorola",nr="Opera",cr="Samsung",ur="Sharp",pr="Sony",xr="Xiaomi",vr="Zebra",Br="Facebook",mr="Chromium OS",Ir="Mac OS",br=" Browser",Tr=function(Rr,wr){var Dr={};for(var an in Rr)wr[an]&&wr[an].length%2===0?Dr[an]=wr[an].concat(Rr[an]):Dr[an]=Rr[an];return Dr},Vr=function(Rr){for(var wr={},Dr=0;Dr<Rr.length;Dr++)wr[Rr[Dr].toUpperCase()]=Rr[Dr];return wr},yr=function(Rr,wr){return typeof Rr===ct?rn(wr).indexOf(rn(Rr))!==-1:!1},rn=function(Rr){return Rr.toLowerCase()},ar=function(Rr){return typeof Rr===ct?Rr.replace(/[^\d\.]/g,it).split(".")[0]:rt},Er=function(Rr,wr){if(typeof Rr===ct)return Rr=Rr.replace(/^\s\s*/,it),typeof wr===st?Rr:Rr.substring(0,_t)},_r=function(Rr,wr){for(var Dr=0,an,En,dn,en,Gr,Cn;Dr<wr.length&&!Gr;){var Fr=wr[Dr],Ln=wr[Dr+1];for(an=En=0;an<Fr.length&&!Gr&&Fr[an];)if(Gr=Fr[an++].exec(Rr),Gr)for(dn=0;dn<Ln.length;dn++)Cn=Gr[++En],en=Ln[dn],typeof en===lt&&en.length>0?en.length===2?typeof en[1]==ot?this[en[0]]=en[1].call(this,Cn):this[en[0]]=en[1]:en.length===3?typeof en[1]===ot&&!(en[1].exec&&en[1].test)?this[en[0]]=Cn?en[1].call(this,Cn,en[2]):rt:this[en[0]]=Cn?Cn.replace(en[1],en[2]):rt:en.length===4&&(this[en[0]]=Cn?en[3].call(this,Cn.replace(en[1],en[2])):rt):this[en]=Cn||rt;Dr+=2}},gr=function(Rr,wr){for(var Dr in wr)if(typeof wr[Dr]===lt&&wr[Dr].length>0){for(var an=0;an<wr[Dr].length;an++)if(yr(wr[Dr][an],Rr))return Dr===at?rt:Dr}else if(yr(wr[Dr],Rr))return Dr===at?rt:Dr;return wr.hasOwnProperty("*")?wr["*"]:Rr},qr={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Sr={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Hr={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[yt,[ft,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[yt,[ft,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[ft,yt],[/opios[\/ ]+([\w\.]+)/i],[yt,[ft,nr+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[yt,[ft,nr+" GX"]],[/\bopr\/([\w\.]+)/i],[yt,[ft,nr]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[yt,[ft,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[ft,yt],[/quark(?:pc)?\/([-\w\.]+)/i],[yt,[ft,"Quark"]],[/\bddg\/([\w\.]+)/i],[yt,[ft,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[yt,[ft,"UC"+zt]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[yt,[ft,"WeChat"]],[/konqueror\/([\w\.]+)/i],[yt,[ft,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[yt,[ft,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[yt,[ft,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[yt,[ft,"Smart Lenovo "+zt]],[/(avast|avg)\/([\w\.]+)/i],[[ft,/(.+)/,"$1 Secure "+zt],yt],[/\bfocus\/([\w\.]+)/i],[yt,[ft,It+" Focus"]],[/\bopt\/([\w\.]+)/i],[yt,[ft,nr+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[yt,[ft,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[yt,[ft,"Dolphin"]],[/coast\/([\w\.]+)/i],[yt,[ft,nr+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[yt,[ft,"MIUI "+zt]],[/fxios\/([-\w\.]+)/i],[yt,[ft,It]],[/\bqihu|(qi?ho?o?|360)browser/i],[[ft,"360"+br]],[/\b(qq)\/([\w\.]+)/i],[[ft,/(.+)/,"$1Browser"],yt],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[ft,/(.+)/,"$1"+br],yt],[/samsungbrowser\/([\w\.]+)/i],[yt,[ft,cr+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[ft,/_/g," "],yt],[/metasr[\/ ]?([\d\.]+)/i],[yt,[ft,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[ft,"Sogou Mobile"],yt],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[ft,yt],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[ft],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[ft,Br],yt],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[ft,yt],[/\bgsa\/([\w\.]+) .*safari\//i],[yt,[ft,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[yt,[ft,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[yt,[ft,Vt+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[ft,Vt+" WebView"],yt],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[yt,[ft,"Android "+zt]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[ft,yt],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[yt,[ft,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[yt,ft],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[ft,[yt,gr,qr]],[/(webkit|khtml)\/([\w\.]+)/i],[ft,yt],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[ft,"Netscape"],yt],[/(wolvic)\/([\w\.]+)/i],[ft,yt],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[yt,[ft,It+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[ft,[yt,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[ft,[yt,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[mt,"amd64"]],[/(ia32(?=;))/i],[[mt,rn]],[/((?:i[346]|x)86)[;\)]/i],[[mt,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[mt,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[mt,"armhf"]],[/windows (ce|mobile); ppc;/i],[[mt,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[mt,/ower/,it,rn]],[/(sun4\w)[;\)]/i],[[mt,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[mt,rn]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[dt,[ht,cr],[pt,St]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[dt,[ht,cr],[pt,vt]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[dt,[ht,kt],[pt,vt]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[dt,[ht,kt],[pt,St]],[/(macintosh);/i],[dt,[ht,kt]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[dt,[ht,ur],[pt,vt]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[dt,[ht,Tt],[pt,St]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[dt,[ht,Tt],[pt,vt]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[dt,/_/g," "],[ht,xr],[pt,vt]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[dt,/_/g," "],[ht,xr],[pt,St]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[dt,[ht,"OPPO"],[pt,vt]],[/\b(opd2\d{3}a?) bui/i],[dt,[ht,"OPPO"],[pt,St]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[dt,[ht,"Vivo"],[pt,vt]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[dt,[ht,"Realme"],[pt,vt]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[dt,[ht,jt],[pt,vt]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[dt,[ht,jt],[pt,St]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[dt,[ht,Rt],[pt,St]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[dt,[ht,Rt],[pt,vt]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[dt,[ht,"Lenovo"],[pt,St]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[dt,/_/g," "],[ht,"Nokia"],[pt,vt]],[/(pixel c)\b/i],[dt,[ht,Dt],[pt,St]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[dt,[ht,Dt],[pt,vt]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[dt,[ht,pr],[pt,vt]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[dt,"Xperia Tablet"],[ht,pr],[pt,St]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[dt,[ht,"OnePlus"],[pt,vt]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[dt,[ht,Ot],[pt,St]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[dt,/(.+)/g,"Fire Phone $1"],[ht,Ot],[pt,vt]],[/(playbook);[-\w\),; ]+(rim)/i],[dt,ht,[pt,St]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[dt,[ht,$t],[pt,vt]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[dt,[ht,Lt],[pt,St]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[dt,[ht,Lt],[pt,vt]],[/(nexus 9)/i],[dt,[ht,"HTC"],[pt,St]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[ht,[dt,/_/g," "],[pt,vt]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[dt,[ht,"TCL"],[pt,St]],[/(itel) ((\w+))/i],[[ht,rn],dt,[pt,gr,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[dt,[ht,"Acer"],[pt,St]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[dt,[ht,"Meizu"],[pt,vt]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[dt,[ht,"Ulefone"],[pt,vt]],[/droid.+; (a(?:015|06[35]|142p?))/i],[dt,[ht,"Nothing"],[pt,vt]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[ht,dt,[pt,vt]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[ht,dt,[pt,St]],[/(surface duo)/i],[dt,[ht,Ft],[pt,St]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[dt,[ht,"Fairphone"],[pt,vt]],[/(u304aa)/i],[dt,[ht,"AT&T"],[pt,vt]],[/\bsie-(\w*)/i],[dt,[ht,"Siemens"],[pt,vt]],[/\b(rct\w+) b/i],[dt,[ht,"RCA"],[pt,St]],[/\b(venue[\d ]{2,7}) b/i],[dt,[ht,"Dell"],[pt,St]],[/\b(q(?:mv|ta)\w+) b/i],[dt,[ht,"Verizon"],[pt,St]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[dt,[ht,"Barnes & Noble"],[pt,St]],[/\b(tm\d{3}\w+) b/i],[dt,[ht,"NuVision"],[pt,St]],[/\b(k88) b/i],[dt,[ht,"ZTE"],[pt,St]],[/\b(nx\d{3}j) b/i],[dt,[ht,"ZTE"],[pt,vt]],[/\b(gen\d{3}) b.+49h/i],[dt,[ht,"Swiss"],[pt,vt]],[/\b(zur\d{3}) b/i],[dt,[ht,"Swiss"],[pt,St]],[/\b((zeki)?tb.*\b) b/i],[dt,[ht,"Zeki"],[pt,St]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[ht,"Dragon Touch"],dt,[pt,St]],[/\b(ns-?\w{0,9}) b/i],[dt,[ht,"Insignia"],[pt,St]],[/\b((nxa|next)-?\w{0,9}) b/i],[dt,[ht,"NextBook"],[pt,St]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[ht,"Voice"],dt,[pt,vt]],[/\b(lvtel\-)?(v1[12]) b/i],[[ht,"LvTel"],dt,[pt,vt]],[/\b(ph-1) /i],[dt,[ht,"Essential"],[pt,vt]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[dt,[ht,"Envizen"],[pt,St]],[/\b(trio[-\w\. ]+) b/i],[dt,[ht,"MachSpeed"],[pt,St]],[/\btu_(1491) b/i],[dt,[ht,"Rotor"],[pt,St]],[/(shield[\w ]+) b/i],[dt,[ht,"Nvidia"],[pt,St]],[/(sprint) (\w+)/i],[ht,dt,[pt,vt]],[/(kin\.[onetw]{3})/i],[[dt,/\./g," "],[ht,Ft],[pt,vt]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[dt,[ht,vr],[pt,St]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[dt,[ht,vr],[pt,vt]],[/smart-tv.+(samsung)/i],[ht,[pt,xt]],[/hbbtv.+maple;(\d+)/i],[[dt,/^/,"SmartTV"],[ht,cr],[pt,xt]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[ht,Rt],[pt,xt]],[/(apple) ?tv/i],[ht,[dt,kt+" TV"],[pt,xt]],[/crkey/i],[[dt,Vt+"cast"],[ht,Dt],[pt,xt]],[/droid.+aft(\w+)( bui|\))/i],[dt,[ht,Ot],[pt,xt]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[dt,[ht,ur],[pt,xt]],[/(bravia[\w ]+)( bui|\))/i],[dt,[ht,pr],[pt,xt]],[/(mitv-\w{5}) bui/i],[dt,[ht,xr],[pt,xt]],[/Hbbtv.*(technisat) (.*);/i],[ht,dt,[pt,xt]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[ht,Er],[dt,Er],[pt,xt]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[pt,xt]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[ht,dt,[pt,gt]],[/droid.+; (shield) bui/i],[dt,[ht,"Nvidia"],[pt,gt]],[/(playstation [345portablevi]+)/i],[dt,[ht,pr],[pt,gt]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[dt,[ht,Ft],[pt,gt]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[dt,[ht,cr],[pt,Ct]],[/((pebble))app/i],[ht,dt,[pt,Ct]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[dt,[ht,kt],[pt,Ct]],[/droid.+; (glass) \d/i],[dt,[ht,Dt],[pt,Ct]],[/droid.+; (wt63?0{2,3})\)/i],[dt,[ht,vr],[pt,Ct]],[/(quest( \d| pro)?)/i],[dt,[ht,Br],[pt,Ct]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[ht,[pt,wt]],[/(aeobc)\b/i],[dt,[ht,Ot],[pt,wt]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[dt,[pt,vt]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[dt,[pt,St]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[pt,St]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[pt,vt]],[/(android[-\w\. ]{0,9});.+buil/i],[dt,[ht,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[yt,[ft,Ut+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[yt,[ft,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[ft,yt],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[yt,ft]],os:[[/microsoft (windows) (vista|xp)/i],[ft,yt],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[ft,[yt,gr,Sr]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[yt,gr,Sr],[ft,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[yt,/_/g,"."],[ft,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[ft,Ir],[yt,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[yt,ft],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[ft,yt],[/\(bb(10);/i],[yt,[ft,$t]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[yt,[ft,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[yt,[ft,It+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[yt,[ft,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[yt,[ft,"watchOS"]],[/crkey\/([\d\.]+)/i],[yt,[ft,Vt+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[ft,mr],yt],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[ft,yt],[/(sunos) ?([\w\.\d]*)/i],[[ft,"Solaris"],yt],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[ft,yt]]},Qr=function(Rr,wr){if(typeof Rr===lt&&(wr=Rr,Rr=rt),!(this instanceof Qr))return new Qr(Rr,wr).getResult();var Dr=typeof tt!==st&&tt.navigator?tt.navigator:rt,an=Rr||(Dr&&Dr.userAgent?Dr.userAgent:it),En=Dr&&Dr.userAgentData?Dr.userAgentData:rt,dn=wr?Tr(Hr,wr):Hr,en=Dr&&Dr.userAgent==an;return this.getBrowser=function(){var Gr={};return Gr[ft]=rt,Gr[yt]=rt,_r.call(Gr,an,dn.browser),Gr[ut]=ar(Gr[yt]),en&&Dr&&Dr.brave&&typeof Dr.brave.isBrave==ot&&(Gr[ft]="Brave"),Gr},this.getCPU=function(){var Gr={};return Gr[mt]=rt,_r.call(Gr,an,dn.cpu),Gr},this.getDevice=function(){var Gr={};return Gr[ht]=rt,Gr[dt]=rt,Gr[pt]=rt,_r.call(Gr,an,dn.device),en&&!Gr[pt]&&En&&En.mobile&&(Gr[pt]=vt),en&&Gr[dt]=="Macintosh"&&Dr&&typeof Dr.standalone!==st&&Dr.maxTouchPoints&&Dr.maxTouchPoints>2&&(Gr[dt]="iPad",Gr[pt]=St),Gr},this.getEngine=function(){var Gr={};return Gr[ft]=rt,Gr[yt]=rt,_r.call(Gr,an,dn.engine),Gr},this.getOS=function(){var Gr={};return Gr[ft]=rt,Gr[yt]=rt,_r.call(Gr,an,dn.os),en&&!Gr[ft]&&En&&En.platform&&En.platform!="Unknown"&&(Gr[ft]=En.platform.replace(/chrome os/i,mr).replace(/macos/i,Ir)),Gr},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return an},this.setUA=function(Gr){return an=typeof Gr===ct&&Gr.length>_t?Er(Gr,_t):Gr,this},this.setUA(an),this};Qr.VERSION=nt,Qr.BROWSER=Vr([ft,yt,ut]),Qr.CPU=Vr([mt]),Qr.DEVICE=Vr([dt,ht,pt,gt,vt,xt,St,Ct,wt]),Qr.ENGINE=Qr.OS=Vr([ft,yt]),_e.exports&&(et=_e.exports=Qr),et.UAParser=Qr;var Xr=typeof tt!==st&&(tt.jQuery||tt.Zepto);if(Xr&&!Xr.ua){var tn=new Qr;Xr.ua=tn.getResult(),Xr.ua.get=function(){return tn.getUA()},Xr.ua.set=function(Rr){tn.setUA(Rr);var wr=tn.getResult();for(var Dr in wr)Xr.ua[Dr]=wr[Dr]}}})(typeof window=="object"?window:commonjsGlobal)})(uaParser,uaParser.exports);var uaParserExports=uaParser.exports;const UAParser=getDefaultExportFromCjs(uaParserExports);function isDesktopDevice(){const et=new UAParser(navigator.userAgent).getDevice();return et.type===void 0||!["wearable","mobile","tablet"].includes(et.type)}function isIpad(){return/iPad/i.test(navigator.userAgent)}function isIphone(){return["iPhone Simulator","iPhone"].includes(navigator.platform)}const MotionConfigContext=reactExports.createContext({transformPagePoint:_e=>_e,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser$2=typeof document<"u",useIsomorphicLayoutEffect$1=isBrowser$2?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1}),camelToDash=_e=>_e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId);function useVisualElement(_e,et,tt,rt){const{visualElement:nt}=reactExports.useContext(MotionContext),it=reactExports.useContext(LazyContext),at=reactExports.useContext(PresenceContext),ot=reactExports.useContext(MotionConfigContext).reducedMotion,st=reactExports.useRef();rt=rt||it.renderer,!st.current&&rt&&(st.current=rt(_e,{visualState:et,parent:nt,props:tt,presenceContext:at,blockInitialAnimation:at?at.initial===!1:!1,reducedMotionConfig:ot}));const lt=st.current;reactExports.useInsertionEffect(()=>{lt&&lt.update(tt,at)});const ct=reactExports.useRef(!!(tt[optimizedAppearDataAttribute]&&!window.HandoffComplete));return useIsomorphicLayoutEffect$1(()=>{lt&&(lt.render(),ct.current&&lt.animationState&&lt.animationState.animateChanges())}),reactExports.useEffect(()=>{lt&&(lt.updateFeatures(),!ct.current&&lt.animationState&&lt.animationState.animateChanges(),ct.current&&(ct.current=!1,window.HandoffComplete=!0))}),lt}function isRefObject(_e){return _e&&typeof _e=="object"&&Object.prototype.hasOwnProperty.call(_e,"current")}function useMotionRef(_e,et,tt){return reactExports.useCallback(rt=>{rt&&_e.mount&&_e.mount(rt),et&&(rt?et.mount(rt):et.unmount()),tt&&(typeof tt=="function"?tt(rt):isRefObject(tt)&&(tt.current=rt))},[et])}function isVariantLabel(_e){return typeof _e=="string"||Array.isArray(_e)}function isAnimationControls(_e){return _e!==null&&typeof _e=="object"&&typeof _e.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(_e){return isAnimationControls(_e.animate)||variantProps.some(et=>isVariantLabel(_e[et]))}function isVariantNode(_e){return!!(isControllingVariants(_e)||_e.variants)}function getCurrentTreeVariants(_e,et){if(isControllingVariants(_e)){const{initial:tt,animate:rt}=_e;return{initial:tt===!1||isVariantLabel(tt)?tt:void 0,animate:isVariantLabel(rt)?rt:void 0}}return _e.inherit!==!1?et:{}}function useCreateMotionContext(_e){const{initial:et,animate:tt}=getCurrentTreeVariants(_e,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:et,animate:tt}),[variantLabelsAsDependency(et),variantLabelsAsDependency(tt)])}function variantLabelsAsDependency(_e){return Array.isArray(_e)?_e.join(" "):_e}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const _e in featureProps)featureDefinitions[_e]={isEnabled:et=>featureProps[_e].some(tt=>!!et[tt])};function loadFeatures(_e){for(const et in _e)featureDefinitions[et]={...featureDefinitions[et],..._e[et]}}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function createMotionComponent({preloadedFeatures:_e,createVisualElement:et,useRender:tt,useVisualState:rt,Component:nt}){_e&&loadFeatures(_e);function it(ot,st){let lt;const ct={...reactExports.useContext(MotionConfigContext),...ot,layoutId:useLayoutId(ot)},{isStatic:ut}=ct,dt=useCreateMotionContext(ot),ft=rt(ot,ut);if(!ut&&isBrowser$2){dt.visualElement=useVisualElement(nt,ft,ct,et);const pt=reactExports.useContext(SwitchLayoutGroupContext),ht=reactExports.useContext(LazyContext).strict;dt.visualElement&&(lt=dt.visualElement.loadFeatures(ct,ht,_e,pt))}return reactExports.createElement(MotionContext.Provider,{value:dt},lt&&dt.visualElement?reactExports.createElement(lt,{visualElement:dt.visualElement,...ct}):null,tt(nt,ot,useMotionRef(ft,dt.visualElement,st),ft,ut,dt.visualElement))}const at=reactExports.forwardRef(it);return at[motionComponentSymbol]=nt,at}function useLayoutId({layoutId:_e}){const et=reactExports.useContext(LayoutGroupContext).id;return et&&_e!==void 0?et+"-"+_e:_e}function createMotionProxy(_e){function et(rt,nt={}){return createMotionComponent(_e(rt,nt))}if(typeof Proxy>"u")return et;const tt=new Map;return new Proxy(et,{get:(rt,nt)=>(tt.has(nt)||tt.set(nt,et(nt)),tt.get(nt))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(_e){return typeof _e!="string"||_e.includes("-")?!1:!!(lowercaseSVGElements.indexOf(_e)>-1||/[A-Z]/.test(_e))}const scaleCorrectors={};function addScaleCorrector(_e){Object.assign(scaleCorrectors,_e)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(_e,{layout:et,layoutId:tt}){return transformProps.has(_e)||_e.startsWith("origin")||(et||tt!==void 0)&&(!!scaleCorrectors[_e]||_e==="opacity")}const isMotionValue=_e=>!!(_e&&_e.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(_e,{enableHardwareAcceleration:et=!0,allowTransformNone:tt=!0},rt,nt){let it="";for(let at=0;at<numTransforms;at++){const ot=transformPropOrder[at];if(_e[ot]!==void 0){const st=translateAlias[ot]||ot;it+=`${st}(${_e[ot]}) `}}return et&&!_e.z&&(it+="translateZ(0)"),it=it.trim(),nt?it=nt(_e,rt?"":it):tt&&rt&&(it="none"),it}const checkStringStartsWith=_e=>et=>typeof et=="string"&&et.startsWith(_e),isCSSVariableName=checkStringStartsWith("--"),isCSSVariableToken=checkStringStartsWith("var(--"),cssVariableRegex=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,getValueAsType=(_e,et)=>et&&typeof _e=="number"?et.transform(_e):_e,clamp$1=(_e,et,tt)=>Math.min(Math.max(tt,_e),et),number={test:_e=>typeof _e=="number",parse:parseFloat,transform:_e=>_e},alpha={...number,transform:_e=>clamp$1(0,1,_e)},scale={...number,default:1},sanitize=_e=>Math.round(_e*1e5)/1e5,floatRegex=/(-)?([\d]*\.?[\d])+/g,colorRegex=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,singleColorRegex=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function isString$3(_e){return typeof _e=="string"}const createUnitType=_e=>({test:et=>isString$3(et)&&et.endsWith(_e)&&et.split(" ").length===1,parse:parseFloat,transform:et=>`${et}${_e}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:_e=>percent.parse(_e)/100,transform:_e=>percent.transform(_e*100)},int$1={...number,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int$1,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int$1};function buildHTMLStyles(_e,et,tt,rt){const{style:nt,vars:it,transform:at,transformOrigin:ot}=_e;let st=!1,lt=!1,ct=!0;for(const ut in et){const dt=et[ut];if(isCSSVariableName(ut)){it[ut]=dt;continue}const ft=numberValueTypes[ut],pt=getValueAsType(dt,ft);if(transformProps.has(ut)){if(st=!0,at[ut]=pt,!ct)continue;dt!==(ft.default||0)&&(ct=!1)}else ut.startsWith("origin")?(lt=!0,ot[ut]=pt):nt[ut]=pt}if(et.transform||(st||rt?nt.transform=buildTransform(_e.transform,tt,ct,rt):nt.transform&&(nt.transform="none")),lt){const{originX:ut="50%",originY:dt="50%",originZ:ft=0}=ot;nt.transformOrigin=`${ut} ${dt} ${ft}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(_e,et,tt){for(const rt in et)!isMotionValue(et[rt])&&!isForcedMotionValue(rt,tt)&&(_e[rt]=et[rt])}function useInitialMotionValues({transformTemplate:_e},et,tt){return reactExports.useMemo(()=>{const rt=createHtmlRenderState();return buildHTMLStyles(rt,et,{enableHardwareAcceleration:!tt},_e),Object.assign({},rt.vars,rt.style)},[et])}function useStyle(_e,et,tt){const rt=_e.style||{},nt={};return copyRawValuesOnly(nt,rt,_e),Object.assign(nt,useInitialMotionValues(_e,et,tt)),_e.transformValues?_e.transformValues(nt):nt}function useHTMLProps(_e,et,tt){const rt={},nt=useStyle(_e,et,tt);return _e.drag&&_e.dragListener!==!1&&(rt.draggable=!1,nt.userSelect=nt.WebkitUserSelect=nt.WebkitTouchCallout="none",nt.touchAction=_e.drag===!0?"none":`pan-${_e.drag==="x"?"y":"x"}`),_e.tabIndex===void 0&&(_e.onTap||_e.onTapStart||_e.whileTap)&&(rt.tabIndex=0),rt.style=nt,rt}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(_e){return _e.startsWith("while")||_e.startsWith("drag")&&_e!=="draggable"||_e.startsWith("layout")||_e.startsWith("onTap")||_e.startsWith("onPan")||_e.startsWith("onLayout")||validMotionProps.has(_e)}let shouldForward=_e=>!isValidMotionProp(_e);function loadExternalIsValidProp(_e){_e&&(shouldForward=et=>et.startsWith("on")?!isValidMotionProp(et):_e(et))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch(_e){}function filterProps(_e,et,tt){const rt={};for(const nt in _e)nt==="values"&&typeof _e.values=="object"||(shouldForward(nt)||tt===!0&&isValidMotionProp(nt)||!et&&!isValidMotionProp(nt)||_e.draggable&&nt.startsWith("onDrag"))&&(rt[nt]=_e[nt]);return rt}function calcOrigin$1(_e,et,tt){return typeof _e=="string"?_e:px.transform(et+tt*_e)}function calcSVGTransformOrigin(_e,et,tt){const rt=calcOrigin$1(et,_e.x,_e.width),nt=calcOrigin$1(tt,_e.y,_e.height);return`${rt} ${nt}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(_e,et,tt=1,rt=0,nt=!0){_e.pathLength=1;const it=nt?dashKeys:camelKeys;_e[it.offset]=px.transform(-rt);const at=px.transform(et),ot=px.transform(tt);_e[it.array]=`${at} ${ot}`}function buildSVGAttrs(_e,{attrX:et,attrY:tt,attrScale:rt,originX:nt,originY:it,pathLength:at,pathSpacing:ot=1,pathOffset:st=0,...lt},ct,ut,dt){if(buildHTMLStyles(_e,lt,ct,dt),ut){_e.style.viewBox&&(_e.attrs.viewBox=_e.style.viewBox);return}_e.attrs=_e.style,_e.style={};const{attrs:ft,style:pt,dimensions:ht}=_e;ft.transform&&(ht&&(pt.transform=ft.transform),delete ft.transform),ht&&(nt!==void 0||it!==void 0||pt.transform)&&(pt.transformOrigin=calcSVGTransformOrigin(ht,nt!==void 0?nt:.5,it!==void 0?it:.5)),et!==void 0&&(ft.x=et),tt!==void 0&&(ft.y=tt),rt!==void 0&&(ft.scale=rt),at!==void 0&&buildSVGPath(ft,at,ot,st,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=_e=>typeof _e=="string"&&_e.toLowerCase()==="svg";function useSVGProps(_e,et,tt,rt){const nt=reactExports.useMemo(()=>{const it=createSvgRenderState();return buildSVGAttrs(it,et,{enableHardwareAcceleration:!1},isSVGTag(rt),_e.transformTemplate),{...it.attrs,style:{...it.style}}},[et]);if(_e.style){const it={};copyRawValuesOnly(it,_e.style,_e),nt.style={...it,...nt.style}}return nt}function createUseRender(_e=!1){return(tt,rt,nt,{latestValues:it},at)=>{const st=(isSVGComponent(tt)?useSVGProps:useHTMLProps)(rt,it,at,tt),ct={...filterProps(rt,typeof tt=="string",_e),...st,ref:nt},{children:ut}=rt,dt=reactExports.useMemo(()=>isMotionValue(ut)?ut.get():ut,[ut]);return reactExports.createElement(tt,{...ct,children:dt})}}function renderHTML(_e,{style:et,vars:tt},rt,nt){Object.assign(_e.style,et,nt&&nt.getProjectionStyles(rt));for(const it in tt)_e.style.setProperty(it,tt[it])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(_e,et,tt,rt){renderHTML(_e,et,void 0,rt);for(const nt in et.attrs)_e.setAttribute(camelCaseAttributes.has(nt)?nt:camelToDash(nt),et.attrs[nt])}function scrapeMotionValuesFromProps$1(_e,et){const{style:tt}=_e,rt={};for(const nt in tt)(isMotionValue(tt[nt])||et.style&&isMotionValue(et.style[nt])||isForcedMotionValue(nt,_e))&&(rt[nt]=tt[nt]);return rt}function scrapeMotionValuesFromProps(_e,et){const tt=scrapeMotionValuesFromProps$1(_e,et);for(const rt in _e)if(isMotionValue(_e[rt])||isMotionValue(et[rt])){const nt=transformPropOrder.indexOf(rt)!==-1?"attr"+rt.charAt(0).toUpperCase()+rt.substring(1):rt;tt[nt]=_e[rt]}return tt}function resolveVariantFromProps(_e,et,tt,rt={},nt={}){return typeof et=="function"&&(et=et(tt!==void 0?tt:_e.custom,rt,nt)),typeof et=="string"&&(et=_e.variants&&_e.variants[et]),typeof et=="function"&&(et=et(tt!==void 0?tt:_e.custom,rt,nt)),et}function useConstant(_e){const et=reactExports.useRef(null);return et.current===null&&(et.current=_e()),et.current}const isKeyframesTarget=_e=>Array.isArray(_e),isCustomValue=_e=>!!(_e&&typeof _e=="object"&&_e.mix&&_e.toValue),resolveFinalValueInKeyframes=_e=>isKeyframesTarget(_e)?_e[_e.length-1]||0:_e;function resolveMotionValue(_e){const et=isMotionValue(_e)?_e.get():_e;return isCustomValue(et)?et.toValue():et}function makeState({scrapeMotionValuesFromProps:_e,createRenderState:et,onMount:tt},rt,nt,it){const at={latestValues:makeLatestValues(rt,nt,it,_e),renderState:et()};return tt&&(at.mount=ot=>tt(rt,ot,at)),at}const makeUseVisualState=_e=>(et,tt)=>{const rt=reactExports.useContext(MotionContext),nt=reactExports.useContext(PresenceContext),it=()=>makeState(_e,et,rt,nt);return tt?it():useConstant(it)};function makeLatestValues(_e,et,tt,rt){const nt={},it=rt(_e,{});for(const dt in it)nt[dt]=resolveMotionValue(it[dt]);let{initial:at,animate:ot}=_e;const st=isControllingVariants(_e),lt=isVariantNode(_e);et&&lt&&!st&&_e.inherit!==!1&&(at===void 0&&(at=et.initial),ot===void 0&&(ot=et.animate));let ct=tt?tt.initial===!1:!1;ct=ct||at===!1;const ut=ct?ot:at;return ut&&typeof ut!="boolean"&&!isAnimationControls(ut)&&(Array.isArray(ut)?ut:[ut]).forEach(ft=>{const pt=resolveVariantFromProps(_e,ft);if(!pt)return;const{transitionEnd:ht,transition:yt,...mt}=pt;for(const gt in mt){let vt=mt[gt];if(Array.isArray(vt)){const St=ct?vt.length-1:0;vt=vt[St]}vt!==null&&(nt[gt]=vt)}for(const gt in ht)nt[gt]=ht[gt]}),nt}const noop$5=_e=>_e;class Queue{constructor(){this.order=[],this.scheduled=new Set}add(et){if(!this.scheduled.has(et))return this.scheduled.add(et),this.order.push(et),!0}remove(et){const tt=this.order.indexOf(et);tt!==-1&&(this.order.splice(tt,1),this.scheduled.delete(et))}clear(){this.order.length=0,this.scheduled.clear()}}function createRenderStep(_e){let et=new Queue,tt=new Queue,rt=0,nt=!1,it=!1;const at=new WeakSet,ot={schedule:(st,lt=!1,ct=!1)=>{const ut=ct&&nt,dt=ut?et:tt;return lt&&at.add(st),dt.add(st)&&ut&&nt&&(rt=et.order.length),st},cancel:st=>{tt.remove(st),at.delete(st)},process:st=>{if(nt){it=!0;return}if(nt=!0,[et,tt]=[tt,et],tt.clear(),rt=et.order.length,rt)for(let lt=0;lt<rt;lt++){const ct=et.order[lt];ct(st),at.has(ct)&&(ot.schedule(ct),_e())}nt=!1,it&&(it=!1,ot.process(st))}};return ot}const stepsOrder=["prepare","read","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(_e,et){let tt=!1,rt=!0;const nt={delta:0,timestamp:0,isProcessing:!1},it=stepsOrder.reduce((ut,dt)=>(ut[dt]=createRenderStep(()=>tt=!0),ut),{}),at=ut=>it[ut].process(nt),ot=()=>{const ut=performance.now();tt=!1,nt.delta=rt?1e3/60:Math.max(Math.min(ut-nt.timestamp,maxElapsed),1),nt.timestamp=ut,nt.isProcessing=!0,stepsOrder.forEach(at),nt.isProcessing=!1,tt&&et&&(rt=!1,_e(ot))},st=()=>{tt=!0,rt=!0,nt.isProcessing||_e(ot)};return{schedule:stepsOrder.reduce((ut,dt)=>{const ft=it[dt];return ut[dt]=(pt,ht=!1,yt=!1)=>(tt||st(),ft.schedule(pt,ht,yt)),ut},{}),cancel:ut=>stepsOrder.forEach(dt=>it[dt].cancel(ut)),state:nt,steps:it}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$5,!0),svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(_e,et,{renderState:tt,latestValues:rt})=>{frame.read(()=>{try{tt.dimensions=typeof et.getBBox=="function"?et.getBBox():et.getBoundingClientRect()}catch{tt.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(tt,rt,{enableHardwareAcceleration:!1},isSVGTag(et.tagName),_e.transformTemplate),renderSVG(et,tt)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(_e,{forwardMotionProps:et=!1},tt,rt){return{...isSVGComponent(_e)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:tt,useRender:createUseRender(et),createVisualElement:rt,Component:_e}}function addDomEvent(_e,et,tt,rt={passive:!0}){return _e.addEventListener(et,tt,rt),()=>_e.removeEventListener(et,tt)}const isPrimaryPointer=_e=>_e.pointerType==="mouse"?typeof _e.button!="number"||_e.button<=0:_e.isPrimary!==!1;function extractEventInfo(_e,et="page"){return{point:{x:_e[et+"X"],y:_e[et+"Y"]}}}const addPointerInfo=_e=>et=>isPrimaryPointer(et)&&_e(et,extractEventInfo(et));function addPointerEvent(_e,et,tt,rt){return addDomEvent(_e,et,addPointerInfo(tt),rt)}const combineFunctions=(_e,et)=>tt=>et(_e(tt)),pipe=(..._e)=>_e.reduce(combineFunctions);function createLock(_e){let et=null;return()=>{const tt=()=>{et=null};return et===null?(et=_e,tt):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(_e){let et=!1;if(_e==="y")et=globalVerticalLock();else if(_e==="x")et=globalHorizontalLock();else{const tt=globalHorizontalLock(),rt=globalVerticalLock();tt&&rt?et=()=>{tt(),rt()}:(tt&&tt(),rt&&rt())}return et}function isDragActive(){const _e=getGlobalLock(!0);return _e?(_e(),!1):!0}class Feature{constructor(et){this.isMounted=!1,this.node=et}update(){}}function addHoverEvent(_e,et){const tt="pointer"+(et?"enter":"leave"),rt="onHover"+(et?"Start":"End"),nt=(it,at)=>{if(it.pointerType==="touch"||isDragActive())return;const ot=_e.getProps();_e.animationState&&ot.whileHover&&_e.animationState.setActive("whileHover",et),ot[rt]&&frame.update(()=>ot[rt](it,at))};return addPointerEvent(_e.current,tt,nt,{passive:!_e.getProps()[rt]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let et=!1;try{et=this.node.current.matches(":focus-visible")}catch{et=!0}!et||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(_e,et)=>et?_e===et?!0:isNodeOrChild(_e,et.parentElement):!1;function fireSyntheticPointerEvent(_e,et){if(!et)return;const tt=new PointerEvent("pointer"+_e);et(tt,extractEventInfo(tt))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop$5,this.removeEndListeners=noop$5,this.removeAccessibleListeners=noop$5,this.startPointerPress=(et,tt)=>{if(this.isPressing)return;this.removeEndListeners();const rt=this.node.getProps(),it=addPointerEvent(window,"pointerup",(ot,st)=>{if(!this.checkPressEnd())return;const{onTap:lt,onTapCancel:ct,globalTapTarget:ut}=this.node.getProps();frame.update(()=>{!ut&&!isNodeOrChild(this.node.current,ot.target)?ct&&ct(ot,st):lt&&lt(ot,st)})},{passive:!(rt.onTap||rt.onPointerUp)}),at=addPointerEvent(window,"pointercancel",(ot,st)=>this.cancelPress(ot,st),{passive:!(rt.onTapCancel||rt.onPointerCancel)});this.removeEndListeners=pipe(it,at),this.startPress(et,tt)},this.startAccessiblePress=()=>{const et=it=>{if(it.key!=="Enter"||this.isPressing)return;const at=ot=>{ot.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(st,lt)=>{const{onTap:ct}=this.node.getProps();ct&&frame.update(()=>ct(st,lt))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",at),fireSyntheticPointerEvent("down",(ot,st)=>{this.startPress(ot,st)})},tt=addDomEvent(this.node.current,"keydown",et),rt=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(it,at)=>this.cancelPress(it,at))},nt=addDomEvent(this.node.current,"blur",rt);this.removeAccessibleListeners=pipe(tt,nt)}}startPress(et,tt){this.isPressing=!0;const{onTapStart:rt,whileTap:nt}=this.node.getProps();nt&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),rt&&frame.update(()=>rt(et,tt))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress(et,tt){if(!this.checkPressEnd())return;const{onTapCancel:rt}=this.node.getProps();rt&&frame.update(()=>rt(et,tt))}mount(){const et=this.node.getProps(),tt=addPointerEvent(et.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(et.onTapStart||et.onPointerStart)}),rt=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(tt,rt)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=_e=>{const et=observerCallbacks.get(_e.target);et&&et(_e)},fireAllObserverCallbacks=_e=>{_e.forEach(fireObserverCallback)};function initIntersectionObserver({root:_e,...et}){const tt=_e||document;observers.has(tt)||observers.set(tt,{});const rt=observers.get(tt),nt=JSON.stringify(et);return rt[nt]||(rt[nt]=new IntersectionObserver(fireAllObserverCallbacks,{root:_e,...et})),rt[nt]}function observeIntersection(_e,et,tt){const rt=initIntersectionObserver(et);return observerCallbacks.set(_e,tt),rt.observe(_e),()=>{observerCallbacks.delete(_e),rt.unobserve(_e)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:et={}}=this.node.getProps(),{root:tt,margin:rt,amount:nt="some",once:it}=et,at={root:tt?tt.current:void 0,rootMargin:rt,threshold:typeof nt=="number"?nt:thresholdNames[nt]},ot=st=>{const{isIntersecting:lt}=st;if(this.isInView===lt||(this.isInView=lt,it&&!lt&&this.hasEnteredView))return;lt&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",lt);const{onViewportEnter:ct,onViewportLeave:ut}=this.node.getProps(),dt=lt?ct:ut;dt&&dt(st)};return observeIntersection(this.node.current,at,ot)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:et,prevProps:tt}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(et,tt))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:_e={}},{viewport:et={}}={}){return tt=>_e[tt]!==et[tt]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare$1(_e,et){if(!Array.isArray(et))return!1;const tt=et.length;if(tt!==_e.length)return!1;for(let rt=0;rt<tt;rt++)if(et[rt]!==_e[rt])return!1;return!0}function getCurrent(_e){const et={};return _e.values.forEach((tt,rt)=>et[rt]=tt.get()),et}function getVelocity$1(_e){const et={};return _e.values.forEach((tt,rt)=>et[rt]=tt.getVelocity()),et}function resolveVariant(_e,et,tt){const rt=_e.getProps();return resolveVariantFromProps(rt,et,tt!==void 0?tt:rt.custom,getCurrent(_e),getVelocity$1(_e))}let invariant=noop$5;const secondsToMilliseconds=_e=>_e*1e3,millisecondsToSeconds=_e=>_e/1e3,instantAnimationState={current:!1},isBezierDefinition=_e=>Array.isArray(_e)&&typeof _e[0]=="number";function isWaapiSupportedEasing(_e){return!!(!_e||typeof _e=="string"&&supportedWaapiEasing[_e]||isBezierDefinition(_e)||Array.isArray(_e)&&_e.every(isWaapiSupportedEasing))}const cubicBezierAsString=([_e,et,tt,rt])=>`cubic-bezier(${_e}, ${et}, ${tt}, ${rt})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(_e){if(_e)return isBezierDefinition(_e)?cubicBezierAsString(_e):Array.isArray(_e)?_e.map(mapEasingToNativeEasing):supportedWaapiEasing[_e]}function animateStyle(_e,et,tt,{delay:rt=0,duration:nt,repeat:it=0,repeatType:at="loop",ease:ot,times:st}={}){const lt={[et]:tt};st&&(lt.offset=st);const ct=mapEasingToNativeEasing(ot);return Array.isArray(ct)&&(lt.easing=ct),_e.animate(lt,{delay:rt,duration:nt,easing:Array.isArray(ct)?"linear":ct,fill:"both",iterations:it+1,direction:at==="reverse"?"alternate":"normal"})}function getFinalKeyframe(_e,{repeat:et,repeatType:tt="loop"}){const rt=et&&tt!=="loop"&&et%2===1?0:_e.length-1;return _e[rt]}const calcBezier=(_e,et,tt)=>(((1-3*tt+3*et)*_e+(3*tt-6*et))*_e+3*et)*_e,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(_e,et,tt,rt,nt){let it,at,ot=0;do at=et+(tt-et)/2,it=calcBezier(at,rt,nt)-_e,it>0?tt=at:et=at;while(Math.abs(it)>subdivisionPrecision&&++ot<subdivisionMaxIterations);return at}function cubicBezier(_e,et,tt,rt){if(_e===et&&tt===rt)return noop$5;const nt=it=>binarySubdivide(it,0,1,_e,tt);return it=>it===0||it===1?it:calcBezier(nt(it),et,rt)}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=_e=>Array.isArray(_e)&&typeof _e[0]!="number",mirrorEasing=_e=>et=>et<=.5?_e(2*et)/2:(2-_e(2*(1-et)))/2,reverseEasing=_e=>et=>1-_e(1-et),circIn=_e=>1-Math.sin(Math.acos(_e)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=_e=>(_e*=2)<1?.5*backIn(_e):.5*(2-Math.pow(2,-10*(_e-1))),easingLookup={linear:noop$5,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=_e=>{if(Array.isArray(_e)){invariant(_e.length===4);const[et,tt,rt,nt]=_e;return cubicBezier(et,tt,rt,nt)}else if(typeof _e=="string")return invariant(easingLookup[_e]!==void 0),easingLookup[_e];return _e},isColorString=(_e,et)=>tt=>!!(isString$3(tt)&&singleColorRegex.test(tt)&&tt.startsWith(_e)||et&&Object.prototype.hasOwnProperty.call(tt,et)),splitColor=(_e,et,tt)=>rt=>{if(!isString$3(rt))return rt;const[nt,it,at,ot]=rt.match(floatRegex);return{[_e]:parseFloat(nt),[et]:parseFloat(it),[tt]:parseFloat(at),alpha:ot!==void 0?parseFloat(ot):1}},clampRgbUnit=_e=>clamp$1(0,255,_e),rgbUnit={...number,transform:_e=>Math.round(clampRgbUnit(_e))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:_e,green:et,blue:tt,alpha:rt=1})=>"rgba("+rgbUnit.transform(_e)+", "+rgbUnit.transform(et)+", "+rgbUnit.transform(tt)+", "+sanitize(alpha.transform(rt))+")"};function parseHex(_e){let et="",tt="",rt="",nt="";return _e.length>5?(et=_e.substring(1,3),tt=_e.substring(3,5),rt=_e.substring(5,7),nt=_e.substring(7,9)):(et=_e.substring(1,2),tt=_e.substring(2,3),rt=_e.substring(3,4),nt=_e.substring(4,5),et+=et,tt+=tt,rt+=rt,nt+=nt),{red:parseInt(et,16),green:parseInt(tt,16),blue:parseInt(rt,16),alpha:nt?parseInt(nt,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:_e,saturation:et,lightness:tt,alpha:rt=1})=>"hsla("+Math.round(_e)+", "+percent.transform(sanitize(et))+", "+percent.transform(sanitize(tt))+", "+sanitize(alpha.transform(rt))+")"},color={test:_e=>rgba.test(_e)||hex.test(_e)||hsla.test(_e),parse:_e=>rgba.test(_e)?rgba.parse(_e):hsla.test(_e)?hsla.parse(_e):hex.parse(_e),transform:_e=>isString$3(_e)?_e:_e.hasOwnProperty("red")?rgba.transform(_e):hsla.transform(_e)},mix=(_e,et,tt)=>-tt*_e+tt*et+_e;function hueToRgb(_e,et,tt){return tt<0&&(tt+=1),tt>1&&(tt-=1),tt<1/6?_e+(et-_e)*6*tt:tt<1/2?et:tt<2/3?_e+(et-_e)*(2/3-tt)*6:_e}function hslaToRgba({hue:_e,saturation:et,lightness:tt,alpha:rt}){_e/=360,et/=100,tt/=100;let nt=0,it=0,at=0;if(!et)nt=it=at=tt;else{const ot=tt<.5?tt*(1+et):tt+et-tt*et,st=2*tt-ot;nt=hueToRgb(st,ot,_e+1/3),it=hueToRgb(st,ot,_e),at=hueToRgb(st,ot,_e-1/3)}return{red:Math.round(nt*255),green:Math.round(it*255),blue:Math.round(at*255),alpha:rt}}const mixLinearColor=(_e,et,tt)=>{const rt=_e*_e;return Math.sqrt(Math.max(0,tt*(et*et-rt)+rt))},colorTypes=[hex,rgba,hsla],getColorType=_e=>colorTypes.find(et=>et.test(_e));function asRGBA(_e){const et=getColorType(_e);let tt=et.parse(_e);return et===hsla&&(tt=hslaToRgba(tt)),tt}const mixColor=(_e,et)=>{const tt=asRGBA(_e),rt=asRGBA(et),nt={...tt};return it=>(nt.red=mixLinearColor(tt.red,rt.red,it),nt.green=mixLinearColor(tt.green,rt.green,it),nt.blue=mixLinearColor(tt.blue,rt.blue,it),nt.alpha=mix(tt.alpha,rt.alpha,it),rgba.transform(nt))};function test$1(_e){var et,tt;return isNaN(_e)&&isString$3(_e)&&(((et=_e.match(floatRegex))===null||et===void 0?void 0:et.length)||0)+(((tt=_e.match(colorRegex))===null||tt===void 0?void 0:tt.length)||0)>0}const cssVarTokeniser={regex:cssVariableRegex,countKey:"Vars",token:"${v}",parse:noop$5},colorTokeniser={regex:colorRegex,countKey:"Colors",token:"${c}",parse:color.parse},numberTokeniser={regex:floatRegex,countKey:"Numbers",token:"${n}",parse:number.parse};function tokenise(_e,{regex:et,countKey:tt,token:rt,parse:nt}){const it=_e.tokenised.match(et);it&&(_e["num"+tt]=it.length,_e.tokenised=_e.tokenised.replace(et,rt),_e.values.push(...it.map(nt)))}function analyseComplexValue(_e){const et=_e.toString(),tt={value:et,tokenised:et,values:[],numVars:0,numColors:0,numNumbers:0};return tt.value.includes("var(--")&&tokenise(tt,cssVarTokeniser),tokenise(tt,colorTokeniser),tokenise(tt,numberTokeniser),tt}function parseComplexValue(_e){return analyseComplexValue(_e).values}function createTransformer(_e){const{values:et,numColors:tt,numVars:rt,tokenised:nt}=analyseComplexValue(_e),it=et.length;return at=>{let ot=nt;for(let st=0;st<it;st++)st<rt?ot=ot.replace(cssVarTokeniser.token,at[st]):st<rt+tt?ot=ot.replace(colorTokeniser.token,color.transform(at[st])):ot=ot.replace(numberTokeniser.token,sanitize(at[st]));return ot}}const convertNumbersToZero=_e=>typeof _e=="number"?0:_e;function getAnimatableNone$1(_e){const et=parseComplexValue(_e);return createTransformer(_e)(et.map(convertNumbersToZero))}const complex={test:test$1,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},mixImmediate=(_e,et)=>tt=>`${tt>0?et:_e}`;function getMixer(_e,et){return typeof _e=="number"?tt=>mix(_e,et,tt):color.test(_e)?mixColor(_e,et):_e.startsWith("var(")?mixImmediate(_e,et):mixComplex(_e,et)}const mixArray=(_e,et)=>{const tt=[..._e],rt=tt.length,nt=_e.map((it,at)=>getMixer(it,et[at]));return it=>{for(let at=0;at<rt;at++)tt[at]=nt[at](it);return tt}},mixObject=(_e,et)=>{const tt={..._e,...et},rt={};for(const nt in tt)_e[nt]!==void 0&&et[nt]!==void 0&&(rt[nt]=getMixer(_e[nt],et[nt]));return nt=>{for(const it in rt)tt[it]=rt[it](nt);return tt}},mixComplex=(_e,et)=>{const tt=complex.createTransformer(et),rt=analyseComplexValue(_e),nt=analyseComplexValue(et);return rt.numVars===nt.numVars&&rt.numColors===nt.numColors&&rt.numNumbers>=nt.numNumbers?pipe(mixArray(rt.values,nt.values),tt):mixImmediate(_e,et)},progress=(_e,et,tt)=>{const rt=et-_e;return rt===0?1:(tt-_e)/rt},mixNumber=(_e,et)=>tt=>mix(_e,et,tt);function detectMixerFactory(_e){return typeof _e=="number"?mixNumber:typeof _e=="string"?color.test(_e)?mixColor:mixComplex:Array.isArray(_e)?mixArray:typeof _e=="object"?mixObject:mixNumber}function createMixers(_e,et,tt){const rt=[],nt=tt||detectMixerFactory(_e[0]),it=_e.length-1;for(let at=0;at<it;at++){let ot=nt(_e[at],_e[at+1]);if(et){const st=Array.isArray(et)?et[at]||noop$5:et;ot=pipe(st,ot)}rt.push(ot)}return rt}function interpolate(_e,et,{clamp:tt=!0,ease:rt,mixer:nt}={}){const it=_e.length;if(invariant(it===et.length),it===1)return()=>et[0];_e[0]>_e[it-1]&&(_e=[..._e].reverse(),et=[...et].reverse());const at=createMixers(et,rt,nt),ot=at.length,st=lt=>{let ct=0;if(ot>1)for(;ct<_e.length-2&&!(lt<_e[ct+1]);ct++);const ut=progress(_e[ct],_e[ct+1],lt);return at[ct](ut)};return tt?lt=>st(clamp$1(_e[0],_e[it-1],lt)):st}function fillOffset(_e,et){const tt=_e[_e.length-1];for(let rt=1;rt<=et;rt++){const nt=progress(0,et,rt);_e.push(mix(tt,1,nt))}}function defaultOffset(_e){const et=[0];return fillOffset(et,_e.length-1),et}function convertOffsetToTimes(_e,et){return _e.map(tt=>tt*et)}function defaultEasing(_e,et){return _e.map(()=>et||easeInOut).splice(0,_e.length-1)}function keyframes({duration:_e=300,keyframes:et,times:tt,ease:rt="easeInOut"}){const nt=isEasingArray(rt)?rt.map(easingDefinitionToFunction):easingDefinitionToFunction(rt),it={done:!1,value:et[0]},at=convertOffsetToTimes(tt&&tt.length===et.length?tt:defaultOffset(et),_e),ot=interpolate(at,et,{ease:Array.isArray(nt)?nt:defaultEasing(et,nt)});return{calculatedDuration:_e,next:st=>(it.value=ot(st),it.done=st>=_e,it)}}function velocityPerSecond(_e,et){return et?_e*(1e3/et):0}const velocitySampleDuration=5;function calcGeneratorVelocity(_e,et,tt){const rt=Math.max(et-velocitySampleDuration,0);return velocityPerSecond(tt-_e(rt),et-rt)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:_e=800,bounce:et=.25,velocity:tt=0,mass:rt=1}){let nt,it,at=1-et;at=clamp$1(minDamping,maxDamping,at),_e=clamp$1(minDuration,maxDuration$1,millisecondsToSeconds(_e)),at<1?(nt=lt=>{const ct=lt*at,ut=ct*_e,dt=ct-tt,ft=calcAngularFreq(lt,at),pt=Math.exp(-ut);return safeMin-dt/ft*pt},it=lt=>{const ut=lt*at*_e,dt=ut*tt+tt,ft=Math.pow(at,2)*Math.pow(lt,2)*_e,pt=Math.exp(-ut),ht=calcAngularFreq(Math.pow(lt,2),at);return(-nt(lt)+safeMin>0?-1:1)*((dt-ft)*pt)/ht}):(nt=lt=>{const ct=Math.exp(-lt*_e),ut=(lt-tt)*_e+1;return-safeMin+ct*ut},it=lt=>{const ct=Math.exp(-lt*_e),ut=(tt-lt)*(_e*_e);return ct*ut});const ot=5/_e,st=approximateRoot(nt,it,ot);if(_e=secondsToMilliseconds(_e),isNaN(st))return{stiffness:100,damping:10,duration:_e};{const lt=Math.pow(st,2)*rt;return{stiffness:lt,damping:at*2*Math.sqrt(rt*lt),duration:_e}}}const rootIterations=12;function approximateRoot(_e,et,tt){let rt=tt;for(let nt=1;nt<rootIterations;nt++)rt=rt-_e(rt)/et(rt);return rt}function calcAngularFreq(_e,et){return _e*Math.sqrt(1-et*et)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(_e,et){return et.some(tt=>_e[tt]!==void 0)}function getSpringOptions(_e){let et={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,..._e};if(!isSpringType(_e,physicsKeys)&&isSpringType(_e,durationKeys)){const tt=findSpring(_e);et={...et,...tt,mass:1},et.isResolvedFromDuration=!0}return et}function spring({keyframes:_e,restDelta:et,restSpeed:tt,...rt}){const nt=_e[0],it=_e[_e.length-1],at={done:!1,value:nt},{stiffness:ot,damping:st,mass:lt,duration:ct,velocity:ut,isResolvedFromDuration:dt}=getSpringOptions({...rt,velocity:-millisecondsToSeconds(rt.velocity||0)}),ft=ut||0,pt=st/(2*Math.sqrt(ot*lt)),ht=it-nt,yt=millisecondsToSeconds(Math.sqrt(ot/lt)),mt=Math.abs(ht)<5;tt||(tt=mt?.01:2),et||(et=mt?.005:.5);let gt;if(pt<1){const vt=calcAngularFreq(yt,pt);gt=St=>{const xt=Math.exp(-pt*yt*St);return it-xt*((ft+pt*yt*ht)/vt*Math.sin(vt*St)+ht*Math.cos(vt*St))}}else if(pt===1)gt=vt=>it-Math.exp(-yt*vt)*(ht+(ft+yt*ht)*vt);else{const vt=yt*Math.sqrt(pt*pt-1);gt=St=>{const xt=Math.exp(-pt*yt*St),Ct=Math.min(vt*St,300);return it-xt*((ft+pt*yt*ht)*Math.sinh(Ct)+vt*ht*Math.cosh(Ct))/vt}}return{calculatedDuration:dt&&ct||null,next:vt=>{const St=gt(vt);if(dt)at.done=vt>=ct;else{let xt=ft;vt!==0&&(pt<1?xt=calcGeneratorVelocity(gt,vt,St):xt=0);const Ct=Math.abs(xt)<=tt,wt=Math.abs(it-St)<=et;at.done=Ct&&wt}return at.value=at.done?it:St,at}}}function inertia({keyframes:_e,velocity:et=0,power:tt=.8,timeConstant:rt=325,bounceDamping:nt=10,bounceStiffness:it=500,modifyTarget:at,min:ot,max:st,restDelta:lt=.5,restSpeed:ct}){const ut=_e[0],dt={done:!1,value:ut},ft=_t=>ot!==void 0&&_t<ot||st!==void 0&&_t>st,pt=_t=>ot===void 0?st:st===void 0||Math.abs(ot-_t)<Math.abs(st-_t)?ot:st;let ht=tt*et;const yt=ut+ht,mt=at===void 0?yt:at(yt);mt!==yt&&(ht=mt-ut);const gt=_t=>-ht*Math.exp(-_t/rt),vt=_t=>mt+gt(_t),St=_t=>{const Ot=gt(_t),kt=vt(_t);dt.done=Math.abs(Ot)<=lt,dt.value=dt.done?mt:kt};let xt,Ct;const wt=_t=>{ft(dt.value)&&(xt=_t,Ct=spring({keyframes:[dt.value,pt(dt.value)],velocity:calcGeneratorVelocity(vt,_t,dt.value),damping:nt,stiffness:it,restDelta:lt,restSpeed:ct}))};return wt(0),{calculatedDuration:null,next:_t=>{let Ot=!1;return!Ct&&xt===void 0&&(Ot=!0,St(_t),wt(_t)),xt!==void 0&&_t>xt?Ct.next(_t-xt):(!Ot&&St(_t),dt)}}}const frameloopDriver=_e=>{const et=({timestamp:tt})=>_e(tt);return{start:()=>frame.update(et,!0),stop:()=>cancelFrame(et),now:()=>frameData.isProcessing?frameData.timestamp:performance.now()}},maxGeneratorDuration=2e4;function calcGeneratorDuration(_e){let et=0;const tt=50;let rt=_e.next(et);for(;!rt.done&&et<maxGeneratorDuration;)et+=tt,rt=_e.next(et);return et>=maxGeneratorDuration?1/0:et}const types={decay:inertia,inertia,tween:keyframes,keyframes,spring};function animateValue({autoplay:_e=!0,delay:et=0,driver:tt=frameloopDriver,keyframes:rt,type:nt="keyframes",repeat:it=0,repeatDelay:at=0,repeatType:ot="loop",onPlay:st,onStop:lt,onComplete:ct,onUpdate:ut,...dt}){let ft=1,pt=!1,ht,yt;const mt=()=>{yt=new Promise(jt=>{ht=jt})};mt();let gt;const vt=types[nt]||keyframes;let St;vt!==keyframes&&typeof rt[0]!="number"&&(St=interpolate([0,100],rt,{clamp:!1}),rt=[0,100]);const xt=vt({...dt,keyframes:rt});let Ct;ot==="mirror"&&(Ct=vt({...dt,keyframes:[...rt].reverse(),velocity:-(dt.velocity||0)}));let wt="idle",_t=null,Ot=null,kt=null;xt.calculatedDuration===null&&it&&(xt.calculatedDuration=calcGeneratorDuration(xt));const{calculatedDuration:Lt}=xt;let $t=1/0,zt=1/0;Lt!==null&&($t=Lt+at,zt=$t*(it+1)-at);let Vt=0;const Ut=jt=>{if(Ot===null)return;ft>0&&(Ot=Math.min(Ot,jt)),ft<0&&(Ot=Math.min(jt-zt/ft,Ot)),_t!==null?Vt=_t:Vt=Math.round(jt-Ot)*ft;const nr=Vt-et*(ft>=0?1:-1),cr=ft>=0?nr<0:nr>zt;Vt=Math.max(nr,0),wt==="finished"&&_t===null&&(Vt=zt);let ur=Vt,pr=xt;if(it){const mr=Math.min(Vt,zt)/$t;let Ir=Math.floor(mr),br=mr%1;!br&&mr>=1&&(br=1),br===1&&Ir--,Ir=Math.min(Ir,it+1),!!(Ir%2)&&(ot==="reverse"?(br=1-br,at&&(br-=at/$t)):ot==="mirror"&&(pr=Ct)),ur=clamp$1(0,1,br)*$t}const xr=cr?{done:!1,value:rt[0]}:pr.next(ur);St&&(xr.value=St(xr.value));let{done:vr}=xr;!cr&&Lt!==null&&(vr=ft>=0?Vt>=zt:Vt<=0);const Br=_t===null&&(wt==="finished"||wt==="running"&&vr);return ut&&ut(xr.value),Br&&Tt(),xr},It=()=>{gt&&gt.stop(),gt=void 0},Dt=()=>{wt="idle",It(),ht(),mt(),Ot=kt=null},Tt=()=>{wt="finished",ct&&ct(),It(),ht()},Rt=()=>{if(pt)return;gt||(gt=tt(Ut));const jt=gt.now();st&&st(),_t!==null?Ot=jt-_t:(!Ot||wt==="finished")&&(Ot=jt),wt==="finished"&&mt(),kt=Ot,_t=null,wt="running",gt.start()};_e&&Rt();const Ft={then(jt,nr){return yt.then(jt,nr)},get time(){return millisecondsToSeconds(Vt)},set time(jt){jt=secondsToMilliseconds(jt),Vt=jt,_t!==null||!gt||ft===0?_t=jt:Ot=gt.now()-jt/ft},get duration(){const jt=xt.calculatedDuration===null?calcGeneratorDuration(xt):xt.calculatedDuration;return millisecondsToSeconds(jt)},get speed(){return ft},set speed(jt){jt===ft||!gt||(ft=jt,Ft.time=millisecondsToSeconds(Vt))},get state(){return wt},play:Rt,pause:()=>{wt="paused",_t=Vt},stop:()=>{pt=!0,wt!=="idle"&&(wt="idle",lt&&lt(),Dt())},cancel:()=>{kt!==null&&Ut(kt),Dt()},complete:()=>{wt="finished"},sample:jt=>(Ot=0,Ut(jt))};return Ft}function memo(_e){let et;return()=>(et===void 0&&(et=_e()),et)}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),acceleratedValues=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),sampleDelta=10,maxDuration=2e4,requiresPregeneratedKeyframes=(_e,et)=>et.type==="spring"||_e==="backgroundColor"||!isWaapiSupportedEasing(et.ease);function createAcceleratedAnimation(_e,et,{onUpdate:tt,onComplete:rt,...nt}){if(!(supportsWaapi()&&acceleratedValues.has(et)&&!nt.repeatDelay&&nt.repeatType!=="mirror"&&nt.damping!==0&&nt.type!=="inertia"))return!1;let at=!1,ot,st,lt=!1;const ct=()=>{st=new Promise(vt=>{ot=vt})};ct();let{keyframes:ut,duration:dt=300,ease:ft,times:pt}=nt;if(requiresPregeneratedKeyframes(et,nt)){const vt=animateValue({...nt,repeat:0,delay:0});let St={done:!1,value:ut[0]};const xt=[];let Ct=0;for(;!St.done&&Ct<maxDuration;)St=vt.sample(Ct),xt.push(St.value),Ct+=sampleDelta;pt=void 0,ut=xt,dt=Ct-sampleDelta,ft="linear"}const ht=animateStyle(_e.owner.current,et,ut,{...nt,duration:dt,ease:ft,times:pt}),yt=()=>{lt=!1,ht.cancel()},mt=()=>{lt=!0,frame.update(yt),ot(),ct()};return ht.onfinish=()=>{lt||(_e.set(getFinalKeyframe(ut,nt)),rt&&rt(),mt())},{then(vt,St){return st.then(vt,St)},attachTimeline(vt){return ht.timeline=vt,ht.onfinish=null,noop$5},get time(){return millisecondsToSeconds(ht.currentTime||0)},set time(vt){ht.currentTime=secondsToMilliseconds(vt)},get speed(){return ht.playbackRate},set speed(vt){ht.playbackRate=vt},get duration(){return millisecondsToSeconds(dt)},play:()=>{at||(ht.play(),cancelFrame(yt))},pause:()=>ht.pause(),stop:()=>{if(at=!0,ht.playState==="idle")return;const{currentTime:vt}=ht;if(vt){const St=animateValue({...nt,autoplay:!1});_e.setWithVelocity(St.sample(vt-sampleDelta).value,St.sample(vt).value,sampleDelta)}mt()},complete:()=>{lt||ht.finish()},cancel:mt}}function createInstantAnimation({keyframes:_e,delay:et,onUpdate:tt,onComplete:rt}){const nt=()=>(tt&&tt(_e[_e.length-1]),rt&&rt(),{time:0,speed:1,duration:0,play:noop$5,pause:noop$5,stop:noop$5,then:it=>(it(),Promise.resolve()),cancel:noop$5,complete:noop$5});return et?animateValue({keyframes:[0,1],duration:0,delay:et,onComplete:nt}):nt()}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=_e=>({type:"spring",stiffness:550,damping:_e===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(_e,{keyframes:et})=>et.length>2?keyframesTransition:transformProps.has(_e)?_e.startsWith("scale")?criticallyDampedSpring(et[1]):underDampedSpring:ease,isAnimatable=(_e,et)=>_e==="zIndex"?!1:!!(typeof et=="number"||Array.isArray(et)||typeof et=="string"&&(complex.test(et)||et==="0")&&!et.startsWith("url(")),maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(_e){const[et,tt]=_e.slice(0,-1).split("(");if(et==="drop-shadow")return _e;const[rt]=tt.match(floatRegex)||[];if(!rt)return _e;const nt=tt.replace(rt,"");let it=maxDefaults.has(et)?1:0;return rt!==tt&&(it*=100),et+"("+it+nt+")"}const functionRegex=/([a-z-]*)\(.*?\)/g,filter$1={...complex,getAnimatableNone:_e=>{const et=_e.match(functionRegex);return et?et.map(applyDefaultFilter).join(" "):_e}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter:filter$1,WebkitFilter:filter$1},getDefaultValueType=_e=>defaultValueTypes[_e];function getAnimatableNone(_e,et){let tt=getDefaultValueType(_e);return tt!==filter$1&&(tt=complex),tt.getAnimatableNone?tt.getAnimatableNone(et):void 0}const isZeroValueString=_e=>/^0[^.\s]+$/.test(_e);function isNone(_e){if(typeof _e=="number")return _e===0;if(_e!==null)return _e==="none"||_e==="0"||isZeroValueString(_e)}function getKeyframes(_e,et,tt,rt){const nt=isAnimatable(et,tt);let it;Array.isArray(tt)?it=[...tt]:it=[null,tt];const at=rt.from!==void 0?rt.from:_e.get();let ot;const st=[];for(let lt=0;lt<it.length;lt++)it[lt]===null&&(it[lt]=lt===0?at:it[lt-1]),isNone(it[lt])&&st.push(lt),typeof it[lt]=="string"&&it[lt]!=="none"&&it[lt]!=="0"&&(ot=it[lt]);if(nt&&st.length&&ot)for(let lt=0;lt<st.length;lt++){const ct=st[lt];it[ct]=getAnimatableNone(et,ot)}return it}function isTransitionDefined({when:_e,delay:et,delayChildren:tt,staggerChildren:rt,staggerDirection:nt,repeat:it,repeatType:at,repeatDelay:ot,from:st,elapsed:lt,...ct}){return!!Object.keys(ct).length}function getValueTransition(_e,et){return _e[et]||_e.default||_e}const MotionGlobalConfig={skipAnimations:!1},animateMotionValue=(_e,et,tt,rt={})=>nt=>{const it=getValueTransition(rt,_e)||{},at=it.delay||rt.delay||0;let{elapsed:ot=0}=rt;ot=ot-secondsToMilliseconds(at);const st=getKeyframes(et,_e,tt,it),lt=st[0],ct=st[st.length-1],ut=isAnimatable(_e,lt),dt=isAnimatable(_e,ct);let ft={keyframes:st,velocity:et.getVelocity(),ease:"easeOut",...it,delay:-ot,onUpdate:pt=>{et.set(pt),it.onUpdate&&it.onUpdate(pt)},onComplete:()=>{nt(),it.onComplete&&it.onComplete()}};if(isTransitionDefined(it)||(ft={...ft,...getDefaultTransition(_e,ft)}),ft.duration&&(ft.duration=secondsToMilliseconds(ft.duration)),ft.repeatDelay&&(ft.repeatDelay=secondsToMilliseconds(ft.repeatDelay)),!ut||!dt||instantAnimationState.current||it.type===!1||MotionGlobalConfig.skipAnimations)return createInstantAnimation(ft);if(!rt.isHandoff&&et.owner&&et.owner.current instanceof HTMLElement&&!et.owner.getProps().onUpdate){const pt=createAcceleratedAnimation(et,_e,ft);if(pt)return pt}return animateValue(ft)};function isWillChangeMotionValue(_e){return!!(isMotionValue(_e)&&_e.add)}const isNumericalString=_e=>/^\-?\d*\.?\d+$/.test(_e);function addUniqueItem(_e,et){_e.indexOf(et)===-1&&_e.push(et)}function removeItem(_e,et){const tt=_e.indexOf(et);tt>-1&&_e.splice(tt,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(et){return addUniqueItem(this.subscriptions,et),()=>removeItem(this.subscriptions,et)}notify(et,tt,rt){const nt=this.subscriptions.length;if(nt)if(nt===1)this.subscriptions[0](et,tt,rt);else for(let it=0;it<nt;it++){const at=this.subscriptions[it];at&&at(et,tt,rt)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const isFloat=_e=>!isNaN(parseFloat(_e));class MotionValue{constructor(et,tt={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(rt,nt=!0)=>{this.prev=this.current,this.current=rt;const{delta:it,timestamp:at}=frameData;this.lastUpdated!==at&&(this.timeDelta=it,this.lastUpdated=at,frame.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),nt&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>frame.postRender(this.velocityCheck),this.velocityCheck=({timestamp:rt})=>{rt!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=et,this.canTrackVelocity=isFloat(this.current),this.owner=tt.owner}onChange(et){return this.on("change",et)}on(et,tt){this.events[et]||(this.events[et]=new SubscriptionManager);const rt=this.events[et].add(tt);return et==="change"?()=>{rt(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:rt}clearListeners(){for(const et in this.events)this.events[et].clear()}attach(et,tt){this.passiveEffect=et,this.stopPassiveEffect=tt}set(et,tt=!0){!tt||!this.passiveEffect?this.updateAndNotify(et,tt):this.passiveEffect(et,this.updateAndNotify)}setWithVelocity(et,tt,rt){this.set(tt),this.prev=et,this.timeDelta=rt}jump(et){this.updateAndNotify(et),this.prev=et,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(et){return this.stop(),new Promise(tt=>{this.hasAnimated=!0,this.animation=et(tt),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(_e,et){return new MotionValue(_e,et)}const testValueType=_e=>et=>et.test(_e),auto={test:_e=>_e==="auto",parse:_e=>_e},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=_e=>dimensionValueTypes.find(testValueType(_e)),valueTypes=[...dimensionValueTypes,color,complex],findValueType=_e=>valueTypes.find(testValueType(_e));function setMotionValue(_e,et,tt){_e.hasValue(et)?_e.getValue(et).set(tt):_e.addValue(et,motionValue(tt))}function setTarget(_e,et){const tt=resolveVariant(_e,et);let{transitionEnd:rt={},transition:nt={},...it}=tt?_e.makeTargetAnimatable(tt,!1):{};it={...it,...rt};for(const at in it){const ot=resolveFinalValueInKeyframes(it[at]);setMotionValue(_e,at,ot)}}function checkTargetForNewValues(_e,et,tt){var rt,nt;const it=Object.keys(et).filter(ot=>!_e.hasValue(ot)),at=it.length;if(at)for(let ot=0;ot<at;ot++){const st=it[ot],lt=et[st];let ct=null;Array.isArray(lt)&&(ct=lt[0]),ct===null&&(ct=(nt=(rt=tt[st])!==null&&rt!==void 0?rt:_e.readValue(st))!==null&&nt!==void 0?nt:et[st]),ct!=null&&(typeof ct=="string"&&(isNumericalString(ct)||isZeroValueString(ct))?ct=parseFloat(ct):!findValueType(ct)&&complex.test(lt)&&(ct=getAnimatableNone(st,lt)),_e.addValue(st,motionValue(ct,{owner:_e})),tt[st]===void 0&&(tt[st]=ct),ct!==null&&_e.setBaseTarget(st,ct))}}function getOriginFromTransition(_e,et){return et?(et[_e]||et.default||et).from:void 0}function getOrigin(_e,et,tt){const rt={};for(const nt in _e){const it=getOriginFromTransition(nt,et);if(it!==void 0)rt[nt]=it;else{const at=tt.getValue(nt);at&&(rt[nt]=at.get())}}return rt}function shouldBlockAnimation({protectedKeys:_e,needsAnimating:et},tt){const rt=_e.hasOwnProperty(tt)&&et[tt]!==!0;return et[tt]=!1,rt}function hasKeyframesChanged(_e,et){const tt=_e.get();if(Array.isArray(et)){for(let rt=0;rt<et.length;rt++)if(et[rt]!==tt)return!0}else return tt!==et}function animateTarget(_e,et,{delay:tt=0,transitionOverride:rt,type:nt}={}){let{transition:it=_e.getDefaultTransition(),transitionEnd:at,...ot}=_e.makeTargetAnimatable(et);const st=_e.getValue("willChange");rt&&(it=rt);const lt=[],ct=nt&&_e.animationState&&_e.animationState.getState()[nt];for(const ut in ot){const dt=_e.getValue(ut),ft=ot[ut];if(!dt||ft===void 0||ct&&shouldBlockAnimation(ct,ut))continue;const pt={delay:tt,elapsed:0,...getValueTransition(it||{},ut)};if(window.HandoffAppearAnimations){const mt=_e.getProps()[optimizedAppearDataAttribute];if(mt){const gt=window.HandoffAppearAnimations(mt,ut,dt,frame);gt!==null&&(pt.elapsed=gt,pt.isHandoff=!0)}}let ht=!pt.isHandoff&&!hasKeyframesChanged(dt,ft);if(pt.type==="spring"&&(dt.getVelocity()||pt.velocity)&&(ht=!1),dt.animation&&(ht=!1),ht)continue;dt.start(animateMotionValue(ut,dt,ft,_e.shouldReduceMotion&&transformProps.has(ut)?{type:!1}:pt));const yt=dt.animation;isWillChangeMotionValue(st)&&(st.add(ut),yt.then(()=>st.remove(ut))),lt.push(yt)}return at&&Promise.all(lt).then(()=>{at&&setTarget(_e,at)}),lt}function animateVariant(_e,et,tt={}){const rt=resolveVariant(_e,et,tt.custom);let{transition:nt=_e.getDefaultTransition()||{}}=rt||{};tt.transitionOverride&&(nt=tt.transitionOverride);const it=rt?()=>Promise.all(animateTarget(_e,rt,tt)):()=>Promise.resolve(),at=_e.variantChildren&&_e.variantChildren.size?(st=0)=>{const{delayChildren:lt=0,staggerChildren:ct,staggerDirection:ut}=nt;return animateChildren(_e,et,lt+st,ct,ut,tt)}:()=>Promise.resolve(),{when:ot}=nt;if(ot){const[st,lt]=ot==="beforeChildren"?[it,at]:[at,it];return st().then(()=>lt())}else return Promise.all([it(),at(tt.delay)])}function animateChildren(_e,et,tt=0,rt=0,nt=1,it){const at=[],ot=(_e.variantChildren.size-1)*rt,st=nt===1?(lt=0)=>lt*rt:(lt=0)=>ot-lt*rt;return Array.from(_e.variantChildren).sort(sortByTreeOrder).forEach((lt,ct)=>{lt.notify("AnimationStart",et),at.push(animateVariant(lt,et,{...it,delay:tt+st(ct)}).then(()=>lt.notify("AnimationComplete",et)))}),Promise.all(at)}function sortByTreeOrder(_e,et){return _e.sortNodePosition(et)}function animateVisualElement(_e,et,tt={}){_e.notify("AnimationStart",et);let rt;if(Array.isArray(et)){const nt=et.map(it=>animateVariant(_e,it,tt));rt=Promise.all(nt)}else if(typeof et=="string")rt=animateVariant(_e,et,tt);else{const nt=typeof et=="function"?resolveVariant(_e,et,tt.custom):et;rt=Promise.all(animateTarget(_e,nt,tt))}return rt.then(()=>_e.notify("AnimationComplete",et))}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(_e){return et=>Promise.all(et.map(({animation:tt,options:rt})=>animateVisualElement(_e,tt,rt)))}function createAnimationState(_e){let et=animateList(_e);const tt=createState();let rt=!0;const nt=(st,lt)=>{const ct=resolveVariant(_e,lt);if(ct){const{transition:ut,transitionEnd:dt,...ft}=ct;st={...st,...ft,...dt}}return st};function it(st){et=st(_e)}function at(st,lt){const ct=_e.getProps(),ut=_e.getVariantContext(!0)||{},dt=[],ft=new Set;let pt={},ht=1/0;for(let mt=0;mt<numAnimationTypes;mt++){const gt=reversePriorityOrder[mt],vt=tt[gt],St=ct[gt]!==void 0?ct[gt]:ut[gt],xt=isVariantLabel(St),Ct=gt===lt?vt.isActive:null;Ct===!1&&(ht=mt);let wt=St===ut[gt]&&St!==ct[gt]&&xt;if(wt&&rt&&_e.manuallyAnimateOnMount&&(wt=!1),vt.protectedKeys={...pt},!vt.isActive&&Ct===null||!St&&!vt.prevProp||isAnimationControls(St)||typeof St=="boolean")continue;let Ot=checkVariantsDidChange(vt.prevProp,St)||gt===lt&&vt.isActive&&!wt&&xt||mt>ht&&xt,kt=!1;const Lt=Array.isArray(St)?St:[St];let $t=Lt.reduce(nt,{});Ct===!1&&($t={});const{prevResolvedValues:zt={}}=vt,Vt={...zt,...$t},Ut=It=>{Ot=!0,ft.has(It)&&(kt=!0,ft.delete(It)),vt.needsAnimating[It]=!0};for(const It in Vt){const Dt=$t[It],Tt=zt[It];if(pt.hasOwnProperty(It))continue;let Rt=!1;isKeyframesTarget(Dt)&&isKeyframesTarget(Tt)?Rt=!shallowCompare$1(Dt,Tt):Rt=Dt!==Tt,Rt?Dt!==void 0?Ut(It):ft.add(It):Dt!==void 0&&ft.has(It)?Ut(It):vt.protectedKeys[It]=!0}vt.prevProp=St,vt.prevResolvedValues=$t,vt.isActive&&(pt={...pt,...$t}),rt&&_e.blockInitialAnimation&&(Ot=!1),Ot&&(!wt||kt)&&dt.push(...Lt.map(It=>({animation:It,options:{type:gt,...st}})))}if(ft.size){const mt={};ft.forEach(gt=>{const vt=_e.getBaseTarget(gt);vt!==void 0&&(mt[gt]=vt)}),dt.push({animation:mt})}let yt=!!dt.length;return rt&&(ct.initial===!1||ct.initial===ct.animate)&&!_e.manuallyAnimateOnMount&&(yt=!1),rt=!1,yt?et(dt):Promise.resolve()}function ot(st,lt,ct){var ut;if(tt[st].isActive===lt)return Promise.resolve();(ut=_e.variantChildren)===null||ut===void 0||ut.forEach(ft=>{var pt;return(pt=ft.animationState)===null||pt===void 0?void 0:pt.setActive(st,lt)}),tt[st].isActive=lt;const dt=at(ct,st);for(const ft in tt)tt[ft].protectedKeys={};return dt}return{animateChanges:at,setActive:ot,setAnimateFunction:it,getState:()=>tt}}function checkVariantsDidChange(_e,et){return typeof et=="string"?et!==_e:Array.isArray(et)?!shallowCompare$1(et,_e):!1}function createTypeState(_e=!1){return{isActive:_e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature{constructor(et){super(et),et.animationState||(et.animationState=createAnimationState(et))}updateAnimationControlsSubscription(){const{animate:et}=this.node.getProps();this.unmount(),isAnimationControls(et)&&(this.unmount=et.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:et}=this.node.getProps(),{animate:tt}=this.node.prevProps||{};et!==tt&&this.updateAnimationControlsSubscription()}unmount(){}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:et,onExitComplete:tt,custom:rt}=this.node.presenceContext,{isPresent:nt}=this.node.prevPresenceContext||{};if(!this.node.animationState||et===nt)return;const it=this.node.animationState.setActive("exit",!et,{custom:rt??this.node.getProps().custom});tt&&!et&&it.then(()=>tt(this.id))}mount(){const{register:et}=this.node.presenceContext||{};et&&(this.unmount=et(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(_e,et)=>Math.abs(_e-et);function distance2D(_e,et){const tt=distance(_e.x,et.x),rt=distance(_e.y,et.y);return Math.sqrt(tt**2+rt**2)}class PanSession{constructor(et,tt,{transformPagePoint:rt,contextWindow:nt,dragSnapToOrigin:it=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const ut=getPanInfo(this.lastMoveEventInfo,this.history),dt=this.startEvent!==null,ft=distance2D(ut.offset,{x:0,y:0})>=3;if(!dt&&!ft)return;const{point:pt}=ut,{timestamp:ht}=frameData;this.history.push({...pt,timestamp:ht});const{onStart:yt,onMove:mt}=this.handlers;dt||(yt&&yt(this.lastMoveEvent,ut),this.startEvent=this.lastMoveEvent),mt&&mt(this.lastMoveEvent,ut)},this.handlePointerMove=(ut,dt)=>{this.lastMoveEvent=ut,this.lastMoveEventInfo=transformPoint(dt,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(ut,dt)=>{this.end();const{onEnd:ft,onSessionEnd:pt,resumeAnimation:ht}=this.handlers;if(this.dragSnapToOrigin&&ht&&ht(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const yt=getPanInfo(ut.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(dt,this.transformPagePoint),this.history);this.startEvent&&ft&&ft(ut,yt),pt&&pt(ut,yt)},!isPrimaryPointer(et))return;this.dragSnapToOrigin=it,this.handlers=tt,this.transformPagePoint=rt,this.contextWindow=nt||window;const at=extractEventInfo(et),ot=transformPoint(at,this.transformPagePoint),{point:st}=ot,{timestamp:lt}=frameData;this.history=[{...st,timestamp:lt}];const{onSessionStart:ct}=tt;ct&&ct(et,getPanInfo(ot,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(et){this.handlers=et}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(_e,et){return et?{point:et(_e.point)}:_e}function subtractPoint(_e,et){return{x:_e.x-et.x,y:_e.y-et.y}}function getPanInfo({point:_e},et){return{point:_e,delta:subtractPoint(_e,lastDevicePoint(et)),offset:subtractPoint(_e,startDevicePoint(et)),velocity:getVelocity(et,.1)}}function startDevicePoint(_e){return _e[0]}function lastDevicePoint(_e){return _e[_e.length-1]}function getVelocity(_e,et){if(_e.length<2)return{x:0,y:0};let tt=_e.length-1,rt=null;const nt=lastDevicePoint(_e);for(;tt>=0&&(rt=_e[tt],!(nt.timestamp-rt.timestamp>secondsToMilliseconds(et)));)tt--;if(!rt)return{x:0,y:0};const it=millisecondsToSeconds(nt.timestamp-rt.timestamp);if(it===0)return{x:0,y:0};const at={x:(nt.x-rt.x)/it,y:(nt.y-rt.y)/it};return at.x===1/0&&(at.x=0),at.y===1/0&&(at.y=0),at}function calcLength(_e){return _e.max-_e.min}function isNear(_e,et=0,tt=.01){return Math.abs(_e-et)<=tt}function calcAxisDelta(_e,et,tt,rt=.5){_e.origin=rt,_e.originPoint=mix(et.min,et.max,_e.origin),_e.scale=calcLength(tt)/calcLength(et),(isNear(_e.scale,1,1e-4)||isNaN(_e.scale))&&(_e.scale=1),_e.translate=mix(tt.min,tt.max,_e.origin)-_e.originPoint,(isNear(_e.translate)||isNaN(_e.translate))&&(_e.translate=0)}function calcBoxDelta(_e,et,tt,rt){calcAxisDelta(_e.x,et.x,tt.x,rt?rt.originX:void 0),calcAxisDelta(_e.y,et.y,tt.y,rt?rt.originY:void 0)}function calcRelativeAxis(_e,et,tt){_e.min=tt.min+et.min,_e.max=_e.min+calcLength(et)}function calcRelativeBox(_e,et,tt){calcRelativeAxis(_e.x,et.x,tt.x),calcRelativeAxis(_e.y,et.y,tt.y)}function calcRelativeAxisPosition(_e,et,tt){_e.min=et.min-tt.min,_e.max=_e.min+calcLength(et)}function calcRelativePosition(_e,et,tt){calcRelativeAxisPosition(_e.x,et.x,tt.x),calcRelativeAxisPosition(_e.y,et.y,tt.y)}function applyConstraints(_e,{min:et,max:tt},rt){return et!==void 0&&_e<et?_e=rt?mix(et,_e,rt.min):Math.max(_e,et):tt!==void 0&&_e>tt&&(_e=rt?mix(tt,_e,rt.max):Math.min(_e,tt)),_e}function calcRelativeAxisConstraints(_e,et,tt){return{min:et!==void 0?_e.min+et:void 0,max:tt!==void 0?_e.max+tt-(_e.max-_e.min):void 0}}function calcRelativeConstraints(_e,{top:et,left:tt,bottom:rt,right:nt}){return{x:calcRelativeAxisConstraints(_e.x,tt,nt),y:calcRelativeAxisConstraints(_e.y,et,rt)}}function calcViewportAxisConstraints(_e,et){let tt=et.min-_e.min,rt=et.max-_e.max;return et.max-et.min<_e.max-_e.min&&([tt,rt]=[rt,tt]),{min:tt,max:rt}}function calcViewportConstraints(_e,et){return{x:calcViewportAxisConstraints(_e.x,et.x),y:calcViewportAxisConstraints(_e.y,et.y)}}function calcOrigin(_e,et){let tt=.5;const rt=calcLength(_e),nt=calcLength(et);return nt>rt?tt=progress(et.min,et.max-rt,_e.min):rt>nt&&(tt=progress(_e.min,_e.max-nt,et.min)),clamp$1(0,1,tt)}function rebaseAxisConstraints(_e,et){const tt={};return et.min!==void 0&&(tt.min=et.min-_e.min),et.max!==void 0&&(tt.max=et.max-_e.min),tt}const defaultElastic=.35;function resolveDragElastic(_e=defaultElastic){return _e===!1?_e=0:_e===!0&&(_e=defaultElastic),{x:resolveAxisElastic(_e,"left","right"),y:resolveAxisElastic(_e,"top","bottom")}}function resolveAxisElastic(_e,et,tt){return{min:resolvePointElastic(_e,et),max:resolvePointElastic(_e,tt)}}function resolvePointElastic(_e,et){return typeof _e=="number"?_e:_e[et]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(_e){return[_e("x"),_e("y")]}function convertBoundingBoxToBox({top:_e,left:et,right:tt,bottom:rt}){return{x:{min:et,max:tt},y:{min:_e,max:rt}}}function convertBoxToBoundingBox({x:_e,y:et}){return{top:et.min,right:_e.max,bottom:et.max,left:_e.min}}function transformBoxPoints(_e,et){if(!et)return _e;const tt=et({x:_e.left,y:_e.top}),rt=et({x:_e.right,y:_e.bottom});return{top:tt.y,left:tt.x,bottom:rt.y,right:rt.x}}function isIdentityScale(_e){return _e===void 0||_e===1}function hasScale({scale:_e,scaleX:et,scaleY:tt}){return!isIdentityScale(_e)||!isIdentityScale(et)||!isIdentityScale(tt)}function hasTransform(_e){return hasScale(_e)||has2DTranslate(_e)||_e.z||_e.rotate||_e.rotateX||_e.rotateY}function has2DTranslate(_e){return is2DTranslate(_e.x)||is2DTranslate(_e.y)}function is2DTranslate(_e){return _e&&_e!=="0%"}function scalePoint(_e,et,tt){const rt=_e-tt,nt=et*rt;return tt+nt}function applyPointDelta(_e,et,tt,rt,nt){return nt!==void 0&&(_e=scalePoint(_e,nt,rt)),scalePoint(_e,tt,rt)+et}function applyAxisDelta(_e,et=0,tt=1,rt,nt){_e.min=applyPointDelta(_e.min,et,tt,rt,nt),_e.max=applyPointDelta(_e.max,et,tt,rt,nt)}function applyBoxDelta(_e,{x:et,y:tt}){applyAxisDelta(_e.x,et.translate,et.scale,et.originPoint),applyAxisDelta(_e.y,tt.translate,tt.scale,tt.originPoint)}function applyTreeDeltas(_e,et,tt,rt=!1){const nt=tt.length;if(!nt)return;et.x=et.y=1;let it,at;for(let ot=0;ot<nt;ot++){it=tt[ot],at=it.projectionDelta;const st=it.instance;st&&st.style&&st.style.display==="contents"||(rt&&it.options.layoutScroll&&it.scroll&&it!==it.root&&transformBox(_e,{x:-it.scroll.offset.x,y:-it.scroll.offset.y}),at&&(et.x*=at.x.scale,et.y*=at.y.scale,applyBoxDelta(_e,at)),rt&&hasTransform(it.latestValues)&&transformBox(_e,it.latestValues))}et.x=snapToDefault(et.x),et.y=snapToDefault(et.y)}function snapToDefault(_e){return Number.isInteger(_e)||_e>1.0000000000001||_e<.999999999999?_e:1}function translateAxis(_e,et){_e.min=_e.min+et,_e.max=_e.max+et}function transformAxis(_e,et,[tt,rt,nt]){const it=et[nt]!==void 0?et[nt]:.5,at=mix(_e.min,_e.max,it);applyAxisDelta(_e,et[tt],et[rt],at,et.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(_e,et){transformAxis(_e.x,et,xKeys$1),transformAxis(_e.y,et,yKeys$1)}function measureViewportBox(_e,et){return convertBoundingBoxToBox(transformBoxPoints(_e.getBoundingClientRect(),et))}function measurePageBox(_e,et,tt){const rt=measureViewportBox(_e,tt),{scroll:nt}=et;return nt&&(translateAxis(rt.x,nt.offset.x),translateAxis(rt.y,nt.offset.y)),rt}const getContextWindow=({current:_e})=>_e?_e.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(et){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=et}start(et,{snapToCursor:tt=!1}={}){const{presenceContext:rt}=this.visualElement;if(rt&&rt.isPresent===!1)return;const nt=ct=>{const{dragSnapToOrigin:ut}=this.getProps();ut?this.pauseAnimation():this.stopAnimation(),tt&&this.snapToCursor(extractEventInfo(ct,"page").point)},it=(ct,ut)=>{const{drag:dt,dragPropagation:ft,onDragStart:pt}=this.getProps();if(dt&&!ft&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(dt),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(yt=>{let mt=this.getAxisMotionValue(yt).get()||0;if(percent.test(mt)){const{projection:gt}=this.visualElement;if(gt&&gt.layout){const vt=gt.layout.layoutBox[yt];vt&&(mt=calcLength(vt)*(parseFloat(mt)/100))}}this.originPoint[yt]=mt}),pt&&frame.update(()=>pt(ct,ut),!1,!0);const{animationState:ht}=this.visualElement;ht&&ht.setActive("whileDrag",!0)},at=(ct,ut)=>{const{dragPropagation:dt,dragDirectionLock:ft,onDirectionLock:pt,onDrag:ht}=this.getProps();if(!dt&&!this.openGlobalLock)return;const{offset:yt}=ut;if(ft&&this.currentDirection===null){this.currentDirection=getCurrentDirection(yt),this.currentDirection!==null&&pt&&pt(this.currentDirection);return}this.updateAxis("x",ut.point,yt),this.updateAxis("y",ut.point,yt),this.visualElement.render(),ht&&ht(ct,ut)},ot=(ct,ut)=>this.stop(ct,ut),st=()=>eachAxis(ct=>{var ut;return this.getAnimationState(ct)==="paused"&&((ut=this.getAxisMotionValue(ct).animation)===null||ut===void 0?void 0:ut.play())}),{dragSnapToOrigin:lt}=this.getProps();this.panSession=new PanSession(et,{onSessionStart:nt,onStart:it,onMove:at,onSessionEnd:ot,resumeAnimation:st},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:lt,contextWindow:getContextWindow(this.visualElement)})}stop(et,tt){const rt=this.isDragging;if(this.cancel(),!rt)return;const{velocity:nt}=tt;this.startAnimation(nt);const{onDragEnd:it}=this.getProps();it&&frame.update(()=>it(et,tt))}cancel(){this.isDragging=!1;const{projection:et,animationState:tt}=this.visualElement;et&&(et.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:rt}=this.getProps();!rt&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),tt&&tt.setActive("whileDrag",!1)}updateAxis(et,tt,rt){const{drag:nt}=this.getProps();if(!rt||!shouldDrag(et,nt,this.currentDirection))return;const it=this.getAxisMotionValue(et);let at=this.originPoint[et]+rt[et];this.constraints&&this.constraints[et]&&(at=applyConstraints(at,this.constraints[et],this.elastic[et])),it.set(at)}resolveConstraints(){var et;const{dragConstraints:tt,dragElastic:rt}=this.getProps(),nt=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(et=this.visualElement.projection)===null||et===void 0?void 0:et.layout,it=this.constraints;tt&&isRefObject(tt)?this.constraints||(this.constraints=this.resolveRefConstraints()):tt&&nt?this.constraints=calcRelativeConstraints(nt.layoutBox,tt):this.constraints=!1,this.elastic=resolveDragElastic(rt),it!==this.constraints&&nt&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(at=>{this.getAxisMotionValue(at)&&(this.constraints[at]=rebaseAxisConstraints(nt.layoutBox[at],this.constraints[at]))})}resolveRefConstraints(){const{dragConstraints:et,onMeasureDragConstraints:tt}=this.getProps();if(!et||!isRefObject(et))return!1;const rt=et.current,{projection:nt}=this.visualElement;if(!nt||!nt.layout)return!1;const it=measurePageBox(rt,nt.root,this.visualElement.getTransformPagePoint());let at=calcViewportConstraints(nt.layout.layoutBox,it);if(tt){const ot=tt(convertBoxToBoundingBox(at));this.hasMutatedConstraints=!!ot,ot&&(at=convertBoundingBoxToBox(ot))}return at}startAnimation(et){const{drag:tt,dragMomentum:rt,dragElastic:nt,dragTransition:it,dragSnapToOrigin:at,onDragTransitionEnd:ot}=this.getProps(),st=this.constraints||{},lt=eachAxis(ct=>{if(!shouldDrag(ct,tt,this.currentDirection))return;let ut=st&&st[ct]||{};at&&(ut={min:0,max:0});const dt=nt?200:1e6,ft=nt?40:1e7,pt={type:"inertia",velocity:rt?et[ct]:0,bounceStiffness:dt,bounceDamping:ft,timeConstant:750,restDelta:1,restSpeed:10,...it,...ut};return this.startAxisValueAnimation(ct,pt)});return Promise.all(lt).then(ot)}startAxisValueAnimation(et,tt){const rt=this.getAxisMotionValue(et);return rt.start(animateMotionValue(et,rt,0,tt))}stopAnimation(){eachAxis(et=>this.getAxisMotionValue(et).stop())}pauseAnimation(){eachAxis(et=>{var tt;return(tt=this.getAxisMotionValue(et).animation)===null||tt===void 0?void 0:tt.pause()})}getAnimationState(et){var tt;return(tt=this.getAxisMotionValue(et).animation)===null||tt===void 0?void 0:tt.state}getAxisMotionValue(et){const tt="_drag"+et.toUpperCase(),rt=this.visualElement.getProps(),nt=rt[tt];return nt||this.visualElement.getValue(et,(rt.initial?rt.initial[et]:void 0)||0)}snapToCursor(et){eachAxis(tt=>{const{drag:rt}=this.getProps();if(!shouldDrag(tt,rt,this.currentDirection))return;const{projection:nt}=this.visualElement,it=this.getAxisMotionValue(tt);if(nt&&nt.layout){const{min:at,max:ot}=nt.layout.layoutBox[tt];it.set(et[tt]-mix(at,ot,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:et,dragConstraints:tt}=this.getProps(),{projection:rt}=this.visualElement;if(!isRefObject(tt)||!rt||!this.constraints)return;this.stopAnimation();const nt={x:0,y:0};eachAxis(at=>{const ot=this.getAxisMotionValue(at);if(ot){const st=ot.get();nt[at]=calcOrigin({min:st,max:st},this.constraints[at])}});const{transformTemplate:it}=this.visualElement.getProps();this.visualElement.current.style.transform=it?it({},""):"none",rt.root&&rt.root.updateScroll(),rt.updateLayout(),this.resolveConstraints(),eachAxis(at=>{if(!shouldDrag(at,et,null))return;const ot=this.getAxisMotionValue(at),{min:st,max:lt}=this.constraints[at];ot.set(mix(st,lt,nt[at]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const et=this.visualElement.current,tt=addPointerEvent(et,"pointerdown",st=>{const{drag:lt,dragListener:ct=!0}=this.getProps();lt&&ct&&this.start(st)}),rt=()=>{const{dragConstraints:st}=this.getProps();isRefObject(st)&&(this.constraints=this.resolveRefConstraints())},{projection:nt}=this.visualElement,it=nt.addEventListener("measure",rt);nt&&!nt.layout&&(nt.root&&nt.root.updateScroll(),nt.updateLayout()),rt();const at=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),ot=nt.addEventListener("didUpdate",({delta:st,hasLayoutChanged:lt})=>{this.isDragging&&lt&&(eachAxis(ct=>{const ut=this.getAxisMotionValue(ct);ut&&(this.originPoint[ct]+=st[ct].translate,ut.set(ut.get()+st[ct].translate))}),this.visualElement.render())});return()=>{at(),tt(),it(),ot&&ot()}}getProps(){const et=this.visualElement.getProps(),{drag:tt=!1,dragDirectionLock:rt=!1,dragPropagation:nt=!1,dragConstraints:it=!1,dragElastic:at=defaultElastic,dragMomentum:ot=!0}=et;return{...et,drag:tt,dragDirectionLock:rt,dragPropagation:nt,dragConstraints:it,dragElastic:at,dragMomentum:ot}}}function shouldDrag(_e,et,tt){return(et===!0||et===_e)&&(tt===null||tt===_e)}function getCurrentDirection(_e,et=10){let tt=null;return Math.abs(_e.y)>et?tt="y":Math.abs(_e.x)>et&&(tt="x"),tt}class DragGesture extends Feature{constructor(et){super(et),this.removeGroupControls=noop$5,this.removeListeners=noop$5,this.controls=new VisualElementDragControls(et)}mount(){const{dragControls:et}=this.node.getProps();et&&(this.removeGroupControls=et.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$5}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=_e=>(et,tt)=>{_e&&frame.update(()=>_e(et,tt))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$5}onPointerDown(et){this.session=new PanSession(et,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:et,onPanStart:tt,onPan:rt,onPanEnd:nt}=this.node.getProps();return{onSessionStart:asyncHandler(et),onStart:asyncHandler(tt),onMove:rt,onEnd:(it,at)=>{delete this.session,nt&&frame.update(()=>nt(it,at))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",et=>this.onPointerDown(et))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const _e=reactExports.useContext(PresenceContext);if(_e===null)return[!0,null];const{isPresent:et,onExitComplete:tt,register:rt}=_e,nt=reactExports.useId();return reactExports.useEffect(()=>rt(nt),[]),!et&&tt?[!1,()=>tt&&tt(nt)]:[!0]}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(_e,et){return et.max===et.min?0:_e/(et.max-et.min)*100}const correctBorderRadius={correct:(_e,et)=>{if(!et.target)return _e;if(typeof _e=="string")if(px.test(_e))_e=parseFloat(_e);else return _e;const tt=pixelsToPercent(_e,et.target.x),rt=pixelsToPercent(_e,et.target.y);return`${tt}% ${rt}%`}},correctBoxShadow={correct:(_e,{treeScale:et,projectionDelta:tt})=>{const rt=_e,nt=complex.parse(_e);if(nt.length>5)return rt;const it=complex.createTransformer(_e),at=typeof nt[0]!="number"?1:0,ot=tt.x.scale*et.x,st=tt.y.scale*et.y;nt[0+at]/=ot,nt[1+at]/=st;const lt=mix(ot,st,.5);return typeof nt[2+at]=="number"&&(nt[2+at]/=lt),typeof nt[3+at]=="number"&&(nt[3+at]/=lt),it(nt)}};class MeasureLayoutWithContext extends React.Component{componentDidMount(){const{visualElement:et,layoutGroup:tt,switchLayoutGroup:rt,layoutId:nt}=this.props,{projection:it}=et;addScaleCorrector(defaultScaleCorrectors),it&&(tt.group&&tt.group.add(it),rt&&rt.register&&nt&&rt.register(it),it.root.didUpdate(),it.addEventListener("animationComplete",()=>{this.safeToRemove()}),it.setOptions({...it.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(et){const{layoutDependency:tt,visualElement:rt,drag:nt,isPresent:it}=this.props,at=rt.projection;return at&&(at.isPresent=it,nt||et.layoutDependency!==tt||tt===void 0?at.willUpdate():this.safeToRemove(),et.isPresent!==it&&(it?at.promote():at.relegate()||frame.postRender(()=>{const ot=at.getStack();(!ot||!ot.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:et}=this.props.visualElement;et&&(et.root.didUpdate(),queueMicrotask(()=>{!et.currentAnimation&&et.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:et,layoutGroup:tt,switchLayoutGroup:rt}=this.props,{projection:nt}=et;nt&&(nt.scheduleCheckAfterUnmount(),tt&&tt.group&&tt.group.remove(nt),rt&&rt.deregister&&rt.deregister(nt))}safeToRemove(){const{safeToRemove:et}=this.props;et&&et()}render(){return null}}function MeasureLayout(_e){const[et,tt]=usePresence(),rt=reactExports.useContext(LayoutGroupContext);return React.createElement(MeasureLayoutWithContext,{..._e,layoutGroup:rt,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:et,safeToRemove:tt})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber$1=_e=>typeof _e=="string"?parseFloat(_e):_e,isPx=_e=>typeof _e=="number"||px.test(_e);function mixValues(_e,et,tt,rt,nt,it){nt?(_e.opacity=mix(0,tt.opacity!==void 0?tt.opacity:1,easeCrossfadeIn(rt)),_e.opacityExit=mix(et.opacity!==void 0?et.opacity:1,0,easeCrossfadeOut(rt))):it&&(_e.opacity=mix(et.opacity!==void 0?et.opacity:1,tt.opacity!==void 0?tt.opacity:1,rt));for(let at=0;at<numBorders;at++){const ot=`border${borders[at]}Radius`;let st=getRadius(et,ot),lt=getRadius(tt,ot);if(st===void 0&&lt===void 0)continue;st||(st=0),lt||(lt=0),st===0||lt===0||isPx(st)===isPx(lt)?(_e[ot]=Math.max(mix(asNumber$1(st),asNumber$1(lt),rt),0),(percent.test(lt)||percent.test(st))&&(_e[ot]+="%")):_e[ot]=lt}(et.rotate||tt.rotate)&&(_e.rotate=mix(et.rotate||0,tt.rotate||0,rt))}function getRadius(_e,et){return _e[et]!==void 0?_e[et]:_e.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$5);function compress(_e,et,tt){return rt=>rt<_e?0:rt>et?1:tt(progress(_e,et,rt))}function copyAxisInto(_e,et){_e.min=et.min,_e.max=et.max}function copyBoxInto(_e,et){copyAxisInto(_e.x,et.x),copyAxisInto(_e.y,et.y)}function removePointDelta(_e,et,tt,rt,nt){return _e-=et,_e=scalePoint(_e,1/tt,rt),nt!==void 0&&(_e=scalePoint(_e,1/nt,rt)),_e}function removeAxisDelta(_e,et=0,tt=1,rt=.5,nt,it=_e,at=_e){if(percent.test(et)&&(et=parseFloat(et),et=mix(at.min,at.max,et/100)-at.min),typeof et!="number")return;let ot=mix(it.min,it.max,rt);_e===it&&(ot-=et),_e.min=removePointDelta(_e.min,et,tt,ot,nt),_e.max=removePointDelta(_e.max,et,tt,ot,nt)}function removeAxisTransforms(_e,et,[tt,rt,nt],it,at){removeAxisDelta(_e,et[tt],et[rt],et[nt],et.scale,it,at)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(_e,et,tt,rt){removeAxisTransforms(_e.x,et,xKeys,tt?tt.x:void 0,rt?rt.x:void 0),removeAxisTransforms(_e.y,et,yKeys,tt?tt.y:void 0,rt?rt.y:void 0)}function isAxisDeltaZero(_e){return _e.translate===0&&_e.scale===1}function isDeltaZero(_e){return isAxisDeltaZero(_e.x)&&isAxisDeltaZero(_e.y)}function boxEquals(_e,et){return _e.x.min===et.x.min&&_e.x.max===et.x.max&&_e.y.min===et.y.min&&_e.y.max===et.y.max}function boxEqualsRounded(_e,et){return Math.round(_e.x.min)===Math.round(et.x.min)&&Math.round(_e.x.max)===Math.round(et.x.max)&&Math.round(_e.y.min)===Math.round(et.y.min)&&Math.round(_e.y.max)===Math.round(et.y.max)}function aspectRatio(_e){return calcLength(_e.x)/calcLength(_e.y)}class NodeStack{constructor(){this.members=[]}add(et){addUniqueItem(this.members,et),et.scheduleRender()}remove(et){if(removeItem(this.members,et),et===this.prevLead&&(this.prevLead=void 0),et===this.lead){const tt=this.members[this.members.length-1];tt&&this.promote(tt)}}relegate(et){const tt=this.members.findIndex(nt=>et===nt);if(tt===0)return!1;let rt;for(let nt=tt;nt>=0;nt--){const it=this.members[nt];if(it.isPresent!==!1){rt=it;break}}return rt?(this.promote(rt),!0):!1}promote(et,tt){const rt=this.lead;if(et!==rt&&(this.prevLead=rt,this.lead=et,et.show(),rt)){rt.instance&&rt.scheduleRender(),et.scheduleRender(),et.resumeFrom=rt,tt&&(et.resumeFrom.preserveOpacity=!0),rt.snapshot&&(et.snapshot=rt.snapshot,et.snapshot.latestValues=rt.animationValues||rt.latestValues),et.root&&et.root.isUpdating&&(et.isLayoutDirty=!0);const{crossfade:nt}=et.options;nt===!1&&rt.hide()}}exitAnimationComplete(){this.members.forEach(et=>{const{options:tt,resumingFrom:rt}=et;tt.onExitComplete&&tt.onExitComplete(),rt&&rt.options.onExitComplete&&rt.options.onExitComplete()})}scheduleRender(){this.members.forEach(et=>{et.instance&&et.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(_e,et,tt){let rt="";const nt=_e.x.translate/et.x,it=_e.y.translate/et.y;if((nt||it)&&(rt=`translate3d(${nt}px, ${it}px, 0) `),(et.x!==1||et.y!==1)&&(rt+=`scale(${1/et.x}, ${1/et.y}) `),tt){const{rotate:st,rotateX:lt,rotateY:ct}=tt;st&&(rt+=`rotate(${st}deg) `),lt&&(rt+=`rotateX(${lt}deg) `),ct&&(rt+=`rotateY(${ct}deg) `)}const at=_e.x.scale*et.x,ot=_e.y.scale*et.y;return(at!==1||ot!==1)&&(rt+=`scale(${at}, ${ot})`),rt||"none"}const compareByDepth=(_e,et)=>_e.depth-et.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(et){addUniqueItem(this.children,et),this.isDirty=!0}remove(et){removeItem(this.children,et),this.isDirty=!0}forEach(et){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(et)}}function delay(_e,et){const tt=performance.now(),rt=({timestamp:nt})=>{const it=nt-tt;it>=et&&(cancelFrame(rt),_e(it-et))};return frame.read(rt,!0),()=>cancelFrame(rt)}function record$1(_e){window.MotionDebug&&window.MotionDebug.record(_e)}function isSVGElement$1(_e){return _e instanceof SVGElement&&_e.tagName!=="svg"}function animateSingleValue(_e,et,tt){const rt=isMotionValue(_e)?_e:motionValue(_e);return rt.start(animateMotionValue("",rt,et,tt)),rt.animation}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;const projectionFrameData={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function createProjectionNode({attachResizeListener:_e,defaultParent:et,measureScroll:tt,checkIsScrollRoot:rt,resetTransform:nt}){return class{constructor(at={},ot=et==null?void 0:et()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,projectionFrameData.totalNodes=projectionFrameData.resolvedTargetDeltas=projectionFrameData.recalculatedProjection=0,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),record$1(projectionFrameData)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=at,this.root=ot?ot.root||ot:this,this.path=ot?[...ot.path,ot]:[],this.parent=ot,this.depth=ot?ot.depth+1:0;for(let st=0;st<this.path.length;st++)this.path[st].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(at,ot){return this.eventHandlers.has(at)||this.eventHandlers.set(at,new SubscriptionManager),this.eventHandlers.get(at).add(ot)}notifyListeners(at,...ot){const st=this.eventHandlers.get(at);st&&st.notify(...ot)}hasListeners(at){return this.eventHandlers.has(at)}mount(at,ot=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement$1(at),this.instance=at;const{layoutId:st,layout:lt,visualElement:ct}=this.options;if(ct&&!ct.current&&ct.mount(at),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),ot&&(lt||st)&&(this.isLayoutDirty=!0),_e){let ut;const dt=()=>this.root.updateBlockedByResize=!1;_e(at,()=>{this.root.updateBlockedByResize=!0,ut&&ut(),ut=delay(dt,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}st&&this.root.registerSharedNode(st,this),this.options.animate!==!1&&ct&&(st||lt)&&this.addEventListener("didUpdate",({delta:ut,hasLayoutChanged:dt,hasRelativeTargetChanged:ft,layout:pt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const ht=this.options.transition||ct.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:yt,onLayoutAnimationComplete:mt}=ct.getProps(),gt=!this.targetLayout||!boxEqualsRounded(this.targetLayout,pt)||ft,vt=!dt&&ft;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||vt||dt&&(gt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(ut,vt);const St={...getValueTransition(ht,"layout"),onPlay:yt,onComplete:mt};(ct.shouldReduceMotion||this.options.layoutRoot)&&(St.delay=0,St.type=!1),this.startAnimation(St)}else dt||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=pt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const at=this.getStack();at&&at.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetRotation),this.animationId++)}getTransformTemplate(){const{visualElement:at}=this.options;return at&&at.getProps().transformTemplate}willUpdate(at=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let ct=0;ct<this.path.length;ct++){const ut=this.path[ct];ut.shouldResetTransform=!0,ut.updateScroll("snapshot"),ut.options.layoutRoot&&ut.willUpdate(!1)}const{layoutId:ot,layout:st}=this.options;if(ot===void 0&&!st)return;const lt=this.getTransformTemplate();this.prevTransformTemplateValue=lt?lt(this.latestValues,""):void 0,this.updateSnapshot(),at&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const ot=performance.now();frameData.delta=clamp$1(0,1e3/60,ot-frameData.timestamp),frameData.timestamp=ot,frameData.isProcessing=!0,steps.update.process(frameData),steps.preRender.process(frameData),steps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let st=0;st<this.path.length;st++)this.path[st].updateScroll();const at=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:ot}=this.options;ot&&ot.notify("LayoutMeasure",this.layout.layoutBox,at?at.layoutBox:void 0)}updateScroll(at="measure"){let ot=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===at&&(ot=!1),ot&&(this.scroll={animationId:this.root.animationId,phase:at,isRoot:rt(this.instance),offset:tt(this.instance)})}resetTransform(){if(!nt)return;const at=this.isLayoutDirty||this.shouldResetTransform,ot=this.projectionDelta&&!isDeltaZero(this.projectionDelta),st=this.getTransformTemplate(),lt=st?st(this.latestValues,""):void 0,ct=lt!==this.prevTransformTemplateValue;at&&(ot||hasTransform(this.latestValues)||ct)&&(nt(this.instance,lt),this.shouldResetTransform=!1,this.scheduleRender())}measure(at=!0){const ot=this.measurePageBox();let st=this.removeElementScroll(ot);return at&&(st=this.removeTransform(st)),roundBox(st),{animationId:this.root.animationId,measuredBox:ot,layoutBox:st,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:at}=this.options;if(!at)return createBox();const ot=at.measureViewportBox(),{scroll:st}=this.root;return st&&(translateAxis(ot.x,st.offset.x),translateAxis(ot.y,st.offset.y)),ot}removeElementScroll(at){const ot=createBox();copyBoxInto(ot,at);for(let st=0;st<this.path.length;st++){const lt=this.path[st],{scroll:ct,options:ut}=lt;if(lt!==this.root&&ct&&ut.layoutScroll){if(ct.isRoot){copyBoxInto(ot,at);const{scroll:dt}=this.root;dt&&(translateAxis(ot.x,-dt.offset.x),translateAxis(ot.y,-dt.offset.y))}translateAxis(ot.x,ct.offset.x),translateAxis(ot.y,ct.offset.y)}}return ot}applyTransform(at,ot=!1){const st=createBox();copyBoxInto(st,at);for(let lt=0;lt<this.path.length;lt++){const ct=this.path[lt];!ot&&ct.options.layoutScroll&&ct.scroll&&ct!==ct.root&&transformBox(st,{x:-ct.scroll.offset.x,y:-ct.scroll.offset.y}),hasTransform(ct.latestValues)&&transformBox(st,ct.latestValues)}return hasTransform(this.latestValues)&&transformBox(st,this.latestValues),st}removeTransform(at){const ot=createBox();copyBoxInto(ot,at);for(let st=0;st<this.path.length;st++){const lt=this.path[st];if(!lt.instance||!hasTransform(lt.latestValues))continue;hasScale(lt.latestValues)&&lt.updateSnapshot();const ct=createBox(),ut=lt.measurePageBox();copyBoxInto(ct,ut),removeBoxTransforms(ot,lt.latestValues,lt.snapshot?lt.snapshot.layoutBox:void 0,ct)}return hasTransform(this.latestValues)&&removeBoxTransforms(ot,this.latestValues),ot}setTargetDelta(at){this.targetDelta=at,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(at){this.options={...this.options,...at,crossfade:at.crossfade!==void 0?at.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(at=!1){var ot;const st=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=st.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=st.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=st.isSharedProjectionDirty);const lt=!!this.resumingFrom||this!==st;if(!(at||lt&&this.isSharedProjectionDirty||this.isProjectionDirty||!((ot=this.parent)===null||ot===void 0)&&ot.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:ut,layoutId:dt}=this.options;if(!(!this.layout||!(ut||dt))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const ft=this.getClosestProjectingParent();ft&&ft.layout&&this.animationProgress!==1?(this.relativeParent=ft,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,ft.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const ft=this.getClosestProjectingParent();ft&&!!ft.resumingFrom==!!this.resumingFrom&&!ft.options.layoutScroll&&ft.target&&this.animationProgress!==1?(this.relativeParent=ft,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,ft.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}projectionFrameData.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var at;const ot=this.getLead(),st=!!this.resumingFrom||this!==ot;let lt=!0;if((this.isProjectionDirty||!((at=this.parent)===null||at===void 0)&&at.isProjectionDirty)&&(lt=!1),st&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(lt=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(lt=!1),lt)return;const{layout:ct,layoutId:ut}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(ct||ut))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const dt=this.treeScale.x,ft=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,st),ot.layout&&!ot.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(ot.target=ot.layout.layoutBox);const{target:pt}=ot;if(!pt){this.projectionTransform&&(this.projectionDelta=createDelta(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const ht=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,pt,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==ht||this.treeScale.x!==dt||this.treeScale.y!==ft)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",pt)),projectionFrameData.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(at=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),at){const ot=this.getStack();ot&&ot.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(at,ot=!1){const st=this.snapshot,lt=st?st.latestValues:{},ct={...this.latestValues},ut=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!ot;const dt=createBox(),ft=st?st.source:void 0,pt=this.layout?this.layout.source:void 0,ht=ft!==pt,yt=this.getStack(),mt=!yt||yt.members.length<=1,gt=!!(ht&&!mt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let vt;this.mixTargetDelta=St=>{const xt=St/1e3;mixAxisDelta(ut.x,at.x,xt),mixAxisDelta(ut.y,at.y,xt),this.setTargetDelta(ut),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(dt,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,dt,xt),vt&&boxEquals(this.relativeTarget,vt)&&(this.isProjectionDirty=!1),vt||(vt=createBox()),copyBoxInto(vt,this.relativeTarget)),ht&&(this.animationValues=ct,mixValues(ct,lt,this.latestValues,xt,gt,mt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=xt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(at){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...at,onUpdate:ot=>{this.mixTargetDelta(ot),at.onUpdate&&at.onUpdate(ot)},onComplete:()=>{at.onComplete&&at.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const at=this.getStack();at&&at.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const at=this.getLead();let{targetWithTransforms:ot,target:st,layout:lt,latestValues:ct}=at;if(!(!ot||!st||!lt)){if(this!==at&&this.layout&&lt&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,lt.layoutBox)){st=this.target||createBox();const ut=calcLength(this.layout.layoutBox.x);st.x.min=at.target.x.min,st.x.max=st.x.min+ut;const dt=calcLength(this.layout.layoutBox.y);st.y.min=at.target.y.min,st.y.max=st.y.min+dt}copyBoxInto(ot,st),transformBox(ot,ct),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,ot,ct)}}registerSharedNode(at,ot){this.sharedNodes.has(at)||this.sharedNodes.set(at,new NodeStack),this.sharedNodes.get(at).add(ot);const lt=ot.options.initialPromotionConfig;ot.promote({transition:lt?lt.transition:void 0,preserveFollowOpacity:lt&&lt.shouldPreserveFollowOpacity?lt.shouldPreserveFollowOpacity(ot):void 0})}isLead(){const at=this.getStack();return at?at.lead===this:!0}getLead(){var at;const{layoutId:ot}=this.options;return ot?((at=this.getStack())===null||at===void 0?void 0:at.lead)||this:this}getPrevLead(){var at;const{layoutId:ot}=this.options;return ot?(at=this.getStack())===null||at===void 0?void 0:at.prevLead:void 0}getStack(){const{layoutId:at}=this.options;if(at)return this.root.sharedNodes.get(at)}promote({needsReset:at,transition:ot,preserveFollowOpacity:st}={}){const lt=this.getStack();lt&&lt.promote(this,st),at&&(this.projectionDelta=void 0,this.needsReset=!0),ot&&this.setOptions({transition:ot})}relegate(){const at=this.getStack();return at?at.relegate(this):!1}resetRotation(){const{visualElement:at}=this.options;if(!at)return;let ot=!1;const{latestValues:st}=at;if((st.rotate||st.rotateX||st.rotateY||st.rotateZ)&&(ot=!0),!ot)return;const lt={};for(let ct=0;ct<transformAxes.length;ct++){const ut="rotate"+transformAxes[ct];st[ut]&&(lt[ut]=st[ut],at.setStaticValue(ut,0))}at.render();for(const ct in lt)at.setStaticValue(ct,lt[ct]);at.scheduleRender()}getProjectionStyles(at){var ot,st;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const lt={visibility:""},ct=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,lt.opacity="",lt.pointerEvents=resolveMotionValue(at==null?void 0:at.pointerEvents)||"",lt.transform=ct?ct(this.latestValues,""):"none",lt;const ut=this.getLead();if(!this.projectionDelta||!this.layout||!ut.target){const ht={};return this.options.layoutId&&(ht.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,ht.pointerEvents=resolveMotionValue(at==null?void 0:at.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(ht.transform=ct?ct({},""):"none",this.hasProjected=!1),ht}const dt=ut.animationValues||ut.latestValues;this.applyTransformsToTarget(),lt.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,dt),ct&&(lt.transform=ct(dt,lt.transform));const{x:ft,y:pt}=this.projectionDelta;lt.transformOrigin=`${ft.origin*100}% ${pt.origin*100}% 0`,ut.animationValues?lt.opacity=ut===this?(st=(ot=dt.opacity)!==null&&ot!==void 0?ot:this.latestValues.opacity)!==null&&st!==void 0?st:1:this.preserveOpacity?this.latestValues.opacity:dt.opacityExit:lt.opacity=ut===this?dt.opacity!==void 0?dt.opacity:"":dt.opacityExit!==void 0?dt.opacityExit:0;for(const ht in scaleCorrectors){if(dt[ht]===void 0)continue;const{correct:yt,applyTo:mt}=scaleCorrectors[ht],gt=lt.transform==="none"?dt[ht]:yt(dt[ht],ut);if(mt){const vt=mt.length;for(let St=0;St<vt;St++)lt[mt[St]]=gt}else lt[ht]=gt}return this.options.layoutId&&(lt.pointerEvents=ut===this?resolveMotionValue(at==null?void 0:at.pointerEvents)||"":"none"),lt}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(at=>{var ot;return(ot=at.currentAnimation)===null||ot===void 0?void 0:ot.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(_e){_e.updateLayout()}function notifyLayoutUpdate(_e){var et;const tt=((et=_e.resumeFrom)===null||et===void 0?void 0:et.snapshot)||_e.snapshot;if(_e.isLead()&&_e.layout&&tt&&_e.hasListeners("didUpdate")){const{layoutBox:rt,measuredBox:nt}=_e.layout,{animationType:it}=_e.options,at=tt.source!==_e.layout.source;it==="size"?eachAxis(ut=>{const dt=at?tt.measuredBox[ut]:tt.layoutBox[ut],ft=calcLength(dt);dt.min=rt[ut].min,dt.max=dt.min+ft}):shouldAnimatePositionOnly(it,tt.layoutBox,rt)&&eachAxis(ut=>{const dt=at?tt.measuredBox[ut]:tt.layoutBox[ut],ft=calcLength(rt[ut]);dt.max=dt.min+ft,_e.relativeTarget&&!_e.currentAnimation&&(_e.isProjectionDirty=!0,_e.relativeTarget[ut].max=_e.relativeTarget[ut].min+ft)});const ot=createDelta();calcBoxDelta(ot,rt,tt.layoutBox);const st=createDelta();at?calcBoxDelta(st,_e.applyTransform(nt,!0),tt.measuredBox):calcBoxDelta(st,rt,tt.layoutBox);const lt=!isDeltaZero(ot);let ct=!1;if(!_e.resumeFrom){const ut=_e.getClosestProjectingParent();if(ut&&!ut.resumeFrom){const{snapshot:dt,layout:ft}=ut;if(dt&&ft){const pt=createBox();calcRelativePosition(pt,tt.layoutBox,dt.layoutBox);const ht=createBox();calcRelativePosition(ht,rt,ft.layoutBox),boxEqualsRounded(pt,ht)||(ct=!0),ut.options.layoutRoot&&(_e.relativeTarget=ht,_e.relativeTargetOrigin=pt,_e.relativeParent=ut)}}}_e.notifyListeners("didUpdate",{layout:rt,snapshot:tt,delta:st,layoutDelta:ot,hasLayoutChanged:lt,hasRelativeTargetChanged:ct})}else if(_e.isLead()){const{onExitComplete:rt}=_e.options;rt&&rt()}_e.options.transition=void 0}function propagateDirtyNodes(_e){projectionFrameData.totalNodes++,_e.parent&&(_e.isProjecting()||(_e.isProjectionDirty=_e.parent.isProjectionDirty),_e.isSharedProjectionDirty||(_e.isSharedProjectionDirty=!!(_e.isProjectionDirty||_e.parent.isProjectionDirty||_e.parent.isSharedProjectionDirty)),_e.isTransformDirty||(_e.isTransformDirty=_e.parent.isTransformDirty))}function cleanDirtyNodes(_e){_e.isProjectionDirty=_e.isSharedProjectionDirty=_e.isTransformDirty=!1}function clearSnapshot(_e){_e.clearSnapshot()}function clearMeasurements(_e){_e.clearMeasurements()}function clearIsLayoutDirty(_e){_e.isLayoutDirty=!1}function resetTransformStyle(_e){const{visualElement:et}=_e.options;et&&et.getProps().onBeforeLayoutMeasure&&et.notify("BeforeLayoutMeasure"),_e.resetTransform()}function finishAnimation(_e){_e.finishAnimation(),_e.targetDelta=_e.relativeTarget=_e.target=void 0,_e.isProjectionDirty=!0}function resolveTargetDelta(_e){_e.resolveTargetDelta()}function calcProjection(_e){_e.calcProjection()}function resetRotation(_e){_e.resetRotation()}function removeLeadSnapshots(_e){_e.removeLeadSnapshot()}function mixAxisDelta(_e,et,tt){_e.translate=mix(et.translate,0,tt),_e.scale=mix(et.scale,1,tt),_e.origin=et.origin,_e.originPoint=et.originPoint}function mixAxis(_e,et,tt,rt){_e.min=mix(et.min,tt.min,rt),_e.max=mix(et.max,tt.max,rt)}function mixBox(_e,et,tt,rt){mixAxis(_e.x,et.x,tt.x,rt),mixAxis(_e.y,et.y,tt.y,rt)}function hasOpacityCrossfade(_e){return _e.animationValues&&_e.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=_e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(_e),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$5;function roundAxis(_e){_e.min=roundPoint(_e.min),_e.max=roundPoint(_e.max)}function roundBox(_e){roundAxis(_e.x),roundAxis(_e.y)}function shouldAnimatePositionOnly(_e,et,tt){return _e==="position"||_e==="preserve-aspect"&&!isNear(aspectRatio(et),aspectRatio(tt),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(_e,et)=>addDomEvent(_e,"resize",et),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:_e=>({x:_e.scrollLeft,y:_e.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const _e=new DocumentProjectionNode({});_e.mount(window),_e.setOptions({layoutScroll:!0}),rootProjectionNode.current=_e}return rootProjectionNode.current},resetTransform:(_e,et)=>{_e.style.transform=et!==void 0?et:"none"},checkIsScrollRoot:_e=>window.getComputedStyle(_e).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},splitCSSVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function parseCSSVariable(_e){const et=splitCSSVariableRegex.exec(_e);if(!et)return[,];const[,tt,rt]=et;return[tt,rt]}function getVariableValue(_e,et,tt=1){const[rt,nt]=parseCSSVariable(_e);if(!rt)return;const it=window.getComputedStyle(et).getPropertyValue(rt);if(it){const at=it.trim();return isNumericalString(at)?parseFloat(at):at}else return isCSSVariableToken(nt)?getVariableValue(nt,et,tt+1):nt}function resolveCSSVariables(_e,{...et},tt){const rt=_e.current;if(!(rt instanceof Element))return{target:et,transitionEnd:tt};tt&&(tt={...tt}),_e.values.forEach(nt=>{const it=nt.get();if(!isCSSVariableToken(it))return;const at=getVariableValue(it,rt);at&&nt.set(at)});for(const nt in et){const it=et[nt];if(!isCSSVariableToken(it))continue;const at=getVariableValue(it,rt);at&&(et[nt]=at,tt||(tt={}),tt[nt]===void 0&&(tt[nt]=it))}return{target:et,transitionEnd:tt}}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isPositionalKey=_e=>positionalKeys.has(_e),hasPositionalKey=_e=>Object.keys(_e).some(isPositionalKey),isNumOrPxType=_e=>_e===number||_e===px,getPosFromMatrix=(_e,et)=>parseFloat(_e.split(", ")[et]),getTranslateFromMatrix=(_e,et)=>(tt,{transform:rt})=>{if(rt==="none"||!rt)return 0;const nt=rt.match(/^matrix3d\((.+)\)$/);if(nt)return getPosFromMatrix(nt[1],et);{const it=rt.match(/^matrix\((.+)\)$/);return it?getPosFromMatrix(it[1],_e):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(_e=>!transformKeys.has(_e));function removeNonTranslationalTransform(_e){const et=[];return nonTranslationalTransformKeys.forEach(tt=>{const rt=_e.getValue(tt);rt!==void 0&&(et.push([tt,rt.get()]),rt.set(tt.startsWith("scale")?1:0))}),et.length&&_e.render(),et}const positionalValues={width:({x:_e},{paddingLeft:et="0",paddingRight:tt="0"})=>_e.max-_e.min-parseFloat(et)-parseFloat(tt),height:({y:_e},{paddingTop:et="0",paddingBottom:tt="0"})=>_e.max-_e.min-parseFloat(et)-parseFloat(tt),top:(_e,{top:et})=>parseFloat(et),left:(_e,{left:et})=>parseFloat(et),bottom:({y:_e},{top:et})=>parseFloat(et)+(_e.max-_e.min),right:({x:_e},{left:et})=>parseFloat(et)+(_e.max-_e.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const convertChangedValueTypes=(_e,et,tt)=>{const rt=et.measureViewportBox(),nt=et.current,it=getComputedStyle(nt),{display:at}=it,ot={};at==="none"&&et.setStaticValue("display",_e.display||"block"),tt.forEach(lt=>{ot[lt]=positionalValues[lt](rt,it)}),et.render();const st=et.measureViewportBox();return tt.forEach(lt=>{const ct=et.getValue(lt);ct&&ct.jump(ot[lt]),_e[lt]=positionalValues[lt](st,it)}),_e},checkAndConvertChangedValueTypes=(_e,et,tt={},rt={})=>{et={...et},rt={...rt};const nt=Object.keys(et).filter(isPositionalKey);let it=[],at=!1;const ot=[];if(nt.forEach(st=>{const lt=_e.getValue(st);if(!_e.hasValue(st))return;let ct=tt[st],ut=findDimensionValueType(ct);const dt=et[st];let ft;if(isKeyframesTarget(dt)){const pt=dt.length,ht=dt[0]===null?1:0;ct=dt[ht],ut=findDimensionValueType(ct);for(let yt=ht;yt<pt&&dt[yt]!==null;yt++)ft?invariant(findDimensionValueType(dt[yt])===ft):ft=findDimensionValueType(dt[yt])}else ft=findDimensionValueType(dt);if(ut!==ft)if(isNumOrPxType(ut)&&isNumOrPxType(ft)){const pt=lt.get();typeof pt=="string"&&lt.set(parseFloat(pt)),typeof dt=="string"?et[st]=parseFloat(dt):Array.isArray(dt)&&ft===px&&(et[st]=dt.map(parseFloat))}else ut!=null&&ut.transform&&(ft!=null&&ft.transform)&&(ct===0||dt===0)?ct===0?lt.set(ft.transform(ct)):et[st]=ut.transform(dt):(at||(it=removeNonTranslationalTransform(_e),at=!0),ot.push(st),rt[st]=rt[st]!==void 0?rt[st]:et[st],lt.jump(dt))}),ot.length){const st=ot.indexOf("height")>=0?window.pageYOffset:null,lt=convertChangedValueTypes(et,_e,ot);return it.length&&it.forEach(([ct,ut])=>{_e.getValue(ct).set(ut)}),_e.render(),isBrowser$2&&st!==null&&window.scrollTo({top:st}),{target:lt,transitionEnd:rt}}else return{target:et,transitionEnd:rt}};function unitConversion(_e,et,tt,rt){return hasPositionalKey(et)?checkAndConvertChangedValueTypes(_e,et,tt,rt):{target:et,transitionEnd:rt}}const parseDomVariant=(_e,et,tt,rt)=>{const nt=resolveCSSVariables(_e,et,rt);return et=nt.target,rt=nt.transitionEnd,unitConversion(_e,et,tt,rt)},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$2)if(window.matchMedia){const _e=window.matchMedia("(prefers-reduced-motion)"),et=()=>prefersReducedMotion.current=_e.matches;_e.addListener(et),et()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(_e,et,tt){const{willChange:rt}=et;for(const nt in et){const it=et[nt],at=tt[nt];if(isMotionValue(it))_e.addValue(nt,it),isWillChangeMotionValue(rt)&&rt.add(nt);else if(isMotionValue(at))_e.addValue(nt,motionValue(it,{owner:_e})),isWillChangeMotionValue(rt)&&rt.remove(nt);else if(at!==it)if(_e.hasValue(nt)){const ot=_e.getValue(nt);!ot.hasAnimated&&ot.set(it)}else{const ot=_e.getStaticValue(nt);_e.addValue(nt,motionValue(ot!==void 0?ot:it,{owner:_e}))}}for(const nt in tt)et[nt]===void 0&&_e.removeValue(nt);return et}const visualElementStore=new WeakMap,featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length,propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;class VisualElement{constructor({parent:et,props:tt,presenceContext:rt,reducedMotionConfig:nt,visualState:it},at={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>frame.render(this.render,!1,!0);const{latestValues:ot,renderState:st}=it;this.latestValues=ot,this.baseTarget={...ot},this.initialValues=tt.initial?{...ot}:{},this.renderState=st,this.parent=et,this.props=tt,this.presenceContext=rt,this.depth=et?et.depth+1:0,this.reducedMotionConfig=nt,this.options=at,this.isControllingVariants=isControllingVariants(tt),this.isVariantNode=isVariantNode(tt),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(et&&et.current);const{willChange:lt,...ct}=this.scrapeMotionValuesFromProps(tt,{});for(const ut in ct){const dt=ct[ut];ot[ut]!==void 0&&isMotionValue(dt)&&(dt.set(ot[ut],!1),isWillChangeMotionValue(lt)&&lt.add(ut))}}scrapeMotionValuesFromProps(et,tt){return{}}mount(et){this.current=et,visualElementStore.set(et,this),this.projection&&!this.projection.instance&&this.projection.mount(et),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((tt,rt)=>this.bindToMotionValue(rt,tt)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(et=>et()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const et in this.events)this.events[et].clear();for(const et in this.features)this.features[et].unmount();this.current=null}bindToMotionValue(et,tt){const rt=transformProps.has(et),nt=tt.on("change",at=>{this.latestValues[et]=at,this.props.onUpdate&&frame.update(this.notifyUpdate,!1,!0),rt&&this.projection&&(this.projection.isTransformDirty=!0)}),it=tt.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(et,()=>{nt(),it()})}sortNodePosition(et){return!this.current||!this.sortInstanceNodePosition||this.type!==et.type?0:this.sortInstanceNodePosition(this.current,et.current)}loadFeatures({children:et,...tt},rt,nt,it){let at,ot;for(let st=0;st<numFeatures;st++){const lt=featureNames[st],{isEnabled:ct,Feature:ut,ProjectionNode:dt,MeasureLayout:ft}=featureDefinitions[lt];dt&&(at=dt),ct(tt)&&(!this.features[lt]&&ut&&(this.features[lt]=new ut(this)),ft&&(ot=ft))}if((this.type==="html"||this.type==="svg")&&!this.projection&&at){this.projection=new at(this.latestValues,this.parent&&this.parent.projection);const{layoutId:st,layout:lt,drag:ct,dragConstraints:ut,layoutScroll:dt,layoutRoot:ft}=tt;this.projection.setOptions({layoutId:st,layout:lt,alwaysMeasureLayout:!!ct||ut&&isRefObject(ut),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof lt=="string"?lt:"both",initialPromotionConfig:it,layoutScroll:dt,layoutRoot:ft})}return ot}updateFeatures(){for(const et in this.features){const tt=this.features[et];tt.isMounted?tt.update():(tt.mount(),tt.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(et){return this.latestValues[et]}setStaticValue(et,tt){this.latestValues[et]=tt}makeTargetAnimatable(et,tt=!0){return this.makeTargetAnimatableFromInstance(et,this.props,tt)}update(et,tt){(et.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=et,this.prevPresenceContext=this.presenceContext,this.presenceContext=tt;for(let rt=0;rt<propEventHandlers.length;rt++){const nt=propEventHandlers[rt];this.propEventSubscriptions[nt]&&(this.propEventSubscriptions[nt](),delete this.propEventSubscriptions[nt]);const it=et["on"+nt];it&&(this.propEventSubscriptions[nt]=this.on(nt,it))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(et,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(et){return this.props.variants?this.props.variants[et]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(et=!1){if(et)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const rt=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(rt.initial=this.props.initial),rt}const tt={};for(let rt=0;rt<numVariantProps;rt++){const nt=variantProps[rt],it=this.props[nt];(isVariantLabel(it)||it===!1)&&(tt[nt]=it)}return tt}addVariantChild(et){const tt=this.getClosestVariantNode();if(tt)return tt.variantChildren&&tt.variantChildren.add(et),()=>tt.variantChildren.delete(et)}addValue(et,tt){tt!==this.values.get(et)&&(this.removeValue(et),this.bindToMotionValue(et,tt)),this.values.set(et,tt),this.latestValues[et]=tt.get()}removeValue(et){this.values.delete(et);const tt=this.valueSubscriptions.get(et);tt&&(tt(),this.valueSubscriptions.delete(et)),delete this.latestValues[et],this.removeValueFromRenderState(et,this.renderState)}hasValue(et){return this.values.has(et)}getValue(et,tt){if(this.props.values&&this.props.values[et])return this.props.values[et];let rt=this.values.get(et);return rt===void 0&&tt!==void 0&&(rt=motionValue(tt,{owner:this}),this.addValue(et,rt)),rt}readValue(et){var tt;return this.latestValues[et]!==void 0||!this.current?this.latestValues[et]:(tt=this.getBaseTargetFromProps(this.props,et))!==null&&tt!==void 0?tt:this.readValueFromInstance(this.current,et,this.options)}setBaseTarget(et,tt){this.baseTarget[et]=tt}getBaseTarget(et){var tt;const{initial:rt}=this.props,nt=typeof rt=="string"||typeof rt=="object"?(tt=resolveVariantFromProps(this.props,rt))===null||tt===void 0?void 0:tt[et]:void 0;if(rt&&nt!==void 0)return nt;const it=this.getBaseTargetFromProps(this.props,et);return it!==void 0&&!isMotionValue(it)?it:this.initialValues[et]!==void 0&&nt===void 0?void 0:this.baseTarget[et]}on(et,tt){return this.events[et]||(this.events[et]=new SubscriptionManager),this.events[et].add(tt)}notify(et,...tt){this.events[et]&&this.events[et].notify(...tt)}}class DOMVisualElement extends VisualElement{sortInstanceNodePosition(et,tt){return et.compareDocumentPosition(tt)&2?1:-1}getBaseTargetFromProps(et,tt){return et.style?et.style[tt]:void 0}removeValueFromRenderState(et,{vars:tt,style:rt}){delete tt[et],delete rt[et]}makeTargetAnimatableFromInstance({transition:et,transitionEnd:tt,...rt},{transformValues:nt},it){let at=getOrigin(rt,et||{},this);if(nt&&(tt&&(tt=nt(tt)),rt&&(rt=nt(rt)),at&&(at=nt(at))),it){checkTargetForNewValues(this,rt,at);const ot=parseDomVariant(this,rt,at,tt);tt=ot.transitionEnd,rt=ot.target}return{transition:et,transitionEnd:tt,...rt}}}function getComputedStyle$1(_e){return window.getComputedStyle(_e)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html"}readValueFromInstance(et,tt){if(transformProps.has(tt)){const rt=getDefaultValueType(tt);return rt&&rt.default||0}else{const rt=getComputedStyle$1(et),nt=(isCSSVariableName(tt)?rt.getPropertyValue(tt):rt[tt])||0;return typeof nt=="string"?nt.trim():nt}}measureInstanceViewportBox(et,{transformPagePoint:tt}){return measureViewportBox(et,tt)}build(et,tt,rt,nt){buildHTMLStyles(et,tt,rt,nt.transformTemplate)}scrapeMotionValuesFromProps(et,tt){return scrapeMotionValuesFromProps$1(et,tt)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:et}=this.props;isMotionValue(et)&&(this.childSubscription=et.on("change",tt=>{this.current&&(this.current.textContent=`${tt}`)}))}renderInstance(et,tt,rt,nt){renderHTML(et,tt,rt,nt)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(et,tt){return et[tt]}readValueFromInstance(et,tt){if(transformProps.has(tt)){const rt=getDefaultValueType(tt);return rt&&rt.default||0}return tt=camelCaseAttributes.has(tt)?tt:camelToDash(tt),et.getAttribute(tt)}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps(et,tt){return scrapeMotionValuesFromProps(et,tt)}build(et,tt,rt,nt){buildSVGAttrs(et,tt,rt,this.isSVGTag,nt.transformTemplate)}renderInstance(et,tt,rt,nt){renderSVG(et,tt,rt,nt)}mount(et){this.isSVGTag=isSVGTag(et.tagName),super.mount(et)}}const createDomVisualElement=(_e,et)=>isSVGComponent(_e)?new SVGVisualElement(et,{enableHardwareAcceleration:!1}):new HTMLVisualElement(et,{enableHardwareAcceleration:!0}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy((_e,et)=>createDomMotionConfig(_e,et,preloadedFeatures,createDomVisualElement));function useIsMounted(){const _e=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>(_e.current=!0,()=>{_e.current=!1}),[]),_e}function useForceUpdate(){const _e=useIsMounted(),[et,tt]=reactExports.useState(0),rt=reactExports.useCallback(()=>{_e.current&&tt(et+1)},[et]);return[reactExports.useCallback(()=>frame.postRender(rt),[rt]),et]}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(et){const tt=this.props.childRef.current;if(tt&&et.isPresent&&!this.props.isPresent){const rt=this.props.sizeRef.current;rt.height=tt.offsetHeight||0,rt.width=tt.offsetWidth||0,rt.top=tt.offsetTop,rt.left=tt.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:_e,isPresent:et}){const tt=reactExports.useId(),rt=reactExports.useRef(null),nt=reactExports.useRef({width:0,height:0,top:0,left:0});return reactExports.useInsertionEffect(()=>{const{width:it,height:at,top:ot,left:st}=nt.current;if(et||!rt.current||!it||!at)return;rt.current.dataset.motionPopId=tt;const lt=document.createElement("style");return document.head.appendChild(lt),lt.sheet&&lt.sheet.insertRule(`
          [data-motion-pop-id="${tt}"] {
            position: absolute !important;
            width: ${it}px !important;
            height: ${at}px !important;
            top: ${ot}px !important;
            left: ${st}px !important;
          }
        `),()=>{document.head.removeChild(lt)}},[et]),reactExports.createElement(PopChildMeasure,{isPresent:et,childRef:rt,sizeRef:nt},reactExports.cloneElement(_e,{ref:rt}))}const PresenceChild=({children:_e,initial:et,isPresent:tt,onExitComplete:rt,custom:nt,presenceAffectsLayout:it,mode:at})=>{const ot=useConstant(newChildrenMap),st=reactExports.useId(),lt=reactExports.useMemo(()=>({id:st,initial:et,isPresent:tt,custom:nt,onExitComplete:ct=>{ot.set(ct,!0);for(const ut of ot.values())if(!ut)return;rt&&rt()},register:ct=>(ot.set(ct,!1),()=>ot.delete(ct))}),it?void 0:[tt]);return reactExports.useMemo(()=>{ot.forEach((ct,ut)=>ot.set(ut,!1))},[tt]),reactExports.useEffect(()=>{!tt&&!ot.size&&rt&&rt()},[tt]),at==="popLayout"&&(_e=reactExports.createElement(PopChild,{isPresent:tt},_e)),reactExports.createElement(PresenceContext.Provider,{value:lt},_e)};function newChildrenMap(){return new Map}function useUnmountEffect(_e){return reactExports.useEffect(()=>()=>_e(),[])}const getChildKey=_e=>_e.key||"";function updateChildLookup(_e,et){_e.forEach(tt=>{const rt=getChildKey(tt);et.set(rt,tt)})}function onlyElements(_e){const et=[];return reactExports.Children.forEach(_e,tt=>{reactExports.isValidElement(tt)&&et.push(tt)}),et}const AnimatePresence=({children:_e,custom:et,initial:tt=!0,onExitComplete:rt,exitBeforeEnter:nt,presenceAffectsLayout:it=!0,mode:at="sync"})=>{const ot=reactExports.useContext(LayoutGroupContext).forceRender||useForceUpdate()[0],st=useIsMounted(),lt=onlyElements(_e);let ct=lt;const ut=reactExports.useRef(new Map).current,dt=reactExports.useRef(ct),ft=reactExports.useRef(new Map).current,pt=reactExports.useRef(!0);if(useIsomorphicLayoutEffect$1(()=>{pt.current=!1,updateChildLookup(lt,ft),dt.current=ct}),useUnmountEffect(()=>{pt.current=!0,ft.clear(),ut.clear()}),pt.current)return reactExports.createElement(reactExports.Fragment,null,ct.map(gt=>reactExports.createElement(PresenceChild,{key:getChildKey(gt),isPresent:!0,initial:tt?void 0:!1,presenceAffectsLayout:it,mode:at},gt)));ct=[...ct];const ht=dt.current.map(getChildKey),yt=lt.map(getChildKey),mt=ht.length;for(let gt=0;gt<mt;gt++){const vt=ht[gt];yt.indexOf(vt)===-1&&!ut.has(vt)&&ut.set(vt,void 0)}return at==="wait"&&ut.size&&(ct=[]),ut.forEach((gt,vt)=>{if(yt.indexOf(vt)!==-1)return;const St=ft.get(vt);if(!St)return;const xt=ht.indexOf(vt);let Ct=gt;if(!Ct){const wt=()=>{ut.delete(vt);const _t=Array.from(ft.keys()).filter(Ot=>!yt.includes(Ot));if(_t.forEach(Ot=>ft.delete(Ot)),dt.current=lt.filter(Ot=>{const kt=getChildKey(Ot);return kt===vt||_t.includes(kt)}),!ut.size){if(st.current===!1)return;ot(),rt&&rt()}};Ct=reactExports.createElement(PresenceChild,{key:getChildKey(St),isPresent:!1,onExitComplete:wt,custom:et,presenceAffectsLayout:it,mode:at},St),ut.set(vt,Ct)}ct.splice(xt,0,Ct)}),ct=ct.map(gt=>{const vt=gt.key;return ut.has(vt)?gt:reactExports.createElement(PresenceChild,{key:getChildKey(gt),isPresent:!0,presenceAffectsLayout:it,mode:at},gt)}),reactExports.createElement(reactExports.Fragment,null,ut.size?ct:ct.map(gt=>reactExports.cloneElement(gt)))},_exp$h=()=>motion.div,TooltipContent=styled_default(_exp$h())({name:"TooltipContent",class:"TooltipContent_t3oq6vx",propsAsIs:!0});function RMTooltip({children:_e,message:et,side:tt="right",align:rt="center",showOnTouch:nt=!1}){const[it,at]=reactExports.useState(!1);return et?jsxRuntimeExports.jsx(Provider$1,{delayDuration:.2,children:jsxRuntimeExports.jsxs(Root3,{onOpenChange:at,open:it,children:[jsxRuntimeExports.jsx(Trigger$1,{asChild:!0,onClick:()=>{isDesktopDevice()||nt&&at(!0)},children:_e}),jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsx(Content2$1,{sideOffset:12,align:rt,side:tt,style:{zIndex:999},children:jsxRuntimeExports.jsx(TooltipContent,{initial:{opacity:0},animate:{opacity:1},transition:{ease:"easeOut",duration:.2},children:typeof et=="string"?jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xxs",color:"inverse-on-surface-primary",children:et}):et})})})]})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:_e})}function getBackgroundColor(_e){switch(_e.backgroundColor){case"transparent":return"transparent";case"neutral":return"var(--surface-dim)";case"white":return"var(--color-white-100-8)";case"dark":return"var(--scrim-strong)"}}function getColor(_e){switch(_e.color){case"primary":return"var(--primary)";case"neutral":return"var(--on-surface-tertiary)";case"white":return"var(--inverse-on-surface-primary)";case"danger":return"var(--danger)"}}function getOutlineColor(_e){switch(_e.outline){case!1:return"transparent";case!0:case"weak":return"var(--border-weak)";case"strong":return"var(--border-strong)"}}const stateColors={"darken-neutral":{hover:"var(--darken-neutral-hover)",press:"var(--darken-neutral-press)"},"darken-primary":{hover:"var(--darken-primary-hover)",press:"var(--darken-primary-press)"},"lighten-neutral":{hover:"var(--lighten-neutral-hover)",press:"var(--lighten-neutral-press)"},"lighten-white":{hover:"var(--lighten-white-hover)",press:"var(--lighten-white-press)"}};function getStateColor(_e){return et=>stateColors[et.stateColor][_e]??"unset"}function getSize(_e){switch(_e.size){case"xl":return"48px";case"lg":return"40px";case"sm":return"32px";case"xs":return"24px"}}const _exp3$4=()=>getSize,_exp4$3=()=>getBackgroundColor,_exp5$3=()=>getOutlineColor,_exp6$2=()=>({shadow:_e})=>_e?"blur(10px)":"none",_exp7$1=()=>getColor,_exp8$1=()=>({shadow:_e})=>_e?["drop-shadow(rgba(0, 0, 0, 0.15) 1px 0px 0px)","drop-shadow(rgba(0, 0, 0, 0.15) 0px 1px 0px)","drop-shadow(rgba(0, 0, 0, 0.15) -1px 0px 0px)","drop-shadow(rgba(0, 0, 0, 0.15) 0px -1px 0px)"].join(" "):"none",_exp9$1=()=>getStateColor("hover"),_exp10$1=()=>getStateColor("press"),IconButton=styled_default("button")({name:"IconButton",class:"IconButton_i1r2l7k2",propsAsIs:!1,vars:{"i1r2l7k2-0":[_exp3$4()],"i1r2l7k2-1":[_exp4$3()],"i1r2l7k2-2":[_exp5$3()],"i1r2l7k2-3":[_exp6$2()],"i1r2l7k2-4":[_exp7$1()],"i1r2l7k2-5":[_exp8$1()],"i1r2l7k2-6":[_exp9$1()],"i1r2l7k2-7":[_exp10$1()]}});function RMIconButton({icon:_e,color:et="primary",backgroundColor:tt="neutral",stateColor:rt="darken-neutral",size:nt="lg",iconSize:it=nt,outline:at=!1,as:ot,shadow:st=!1,children:lt,tooltip:ct,...ut}){const dt=jsxRuntimeExports.jsxs(IconButton,{color:et,backgroundColor:tt,stateColor:rt,outline:at,shadow:st,as:ot,size:nt,...ut,children:[_e&&jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:_e,size:it}),lt]});return ct==null?dt:jsxRuntimeExports.jsx(RMTooltip,{message:ct.label,side:ct.position,children:dt})}const Header$4=styled_default("div")({name:"Header",class:"Header_h1mzkp1q",propsAsIs:!1}),StepperWrapper=styled_default("div")({name:"StepperWrapper",class:"StepperWrapper_sqwn1mf",propsAsIs:!1}),TitleWrapper=styled_default("div")({name:"TitleWrapper",class:"TitleWrapper_t1g2ngt0",propsAsIs:!1}),_exp$g=()=>RMIconButton,BackButton=styled_default(_exp$g())({name:"BackButton",class:"BackButton_bm5ai2e",propsAsIs:!0}),_exp3$3=()=>RMIconButton,SettingsButton=styled_default(_exp3$3())({name:"SettingsButton",class:"SettingsButton_s1bjpg9w",propsAsIs:!0}),STEP_INDEX={setup:0,recording:1,review:2};function RecordingLayoutHeader({step:_e,title:et,hideSeparator:tt=!1,transparentStepper:rt=!1,onBack:nt,onChangeSettings:it,children:at}){const ot=useMatchMedia("(max-width: 250px)");return jsxRuntimeExports.jsxs(Header$4,{"data-hide-separator":tt,children:[_e!=="hidden"&&jsxRuntimeExports.jsx(StepperWrapper,{"data-transparent":rt,children:jsxRuntimeExports.jsx(RMStepper,{layout:ot?"progress":"stepper",activeStepIndex:STEP_INDEX[_e],steps:[{label:"Setup"},{label:"Record"},{label:"Review"}]})}),(et!=null||nt!=null)&&jsxRuntimeExports.jsxs(TitleWrapper,{"data-settings-button":it!=null,children:[nt!=null&&jsxRuntimeExports.jsx(BackButton,{icon:faChevronLeft$1,size:"xl",tooltip:null,backgroundColor:"transparent",onClick:nt}),et!=null&&jsxRuntimeExports.jsx(RMText,{type:"serif",size:"l",color:"on-surface-primary",align:"center",children:et}),it!=null&&jsxRuntimeExports.jsx(SettingsButton,{icon:faGear,size:"xl",tooltip:null,backgroundColor:"transparent",color:"neutral",onClick:it})]}),at]})}function useElementSize(){const[_e,et]=reactExports.useState(null),[tt,rt]=reactExports.useState({width:0,height:0});return reactExports.useEffect(()=>{if(!_e)return;rt({width:_e.offsetWidth,height:_e.offsetHeight});const nt=new ResizeObserver(()=>{rt(it=>{const at={width:_e.offsetWidth,height:_e.offsetHeight};return at.width===it.width&&at.height===it.height?it:at})});return nt.observe(_e),()=>nt.disconnect()},[_e]),reactExports.useMemo(()=>[et,tt],[et,tt])}function useHasScroll(){const[_e,et]=reactExports.useState(null),[tt,rt]=reactExports.useState(!1);return reactExports.useEffect(()=>{if(!_e)return;const nt=()=>{rt(_e.scrollHeight>_e.clientHeight)};nt();const it=new ResizeObserver(nt);it.observe(_e);const at=new MutationObserver(nt);return at.observe(_e,{childList:!0,subtree:!0,characterData:!0}),()=>{it.disconnect(),at.disconnect()}},[_e]),reactExports.useMemo(()=>[et,tt,_e],[et,tt,_e])}const WordmarkSrc$1="data:image/svg+xml,%3csvg%20width='115'%20height='22'%20viewBox='0%200%20115%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M14.7914%206.46805C14.7914%202.83025%2012.4278%200.672241%208.46116%200.672241H0.610107V20.341H3.48746V12.2639H7.47466L11.0097%2020.341H13.8665V19.6628L10.3931%2012.0583C13.2294%2011.4418%2014.7914%209.44817%2014.7914%206.46805ZM3.48746%203.26186H8.194C10.7425%203.26186%2011.9345%204.26893%2011.9345%206.4475C11.9345%208.62607%2010.7425%209.63314%208.194%209.63314H3.48746V3.26186ZM27.1433%2015.7167C26.7117%2017.4842%2025.3963%2018.3474%2023.1355%2018.3474C20.4432%2018.3474%2018.7784%2016.7649%2018.5934%2014.0109H29.8973V12.5105C29.8973%208.2767%2027.2872%205.62542%2023.0739%205.62542C18.6346%205.62542%2015.8805%208.52333%2015.8805%2013.1682C15.8805%2017.9569%2018.5318%2020.711%2023.1355%2020.711C27.4721%2020.711%2029.5068%2018.1419%2029.959%2015.7578L30.0001%2015.5934H27.1844L27.1433%2015.7167ZM18.6757%2011.709C19.0867%209.40708%2020.7309%208.03007%2023.0739%208.03007C25.5608%208.03007%2027.02%209.32487%2027.1844%2011.709H18.6757ZM44.3459%208.3384C45.1475%206.52978%2046.6684%205.64601%2049.0114%205.64601C52.2998%205.64601%2054.1289%207.74238%2054.1289%2011.5857V20.3205H51.416V11.5652C51.416%209.18106%2050.3884%208.07122%2048.1893%208.07122C47.1%208.07122%2044.572%208.48227%2044.572%2012.2434V20.3205H41.8591V11.5652C41.8591%209.18106%2040.8314%208.07122%2038.6323%208.07122C37.543%208.07122%2035.0151%208.48227%2035.0151%2012.2434V20.3205H32.3021V6.03652H35.0151V8.15342V8.19453H35.0562C35.0767%208.19453%2035.0973%208.19453%2035.1384%208.11232C35.8988%206.44756%2037.317%205.64601%2039.4339%205.64601C41.6947%205.64601%2043.2772%206.63254%2044.0171%208.48227C44.0787%208.60559%2044.0993%208.60558%2044.161%208.60558C44.2226%208.60558%2044.2432%208.56448%2044.3254%208.37951L44.3459%208.3384ZM67.673%2015.7167C67.2414%2017.4842%2065.926%2018.3474%2063.6653%2018.3474C60.9729%2018.3474%2059.3081%2016.7649%2059.1232%2014.0109H70.427V12.5105C70.427%208.2767%2067.8169%205.62542%2063.6036%205.62542C59.1643%205.62542%2056.4102%208.52333%2056.4102%2013.1682C56.4102%2017.9569%2059.0615%2020.711%2063.6653%2020.711C68.0018%2020.711%2070.0365%2018.1419%2070.4887%2015.7578L70.5298%2015.5934H67.7141L67.673%2015.7167ZM59.2054%2011.709C59.6164%209.40708%2061.2606%208.03007%2063.6036%208.03007C66.0905%208.03007%2067.5497%209.32487%2067.7141%2011.709H59.2054ZM75.8119%208.40006C76.7779%206.48867%2078.2577%205.64601%2080.6623%205.64601C84.1768%205.64601%2086.1909%207.76293%2086.1909%2011.4418V20.3411H83.478V11.8529C83.478%209.38658%2082.2243%208.09177%2079.8608%208.09177C77.1273%208.09177%2075.6886%209.75652%2075.6886%2012.9216V20.3411H72.9757V6.05706H75.6886V8.46171C75.7708%208.48226%2075.7708%208.48227%2075.8119%208.40006ZM93.5693%202.27536H90.8563V6.03647H87.6296V8.48223H90.8563V16.1483C90.8563%2018.964%2092.2334%2020.341%2095.0491%2020.341H97.6181V17.8953H97.0632C95.7958%2017.8953%2095.04%2017.9573%2094.5131%2018.0005L94.5125%2018.0006C94.433%2018.0071%2094.3587%2018.0132%2094.2886%2018.0186C94.2331%2018.0232%2094.1806%2018.0279%2094.1309%2018.0322C93.9597%2018.0474%2093.82%2018.0597%2093.6926%2018.0597C93.5898%2018.0597%2093.5487%2018.0392%2093.5076%2017.998C93.4665%2017.9569%2093.446%2017.9158%2093.446%2017.8131C93.446%2017.6928%2093.457%2017.5615%2093.4709%2017.3951V17.395C93.476%2017.3339%2093.4816%2017.2682%2093.4871%2017.1965C93.5282%2016.6416%2093.5898%2015.7989%2093.5898%2014.1342V8.48223H97.6181V6.03647H93.5898V2.27536H93.5693ZM98.9745%2013.1888C98.9745%208.60558%20101.893%205.64601%20106.415%205.64601C110.936%205.64601%20113.855%208.60558%20113.855%2013.1888C113.855%2017.772%20110.936%2020.7316%20106.415%2020.7316C101.893%2020.7316%2098.9745%2017.772%2098.9745%2013.1888ZM106.415%2018.2858C109.312%2018.2858%20111.121%2016.3333%20111.121%2013.1888C111.121%2010.0443%20109.312%208.09177%20106.415%208.09177C103.517%208.09177%20101.708%2010.0443%20101.708%2013.1888C101.708%2016.3333%20103.517%2018.2858%20106.415%2018.2858Z'%20fill='%23F0EFEA'/%3e%3c/svg%3e",WordmarkSrc="data:image/svg+xml,%3csvg%20width='114'%20height='20'%20viewBox='0%200%20114%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M14.8036%205.77327C14.8036%202.15644%2012.4536%200.0108643%208.50987%200.0108643H0.704056V19.5663H3.56483V11.5357H7.52905L11.0437%2019.5663H13.884V18.892L10.4307%2011.3314C13.2506%2010.7183%2014.8036%208.73622%2014.8036%205.77327ZM3.56483%202.58556H8.24424C10.7781%202.58556%2011.9632%203.58683%2011.9632%205.75285C11.9632%207.91886%2010.7781%208.92013%208.24424%208.92013H3.56483V2.58556ZM27.0844%2014.9686C26.6553%2016.7259%2025.3475%2017.5842%2023.0998%2017.5842C20.4229%2017.5842%2018.7677%2016.0108%2018.5838%2013.2726H29.8226V11.7809C29.8226%207.57147%2027.2275%204.93548%2023.0385%204.93548C18.6247%204.93548%2015.8865%207.81668%2015.8865%2012.4348C15.8865%2017.1959%2018.5225%2019.9341%2023.0998%2019.9341C27.4114%2019.9341%2029.4344%2017.3798%2029.8839%2015.0095L29.9248%2014.846H27.1253L27.0844%2014.9686ZM18.6656%2010.984C19.0743%208.69534%2020.709%207.32627%2023.0385%207.32627C25.511%207.32627%2026.9618%208.61361%2027.1253%2010.984H18.6656ZM44.1879%207.63278C44.9848%205.83458%2046.4969%204.9559%2048.8264%204.9559C52.0958%204.9559%2053.9145%207.04019%2053.9145%2010.8614V19.5459H51.2172V10.8409C51.2172%208.47058%2050.1955%207.36714%2048.009%207.36714C46.926%207.36714%2044.4126%207.77582%2044.4126%2011.5153V19.5459H41.7153V10.8409C41.7153%208.47058%2040.6936%207.36714%2038.5072%207.36714C37.4242%207.36714%2034.9108%207.77582%2034.9108%2011.5153V19.5459H32.2135V5.34416H34.9108V7.44887V7.48974H34.9516C34.9721%207.48974%2034.9925%207.48973%2035.0334%207.408C35.7894%205.75283%2037.1994%204.9559%2039.3041%204.9559C41.5519%204.9559%2043.1253%205.93675%2043.8609%207.77582C43.9222%207.89842%2043.9426%207.89842%2044.0039%207.89842C44.0653%207.89842%2044.0857%207.85756%2044.1674%207.67365L44.1879%207.63278ZM67.3805%2014.9686C66.9514%2016.7259%2065.6436%2017.5842%2063.3958%2017.5842C60.719%2017.5842%2059.0638%2016.0108%2058.8799%2013.2726H70.1187V11.7809C70.1187%207.57148%2067.5235%204.93548%2063.3345%204.93548C58.9208%204.93548%2056.1826%207.81669%2056.1826%2012.4348C56.1826%2017.1959%2058.8186%2019.9341%2063.3958%2019.9341C67.7074%2019.9341%2069.7304%2017.3798%2070.18%2015.0095L70.2208%2014.846H67.4214L67.3805%2014.9686ZM58.9616%2010.984C59.3703%208.69535%2061.0051%207.32627%2063.3345%207.32627C65.8071%207.32627%2067.2579%208.61361%2067.4214%2010.984H58.9616ZM75.4724%207.69408C76.4328%205.79371%2077.9041%204.9559%2080.2949%204.9559C83.7891%204.9559%2085.7916%207.06062%2085.7916%2010.7183V19.5663H83.0943V11.127C83.0943%208.67491%2081.8479%207.38757%2079.4979%207.38757C76.7802%207.38757%2075.3498%209.04273%2075.3498%2012.1896V19.5663H72.6525V5.36459H75.3498V7.75538C75.4315%207.77581%2075.4316%207.77581%2075.4724%207.69408ZM93.1274%201.60473H90.4301V5.34417H87.222V7.77583H90.4301V15.3977C90.4301%2018.1972%2091.7992%2019.5663%2094.5987%2019.5663H97.1529V17.1346H96.6012C95.3411%2017.1346%2094.5897%2017.1963%2094.0658%2017.2393C93.9865%2017.2458%2093.9125%2017.2519%2093.8426%2017.2572C93.7877%2017.2618%2093.7358%2017.2664%2093.6866%2017.2708L93.6858%2017.2708C93.5156%2017.2858%2093.3767%2017.2981%2093.25%2017.2981C93.1479%2017.2981%2093.107%2017.2777%2093.0661%2017.2368C93.0253%2017.1959%2093.0048%2017.1551%2093.0048%2017.0529C93.0048%2016.9333%2093.0158%2016.8027%2093.0297%2016.6372V16.6371C93.0347%2016.5765%2093.0402%2016.5111%2093.0457%2016.4399C93.0866%2015.8882%2093.1479%2015.0504%2093.1479%2013.3952V7.77583H97.1529V5.34417H93.1479V1.60473H93.1274ZM98.5016%2012.4552C98.5016%207.89842%20101.403%204.9559%20105.899%204.9559C110.394%204.9559%20113.296%207.89842%20113.296%2012.4552C113.296%2017.012%20110.394%2019.9545%20105.899%2019.9545C101.403%2019.9545%2098.5016%2017.012%2098.5016%2012.4552ZM105.899%2017.5229C108.78%2017.5229%20110.578%2015.5816%20110.578%2012.4552C110.578%209.3288%20108.78%207.38757%20105.899%207.38757C103.018%207.38757%20101.219%209.3288%20101.219%2012.4552C101.219%2015.5816%20103.018%2017.5229%20105.899%2017.5229Z'%20fill='%23283E3E'/%3e%3c/svg%3e",Wordmark$4=styled_default("img")({name:"Wordmark",class:"Wordmark_wud61k4",propsAsIs:!1}),ColorSrcMap={primary:WordmarkSrc,neutral:WordmarkSrc$1};function RMWordmark({destination:_e="app",color:et="primary",className:tt}){const rt=()=>{window.open(_e==="app"?"/":"https://remento.co","_blank")};return jsxRuntimeExports.jsx(Wordmark$4,{src:ColorSrcMap[et],onClick:rt,className:tt,alt:"Remento Wordmark",role:"link","aria-label":"Remento Home"})}const Background=styled_default("div")({name:"Background",class:"Background_b1q01zy5",propsAsIs:!1}),Root$1=styled_default("div")({name:"Root",class:"Root_rojnuzl",propsAsIs:!1}),Scrollable=styled_default("div")({name:"Scrollable",class:"Scrollable_s1jahdiw",propsAsIs:!1}),ScrollableContent=styled_default("div")({name:"ScrollableContent",class:"ScrollableContent_s71g1cu",propsAsIs:!1}),_exp$f=()=>motion.div,WordmarkWrapper=styled_default(_exp$f())({name:"WordmarkWrapper",class:"WordmarkWrapper_w1ducabx",propsAsIs:!0}),_exp2$6=()=>RMWordmark,Wordmark$3=styled_default(_exp2$6())({name:"Wordmark",class:"Wordmark_w1fr1uy8",propsAsIs:!0});function RecordingLayoutRoot({dark:_e=!1,centered:et=!1,showLogo:tt,animateLogo:rt,Header:nt,Footer:it,children:at}){const[ot,st]=useHasScroll();return jsxRuntimeExports.jsx(Background,{"data-dark":_e,"data-has-scroll":st,children:jsxRuntimeExports.jsxs(Root$1,{children:[tt&&jsxRuntimeExports.jsx(WordmarkWrapper,{"data-dark":_e,initial:rt?{opacity:0}:!1,animate:{opacity:1,transition:{duration:.5,ease:"easeIn"}},children:jsxRuntimeExports.jsx(Wordmark$3,{color:_e?"neutral":"primary"})}),nt,jsxRuntimeExports.jsx(Scrollable,{children:jsxRuntimeExports.jsx(ScrollableContent,{ref:ot,"data-centered":et,children:at})}),it]})})}const RecordingLayout={Root:RecordingLayoutRoot,Header:RecordingLayoutHeader,Footer:RecordingLayoutFooter};function RecordingIntroLoader(){return jsxRuntimeExports.jsx(RecordingLayout.Root,{dark:!0,children:jsxRuntimeExports.jsx(RMLoader,{center:!0,light:!0})})}var AclGroupStatus;(function(_e){_e.ACTIVE="active"})(AclGroupStatus||(AclGroupStatus={}));var AclGroupRole;(function(_e){_e.OWNER="owner",_e.ADMIN="admin",_e.COLLABORATOR="collaborator",_e.VIEWER="viewer"})(AclGroupRole||(AclGroupRole={}));const ACL_VIEW_ROLES=[AclGroupRole.OWNER,AclGroupRole.ADMIN,AclGroupRole.COLLABORATOR,AclGroupRole.VIEWER],ACL_EDIT_ROLES=[AclGroupRole.OWNER,AclGroupRole.ADMIN,AclGroupRole.COLLABORATOR];AclGroupRole.OWNER,AclGroupRole.ADMIN,AclGroupRole.COLLABORATOR;AclGroupRole.OWNER,AclGroupRole.ADMIN,AclGroupRole.COLLABORATOR;var AclGroupMemberStatus;(function(_e){_e.ACTIVE="active"})(AclGroupMemberStatus||(AclGroupMemberStatus={}));var AclGroupInviteeStatus;(function(_e){_e.ACTIVE="active"})(AclGroupInviteeStatus||(AclGroupInviteeStatus={}));var AclGroupTokenStatus;(function(_e){_e.ACTIVE="active"})(AclGroupTokenStatus||(AclGroupTokenStatus={}));var EntityType;(function(_e){_e.PERSON="person",_e.USER="user",_e.USER_NOTIFICATION_SETTINGS="user-notification-settings",_e.PROJECT="series",_e.PROMPT="prompt",_e.QUESTION="question",_e.ASSET="asset",_e.ASSET_ALTERNATIVE="asset-alternative",_e.BOOK_TEMPLATE="book",_e.BOOK_ORDER="book-order",_e.STORY="story",_e.REACTION="reaction",_e.REACTION_SUGGESTION="reaction-suggestion",_e.RECORDING="recording",_e.ACL_GROUP="acl-group",_e.ACL_GROUP_MEMBER="acl-group-member",_e.ACL_GROUP_INVITEE="acl-group-invitee",_e.POLL="poll",_e.POLL_VOTE="poll-vote",_e.USER_PURCHASE="user-purchase",_e.PARTNER_ORDER="partner-order"})(EntityType||(EntityType={}));var ErrorType;(function(_e){_e.UNAUTHORIZED="unauthorized",_e.FORBIDDEN="forbidden",_e.NOT_FOUND="not-found",_e.INVALID_REQUEST="invalid-request",_e.CONFLICT="conflict",_e.ONGOING_MIGRATION="ongoing-migration",_e.NETWORK_ERROR="network-error",_e.UNKNOWN="unknown"})(ErrorType||(ErrorType={}));class RementoError extends Error{constructor(tt){super(tt.message,{cause:tt.cause});kr(this,"message");kr(this,"type");kr(this,"retriable");kr(this,"data");kr(this,"cause");this.message=tt.message,this.type=tt.type,this.retriable=tt.retriable,this.data=tt.data,this.cause=tt.cause,Object.setPrototypeOf(this,RementoError.prototype)}}class UnauthorizedError extends RementoError{constructor(et,tt){super({message:et??"unauthorized",type:ErrorType.UNAUTHORIZED,retriable:!1,cause:tt}),Object.setPrototypeOf(this,UnauthorizedError.prototype)}}class ForbiddenError extends RementoError{constructor(et,tt){super({message:et??"forbidden",type:ErrorType.FORBIDDEN,retriable:!1,cause:tt}),Object.setPrototypeOf(this,ForbiddenError.prototype)}}class NotFoundError extends RementoError{constructor(et,tt,rt){super({message:et,type:ErrorType.NOT_FOUND,retriable:!1,cause:rt,data:tt}),Object.setPrototypeOf(this,NotFoundError.prototype)}}class InvalidRequestError extends RementoError{constructor(et,tt){super({message:et,type:ErrorType.INVALID_REQUEST,retriable:!1,cause:tt}),Object.setPrototypeOf(this,InvalidRequestError.prototype)}}var ConflictErrorType;(function(_e){_e.VCLOCK_MISMATCH="vclock-mismatch",_e.EMAIL_ALREADY_PART_OF_ACL_GROUP="email-already-part-of-acl-group",_e.USER_ALREADY_EXISTS="user-already-exists",_e.STORYTELLER_ALREADY_EXISTS="storyteller-already-exists",_e.STORYTELLER_SAME_USER="storyteller-same-user",_e.STORY_SOCIAL_SHARE_LINK_ALREADY_EXISTS="story-social-share-link-already-exists"})(ConflictErrorType||(ConflictErrorType={}));class ConflictError extends RementoError{constructor(et,tt,rt){super({message:et,type:ErrorType.CONFLICT,retriable:!1,data:tt,cause:rt}),Object.setPrototypeOf(this,ConflictError.prototype)}}class OngoingMigrationError extends RementoError{constructor(et,tt){super({message:et??"ongoing-migration",type:ErrorType.ONGOING_MIGRATION,retriable:!0,cause:tt}),Object.setPrototypeOf(this,OngoingMigrationError.prototype)}}class NetworkError extends RementoError{constructor(et,tt){super({message:et??"network-error",type:ErrorType.NETWORK_ERROR,retriable:!0,cause:tt}),Object.setPrototypeOf(this,NetworkError.prototype)}}class UnknownError extends RementoError{constructor(et,tt){super({message:et,type:ErrorType.UNKNOWN,retriable:!0,cause:tt}),Object.setPrototypeOf(this,UnknownError.prototype)}}function isSerializableRementoError(_e){return typeof _e!="object"||_e===null?!1:"type"in _e&&typeof _e.type=="string"?Object.values(ErrorType).includes(_e.type):!1}function deserializeRementoError(_e){switch(_e.type){case ErrorType.UNAUTHORIZED:return new UnauthorizedError(_e.message,_e.cause);case ErrorType.FORBIDDEN:return new ForbiddenError(_e.message,_e.cause);case ErrorType.NOT_FOUND:return new NotFoundError(_e.message,_e.data,_e.cause);case ErrorType.INVALID_REQUEST:return new InvalidRequestError(_e.message,_e.cause);case ErrorType.CONFLICT:return new ConflictError(_e.message,_e.data,_e.cause);case ErrorType.ONGOING_MIGRATION:return new OngoingMigrationError(_e.message,_e.cause);case ErrorType.NETWORK_ERROR:return new NetworkError(_e.message,_e.cause);case ErrorType.UNKNOWN:return new UnknownError(_e.message,_e.cause)}}function notNull(_e){return _e!=null}const mobileMediaQuery=window.matchMedia("(max-width:  768px)"),tabletMediaQuery=window.matchMedia("(min-width: 769px) and (max-width: 1280px)"),mobileLandscapeMediaQuery=window.matchMedia("(max-height: 430px)"),portraitMediaQuery=window.matchMedia("(orientation: portrait)");function isMobileMatches(){return mobileMediaQuery.matches?!0:portraitMediaQuery.matches?!1:mobileLandscapeMediaQuery.matches}function isTabletMatches(){return tabletMediaQuery.matches}function isMobileViewport(){return isMobileMatches()}function isTabletViewport(){return isTabletMatches()}function observeViewport(_e){let et=null;const tt=()=>{const rt=isMobileViewport(),nt=isTabletViewport(),it=`${rt}${nt}`;it!==et&&(_e(rt,nt),et=it)};return mobileMediaQuery.addEventListener("change",tt),mobileLandscapeMediaQuery.addEventListener("change",tt),tabletMediaQuery.addEventListener("change",tt),()=>{mobileMediaQuery.removeEventListener("change",tt),mobileLandscapeMediaQuery.removeEventListener("change",tt),tabletMediaQuery.removeEventListener("change",tt)}}function useIsMobileViewport(){const[_e,et]=reactExports.useState(()=>isMobileViewport());return reactExports.useLayoutEffect(()=>observeViewport((tt,rt)=>et(tt)),[]),_e}function useIsTabletViewport(){const[_e,et]=reactExports.useState(()=>isTabletViewport());return reactExports.useLayoutEffect(()=>observeViewport((tt,rt)=>et(rt)),[]),_e}function useIsMobileOrTabletViewport(){const[_e,et]=reactExports.useState(()=>isTabletViewport()||isMobileViewport());return reactExports.useLayoutEffect(()=>observeViewport((tt,rt)=>et(tt||rt)),[]),_e}function useIsDesktopViewport(){return!useIsMobileOrTabletViewport()}const ToastContent=styled_default("div")({name:"ToastContent",class:"ToastContent_t1bafkrh",propsAsIs:!1}),LottieWrapper=styled_default("div")({name:"LottieWrapper",class:"LottieWrapper_l38jfyd",propsAsIs:!1}),_exp$e=()=>RMText,Cancel$2=styled_default(_exp$e())({name:"Cancel",class:"Cancel_c1h45als",propsAsIs:!0});function RMLoadingToast({onLoadingCancel:_e,children:et}){const tt=reactExports.useRef(null),rt=reactExports.useCallback(nt=>{if(nt===null){tt.current&&(tt.current.destroy(),tt.current=null);return}const it=lottie.loadAnimation({container:nt,renderer:"svg",loop:!0,autoplay:!0,animationData:spinnerAnimationData});tt.current=it},[]);return jsxRuntimeExports.jsxs(ToastContent,{children:[jsxRuntimeExports.jsx(LottieWrapper,{ref:rt}),et,_e&&jsxRuntimeExports.jsx(Cancel$2,{onClick:_e,underline:!0,type:"sans",size:"xs",bold:!0,color:"on-surface-primary",children:"Cancel"})]})}function toast(_e,et="root-toast",tt,rt){let nt="bottom-center";et==="full-screen-toast"&&(nt=isMobileViewport()?"bottom-center":"top-center");const it=jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xs",bold:!0,color:"on-surface-primary",children:_e});return Q$1(rt!=null&&rt.isLoading?jsxRuntimeExports.jsx(RMLoadingToast,{onLoadingCancel:rt==null?void 0:rt.onLoadingCancel,children:it}):it,{type:tt,containerId:et,hideProgressBar:typeof(rt==null?void 0:rt.progress)>"u",autoClose:rt!=null&&rt.isLoading?!1:3e3,closeButton:!1,position:nt,icon:!1,...rt})}function updateToast(_e,et,tt){Q$1.update(_e,{...tt,containerId:et,render:typeof tt.render=="string"?jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xs",bold:!0,color:"on-surface-primary",children:tt.render}):tt.render})}function removeToast(_e){Q$1.dismiss(_e)}var util;(function(_e){_e.assertEqual=nt=>nt;function et(nt){}_e.assertIs=et;function tt(nt){throw new Error}_e.assertNever=tt,_e.arrayToEnum=nt=>{const it={};for(const at of nt)it[at]=at;return it},_e.getValidEnumValues=nt=>{const it=_e.objectKeys(nt).filter(ot=>typeof nt[nt[ot]]!="number"),at={};for(const ot of it)at[ot]=nt[ot];return _e.objectValues(at)},_e.objectValues=nt=>_e.objectKeys(nt).map(function(it){return nt[it]}),_e.objectKeys=typeof Object.keys=="function"?nt=>Object.keys(nt):nt=>{const it=[];for(const at in nt)Object.prototype.hasOwnProperty.call(nt,at)&&it.push(at);return it},_e.find=(nt,it)=>{for(const at of nt)if(it(at))return at},_e.isInteger=typeof Number.isInteger=="function"?nt=>Number.isInteger(nt):nt=>typeof nt=="number"&&isFinite(nt)&&Math.floor(nt)===nt;function rt(nt,it=" | "){return nt.map(at=>typeof at=="string"?`'${at}'`:at).join(it)}_e.joinValues=rt,_e.jsonStringifyReplacer=(nt,it)=>typeof it=="bigint"?it.toString():it})(util||(util={}));var objectUtil;(function(_e){_e.mergeShapes=(et,tt)=>({...et,...tt})})(objectUtil||(objectUtil={}));const ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=_e=>{switch(typeof _e){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(_e)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(_e)?ZodParsedType.array:_e===null?ZodParsedType.null:_e.then&&typeof _e.then=="function"&&_e.catch&&typeof _e.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&_e instanceof Map?ZodParsedType.map:typeof Set<"u"&&_e instanceof Set?ZodParsedType.set:typeof Date<"u"&&_e instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=_e=>JSON.stringify(_e,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(et){super(),this.issues=[],this.addIssue=rt=>{this.issues=[...this.issues,rt]},this.addIssues=(rt=[])=>{this.issues=[...this.issues,...rt]};const tt=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,tt):this.__proto__=tt,this.name="ZodError",this.issues=et}get errors(){return this.issues}format(et){const tt=et||function(it){return it.message},rt={_errors:[]},nt=it=>{for(const at of it.issues)if(at.code==="invalid_union")at.unionErrors.map(nt);else if(at.code==="invalid_return_type")nt(at.returnTypeError);else if(at.code==="invalid_arguments")nt(at.argumentsError);else if(at.path.length===0)rt._errors.push(tt(at));else{let ot=rt,st=0;for(;st<at.path.length;){const lt=at.path[st];st===at.path.length-1?(ot[lt]=ot[lt]||{_errors:[]},ot[lt]._errors.push(tt(at))):ot[lt]=ot[lt]||{_errors:[]},ot=ot[lt],st++}}};return nt(this),rt}static assert(et){if(!(et instanceof ZodError))throw new Error(`Not a ZodError: ${et}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(et=tt=>tt.message){const tt={},rt=[];for(const nt of this.issues)nt.path.length>0?(tt[nt.path[0]]=tt[nt.path[0]]||[],tt[nt.path[0]].push(et(nt))):rt.push(et(nt));return{formErrors:rt,fieldErrors:tt}}get formErrors(){return this.flatten()}}ZodError.create=_e=>new ZodError(_e);const errorMap=(_e,et)=>{let tt;switch(_e.code){case ZodIssueCode.invalid_type:_e.received===ZodParsedType.undefined?tt="Required":tt=`Expected ${_e.expected}, received ${_e.received}`;break;case ZodIssueCode.invalid_literal:tt=`Invalid literal value, expected ${JSON.stringify(_e.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:tt=`Unrecognized key(s) in object: ${util.joinValues(_e.keys,", ")}`;break;case ZodIssueCode.invalid_union:tt="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:tt=`Invalid discriminator value. Expected ${util.joinValues(_e.options)}`;break;case ZodIssueCode.invalid_enum_value:tt=`Invalid enum value. Expected ${util.joinValues(_e.options)}, received '${_e.received}'`;break;case ZodIssueCode.invalid_arguments:tt="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:tt="Invalid function return type";break;case ZodIssueCode.invalid_date:tt="Invalid date";break;case ZodIssueCode.invalid_string:typeof _e.validation=="object"?"includes"in _e.validation?(tt=`Invalid input: must include "${_e.validation.includes}"`,typeof _e.validation.position=="number"&&(tt=`${tt} at one or more positions greater than or equal to ${_e.validation.position}`)):"startsWith"in _e.validation?tt=`Invalid input: must start with "${_e.validation.startsWith}"`:"endsWith"in _e.validation?tt=`Invalid input: must end with "${_e.validation.endsWith}"`:util.assertNever(_e.validation):_e.validation!=="regex"?tt=`Invalid ${_e.validation}`:tt="Invalid";break;case ZodIssueCode.too_small:_e.type==="array"?tt=`Array must contain ${_e.exact?"exactly":_e.inclusive?"at least":"more than"} ${_e.minimum} element(s)`:_e.type==="string"?tt=`String must contain ${_e.exact?"exactly":_e.inclusive?"at least":"over"} ${_e.minimum} character(s)`:_e.type==="number"?tt=`Number must be ${_e.exact?"exactly equal to ":_e.inclusive?"greater than or equal to ":"greater than "}${_e.minimum}`:_e.type==="date"?tt=`Date must be ${_e.exact?"exactly equal to ":_e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(_e.minimum))}`:tt="Invalid input";break;case ZodIssueCode.too_big:_e.type==="array"?tt=`Array must contain ${_e.exact?"exactly":_e.inclusive?"at most":"less than"} ${_e.maximum} element(s)`:_e.type==="string"?tt=`String must contain ${_e.exact?"exactly":_e.inclusive?"at most":"under"} ${_e.maximum} character(s)`:_e.type==="number"?tt=`Number must be ${_e.exact?"exactly":_e.inclusive?"less than or equal to":"less than"} ${_e.maximum}`:_e.type==="bigint"?tt=`BigInt must be ${_e.exact?"exactly":_e.inclusive?"less than or equal to":"less than"} ${_e.maximum}`:_e.type==="date"?tt=`Date must be ${_e.exact?"exactly":_e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(_e.maximum))}`:tt="Invalid input";break;case ZodIssueCode.custom:tt="Invalid input";break;case ZodIssueCode.invalid_intersection_types:tt="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:tt=`Number must be a multiple of ${_e.multipleOf}`;break;case ZodIssueCode.not_finite:tt="Number must be finite";break;default:tt=et.defaultError,util.assertNever(_e)}return{message:tt}};let overrideErrorMap=errorMap;function setErrorMap(_e){overrideErrorMap=_e}function getErrorMap(){return overrideErrorMap}const makeIssue=_e=>{const{data:et,path:tt,errorMaps:rt,issueData:nt}=_e,it=[...tt,...nt.path||[]],at={...nt,path:it};if(nt.message!==void 0)return{...nt,path:it,message:nt.message};let ot="";const st=rt.filter(lt=>!!lt).slice().reverse();for(const lt of st)ot=lt(at,{data:et,defaultError:ot}).message;return{...nt,path:it,message:ot}},EMPTY_PATH=[];function addIssueToContext(_e,et){const tt=getErrorMap(),rt=makeIssue({issueData:et,data:_e.data,path:_e.path,errorMaps:[_e.common.contextualErrorMap,_e.schemaErrorMap,tt,tt===errorMap?void 0:errorMap].filter(nt=>!!nt)});_e.common.issues.push(rt)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(et,tt){const rt=[];for(const nt of tt){if(nt.status==="aborted")return INVALID$3;nt.status==="dirty"&&et.dirty(),rt.push(nt.value)}return{status:et.value,value:rt}}static async mergeObjectAsync(et,tt){const rt=[];for(const nt of tt){const it=await nt.key,at=await nt.value;rt.push({key:it,value:at})}return ParseStatus.mergeObjectSync(et,rt)}static mergeObjectSync(et,tt){const rt={};for(const nt of tt){const{key:it,value:at}=nt;if(it.status==="aborted"||at.status==="aborted")return INVALID$3;it.status==="dirty"&&et.dirty(),at.status==="dirty"&&et.dirty(),it.value!=="__proto__"&&(typeof at.value<"u"||nt.alwaysSet)&&(rt[it.value]=at.value)}return{status:et.value,value:rt}}}const INVALID$3=Object.freeze({status:"aborted"}),DIRTY=_e=>({status:"dirty",value:_e}),OK=_e=>({status:"valid",value:_e}),isAborted=_e=>_e.status==="aborted",isDirty=_e=>_e.status==="dirty",isValid=_e=>_e.status==="valid",isAsync=_e=>typeof Promise<"u"&&_e instanceof Promise;function __classPrivateFieldGet(_e,et,tt,rt){if(typeof et=="function"?_e!==et||!rt:!et.has(_e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return et.get(_e)}function __classPrivateFieldSet(_e,et,tt,rt,nt){if(typeof et=="function"?_e!==et||!nt:!et.has(_e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return et.set(_e,tt),tt}typeof SuppressedError=="function"&&SuppressedError;var errorUtil;(function(_e){_e.errToObj=et=>typeof et=="string"?{message:et}:et||{},_e.toString=et=>typeof et=="string"?et:et==null?void 0:et.message})(errorUtil||(errorUtil={}));var _ZodEnum_cache,_ZodNativeEnum_cache;class ParseInputLazyPath{constructor(et,tt,rt,nt){this._cachedPath=[],this.parent=et,this.data=tt,this._path=rt,this._key=nt}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(_e,et)=>{if(isValid(et))return{success:!0,data:et.value};if(!_e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const tt=new ZodError(_e.common.issues);return this._error=tt,this._error}}};function processCreateParams(_e){if(!_e)return{};const{errorMap:et,invalid_type_error:tt,required_error:rt,description:nt}=_e;if(et&&(tt||rt))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return et?{errorMap:et,description:nt}:{errorMap:(at,ot)=>{var st,lt;const{message:ct}=_e;return at.code==="invalid_enum_value"?{message:ct??ot.defaultError}:typeof ot.data>"u"?{message:(st=ct??rt)!==null&&st!==void 0?st:ot.defaultError}:at.code!=="invalid_type"?{message:ot.defaultError}:{message:(lt=ct??tt)!==null&&lt!==void 0?lt:ot.defaultError}},description:nt}}class ZodType{constructor(et){this.spa=this.safeParseAsync,this._def=et,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(et){return getParsedType(et.data)}_getOrReturnCtx(et,tt){return tt||{common:et.parent.common,data:et.data,parsedType:getParsedType(et.data),schemaErrorMap:this._def.errorMap,path:et.path,parent:et.parent}}_processInputParams(et){return{status:new ParseStatus,ctx:{common:et.parent.common,data:et.data,parsedType:getParsedType(et.data),schemaErrorMap:this._def.errorMap,path:et.path,parent:et.parent}}}_parseSync(et){const tt=this._parse(et);if(isAsync(tt))throw new Error("Synchronous parse encountered promise.");return tt}_parseAsync(et){const tt=this._parse(et);return Promise.resolve(tt)}parse(et,tt){const rt=this.safeParse(et,tt);if(rt.success)return rt.data;throw rt.error}safeParse(et,tt){var rt;const nt={common:{issues:[],async:(rt=tt==null?void 0:tt.async)!==null&&rt!==void 0?rt:!1,contextualErrorMap:tt==null?void 0:tt.errorMap},path:(tt==null?void 0:tt.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:et,parsedType:getParsedType(et)},it=this._parseSync({data:et,path:nt.path,parent:nt});return handleResult(nt,it)}async parseAsync(et,tt){const rt=await this.safeParseAsync(et,tt);if(rt.success)return rt.data;throw rt.error}async safeParseAsync(et,tt){const rt={common:{issues:[],contextualErrorMap:tt==null?void 0:tt.errorMap,async:!0},path:(tt==null?void 0:tt.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:et,parsedType:getParsedType(et)},nt=this._parse({data:et,path:rt.path,parent:rt}),it=await(isAsync(nt)?nt:Promise.resolve(nt));return handleResult(rt,it)}refine(et,tt){const rt=nt=>typeof tt=="string"||typeof tt>"u"?{message:tt}:typeof tt=="function"?tt(nt):tt;return this._refinement((nt,it)=>{const at=et(nt),ot=()=>it.addIssue({code:ZodIssueCode.custom,...rt(nt)});return typeof Promise<"u"&&at instanceof Promise?at.then(st=>st?!0:(ot(),!1)):at?!0:(ot(),!1)})}refinement(et,tt){return this._refinement((rt,nt)=>et(rt)?!0:(nt.addIssue(typeof tt=="function"?tt(rt,nt):tt),!1))}_refinement(et){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:et}})}superRefine(et){return this._refinement(et)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(et){return ZodUnion.create([this,et],this._def)}and(et){return ZodIntersection.create(this,et,this._def)}transform(et){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:et}})}default(et){const tt=typeof et=="function"?et:()=>et;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:tt,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(et){const tt=typeof et=="function"?et:()=>et;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:tt,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(et){const tt=this.constructor;return new tt({...this._def,description:et})}pipe(et){return ZodPipeline.create(this,et)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(_e){let et="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return _e.precision?et=`${et}\\.\\d{${_e.precision}}`:_e.precision==null&&(et=`${et}(\\.\\d+)?`),et}function timeRegex(_e){return new RegExp(`^${timeRegexSource(_e)}$`)}function datetimeRegex(_e){let et=`${dateRegexSource}T${timeRegexSource(_e)}`;const tt=[];return tt.push(_e.local?"Z?":"Z"),_e.offset&&tt.push("([+-]\\d{2}:?\\d{2})"),et=`${et}(${tt.join("|")})`,new RegExp(`^${et}$`)}function isValidIP(_e,et){return!!((et==="v4"||!et)&&ipv4Regex.test(_e)||(et==="v6"||!et)&&ipv6Regex.test(_e))}class ZodString extends ZodType{_parse(et){if(this._def.coerce&&(et.data=String(et.data)),this._getType(et)!==ZodParsedType.string){const it=this._getOrReturnCtx(et);return addIssueToContext(it,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:it.parsedType}),INVALID$3}const rt=new ParseStatus;let nt;for(const it of this._def.checks)if(it.kind==="min")et.data.length<it.value&&(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{code:ZodIssueCode.too_small,minimum:it.value,type:"string",inclusive:!0,exact:!1,message:it.message}),rt.dirty());else if(it.kind==="max")et.data.length>it.value&&(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{code:ZodIssueCode.too_big,maximum:it.value,type:"string",inclusive:!0,exact:!1,message:it.message}),rt.dirty());else if(it.kind==="length"){const at=et.data.length>it.value,ot=et.data.length<it.value;(at||ot)&&(nt=this._getOrReturnCtx(et,nt),at?addIssueToContext(nt,{code:ZodIssueCode.too_big,maximum:it.value,type:"string",inclusive:!0,exact:!0,message:it.message}):ot&&addIssueToContext(nt,{code:ZodIssueCode.too_small,minimum:it.value,type:"string",inclusive:!0,exact:!0,message:it.message}),rt.dirty())}else if(it.kind==="email")emailRegex.test(et.data)||(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{validation:"email",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(et.data)||(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{validation:"emoji",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="uuid")uuidRegex.test(et.data)||(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{validation:"uuid",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="nanoid")nanoidRegex.test(et.data)||(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="cuid")cuidRegex.test(et.data)||(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{validation:"cuid",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="cuid2")cuid2Regex.test(et.data)||(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="ulid")ulidRegex.test(et.data)||(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{validation:"ulid",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="url")try{new URL(et.data)}catch{nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{validation:"url",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty()}else it.kind==="regex"?(it.regex.lastIndex=0,it.regex.test(et.data)||(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{validation:"regex",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty())):it.kind==="trim"?et.data=et.data.trim():it.kind==="includes"?et.data.includes(it.value,it.position)||(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{code:ZodIssueCode.invalid_string,validation:{includes:it.value,position:it.position},message:it.message}),rt.dirty()):it.kind==="toLowerCase"?et.data=et.data.toLowerCase():it.kind==="toUpperCase"?et.data=et.data.toUpperCase():it.kind==="startsWith"?et.data.startsWith(it.value)||(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{code:ZodIssueCode.invalid_string,validation:{startsWith:it.value},message:it.message}),rt.dirty()):it.kind==="endsWith"?et.data.endsWith(it.value)||(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{code:ZodIssueCode.invalid_string,validation:{endsWith:it.value},message:it.message}),rt.dirty()):it.kind==="datetime"?datetimeRegex(it).test(et.data)||(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{code:ZodIssueCode.invalid_string,validation:"datetime",message:it.message}),rt.dirty()):it.kind==="date"?dateRegex.test(et.data)||(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{code:ZodIssueCode.invalid_string,validation:"date",message:it.message}),rt.dirty()):it.kind==="time"?timeRegex(it).test(et.data)||(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{code:ZodIssueCode.invalid_string,validation:"time",message:it.message}),rt.dirty()):it.kind==="duration"?durationRegex.test(et.data)||(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{validation:"duration",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty()):it.kind==="ip"?isValidIP(et.data,it.version)||(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{validation:"ip",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty()):it.kind==="base64"?base64Regex.test(et.data)||(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{validation:"base64",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty()):util.assertNever(it);return{status:rt.value,value:et.data}}_regex(et,tt,rt){return this.refinement(nt=>et.test(nt),{validation:tt,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(rt)})}_addCheck(et){return new ZodString({...this._def,checks:[...this._def.checks,et]})}email(et){return this._addCheck({kind:"email",...errorUtil.errToObj(et)})}url(et){return this._addCheck({kind:"url",...errorUtil.errToObj(et)})}emoji(et){return this._addCheck({kind:"emoji",...errorUtil.errToObj(et)})}uuid(et){return this._addCheck({kind:"uuid",...errorUtil.errToObj(et)})}nanoid(et){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(et)})}cuid(et){return this._addCheck({kind:"cuid",...errorUtil.errToObj(et)})}cuid2(et){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(et)})}ulid(et){return this._addCheck({kind:"ulid",...errorUtil.errToObj(et)})}base64(et){return this._addCheck({kind:"base64",...errorUtil.errToObj(et)})}ip(et){return this._addCheck({kind:"ip",...errorUtil.errToObj(et)})}datetime(et){var tt,rt;return typeof et=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:et}):this._addCheck({kind:"datetime",precision:typeof(et==null?void 0:et.precision)>"u"?null:et==null?void 0:et.precision,offset:(tt=et==null?void 0:et.offset)!==null&&tt!==void 0?tt:!1,local:(rt=et==null?void 0:et.local)!==null&&rt!==void 0?rt:!1,...errorUtil.errToObj(et==null?void 0:et.message)})}date(et){return this._addCheck({kind:"date",message:et})}time(et){return typeof et=="string"?this._addCheck({kind:"time",precision:null,message:et}):this._addCheck({kind:"time",precision:typeof(et==null?void 0:et.precision)>"u"?null:et==null?void 0:et.precision,...errorUtil.errToObj(et==null?void 0:et.message)})}duration(et){return this._addCheck({kind:"duration",...errorUtil.errToObj(et)})}regex(et,tt){return this._addCheck({kind:"regex",regex:et,...errorUtil.errToObj(tt)})}includes(et,tt){return this._addCheck({kind:"includes",value:et,position:tt==null?void 0:tt.position,...errorUtil.errToObj(tt==null?void 0:tt.message)})}startsWith(et,tt){return this._addCheck({kind:"startsWith",value:et,...errorUtil.errToObj(tt)})}endsWith(et,tt){return this._addCheck({kind:"endsWith",value:et,...errorUtil.errToObj(tt)})}min(et,tt){return this._addCheck({kind:"min",value:et,...errorUtil.errToObj(tt)})}max(et,tt){return this._addCheck({kind:"max",value:et,...errorUtil.errToObj(tt)})}length(et,tt){return this._addCheck({kind:"length",value:et,...errorUtil.errToObj(tt)})}nonempty(et){return this.min(1,errorUtil.errToObj(et))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(et=>et.kind==="datetime")}get isDate(){return!!this._def.checks.find(et=>et.kind==="date")}get isTime(){return!!this._def.checks.find(et=>et.kind==="time")}get isDuration(){return!!this._def.checks.find(et=>et.kind==="duration")}get isEmail(){return!!this._def.checks.find(et=>et.kind==="email")}get isURL(){return!!this._def.checks.find(et=>et.kind==="url")}get isEmoji(){return!!this._def.checks.find(et=>et.kind==="emoji")}get isUUID(){return!!this._def.checks.find(et=>et.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(et=>et.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(et=>et.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(et=>et.kind==="cuid2")}get isULID(){return!!this._def.checks.find(et=>et.kind==="ulid")}get isIP(){return!!this._def.checks.find(et=>et.kind==="ip")}get isBase64(){return!!this._def.checks.find(et=>et.kind==="base64")}get minLength(){let et=null;for(const tt of this._def.checks)tt.kind==="min"&&(et===null||tt.value>et)&&(et=tt.value);return et}get maxLength(){let et=null;for(const tt of this._def.checks)tt.kind==="max"&&(et===null||tt.value<et)&&(et=tt.value);return et}}ZodString.create=_e=>{var et;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(et=_e==null?void 0:_e.coerce)!==null&&et!==void 0?et:!1,...processCreateParams(_e)})};function floatSafeRemainder(_e,et){const tt=(_e.toString().split(".")[1]||"").length,rt=(et.toString().split(".")[1]||"").length,nt=tt>rt?tt:rt,it=parseInt(_e.toFixed(nt).replace(".","")),at=parseInt(et.toFixed(nt).replace(".",""));return it%at/Math.pow(10,nt)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(et){if(this._def.coerce&&(et.data=Number(et.data)),this._getType(et)!==ZodParsedType.number){const it=this._getOrReturnCtx(et);return addIssueToContext(it,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:it.parsedType}),INVALID$3}let rt;const nt=new ParseStatus;for(const it of this._def.checks)it.kind==="int"?util.isInteger(et.data)||(rt=this._getOrReturnCtx(et,rt),addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:it.message}),nt.dirty()):it.kind==="min"?(it.inclusive?et.data<it.value:et.data<=it.value)&&(rt=this._getOrReturnCtx(et,rt),addIssueToContext(rt,{code:ZodIssueCode.too_small,minimum:it.value,type:"number",inclusive:it.inclusive,exact:!1,message:it.message}),nt.dirty()):it.kind==="max"?(it.inclusive?et.data>it.value:et.data>=it.value)&&(rt=this._getOrReturnCtx(et,rt),addIssueToContext(rt,{code:ZodIssueCode.too_big,maximum:it.value,type:"number",inclusive:it.inclusive,exact:!1,message:it.message}),nt.dirty()):it.kind==="multipleOf"?floatSafeRemainder(et.data,it.value)!==0&&(rt=this._getOrReturnCtx(et,rt),addIssueToContext(rt,{code:ZodIssueCode.not_multiple_of,multipleOf:it.value,message:it.message}),nt.dirty()):it.kind==="finite"?Number.isFinite(et.data)||(rt=this._getOrReturnCtx(et,rt),addIssueToContext(rt,{code:ZodIssueCode.not_finite,message:it.message}),nt.dirty()):util.assertNever(it);return{status:nt.value,value:et.data}}gte(et,tt){return this.setLimit("min",et,!0,errorUtil.toString(tt))}gt(et,tt){return this.setLimit("min",et,!1,errorUtil.toString(tt))}lte(et,tt){return this.setLimit("max",et,!0,errorUtil.toString(tt))}lt(et,tt){return this.setLimit("max",et,!1,errorUtil.toString(tt))}setLimit(et,tt,rt,nt){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:et,value:tt,inclusive:rt,message:errorUtil.toString(nt)}]})}_addCheck(et){return new ZodNumber({...this._def,checks:[...this._def.checks,et]})}int(et){return this._addCheck({kind:"int",message:errorUtil.toString(et)})}positive(et){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(et)})}negative(et){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(et)})}nonpositive(et){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(et)})}nonnegative(et){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(et)})}multipleOf(et,tt){return this._addCheck({kind:"multipleOf",value:et,message:errorUtil.toString(tt)})}finite(et){return this._addCheck({kind:"finite",message:errorUtil.toString(et)})}safe(et){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(et)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(et)})}get minValue(){let et=null;for(const tt of this._def.checks)tt.kind==="min"&&(et===null||tt.value>et)&&(et=tt.value);return et}get maxValue(){let et=null;for(const tt of this._def.checks)tt.kind==="max"&&(et===null||tt.value<et)&&(et=tt.value);return et}get isInt(){return!!this._def.checks.find(et=>et.kind==="int"||et.kind==="multipleOf"&&util.isInteger(et.value))}get isFinite(){let et=null,tt=null;for(const rt of this._def.checks){if(rt.kind==="finite"||rt.kind==="int"||rt.kind==="multipleOf")return!0;rt.kind==="min"?(tt===null||rt.value>tt)&&(tt=rt.value):rt.kind==="max"&&(et===null||rt.value<et)&&(et=rt.value)}return Number.isFinite(tt)&&Number.isFinite(et)}}ZodNumber.create=_e=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(_e==null?void 0:_e.coerce)||!1,...processCreateParams(_e)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(et){if(this._def.coerce&&(et.data=BigInt(et.data)),this._getType(et)!==ZodParsedType.bigint){const it=this._getOrReturnCtx(et);return addIssueToContext(it,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:it.parsedType}),INVALID$3}let rt;const nt=new ParseStatus;for(const it of this._def.checks)it.kind==="min"?(it.inclusive?et.data<it.value:et.data<=it.value)&&(rt=this._getOrReturnCtx(et,rt),addIssueToContext(rt,{code:ZodIssueCode.too_small,type:"bigint",minimum:it.value,inclusive:it.inclusive,message:it.message}),nt.dirty()):it.kind==="max"?(it.inclusive?et.data>it.value:et.data>=it.value)&&(rt=this._getOrReturnCtx(et,rt),addIssueToContext(rt,{code:ZodIssueCode.too_big,type:"bigint",maximum:it.value,inclusive:it.inclusive,message:it.message}),nt.dirty()):it.kind==="multipleOf"?et.data%it.value!==BigInt(0)&&(rt=this._getOrReturnCtx(et,rt),addIssueToContext(rt,{code:ZodIssueCode.not_multiple_of,multipleOf:it.value,message:it.message}),nt.dirty()):util.assertNever(it);return{status:nt.value,value:et.data}}gte(et,tt){return this.setLimit("min",et,!0,errorUtil.toString(tt))}gt(et,tt){return this.setLimit("min",et,!1,errorUtil.toString(tt))}lte(et,tt){return this.setLimit("max",et,!0,errorUtil.toString(tt))}lt(et,tt){return this.setLimit("max",et,!1,errorUtil.toString(tt))}setLimit(et,tt,rt,nt){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:et,value:tt,inclusive:rt,message:errorUtil.toString(nt)}]})}_addCheck(et){return new ZodBigInt({...this._def,checks:[...this._def.checks,et]})}positive(et){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(et)})}negative(et){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(et)})}nonpositive(et){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(et)})}nonnegative(et){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(et)})}multipleOf(et,tt){return this._addCheck({kind:"multipleOf",value:et,message:errorUtil.toString(tt)})}get minValue(){let et=null;for(const tt of this._def.checks)tt.kind==="min"&&(et===null||tt.value>et)&&(et=tt.value);return et}get maxValue(){let et=null;for(const tt of this._def.checks)tt.kind==="max"&&(et===null||tt.value<et)&&(et=tt.value);return et}}ZodBigInt.create=_e=>{var et;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(et=_e==null?void 0:_e.coerce)!==null&&et!==void 0?et:!1,...processCreateParams(_e)})};class ZodBoolean extends ZodType{_parse(et){if(this._def.coerce&&(et.data=!!et.data),this._getType(et)!==ZodParsedType.boolean){const rt=this._getOrReturnCtx(et);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:rt.parsedType}),INVALID$3}return OK(et.data)}}ZodBoolean.create=_e=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(_e==null?void 0:_e.coerce)||!1,...processCreateParams(_e)});class ZodDate extends ZodType{_parse(et){if(this._def.coerce&&(et.data=new Date(et.data)),this._getType(et)!==ZodParsedType.date){const it=this._getOrReturnCtx(et);return addIssueToContext(it,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:it.parsedType}),INVALID$3}if(isNaN(et.data.getTime())){const it=this._getOrReturnCtx(et);return addIssueToContext(it,{code:ZodIssueCode.invalid_date}),INVALID$3}const rt=new ParseStatus;let nt;for(const it of this._def.checks)it.kind==="min"?et.data.getTime()<it.value&&(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{code:ZodIssueCode.too_small,message:it.message,inclusive:!0,exact:!1,minimum:it.value,type:"date"}),rt.dirty()):it.kind==="max"?et.data.getTime()>it.value&&(nt=this._getOrReturnCtx(et,nt),addIssueToContext(nt,{code:ZodIssueCode.too_big,message:it.message,inclusive:!0,exact:!1,maximum:it.value,type:"date"}),rt.dirty()):util.assertNever(it);return{status:rt.value,value:new Date(et.data.getTime())}}_addCheck(et){return new ZodDate({...this._def,checks:[...this._def.checks,et]})}min(et,tt){return this._addCheck({kind:"min",value:et.getTime(),message:errorUtil.toString(tt)})}max(et,tt){return this._addCheck({kind:"max",value:et.getTime(),message:errorUtil.toString(tt)})}get minDate(){let et=null;for(const tt of this._def.checks)tt.kind==="min"&&(et===null||tt.value>et)&&(et=tt.value);return et!=null?new Date(et):null}get maxDate(){let et=null;for(const tt of this._def.checks)tt.kind==="max"&&(et===null||tt.value<et)&&(et=tt.value);return et!=null?new Date(et):null}}ZodDate.create=_e=>new ZodDate({checks:[],coerce:(_e==null?void 0:_e.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(_e)});class ZodSymbol extends ZodType{_parse(et){if(this._getType(et)!==ZodParsedType.symbol){const rt=this._getOrReturnCtx(et);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:rt.parsedType}),INVALID$3}return OK(et.data)}}ZodSymbol.create=_e=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(_e)});class ZodUndefined extends ZodType{_parse(et){if(this._getType(et)!==ZodParsedType.undefined){const rt=this._getOrReturnCtx(et);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:rt.parsedType}),INVALID$3}return OK(et.data)}}ZodUndefined.create=_e=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(_e)});class ZodNull extends ZodType{_parse(et){if(this._getType(et)!==ZodParsedType.null){const rt=this._getOrReturnCtx(et);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:rt.parsedType}),INVALID$3}return OK(et.data)}}ZodNull.create=_e=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(_e)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(et){return OK(et.data)}}ZodAny.create=_e=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(_e)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(et){return OK(et.data)}}ZodUnknown.create=_e=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(_e)});class ZodNever extends ZodType{_parse(et){const tt=this._getOrReturnCtx(et);return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:tt.parsedType}),INVALID$3}}ZodNever.create=_e=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(_e)});class ZodVoid extends ZodType{_parse(et){if(this._getType(et)!==ZodParsedType.undefined){const rt=this._getOrReturnCtx(et);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:rt.parsedType}),INVALID$3}return OK(et.data)}}ZodVoid.create=_e=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(_e)});class ZodArray extends ZodType{_parse(et){const{ctx:tt,status:rt}=this._processInputParams(et),nt=this._def;if(tt.parsedType!==ZodParsedType.array)return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:tt.parsedType}),INVALID$3;if(nt.exactLength!==null){const at=tt.data.length>nt.exactLength.value,ot=tt.data.length<nt.exactLength.value;(at||ot)&&(addIssueToContext(tt,{code:at?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:ot?nt.exactLength.value:void 0,maximum:at?nt.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:nt.exactLength.message}),rt.dirty())}if(nt.minLength!==null&&tt.data.length<nt.minLength.value&&(addIssueToContext(tt,{code:ZodIssueCode.too_small,minimum:nt.minLength.value,type:"array",inclusive:!0,exact:!1,message:nt.minLength.message}),rt.dirty()),nt.maxLength!==null&&tt.data.length>nt.maxLength.value&&(addIssueToContext(tt,{code:ZodIssueCode.too_big,maximum:nt.maxLength.value,type:"array",inclusive:!0,exact:!1,message:nt.maxLength.message}),rt.dirty()),tt.common.async)return Promise.all([...tt.data].map((at,ot)=>nt.type._parseAsync(new ParseInputLazyPath(tt,at,tt.path,ot)))).then(at=>ParseStatus.mergeArray(rt,at));const it=[...tt.data].map((at,ot)=>nt.type._parseSync(new ParseInputLazyPath(tt,at,tt.path,ot)));return ParseStatus.mergeArray(rt,it)}get element(){return this._def.type}min(et,tt){return new ZodArray({...this._def,minLength:{value:et,message:errorUtil.toString(tt)}})}max(et,tt){return new ZodArray({...this._def,maxLength:{value:et,message:errorUtil.toString(tt)}})}length(et,tt){return new ZodArray({...this._def,exactLength:{value:et,message:errorUtil.toString(tt)}})}nonempty(et){return this.min(1,et)}}ZodArray.create=(_e,et)=>new ZodArray({type:_e,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(et)});function deepPartialify(_e){if(_e instanceof ZodObject){const et={};for(const tt in _e.shape){const rt=_e.shape[tt];et[tt]=ZodOptional.create(deepPartialify(rt))}return new ZodObject({..._e._def,shape:()=>et})}else return _e instanceof ZodArray?new ZodArray({..._e._def,type:deepPartialify(_e.element)}):_e instanceof ZodOptional?ZodOptional.create(deepPartialify(_e.unwrap())):_e instanceof ZodNullable?ZodNullable.create(deepPartialify(_e.unwrap())):_e instanceof ZodTuple?ZodTuple.create(_e.items.map(et=>deepPartialify(et))):_e}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const et=this._def.shape(),tt=util.objectKeys(et);return this._cached={shape:et,keys:tt}}_parse(et){if(this._getType(et)!==ZodParsedType.object){const lt=this._getOrReturnCtx(et);return addIssueToContext(lt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:lt.parsedType}),INVALID$3}const{status:rt,ctx:nt}=this._processInputParams(et),{shape:it,keys:at}=this._getCached(),ot=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const lt in nt.data)at.includes(lt)||ot.push(lt);const st=[];for(const lt of at){const ct=it[lt],ut=nt.data[lt];st.push({key:{status:"valid",value:lt},value:ct._parse(new ParseInputLazyPath(nt,ut,nt.path,lt)),alwaysSet:lt in nt.data})}if(this._def.catchall instanceof ZodNever){const lt=this._def.unknownKeys;if(lt==="passthrough")for(const ct of ot)st.push({key:{status:"valid",value:ct},value:{status:"valid",value:nt.data[ct]}});else if(lt==="strict")ot.length>0&&(addIssueToContext(nt,{code:ZodIssueCode.unrecognized_keys,keys:ot}),rt.dirty());else if(lt!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const lt=this._def.catchall;for(const ct of ot){const ut=nt.data[ct];st.push({key:{status:"valid",value:ct},value:lt._parse(new ParseInputLazyPath(nt,ut,nt.path,ct)),alwaysSet:ct in nt.data})}}return nt.common.async?Promise.resolve().then(async()=>{const lt=[];for(const ct of st){const ut=await ct.key,dt=await ct.value;lt.push({key:ut,value:dt,alwaysSet:ct.alwaysSet})}return lt}).then(lt=>ParseStatus.mergeObjectSync(rt,lt)):ParseStatus.mergeObjectSync(rt,st)}get shape(){return this._def.shape()}strict(et){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...et!==void 0?{errorMap:(tt,rt)=>{var nt,it,at,ot;const st=(at=(it=(nt=this._def).errorMap)===null||it===void 0?void 0:it.call(nt,tt,rt).message)!==null&&at!==void 0?at:rt.defaultError;return tt.code==="unrecognized_keys"?{message:(ot=errorUtil.errToObj(et).message)!==null&&ot!==void 0?ot:st}:{message:st}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(et){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...et})})}merge(et){return new ZodObject({unknownKeys:et._def.unknownKeys,catchall:et._def.catchall,shape:()=>({...this._def.shape(),...et._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(et,tt){return this.augment({[et]:tt})}catchall(et){return new ZodObject({...this._def,catchall:et})}pick(et){const tt={};return util.objectKeys(et).forEach(rt=>{et[rt]&&this.shape[rt]&&(tt[rt]=this.shape[rt])}),new ZodObject({...this._def,shape:()=>tt})}omit(et){const tt={};return util.objectKeys(this.shape).forEach(rt=>{et[rt]||(tt[rt]=this.shape[rt])}),new ZodObject({...this._def,shape:()=>tt})}deepPartial(){return deepPartialify(this)}partial(et){const tt={};return util.objectKeys(this.shape).forEach(rt=>{const nt=this.shape[rt];et&&!et[rt]?tt[rt]=nt:tt[rt]=nt.optional()}),new ZodObject({...this._def,shape:()=>tt})}required(et){const tt={};return util.objectKeys(this.shape).forEach(rt=>{if(et&&!et[rt])tt[rt]=this.shape[rt];else{let it=this.shape[rt];for(;it instanceof ZodOptional;)it=it._def.innerType;tt[rt]=it}}),new ZodObject({...this._def,shape:()=>tt})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(_e,et)=>new ZodObject({shape:()=>_e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(et)});ZodObject.strictCreate=(_e,et)=>new ZodObject({shape:()=>_e,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(et)});ZodObject.lazycreate=(_e,et)=>new ZodObject({shape:_e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(et)});class ZodUnion extends ZodType{_parse(et){const{ctx:tt}=this._processInputParams(et),rt=this._def.options;function nt(it){for(const ot of it)if(ot.result.status==="valid")return ot.result;for(const ot of it)if(ot.result.status==="dirty")return tt.common.issues.push(...ot.ctx.common.issues),ot.result;const at=it.map(ot=>new ZodError(ot.ctx.common.issues));return addIssueToContext(tt,{code:ZodIssueCode.invalid_union,unionErrors:at}),INVALID$3}if(tt.common.async)return Promise.all(rt.map(async it=>{const at={...tt,common:{...tt.common,issues:[]},parent:null};return{result:await it._parseAsync({data:tt.data,path:tt.path,parent:at}),ctx:at}})).then(nt);{let it;const at=[];for(const st of rt){const lt={...tt,common:{...tt.common,issues:[]},parent:null},ct=st._parseSync({data:tt.data,path:tt.path,parent:lt});if(ct.status==="valid")return ct;ct.status==="dirty"&&!it&&(it={result:ct,ctx:lt}),lt.common.issues.length&&at.push(lt.common.issues)}if(it)return tt.common.issues.push(...it.ctx.common.issues),it.result;const ot=at.map(st=>new ZodError(st));return addIssueToContext(tt,{code:ZodIssueCode.invalid_union,unionErrors:ot}),INVALID$3}}get options(){return this._def.options}}ZodUnion.create=(_e,et)=>new ZodUnion({options:_e,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(et)});const getDiscriminator=_e=>_e instanceof ZodLazy?getDiscriminator(_e.schema):_e instanceof ZodEffects?getDiscriminator(_e.innerType()):_e instanceof ZodLiteral?[_e.value]:_e instanceof ZodEnum?_e.options:_e instanceof ZodNativeEnum?util.objectValues(_e.enum):_e instanceof ZodDefault?getDiscriminator(_e._def.innerType):_e instanceof ZodUndefined?[void 0]:_e instanceof ZodNull?[null]:_e instanceof ZodOptional?[void 0,...getDiscriminator(_e.unwrap())]:_e instanceof ZodNullable?[null,...getDiscriminator(_e.unwrap())]:_e instanceof ZodBranded||_e instanceof ZodReadonly?getDiscriminator(_e.unwrap()):_e instanceof ZodCatch?getDiscriminator(_e._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(et){const{ctx:tt}=this._processInputParams(et);if(tt.parsedType!==ZodParsedType.object)return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:tt.parsedType}),INVALID$3;const rt=this.discriminator,nt=tt.data[rt],it=this.optionsMap.get(nt);return it?tt.common.async?it._parseAsync({data:tt.data,path:tt.path,parent:tt}):it._parseSync({data:tt.data,path:tt.path,parent:tt}):(addIssueToContext(tt,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[rt]}),INVALID$3)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(et,tt,rt){const nt=new Map;for(const it of tt){const at=getDiscriminator(it.shape[et]);if(!at.length)throw new Error(`A discriminator value for key \`${et}\` could not be extracted from all schema options`);for(const ot of at){if(nt.has(ot))throw new Error(`Discriminator property ${String(et)} has duplicate value ${String(ot)}`);nt.set(ot,it)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:et,options:tt,optionsMap:nt,...processCreateParams(rt)})}}function mergeValues(_e,et){const tt=getParsedType(_e),rt=getParsedType(et);if(_e===et)return{valid:!0,data:_e};if(tt===ZodParsedType.object&&rt===ZodParsedType.object){const nt=util.objectKeys(et),it=util.objectKeys(_e).filter(ot=>nt.indexOf(ot)!==-1),at={..._e,...et};for(const ot of it){const st=mergeValues(_e[ot],et[ot]);if(!st.valid)return{valid:!1};at[ot]=st.data}return{valid:!0,data:at}}else if(tt===ZodParsedType.array&&rt===ZodParsedType.array){if(_e.length!==et.length)return{valid:!1};const nt=[];for(let it=0;it<_e.length;it++){const at=_e[it],ot=et[it],st=mergeValues(at,ot);if(!st.valid)return{valid:!1};nt.push(st.data)}return{valid:!0,data:nt}}else return tt===ZodParsedType.date&&rt===ZodParsedType.date&&+_e==+et?{valid:!0,data:_e}:{valid:!1}}class ZodIntersection extends ZodType{_parse(et){const{status:tt,ctx:rt}=this._processInputParams(et),nt=(it,at)=>{if(isAborted(it)||isAborted(at))return INVALID$3;const ot=mergeValues(it.value,at.value);return ot.valid?((isDirty(it)||isDirty(at))&&tt.dirty(),{status:tt.value,value:ot.data}):(addIssueToContext(rt,{code:ZodIssueCode.invalid_intersection_types}),INVALID$3)};return rt.common.async?Promise.all([this._def.left._parseAsync({data:rt.data,path:rt.path,parent:rt}),this._def.right._parseAsync({data:rt.data,path:rt.path,parent:rt})]).then(([it,at])=>nt(it,at)):nt(this._def.left._parseSync({data:rt.data,path:rt.path,parent:rt}),this._def.right._parseSync({data:rt.data,path:rt.path,parent:rt}))}}ZodIntersection.create=(_e,et,tt)=>new ZodIntersection({left:_e,right:et,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(tt)});class ZodTuple extends ZodType{_parse(et){const{status:tt,ctx:rt}=this._processInputParams(et);if(rt.parsedType!==ZodParsedType.array)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:rt.parsedType}),INVALID$3;if(rt.data.length<this._def.items.length)return addIssueToContext(rt,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID$3;!this._def.rest&&rt.data.length>this._def.items.length&&(addIssueToContext(rt,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tt.dirty());const it=[...rt.data].map((at,ot)=>{const st=this._def.items[ot]||this._def.rest;return st?st._parse(new ParseInputLazyPath(rt,at,rt.path,ot)):null}).filter(at=>!!at);return rt.common.async?Promise.all(it).then(at=>ParseStatus.mergeArray(tt,at)):ParseStatus.mergeArray(tt,it)}get items(){return this._def.items}rest(et){return new ZodTuple({...this._def,rest:et})}}ZodTuple.create=(_e,et)=>{if(!Array.isArray(_e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:_e,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(et)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(et){const{status:tt,ctx:rt}=this._processInputParams(et);if(rt.parsedType!==ZodParsedType.object)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:rt.parsedType}),INVALID$3;const nt=[],it=this._def.keyType,at=this._def.valueType;for(const ot in rt.data)nt.push({key:it._parse(new ParseInputLazyPath(rt,ot,rt.path,ot)),value:at._parse(new ParseInputLazyPath(rt,rt.data[ot],rt.path,ot)),alwaysSet:ot in rt.data});return rt.common.async?ParseStatus.mergeObjectAsync(tt,nt):ParseStatus.mergeObjectSync(tt,nt)}get element(){return this._def.valueType}static create(et,tt,rt){return tt instanceof ZodType?new ZodRecord({keyType:et,valueType:tt,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(rt)}):new ZodRecord({keyType:ZodString.create(),valueType:et,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(tt)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(et){const{status:tt,ctx:rt}=this._processInputParams(et);if(rt.parsedType!==ZodParsedType.map)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:rt.parsedType}),INVALID$3;const nt=this._def.keyType,it=this._def.valueType,at=[...rt.data.entries()].map(([ot,st],lt)=>({key:nt._parse(new ParseInputLazyPath(rt,ot,rt.path,[lt,"key"])),value:it._parse(new ParseInputLazyPath(rt,st,rt.path,[lt,"value"]))}));if(rt.common.async){const ot=new Map;return Promise.resolve().then(async()=>{for(const st of at){const lt=await st.key,ct=await st.value;if(lt.status==="aborted"||ct.status==="aborted")return INVALID$3;(lt.status==="dirty"||ct.status==="dirty")&&tt.dirty(),ot.set(lt.value,ct.value)}return{status:tt.value,value:ot}})}else{const ot=new Map;for(const st of at){const lt=st.key,ct=st.value;if(lt.status==="aborted"||ct.status==="aborted")return INVALID$3;(lt.status==="dirty"||ct.status==="dirty")&&tt.dirty(),ot.set(lt.value,ct.value)}return{status:tt.value,value:ot}}}}ZodMap.create=(_e,et,tt)=>new ZodMap({valueType:et,keyType:_e,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(tt)});class ZodSet extends ZodType{_parse(et){const{status:tt,ctx:rt}=this._processInputParams(et);if(rt.parsedType!==ZodParsedType.set)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:rt.parsedType}),INVALID$3;const nt=this._def;nt.minSize!==null&&rt.data.size<nt.minSize.value&&(addIssueToContext(rt,{code:ZodIssueCode.too_small,minimum:nt.minSize.value,type:"set",inclusive:!0,exact:!1,message:nt.minSize.message}),tt.dirty()),nt.maxSize!==null&&rt.data.size>nt.maxSize.value&&(addIssueToContext(rt,{code:ZodIssueCode.too_big,maximum:nt.maxSize.value,type:"set",inclusive:!0,exact:!1,message:nt.maxSize.message}),tt.dirty());const it=this._def.valueType;function at(st){const lt=new Set;for(const ct of st){if(ct.status==="aborted")return INVALID$3;ct.status==="dirty"&&tt.dirty(),lt.add(ct.value)}return{status:tt.value,value:lt}}const ot=[...rt.data.values()].map((st,lt)=>it._parse(new ParseInputLazyPath(rt,st,rt.path,lt)));return rt.common.async?Promise.all(ot).then(st=>at(st)):at(ot)}min(et,tt){return new ZodSet({...this._def,minSize:{value:et,message:errorUtil.toString(tt)}})}max(et,tt){return new ZodSet({...this._def,maxSize:{value:et,message:errorUtil.toString(tt)}})}size(et,tt){return this.min(et,tt).max(et,tt)}nonempty(et){return this.min(1,et)}}ZodSet.create=(_e,et)=>new ZodSet({valueType:_e,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(et)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(et){const{ctx:tt}=this._processInputParams(et);if(tt.parsedType!==ZodParsedType.function)return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:tt.parsedType}),INVALID$3;function rt(ot,st){return makeIssue({data:ot,path:tt.path,errorMaps:[tt.common.contextualErrorMap,tt.schemaErrorMap,getErrorMap(),errorMap].filter(lt=>!!lt),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:st}})}function nt(ot,st){return makeIssue({data:ot,path:tt.path,errorMaps:[tt.common.contextualErrorMap,tt.schemaErrorMap,getErrorMap(),errorMap].filter(lt=>!!lt),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:st}})}const it={errorMap:tt.common.contextualErrorMap},at=tt.data;if(this._def.returns instanceof ZodPromise){const ot=this;return OK(async function(...st){const lt=new ZodError([]),ct=await ot._def.args.parseAsync(st,it).catch(ft=>{throw lt.addIssue(rt(st,ft)),lt}),ut=await Reflect.apply(at,this,ct);return await ot._def.returns._def.type.parseAsync(ut,it).catch(ft=>{throw lt.addIssue(nt(ut,ft)),lt})})}else{const ot=this;return OK(function(...st){const lt=ot._def.args.safeParse(st,it);if(!lt.success)throw new ZodError([rt(st,lt.error)]);const ct=Reflect.apply(at,this,lt.data),ut=ot._def.returns.safeParse(ct,it);if(!ut.success)throw new ZodError([nt(ct,ut.error)]);return ut.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...et){return new ZodFunction({...this._def,args:ZodTuple.create(et).rest(ZodUnknown.create())})}returns(et){return new ZodFunction({...this._def,returns:et})}implement(et){return this.parse(et)}strictImplement(et){return this.parse(et)}static create(et,tt,rt){return new ZodFunction({args:et||ZodTuple.create([]).rest(ZodUnknown.create()),returns:tt||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(rt)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(et){const{ctx:tt}=this._processInputParams(et);return this._def.getter()._parse({data:tt.data,path:tt.path,parent:tt})}}ZodLazy.create=(_e,et)=>new ZodLazy({getter:_e,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(et)});class ZodLiteral extends ZodType{_parse(et){if(et.data!==this._def.value){const tt=this._getOrReturnCtx(et);return addIssueToContext(tt,{received:tt.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID$3}return{status:"valid",value:et.data}}get value(){return this._def.value}}ZodLiteral.create=(_e,et)=>new ZodLiteral({value:_e,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(et)});function createZodEnum(_e,et){return new ZodEnum({values:_e,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(et)})}class ZodEnum extends ZodType{constructor(){super(...arguments),_ZodEnum_cache.set(this,void 0)}_parse(et){if(typeof et.data!="string"){const tt=this._getOrReturnCtx(et),rt=this._def.values;return addIssueToContext(tt,{expected:util.joinValues(rt),received:tt.parsedType,code:ZodIssueCode.invalid_type}),INVALID$3}if(__classPrivateFieldGet(this,_ZodEnum_cache)||__classPrivateFieldSet(this,_ZodEnum_cache,new Set(this._def.values)),!__classPrivateFieldGet(this,_ZodEnum_cache).has(et.data)){const tt=this._getOrReturnCtx(et),rt=this._def.values;return addIssueToContext(tt,{received:tt.data,code:ZodIssueCode.invalid_enum_value,options:rt}),INVALID$3}return OK(et.data)}get options(){return this._def.values}get enum(){const et={};for(const tt of this._def.values)et[tt]=tt;return et}get Values(){const et={};for(const tt of this._def.values)et[tt]=tt;return et}get Enum(){const et={};for(const tt of this._def.values)et[tt]=tt;return et}extract(et,tt=this._def){return ZodEnum.create(et,{...this._def,...tt})}exclude(et,tt=this._def){return ZodEnum.create(this.options.filter(rt=>!et.includes(rt)),{...this._def,...tt})}}_ZodEnum_cache=new WeakMap;ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments),_ZodNativeEnum_cache.set(this,void 0)}_parse(et){const tt=util.getValidEnumValues(this._def.values),rt=this._getOrReturnCtx(et);if(rt.parsedType!==ZodParsedType.string&&rt.parsedType!==ZodParsedType.number){const nt=util.objectValues(tt);return addIssueToContext(rt,{expected:util.joinValues(nt),received:rt.parsedType,code:ZodIssueCode.invalid_type}),INVALID$3}if(__classPrivateFieldGet(this,_ZodNativeEnum_cache)||__classPrivateFieldSet(this,_ZodNativeEnum_cache,new Set(util.getValidEnumValues(this._def.values))),!__classPrivateFieldGet(this,_ZodNativeEnum_cache).has(et.data)){const nt=util.objectValues(tt);return addIssueToContext(rt,{received:rt.data,code:ZodIssueCode.invalid_enum_value,options:nt}),INVALID$3}return OK(et.data)}get enum(){return this._def.values}}_ZodNativeEnum_cache=new WeakMap;ZodNativeEnum.create=(_e,et)=>new ZodNativeEnum({values:_e,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(et)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(et){const{ctx:tt}=this._processInputParams(et);if(tt.parsedType!==ZodParsedType.promise&&tt.common.async===!1)return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:tt.parsedType}),INVALID$3;const rt=tt.parsedType===ZodParsedType.promise?tt.data:Promise.resolve(tt.data);return OK(rt.then(nt=>this._def.type.parseAsync(nt,{path:tt.path,errorMap:tt.common.contextualErrorMap})))}}ZodPromise.create=(_e,et)=>new ZodPromise({type:_e,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(et)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(et){const{status:tt,ctx:rt}=this._processInputParams(et),nt=this._def.effect||null,it={addIssue:at=>{addIssueToContext(rt,at),at.fatal?tt.abort():tt.dirty()},get path(){return rt.path}};if(it.addIssue=it.addIssue.bind(it),nt.type==="preprocess"){const at=nt.transform(rt.data,it);if(rt.common.async)return Promise.resolve(at).then(async ot=>{if(tt.value==="aborted")return INVALID$3;const st=await this._def.schema._parseAsync({data:ot,path:rt.path,parent:rt});return st.status==="aborted"?INVALID$3:st.status==="dirty"||tt.value==="dirty"?DIRTY(st.value):st});{if(tt.value==="aborted")return INVALID$3;const ot=this._def.schema._parseSync({data:at,path:rt.path,parent:rt});return ot.status==="aborted"?INVALID$3:ot.status==="dirty"||tt.value==="dirty"?DIRTY(ot.value):ot}}if(nt.type==="refinement"){const at=ot=>{const st=nt.refinement(ot,it);if(rt.common.async)return Promise.resolve(st);if(st instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return ot};if(rt.common.async===!1){const ot=this._def.schema._parseSync({data:rt.data,path:rt.path,parent:rt});return ot.status==="aborted"?INVALID$3:(ot.status==="dirty"&&tt.dirty(),at(ot.value),{status:tt.value,value:ot.value})}else return this._def.schema._parseAsync({data:rt.data,path:rt.path,parent:rt}).then(ot=>ot.status==="aborted"?INVALID$3:(ot.status==="dirty"&&tt.dirty(),at(ot.value).then(()=>({status:tt.value,value:ot.value}))))}if(nt.type==="transform")if(rt.common.async===!1){const at=this._def.schema._parseSync({data:rt.data,path:rt.path,parent:rt});if(!isValid(at))return at;const ot=nt.transform(at.value,it);if(ot instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:tt.value,value:ot}}else return this._def.schema._parseAsync({data:rt.data,path:rt.path,parent:rt}).then(at=>isValid(at)?Promise.resolve(nt.transform(at.value,it)).then(ot=>({status:tt.value,value:ot})):at);util.assertNever(nt)}}ZodEffects.create=(_e,et,tt)=>new ZodEffects({schema:_e,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:et,...processCreateParams(tt)});ZodEffects.createWithPreprocess=(_e,et,tt)=>new ZodEffects({schema:et,effect:{type:"preprocess",transform:_e},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(tt)});class ZodOptional extends ZodType{_parse(et){return this._getType(et)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(et)}unwrap(){return this._def.innerType}}ZodOptional.create=(_e,et)=>new ZodOptional({innerType:_e,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(et)});class ZodNullable extends ZodType{_parse(et){return this._getType(et)===ZodParsedType.null?OK(null):this._def.innerType._parse(et)}unwrap(){return this._def.innerType}}ZodNullable.create=(_e,et)=>new ZodNullable({innerType:_e,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(et)});class ZodDefault extends ZodType{_parse(et){const{ctx:tt}=this._processInputParams(et);let rt=tt.data;return tt.parsedType===ZodParsedType.undefined&&(rt=this._def.defaultValue()),this._def.innerType._parse({data:rt,path:tt.path,parent:tt})}removeDefault(){return this._def.innerType}}ZodDefault.create=(_e,et)=>new ZodDefault({innerType:_e,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof et.default=="function"?et.default:()=>et.default,...processCreateParams(et)});class ZodCatch extends ZodType{_parse(et){const{ctx:tt}=this._processInputParams(et),rt={...tt,common:{...tt.common,issues:[]}},nt=this._def.innerType._parse({data:rt.data,path:rt.path,parent:{...rt}});return isAsync(nt)?nt.then(it=>({status:"valid",value:it.status==="valid"?it.value:this._def.catchValue({get error(){return new ZodError(rt.common.issues)},input:rt.data})})):{status:"valid",value:nt.status==="valid"?nt.value:this._def.catchValue({get error(){return new ZodError(rt.common.issues)},input:rt.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(_e,et)=>new ZodCatch({innerType:_e,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof et.catch=="function"?et.catch:()=>et.catch,...processCreateParams(et)});class ZodNaN extends ZodType{_parse(et){if(this._getType(et)!==ZodParsedType.nan){const rt=this._getOrReturnCtx(et);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:rt.parsedType}),INVALID$3}return{status:"valid",value:et.data}}}ZodNaN.create=_e=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(_e)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(et){const{ctx:tt}=this._processInputParams(et),rt=tt.data;return this._def.type._parse({data:rt,path:tt.path,parent:tt})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(et){const{status:tt,ctx:rt}=this._processInputParams(et);if(rt.common.async)return(async()=>{const it=await this._def.in._parseAsync({data:rt.data,path:rt.path,parent:rt});return it.status==="aborted"?INVALID$3:it.status==="dirty"?(tt.dirty(),DIRTY(it.value)):this._def.out._parseAsync({data:it.value,path:rt.path,parent:rt})})();{const nt=this._def.in._parseSync({data:rt.data,path:rt.path,parent:rt});return nt.status==="aborted"?INVALID$3:nt.status==="dirty"?(tt.dirty(),{status:"dirty",value:nt.value}):this._def.out._parseSync({data:nt.value,path:rt.path,parent:rt})}}static create(et,tt){return new ZodPipeline({in:et,out:tt,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(et){const tt=this._def.innerType._parse(et),rt=nt=>(isValid(nt)&&(nt.value=Object.freeze(nt.value)),nt);return isAsync(tt)?tt.then(nt=>rt(nt)):rt(tt)}unwrap(){return this._def.innerType}}ZodReadonly.create=(_e,et)=>new ZodReadonly({innerType:_e,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(et)});function custom(_e,et={},tt){return _e?ZodAny.create().superRefine((rt,nt)=>{var it,at;if(!_e(rt)){const ot=typeof et=="function"?et(rt):typeof et=="string"?{message:et}:et,st=(at=(it=ot.fatal)!==null&&it!==void 0?it:tt)!==null&&at!==void 0?at:!0,lt=typeof ot=="string"?{message:ot}:ot;nt.addIssue({code:"custom",...lt,fatal:st})}}):ZodAny.create()}const late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(_e){_e.ZodString="ZodString",_e.ZodNumber="ZodNumber",_e.ZodNaN="ZodNaN",_e.ZodBigInt="ZodBigInt",_e.ZodBoolean="ZodBoolean",_e.ZodDate="ZodDate",_e.ZodSymbol="ZodSymbol",_e.ZodUndefined="ZodUndefined",_e.ZodNull="ZodNull",_e.ZodAny="ZodAny",_e.ZodUnknown="ZodUnknown",_e.ZodNever="ZodNever",_e.ZodVoid="ZodVoid",_e.ZodArray="ZodArray",_e.ZodObject="ZodObject",_e.ZodUnion="ZodUnion",_e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",_e.ZodIntersection="ZodIntersection",_e.ZodTuple="ZodTuple",_e.ZodRecord="ZodRecord",_e.ZodMap="ZodMap",_e.ZodSet="ZodSet",_e.ZodFunction="ZodFunction",_e.ZodLazy="ZodLazy",_e.ZodLiteral="ZodLiteral",_e.ZodEnum="ZodEnum",_e.ZodEffects="ZodEffects",_e.ZodNativeEnum="ZodNativeEnum",_e.ZodOptional="ZodOptional",_e.ZodNullable="ZodNullable",_e.ZodDefault="ZodDefault",_e.ZodCatch="ZodCatch",_e.ZodPromise="ZodPromise",_e.ZodBranded="ZodBranded",_e.ZodPipeline="ZodPipeline",_e.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(_e,et={message:`Input not instance of ${_e.name}`})=>custom(tt=>tt instanceof _e,et),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:_e=>ZodString.create({..._e,coerce:!0}),number:_e=>ZodNumber.create({..._e,coerce:!0}),boolean:_e=>ZodBoolean.create({..._e,coerce:!0}),bigint:_e=>ZodBigInt.create({..._e,coerce:!0}),date:_e=>ZodDate.create({..._e,coerce:!0})},NEVER=INVALID$3;var z$1=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID:INVALID$3,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,datetimeRegex,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError});const PRE_RENEWAL_PHASE_DURATION=30*24*60*60*1e3;var UserStatus;(function(_e){_e.REGISTERED="registered",_e.PLACEHOLDER="placeholder",_e.DELETED="deleted"})(UserStatus||(UserStatus={}));var UserTag;(function(_e){_e.PURCHASER="purchaser",_e.HOST="host",_e.STORYTELLER="storyteller",_e.COLLABORATOR="collaborator",_e.BABYBOOK_HOST="babybook-host",_e.BABYBOOK_STORYTELLER="babybook-storyteller",_e.BABYBOOK_COLLABORATOR="babybook-collaborator",_e.BIOGRAPHY_HOST="biography-host",_e.BIOGRAPHY_STORYTELLER="biography-storyteller",_e.BIOGRAPHY_COLLABORATOR="biography-collaborator",_e.AUTOBIOGRAPHY_HOST="autobiography-host",_e.AUTOBIOGRAPHY_STORYTELLER="autobiography-storyteller",_e.AUTOBIOGRAPHY_COLLABORATOR="autobiography-collaborator"})(UserTag||(UserTag={}));UserTag.BABYBOOK_HOST,UserTag.STORYTELLER,UserTag.BABYBOOK_STORYTELLER,UserTag.BIOGRAPHY_HOST,UserTag.AUTOBIOGRAPHY_HOST,UserTag.STORYTELLER,UserTag.AUTOBIOGRAPHY_STORYTELLER;UserTag.BABYBOOK_STORYTELLER,UserTag.BIOGRAPHY_STORYTELLER,UserTag.AUTOBIOGRAPHY_STORYTELLER;UserTag.BABYBOOK_COLLABORATOR,UserTag.BIOGRAPHY_COLLABORATOR,UserTag.AUTOBIOGRAPHY_COLLABORATOR;var NotificationStatus;(function(_e){_e.PENDING="pending",_e.SENT="sent"})(NotificationStatus||(NotificationStatus={}));var UserOnboardingActionType;(function(_e){_e.PHONE_COLLECTED="phoneCollected",_e.TERMS_ACCEPTED="termsAccepted",_e.POLL_CREATED="pollCreated",_e.WELCOME_SMS_SENT="welcomeSmsSent",_e.PURCHASER="purchaser",_e.STORYTELLER="storyteller",_e.COLLABORATOR="collaborator",_e.STORY_PERSPECTIVE_SETTINGS_VIEWED="storyPerspectiveSettingsViewed",_e.PROJECT_STORY_RECORDED_REFERRAL_SENT_1="projectStoryRecordedReferralSent1",_e.PROJECT_STORY_RECORDED_REFERRAL_SENT_2="projectStoryRecordedReferralSent2",_e.SUBSCRIPTION_RENEW_OFFER_VIEWED="subscriptionRenewOfferViewed",_e.SUBSCRIPTION_WILL_EXPIRE_BANNER_CLOSED="subscriptionWillExpireBannerClosed",_e.FIRST_RECORDING_DONE="firstRecordingDone",_e.TIMEZONE_UPDATED_VIEWED="timezoneUpdateViewed",_e.EDIT_STORY_HINT_VIEWED="editStoryHintViewed",_e.FIRST_PROMPT_ADDED="firstPromptAdded",_e.FIRST_COLLABORATOR_INVITE_SENT="firstCollaboratorInviteSent",_e.FIRST_REACTION_SENT="firstReactionSent",_e.FIRST_STORY_VIEWED="firstStoryViewed",_e.PROJECT_HOME_VIEWED="projectHomeViewed"})(UserOnboardingActionType||(UserOnboardingActionType={}));var UserSubscriptionStatus;(function(_e){_e.PENDING="pending",_e.ACTIVE="started",_e.INACTIVE="inactive",_e.CANCELED="canceled"})(UserSubscriptionStatus||(UserSubscriptionStatus={}));var SubscriptionType;(function(_e){_e.MONTHLY="monthly",_e.YEARLY="yearly"})(SubscriptionType||(SubscriptionType={}));var SubscriptionRenewalType;(function(_e){_e.MONTHLY="monthly",_e.YEARLY="yearly",_e.CANCEL="cancel"})(SubscriptionRenewalType||(SubscriptionRenewalType={}));var UserCouponType;(function(_e){_e.BUNDLE="bundle",_e.GIFT_CARD="gif-card"})(UserCouponType||(UserCouponType={}));var UserMutationType;(function(_e){_e.REGISTER_USER="register-user",_e.ADD_REF_ID="add-ref-id",_e.SET_RUID="add-contact-id",_e.SET_EMAIL="set-email",_e.SET_PHONE="set-phone",_e.SET_TIMEZONE="set-timezone",_e.ADD_TAGS="add-tag",_e.REMOVE_TAGS="remove-tag",_e.SET_STRIPE_CUSTOMER_ID="set-stripe-customer-id",_e.ADD_PAYMENT_METHOD="add-payment-method",_e.SET_AVAILABLE_SUBSCRIPTIONS="set-available-subscription",_e.ADD_AVAILABLE_SUBSCRIPTION="add-available-subscription",_e.DELETE_AVAILABLE_SUBSCRIPTION="delete-available-subscription",_e.REMOVE_ACL="remove-acl",_e.SET_ONBOARDING_HISTORY="set-onboarding-history",_e.SET_SUBSCRIPTION="set-subscription",_e.SET_SUBSCRIPTION_END_DATE="set-subscription-end-date",_e.SET_SUBSCRIPTION_STATUS="set-subscription-status",_e.ADD_AVAILABLE_STORYTELLER="add-available-storyteller",_e.DELETE_AVAILABLE_STORYTELLER="delete-available-storyteller",_e.SET_AVAILABLE_STORYTELLERS="set-available-storytellers",_e.SET_SUBSCRIPTION_RENEWAL_TYPE="set-subscription-renewal-type",_e.SET_SUBSCRIPTION_TYPE="set-subscription-type",_e.ADD_COUPON="add-coupon",_e.DELETE_COUPON="delete-coupon"})(UserMutationType||(UserMutationType={}));z$1.discriminatedUnion("type",[z$1.object({type:z$1.literal(UserMutationType.SET_EMAIL),value:z$1.string().email(),vclock:z$1.number(),version:z$1.number()}),z$1.object({type:z$1.literal(UserMutationType.SET_PHONE),value:z$1.object({number:z$1.string(),countryCode:z$1.string()}).nullable(),vclock:z$1.number(),version:z$1.number()}),z$1.object({type:z$1.literal(UserMutationType.SET_TIMEZONE),value:z$1.string(),vclock:z$1.number(),version:z$1.number()}),z$1.object({type:z$1.literal(UserMutationType.SET_ONBOARDING_HISTORY),value:z$1.discriminatedUnion("done",[z$1.object({done:z$1.literal(!0),action:z$1.nativeEnum(UserOnboardingActionType),timestamp:z$1.number().int().min(0)}),z$1.object({done:z$1.literal(!1),action:z$1.nativeEnum(UserOnboardingActionType)})]),vclock:z$1.number(),version:z$1.number()})]);var UserPurchaseStatus;(function(_e){_e.PENDING="pending",_e.COMPLETED="completed",_e.FAILED="failed",_e.REFUNDED="refunded"})(UserPurchaseStatus||(UserPurchaseStatus={}));var UserPurchaseProductType;(function(_e){_e.DIGITAL="digital",_e.STORYTELLER="project",_e.BOOK="book",_e.EBOOK="ebook",_e.BUNDLE="bundle",_e.GIFT_CARD="gift-card",_e.UNKNOWN="unknown"})(UserPurchaseProductType||(UserPurchaseProductType={}));var UserPurchaseProductStatus;(function(_e){_e.PAID="paid",_e.REFUNDED="refunded"})(UserPurchaseProductStatus||(UserPurchaseProductStatus={}));var UserPurchaseStripeMetadataType;(function(_e){_e.PAYMENT="payment",_e.SUBSCRIPTION="subscription"})(UserPurchaseStripeMetadataType||(UserPurchaseStripeMetadataType={}));var UserPurchaseMutationType;(function(_e){_e.SET_COMPLETED="set-completed",_e.SET_FAILED="set-failed",_e.SET_REFUNDED="set-refunded",_e.SET_PRODUCTS="set-products"})(UserPurchaseMutationType||(UserPurchaseMutationType={}));const Button=styled_default("button")({name:"Button",class:"Button_bkypm6u",propsAsIs:!1}),_exp$d=()=>_e=>_e.hidden?"hidden":"visible",ButtonContent=styled_default("div")({name:"ButtonContent",class:"ButtonContent_b1nklxes",propsAsIs:!1,vars:{"b1nklxes-0":[_exp$d()]}}),transparentBackgroundVariant="transparentBackgroundVariant_t1aj8si7",transparentNeutralBackgroundVariant="transparentNeutralBackgroundVariant_t5ewj60",outlinedBackgroundVariant="outlinedBackgroundVariant_o1ot6m5",neutralBackgroundVariant="neutralBackgroundVariant_n19kwyuw",neutralOnInverseBackgroundVariant="neutralOnInverseBackgroundVariant_nz6t679",primaryBackgroundVariant$1="primaryBackgroundVariant_p1xomhdk",gradientBackgroundVariant="gradientBackgroundVariant_g1xx5alc",dangerBackgroundVariant="dangerBackgroundVariant_dq4z91k",recordingBackgroundVariant="recordingBackgroundVariant_ry9tyeu",dashedBackgroundVariant="dashedBackgroundVariant_dfyn6hg",affirmativeBackgroundVariant="affirmativeBackgroundVariant_av4h96z",extraSmallSizeVariant="extraSmallSizeVariant_e12glb6m",smallSizeVariant$1="smallSizeVariant_siahd73",mediumSizeVariant="mediumSizeVariant_m1ffmc97",largeSizeVariant$1="largeSizeVariant_l13liao0",massiveSizeVariant="massiveSizeVariant_m1lpe8t",recordingColorVariant="recordingColorVariant_rdw67g7",whiteColorVariant="whiteColorVariant_wmqopwt",surfaceColorVariant="surfaceColorVariant_s1p72apm",secondaryColorVariant="secondaryColorVariant_s1gjob4o",dangerColorVariant="dangerColorVariant_d1xnwgiy",fullWidthVariant="fullWidthVariant_f8j7q51",Container$4=styled_default("div")({name:"Container",class:"Container_c1u0n1fc",propsAsIs:!1}),Dot=styled_default("div")({name:"Dot",class:"Dot_d1ropb02",propsAsIs:!1});function RMButtonLoader({}){return jsxRuntimeExports.jsxs(Container$4,{children:[jsxRuntimeExports.jsx(Dot,{}),jsxRuntimeExports.jsx(Dot,{}),jsxRuntimeExports.jsx(Dot,{})]})}const backgroundVariants$1={none:transparentBackgroundVariant,outlined:outlinedBackgroundVariant,neutral:neutralBackgroundVariant,"neutral-on-inverse":neutralOnInverseBackgroundVariant,primary:primaryBackgroundVariant$1,gradient:gradientBackgroundVariant,danger:dangerBackgroundVariant,recording:recordingBackgroundVariant,dashed:dashedBackgroundVariant,affirmative:affirmativeBackgroundVariant,transparent:transparentNeutralBackgroundVariant},sizeVariants$1={"extra-small":extraSmallSizeVariant,small:smallSizeVariant$1,medium:mediumSizeVariant,large:largeSizeVariant$1,massive:massiveSizeVariant},colorVariants={default:null,recording:recordingColorVariant,white:whiteColorVariant,surface:surfaceColorVariant,secondary:secondaryColorVariant,danger:dangerColorVariant};function RMButton({children:_e,background:et="neutral",size:tt="medium",iconSize:rt="medium",color:nt="default",leftIcon:it,rightIcon:at,fullWidth:ot=!1,minWidth:st="fit-content",loading:lt=!1,autoLoading:ct=!1,className:ut,onClick:dt,disabled:ft,...pt}){const[ht,yt]=reactExports.useState(!1),mt=lt||ct&&ht,gt=reactExports.useCallback(async vt=>{if(!lt)try{yt(!0),await(dt==null?void 0:dt(vt))}finally{yt(!1)}},[lt,dt]);return jsxRuntimeExports.jsxs(Button,{className:clsx(backgroundVariants$1[et],sizeVariants$1[tt],colorVariants[nt],ot&&fullWidthVariant,ut),"data-min-width":st,onClick:gt,disabled:ft||mt,"data-icon-size":rt,...pt,children:[jsxRuntimeExports.jsxs(ButtonContent,{hidden:mt,children:[it&&typeof it!="string"&&jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:it}),it&&typeof it=="string"&&jsxRuntimeExports.jsx("img",{src:it,alt:"utton icon","aria-hidden":"true"}),jsxRuntimeExports.jsx("span",{children:_e}),at&&typeof at!="string"&&jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:at}),at&&typeof at=="string"&&jsxRuntimeExports.jsx("img",{src:at,alt:"utton icon","aria-hidden":"true"})]}),mt&&jsxRuntimeExports.jsx(RMButtonLoader,{})]})}function RMCloseButton({id:_e,color:et="primary",size:tt="xl",backgroundColor:rt="transparent",stateColor:nt="darken-neutral",className:it,onClick:at}){return jsxRuntimeExports.jsx(RMIconButton,{id:_e,color:et,icon:faXmark,size:tt,tooltip:null,backgroundColor:rt,stateColor:nt,className:it,"aria-label":"Close",onClick:at})}const _exp$c=()=>motion.div,Body$3=styled_default(_exp$c())({name:"Body",class:"Body_brtayn5",propsAsIs:!0});function RMDialogBody({children:_e}){return jsxRuntimeExports.jsx(Body$3,{children:jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,mode:"wait",children:_e})})}const RMDialogContext=reactExports.createContext(null);function RMDialogProvider({value:_e,children:et}){return jsxRuntimeExports.jsx(RMDialogContext.Provider,{value:_e,children:et})}function useRMDialog(){const _e=reactExports.useContext(RMDialogContext);if(!_e)throw new Error("RMDialogProvider must be used within a RMDialogContext");return _e}const _exp$b=()=>motion.div,Content$3=styled_default(_exp$b())({name:"Content",class:"Content_c1msqyic",propsAsIs:!0});function RMDialogContent$1({className:_e,children:et}){const{variant:tt}=useRMDialog(),rt=useIsMobileViewport(),nt=rt?`${tt}-mobile`:tt,it=rt&&tt!=="full-screen"?"slide":"fade-in";return jsxRuntimeExports.jsx(Content$3,{initial:it==="slide"?{translateY:"100%"}:{opacity:0},animate:it==="slide"?{translateY:"0"}:{opacity:1},transition:{duration:.25,ease:"easeOut"},"data-mobile":rt,"data-variant":nt,className:_e,children:et},rt?"mobile":"desktop")}const Footer$1=styled_default("div")({name:"Footer",class:"Footer_f1qsok54",propsAsIs:!1});function RMDialogFooter({className:_e,children:et}){return jsxRuntimeExports.jsx(Footer$1,{className:_e,children:et})}const Header$3=styled_default("div")({name:"Header",class:"Header_h1pdf6q7",propsAsIs:!1}),Top=styled_default("div")({name:"Top",class:"Top_t1jdukq9",propsAsIs:!1}),HiddenFiller=styled_default("div")({name:"HiddenFiller",class:"HiddenFiller_hef7ia5",propsAsIs:!1}),_exp$a=()=>RMText,Title=styled_default(_exp$a())({name:"Title",class:"Title_t1qcbfdq",propsAsIs:!0}),Message=styled_default("div")({name:"Message",class:"Message_mkiob9y",propsAsIs:!1});function RMDialogHeader({title:_e,message:et,leftAdornment:tt,rightAdornment:rt,divider:nt,centerTitle:it,className:at}){return jsxRuntimeExports.jsxs(Header$3,{className:at,children:[jsxRuntimeExports.jsxs(Top,{style:{"--justify-content":!tt&&!rt&&it?"center":"space-between"},children:[tt?jsxRuntimeExports.jsx("div",{className:"left",children:tt}):it&&rt&&jsxRuntimeExports.jsx(HiddenFiller,{children:rt}),jsxRuntimeExports.jsx(Title,{truncate:nt,align:it?"center":"left","data-padding-left":!tt&&!it,type:"sans",size:"m",bold:!0,color:"on-surface-primary",children:_e}),rt?jsxRuntimeExports.jsx("div",{className:"right",children:rt}):it&&tt&&jsxRuntimeExports.jsx(HiddenFiller,{children:tt})]}),et&&jsxRuntimeExports.jsx(Message,{children:jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xs",color:"on-surface-primary",children:et})})]})}const ColorsTokens={primary:"var(--color-spruce-40)","primary-decorative":"var(--color-spruce-50)",secondary:"var(--color-yellow-50)","secondary-gradient-top-bottom":"linear-gradient(180deg, var(--color-yellow-80) 0%, var(--color-yellow-60) 100%)","secondary-gradient-bottom-top":"linear-gradient(0deg, var(--color-yellow-80) 0%, var(--color-yellow-60) 100%)","secondary-gradient-right-left":"linear-gradient(-90deg, var(--color-yellow-80) 0%, var(--color-yellow-60) 100%)","secondary-gradient-left-right":"linear-gradient(90deg, var(--color-yellow-80) 0%, var(--color-yellow-60) 100%)",tertiary:"var(--color-aqua-70)","on-primary":"var(--color-neutral-96)","on-secondary":"var(--color-spruce-20)","on-tertiary":"var(--color-spruce-20)",surface:"var(--color-neutral-93)","surface-dim":"var(--color-neutral-90)","surface-bright":"var(--color-neutral-96)","surface-brightest":"var(--color-neutral-99)","surface-ghost":"var(--color-neutral-77)","surface-always-dark":"var(--color-spruce-10)","inverse-surface":"var(--color-spruce-12)","inverse-on-surface-primary":"var(--color-neutral-90)","inverse-on-surface-secondary":"var(--color-blend-69)","inverse-primary":"var(--color-aqua-70)","inverse-on-primary":"var(--color-spruce-20)","on-surface-primary":"var(--color-spruce-20)","on-surface-secondary":"var(--color-spruce-30)","on-surface-tertiary":"hsla(144, 2%, 42%, 1)","border-primary":"var(--color-spruce-40)","border-strong":"var(--color-blend-30)","border-stronger":"var(--color-blend-70)","border-weak":"var(--color-neutral-80)","border-hairline":"var(--color-neutral-87)","inverse-border-strong":"var(--color-blend-50)","inverse-border-weak":"var(--color-white-100-12)","inverse-border-primary":"var(--color-aqua-70)","inverse-border-hairline":"var(--color-aqua-70-8)","border-gradient-top-bottom":"linear-gradient(180deg, var(--color-yellow-50) 0%, var(--color-yellow-40) 100%)","border-gradient-bottom-top":"linear-gradient(0deg, var(--color-yellow-50) 0%, var(--color-yellow-40) 100%)","border-gradient-right-left":"linear-gradient(-90deg, var(--color-yellow-50) 0%, var(--color-yellow-40) 100%)","border-gradient-left-right":"linear-gradient(90deg, var(--color-yellow-50) 0%, var(--color-yellow-40) 100%)",danger:"var(--color-red-25)","danger-on-inverse-surface":"var(--color-red-80)","on-danger":"var(--color-neutral-96)","danger-container":"var(--color-red-90)","on-danger-container":"var(--color-red-25)",caution:"var(--color-orange-35)",recording:"var(--color-red-40)","on-recording":"var(--color-neutral-96)",disabled:"var(--color-blend-69)","darken-primary-hover":"var(--color-spruce-40-8)","darken-primary-focus":"var(--color-spruce-40-12)","darken-primary-press":"var(--color-spruce-40-12)","darken-primary-drag":"var(--color-spruce-40-16)","darken-neutral-hover":"var(--color-neutral-50-8)","darken-neutral-focus":"var(--color-neutral-50-12)","darken-neutral-press":"var(--color-neutral-50-12)","darken-neutral-drag":"var(--color-neutral-50-16)","lighten-primary-hover":"var(--color-aqua-70-8)","lighten-primary-focus":"var(--color-aqua-70-12)","lighten-primary-press":"var(--color-aqua-70-12)","lighten-primary-drag":"var(--color-aqua-70-16)","lighten-neutral-hover":"var(--color-neutral-96-8)","lighten-neutral-focus":"var(--color-neutral-96-12)","lighten-neutral-press":"var(--color-neutral-96-12)","lighten-neutral-drag":"var(--color-neutral-96-16)","lighten-white-hover":"var(--color-white-100-8)","lighten-white-press":"var(--color-white-100-12)",scrollbar:"var(--color-blend-69)",affirmative:"var(--color-green-30)","informational-container":"var(--color-spruce-15)","banner-info":"var(--color-aqua-80)","gray-avatar":"var(--color-blend-30)","book-text":"var(--color-spruce-10)","scrim-weak":"var(--color-black-0-25)","scrim-medium":"var(--color-black-0-50)","scrim-strong":"var(--color-black-0-70)",transparent:"transparent",black:"var(--color-black-0)",white:"var(--color-white-100)"},LoaderContainer=styled_default("div")({name:"LoaderContainer",class:"LoaderContainer_l1e3qnlv",propsAsIs:!1});function RMDialogLoader(){return jsxRuntimeExports.jsx(LoaderContainer,{children:jsxRuntimeExports.jsx(FontAwesomeIcon,{className:"animate-spin",icon:faSpinnerThird,fontSize:48,color:ColorsTokens.primary})})}const _exp$9=()=>motion.div,Dialog=styled_default(_exp$9())({name:"Dialog",class:"Dialog_d12bcq57",propsAsIs:!0}),_exp2$5=()=>motion.div,Backdrop=styled_default(_exp2$5())({name:"Backdrop",class:"Backdrop_b1kdx5uu",propsAsIs:!0});function RMDialog$1({open:_e,onClose:et,children:tt,variant:rt="regular",animation:nt="default"}){const at=isMobileViewport()?`${rt}-mobile`:rt;return reactExports.useEffect(()=>{if(!_e)return;const ot=st=>{st.key==="Escape"&&(et==null||et())};return document.addEventListener("keydown",ot),()=>{document.removeEventListener("keydown",ot)}},[et,_e]),_e?jsxRuntimeExports.jsxs(RMDialogProvider,{value:{variant:rt,animation:nt},children:[jsxRuntimeExports.jsx(Backdrop,{onClick:et}),jsxRuntimeExports.jsx(Dialog,{"data-variant":at,role:"dialog","aria-modal":!0,children:tt})]}):null}function RMDialogPortal(_e){const et=document.getElementById("dialog");return et?reactDomExports.createPortal(jsxRuntimeExports.jsx(RMDialog$1,{..._e}),et):(console.error("Missing portal root for dialog"),null)}const RMDialogRoot=RMDialogPortal,transitions={rtl:{initial:{translateX:"100%"},animate:{translateX:"0%",transition:{duration:.2,ease:"easeOut"}},exit:{translateX:"-100%",transition:{duration:.15,ease:"easeIn"}}},ltr:{initial:{translateX:"-100%"},animate:{translateX:"0%",transition:{duration:.2,ease:"easeOut"}},exit:{translateX:"100%",transition:{duration:.15,ease:"easeIn"}}},default:{initial:{opacity:0},animate:{opacity:1,transition:{duration:.25,ease:"easeIn"}},exit:{opacity:0,transition:{duration:.25,ease:"easeIn"}}}};function RMDialogTransition({animation:_e,overflow:et,children:tt}){var it;const rt=((it=useRMDialog())==null?void 0:it.animation)||"default",nt=_e||rt;return jsxRuntimeExports.jsx(motion.div,{initial:transitions[nt].initial,animate:transitions[nt].animate,exit:transitions[nt].exit,style:{overflow:et},children:tt})}const RMDialog={Root:RMDialogRoot,Content:RMDialogContent$1,Header:RMDialogHeader,Body:RMDialogBody,Footer:RMDialogFooter,Transition:RMDialogTransition,Loader:RMDialogLoader},AB_TEST_REPOSITORY_KEY="@remento/ab-test";class ABTestLocalRepository{save(et){localStorage.setItem(AB_TEST_REPOSITORY_KEY,JSON.stringify(et))}get(){const et=localStorage.getItem(AB_TEST_REPOSITORY_KEY);return et!=null?JSON.parse(et):null}}var crc32={};/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */(function(_e){(function(et){et(typeof DO_NOT_EXPORT_CRC>"u"?_e:{})})(function(et){et.version="1.2.2";function tt(){for(var _t=0,Ot=new Array(256),kt=0;kt!=256;++kt)_t=kt,_t=_t&1?-306674912^_t>>>1:_t>>>1,_t=_t&1?-306674912^_t>>>1:_t>>>1,_t=_t&1?-306674912^_t>>>1:_t>>>1,_t=_t&1?-306674912^_t>>>1:_t>>>1,_t=_t&1?-306674912^_t>>>1:_t>>>1,_t=_t&1?-306674912^_t>>>1:_t>>>1,_t=_t&1?-306674912^_t>>>1:_t>>>1,_t=_t&1?-306674912^_t>>>1:_t>>>1,Ot[kt]=_t;return typeof Int32Array<"u"?new Int32Array(Ot):Ot}var rt=tt();function nt(_t){var Ot=0,kt=0,Lt=0,$t=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Lt=0;Lt!=256;++Lt)$t[Lt]=_t[Lt];for(Lt=0;Lt!=256;++Lt)for(kt=_t[Lt],Ot=256+Lt;Ot<4096;Ot+=256)kt=$t[Ot]=kt>>>8^_t[kt&255];var zt=[];for(Lt=1;Lt!=16;++Lt)zt[Lt-1]=typeof Int32Array<"u"?$t.subarray(Lt*256,Lt*256+256):$t.slice(Lt*256,Lt*256+256);return zt}var it=nt(rt),at=it[0],ot=it[1],st=it[2],lt=it[3],ct=it[4],ut=it[5],dt=it[6],ft=it[7],pt=it[8],ht=it[9],yt=it[10],mt=it[11],gt=it[12],vt=it[13],St=it[14];function xt(_t,Ot){for(var kt=Ot^-1,Lt=0,$t=_t.length;Lt<$t;)kt=kt>>>8^rt[(kt^_t.charCodeAt(Lt++))&255];return~kt}function Ct(_t,Ot){for(var kt=Ot^-1,Lt=_t.length-15,$t=0;$t<Lt;)kt=St[_t[$t++]^kt&255]^vt[_t[$t++]^kt>>8&255]^gt[_t[$t++]^kt>>16&255]^mt[_t[$t++]^kt>>>24]^yt[_t[$t++]]^ht[_t[$t++]]^pt[_t[$t++]]^ft[_t[$t++]]^dt[_t[$t++]]^ut[_t[$t++]]^ct[_t[$t++]]^lt[_t[$t++]]^st[_t[$t++]]^ot[_t[$t++]]^at[_t[$t++]]^rt[_t[$t++]];for(Lt+=15;$t<Lt;)kt=kt>>>8^rt[(kt^_t[$t++])&255];return~kt}function wt(_t,Ot){for(var kt=Ot^-1,Lt=0,$t=_t.length,zt=0,Vt=0;Lt<$t;)zt=_t.charCodeAt(Lt++),zt<128?kt=kt>>>8^rt[(kt^zt)&255]:zt<2048?(kt=kt>>>8^rt[(kt^(192|zt>>6&31))&255],kt=kt>>>8^rt[(kt^(128|zt&63))&255]):zt>=55296&&zt<57344?(zt=(zt&1023)+64,Vt=_t.charCodeAt(Lt++)&1023,kt=kt>>>8^rt[(kt^(240|zt>>8&7))&255],kt=kt>>>8^rt[(kt^(128|zt>>2&63))&255],kt=kt>>>8^rt[(kt^(128|Vt>>6&15|(zt&3)<<4))&255],kt=kt>>>8^rt[(kt^(128|Vt&63))&255]):(kt=kt>>>8^rt[(kt^(224|zt>>12&15))&255],kt=kt>>>8^rt[(kt^(128|zt>>6&63))&255],kt=kt>>>8^rt[(kt^(128|zt&63))&255]);return~kt}et.table=rt,et.bstr=xt,et.buf=Ct,et.str=wt})})(crc32);const Crc32$1=getDefaultExportFromCjs(crc32);function lerp(_e,et,tt){return _e*(1-tt)+et*tt}class DefaultABTestService{constructor(et,tt,rt){kr(this,"rules");kr(this,"overrides");kr(this,"enableCache");kr(this,"cache",new Map);this.rules=et,this.overrides=tt,this.enableCache=rt}addOverrides(et){this.overrides={...this.overrides,...et}}getUserVariant(et,tt,rt,nt){var yt;const it=(yt=nt==null?void 0:nt.experiments)==null?void 0:yt[tt];if(it!=null)return it;const at=this.overrides[tt];if(at!=null)return at;if(this.enableCache){const mt=this.cache.get(et);if(mt!=null){const gt=mt.get(tt);if(gt!=null)return gt}}const ot=this.rules[tt];if(ot==null)throw new Error(`Rule for experiment ${tt} not found`);if(rt==null){for(const mt of Object.values(ot.variants).flat())if(mt.conditions!=null&&!(mt.conditions.mobile==null&&mt.conditions.browser==null))throw new Error(`User agent not provided but needed to compute experiment ${tt}`)}let st=null,lt=null;if(rt!=null){const mt=new UAParser(rt),gt=mt.getDevice();gt.type!=null&&["mobile","tablet"].includes(gt.type)&&(st=!0);const vt=mt.getBrowser();vt.name!=null&&(vt.name.toLowerCase().includes("safari")?lt="safari":vt.name.toLowerCase().includes("chrome")?lt="chrome":vt.name.toLowerCase().includes("firefox")&&(lt="firefox"))}const ct=Object.entries(ot.variants).map(([mt,gt])=>{let vt=0;for(const St of gt){if(St.conditions==null||St.conditions.mobile==null&&St.conditions.browser==null){vt=St.weight;break}let xt=St.conditions.mobile==null;St.conditions.mobile!=null&&st!=null&&(xt=St.conditions.mobile===st);let Ct=St.conditions.browser==null;if(St.conditions.browser!=null&&lt!=null&&(Ct=St.conditions.browser.includes(lt)),xt&&Ct){vt=St.weight;break}}return{variant:mt,weight:vt}}),ut=Crc32$1.str(et+tt)>>>0,dt=lerp(0,1,ut/(2**32-1)),ft=ct.reduce((mt,gt,vt)=>{const St=gt.weight,xt=vt===0?St:mt[vt-1]+St;return mt.push(xt),mt},[]),pt=ct.find((mt,gt)=>{const vt=ft[gt];return dt<=vt}),ht=(pt==null?void 0:pt.variant)??ot.defaultVariant;if(this.enableCache){const mt=this.cache.get(et)??new Map;mt.size==0&&this.cache.set(et,mt),mt.set(tt,ht)}return ht}getAllUserVariants(et,tt,rt){return Object.keys(this.rules).map(nt=>nt).reduce((nt,it)=>(nt[it]=this.getUserVariant(et,it,tt,rt),nt),{})}}function isVariantValid(_e,et){return _e===et.defaultVariant?!0:Object.keys(et.variants).includes(_e)}function getABTestQueryParamName(_e){return`exp-${_e}`}function parseABTestQueryParamOverrides(_e,et){const tt={};for(const rt of Object.keys(et).map(nt=>nt)){const nt=et[rt],it=getABTestQueryParamName(rt),at=_e.get(it);at!=null&&isVariantValid(at,nt)&&(tt[rt]=at)}return tt}function getABTestHeaderName(_e){return`Experiment-${_e}`}function createABTestHeaders(_e){const et={};for(const[tt,rt]of Object.entries(_e))et[getABTestHeaderName(tt)]=rt;return et}var BookExperiments;(function(_e){_e.PROJECT_CHECKOUT_LAYOUT="project-checkout-layout"})(BookExperiments||(BookExperiments={}));const BOOK_AB_TEST_RULES={[BookExperiments.PROJECT_CHECKOUT_LAYOUT]:{defaultVariant:"current",variants:{experimental:[{weight:0}]}}};var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(_e){return this.listeners.add(_e),this.onSubscribe(),()=>{this.listeners.delete(_e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer$1=typeof window>"u"||"Deno"in globalThis;function noop$4(){}function functionalUpdate(_e,et){return typeof _e=="function"?_e(et):_e}function isValidTimeout(_e){return typeof _e=="number"&&_e>=0&&_e!==1/0}function timeUntilStale(_e,et){return Math.max(_e+(et||0)-Date.now(),0)}function resolveStaleTime(_e,et){return typeof _e=="function"?_e(et):_e}function resolveEnabled(_e,et){return typeof _e=="function"?_e(et):_e}function matchQuery(_e,et){const{type:tt="all",exact:rt,fetchStatus:nt,predicate:it,queryKey:at,stale:ot}=_e;if(at){if(rt){if(et.queryHash!==hashQueryKeyByOptions(at,et.options))return!1}else if(!partialMatchKey(et.queryKey,at))return!1}if(tt!=="all"){const st=et.isActive();if(tt==="active"&&!st||tt==="inactive"&&st)return!1}return!(typeof ot=="boolean"&&et.isStale()!==ot||nt&&nt!==et.state.fetchStatus||it&&!it(et))}function matchMutation(_e,et){const{exact:tt,status:rt,predicate:nt,mutationKey:it}=_e;if(it){if(!et.options.mutationKey)return!1;if(tt){if(hashKey(et.options.mutationKey)!==hashKey(it))return!1}else if(!partialMatchKey(et.options.mutationKey,it))return!1}return!(rt&&et.state.status!==rt||nt&&!nt(et))}function hashQueryKeyByOptions(_e,et){return((et==null?void 0:et.queryKeyHashFn)||hashKey)(_e)}function hashKey(_e){return JSON.stringify(_e,(et,tt)=>isPlainObject$3(tt)?Object.keys(tt).sort().reduce((rt,nt)=>(rt[nt]=tt[nt],rt),{}):tt)}function partialMatchKey(_e,et){return _e===et?!0:typeof _e!=typeof et?!1:_e&&et&&typeof _e=="object"&&typeof et=="object"?!Object.keys(et).some(tt=>!partialMatchKey(_e[tt],et[tt])):!1}function replaceEqualDeep(_e,et){if(_e===et)return _e;const tt=isPlainArray(_e)&&isPlainArray(et);if(tt||isPlainObject$3(_e)&&isPlainObject$3(et)){const rt=tt?_e:Object.keys(_e),nt=rt.length,it=tt?et:Object.keys(et),at=it.length,ot=tt?[]:{};let st=0;for(let lt=0;lt<at;lt++){const ct=tt?lt:it[lt];(!tt&&rt.includes(ct)||tt)&&_e[ct]===void 0&&et[ct]===void 0?(ot[ct]=void 0,st++):(ot[ct]=replaceEqualDeep(_e[ct],et[ct]),ot[ct]===_e[ct]&&_e[ct]!==void 0&&st++)}return nt===at&&st===nt?_e:ot}return et}function shallowEqualObjects(_e,et){if(!et||Object.keys(_e).length!==Object.keys(et).length)return!1;for(const tt in _e)if(_e[tt]!==et[tt])return!1;return!0}function isPlainArray(_e){return Array.isArray(_e)&&_e.length===Object.keys(_e).length}function isPlainObject$3(_e){if(!hasObjectPrototype(_e))return!1;const et=_e.constructor;if(et===void 0)return!0;const tt=et.prototype;return!(!hasObjectPrototype(tt)||!tt.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(_e)!==Object.prototype)}function hasObjectPrototype(_e){return Object.prototype.toString.call(_e)==="[object Object]"}function sleep$1(_e){return new Promise(et=>{setTimeout(et,_e)})}function replaceData(_e,et,tt){return typeof tt.structuralSharing=="function"?tt.structuralSharing(_e,et):tt.structuralSharing!==!1?replaceEqualDeep(_e,et):et}function addToEnd(_e,et,tt=0){const rt=[..._e,et];return tt&&rt.length>tt?rt.slice(1):rt}function addToStart(_e,et,tt=0){const rt=[et,..._e];return tt&&rt.length>tt?rt.slice(0,-1):rt}var skipToken=Symbol();function ensureQueryFn(_e,et){return!_e.queryFn&&(et!=null&&et.initialPromise)?()=>et.initialPromise:!_e.queryFn||_e.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${_e.queryHash}'`)):_e.queryFn}var zo,ko,Jo,Su,FocusManager=(Su=class extends Subscribable{constructor(){super();Jr(this,zo);Jr(this,ko);Jr(this,Jo);jr(this,Jo,et=>{if(!isServer$1&&window.addEventListener){const tt=()=>et();return window.addEventListener("visibilitychange",tt,!1),()=>{window.removeEventListener("visibilitychange",tt)}}})}onSubscribe(){qt(this,ko)||this.setEventListener(qt(this,Jo))}onUnsubscribe(){var et;this.hasListeners()||((et=qt(this,ko))==null||et.call(this),jr(this,ko,void 0))}setEventListener(et){var tt;jr(this,Jo,et),(tt=qt(this,ko))==null||tt.call(this),jr(this,ko,et(rt=>{typeof rt=="boolean"?this.setFocused(rt):this.onFocus()}))}setFocused(et){qt(this,zo)!==et&&(jr(this,zo,et),this.onFocus())}onFocus(){const et=this.isFocused();this.listeners.forEach(tt=>{tt(et)})}isFocused(){var et;return typeof qt(this,zo)=="boolean"?qt(this,zo):((et=globalThis.document)==null?void 0:et.visibilityState)!=="hidden"}},zo=new WeakMap,ko=new WeakMap,Jo=new WeakMap,Su),focusManager=new FocusManager,es,Oo,ts,_u,OnlineManager=(_u=class extends Subscribable{constructor(){super();Jr(this,es,!0);Jr(this,Oo);Jr(this,ts);jr(this,ts,et=>{if(!isServer$1&&window.addEventListener){const tt=()=>et(!0),rt=()=>et(!1);return window.addEventListener("online",tt,!1),window.addEventListener("offline",rt,!1),()=>{window.removeEventListener("online",tt),window.removeEventListener("offline",rt)}}})}onSubscribe(){qt(this,Oo)||this.setEventListener(qt(this,ts))}onUnsubscribe(){var et;this.hasListeners()||((et=qt(this,Oo))==null||et.call(this),jr(this,Oo,void 0))}setEventListener(et){var tt;jr(this,ts,et),(tt=qt(this,Oo))==null||tt.call(this),jr(this,Oo,et(this.setOnline.bind(this)))}setOnline(et){qt(this,es)!==et&&(jr(this,es,et),this.listeners.forEach(rt=>{rt(et)}))}isOnline(){return qt(this,es)}},es=new WeakMap,Oo=new WeakMap,ts=new WeakMap,_u),onlineManager=new OnlineManager;function pendingThenable(){let _e,et;const tt=new Promise((nt,it)=>{_e=nt,et=it});tt.status="pending",tt.catch(()=>{});function rt(nt){Object.assign(tt,nt),delete tt.resolve,delete tt.reject}return tt.resolve=nt=>{rt({status:"fulfilled",value:nt}),_e(nt)},tt.reject=nt=>{rt({status:"rejected",reason:nt}),et(nt)},tt}function defaultRetryDelay(_e){return Math.min(1e3*2**_e,3e4)}function canFetch(_e){return(_e??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(_e){super("CancelledError"),this.revert=_e==null?void 0:_e.revert,this.silent=_e==null?void 0:_e.silent}};function isCancelledError(_e){return _e instanceof CancelledError}function createRetryer(_e){let et=!1,tt=0,rt=!1,nt;const it=pendingThenable(),at=ht=>{var yt;rt||(dt(new CancelledError(ht)),(yt=_e.abort)==null||yt.call(_e))},ot=()=>{et=!0},st=()=>{et=!1},lt=()=>focusManager.isFocused()&&(_e.networkMode==="always"||onlineManager.isOnline())&&_e.canRun(),ct=()=>canFetch(_e.networkMode)&&_e.canRun(),ut=ht=>{var yt;rt||(rt=!0,(yt=_e.onSuccess)==null||yt.call(_e,ht),nt==null||nt(),it.resolve(ht))},dt=ht=>{var yt;rt||(rt=!0,(yt=_e.onError)==null||yt.call(_e,ht),nt==null||nt(),it.reject(ht))},ft=()=>new Promise(ht=>{var yt;nt=mt=>{(rt||lt())&&ht(mt)},(yt=_e.onPause)==null||yt.call(_e)}).then(()=>{var ht;nt=void 0,rt||(ht=_e.onContinue)==null||ht.call(_e)}),pt=()=>{if(rt)return;let ht;const yt=tt===0?_e.initialPromise:void 0;try{ht=yt??_e.fn()}catch(mt){ht=Promise.reject(mt)}Promise.resolve(ht).then(ut).catch(mt=>{var Ct;if(rt)return;const gt=_e.retry??(isServer$1?0:3),vt=_e.retryDelay??defaultRetryDelay,St=typeof vt=="function"?vt(tt,mt):vt,xt=gt===!0||typeof gt=="number"&&tt<gt||typeof gt=="function"&&gt(tt,mt);if(et||!xt){dt(mt);return}tt++,(Ct=_e.onFail)==null||Ct.call(_e,tt,mt),sleep$1(St).then(()=>lt()?void 0:ft()).then(()=>{et?dt(mt):pt()})})};return{promise:it,cancel:at,continue:()=>(nt==null||nt(),it),cancelRetry:ot,continueRetry:st,canStart:ct,start:()=>(ct()?pt():ft().then(pt),it)}}function createNotifyManager(){let _e=[],et=0,tt=ot=>{ot()},rt=ot=>{ot()},nt=ot=>setTimeout(ot,0);const it=ot=>{et?_e.push(ot):nt(()=>{tt(ot)})},at=()=>{const ot=_e;_e=[],ot.length&&nt(()=>{rt(()=>{ot.forEach(st=>{tt(st)})})})};return{batch:ot=>{let st;et++;try{st=ot()}finally{et--,et||at()}return st},batchCalls:ot=>(...st)=>{it(()=>{ot(...st)})},schedule:it,setNotifyFunction:ot=>{tt=ot},setBatchNotifyFunction:ot=>{rt=ot},setScheduler:ot=>{nt=ot}}}var notifyManager=createNotifyManager(),Ho,bu,Removable=(bu=class{constructor(){Jr(this,Ho)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&jr(this,Ho,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(_e){this.gcTime=Math.max(this.gcTime||0,_e??(isServer$1?1/0:5*60*1e3))}clearGcTimeout(){qt(this,Ho)&&(clearTimeout(qt(this,Ho)),jr(this,Ho,void 0))}},Ho=new WeakMap,bu),rs,ns,no,Hn,bs,Go,lo,xo,xu,Query=(xu=class extends Removable{constructor(et){super();Jr(this,lo);Jr(this,rs);Jr(this,ns);Jr(this,no);Jr(this,Hn);Jr(this,bs);Jr(this,Go);jr(this,Go,!1),jr(this,bs,et.defaultOptions),this.setOptions(et.options),this.observers=[],jr(this,no,et.cache),this.queryKey=et.queryKey,this.queryHash=et.queryHash,jr(this,rs,getDefaultState$1(this.options)),this.state=et.state??qt(this,rs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var et;return(et=qt(this,Hn))==null?void 0:et.promise}setOptions(et){this.options={...qt(this,bs),...et},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&qt(this,no).remove(this)}setData(et,tt){const rt=replaceData(this.state.data,et,this.options);return cn(this,lo,xo).call(this,{data:rt,type:"success",dataUpdatedAt:tt==null?void 0:tt.updatedAt,manual:tt==null?void 0:tt.manual}),rt}setState(et,tt){cn(this,lo,xo).call(this,{type:"setState",state:et,setStateOptions:tt})}cancel(et){var rt,nt;const tt=(rt=qt(this,Hn))==null?void 0:rt.promise;return(nt=qt(this,Hn))==null||nt.cancel(et),tt?tt.then(noop$4).catch(noop$4):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(qt(this,rs))}isActive(){return this.observers.some(et=>resolveEnabled(et.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(et=>et.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(et=0){return this.state.isInvalidated||this.state.data===void 0||!timeUntilStale(this.state.dataUpdatedAt,et)}onFocus(){var tt;const et=this.observers.find(rt=>rt.shouldFetchOnWindowFocus());et==null||et.refetch({cancelRefetch:!1}),(tt=qt(this,Hn))==null||tt.continue()}onOnline(){var tt;const et=this.observers.find(rt=>rt.shouldFetchOnReconnect());et==null||et.refetch({cancelRefetch:!1}),(tt=qt(this,Hn))==null||tt.continue()}addObserver(et){this.observers.includes(et)||(this.observers.push(et),this.clearGcTimeout(),qt(this,no).notify({type:"observerAdded",query:this,observer:et}))}removeObserver(et){this.observers.includes(et)&&(this.observers=this.observers.filter(tt=>tt!==et),this.observers.length||(qt(this,Hn)&&(qt(this,Go)?qt(this,Hn).cancel({revert:!0}):qt(this,Hn).cancelRetry()),this.scheduleGc()),qt(this,no).notify({type:"observerRemoved",query:this,observer:et}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||cn(this,lo,xo).call(this,{type:"invalidate"})}fetch(et,tt){var st,lt,ct;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(tt!=null&&tt.cancelRefetch))this.cancel({silent:!0});else if(qt(this,Hn))return qt(this,Hn).continueRetry(),qt(this,Hn).promise}if(et&&this.setOptions(et),!this.options.queryFn){const ut=this.observers.find(dt=>dt.options.queryFn);ut&&this.setOptions(ut.options)}const rt=new AbortController,nt=ut=>{Object.defineProperty(ut,"signal",{enumerable:!0,get:()=>(jr(this,Go,!0),rt.signal)})},it=()=>{const ut=ensureQueryFn(this.options,tt),dt={queryKey:this.queryKey,meta:this.meta};return nt(dt),jr(this,Go,!1),this.options.persister?this.options.persister(ut,dt,this):ut(dt)},at={fetchOptions:tt,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:it};nt(at),(st=this.options.behavior)==null||st.onFetch(at,this),jr(this,ns,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((lt=at.fetchOptions)==null?void 0:lt.meta))&&cn(this,lo,xo).call(this,{type:"fetch",meta:(ct=at.fetchOptions)==null?void 0:ct.meta});const ot=ut=>{var dt,ft,pt,ht;isCancelledError(ut)&&ut.silent||cn(this,lo,xo).call(this,{type:"error",error:ut}),isCancelledError(ut)||((ft=(dt=qt(this,no).config).onError)==null||ft.call(dt,ut,this),(ht=(pt=qt(this,no).config).onSettled)==null||ht.call(pt,this.state.data,ut,this)),this.scheduleGc()};return jr(this,Hn,createRetryer({initialPromise:tt==null?void 0:tt.initialPromise,fn:at.fetchFn,abort:rt.abort.bind(rt),onSuccess:ut=>{var dt,ft,pt,ht;if(ut===void 0){ot(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(ut)}catch(yt){ot(yt);return}(ft=(dt=qt(this,no).config).onSuccess)==null||ft.call(dt,ut,this),(ht=(pt=qt(this,no).config).onSettled)==null||ht.call(pt,ut,this.state.error,this),this.scheduleGc()},onError:ot,onFail:(ut,dt)=>{cn(this,lo,xo).call(this,{type:"failed",failureCount:ut,error:dt})},onPause:()=>{cn(this,lo,xo).call(this,{type:"pause"})},onContinue:()=>{cn(this,lo,xo).call(this,{type:"continue"})},retry:at.options.retry,retryDelay:at.options.retryDelay,networkMode:at.options.networkMode,canRun:()=>!0})),qt(this,Hn).start()}},rs=new WeakMap,ns=new WeakMap,no=new WeakMap,Hn=new WeakMap,bs=new WeakMap,Go=new WeakMap,lo=new WeakSet,xo=function(et){const tt=rt=>{switch(et.type){case"failed":return{...rt,fetchFailureCount:et.failureCount,fetchFailureReason:et.error};case"pause":return{...rt,fetchStatus:"paused"};case"continue":return{...rt,fetchStatus:"fetching"};case"fetch":return{...rt,...fetchState(rt.data,this.options),fetchMeta:et.meta??null};case"success":return{...rt,data:et.data,dataUpdateCount:rt.dataUpdateCount+1,dataUpdatedAt:et.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!et.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const nt=et.error;return isCancelledError(nt)&&nt.revert&&qt(this,ns)?{...qt(this,ns),fetchStatus:"idle"}:{...rt,error:nt,errorUpdateCount:rt.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:rt.fetchFailureCount+1,fetchFailureReason:nt,fetchStatus:"idle",status:"error"};case"invalidate":return{...rt,isInvalidated:!0};case"setState":return{...rt,...et.state}}};this.state=tt(this.state),notifyManager.batch(()=>{this.observers.forEach(rt=>{rt.onQueryUpdate()}),qt(this,no).notify({query:this,type:"updated",action:et})})},xu);function fetchState(_e,et){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(et.networkMode)?"fetching":"paused",..._e===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(_e){const et=typeof _e.initialData=="function"?_e.initialData():_e.initialData,tt=et!==void 0,rt=tt?typeof _e.initialDataUpdatedAt=="function"?_e.initialDataUpdatedAt():_e.initialDataUpdatedAt:0;return{data:et,dataUpdateCount:0,dataUpdatedAt:tt?rt??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:tt?"success":"pending",fetchStatus:"idle"}}var ho,Tu,QueryCache=(Tu=class extends Subscribable{constructor(et={}){super();Jr(this,ho);this.config=et,jr(this,ho,new Map)}build(et,tt,rt){const nt=tt.queryKey,it=tt.queryHash??hashQueryKeyByOptions(nt,tt);let at=this.get(it);return at||(at=new Query({cache:this,queryKey:nt,queryHash:it,options:et.defaultQueryOptions(tt),state:rt,defaultOptions:et.getQueryDefaults(nt)}),this.add(at)),at}add(et){qt(this,ho).has(et.queryHash)||(qt(this,ho).set(et.queryHash,et),this.notify({type:"added",query:et}))}remove(et){const tt=qt(this,ho).get(et.queryHash);tt&&(et.destroy(),tt===et&&qt(this,ho).delete(et.queryHash),this.notify({type:"removed",query:et}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(et=>{this.remove(et)})})}get(et){return qt(this,ho).get(et)}getAll(){return[...qt(this,ho).values()]}find(et){const tt={exact:!0,...et};return this.getAll().find(rt=>matchQuery(tt,rt))}findAll(et={}){const tt=this.getAll();return Object.keys(et).length>0?tt.filter(rt=>matchQuery(et,rt)):tt}notify(et){notifyManager.batch(()=>{this.listeners.forEach(tt=>{tt(et)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(et=>{et.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(et=>{et.onOnline()})})}},ho=new WeakMap,Tu),po,Kn,Wo,go,Ao,wu,Mutation=(wu=class extends Removable{constructor(et){super();Jr(this,go);Jr(this,po);Jr(this,Kn);Jr(this,Wo);this.mutationId=et.mutationId,jr(this,Kn,et.mutationCache),jr(this,po,[]),this.state=et.state||getDefaultState(),this.setOptions(et.options),this.scheduleGc()}setOptions(et){this.options=et,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(et){qt(this,po).includes(et)||(qt(this,po).push(et),this.clearGcTimeout(),qt(this,Kn).notify({type:"observerAdded",mutation:this,observer:et}))}removeObserver(et){jr(this,po,qt(this,po).filter(tt=>tt!==et)),this.scheduleGc(),qt(this,Kn).notify({type:"observerRemoved",mutation:this,observer:et})}optionalRemove(){qt(this,po).length||(this.state.status==="pending"?this.scheduleGc():qt(this,Kn).remove(this))}continue(){var et;return((et=qt(this,Wo))==null?void 0:et.continue())??this.execute(this.state.variables)}async execute(et){var nt,it,at,ot,st,lt,ct,ut,dt,ft,pt,ht,yt,mt,gt,vt,St,xt,Ct,wt;jr(this,Wo,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(et):Promise.reject(new Error("No mutationFn found")),onFail:(_t,Ot)=>{cn(this,go,Ao).call(this,{type:"failed",failureCount:_t,error:Ot})},onPause:()=>{cn(this,go,Ao).call(this,{type:"pause"})},onContinue:()=>{cn(this,go,Ao).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>qt(this,Kn).canRun(this)}));const tt=this.state.status==="pending",rt=!qt(this,Wo).canStart();try{if(!tt){cn(this,go,Ao).call(this,{type:"pending",variables:et,isPaused:rt}),await((it=(nt=qt(this,Kn).config).onMutate)==null?void 0:it.call(nt,et,this));const Ot=await((ot=(at=this.options).onMutate)==null?void 0:ot.call(at,et));Ot!==this.state.context&&cn(this,go,Ao).call(this,{type:"pending",context:Ot,variables:et,isPaused:rt})}const _t=await qt(this,Wo).start();return await((lt=(st=qt(this,Kn).config).onSuccess)==null?void 0:lt.call(st,_t,et,this.state.context,this)),await((ut=(ct=this.options).onSuccess)==null?void 0:ut.call(ct,_t,et,this.state.context)),await((ft=(dt=qt(this,Kn).config).onSettled)==null?void 0:ft.call(dt,_t,null,this.state.variables,this.state.context,this)),await((ht=(pt=this.options).onSettled)==null?void 0:ht.call(pt,_t,null,et,this.state.context)),cn(this,go,Ao).call(this,{type:"success",data:_t}),_t}catch(_t){try{throw await((mt=(yt=qt(this,Kn).config).onError)==null?void 0:mt.call(yt,_t,et,this.state.context,this)),await((vt=(gt=this.options).onError)==null?void 0:vt.call(gt,_t,et,this.state.context)),await((xt=(St=qt(this,Kn).config).onSettled)==null?void 0:xt.call(St,void 0,_t,this.state.variables,this.state.context,this)),await((wt=(Ct=this.options).onSettled)==null?void 0:wt.call(Ct,void 0,_t,et,this.state.context)),_t}finally{cn(this,go,Ao).call(this,{type:"error",error:_t})}}finally{qt(this,Kn).runNext(this)}}},po=new WeakMap,Kn=new WeakMap,Wo=new WeakMap,go=new WeakSet,Ao=function(et){const tt=rt=>{switch(et.type){case"failed":return{...rt,failureCount:et.failureCount,failureReason:et.error};case"pause":return{...rt,isPaused:!0};case"continue":return{...rt,isPaused:!1};case"pending":return{...rt,context:et.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:et.isPaused,status:"pending",variables:et.variables,submittedAt:Date.now()};case"success":return{...rt,data:et.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...rt,data:void 0,error:et.error,failureCount:rt.failureCount+1,failureReason:et.error,isPaused:!1,status:"error"}}};this.state=tt(this.state),notifyManager.batch(()=>{qt(this,po).forEach(rt=>{rt.onMutationUpdate(et)}),qt(this,Kn).notify({mutation:this,type:"updated",action:et})})},wu);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ga,xs,Cu,MutationCache=(Cu=class extends Subscribable{constructor(et={}){super();Jr(this,ga);Jr(this,xs);this.config=et,jr(this,ga,new Map),jr(this,xs,Date.now())}build(et,tt,rt){const nt=new Mutation({mutationCache:this,mutationId:++Hs(this,xs)._,options:et.defaultMutationOptions(tt),state:rt});return this.add(nt),nt}add(et){const tt=scopeFor(et),rt=qt(this,ga).get(tt)??[];rt.push(et),qt(this,ga).set(tt,rt),this.notify({type:"added",mutation:et})}remove(et){var rt;const tt=scopeFor(et);if(qt(this,ga).has(tt)){const nt=(rt=qt(this,ga).get(tt))==null?void 0:rt.filter(it=>it!==et);nt&&(nt.length===0?qt(this,ga).delete(tt):qt(this,ga).set(tt,nt))}this.notify({type:"removed",mutation:et})}canRun(et){var rt;const tt=(rt=qt(this,ga).get(scopeFor(et)))==null?void 0:rt.find(nt=>nt.state.status==="pending");return!tt||tt===et}runNext(et){var rt;const tt=(rt=qt(this,ga).get(scopeFor(et)))==null?void 0:rt.find(nt=>nt!==et&&nt.state.isPaused);return(tt==null?void 0:tt.continue())??Promise.resolve()}clear(){notifyManager.batch(()=>{this.getAll().forEach(et=>{this.remove(et)})})}getAll(){return[...qt(this,ga).values()].flat()}find(et){const tt={exact:!0,...et};return this.getAll().find(rt=>matchMutation(tt,rt))}findAll(et={}){return this.getAll().filter(tt=>matchMutation(et,tt))}notify(et){notifyManager.batch(()=>{this.listeners.forEach(tt=>{tt(et)})})}resumePausedMutations(){const et=this.getAll().filter(tt=>tt.state.isPaused);return notifyManager.batch(()=>Promise.all(et.map(tt=>tt.continue().catch(noop$4))))}},ga=new WeakMap,xs=new WeakMap,Cu);function scopeFor(_e){var et;return((et=_e.options.scope)==null?void 0:et.id)??String(_e.mutationId)}function infiniteQueryBehavior(_e){return{onFetch:(et,tt)=>{var ct,ut,dt,ft,pt;const rt=et.options,nt=(dt=(ut=(ct=et.fetchOptions)==null?void 0:ct.meta)==null?void 0:ut.fetchMore)==null?void 0:dt.direction,it=((ft=et.state.data)==null?void 0:ft.pages)||[],at=((pt=et.state.data)==null?void 0:pt.pageParams)||[];let ot={pages:[],pageParams:[]},st=0;const lt=async()=>{let ht=!1;const yt=vt=>{Object.defineProperty(vt,"signal",{enumerable:!0,get:()=>(et.signal.aborted?ht=!0:et.signal.addEventListener("abort",()=>{ht=!0}),et.signal)})},mt=ensureQueryFn(et.options,et.fetchOptions),gt=async(vt,St,xt)=>{if(ht)return Promise.reject();if(St==null&&vt.pages.length)return Promise.resolve(vt);const Ct={queryKey:et.queryKey,pageParam:St,direction:xt?"backward":"forward",meta:et.options.meta};yt(Ct);const wt=await mt(Ct),{maxPages:_t}=et.options,Ot=xt?addToStart:addToEnd;return{pages:Ot(vt.pages,wt,_t),pageParams:Ot(vt.pageParams,St,_t)}};if(nt&&it.length){const vt=nt==="backward",St=vt?getPreviousPageParam:getNextPageParam,xt={pages:it,pageParams:at},Ct=St(rt,xt);ot=await gt(xt,Ct,vt)}else{const vt=_e??it.length;do{const St=st===0?at[0]??rt.initialPageParam:getNextPageParam(rt,ot);if(st>0&&St==null)break;ot=await gt(ot,St),st++}while(st<vt)}return ot};et.options.persister?et.fetchFn=()=>{var ht,yt;return(yt=(ht=et.options).persister)==null?void 0:yt.call(ht,lt,{queryKey:et.queryKey,meta:et.options.meta,signal:et.signal},tt)}:et.fetchFn=lt}}}function getNextPageParam(_e,{pages:et,pageParams:tt}){const rt=et.length-1;return et.length>0?_e.getNextPageParam(et[rt],et,tt[rt],tt):void 0}function getPreviousPageParam(_e,{pages:et,pageParams:tt}){var rt;return et.length>0?(rt=_e.getPreviousPageParam)==null?void 0:rt.call(_e,et[0],et,tt[0],tt):void 0}var Dn,Mo,Do,is,as,Lo,os,ss,Pu,QueryClient=(Pu=class{constructor(_e={}){Jr(this,Dn);Jr(this,Mo);Jr(this,Do);Jr(this,is);Jr(this,as);Jr(this,Lo);Jr(this,os);Jr(this,ss);jr(this,Dn,_e.queryCache||new QueryCache),jr(this,Mo,_e.mutationCache||new MutationCache),jr(this,Do,_e.defaultOptions||{}),jr(this,is,new Map),jr(this,as,new Map),jr(this,Lo,0)}mount(){Hs(this,Lo)._++,qt(this,Lo)===1&&(jr(this,os,focusManager.subscribe(async _e=>{_e&&(await this.resumePausedMutations(),qt(this,Dn).onFocus())})),jr(this,ss,onlineManager.subscribe(async _e=>{_e&&(await this.resumePausedMutations(),qt(this,Dn).onOnline())})))}unmount(){var _e,et;Hs(this,Lo)._--,qt(this,Lo)===0&&((_e=qt(this,os))==null||_e.call(this),jr(this,os,void 0),(et=qt(this,ss))==null||et.call(this),jr(this,ss,void 0))}isFetching(_e){return qt(this,Dn).findAll({..._e,fetchStatus:"fetching"}).length}isMutating(_e){return qt(this,Mo).findAll({..._e,status:"pending"}).length}getQueryData(_e){var tt;const et=this.defaultQueryOptions({queryKey:_e});return(tt=qt(this,Dn).get(et.queryHash))==null?void 0:tt.state.data}ensureQueryData(_e){const et=this.getQueryData(_e.queryKey);if(et===void 0)return this.fetchQuery(_e);{const tt=this.defaultQueryOptions(_e),rt=qt(this,Dn).build(this,tt);return _e.revalidateIfStale&&rt.isStaleByTime(resolveStaleTime(tt.staleTime,rt))&&this.prefetchQuery(tt),Promise.resolve(et)}}getQueriesData(_e){return qt(this,Dn).findAll(_e).map(({queryKey:et,state:tt})=>{const rt=tt.data;return[et,rt]})}setQueryData(_e,et,tt){const rt=this.defaultQueryOptions({queryKey:_e}),nt=qt(this,Dn).get(rt.queryHash),it=nt==null?void 0:nt.state.data,at=functionalUpdate(et,it);if(at!==void 0)return qt(this,Dn).build(this,rt).setData(at,{...tt,manual:!0})}setQueriesData(_e,et,tt){return notifyManager.batch(()=>qt(this,Dn).findAll(_e).map(({queryKey:rt})=>[rt,this.setQueryData(rt,et,tt)]))}getQueryState(_e){var tt;const et=this.defaultQueryOptions({queryKey:_e});return(tt=qt(this,Dn).get(et.queryHash))==null?void 0:tt.state}removeQueries(_e){const et=qt(this,Dn);notifyManager.batch(()=>{et.findAll(_e).forEach(tt=>{et.remove(tt)})})}resetQueries(_e,et){const tt=qt(this,Dn),rt={type:"active",..._e};return notifyManager.batch(()=>(tt.findAll(_e).forEach(nt=>{nt.reset()}),this.refetchQueries(rt,et)))}cancelQueries(_e,et={}){const tt={revert:!0,...et},rt=notifyManager.batch(()=>qt(this,Dn).findAll(_e).map(nt=>nt.cancel(tt)));return Promise.all(rt).then(noop$4).catch(noop$4)}invalidateQueries(_e,et={}){return notifyManager.batch(()=>{if(qt(this,Dn).findAll(_e).forEach(rt=>{rt.invalidate()}),(_e==null?void 0:_e.refetchType)==="none")return Promise.resolve();const tt={..._e,type:(_e==null?void 0:_e.refetchType)??(_e==null?void 0:_e.type)??"active"};return this.refetchQueries(tt,et)})}refetchQueries(_e,et={}){const tt={...et,cancelRefetch:et.cancelRefetch??!0},rt=notifyManager.batch(()=>qt(this,Dn).findAll(_e).filter(nt=>!nt.isDisabled()).map(nt=>{let it=nt.fetch(void 0,tt);return tt.throwOnError||(it=it.catch(noop$4)),nt.state.fetchStatus==="paused"?Promise.resolve():it}));return Promise.all(rt).then(noop$4)}fetchQuery(_e){const et=this.defaultQueryOptions(_e);et.retry===void 0&&(et.retry=!1);const tt=qt(this,Dn).build(this,et);return tt.isStaleByTime(resolveStaleTime(et.staleTime,tt))?tt.fetch(et):Promise.resolve(tt.state.data)}prefetchQuery(_e){return this.fetchQuery(_e).then(noop$4).catch(noop$4)}fetchInfiniteQuery(_e){return _e.behavior=infiniteQueryBehavior(_e.pages),this.fetchQuery(_e)}prefetchInfiniteQuery(_e){return this.fetchInfiniteQuery(_e).then(noop$4).catch(noop$4)}ensureInfiniteQueryData(_e){return _e.behavior=infiniteQueryBehavior(_e.pages),this.ensureQueryData(_e)}resumePausedMutations(){return onlineManager.isOnline()?qt(this,Mo).resumePausedMutations():Promise.resolve()}getQueryCache(){return qt(this,Dn)}getMutationCache(){return qt(this,Mo)}getDefaultOptions(){return qt(this,Do)}setDefaultOptions(_e){jr(this,Do,_e)}setQueryDefaults(_e,et){qt(this,is).set(hashKey(_e),{queryKey:_e,defaultOptions:et})}getQueryDefaults(_e){const et=[...qt(this,is).values()],tt={};return et.forEach(rt=>{partialMatchKey(_e,rt.queryKey)&&Object.assign(tt,rt.defaultOptions)}),tt}setMutationDefaults(_e,et){qt(this,as).set(hashKey(_e),{mutationKey:_e,defaultOptions:et})}getMutationDefaults(_e){const et=[...qt(this,as).values()];let tt={};return et.forEach(rt=>{partialMatchKey(_e,rt.mutationKey)&&(tt={...tt,...rt.defaultOptions})}),tt}defaultQueryOptions(_e){if(_e._defaulted)return _e;const et={...qt(this,Do).queries,...this.getQueryDefaults(_e.queryKey),..._e,_defaulted:!0};return et.queryHash||(et.queryHash=hashQueryKeyByOptions(et.queryKey,et)),et.refetchOnReconnect===void 0&&(et.refetchOnReconnect=et.networkMode!=="always"),et.throwOnError===void 0&&(et.throwOnError=!!et.suspense),!et.networkMode&&et.persister&&(et.networkMode="offlineFirst"),et.enabled!==!0&&et.queryFn===skipToken&&(et.enabled=!1),et}defaultMutationOptions(_e){return _e!=null&&_e._defaulted?_e:{...qt(this,Do).mutations,...(_e==null?void 0:_e.mutationKey)&&this.getMutationDefaults(_e.mutationKey),..._e,_defaulted:!0}}clear(){qt(this,Dn).clear(),qt(this,Mo).clear()}},Dn=new WeakMap,Mo=new WeakMap,Do=new WeakMap,is=new WeakMap,as=new WeakMap,Lo=new WeakMap,os=new WeakMap,ss=new WeakMap,Pu),Xn,yn,Ts,Yn,qo,ls,No,vo,ws,cs,us,Ko,Yo,$o,ds,Tn,_s,Ul,Bl,zl,Hl,Gl,Wl,Kl,Au,Ru,QueryObserver=(Ru=class extends Subscribable{constructor(et,tt){super();Jr(this,Tn);Jr(this,Xn);Jr(this,yn);Jr(this,Ts);Jr(this,Yn);Jr(this,qo);Jr(this,ls);Jr(this,No);Jr(this,vo);Jr(this,ws);Jr(this,cs);Jr(this,us);Jr(this,Ko);Jr(this,Yo);Jr(this,$o);Jr(this,ds,new Set);this.options=tt,jr(this,Xn,et),jr(this,vo,null),jr(this,No,pendingThenable()),this.options.experimental_prefetchInRender||qt(this,No).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(tt)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(qt(this,yn).addObserver(this),shouldFetchOnMount(qt(this,yn),this.options)?cn(this,Tn,_s).call(this):this.updateResult(),cn(this,Tn,Hl).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(qt(this,yn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(qt(this,yn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,cn(this,Tn,Gl).call(this),cn(this,Tn,Wl).call(this),qt(this,yn).removeObserver(this)}setOptions(et,tt){const rt=this.options,nt=qt(this,yn);if(this.options=qt(this,Xn).defaultQueryOptions(et),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof resolveEnabled(this.options.enabled,qt(this,yn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");cn(this,Tn,Kl).call(this),qt(this,yn).setOptions(this.options),rt._defaulted&&!shallowEqualObjects(this.options,rt)&&qt(this,Xn).getQueryCache().notify({type:"observerOptionsUpdated",query:qt(this,yn),observer:this});const it=this.hasListeners();it&&shouldFetchOptionally(qt(this,yn),nt,this.options,rt)&&cn(this,Tn,_s).call(this),this.updateResult(tt),it&&(qt(this,yn)!==nt||resolveEnabled(this.options.enabled,qt(this,yn))!==resolveEnabled(rt.enabled,qt(this,yn))||resolveStaleTime(this.options.staleTime,qt(this,yn))!==resolveStaleTime(rt.staleTime,qt(this,yn)))&&cn(this,Tn,Ul).call(this);const at=cn(this,Tn,Bl).call(this);it&&(qt(this,yn)!==nt||resolveEnabled(this.options.enabled,qt(this,yn))!==resolveEnabled(rt.enabled,qt(this,yn))||at!==qt(this,$o))&&cn(this,Tn,zl).call(this,at)}getOptimisticResult(et){const tt=qt(this,Xn).getQueryCache().build(qt(this,Xn),et),rt=this.createResult(tt,et);return shouldAssignObserverCurrentProperties(this,rt)&&(jr(this,Yn,rt),jr(this,ls,this.options),jr(this,qo,qt(this,yn).state)),rt}getCurrentResult(){return qt(this,Yn)}trackResult(et,tt){const rt={};return Object.keys(et).forEach(nt=>{Object.defineProperty(rt,nt,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(nt),tt==null||tt(nt),et[nt])})}),rt}trackProp(et){qt(this,ds).add(et)}getCurrentQuery(){return qt(this,yn)}refetch({...et}={}){return this.fetch({...et})}fetchOptimistic(et){const tt=qt(this,Xn).defaultQueryOptions(et),rt=qt(this,Xn).getQueryCache().build(qt(this,Xn),tt);return rt.fetch().then(()=>this.createResult(rt,tt))}fetch(et){return cn(this,Tn,_s).call(this,{...et,cancelRefetch:et.cancelRefetch??!0}).then(()=>(this.updateResult(),qt(this,Yn)))}createResult(et,tt){var _t;const rt=qt(this,yn),nt=this.options,it=qt(this,Yn),at=qt(this,qo),ot=qt(this,ls),lt=et!==rt?et.state:qt(this,Ts),{state:ct}=et;let ut={...ct},dt=!1,ft;if(tt._optimisticResults){const Ot=this.hasListeners(),kt=!Ot&&shouldFetchOnMount(et,tt),Lt=Ot&&shouldFetchOptionally(et,rt,tt,nt);(kt||Lt)&&(ut={...ut,...fetchState(ct.data,et.options)}),tt._optimisticResults==="isRestoring"&&(ut.fetchStatus="idle")}let{error:pt,errorUpdatedAt:ht,status:yt}=ut;if(tt.select&&ut.data!==void 0)if(it&&ut.data===(at==null?void 0:at.data)&&tt.select===qt(this,ws))ft=qt(this,cs);else try{jr(this,ws,tt.select),ft=tt.select(ut.data),ft=replaceData(it==null?void 0:it.data,ft,tt),jr(this,cs,ft),jr(this,vo,null)}catch(Ot){jr(this,vo,Ot)}else ft=ut.data;if(tt.placeholderData!==void 0&&ft===void 0&&yt==="pending"){let Ot;if(it!=null&&it.isPlaceholderData&&tt.placeholderData===(ot==null?void 0:ot.placeholderData))Ot=it.data;else if(Ot=typeof tt.placeholderData=="function"?tt.placeholderData((_t=qt(this,us))==null?void 0:_t.state.data,qt(this,us)):tt.placeholderData,tt.select&&Ot!==void 0)try{Ot=tt.select(Ot),jr(this,vo,null)}catch(kt){jr(this,vo,kt)}Ot!==void 0&&(yt="success",ft=replaceData(it==null?void 0:it.data,Ot,tt),dt=!0)}qt(this,vo)&&(pt=qt(this,vo),ft=qt(this,cs),ht=Date.now(),yt="error");const mt=ut.fetchStatus==="fetching",gt=yt==="pending",vt=yt==="error",St=gt&&mt,xt=ft!==void 0,wt={status:yt,fetchStatus:ut.fetchStatus,isPending:gt,isSuccess:yt==="success",isError:vt,isInitialLoading:St,isLoading:St,data:ft,dataUpdatedAt:ut.dataUpdatedAt,error:pt,errorUpdatedAt:ht,failureCount:ut.fetchFailureCount,failureReason:ut.fetchFailureReason,errorUpdateCount:ut.errorUpdateCount,isFetched:ut.dataUpdateCount>0||ut.errorUpdateCount>0,isFetchedAfterMount:ut.dataUpdateCount>lt.dataUpdateCount||ut.errorUpdateCount>lt.errorUpdateCount,isFetching:mt,isRefetching:mt&&!gt,isLoadingError:vt&&!xt,isPaused:ut.fetchStatus==="paused",isPlaceholderData:dt,isRefetchError:vt&&xt,isStale:isStale(et,tt),refetch:this.refetch,promise:qt(this,No)};if(this.options.experimental_prefetchInRender){const Ot=$t=>{wt.status==="error"?$t.reject(wt.error):wt.data!==void 0&&$t.resolve(wt.data)},kt=()=>{const $t=jr(this,No,wt.promise=pendingThenable());Ot($t)},Lt=qt(this,No);switch(Lt.status){case"pending":et.queryHash===rt.queryHash&&Ot(Lt);break;case"fulfilled":(wt.status==="error"||wt.data!==Lt.value)&&kt();break;case"rejected":(wt.status!=="error"||wt.error!==Lt.reason)&&kt();break}}return wt}updateResult(et){const tt=qt(this,Yn),rt=this.createResult(qt(this,yn),this.options);if(jr(this,qo,qt(this,yn).state),jr(this,ls,this.options),qt(this,qo).data!==void 0&&jr(this,us,qt(this,yn)),shallowEqualObjects(rt,tt))return;jr(this,Yn,rt);const nt={},it=()=>{if(!tt)return!0;const{notifyOnChangeProps:at}=this.options,ot=typeof at=="function"?at():at;if(ot==="all"||!ot&&!qt(this,ds).size)return!0;const st=new Set(ot??qt(this,ds));return this.options.throwOnError&&st.add("error"),Object.keys(qt(this,Yn)).some(lt=>{const ct=lt;return qt(this,Yn)[ct]!==tt[ct]&&st.has(ct)})};(et==null?void 0:et.listeners)!==!1&&it()&&(nt.listeners=!0),cn(this,Tn,Au).call(this,{...nt,...et})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&cn(this,Tn,Hl).call(this)}},Xn=new WeakMap,yn=new WeakMap,Ts=new WeakMap,Yn=new WeakMap,qo=new WeakMap,ls=new WeakMap,No=new WeakMap,vo=new WeakMap,ws=new WeakMap,cs=new WeakMap,us=new WeakMap,Ko=new WeakMap,Yo=new WeakMap,$o=new WeakMap,ds=new WeakMap,Tn=new WeakSet,_s=function(et){cn(this,Tn,Kl).call(this);let tt=qt(this,yn).fetch(this.options,et);return et!=null&&et.throwOnError||(tt=tt.catch(noop$4)),tt},Ul=function(){cn(this,Tn,Gl).call(this);const et=resolveStaleTime(this.options.staleTime,qt(this,yn));if(isServer$1||qt(this,Yn).isStale||!isValidTimeout(et))return;const rt=timeUntilStale(qt(this,Yn).dataUpdatedAt,et)+1;jr(this,Ko,setTimeout(()=>{qt(this,Yn).isStale||this.updateResult()},rt))},Bl=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(qt(this,yn)):this.options.refetchInterval)??!1},zl=function(et){cn(this,Tn,Wl).call(this),jr(this,$o,et),!(isServer$1||resolveEnabled(this.options.enabled,qt(this,yn))===!1||!isValidTimeout(qt(this,$o))||qt(this,$o)===0)&&jr(this,Yo,setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&cn(this,Tn,_s).call(this)},qt(this,$o)))},Hl=function(){cn(this,Tn,Ul).call(this),cn(this,Tn,zl).call(this,cn(this,Tn,Bl).call(this))},Gl=function(){qt(this,Ko)&&(clearTimeout(qt(this,Ko)),jr(this,Ko,void 0))},Wl=function(){qt(this,Yo)&&(clearInterval(qt(this,Yo)),jr(this,Yo,void 0))},Kl=function(){const et=qt(this,Xn).getQueryCache().build(qt(this,Xn),this.options);if(et===qt(this,yn))return;const tt=qt(this,yn);jr(this,yn,et),jr(this,Ts,et.state),this.hasListeners()&&(tt==null||tt.removeObserver(this),et.addObserver(this))},Au=function(et){notifyManager.batch(()=>{et.listeners&&this.listeners.forEach(tt=>{tt(qt(this,Yn))}),qt(this,Xn).getQueryCache().notify({query:qt(this,yn),type:"observerResultsUpdated"})})},Ru);function shouldLoadOnMount(_e,et){return resolveEnabled(et.enabled,_e)!==!1&&_e.state.data===void 0&&!(_e.state.status==="error"&&et.retryOnMount===!1)}function shouldFetchOnMount(_e,et){return shouldLoadOnMount(_e,et)||_e.state.data!==void 0&&shouldFetchOn(_e,et,et.refetchOnMount)}function shouldFetchOn(_e,et,tt){if(resolveEnabled(et.enabled,_e)!==!1){const rt=typeof tt=="function"?tt(_e):tt;return rt==="always"||rt!==!1&&isStale(_e,et)}return!1}function shouldFetchOptionally(_e,et,tt,rt){return(_e!==et||resolveEnabled(rt.enabled,_e)===!1)&&(!tt.suspense||_e.state.status!=="error")&&isStale(_e,tt)}function isStale(_e,et){return resolveEnabled(et.enabled,_e)!==!1&&_e.isStaleByTime(resolveStaleTime(et.staleTime,_e))}function shouldAssignObserverCurrentProperties(_e,et){return!shallowEqualObjects(_e.getCurrentResult(),et)}function difference(_e,et){return _e.filter(tt=>!et.includes(tt))}function replaceAt(_e,et,tt){const rt=_e.slice(0);return rt[et]=tt,rt}var fs,io,Zo,hs,ao,jo,Cs,Ps,Fn,Yl,Zl,Gs,Ql,Xl,Iu,QueriesObserver=(Iu=class extends Subscribable{constructor(et,tt,rt){super();Jr(this,Fn);Jr(this,fs);Jr(this,io);Jr(this,Zo);Jr(this,hs);Jr(this,ao);Jr(this,jo);Jr(this,Cs);Jr(this,Ps);jr(this,fs,et),jr(this,hs,rt),jr(this,Zo,[]),jr(this,ao,[]),jr(this,io,[]),this.setQueries(tt)}onSubscribe(){this.listeners.size===1&&qt(this,ao).forEach(et=>{et.subscribe(tt=>{cn(this,Fn,Ql).call(this,et,tt)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,qt(this,ao).forEach(et=>{et.destroy()})}setQueries(et,tt,rt){jr(this,Zo,et),jr(this,hs,tt),notifyManager.batch(()=>{const nt=qt(this,ao),it=cn(this,Fn,Gs).call(this,qt(this,Zo));it.forEach(lt=>lt.observer.setOptions(lt.defaultedQueryOptions,rt));const at=it.map(lt=>lt.observer),ot=at.map(lt=>lt.getCurrentResult()),st=at.some((lt,ct)=>lt!==nt[ct]);nt.length===at.length&&!st||(jr(this,ao,at),jr(this,io,ot),this.hasListeners()&&(difference(nt,at).forEach(lt=>{lt.destroy()}),difference(at,nt).forEach(lt=>{lt.subscribe(ct=>{cn(this,Fn,Ql).call(this,lt,ct)})}),cn(this,Fn,Xl).call(this)))})}getCurrentResult(){return qt(this,io)}getQueries(){return qt(this,ao).map(et=>et.getCurrentQuery())}getObservers(){return qt(this,ao)}getOptimisticResult(et,tt){const nt=cn(this,Fn,Gs).call(this,et).map(it=>it.observer.getOptimisticResult(it.defaultedQueryOptions));return[nt,it=>cn(this,Fn,Zl).call(this,it??nt,tt),()=>cn(this,Fn,Yl).call(this,nt,et)]}},fs=new WeakMap,io=new WeakMap,Zo=new WeakMap,hs=new WeakMap,ao=new WeakMap,jo=new WeakMap,Cs=new WeakMap,Ps=new WeakMap,Fn=new WeakSet,Yl=function(et,tt){const rt=cn(this,Fn,Gs).call(this,tt);return rt.map((nt,it)=>{const at=et[it];return nt.defaultedQueryOptions.notifyOnChangeProps?at:nt.observer.trackResult(at,ot=>{rt.forEach(st=>{st.observer.trackProp(ot)})})})},Zl=function(et,tt){return tt?((!qt(this,jo)||qt(this,io)!==qt(this,Ps)||tt!==qt(this,Cs))&&(jr(this,Cs,tt),jr(this,Ps,qt(this,io)),jr(this,jo,replaceEqualDeep(qt(this,jo),tt(et)))),qt(this,jo)):et},Gs=function(et){const tt=new Map(qt(this,ao).map(nt=>[nt.options.queryHash,nt])),rt=[];return et.forEach(nt=>{const it=qt(this,fs).defaultQueryOptions(nt),at=tt.get(it.queryHash);at?rt.push({defaultedQueryOptions:it,observer:at}):rt.push({defaultedQueryOptions:it,observer:new QueryObserver(qt(this,fs),it)})}),rt},Ql=function(et,tt){const rt=qt(this,ao).indexOf(et);rt!==-1&&(jr(this,io,replaceAt(qt(this,io),rt,tt)),cn(this,Fn,Xl).call(this))},Xl=function(){var et;if(this.hasListeners()){const tt=qt(this,jo),rt=cn(this,Fn,Zl).call(this,cn(this,Fn,Yl).call(this,qt(this,io),qt(this,Zo)),(et=qt(this,hs))==null?void 0:et.combine);tt!==rt&&notifyManager.batch(()=>{this.listeners.forEach(nt=>{nt(qt(this,io))})})}},Iu),QueryClientContext=reactExports.createContext(void 0),useQueryClient=_e=>{const et=reactExports.useContext(QueryClientContext);if(!et)throw new Error("No QueryClient set, use QueryClientProvider to set one");return et},QueryClientProvider=({client:_e,children:et})=>(reactExports.useEffect(()=>(_e.mount(),()=>{_e.unmount()}),[_e]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:_e,children:et})),IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let _e=!1;return{clearReset:()=>{_e=!1},reset:()=>{_e=!0},isReset:()=>_e}}var QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext);function shouldThrowError(_e,et){return typeof _e=="function"?_e(...et):!!_e}function noop$3(){}var ensurePreventErrorBoundaryRetry=(_e,et)=>{(_e.suspense||_e.throwOnError||_e.experimental_prefetchInRender)&&(et.isReset()||(_e.retryOnMount=!1))},useClearResetErrorBoundary=_e=>{reactExports.useEffect(()=>{_e.clearReset()},[_e])},getHasError=({result:_e,errorResetBoundary:et,throwOnError:tt,query:rt})=>_e.isError&&!et.isReset()&&!_e.isFetching&&rt&&shouldThrowError(tt,[_e.error,rt]),ensureSuspenseTimers=_e=>{_e.suspense&&(_e.staleTime===void 0&&(_e.staleTime=1e3),typeof _e.gcTime=="number"&&(_e.gcTime=Math.max(_e.gcTime,1e3)))},willFetch=(_e,et)=>_e.isLoading&&_e.isFetching&&!et,shouldSuspend=(_e,et)=>(_e==null?void 0:_e.suspense)&&et.isPending,fetchOptimistic=(_e,et,tt)=>et.fetchOptimistic(_e).catch(()=>{tt.clearReset()});function useQueries({queries:_e,...et},tt){const rt=useQueryClient(),nt=useIsRestoring(),it=useQueryErrorResetBoundary(),at=reactExports.useMemo(()=>_e.map(pt=>{const ht=rt.defaultQueryOptions(pt);return ht._optimisticResults=nt?"isRestoring":"optimistic",ht}),[_e,rt,nt]);at.forEach(pt=>{ensureSuspenseTimers(pt),ensurePreventErrorBoundaryRetry(pt,it)}),useClearResetErrorBoundary(it);const[ot]=reactExports.useState(()=>new QueriesObserver(rt,at,et)),[st,lt,ct]=ot.getOptimisticResult(at,et.combine);reactExports.useSyncExternalStore(reactExports.useCallback(pt=>nt?noop$3:ot.subscribe(notifyManager.batchCalls(pt)),[ot,nt]),()=>ot.getCurrentResult(),()=>ot.getCurrentResult()),reactExports.useEffect(()=>{ot.setQueries(at,et,{listeners:!1})},[at,et,ot]);const dt=st.some((pt,ht)=>shouldSuspend(at[ht],pt))?st.flatMap((pt,ht)=>{const yt=at[ht];if(yt){const mt=new QueryObserver(rt,yt);if(shouldSuspend(yt,pt))return fetchOptimistic(yt,mt,it);willFetch(pt,nt)&&fetchOptimistic(yt,mt,it)}return[]}):[];if(dt.length>0)throw Promise.all(dt);const ft=st.find((pt,ht)=>{const yt=at[ht];return yt&&getHasError({result:pt,errorResetBoundary:it,throwOnError:yt.throwOnError,query:rt.getQueryCache().get(yt.queryHash)})});if(ft!=null&&ft.error)throw ft.error;return lt(ct())}function useBaseQuery(_e,et,tt){var ct,ut,dt,ft,pt;const rt=useQueryClient(),nt=useIsRestoring(),it=useQueryErrorResetBoundary(),at=rt.defaultQueryOptions(_e);(ut=(ct=rt.getDefaultOptions().queries)==null?void 0:ct._experimental_beforeQuery)==null||ut.call(ct,at),at._optimisticResults=nt?"isRestoring":"optimistic",ensureSuspenseTimers(at),ensurePreventErrorBoundaryRetry(at,it),useClearResetErrorBoundary(it);const ot=!rt.getQueryCache().get(at.queryHash),[st]=reactExports.useState(()=>new et(rt,at)),lt=st.getOptimisticResult(at);if(reactExports.useSyncExternalStore(reactExports.useCallback(ht=>{const yt=nt?noop$3:st.subscribe(notifyManager.batchCalls(ht));return st.updateResult(),yt},[st,nt]),()=>st.getCurrentResult(),()=>st.getCurrentResult()),reactExports.useEffect(()=>{st.setOptions(at,{listeners:!1})},[at,st]),shouldSuspend(at,lt))throw fetchOptimistic(at,st,it);if(getHasError({result:lt,errorResetBoundary:it,throwOnError:at.throwOnError,query:rt.getQueryCache().get(at.queryHash)}))throw lt.error;if((ft=(dt=rt.getDefaultOptions().queries)==null?void 0:dt._experimental_afterQuery)==null||ft.call(dt,at,lt),at.experimental_prefetchInRender&&!isServer$1&&willFetch(lt,nt)){const ht=ot?fetchOptimistic(at,st,it):(pt=rt.getQueryCache().get(at.queryHash))==null?void 0:pt.promise;ht==null||ht.catch(noop$3).finally(()=>{st.updateResult()})}return at.notifyOnChangeProps?lt:st.trackResult(lt)}function useQuery(_e,et){return useBaseQuery(_e,QueryObserver)}function bind$1(_e,et){return function(){return _e.apply(et,arguments)}}const{toString:toString$3}=Object.prototype,{getPrototypeOf}=Object,kindOf=(_e=>et=>{const tt=toString$3.call(et);return _e[tt]||(_e[tt]=tt.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=_e=>(_e=_e.toLowerCase(),et=>kindOf(et)===_e),typeOfTest=_e=>et=>typeof et===_e,{isArray:isArray$5}=Array,isUndefined$1=typeOfTest("undefined");function isBuffer$1(_e){return _e!==null&&!isUndefined$1(_e)&&_e.constructor!==null&&!isUndefined$1(_e.constructor)&&isFunction$4(_e.constructor.isBuffer)&&_e.constructor.isBuffer(_e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(_e){let et;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?et=ArrayBuffer.isView(_e):et=_e&&_e.buffer&&isArrayBuffer(_e.buffer),et}const isString$2=typeOfTest("string"),isFunction$4=typeOfTest("function"),isNumber$3=typeOfTest("number"),isObject$7=_e=>_e!==null&&typeof _e=="object",isBoolean=_e=>_e===!0||_e===!1,isPlainObject$2=_e=>{if(kindOf(_e)!=="object")return!1;const et=getPrototypeOf(_e);return(et===null||et===Object.prototype||Object.getPrototypeOf(et)===null)&&!(Symbol.toStringTag in _e)&&!(Symbol.iterator in _e)},isDate$3=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=_e=>isObject$7(_e)&&isFunction$4(_e.pipe),isFormData=_e=>{let et;return _e&&(typeof FormData=="function"&&_e instanceof FormData||isFunction$4(_e.append)&&((et=kindOf(_e))==="formdata"||et==="object"&&isFunction$4(_e.toString)&&_e.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse$1,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim$2=_e=>_e.trim?_e.trim():_e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(_e,et,{allOwnKeys:tt=!1}={}){if(_e===null||typeof _e>"u")return;let rt,nt;if(typeof _e!="object"&&(_e=[_e]),isArray$5(_e))for(rt=0,nt=_e.length;rt<nt;rt++)et.call(null,_e[rt],rt,_e);else{const it=tt?Object.getOwnPropertyNames(_e):Object.keys(_e),at=it.length;let ot;for(rt=0;rt<at;rt++)ot=it[rt],et.call(null,_e[ot],ot,_e)}}function findKey(_e,et){et=et.toLowerCase();const tt=Object.keys(_e);let rt=tt.length,nt;for(;rt-- >0;)if(nt=tt[rt],et===nt.toLowerCase())return nt;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=_e=>!isUndefined$1(_e)&&_e!==_global;function merge$1(){const{caseless:_e}=isContextDefined(this)&&this||{},et={},tt=(rt,nt)=>{const it=_e&&findKey(et,nt)||nt;isPlainObject$2(et[it])&&isPlainObject$2(rt)?et[it]=merge$1(et[it],rt):isPlainObject$2(rt)?et[it]=merge$1({},rt):isArray$5(rt)?et[it]=rt.slice():et[it]=rt};for(let rt=0,nt=arguments.length;rt<nt;rt++)arguments[rt]&&forEach(arguments[rt],tt);return et}const extend=(_e,et,tt,{allOwnKeys:rt}={})=>(forEach(et,(nt,it)=>{tt&&isFunction$4(nt)?_e[it]=bind$1(nt,tt):_e[it]=nt},{allOwnKeys:rt}),_e),stripBOM=_e=>(_e.charCodeAt(0)===65279&&(_e=_e.slice(1)),_e),inherits=(_e,et,tt,rt)=>{_e.prototype=Object.create(et.prototype,rt),_e.prototype.constructor=_e,Object.defineProperty(_e,"super",{value:et.prototype}),tt&&Object.assign(_e.prototype,tt)},toFlatObject=(_e,et,tt,rt)=>{let nt,it,at;const ot={};if(et=et||{},_e==null)return et;do{for(nt=Object.getOwnPropertyNames(_e),it=nt.length;it-- >0;)at=nt[it],(!rt||rt(at,_e,et))&&!ot[at]&&(et[at]=_e[at],ot[at]=!0);_e=tt!==!1&&getPrototypeOf(_e)}while(_e&&(!tt||tt(_e,et))&&_e!==Object.prototype);return et},endsWith=(_e,et,tt)=>{_e=String(_e),(tt===void 0||tt>_e.length)&&(tt=_e.length),tt-=et.length;const rt=_e.indexOf(et,tt);return rt!==-1&&rt===tt},toArray=_e=>{if(!_e)return null;if(isArray$5(_e))return _e;let et=_e.length;if(!isNumber$3(et))return null;const tt=new Array(et);for(;et-- >0;)tt[et]=_e[et];return tt},isTypedArray=(_e=>et=>_e&&et instanceof _e)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(_e,et)=>{const rt=(_e&&_e[Symbol.iterator]).call(_e);let nt;for(;(nt=rt.next())&&!nt.done;){const it=nt.value;et.call(_e,it[0],it[1])}},matchAll=(_e,et)=>{let tt;const rt=[];for(;(tt=_e.exec(et))!==null;)rt.push(tt);return rt},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=_e=>_e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(tt,rt,nt){return rt.toUpperCase()+nt}),hasOwnProperty$6=(({hasOwnProperty:_e})=>(et,tt)=>_e.call(et,tt))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(_e,et)=>{const tt=Object.getOwnPropertyDescriptors(_e),rt={};forEach(tt,(nt,it)=>{let at;(at=et(nt,it,_e))!==!1&&(rt[it]=at||nt)}),Object.defineProperties(_e,rt)},freezeMethods=_e=>{reduceDescriptors(_e,(et,tt)=>{if(isFunction$4(_e)&&["arguments","caller","callee"].indexOf(tt)!==-1)return!1;const rt=_e[tt];if(isFunction$4(rt)){if(et.enumerable=!1,"writable"in et){et.writable=!1;return}et.set||(et.set=()=>{throw Error("Can not rewrite read-only method '"+tt+"'")})}})},toObjectSet=(_e,et)=>{const tt={},rt=nt=>{nt.forEach(it=>{tt[it]=!0})};return isArray$5(_e)?rt(_e):rt(String(_e).split(et)),tt},noop$2=()=>{},toFiniteNumber=(_e,et)=>_e!=null&&Number.isFinite(_e=+_e)?_e:et;function isSpecCompliantForm(_e){return!!(_e&&isFunction$4(_e.append)&&_e[Symbol.toStringTag]==="FormData"&&_e[Symbol.iterator])}const toJSONObject=_e=>{const et=new Array(10),tt=(rt,nt)=>{if(isObject$7(rt)){if(et.indexOf(rt)>=0)return;if(!("toJSON"in rt)){et[nt]=rt;const it=isArray$5(rt)?[]:{};return forEach(rt,(at,ot)=>{const st=tt(at,nt+1);!isUndefined$1(st)&&(it[ot]=st)}),et[nt]=void 0,it}}return rt};return tt(_e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable$2=_e=>_e&&(isObject$7(_e)||isFunction$4(_e))&&isFunction$4(_e.then)&&isFunction$4(_e.catch),_setImmediate=((_e,et)=>_e?setImmediate:et?((tt,rt)=>(_global.addEventListener("message",({source:nt,data:it})=>{nt===_global&&it===tt&&rt.length&&rt.shift()()},!1),nt=>{rt.push(nt),_global.postMessage(tt,"*")}))(`axios@${Math.random()}`,[]):tt=>setTimeout(tt))(typeof setImmediate=="function",isFunction$4(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,utils$1={isArray:isArray$5,isArrayBuffer,isBuffer:isBuffer$1,isFormData,isArrayBufferView,isString:isString$2,isNumber:isNumber$3,isBoolean,isObject:isObject$7,isPlainObject:isPlainObject$2,isReadableStream,isRequest,isResponse:isResponse$1,isHeaders,isUndefined:isUndefined$1,isDate:isDate$3,isFile,isBlob,isRegExp,isFunction:isFunction$4,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge:merge$1,extend,trim:trim$2,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$6,hasOwnProp:hasOwnProperty$6,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$2,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable:isThenable$2,setImmediate:_setImmediate,asap};function AxiosError$1(_e,et,tt,rt,nt){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=_e,this.name="AxiosError",et&&(this.code=et),tt&&(this.config=tt),rt&&(this.request=rt),nt&&(this.response=nt,this.status=nt.status?nt.status:null)}utils$1.inherits(AxiosError$1,Error,{toJSON:function _e(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(_e=>{descriptors[_e]={value:_e}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(_e,et,tt,rt,nt,it)=>{const at=Object.create(prototype$1);return utils$1.toFlatObject(_e,at,function(st){return st!==Error.prototype},ot=>ot!=="isAxiosError"),AxiosError$1.call(at,_e.message,et,tt,rt,nt),at.cause=_e,at.name=_e.name,it&&Object.assign(at,it),at};const httpAdapter=null;function isVisitable(_e){return utils$1.isPlainObject(_e)||utils$1.isArray(_e)}function removeBrackets(_e){return utils$1.endsWith(_e,"[]")?_e.slice(0,-2):_e}function renderKey(_e,et,tt){return _e?_e.concat(et).map(function(nt,it){return nt=removeBrackets(nt),!tt&&it?"["+nt+"]":nt}).join(tt?".":""):et}function isFlatArray(_e){return utils$1.isArray(_e)&&!_e.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function _e(et){return/^is[A-Z]/.test(et)});function toFormData$1(_e,et,tt){if(!utils$1.isObject(_e))throw new TypeError("target must be an object");et=et||new FormData,tt=utils$1.toFlatObject(tt,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ht,yt){return!utils$1.isUndefined(yt[ht])});const rt=tt.metaTokens,nt=tt.visitor||ct,it=tt.dots,at=tt.indexes,st=(tt.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(et);if(!utils$1.isFunction(nt))throw new TypeError("visitor must be a function");function lt(pt){if(pt===null)return"";if(utils$1.isDate(pt))return pt.toISOString();if(!st&&utils$1.isBlob(pt))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(pt)||utils$1.isTypedArray(pt)?st&&typeof Blob=="function"?new Blob([pt]):Buffer.from(pt):pt}function ct(pt,ht,yt){let mt=pt;if(pt&&!yt&&typeof pt=="object"){if(utils$1.endsWith(ht,"{}"))ht=rt?ht:ht.slice(0,-2),pt=JSON.stringify(pt);else if(utils$1.isArray(pt)&&isFlatArray(pt)||(utils$1.isFileList(pt)||utils$1.endsWith(ht,"[]"))&&(mt=utils$1.toArray(pt)))return ht=removeBrackets(ht),mt.forEach(function(vt,St){!(utils$1.isUndefined(vt)||vt===null)&&et.append(at===!0?renderKey([ht],St,it):at===null?ht:ht+"[]",lt(vt))}),!1}return isVisitable(pt)?!0:(et.append(renderKey(yt,ht,it),lt(pt)),!1)}const ut=[],dt=Object.assign(predicates,{defaultVisitor:ct,convertValue:lt,isVisitable});function ft(pt,ht){if(!utils$1.isUndefined(pt)){if(ut.indexOf(pt)!==-1)throw Error("Circular reference detected in "+ht.join("."));ut.push(pt),utils$1.forEach(pt,function(mt,gt){(!(utils$1.isUndefined(mt)||mt===null)&&nt.call(et,mt,utils$1.isString(gt)?gt.trim():gt,ht,dt))===!0&&ft(mt,ht?ht.concat(gt):[gt])}),ut.pop()}}if(!utils$1.isObject(_e))throw new TypeError("data must be an object");return ft(_e),et}function encode$2(_e){const et={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(_e).replace(/[!'()~]|%20|%00/g,function(rt){return et[rt]})}function AxiosURLSearchParams(_e,et){this._pairs=[],_e&&toFormData$1(_e,this,et)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function _e(et,tt){this._pairs.push([et,tt])};prototype.toString=function _e(et){const tt=et?function(rt){return et.call(this,rt,encode$2)}:encode$2;return this._pairs.map(function(nt){return tt(nt[0])+"="+tt(nt[1])},"").join("&")};function encode$1(_e){return encodeURIComponent(_e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(_e,et,tt){if(!et)return _e;const rt=tt&&tt.encode||encode$1;utils$1.isFunction(tt)&&(tt={serialize:tt});const nt=tt&&tt.serialize;let it;if(nt?it=nt(et,tt):it=utils$1.isURLSearchParams(et)?et.toString():new AxiosURLSearchParams(et,tt).toString(rt),it){const at=_e.indexOf("#");at!==-1&&(_e=_e.slice(0,at)),_e+=(_e.indexOf("?")===-1?"?":"&")+it}return _e}class InterceptorManager{constructor(){this.handlers=[]}use(et,tt,rt){return this.handlers.push({fulfilled:et,rejected:tt,synchronous:rt?rt.synchronous:!1,runWhen:rt?rt.runWhen:null}),this.handlers.length-1}eject(et){this.handlers[et]&&(this.handlers[et]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(et){utils$1.forEach(this.handlers,function(rt){rt!==null&&et(rt)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(_e,et){return toFormData$1(_e,new platform.classes.URLSearchParams,Object.assign({visitor:function(tt,rt,nt,it){return platform.isNode&&utils$1.isBuffer(tt)?(this.append(rt,tt.toString("base64")),!1):it.defaultVisitor.apply(this,arguments)}},et))}function parsePropPath(_e){return utils$1.matchAll(/\w+|\[(\w*)]/g,_e).map(et=>et[0]==="[]"?"":et[1]||et[0])}function arrayToObject(_e){const et={},tt=Object.keys(_e);let rt;const nt=tt.length;let it;for(rt=0;rt<nt;rt++)it=tt[rt],et[it]=_e[it];return et}function formDataToJSON(_e){function et(tt,rt,nt,it){let at=tt[it++];if(at==="__proto__")return!0;const ot=Number.isFinite(+at),st=it>=tt.length;return at=!at&&utils$1.isArray(nt)?nt.length:at,st?(utils$1.hasOwnProp(nt,at)?nt[at]=[nt[at],rt]:nt[at]=rt,!ot):((!nt[at]||!utils$1.isObject(nt[at]))&&(nt[at]=[]),et(tt,rt,nt[at],it)&&utils$1.isArray(nt[at])&&(nt[at]=arrayToObject(nt[at])),!ot)}if(utils$1.isFormData(_e)&&utils$1.isFunction(_e.entries)){const tt={};return utils$1.forEachEntry(_e,(rt,nt)=>{et(parsePropPath(rt),nt,tt,0)}),tt}return null}function stringifySafely(_e,et,tt){if(utils$1.isString(_e))try{return(et||JSON.parse)(_e),utils$1.trim(_e)}catch(rt){if(rt.name!=="SyntaxError")throw rt}return(0,JSON.stringify)(_e)}const defaults$1={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function _e(et,tt){const rt=tt.getContentType()||"",nt=rt.indexOf("application/json")>-1,it=utils$1.isObject(et);if(it&&utils$1.isHTMLForm(et)&&(et=new FormData(et)),utils$1.isFormData(et))return nt?JSON.stringify(formDataToJSON(et)):et;if(utils$1.isArrayBuffer(et)||utils$1.isBuffer(et)||utils$1.isStream(et)||utils$1.isFile(et)||utils$1.isBlob(et)||utils$1.isReadableStream(et))return et;if(utils$1.isArrayBufferView(et))return et.buffer;if(utils$1.isURLSearchParams(et))return tt.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),et.toString();let ot;if(it){if(rt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(et,this.formSerializer).toString();if((ot=utils$1.isFileList(et))||rt.indexOf("multipart/form-data")>-1){const st=this.env&&this.env.FormData;return toFormData$1(ot?{"files[]":et}:et,st&&new st,this.formSerializer)}}return it||nt?(tt.setContentType("application/json",!1),stringifySafely(et)):et}],transformResponse:[function _e(et){const tt=this.transitional||defaults$1.transitional,rt=tt&&tt.forcedJSONParsing,nt=this.responseType==="json";if(utils$1.isResponse(et)||utils$1.isReadableStream(et))return et;if(et&&utils$1.isString(et)&&(rt&&!this.responseType||nt)){const at=!(tt&&tt.silentJSONParsing)&&nt;try{return JSON.parse(et)}catch(ot){if(at)throw ot.name==="SyntaxError"?AxiosError$1.from(ot,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):ot}}return et}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function _e(et){return et>=200&&et<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],_e=>{defaults$1.headers[_e]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders$1=_e=>{const et={};let tt,rt,nt;return _e&&_e.split(`
`).forEach(function(at){nt=at.indexOf(":"),tt=at.substring(0,nt).trim().toLowerCase(),rt=at.substring(nt+1).trim(),!(!tt||et[tt]&&ignoreDuplicateOf[tt])&&(tt==="set-cookie"?et[tt]?et[tt].push(rt):et[tt]=[rt]:et[tt]=et[tt]?et[tt]+", "+rt:rt)}),et},$internals=Symbol("internals");function normalizeHeader(_e){return _e&&String(_e).trim().toLowerCase()}function normalizeValue(_e){return _e===!1||_e==null?_e:utils$1.isArray(_e)?_e.map(normalizeValue):String(_e)}function parseTokens(_e){const et=Object.create(null),tt=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let rt;for(;rt=tt.exec(_e);)et[rt[1]]=rt[2];return et}const isValidHeaderName=_e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(_e.trim());function matchHeaderValue(_e,et,tt,rt,nt){if(utils$1.isFunction(rt))return rt.call(this,et,tt);if(nt&&(et=tt),!!utils$1.isString(et)){if(utils$1.isString(rt))return et.indexOf(rt)!==-1;if(utils$1.isRegExp(rt))return rt.test(et)}}function formatHeader(_e){return _e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(et,tt,rt)=>tt.toUpperCase()+rt)}function buildAccessors(_e,et){const tt=utils$1.toCamelCase(" "+et);["get","set","has"].forEach(rt=>{Object.defineProperty(_e,rt+tt,{value:function(nt,it,at){return this[rt].call(this,et,nt,it,at)},configurable:!0})})}let AxiosHeaders$1=class{constructor(et){et&&this.set(et)}set(et,tt,rt){const nt=this;function it(ot,st,lt){const ct=normalizeHeader(st);if(!ct)throw new Error("header name must be a non-empty string");const ut=utils$1.findKey(nt,ct);(!ut||nt[ut]===void 0||lt===!0||lt===void 0&&nt[ut]!==!1)&&(nt[ut||st]=normalizeValue(ot))}const at=(ot,st)=>utils$1.forEach(ot,(lt,ct)=>it(lt,ct,st));if(utils$1.isPlainObject(et)||et instanceof this.constructor)at(et,tt);else if(utils$1.isString(et)&&(et=et.trim())&&!isValidHeaderName(et))at(parseHeaders$1(et),tt);else if(utils$1.isHeaders(et))for(const[ot,st]of et.entries())it(st,ot,rt);else et!=null&&it(tt,et,rt);return this}get(et,tt){if(et=normalizeHeader(et),et){const rt=utils$1.findKey(this,et);if(rt){const nt=this[rt];if(!tt)return nt;if(tt===!0)return parseTokens(nt);if(utils$1.isFunction(tt))return tt.call(this,nt,rt);if(utils$1.isRegExp(tt))return tt.exec(nt);throw new TypeError("parser must be boolean|regexp|function")}}}has(et,tt){if(et=normalizeHeader(et),et){const rt=utils$1.findKey(this,et);return!!(rt&&this[rt]!==void 0&&(!tt||matchHeaderValue(this,this[rt],rt,tt)))}return!1}delete(et,tt){const rt=this;let nt=!1;function it(at){if(at=normalizeHeader(at),at){const ot=utils$1.findKey(rt,at);ot&&(!tt||matchHeaderValue(rt,rt[ot],ot,tt))&&(delete rt[ot],nt=!0)}}return utils$1.isArray(et)?et.forEach(it):it(et),nt}clear(et){const tt=Object.keys(this);let rt=tt.length,nt=!1;for(;rt--;){const it=tt[rt];(!et||matchHeaderValue(this,this[it],it,et,!0))&&(delete this[it],nt=!0)}return nt}normalize(et){const tt=this,rt={};return utils$1.forEach(this,(nt,it)=>{const at=utils$1.findKey(rt,it);if(at){tt[at]=normalizeValue(nt),delete tt[it];return}const ot=et?formatHeader(it):String(it).trim();ot!==it&&delete tt[it],tt[ot]=normalizeValue(nt),rt[ot]=!0}),this}concat(...et){return this.constructor.concat(this,...et)}toJSON(et){const tt=Object.create(null);return utils$1.forEach(this,(rt,nt)=>{rt!=null&&rt!==!1&&(tt[nt]=et&&utils$1.isArray(rt)?rt.join(", "):rt)}),tt}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([et,tt])=>et+": "+tt).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(et){return et instanceof this?et:new this(et)}static concat(et,...tt){const rt=new this(et);return tt.forEach(nt=>rt.set(nt)),rt}static accessor(et){const rt=(this[$internals]=this[$internals]={accessors:{}}).accessors,nt=this.prototype;function it(at){const ot=normalizeHeader(at);rt[ot]||(buildAccessors(nt,at),rt[ot]=!0)}return utils$1.isArray(et)?et.forEach(it):it(et),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders$1.prototype,({value:_e},et)=>{let tt=et[0].toUpperCase()+et.slice(1);return{get:()=>_e,set(rt){this[tt]=rt}}});utils$1.freezeMethods(AxiosHeaders$1);function transformData(_e,et){const tt=this||defaults$1,rt=et||tt,nt=AxiosHeaders$1.from(rt.headers);let it=rt.data;return utils$1.forEach(_e,function(ot){it=ot.call(tt,it,nt.normalize(),et?et.status:void 0)}),nt.normalize(),it}function isCancel$1(_e){return!!(_e&&_e.__CANCEL__)}function CanceledError$1(_e,et,tt){AxiosError$1.call(this,_e??"canceled",AxiosError$1.ERR_CANCELED,et,tt),this.name="CanceledError"}utils$1.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(_e,et,tt){const rt=tt.config.validateStatus;!tt.status||!rt||rt(tt.status)?_e(tt):et(new AxiosError$1("Request failed with status code "+tt.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(tt.status/100)-4],tt.config,tt.request,tt))}function parseProtocol(_e){const et=/^([-+\w]{1,25})(:?\/\/|:)/.exec(_e);return et&&et[1]||""}function speedometer(_e,et){_e=_e||10;const tt=new Array(_e),rt=new Array(_e);let nt=0,it=0,at;return et=et!==void 0?et:1e3,function(st){const lt=Date.now(),ct=rt[it];at||(at=lt),tt[nt]=st,rt[nt]=lt;let ut=it,dt=0;for(;ut!==nt;)dt+=tt[ut++],ut=ut%_e;if(nt=(nt+1)%_e,nt===it&&(it=(it+1)%_e),lt-at<et)return;const ft=ct&&lt-ct;return ft?Math.round(dt*1e3/ft):void 0}}function throttle(_e,et){let tt=0,rt=1e3/et,nt,it;const at=(lt,ct=Date.now())=>{tt=ct,nt=null,it&&(clearTimeout(it),it=null),_e.apply(null,lt)};return[(...lt)=>{const ct=Date.now(),ut=ct-tt;ut>=rt?at(lt,ct):(nt=lt,it||(it=setTimeout(()=>{it=null,at(nt)},rt-ut)))},()=>nt&&at(nt)]}const progressEventReducer=(_e,et,tt=3)=>{let rt=0;const nt=speedometer(50,250);return throttle(it=>{const at=it.loaded,ot=it.lengthComputable?it.total:void 0,st=at-rt,lt=nt(st),ct=at<=ot;rt=at;const ut={loaded:at,total:ot,progress:ot?at/ot:void 0,bytes:st,rate:lt||void 0,estimated:lt&&ot&&ct?(ot-at)/lt:void 0,event:it,lengthComputable:ot!=null,[et?"download":"upload"]:!0};_e(ut)},tt)},progressEventDecorator=(_e,et)=>{const tt=_e!=null;return[rt=>et[0]({lengthComputable:tt,total:_e,loaded:rt}),et[1]]},asyncDecorator=_e=>(...et)=>utils$1.asap(()=>_e(...et)),isURLSameOrigin=platform.hasStandardBrowserEnv?((_e,et)=>tt=>(tt=new URL(tt,platform.origin),_e.protocol===tt.protocol&&_e.host===tt.host&&(et||_e.port===tt.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(_e,et,tt,rt,nt,it){const at=[_e+"="+encodeURIComponent(et)];utils$1.isNumber(tt)&&at.push("expires="+new Date(tt).toGMTString()),utils$1.isString(rt)&&at.push("path="+rt),utils$1.isString(nt)&&at.push("domain="+nt),it===!0&&at.push("secure"),document.cookie=at.join("; ")},read(_e){const et=document.cookie.match(new RegExp("(^|;\\s*)("+_e+")=([^;]*)"));return et?decodeURIComponent(et[3]):null},remove(_e){this.write(_e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(_e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(_e)}function combineURLs(_e,et){return et?_e.replace(/\/?\/$/,"")+"/"+et.replace(/^\/+/,""):_e}function buildFullPath(_e,et,tt){let rt=!isAbsoluteURL(et);return _e&&rt||tt==!1?combineURLs(_e,et):et}const headersToObject=_e=>_e instanceof AxiosHeaders$1?{..._e}:_e;function mergeConfig$1(_e,et){et=et||{};const tt={};function rt(lt,ct,ut,dt){return utils$1.isPlainObject(lt)&&utils$1.isPlainObject(ct)?utils$1.merge.call({caseless:dt},lt,ct):utils$1.isPlainObject(ct)?utils$1.merge({},ct):utils$1.isArray(ct)?ct.slice():ct}function nt(lt,ct,ut,dt){if(utils$1.isUndefined(ct)){if(!utils$1.isUndefined(lt))return rt(void 0,lt,ut,dt)}else return rt(lt,ct,ut,dt)}function it(lt,ct){if(!utils$1.isUndefined(ct))return rt(void 0,ct)}function at(lt,ct){if(utils$1.isUndefined(ct)){if(!utils$1.isUndefined(lt))return rt(void 0,lt)}else return rt(void 0,ct)}function ot(lt,ct,ut){if(ut in et)return rt(lt,ct);if(ut in _e)return rt(void 0,lt)}const st={url:it,method:it,data:it,baseURL:at,transformRequest:at,transformResponse:at,paramsSerializer:at,timeout:at,timeoutMessage:at,withCredentials:at,withXSRFToken:at,adapter:at,responseType:at,xsrfCookieName:at,xsrfHeaderName:at,onUploadProgress:at,onDownloadProgress:at,decompress:at,maxContentLength:at,maxBodyLength:at,beforeRedirect:at,transport:at,httpAgent:at,httpsAgent:at,cancelToken:at,socketPath:at,responseEncoding:at,validateStatus:ot,headers:(lt,ct,ut)=>nt(headersToObject(lt),headersToObject(ct),ut,!0)};return utils$1.forEach(Object.keys(Object.assign({},_e,et)),function(ct){const ut=st[ct]||nt,dt=ut(_e[ct],et[ct],ct);utils$1.isUndefined(dt)&&ut!==ot||(tt[ct]=dt)}),tt}const resolveConfig=_e=>{const et=mergeConfig$1({},_e);let{data:tt,withXSRFToken:rt,xsrfHeaderName:nt,xsrfCookieName:it,headers:at,auth:ot}=et;et.headers=at=AxiosHeaders$1.from(at),et.url=buildURL(buildFullPath(et.baseURL,et.url),_e.params,_e.paramsSerializer),ot&&at.set("Authorization","Basic "+btoa((ot.username||"")+":"+(ot.password?unescape(encodeURIComponent(ot.password)):"")));let st;if(utils$1.isFormData(tt)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)at.setContentType(void 0);else if((st=at.getContentType())!==!1){const[lt,...ct]=st?st.split(";").map(ut=>ut.trim()).filter(Boolean):[];at.setContentType([lt||"multipart/form-data",...ct].join("; "))}}if(platform.hasStandardBrowserEnv&&(rt&&utils$1.isFunction(rt)&&(rt=rt(et)),rt||rt!==!1&&isURLSameOrigin(et.url))){const lt=nt&&it&&cookies.read(it);lt&&at.set(nt,lt)}return et},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(_e){return new Promise(function(tt,rt){const nt=resolveConfig(_e);let it=nt.data;const at=AxiosHeaders$1.from(nt.headers).normalize();let{responseType:ot,onUploadProgress:st,onDownloadProgress:lt}=nt,ct,ut,dt,ft,pt;function ht(){ft&&ft(),pt&&pt(),nt.cancelToken&&nt.cancelToken.unsubscribe(ct),nt.signal&&nt.signal.removeEventListener("abort",ct)}let yt=new XMLHttpRequest;yt.open(nt.method.toUpperCase(),nt.url,!0),yt.timeout=nt.timeout;function mt(){if(!yt)return;const vt=AxiosHeaders$1.from("getAllResponseHeaders"in yt&&yt.getAllResponseHeaders()),xt={data:!ot||ot==="text"||ot==="json"?yt.responseText:yt.response,status:yt.status,statusText:yt.statusText,headers:vt,config:_e,request:yt};settle(function(wt){tt(wt),ht()},function(wt){rt(wt),ht()},xt),yt=null}"onloadend"in yt?yt.onloadend=mt:yt.onreadystatechange=function(){!yt||yt.readyState!==4||yt.status===0&&!(yt.responseURL&&yt.responseURL.indexOf("file:")===0)||setTimeout(mt)},yt.onabort=function(){yt&&(rt(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,_e,yt)),yt=null)},yt.onerror=function(){rt(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,_e,yt)),yt=null},yt.ontimeout=function(){let St=nt.timeout?"timeout of "+nt.timeout+"ms exceeded":"timeout exceeded";const xt=nt.transitional||transitionalDefaults;nt.timeoutErrorMessage&&(St=nt.timeoutErrorMessage),rt(new AxiosError$1(St,xt.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,_e,yt)),yt=null},it===void 0&&at.setContentType(null),"setRequestHeader"in yt&&utils$1.forEach(at.toJSON(),function(St,xt){yt.setRequestHeader(xt,St)}),utils$1.isUndefined(nt.withCredentials)||(yt.withCredentials=!!nt.withCredentials),ot&&ot!=="json"&&(yt.responseType=nt.responseType),lt&&([dt,pt]=progressEventReducer(lt,!0),yt.addEventListener("progress",dt)),st&&yt.upload&&([ut,ft]=progressEventReducer(st),yt.upload.addEventListener("progress",ut),yt.upload.addEventListener("loadend",ft)),(nt.cancelToken||nt.signal)&&(ct=vt=>{yt&&(rt(!vt||vt.type?new CanceledError$1(null,_e,yt):vt),yt.abort(),yt=null)},nt.cancelToken&&nt.cancelToken.subscribe(ct),nt.signal&&(nt.signal.aborted?ct():nt.signal.addEventListener("abort",ct)));const gt=parseProtocol(nt.url);if(gt&&platform.protocols.indexOf(gt)===-1){rt(new AxiosError$1("Unsupported protocol "+gt+":",AxiosError$1.ERR_BAD_REQUEST,_e));return}yt.send(it||null)})},composeSignals=(_e,et)=>{const{length:tt}=_e=_e?_e.filter(Boolean):[];if(et||tt){let rt=new AbortController,nt;const it=function(lt){if(!nt){nt=!0,ot();const ct=lt instanceof Error?lt:this.reason;rt.abort(ct instanceof AxiosError$1?ct:new CanceledError$1(ct instanceof Error?ct.message:ct))}};let at=et&&setTimeout(()=>{at=null,it(new AxiosError$1(`timeout ${et} of ms exceeded`,AxiosError$1.ETIMEDOUT))},et);const ot=()=>{_e&&(at&&clearTimeout(at),at=null,_e.forEach(lt=>{lt.unsubscribe?lt.unsubscribe(it):lt.removeEventListener("abort",it)}),_e=null)};_e.forEach(lt=>lt.addEventListener("abort",it));const{signal:st}=rt;return st.unsubscribe=()=>utils$1.asap(ot),st}},streamChunk=function*(_e,et){let tt=_e.byteLength;if(tt<et){yield _e;return}let rt=0,nt;for(;rt<tt;)nt=rt+et,yield _e.slice(rt,nt),rt=nt},readBytes=async function*(_e,et){for await(const tt of readStream(_e))yield*streamChunk(tt,et)},readStream=async function*(_e){if(_e[Symbol.asyncIterator]){yield*_e;return}const et=_e.getReader();try{for(;;){const{done:tt,value:rt}=await et.read();if(tt)break;yield rt}}finally{await et.cancel()}},trackStream=(_e,et,tt,rt)=>{const nt=readBytes(_e,et);let it=0,at,ot=st=>{at||(at=!0,rt&&rt(st))};return new ReadableStream({async pull(st){try{const{done:lt,value:ct}=await nt.next();if(lt){ot(),st.close();return}let ut=ct.byteLength;if(tt){let dt=it+=ut;tt(dt)}st.enqueue(new Uint8Array(ct))}catch(lt){throw ot(lt),lt}},cancel(st){return ot(st),nt.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(_e=>et=>_e.encode(et))(new TextEncoder):async _e=>new Uint8Array(await new Response(_e).arrayBuffer())),test=(_e,...et)=>{try{return!!_e(...et)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let _e=!1;const et=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return _e=!0,"half"}}).headers.has("Content-Type");return _e&&!et}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(_e=>_e.body)};isFetchSupported&&(_e=>{["text","arrayBuffer","blob","formData","stream"].forEach(et=>{!resolvers[et]&&(resolvers[et]=utils$1.isFunction(_e[et])?tt=>tt[et]():(tt,rt)=>{throw new AxiosError$1(`Response type '${et}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,rt)})})})(new Response);const getBodyLength=async _e=>{if(_e==null)return 0;if(utils$1.isBlob(_e))return _e.size;if(utils$1.isSpecCompliantForm(_e))return(await new Request(platform.origin,{method:"POST",body:_e}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(_e)||utils$1.isArrayBuffer(_e))return _e.byteLength;if(utils$1.isURLSearchParams(_e)&&(_e=_e+""),utils$1.isString(_e))return(await encodeText(_e)).byteLength},resolveBodyLength=async(_e,et)=>{const tt=utils$1.toFiniteNumber(_e.getContentLength());return tt??getBodyLength(et)},fetchAdapter=isFetchSupported&&(async _e=>{let{url:et,method:tt,data:rt,signal:nt,cancelToken:it,timeout:at,onDownloadProgress:ot,onUploadProgress:st,responseType:lt,headers:ct,withCredentials:ut="same-origin",fetchOptions:dt}=resolveConfig(_e);lt=lt?(lt+"").toLowerCase():"text";let ft=composeSignals([nt,it&&it.toAbortSignal()],at),pt;const ht=ft&&ft.unsubscribe&&(()=>{ft.unsubscribe()});let yt;try{if(st&&supportsRequestStream&&tt!=="get"&&tt!=="head"&&(yt=await resolveBodyLength(ct,rt))!==0){let xt=new Request(et,{method:"POST",body:rt,duplex:"half"}),Ct;if(utils$1.isFormData(rt)&&(Ct=xt.headers.get("content-type"))&&ct.setContentType(Ct),xt.body){const[wt,_t]=progressEventDecorator(yt,progressEventReducer(asyncDecorator(st)));rt=trackStream(xt.body,DEFAULT_CHUNK_SIZE,wt,_t)}}utils$1.isString(ut)||(ut=ut?"include":"omit");const mt="credentials"in Request.prototype;pt=new Request(et,{...dt,signal:ft,method:tt.toUpperCase(),headers:ct.normalize().toJSON(),body:rt,duplex:"half",credentials:mt?ut:void 0});let gt=await fetch(pt);const vt=supportsResponseStream&&(lt==="stream"||lt==="response");if(supportsResponseStream&&(ot||vt&&ht)){const xt={};["status","statusText","headers"].forEach(Ot=>{xt[Ot]=gt[Ot]});const Ct=utils$1.toFiniteNumber(gt.headers.get("content-length")),[wt,_t]=ot&&progressEventDecorator(Ct,progressEventReducer(asyncDecorator(ot),!0))||[];gt=new Response(trackStream(gt.body,DEFAULT_CHUNK_SIZE,wt,()=>{_t&&_t(),ht&&ht()}),xt)}lt=lt||"text";let St=await resolvers[utils$1.findKey(resolvers,lt)||"text"](gt,_e);return!vt&&ht&&ht(),await new Promise((xt,Ct)=>{settle(xt,Ct,{data:St,headers:AxiosHeaders$1.from(gt.headers),status:gt.status,statusText:gt.statusText,config:_e,request:pt})})}catch(mt){throw ht&&ht(),mt&&mt.name==="TypeError"&&/fetch/i.test(mt.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,_e,pt),{cause:mt.cause||mt}):AxiosError$1.from(mt,mt&&mt.code,_e,pt)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(_e,et)=>{if(_e){try{Object.defineProperty(_e,"name",{value:et})}catch{}Object.defineProperty(_e,"adapterName",{value:et})}});const renderReason=_e=>`- ${_e}`,isResolvedHandle=_e=>utils$1.isFunction(_e)||_e===null||_e===!1,adapters={getAdapter:_e=>{_e=utils$1.isArray(_e)?_e:[_e];const{length:et}=_e;let tt,rt;const nt={};for(let it=0;it<et;it++){tt=_e[it];let at;if(rt=tt,!isResolvedHandle(tt)&&(rt=knownAdapters[(at=String(tt)).toLowerCase()],rt===void 0))throw new AxiosError$1(`Unknown adapter '${at}'`);if(rt)break;nt[at||"#"+it]=rt}if(!rt){const it=Object.entries(nt).map(([ot,st])=>`adapter ${ot} `+(st===!1?"is not supported by the environment":"is not available in the build"));let at=et?it.length>1?`since :
`+it.map(renderReason).join(`
`):" "+renderReason(it[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+at,"ERR_NOT_SUPPORT")}return rt},adapters:knownAdapters};function throwIfCancellationRequested(_e){if(_e.cancelToken&&_e.cancelToken.throwIfRequested(),_e.signal&&_e.signal.aborted)throw new CanceledError$1(null,_e)}function dispatchRequest(_e){return throwIfCancellationRequested(_e),_e.headers=AxiosHeaders$1.from(_e.headers),_e.data=transformData.call(_e,_e.transformRequest),["post","put","patch"].indexOf(_e.method)!==-1&&_e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(_e.adapter||defaults$1.adapter)(_e).then(function(rt){return throwIfCancellationRequested(_e),rt.data=transformData.call(_e,_e.transformResponse,rt),rt.headers=AxiosHeaders$1.from(rt.headers),rt},function(rt){return isCancel$1(rt)||(throwIfCancellationRequested(_e),rt&&rt.response&&(rt.response.data=transformData.call(_e,_e.transformResponse,rt.response),rt.response.headers=AxiosHeaders$1.from(rt.response.headers))),Promise.reject(rt)})}const VERSION$2="1.8.1",validators$1={};["object","boolean","number","function","string","symbol"].forEach((_e,et)=>{validators$1[_e]=function(rt){return typeof rt===_e||"a"+(et<1?"n ":" ")+_e}});const deprecatedWarnings={};validators$1.transitional=function _e(et,tt,rt){function nt(it,at){return"[Axios v"+VERSION$2+"] Transitional option '"+it+"'"+at+(rt?". "+rt:"")}return(it,at,ot)=>{if(et===!1)throw new AxiosError$1(nt(at," has been removed"+(tt?" in "+tt:"")),AxiosError$1.ERR_DEPRECATED);return tt&&!deprecatedWarnings[at]&&(deprecatedWarnings[at]=!0,console.warn(nt(at," has been deprecated since v"+tt+" and will be removed in the near future"))),et?et(it,at,ot):!0}};validators$1.spelling=function _e(et){return(tt,rt)=>(console.warn(`${rt} is likely a misspelling of ${et}`),!0)};function assertOptions(_e,et,tt){if(typeof _e!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const rt=Object.keys(_e);let nt=rt.length;for(;nt-- >0;){const it=rt[nt],at=et[it];if(at){const ot=_e[it],st=ot===void 0||at(ot,it,_e);if(st!==!0)throw new AxiosError$1("option "+it+" must be "+st,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(tt!==!0)throw new AxiosError$1("Unknown option "+it,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(et){this.defaults=et,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(et,tt){try{return await this._request(et,tt)}catch(rt){if(rt instanceof Error){let nt={};Error.captureStackTrace?Error.captureStackTrace(nt):nt=new Error;const it=nt.stack?nt.stack.replace(/^.+\n/,""):"";try{rt.stack?it&&!String(rt.stack).endsWith(it.replace(/^.+\n.+\n/,""))&&(rt.stack+=`
`+it):rt.stack=it}catch{}}throw rt}}_request(et,tt){typeof et=="string"?(tt=tt||{},tt.url=et):tt=et||{},tt=mergeConfig$1(this.defaults,tt);const{transitional:rt,paramsSerializer:nt,headers:it}=tt;rt!==void 0&&validator.assertOptions(rt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),nt!=null&&(utils$1.isFunction(nt)?tt.paramsSerializer={serialize:nt}:validator.assertOptions(nt,{encode:validators.function,serialize:validators.function},!0)),tt.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?tt.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:tt.allowAbsoluteUrls=!0),validator.assertOptions(tt,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),tt.method=(tt.method||this.defaults.method||"get").toLowerCase();let at=it&&utils$1.merge(it.common,it[tt.method]);it&&utils$1.forEach(["delete","get","head","post","put","patch","common"],pt=>{delete it[pt]}),tt.headers=AxiosHeaders$1.concat(at,it);const ot=[];let st=!0;this.interceptors.request.forEach(function(ht){typeof ht.runWhen=="function"&&ht.runWhen(tt)===!1||(st=st&&ht.synchronous,ot.unshift(ht.fulfilled,ht.rejected))});const lt=[];this.interceptors.response.forEach(function(ht){lt.push(ht.fulfilled,ht.rejected)});let ct,ut=0,dt;if(!st){const pt=[dispatchRequest.bind(this),void 0];for(pt.unshift.apply(pt,ot),pt.push.apply(pt,lt),dt=pt.length,ct=Promise.resolve(tt);ut<dt;)ct=ct.then(pt[ut++],pt[ut++]);return ct}dt=ot.length;let ft=tt;for(ut=0;ut<dt;){const pt=ot[ut++],ht=ot[ut++];try{ft=pt(ft)}catch(yt){ht.call(this,yt);break}}try{ct=dispatchRequest.call(this,ft)}catch(pt){return Promise.reject(pt)}for(ut=0,dt=lt.length;ut<dt;)ct=ct.then(lt[ut++],lt[ut++]);return ct}getUri(et){et=mergeConfig$1(this.defaults,et);const tt=buildFullPath(et.baseURL,et.url,et.allowAbsoluteUrls);return buildURL(tt,et.params,et.paramsSerializer)}};utils$1.forEach(["delete","get","head","options"],function _e(et){Axios$1.prototype[et]=function(tt,rt){return this.request(mergeConfig$1(rt||{},{method:et,url:tt,data:(rt||{}).data}))}});utils$1.forEach(["post","put","patch"],function _e(et){function tt(rt){return function(it,at,ot){return this.request(mergeConfig$1(ot||{},{method:et,headers:rt?{"Content-Type":"multipart/form-data"}:{},url:it,data:at}))}}Axios$1.prototype[et]=tt(),Axios$1.prototype[et+"Form"]=tt(!0)});let CancelToken$2=class ku{constructor(et){if(typeof et!="function")throw new TypeError("executor must be a function.");let tt;this.promise=new Promise(function(it){tt=it});const rt=this;this.promise.then(nt=>{if(!rt._listeners)return;let it=rt._listeners.length;for(;it-- >0;)rt._listeners[it](nt);rt._listeners=null}),this.promise.then=nt=>{let it;const at=new Promise(ot=>{rt.subscribe(ot),it=ot}).then(nt);return at.cancel=function(){rt.unsubscribe(it)},at},et(function(it,at,ot){rt.reason||(rt.reason=new CanceledError$1(it,at,ot),tt(rt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(et){if(this.reason){et(this.reason);return}this._listeners?this._listeners.push(et):this._listeners=[et]}unsubscribe(et){if(!this._listeners)return;const tt=this._listeners.indexOf(et);tt!==-1&&this._listeners.splice(tt,1)}toAbortSignal(){const et=new AbortController,tt=rt=>{et.abort(rt)};return this.subscribe(tt),et.signal.unsubscribe=()=>this.unsubscribe(tt),et.signal}static source(){let et;return{token:new ku(function(nt){et=nt}),cancel:et}}};function spread$1(_e){return function(tt){return _e.apply(null,tt)}}function isAxiosError$1(_e){return utils$1.isObject(_e)&&_e.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$1).forEach(([_e,et])=>{HttpStatusCode$1[et]=_e});function createInstance(_e){const et=new Axios$1(_e),tt=bind$1(Axios$1.prototype.request,et);return utils$1.extend(tt,Axios$1.prototype,et,{allOwnKeys:!0}),utils$1.extend(tt,et,null,{allOwnKeys:!0}),tt.create=function(nt){return createInstance(mergeConfig$1(_e,nt))},tt}const axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$2;axios.isCancel=isCancel$1;axios.VERSION=VERSION$2;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function _e(et){return Promise.all(et)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=_e=>formDataToJSON(utils$1.isHTMLForm(_e)?new FormData(_e):_e);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken:CancelToken$1,VERSION:VERSION$1,all,Cancel:Cancel$1,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios;/*! js-cookie v3.0.5 | MIT */function assign$2(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)_e[rt]=tt[rt]}return _e}var defaultConverter$1={read:function(_e){return _e[0]==='"'&&(_e=_e.slice(1,-1)),_e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(_e){return encodeURIComponent(_e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function init$1(_e,et){function tt(nt,it,at){if(!(typeof document>"u")){at=assign$2({},et,at),typeof at.expires=="number"&&(at.expires=new Date(Date.now()+at.expires*864e5)),at.expires&&(at.expires=at.expires.toUTCString()),nt=encodeURIComponent(nt).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var ot="";for(var st in at)at[st]&&(ot+="; "+st,at[st]!==!0&&(ot+="="+at[st].split(";")[0]));return document.cookie=nt+"="+_e.write(it,nt)+ot}}function rt(nt){if(!(typeof document>"u"||arguments.length&&!nt)){for(var it=document.cookie?document.cookie.split("; "):[],at={},ot=0;ot<it.length;ot++){var st=it[ot].split("="),lt=st.slice(1).join("=");try{var ct=decodeURIComponent(st[0]);if(at[ct]=_e.read(lt,ct),nt===ct)break}catch{}}return nt?at[nt]:at}}return Object.create({set:tt,get:rt,remove:function(nt,it){tt(nt,"",assign$2({},it,{expires:-1}))},withAttributes:function(nt){return init$1(this.converter,assign$2({},this.attributes,nt))},withConverter:function(nt){return init$1(assign$2({},this.converter,nt),this.attributes)}},{attributes:{value:Object.freeze(et)},converter:{value:Object.freeze(_e)}})}var api$2=init$1(defaultConverter$1,{path:"/"}),dexie_min={exports:{}};(function(_e,et){(function(tt,rt){_e.exports=rt()})(commonjsGlobal,function(){var tt=function(Et,bt){return(tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Pt,At){Pt.__proto__=At}||function(Pt,At){for(var Mt in At)Object.prototype.hasOwnProperty.call(At,Mt)&&(Pt[Mt]=At[Mt])})(Et,bt)},rt=function(){return(rt=Object.assign||function(Et){for(var bt,Pt=1,At=arguments.length;Pt<At;Pt++)for(var Mt in bt=arguments[Pt])Object.prototype.hasOwnProperty.call(bt,Mt)&&(Et[Mt]=bt[Mt]);return Et}).apply(this,arguments)};function nt(Et,bt,Pt){for(var At,Mt=0,Nt=bt.length;Mt<Nt;Mt++)!At&&Mt in bt||((At=At||Array.prototype.slice.call(bt,0,Mt))[Mt]=bt[Mt]);return Et.concat(At||Array.prototype.slice.call(bt))}var it=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal,at=Object.keys,ot=Array.isArray;function st(Et,bt){return typeof bt!="object"||at(bt).forEach(function(Pt){Et[Pt]=bt[Pt]}),Et}typeof Promise>"u"||it.Promise||(it.Promise=Promise);var lt=Object.getPrototypeOf,ct={}.hasOwnProperty;function ut(Et,bt){return ct.call(Et,bt)}function dt(Et,bt){typeof bt=="function"&&(bt=bt(lt(Et))),(typeof Reflect>"u"?at:Reflect.ownKeys)(bt).forEach(function(Pt){pt(Et,Pt,bt[Pt])})}var ft=Object.defineProperty;function pt(Et,bt,Pt,At){ft(Et,bt,st(Pt&&ut(Pt,"get")&&typeof Pt.get=="function"?{get:Pt.get,set:Pt.set,configurable:!0}:{value:Pt,configurable:!0,writable:!0},At))}function ht(Et){return{from:function(bt){return Et.prototype=Object.create(bt.prototype),pt(Et.prototype,"constructor",Et),{extend:dt.bind(null,Et.prototype)}}}}var yt=Object.getOwnPropertyDescriptor,mt=[].slice;function gt(Et,bt,Pt){return mt.call(Et,bt,Pt)}function vt(Et,bt){return bt(Et)}function St(Et){if(!Et)throw new Error("Assertion Failed")}function xt(Et){it.setImmediate?setImmediate(Et):setTimeout(Et,0)}function Ct(Et,bt){if(typeof bt=="string"&&ut(Et,bt))return Et[bt];if(!bt)return Et;if(typeof bt!="string"){for(var Pt=[],At=0,Mt=bt.length;At<Mt;++At){var Nt=Ct(Et,bt[At]);Pt.push(Nt)}return Pt}var Bt=bt.indexOf(".");if(Bt!==-1){var Ht=Et[bt.substr(0,Bt)];return Ht==null?void 0:Ct(Ht,bt.substr(Bt+1))}}function wt(Et,bt,Pt){if(Et&&bt!==void 0&&!("isFrozen"in Object&&Object.isFrozen(Et)))if(typeof bt!="string"&&"length"in bt){St(typeof Pt!="string"&&"length"in Pt);for(var At=0,Mt=bt.length;At<Mt;++At)wt(Et,bt[At],Pt[At])}else{var Nt,Bt,Ht=bt.indexOf(".");Ht!==-1?(Nt=bt.substr(0,Ht),(Bt=bt.substr(Ht+1))===""?Pt===void 0?ot(Et)&&!isNaN(parseInt(Nt))?Et.splice(Nt,1):delete Et[Nt]:Et[Nt]=Pt:wt(Ht=!(Ht=Et[Nt])||!ut(Et,Nt)?Et[Nt]={}:Ht,Bt,Pt)):Pt===void 0?ot(Et)&&!isNaN(parseInt(bt))?Et.splice(bt,1):delete Et[bt]:Et[bt]=Pt}}function _t(Et){var bt,Pt={};for(bt in Et)ut(Et,bt)&&(Pt[bt]=Et[bt]);return Pt}var Ot=[].concat;function kt(Et){return Ot.apply([],Et)}var _o="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(kt([8,16,32,64].map(function(Et){return["Int","Uint","Float"].map(function(bt){return bt+Et+"Array"})}))).filter(function(Et){return it[Et]}),Lt=new Set(_o.map(function(Et){return it[Et]})),$t=null;function zt(Et){return $t=new WeakMap,Et=function bt(Pt){if(!Pt||typeof Pt!="object")return Pt;var At=$t.get(Pt);if(At)return At;if(ot(Pt)){At=[],$t.set(Pt,At);for(var Mt=0,Nt=Pt.length;Mt<Nt;++Mt)At.push(bt(Pt[Mt]))}else if(Lt.has(Pt.constructor))At=Pt;else{var Bt,Ht=lt(Pt);for(Bt in At=Ht===Object.prototype?{}:Object.create(Ht),$t.set(Pt,At),Pt)ut(Pt,Bt)&&(At[Bt]=bt(Pt[Bt]))}return At}(Et),$t=null,Et}var Vt={}.toString;function Ut(Et){return Vt.call(Et).slice(8,-1)}var It=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Dt=typeof It=="symbol"?function(Et){var bt;return Et!=null&&(bt=Et[It])&&bt.apply(Et)}:function(){return null};function Tt(Et,bt){return bt=Et.indexOf(bt),0<=bt&&Et.splice(bt,1),0<=bt}var Rt={};function Ft(Et){var bt,Pt,At,Mt;if(arguments.length===1){if(ot(Et))return Et.slice();if(this===Rt&&typeof Et=="string")return[Et];if(Mt=Dt(Et)){for(Pt=[];!(At=Mt.next()).done;)Pt.push(At.value);return Pt}if(Et==null)return[Et];if(typeof(bt=Et.length)!="number")return[Et];for(Pt=new Array(bt);bt--;)Pt[bt]=Et[bt];return Pt}for(bt=arguments.length,Pt=new Array(bt);bt--;)Pt[bt]=arguments[bt];return Pt}var jt=typeof Symbol<"u"?function(Et){return Et[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},tn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ro=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(tn),nr={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function cr(Et,bt){this.name=Et,this.message=bt}function ur(Et,bt){return Et+". Errors: "+Object.keys(bt).map(function(Pt){return bt[Pt].toString()}).filter(function(Pt,At,Mt){return Mt.indexOf(Pt)===At}).join(`
`)}function pr(Et,bt,Pt,At){this.failures=bt,this.failedKeys=At,this.successCount=Pt,this.message=ur(Et,bt)}function xr(Et,bt){this.name="BulkError",this.failures=Object.keys(bt).map(function(Pt){return bt[Pt]}),this.failuresByPos=bt,this.message=ur(Et,this.failures)}ht(cr).from(Error).extend({toString:function(){return this.name+": "+this.message}}),ht(pr).from(cr),ht(xr).from(cr);var vr=ro.reduce(function(Et,bt){return Et[bt]=bt+"Error",Et},{}),Br=cr,mr=ro.reduce(function(Et,bt){var Pt=bt+"Error";function At(Mt,Nt){this.name=Pt,Mt?typeof Mt=="string"?(this.message="".concat(Mt).concat(Nt?`
 `+Nt:""),this.inner=Nt||null):typeof Mt=="object"&&(this.message="".concat(Mt.name," ").concat(Mt.message),this.inner=Mt):(this.message=nr[bt]||Pt,this.inner=null)}return ht(At).from(Br),Et[bt]=At,Et},{});mr.Syntax=SyntaxError,mr.Type=TypeError,mr.Range=RangeError;var Ir=tn.reduce(function(Et,bt){return Et[bt+"Error"]=mr[bt],Et},{}),br=ro.reduce(function(Et,bt){return["Syntax","Type","Range"].indexOf(bt)===-1&&(Et[bt+"Error"]=mr[bt]),Et},{});function Tr(){}function Vr(Et){return Et}function yr(Et,bt){return Et==null||Et===Vr?bt:function(Pt){return bt(Et(Pt))}}function rn(Et,bt){return function(){Et.apply(this,arguments),bt.apply(this,arguments)}}function ar(Et,bt){return Et===Tr?bt:function(){var Pt=Et.apply(this,arguments);Pt!==void 0&&(arguments[0]=Pt);var At=this.onsuccess,Mt=this.onerror;this.onsuccess=null,this.onerror=null;var Nt=bt.apply(this,arguments);return At&&(this.onsuccess=this.onsuccess?rn(At,this.onsuccess):At),Mt&&(this.onerror=this.onerror?rn(Mt,this.onerror):Mt),Nt!==void 0?Nt:Pt}}function Er(Et,bt){return Et===Tr?bt:function(){Et.apply(this,arguments);var Pt=this.onsuccess,At=this.onerror;this.onsuccess=this.onerror=null,bt.apply(this,arguments),Pt&&(this.onsuccess=this.onsuccess?rn(Pt,this.onsuccess):Pt),At&&(this.onerror=this.onerror?rn(At,this.onerror):At)}}function _r(Et,bt){return Et===Tr?bt:function(Pt){var At=Et.apply(this,arguments);st(Pt,At);var Mt=this.onsuccess,Nt=this.onerror;return this.onsuccess=null,this.onerror=null,Pt=bt.apply(this,arguments),Mt&&(this.onsuccess=this.onsuccess?rn(Mt,this.onsuccess):Mt),Nt&&(this.onerror=this.onerror?rn(Nt,this.onerror):Nt),At===void 0?Pt===void 0?void 0:Pt:st(At,Pt)}}function gr(Et,bt){return Et===Tr?bt:function(){return bt.apply(this,arguments)!==!1&&Et.apply(this,arguments)}}function qr(Et,bt){return Et===Tr?bt:function(){var Pt=Et.apply(this,arguments);if(Pt&&typeof Pt.then=="function"){for(var At=this,Mt=arguments.length,Nt=new Array(Mt);Mt--;)Nt[Mt]=arguments[Mt];return Pt.then(function(){return bt.apply(At,Nt)})}return bt.apply(this,arguments)}}br.ModifyError=pr,br.DexieError=cr,br.BulkError=xr;var Sr=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Hr(Et){Sr=Et}var Qr={},Xr=100,_o=typeof Promise>"u"?[]:function(){var Et=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[Et,lt(Et),Et];var bt=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[bt,lt(bt),Et]}(),tn=_o[0],ro=_o[1],_o=_o[2],ro=ro&&ro.then,Rr=tn&&tn.constructor,wr=!!_o,Dr=function(Et,bt){Ln.push([Et,bt]),En&&(queueMicrotask(On),En=!1)},an=!0,En=!0,dn=[],en=[],Gr=Vr,Cn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Tr,pgp:!1,env:{},finalize:Tr},Fr=Cn,Ln=[],Gn=0,An=[];function Lr(Et){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var bt=this._PSD=Fr;if(typeof Et!="function"){if(Et!==Qr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&To(this,this._value))}this._state=null,this._value=null,++bt.ref,function Pt(At,Mt){try{Mt(function(Nt){if(At._state===null){if(Nt===At)throw new TypeError("A promise cannot be resolved with itself.");var Bt=At._lib&&wn();Nt&&typeof Nt.then=="function"?Pt(At,function(Ht,Kt){Nt instanceof Lr?Nt._then(Ht,Kt):Nt.then(Ht,Kt)}):(At._state=!0,At._value=Nt,Eo(At)),Bt&&Mn()}},To.bind(null,At))}catch(Nt){To(At,Nt)}}(this,Et)}var Zn={get:function(){var Et=Fr,bt=Qt;function Pt(At,Mt){var Nt=this,Bt=!Et.global&&(Et!==Fr||bt!==Qt),Ht=Bt&&!Kr(),Kt=new Lr(function(Zt,er){ba(Nt,new yo(Sn(At,Et,Bt,Ht),Sn(Mt,Et,Bt,Ht),Zt,er,Et))});return this._consoleTask&&(Kt._consoleTask=this._consoleTask),Kt}return Pt.prototype=Qr,Pt},set:function(Et){pt(this,"then",Et&&Et.prototype===Qr?Zn:{get:function(){return Et},set:Zn.set})}};function yo(Et,bt,Pt,At,Mt){this.onFulfilled=typeof Et=="function"?Et:null,this.onRejected=typeof bt=="function"?bt:null,this.resolve=Pt,this.reject=At,this.psd=Mt}function To(Et,bt){var Pt,At;en.push(bt),Et._state===null&&(Pt=Et._lib&&wn(),bt=Gr(bt),Et._state=!1,Et._value=bt,At=Et,dn.some(function(Mt){return Mt._value===At._value})||dn.push(At),Eo(Et),Pt&&Mn())}function Eo(Et){var bt=Et._listeners;Et._listeners=[];for(var Pt=0,At=bt.length;Pt<At;++Pt)ba(Et,bt[Pt]);var Mt=Et._PSD;--Mt.ref||Mt.finalize(),Gn===0&&(++Gn,Dr(function(){--Gn==0&&$n()},[]))}function ba(Et,bt){if(Et._state!==null){var Pt=Et._state?bt.onFulfilled:bt.onRejected;if(Pt===null)return(Et._state?bt.resolve:bt.reject)(Et._value);++bt.psd.ref,++Gn,Dr(oo,[Pt,Et,bt])}else Et._listeners.push(bt)}function oo(Et,bt,Pt){try{var At,Mt=bt._value;!bt._state&&en.length&&(en=[]),At=Sr&&bt._consoleTask?bt._consoleTask.run(function(){return Et(Mt)}):Et(Mt),bt._state||en.indexOf(Mt)!==-1||function(Nt){for(var Bt=dn.length;Bt;)if(dn[--Bt]._value===Nt._value)return dn.splice(Bt,1)}(bt),Pt.resolve(At)}catch(Nt){Pt.reject(Nt)}finally{--Gn==0&&$n(),--Pt.psd.ref||Pt.psd.finalize()}}function On(){Wr(Cn,function(){wn()&&Mn()})}function wn(){var Et=an;return En=an=!1,Et}function Mn(){var Et,bt,Pt;do for(;0<Ln.length;)for(Et=Ln,Ln=[],Pt=Et.length,bt=0;bt<Pt;++bt){var At=Et[bt];At[0].apply(null,At[1])}while(0<Ln.length);En=an=!0}function $n(){var Et=dn;dn=[],Et.forEach(function(At){At._PSD.onunhandled.call(null,At._value,At)});for(var bt=An.slice(0),Pt=bt.length;Pt;)bt[--Pt]()}function Rn(Et){return new Lr(Qr,!1,Et)}function sn(Et,bt){var Pt=Fr;return function(){var At=wn(),Mt=Fr;try{return Zr(Pt,!0),Et.apply(this,arguments)}catch(Nt){bt&&bt(Nt)}finally{Zr(Mt,!1),At&&Mn()}}}dt(Lr.prototype,{then:Zn,_then:function(Et,bt){ba(this,new yo(null,null,Et,bt,Fr))},catch:function(Et){if(arguments.length===1)return this.then(null,Et);var bt=Et,Pt=arguments[1];return typeof bt=="function"?this.then(null,function(At){return(At instanceof bt?Pt:Rn)(At)}):this.then(null,function(At){return(At&&At.name===bt?Pt:Rn)(At)})},finally:function(Et){return this.then(function(bt){return Lr.resolve(Et()).then(function(){return bt})},function(bt){return Lr.resolve(Et()).then(function(){return Rn(bt)})})},timeout:function(Et,bt){var Pt=this;return Et<1/0?new Lr(function(At,Mt){var Nt=setTimeout(function(){return Mt(new mr.Timeout(bt))},Et);Pt.then(At,Mt).finally(clearTimeout.bind(null,Nt))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&pt(Lr.prototype,Symbol.toStringTag,"Dexie.Promise"),Cn.env=Yr(),dt(Lr,{all:function(){var Et=Ft.apply(null,arguments).map(nn);return new Lr(function(bt,Pt){Et.length===0&&bt([]);var At=Et.length;Et.forEach(function(Mt,Nt){return Lr.resolve(Mt).then(function(Bt){Et[Nt]=Bt,--At||bt(Et)},Pt)})})},resolve:function(Et){return Et instanceof Lr?Et:Et&&typeof Et.then=="function"?new Lr(function(bt,Pt){Et.then(bt,Pt)}):new Lr(Qr,!0,Et)},reject:Rn,race:function(){var Et=Ft.apply(null,arguments).map(nn);return new Lr(function(bt,Pt){Et.map(function(At){return Lr.resolve(At).then(bt,Pt)})})},PSD:{get:function(){return Fr},set:function(Et){return Fr=Et}},totalEchoes:{get:function(){return Qt}},newPSD:hr,usePSD:Wr,scheduler:{get:function(){return Dr},set:function(Et){Dr=Et}},rejectionMapper:{get:function(){return Gr},set:function(Et){Gr=Et}},follow:function(Et,bt){return new Lr(function(Pt,At){return hr(function(Mt,Nt){var Bt=Fr;Bt.unhandleds=[],Bt.onunhandled=Nt,Bt.finalize=rn(function(){var Ht,Kt=this;Ht=function(){Kt.unhandleds.length===0?Mt():Nt(Kt.unhandleds[0])},An.push(function Zt(){Ht(),An.splice(An.indexOf(Zt),1)}),++Gn,Dr(function(){--Gn==0&&$n()},[])},Bt.finalize),Et()},bt,Pt,At)})}}),Rr&&(Rr.allSettled&&pt(Lr,"allSettled",function(){var Et=Ft.apply(null,arguments).map(nn);return new Lr(function(bt){Et.length===0&&bt([]);var Pt=Et.length,At=new Array(Pt);Et.forEach(function(Mt,Nt){return Lr.resolve(Mt).then(function(Bt){return At[Nt]={status:"fulfilled",value:Bt}},function(Bt){return At[Nt]={status:"rejected",reason:Bt}}).then(function(){return--Pt||bt(At)})})})}),Rr.any&&typeof AggregateError<"u"&&pt(Lr,"any",function(){var Et=Ft.apply(null,arguments).map(nn);return new Lr(function(bt,Pt){Et.length===0&&Pt(new AggregateError([]));var At=Et.length,Mt=new Array(At);Et.forEach(function(Nt,Bt){return Lr.resolve(Nt).then(function(Ht){return bt(Ht)},function(Ht){Mt[Bt]=Ht,--At||Pt(new AggregateError(Mt))})})})}),Rr.withResolvers&&(Lr.withResolvers=Rr.withResolvers));var xn={awaits:0,echoes:0,id:0},Jn=0,_i=[],Wt=0,Qt=0,or=0;function hr(Et,bt,Pt,At){var Mt=Fr,Nt=Object.create(Mt);return Nt.parent=Mt,Nt.ref=0,Nt.global=!1,Nt.id=++or,Cn.env,Nt.env=wr?{Promise:Lr,PromiseProp:{value:Lr,configurable:!0,writable:!0},all:Lr.all,race:Lr.race,allSettled:Lr.allSettled,any:Lr.any,resolve:Lr.resolve,reject:Lr.reject}:{},bt&&st(Nt,bt),++Mt.ref,Nt.finalize=function(){--this.parent.ref||this.parent.finalize()},At=Wr(Nt,Et,Pt,At),Nt.ref===0&&Nt.finalize(),At}function Ur(){return xn.id||(xn.id=++Jn),++xn.awaits,xn.echoes+=Xr,xn.id}function Kr(){return!!xn.awaits&&(--xn.awaits==0&&(xn.id=0),xn.echoes=xn.awaits*Xr,!0)}function nn(Et){return xn.echoes&&Et&&Et.constructor===Rr?(Ur(),Et.then(function(bt){return Kr(),bt},function(bt){return Kr(),ln(bt)})):Et}function Nr(){var Et=_i[_i.length-1];_i.pop(),Zr(Et,!1)}function Zr(Et,bt){var Pt,At=Fr;(bt?!xn.echoes||Wt++&&Et===Fr:!Wt||--Wt&&Et===Fr)||queueMicrotask(bt?(function(Mt){++Qt,xn.echoes&&--xn.echoes!=0||(xn.echoes=xn.awaits=xn.id=0),_i.push(Fr),Zr(Mt,!0)}).bind(null,Et):Nr),Et!==Fr&&(Fr=Et,At===Cn&&(Cn.env=Yr()),wr&&(Pt=Cn.env.Promise,bt=Et.env,(At.global||Et.global)&&(Object.defineProperty(it,"Promise",bt.PromiseProp),Pt.all=bt.all,Pt.race=bt.race,Pt.resolve=bt.resolve,Pt.reject=bt.reject,bt.allSettled&&(Pt.allSettled=bt.allSettled),bt.any&&(Pt.any=bt.any))))}function Yr(){var Et=it.Promise;return wr?{Promise:Et,PromiseProp:Object.getOwnPropertyDescriptor(it,"Promise"),all:Et.all,race:Et.race,allSettled:Et.allSettled,any:Et.any,resolve:Et.resolve,reject:Et.reject}:{}}function Wr(Et,bt,Pt,At,Mt){var Nt=Fr;try{return Zr(Et,!0),bt(Pt,At,Mt)}finally{Zr(Nt,!1)}}function Sn(Et,bt,Pt,At){return typeof Et!="function"?Et:function(){var Mt=Fr;Pt&&Ur(),Zr(bt,!0);try{return Et.apply(this,arguments)}finally{Zr(Mt,!1),At&&queueMicrotask(Kr)}}}function _n(Et){Promise===Rr&&xn.echoes===0?Wt===0?Et():enqueueNativeMicroTask(Et):setTimeout(Et,0)}(""+ro).indexOf("[native code]")===-1&&(Ur=Kr=Tr);var ln=Lr.reject,hn="",Pn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",kn="String expected.",xa=[],Qn="__dbnames",co="readonly",$a="readwrite";function eo(Et,bt){return Et?bt?function(){return Et.apply(this,arguments)&&bt.apply(this,arguments)}:Et:bt}var to={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function So(Et){return typeof Et!="string"||/\./.test(Et)?function(bt){return bt}:function(bt){return bt[Et]===void 0&&Et in bt&&delete(bt=zt(bt))[Et],bt}}function Fo(){throw mr.Type()}function pn(Et,bt){try{var Pt=un(Et),At=un(bt);if(Pt!==At)return Pt==="Array"?1:At==="Array"?-1:Pt==="binary"?1:At==="binary"?-1:Pt==="string"?1:At==="string"?-1:Pt==="Date"?1:At!=="Date"?NaN:-1;switch(Pt){case"number":case"Date":case"string":return bt<Et?1:Et<bt?-1:0;case"binary":return function(Mt,Nt){for(var Bt=Mt.length,Ht=Nt.length,Kt=Bt<Ht?Bt:Ht,Zt=0;Zt<Kt;++Zt)if(Mt[Zt]!==Nt[Zt])return Mt[Zt]<Nt[Zt]?-1:1;return Bt===Ht?0:Bt<Ht?-1:1}(In(Et),In(bt));case"Array":return function(Mt,Nt){for(var Bt=Mt.length,Ht=Nt.length,Kt=Bt<Ht?Bt:Ht,Zt=0;Zt<Kt;++Zt){var er=pn(Mt[Zt],Nt[Zt]);if(er!==0)return er}return Bt===Ht?0:Bt<Ht?-1:1}(Et,bt)}}catch{}return NaN}function un(Et){var bt=typeof Et;return bt!="object"?bt:ArrayBuffer.isView(Et)?"binary":(Et=Ut(Et),Et==="ArrayBuffer"?"binary":Et)}function In(Et){return Et instanceof Uint8Array?Et:ArrayBuffer.isView(Et)?new Uint8Array(Et.buffer,Et.byteOffset,Et.byteLength):new Uint8Array(Et)}var Vn=(on.prototype._trans=function(Et,bt,Pt){var At=this._tx||Fr.trans,Mt=this.name,Nt=Sr&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(Et==="readonly"?"read":"write"," ").concat(this.name));function Bt(Zt,er,Gt){if(!Gt.schema[Mt])throw new mr.NotFound("Table "+Mt+" not part of transaction");return bt(Gt.idbtrans,Gt)}var Ht=wn();try{var Kt=At&&At.db._novip===this.db._novip?At===Fr.trans?At._promise(Et,Bt,Pt):hr(function(){return At._promise(Et,Bt,Pt)},{trans:At,transless:Fr.transless||Fr}):function Zt(er,Gt,rr,Yt){if(er.idbdb&&(er._state.openComplete||Fr.letThrough||er._vip)){var Jt=er._createTransaction(Gt,rr,er._dbSchema);try{Jt.create(),er._state.PR1398_maxLoop=3}catch(tr){return tr.name===vr.InvalidState&&er.isOpen()&&0<--er._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),er.close({disableAutoOpen:!1}),er.open().then(function(){return Zt(er,Gt,rr,Yt)})):ln(tr)}return Jt._promise(Gt,function(tr,Xt){return hr(function(){return Fr.trans=Jt,Yt(tr,Xt,Jt)})}).then(function(tr){if(Gt==="readwrite")try{Jt.idbtrans.commit()}catch{}return Gt==="readonly"?tr:Jt._completion.then(function(){return tr})})}if(er._state.openComplete)return ln(new mr.DatabaseClosed(er._state.dbOpenError));if(!er._state.isBeingOpened){if(!er._state.autoOpen)return ln(new mr.DatabaseClosed);er.open().catch(Tr)}return er._state.dbReadyPromise.then(function(){return Zt(er,Gt,rr,Yt)})}(this.db,Et,[this.name],Bt);return Nt&&(Kt._consoleTask=Nt,Kt=Kt.catch(function(Zt){return console.trace(Zt),ln(Zt)})),Kt}finally{Ht&&Mn()}},on.prototype.get=function(Et,bt){var Pt=this;return Et&&Et.constructor===Object?this.where(Et).first(bt):Et==null?ln(new mr.Type("Invalid argument to Table.get()")):this._trans("readonly",function(At){return Pt.core.get({trans:At,key:Et}).then(function(Mt){return Pt.hook.reading.fire(Mt)})}).then(bt)},on.prototype.where=function(Et){if(typeof Et=="string")return new this.db.WhereClause(this,Et);if(ot(Et))return new this.db.WhereClause(this,"[".concat(Et.join("+"),"]"));var bt=at(Et);if(bt.length===1)return this.where(bt[0]).equals(Et[bt[0]]);var Pt=this.schema.indexes.concat(this.schema.primKey).filter(function(Ht){if(Ht.compound&&bt.every(function(Zt){return 0<=Ht.keyPath.indexOf(Zt)})){for(var Kt=0;Kt<bt.length;++Kt)if(bt.indexOf(Ht.keyPath[Kt])===-1)return!1;return!0}return!1}).sort(function(Ht,Kt){return Ht.keyPath.length-Kt.keyPath.length})[0];if(Pt&&this.db._maxKey!==hn){var Nt=Pt.keyPath.slice(0,bt.length);return this.where(Nt).equals(Nt.map(function(Kt){return Et[Kt]}))}!Pt&&Sr&&console.warn("The query ".concat(JSON.stringify(Et)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(bt.join("+"),"]"));var At=this.schema.idxByName;function Mt(Ht,Kt){return pn(Ht,Kt)===0}var Bt=bt.reduce(function(Gt,Kt){var Zt=Gt[0],er=Gt[1],Gt=At[Kt],rr=Et[Kt];return[Zt||Gt,Zt||!Gt?eo(er,Gt&&Gt.multi?function(Yt){return Yt=Ct(Yt,Kt),ot(Yt)&&Yt.some(function(Jt){return Mt(rr,Jt)})}:function(Yt){return Mt(rr,Ct(Yt,Kt))}):er]},[null,null]),Nt=Bt[0],Bt=Bt[1];return Nt?this.where(Nt.name).equals(Et[Nt.keyPath]).filter(Bt):Pt?this.filter(Bt):this.where(bt).equals("")},on.prototype.filter=function(Et){return this.toCollection().and(Et)},on.prototype.count=function(Et){return this.toCollection().count(Et)},on.prototype.offset=function(Et){return this.toCollection().offset(Et)},on.prototype.limit=function(Et){return this.toCollection().limit(Et)},on.prototype.each=function(Et){return this.toCollection().each(Et)},on.prototype.toArray=function(Et){return this.toCollection().toArray(Et)},on.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},on.prototype.orderBy=function(Et){return new this.db.Collection(new this.db.WhereClause(this,ot(Et)?"[".concat(Et.join("+"),"]"):Et))},on.prototype.reverse=function(){return this.toCollection().reverse()},on.prototype.mapToClass=function(Et){var bt,Pt=this.db,At=this.name;function Mt(){return bt!==null&&bt.apply(this,arguments)||this}(this.schema.mappedClass=Et).prototype instanceof Fo&&(function(Kt,Zt){if(typeof Zt!="function"&&Zt!==null)throw new TypeError("Class extends value "+String(Zt)+" is not a constructor or null");function er(){this.constructor=Kt}tt(Kt,Zt),Kt.prototype=Zt===null?Object.create(Zt):(er.prototype=Zt.prototype,new er)}(Mt,bt=Et),Object.defineProperty(Mt.prototype,"db",{get:function(){return Pt},enumerable:!1,configurable:!0}),Mt.prototype.table=function(){return At},Et=Mt);for(var Nt=new Set,Bt=Et.prototype;Bt;Bt=lt(Bt))Object.getOwnPropertyNames(Bt).forEach(function(Kt){return Nt.add(Kt)});function Ht(Kt){if(!Kt)return Kt;var Zt,er=Object.create(Et.prototype);for(Zt in Kt)if(!Nt.has(Zt))try{er[Zt]=Kt[Zt]}catch{}return er}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Ht,this.hook("reading",Ht),Et},on.prototype.defineClass=function(){return this.mapToClass(function(Et){st(this,Et)})},on.prototype.add=function(Et,bt){var Pt=this,At=this.schema.primKey,Mt=At.auto,Nt=At.keyPath,Bt=Et;return Nt&&Mt&&(Bt=So(Nt)(Et)),this._trans("readwrite",function(Ht){return Pt.core.mutate({trans:Ht,type:"add",keys:bt!=null?[bt]:null,values:[Bt]})}).then(function(Ht){return Ht.numFailures?Lr.reject(Ht.failures[0]):Ht.lastResult}).then(function(Ht){if(Nt)try{wt(Et,Nt,Ht)}catch{}return Ht})},on.prototype.update=function(Et,bt){return typeof Et!="object"||ot(Et)?this.where(":id").equals(Et).modify(bt):(Et=Ct(Et,this.schema.primKey.keyPath),Et===void 0?ln(new mr.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(Et).modify(bt))},on.prototype.put=function(Et,bt){var Pt=this,At=this.schema.primKey,Mt=At.auto,Nt=At.keyPath,Bt=Et;return Nt&&Mt&&(Bt=So(Nt)(Et)),this._trans("readwrite",function(Ht){return Pt.core.mutate({trans:Ht,type:"put",values:[Bt],keys:bt!=null?[bt]:null})}).then(function(Ht){return Ht.numFailures?Lr.reject(Ht.failures[0]):Ht.lastResult}).then(function(Ht){if(Nt)try{wt(Et,Nt,Ht)}catch{}return Ht})},on.prototype.delete=function(Et){var bt=this;return this._trans("readwrite",function(Pt){return bt.core.mutate({trans:Pt,type:"delete",keys:[Et]})}).then(function(Pt){return Pt.numFailures?Lr.reject(Pt.failures[0]):void 0})},on.prototype.clear=function(){var Et=this;return this._trans("readwrite",function(bt){return Et.core.mutate({trans:bt,type:"deleteRange",range:to})}).then(function(bt){return bt.numFailures?Lr.reject(bt.failures[0]):void 0})},on.prototype.bulkGet=function(Et){var bt=this;return this._trans("readonly",function(Pt){return bt.core.getMany({keys:Et,trans:Pt}).then(function(At){return At.map(function(Mt){return bt.hook.reading.fire(Mt)})})})},on.prototype.bulkAdd=function(Et,bt,Pt){var At=this,Mt=Array.isArray(bt)?bt:void 0,Nt=(Pt=Pt||(Mt?void 0:bt))?Pt.allKeys:void 0;return this._trans("readwrite",function(Bt){var Zt=At.schema.primKey,Ht=Zt.auto,Zt=Zt.keyPath;if(Zt&&Mt)throw new mr.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(Mt&&Mt.length!==Et.length)throw new mr.InvalidArgument("Arguments objects and keys must have the same length");var Kt=Et.length,Zt=Zt&&Ht?Et.map(So(Zt)):Et;return At.core.mutate({trans:Bt,type:"add",keys:Mt,values:Zt,wantResults:Nt}).then(function(Jt){var Gt=Jt.numFailures,rr=Jt.results,Yt=Jt.lastResult,Jt=Jt.failures;if(Gt===0)return Nt?rr:Yt;throw new xr("".concat(At.name,".bulkAdd(): ").concat(Gt," of ").concat(Kt," operations failed"),Jt)})})},on.prototype.bulkPut=function(Et,bt,Pt){var At=this,Mt=Array.isArray(bt)?bt:void 0,Nt=(Pt=Pt||(Mt?void 0:bt))?Pt.allKeys:void 0;return this._trans("readwrite",function(Bt){var Zt=At.schema.primKey,Ht=Zt.auto,Zt=Zt.keyPath;if(Zt&&Mt)throw new mr.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(Mt&&Mt.length!==Et.length)throw new mr.InvalidArgument("Arguments objects and keys must have the same length");var Kt=Et.length,Zt=Zt&&Ht?Et.map(So(Zt)):Et;return At.core.mutate({trans:Bt,type:"put",keys:Mt,values:Zt,wantResults:Nt}).then(function(Jt){var Gt=Jt.numFailures,rr=Jt.results,Yt=Jt.lastResult,Jt=Jt.failures;if(Gt===0)return Nt?rr:Yt;throw new xr("".concat(At.name,".bulkPut(): ").concat(Gt," of ").concat(Kt," operations failed"),Jt)})})},on.prototype.bulkUpdate=function(Et){var bt=this,Pt=this.core,At=Et.map(function(Bt){return Bt.key}),Mt=Et.map(function(Bt){return Bt.changes}),Nt=[];return this._trans("readwrite",function(Bt){return Pt.getMany({trans:Bt,keys:At,cache:"clone"}).then(function(Ht){var Kt=[],Zt=[];Et.forEach(function(Gt,rr){var Yt=Gt.key,Jt=Gt.changes,tr=Ht[rr];if(tr){for(var Xt=0,ir=Object.keys(Jt);Xt<ir.length;Xt++){var sr=ir[Xt],lr=Jt[sr];if(sr===bt.schema.primKey.keyPath){if(pn(lr,Yt)!==0)throw new mr.Constraint("Cannot update primary key in bulkUpdate()")}else wt(tr,sr,lr)}Nt.push(rr),Kt.push(Yt),Zt.push(tr)}});var er=Kt.length;return Pt.mutate({trans:Bt,type:"put",keys:Kt,values:Zt,updates:{keys:At,changeSpecs:Mt}}).then(function(Gt){var rr=Gt.numFailures,Yt=Gt.failures;if(rr===0)return er;for(var Jt=0,tr=Object.keys(Yt);Jt<tr.length;Jt++){var Xt,ir=tr[Jt],sr=Nt[Number(ir)];sr!=null&&(Xt=Yt[ir],delete Yt[ir],Yt[sr]=Xt)}throw new xr("".concat(bt.name,".bulkUpdate(): ").concat(rr," of ").concat(er," operations failed"),Yt)})})})},on.prototype.bulkDelete=function(Et){var bt=this,Pt=Et.length;return this._trans("readwrite",function(At){return bt.core.mutate({trans:At,type:"delete",keys:Et})}).then(function(Bt){var Mt=Bt.numFailures,Nt=Bt.lastResult,Bt=Bt.failures;if(Mt===0)return Nt;throw new xr("".concat(bt.name,".bulkDelete(): ").concat(Mt," of ").concat(Pt," operations failed"),Bt)})},on);function on(){}function Wn(Et){function bt(Bt,Ht){if(Ht){for(var Kt=arguments.length,Zt=new Array(Kt-1);--Kt;)Zt[Kt-1]=arguments[Kt];return Pt[Bt].subscribe.apply(null,Zt),Et}if(typeof Bt=="string")return Pt[Bt]}var Pt={};bt.addEventType=Nt;for(var At=1,Mt=arguments.length;At<Mt;++At)Nt(arguments[At]);return bt;function Nt(Bt,Ht,Kt){if(typeof Bt!="object"){var Zt;Ht=Ht||gr;var er={subscribers:[],fire:Kt=Kt||Tr,subscribe:function(Gt){er.subscribers.indexOf(Gt)===-1&&(er.subscribers.push(Gt),er.fire=Ht(er.fire,Gt))},unsubscribe:function(Gt){er.subscribers=er.subscribers.filter(function(rr){return rr!==Gt}),er.fire=er.subscribers.reduce(Ht,Kt)}};return Pt[Bt]=bt[Bt]=er}at(Zt=Bt).forEach(function(Gt){var rr=Zt[Gt];if(ot(rr))Nt(Gt,Zt[Gt][0],Zt[Gt][1]);else{if(rr!=="asap")throw new mr.InvalidArgument("Invalid event config");var Yt=Nt(Gt,Vr,function(){for(var Jt=arguments.length,tr=new Array(Jt);Jt--;)tr[Jt]=arguments[Jt];Yt.subscribers.forEach(function(Xt){xt(function(){Xt.apply(null,tr)})})})}})}}function wo(Et,bt){return ht(bt).from({prototype:Et}),bt}function Co(Et,bt){return!(Et.filter||Et.algorithm||Et.or)&&(bt?Et.justLimit:!Et.replayFilter)}function Ks(Et,bt){Et.filter=eo(Et.filter,bt)}function Ys(Et,bt,Pt){var At=Et.replayFilter;Et.replayFilter=At?function(){return eo(At(),bt())}:bt,Et.justLimit=Pt&&!At}function Rs(Et,bt){if(Et.isPrimKey)return bt.primaryKey;var Pt=bt.getIndexByKeyPath(Et.index);if(!Pt)throw new mr.Schema("KeyPath "+Et.index+" on object store "+bt.name+" is not indexed");return Pt}function Jl(Et,bt,Pt){var At=Rs(Et,bt.schema);return bt.openCursor({trans:Pt,values:!Et.keysOnly,reverse:Et.dir==="prev",unique:!!Et.unique,query:{index:At,range:Et.range}})}function Is(Et,bt,Pt,At){var Mt=Et.replayFilter?eo(Et.filter,Et.replayFilter()):Et.filter;if(Et.or){var Nt={},Bt=function(Ht,Kt,Zt){var er,Gt;Mt&&!Mt(Kt,Zt,function(rr){return Kt.stop(rr)},function(rr){return Kt.fail(rr)})||((Gt=""+(er=Kt.primaryKey))=="[object ArrayBuffer]"&&(Gt=""+new Uint8Array(er)),ut(Nt,Gt)||(Nt[Gt]=!0,bt(Ht,Kt,Zt)))};return Promise.all([Et.or._iterate(Bt,Pt),_c(Jl(Et,At,Pt),Et.algorithm,Bt,!Et.keysOnly&&Et.valueMapper)])}return _c(Jl(Et,At,Pt),eo(Et.algorithm,Mt),bt,!Et.keysOnly&&Et.valueMapper)}function _c(Et,bt,Pt,At){var Mt=sn(At?function(Nt,Bt,Ht){return Pt(At(Nt),Bt,Ht)}:Pt);return Et.then(function(Nt){if(Nt)return Nt.start(function(){var Bt=function(){return Nt.continue()};bt&&!bt(Nt,function(Ht){return Bt=Ht},function(Ht){Nt.stop(Ht),Bt=Tr},function(Ht){Nt.fail(Ht),Bt=Tr})||Mt(Nt.value,Nt,function(Ht){return Bt=Ht}),Bt()})})}var _o=Symbol(),ps=(eu.prototype.execute=function(Et){if(this.add!==void 0){var bt=this.add;if(ot(bt))return nt(nt([],ot(Et)?Et:[],!0),bt).sort();if(typeof bt=="number")return(Number(Et)||0)+bt;if(typeof bt=="bigint")try{return BigInt(Et)+bt}catch{return BigInt(0)+bt}throw new TypeError("Invalid term ".concat(bt))}if(this.remove!==void 0){var Pt=this.remove;if(ot(Pt))return ot(Et)?Et.filter(function(At){return!Pt.includes(At)}).sort():[];if(typeof Pt=="number")return Number(Et)-Pt;if(typeof Pt=="bigint")try{return BigInt(Et)-Pt}catch{return BigInt(0)-Pt}throw new TypeError("Invalid subtrahend ".concat(Pt))}return bt=(bt=this.replacePrefix)===null||bt===void 0?void 0:bt[0],bt&&typeof Et=="string"&&Et.startsWith(bt)?this.replacePrefix[1]+Et.substring(bt.length):Et},eu);function eu(Et){Object.assign(this,Et)}var Ou=(bn.prototype._read=function(Et,bt){var Pt=this._ctx;return Pt.error?Pt.table._trans(null,ln.bind(null,Pt.error)):Pt.table._trans("readonly",Et).then(bt)},bn.prototype._write=function(Et){var bt=this._ctx;return bt.error?bt.table._trans(null,ln.bind(null,bt.error)):bt.table._trans("readwrite",Et,"locked")},bn.prototype._addAlgorithm=function(Et){var bt=this._ctx;bt.algorithm=eo(bt.algorithm,Et)},bn.prototype._iterate=function(Et,bt){return Is(this._ctx,Et,bt,this._ctx.table.core)},bn.prototype.clone=function(Et){var bt=Object.create(this.constructor.prototype),Pt=Object.create(this._ctx);return Et&&st(Pt,Et),bt._ctx=Pt,bt},bn.prototype.raw=function(){return this._ctx.valueMapper=null,this},bn.prototype.each=function(Et){var bt=this._ctx;return this._read(function(Pt){return Is(bt,Et,Pt,bt.table.core)})},bn.prototype.count=function(Et){var bt=this;return this._read(function(Pt){var At=bt._ctx,Mt=At.table.core;if(Co(At,!0))return Mt.count({trans:Pt,query:{index:Rs(At,Mt.schema),range:At.range}}).then(function(Bt){return Math.min(Bt,At.limit)});var Nt=0;return Is(At,function(){return++Nt,!1},Pt,Mt).then(function(){return Nt})}).then(Et)},bn.prototype.sortBy=function(Et,bt){var Pt=Et.split(".").reverse(),At=Pt[0],Mt=Pt.length-1;function Nt(Kt,Zt){return Zt?Nt(Kt[Pt[Zt]],Zt-1):Kt[At]}var Bt=this._ctx.dir==="next"?1:-1;function Ht(Kt,Zt){return pn(Nt(Kt,Mt),Nt(Zt,Mt))*Bt}return this.toArray(function(Kt){return Kt.sort(Ht)}).then(bt)},bn.prototype.toArray=function(Et){var bt=this;return this._read(function(Pt){var At=bt._ctx;if(At.dir==="next"&&Co(At,!0)&&0<At.limit){var Mt=At.valueMapper,Nt=Rs(At,At.table.core.schema);return At.table.core.query({trans:Pt,limit:At.limit,values:!0,query:{index:Nt,range:At.range}}).then(function(Ht){return Ht=Ht.result,Mt?Ht.map(Mt):Ht})}var Bt=[];return Is(At,function(Ht){return Bt.push(Ht)},Pt,At.table.core).then(function(){return Bt})},Et)},bn.prototype.offset=function(Et){var bt=this._ctx;return Et<=0||(bt.offset+=Et,Co(bt)?Ys(bt,function(){var Pt=Et;return function(At,Mt){return Pt===0||(Pt===1?--Pt:Mt(function(){At.advance(Pt),Pt=0}),!1)}}):Ys(bt,function(){var Pt=Et;return function(){return--Pt<0}})),this},bn.prototype.limit=function(Et){return this._ctx.limit=Math.min(this._ctx.limit,Et),Ys(this._ctx,function(){var bt=Et;return function(Pt,At,Mt){return--bt<=0&&At(Mt),0<=bt}},!0),this},bn.prototype.until=function(Et,bt){return Ks(this._ctx,function(Pt,At,Mt){return!Et(Pt.value)||(At(Mt),bt)}),this},bn.prototype.first=function(Et){return this.limit(1).toArray(function(bt){return bt[0]}).then(Et)},bn.prototype.last=function(Et){return this.reverse().first(Et)},bn.prototype.filter=function(Et){var bt;return Ks(this._ctx,function(Pt){return Et(Pt.value)}),(bt=this._ctx).isMatch=eo(bt.isMatch,Et),this},bn.prototype.and=function(Et){return this.filter(Et)},bn.prototype.or=function(Et){return new this.db.WhereClause(this._ctx.table,Et,this)},bn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},bn.prototype.desc=function(){return this.reverse()},bn.prototype.eachKey=function(Et){var bt=this._ctx;return bt.keysOnly=!bt.isMatch,this.each(function(Pt,At){Et(At.key,At)})},bn.prototype.eachUniqueKey=function(Et){return this._ctx.unique="unique",this.eachKey(Et)},bn.prototype.eachPrimaryKey=function(Et){var bt=this._ctx;return bt.keysOnly=!bt.isMatch,this.each(function(Pt,At){Et(At.primaryKey,At)})},bn.prototype.keys=function(Et){var bt=this._ctx;bt.keysOnly=!bt.isMatch;var Pt=[];return this.each(function(At,Mt){Pt.push(Mt.key)}).then(function(){return Pt}).then(Et)},bn.prototype.primaryKeys=function(Et){var bt=this._ctx;if(bt.dir==="next"&&Co(bt,!0)&&0<bt.limit)return this._read(function(At){var Mt=Rs(bt,bt.table.core.schema);return bt.table.core.query({trans:At,values:!1,limit:bt.limit,query:{index:Mt,range:bt.range}})}).then(function(At){return At.result}).then(Et);bt.keysOnly=!bt.isMatch;var Pt=[];return this.each(function(At,Mt){Pt.push(Mt.primaryKey)}).then(function(){return Pt}).then(Et)},bn.prototype.uniqueKeys=function(Et){return this._ctx.unique="unique",this.keys(Et)},bn.prototype.firstKey=function(Et){return this.limit(1).keys(function(bt){return bt[0]}).then(Et)},bn.prototype.lastKey=function(Et){return this.reverse().firstKey(Et)},bn.prototype.distinct=function(){var Et=this._ctx,Et=Et.index&&Et.table.schema.idxByName[Et.index];if(!Et||!Et.multi)return this;var bt={};return Ks(this._ctx,function(Mt){var At=Mt.primaryKey.toString(),Mt=ut(bt,At);return bt[At]=!0,!Mt}),this},bn.prototype.modify=function(Et){var bt=this,Pt=this._ctx;return this._write(function(At){var Mt,Nt,Bt;Bt=typeof Et=="function"?Et:(Mt=at(Et),Nt=Mt.length,function(Xt){for(var ir=!1,sr=0;sr<Nt;++sr){var lr=Mt[sr],dr=Et[lr],Cr=Ct(Xt,lr);dr instanceof ps?(wt(Xt,lr,dr.execute(Cr)),ir=!0):Cr!==dr&&(wt(Xt,lr,dr),ir=!0)}return ir});function Ht(Xt,lr){var sr=lr.failures,lr=lr.numFailures;Jt+=Xt-lr;for(var dr=0,Cr=at(sr);dr<Cr.length;dr++){var Or=Cr[dr];Yt.push(sr[Or])}}var Kt=Pt.table.core,Zt=Kt.schema.primaryKey,er=Zt.outbound,Gt=Zt.extractKey,rr=bt.db._options.modifyChunkSize||200,Yt=[],Jt=0,tr=[];return bt.clone().primaryKeys().then(function(Xt){function ir(lr){var dr=Math.min(rr,Xt.length-lr);return Kt.getMany({trans:At,keys:Xt.slice(lr,lr+dr),cache:"immutable"}).then(function(Cr){for(var Or=[],Pr=[],Ar=er?[]:null,$r=[],Mr=0;Mr<dr;++Mr){var zr=Cr[Mr],fn={value:zt(zr),primKey:Xt[lr+Mr]};Bt.call(fn,fn.value,fn)!==!1&&(fn.value==null?$r.push(Xt[lr+Mr]):er||pn(Gt(zr),Gt(fn.value))===0?(Pr.push(fn.value),er&&Ar.push(Xt[lr+Mr])):($r.push(Xt[lr+Mr]),Or.push(fn.value)))}return Promise.resolve(0<Or.length&&Kt.mutate({trans:At,type:"add",values:Or}).then(function(vn){for(var mn in vn.failures)$r.splice(parseInt(mn),1);Ht(Or.length,vn)})).then(function(){return(0<Pr.length||sr&&typeof Et=="object")&&Kt.mutate({trans:At,type:"put",keys:Ar,values:Pr,criteria:sr,changeSpec:typeof Et!="function"&&Et,isAdditionalChunk:0<lr}).then(function(vn){return Ht(Pr.length,vn)})}).then(function(){return(0<$r.length||sr&&Et===Zs)&&Kt.mutate({trans:At,type:"delete",keys:$r,criteria:sr,isAdditionalChunk:0<lr}).then(function(vn){return Ht($r.length,vn)})}).then(function(){return Xt.length>lr+dr&&ir(lr+rr)})})}var sr=Co(Pt)&&Pt.limit===1/0&&(typeof Et!="function"||Et===Zs)&&{index:Pt.index,range:Pt.range};return ir(0).then(function(){if(0<Yt.length)throw new pr("Error modifying one or more objects",Yt,Jt,tr);return Xt.length})})})},bn.prototype.delete=function(){var Et=this._ctx,bt=Et.range;return Co(Et)&&(Et.isPrimKey||bt.type===3)?this._write(function(Pt){var At=Et.table.core.schema.primaryKey,Mt=bt;return Et.table.core.count({trans:Pt,query:{index:At,range:Mt}}).then(function(Nt){return Et.table.core.mutate({trans:Pt,type:"deleteRange",range:Mt}).then(function(Bt){var Ht=Bt.failures;if(Bt.lastResult,Bt.results,Bt=Bt.numFailures,Bt)throw new pr("Could not delete some values",Object.keys(Ht).map(function(Kt){return Ht[Kt]}),Nt-Bt);return Nt-Bt})})}):this.modify(Zs)},bn);function bn(){}var Zs=function(Et,bt){return bt.value=null};function Mu(Et,bt){return Et<bt?-1:Et===bt?0:1}function Du(Et,bt){return bt<Et?-1:Et===bt?0:1}function na(Et,bt,Pt){return Et=Et instanceof ru?new Et.Collection(Et):Et,Et._ctx.error=new(Pt||TypeError)(bt),Et}function Qo(Et){return new Et.Collection(Et,function(){return tu("")}).limit(0)}function As(Et,bt,Pt,At){var Mt,Nt,Bt,Ht,Kt,Zt,er,Gt=Pt.length;if(!Pt.every(function(Jt){return typeof Jt=="string"}))return na(Et,kn);function rr(Jt){Mt=Jt==="next"?function(Xt){return Xt.toUpperCase()}:function(Xt){return Xt.toLowerCase()},Nt=Jt==="next"?function(Xt){return Xt.toLowerCase()}:function(Xt){return Xt.toUpperCase()},Bt=Jt==="next"?Mu:Du;var tr=Pt.map(function(Xt){return{lower:Nt(Xt),upper:Mt(Xt)}}).sort(function(Xt,ir){return Bt(Xt.lower,ir.lower)});Ht=tr.map(function(Xt){return Xt.upper}),Kt=tr.map(function(Xt){return Xt.lower}),er=(Zt=Jt)==="next"?"":At}rr("next"),Et=new Et.Collection(Et,function(){return Po(Ht[0],Kt[Gt-1]+At)}),Et._ondirectionchange=function(Jt){rr(Jt)};var Yt=0;return Et._addAlgorithm(function(Jt,tr,Xt){var ir=Jt.key;if(typeof ir!="string")return!1;var sr=Nt(ir);if(bt(sr,Kt,Yt))return!0;for(var lr=null,dr=Yt;dr<Gt;++dr){var Cr=function(Or,Pr,Ar,$r,Mr,zr){for(var fn=Math.min(Or.length,$r.length),vn=-1,mn=0;mn<fn;++mn){var so=Pr[mn];if(so!==$r[mn])return Mr(Or[mn],Ar[mn])<0?Or.substr(0,mn)+Ar[mn]+Ar.substr(mn+1):Mr(Or[mn],$r[mn])<0?Or.substr(0,mn)+$r[mn]+Ar.substr(mn+1):0<=vn?Or.substr(0,vn)+Pr[vn]+Ar.substr(vn+1):null;Mr(Or[mn],so)<0&&(vn=mn)}return fn<$r.length&&zr==="next"?Or+Ar.substr(Or.length):fn<Or.length&&zr==="prev"?Or.substr(0,Ar.length):vn<0?null:Or.substr(0,vn)+$r[vn]+Ar.substr(vn+1)}(ir,sr,Ht[dr],Kt[dr],Bt,Zt);Cr===null&&lr===null?Yt=dr+1:(lr===null||0<Bt(lr,Cr))&&(lr=Cr)}return tr(lr!==null?function(){Jt.continue(lr+er)}:Xt),!1}),Et}function Po(Et,bt,Pt,At){return{type:2,lower:Et,upper:bt,lowerOpen:Pt,upperOpen:At}}function tu(Et){return{type:1,lower:Et,upper:Et}}var ru=(Object.defineProperty(jn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),jn.prototype.between=function(Et,bt,Pt,At){Pt=Pt!==!1,At=At===!0;try{return 0<this._cmp(Et,bt)||this._cmp(Et,bt)===0&&(Pt||At)&&(!Pt||!At)?Qo(this):new this.Collection(this,function(){return Po(Et,bt,!Pt,!At)})}catch{return na(this,Pn)}},jn.prototype.equals=function(Et){return Et==null?na(this,Pn):new this.Collection(this,function(){return tu(Et)})},jn.prototype.above=function(Et){return Et==null?na(this,Pn):new this.Collection(this,function(){return Po(Et,void 0,!0)})},jn.prototype.aboveOrEqual=function(Et){return Et==null?na(this,Pn):new this.Collection(this,function(){return Po(Et,void 0,!1)})},jn.prototype.below=function(Et){return Et==null?na(this,Pn):new this.Collection(this,function(){return Po(void 0,Et,!1,!0)})},jn.prototype.belowOrEqual=function(Et){return Et==null?na(this,Pn):new this.Collection(this,function(){return Po(void 0,Et)})},jn.prototype.startsWith=function(Et){return typeof Et!="string"?na(this,kn):this.between(Et,Et+hn,!0,!0)},jn.prototype.startsWithIgnoreCase=function(Et){return Et===""?this.startsWith(Et):As(this,function(bt,Pt){return bt.indexOf(Pt[0])===0},[Et],hn)},jn.prototype.equalsIgnoreCase=function(Et){return As(this,function(bt,Pt){return bt===Pt[0]},[Et],"")},jn.prototype.anyOfIgnoreCase=function(){var Et=Ft.apply(Rt,arguments);return Et.length===0?Qo(this):As(this,function(bt,Pt){return Pt.indexOf(bt)!==-1},Et,"")},jn.prototype.startsWithAnyOfIgnoreCase=function(){var Et=Ft.apply(Rt,arguments);return Et.length===0?Qo(this):As(this,function(bt,Pt){return Pt.some(function(At){return bt.indexOf(At)===0})},Et,hn)},jn.prototype.anyOf=function(){var Et=this,bt=Ft.apply(Rt,arguments),Pt=this._cmp;try{bt.sort(Pt)}catch{return na(this,Pn)}if(bt.length===0)return Qo(this);var At=new this.Collection(this,function(){return Po(bt[0],bt[bt.length-1])});At._ondirectionchange=function(Nt){Pt=Nt==="next"?Et._ascending:Et._descending,bt.sort(Pt)};var Mt=0;return At._addAlgorithm(function(Nt,Bt,Ht){for(var Kt=Nt.key;0<Pt(Kt,bt[Mt]);)if(++Mt===bt.length)return Bt(Ht),!1;return Pt(Kt,bt[Mt])===0||(Bt(function(){Nt.continue(bt[Mt])}),!1)}),At},jn.prototype.notEqual=function(Et){return this.inAnyRange([[-1/0,Et],[Et,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},jn.prototype.noneOf=function(){var Et=Ft.apply(Rt,arguments);if(Et.length===0)return new this.Collection(this);try{Et.sort(this._ascending)}catch{return na(this,Pn)}var bt=Et.reduce(function(Pt,At){return Pt?Pt.concat([[Pt[Pt.length-1][1],At]]):[[-1/0,At]]},null);return bt.push([Et[Et.length-1],this.db._maxKey]),this.inAnyRange(bt,{includeLowers:!1,includeUppers:!1})},jn.prototype.inAnyRange=function(ir,bt){var Pt=this,At=this._cmp,Mt=this._ascending,Nt=this._descending,Bt=this._min,Ht=this._max;if(ir.length===0)return Qo(this);if(!ir.every(function(sr){return sr[0]!==void 0&&sr[1]!==void 0&&Mt(sr[0],sr[1])<=0}))return na(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",mr.InvalidArgument);var Kt=!bt||bt.includeLowers!==!1,Zt=bt&&bt.includeUppers===!0,er,Gt=Mt;function rr(sr,lr){return Gt(sr[0],lr[0])}try{(er=ir.reduce(function(sr,lr){for(var dr=0,Cr=sr.length;dr<Cr;++dr){var Or=sr[dr];if(At(lr[0],Or[1])<0&&0<At(lr[1],Or[0])){Or[0]=Bt(Or[0],lr[0]),Or[1]=Ht(Or[1],lr[1]);break}}return dr===Cr&&sr.push(lr),sr},[])).sort(rr)}catch{return na(this,Pn)}var Yt=0,Jt=Zt?function(sr){return 0<Mt(sr,er[Yt][1])}:function(sr){return 0<=Mt(sr,er[Yt][1])},tr=Kt?function(sr){return 0<Nt(sr,er[Yt][0])}:function(sr){return 0<=Nt(sr,er[Yt][0])},Xt=Jt,ir=new this.Collection(this,function(){return Po(er[0][0],er[er.length-1][1],!Kt,!Zt)});return ir._ondirectionchange=function(sr){Gt=sr==="next"?(Xt=Jt,Mt):(Xt=tr,Nt),er.sort(rr)},ir._addAlgorithm(function(sr,lr,dr){for(var Cr,Or=sr.key;Xt(Or);)if(++Yt===er.length)return lr(dr),!1;return!Jt(Cr=Or)&&!tr(Cr)||(Pt._cmp(Or,er[Yt][1])===0||Pt._cmp(Or,er[Yt][0])===0||lr(function(){Gt===Mt?sr.continue(er[Yt][0]):sr.continue(er[Yt][1])}),!1)}),ir},jn.prototype.startsWithAnyOf=function(){var Et=Ft.apply(Rt,arguments);return Et.every(function(bt){return typeof bt=="string"})?Et.length===0?Qo(this):this.inAnyRange(Et.map(function(bt){return[bt,bt+hn]})):na(this,"startsWithAnyOf() only works with strings")},jn);function jn(){}function uo(Et){return sn(function(bt){return ms(bt),Et(bt.target.error),!1})}function ms(Et){Et.stopPropagation&&Et.stopPropagation(),Et.preventDefault&&Et.preventDefault()}var gs="storagemutated",Qs="x-storagemutated-1",Ro=Wn(null,gs),Lu=(fo.prototype._lock=function(){return St(!Fr.global),++this._reculock,this._reculock!==1||Fr.global||(Fr.lockOwnerFor=this),this},fo.prototype._unlock=function(){if(St(!Fr.global),--this._reculock==0)for(Fr.global||(Fr.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var Et=this._blockedFuncs.shift();try{Wr(Et[1],Et[0])}catch{}}return this},fo.prototype._locked=function(){return this._reculock&&Fr.lockOwnerFor!==this},fo.prototype.create=function(Et){var bt=this;if(!this.mode)return this;var Pt=this.db.idbdb,At=this.db._state.dbOpenError;if(St(!this.idbtrans),!Et&&!Pt)switch(At&&At.name){case"DatabaseClosedError":throw new mr.DatabaseClosed(At);case"MissingAPIError":throw new mr.MissingAPI(At.message,At);default:throw new mr.OpenFailed(At)}if(!this.active)throw new mr.TransactionInactive;return St(this._completion._state===null),(Et=this.idbtrans=Et||(this.db.core||Pt).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=sn(function(Mt){ms(Mt),bt._reject(Et.error)}),Et.onabort=sn(function(Mt){ms(Mt),bt.active&&bt._reject(new mr.Abort(Et.error)),bt.active=!1,bt.on("abort").fire(Mt)}),Et.oncomplete=sn(function(){bt.active=!1,bt._resolve(),"mutatedParts"in Et&&Ro.storagemutated.fire(Et.mutatedParts)}),this},fo.prototype._promise=function(Et,bt,Pt){var At=this;if(Et==="readwrite"&&this.mode!=="readwrite")return ln(new mr.ReadOnly("Transaction is readonly"));if(!this.active)return ln(new mr.TransactionInactive);if(this._locked())return new Lr(function(Nt,Bt){At._blockedFuncs.push([function(){At._promise(Et,bt,Pt).then(Nt,Bt)},Fr])});if(Pt)return hr(function(){var Nt=new Lr(function(Bt,Ht){At._lock();var Kt=bt(Bt,Ht,At);Kt&&Kt.then&&Kt.then(Bt,Ht)});return Nt.finally(function(){return At._unlock()}),Nt._lib=!0,Nt});var Mt=new Lr(function(Nt,Bt){var Ht=bt(Nt,Bt,At);Ht&&Ht.then&&Ht.then(Nt,Bt)});return Mt._lib=!0,Mt},fo.prototype._root=function(){return this.parent?this.parent._root():this},fo.prototype.waitFor=function(Et){var bt,Pt=this._root(),At=Lr.resolve(Et);Pt._waitingFor?Pt._waitingFor=Pt._waitingFor.then(function(){return At}):(Pt._waitingFor=At,Pt._waitingQueue=[],bt=Pt.idbtrans.objectStore(Pt.storeNames[0]),function Nt(){for(++Pt._spinCount;Pt._waitingQueue.length;)Pt._waitingQueue.shift()();Pt._waitingFor&&(bt.get(-1/0).onsuccess=Nt)}());var Mt=Pt._waitingFor;return new Lr(function(Nt,Bt){At.then(function(Ht){return Pt._waitingQueue.push(sn(Nt.bind(null,Ht)))},function(Ht){return Pt._waitingQueue.push(sn(Bt.bind(null,Ht)))}).finally(function(){Pt._waitingFor===Mt&&(Pt._waitingFor=null)})})},fo.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new mr.Abort))},fo.prototype.table=function(Et){var bt=this._memoizedTables||(this._memoizedTables={});if(ut(bt,Et))return bt[Et];var Pt=this.schema[Et];if(!Pt)throw new mr.NotFound("Table "+Et+" not part of transaction");return Pt=new this.db.Table(Et,Pt,this),Pt.core=this.db.core.table(Et),bt[Et]=Pt},fo);function fo(){}function Xs(Et,bt,Pt,At,Mt,Nt,Bt){return{name:Et,keyPath:bt,unique:Pt,multi:At,auto:Mt,compound:Nt,src:(Pt&&!Bt?"&":"")+(At?"*":"")+(Mt?"++":"")+nu(bt)}}function nu(Et){return typeof Et=="string"?Et:Et?"["+[].join.call(Et,"+")+"]":""}function Js(Et,bt,Pt){return{name:Et,primKey:bt,indexes:Pt,mappedClass:null,idxByName:(At=function(Mt){return[Mt.name,Mt]},Pt.reduce(function(Mt,Nt,Bt){return Bt=At(Nt,Bt),Bt&&(Mt[Bt[0]]=Bt[1]),Mt},{}))};var At}var vs=function(Et){try{return Et.only([[]]),vs=function(){return[[]]},[[]]}catch{return vs=function(){return hn},hn}};function yl(Et){return Et==null?function(){}:typeof Et=="string"?(bt=Et).split(".").length===1?function(Pt){return Pt[bt]}:function(Pt){return Ct(Pt,bt)}:function(Pt){return Ct(Pt,Et)};var bt}function iu(Et){return[].slice.call(Et)}var Nu=0;function ys(Et){return Et==null?":id":typeof Et=="string"?Et:"[".concat(Et.join("+"),"]")}function $u(Et,bt,Kt){function At(Xt){if(Xt.type===3)return null;if(Xt.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Yt=Xt.lower,Jt=Xt.upper,tr=Xt.lowerOpen,Xt=Xt.upperOpen;return Yt===void 0?Jt===void 0?null:bt.upperBound(Jt,!!Xt):Jt===void 0?bt.lowerBound(Yt,!!tr):bt.bound(Yt,Jt,!!tr,!!Xt)}function Mt(rr){var Yt,Jt=rr.name;return{name:Jt,schema:rr,mutate:function(tr){var Xt=tr.trans,ir=tr.type,sr=tr.keys,lr=tr.values,dr=tr.range;return new Promise(function(Cr,Or){Cr=sn(Cr);var Pr=Xt.objectStore(Jt),Ar=Pr.keyPath==null,$r=ir==="put"||ir==="add";if(!$r&&ir!=="delete"&&ir!=="deleteRange")throw new Error("Invalid operation type: "+ir);var Mr,zr=(sr||lr||{length:1}).length;if(sr&&lr&&sr.length!==lr.length)throw new Error("Given keys array must have same length as given values array.");if(zr===0)return Cr({numFailures:0,failures:{},results:[],lastResult:void 0});function fn(qn){++so,ms(qn)}var vn=[],mn=[],so=0;if(ir==="deleteRange"){if(dr.type===4)return Cr({numFailures:so,failures:mn,results:[],lastResult:void 0});dr.type===3?vn.push(Mr=Pr.clear()):vn.push(Mr=Pr.delete(At(dr)))}else{var Ar=$r?Ar?[lr,sr]:[lr,null]:[sr,null],gn=Ar[0],Bn=Ar[1];if($r)for(var zn=0;zn<zr;++zn)vn.push(Mr=Bn&&Bn[zn]!==void 0?Pr[ir](gn[zn],Bn[zn]):Pr[ir](gn[zn])),Mr.onerror=fn;else for(zn=0;zn<zr;++zn)vn.push(Mr=Pr[ir](gn[zn])),Mr.onerror=fn}function zs(qn){qn=qn.target.result,vn.forEach(function(Bo,Fl){return Bo.error!=null&&(mn[Fl]=Bo.error)}),Cr({numFailures:so,failures:mn,results:ir==="delete"?sr:vn.map(function(Bo){return Bo.result}),lastResult:qn})}Mr.onerror=function(qn){fn(qn),zs(qn)},Mr.onsuccess=zs})},getMany:function(tr){var Xt=tr.trans,ir=tr.keys;return new Promise(function(sr,lr){sr=sn(sr);for(var dr,Cr=Xt.objectStore(Jt),Or=ir.length,Pr=new Array(Or),Ar=0,$r=0,Mr=function(vn){vn=vn.target,Pr[vn._pos]=vn.result,++$r===Ar&&sr(Pr)},zr=uo(lr),fn=0;fn<Or;++fn)ir[fn]!=null&&((dr=Cr.get(ir[fn]))._pos=fn,dr.onsuccess=Mr,dr.onerror=zr,++Ar);Ar===0&&sr(Pr)})},get:function(tr){var Xt=tr.trans,ir=tr.key;return new Promise(function(sr,lr){sr=sn(sr);var dr=Xt.objectStore(Jt).get(ir);dr.onsuccess=function(Cr){return sr(Cr.target.result)},dr.onerror=uo(lr)})},query:(Yt=Zt,function(tr){return new Promise(function(Xt,ir){Xt=sn(Xt);var sr,lr,dr,Ar=tr.trans,Cr=tr.values,Or=tr.limit,Mr=tr.query,Pr=Or===1/0?void 0:Or,$r=Mr.index,Mr=Mr.range,Ar=Ar.objectStore(Jt),$r=$r.isPrimaryKey?Ar:Ar.index($r.name),Mr=At(Mr);if(Or===0)return Xt({result:[]});Yt?((Pr=Cr?$r.getAll(Mr,Pr):$r.getAllKeys(Mr,Pr)).onsuccess=function(zr){return Xt({result:zr.target.result})},Pr.onerror=uo(ir)):(sr=0,lr=!Cr&&"openKeyCursor"in $r?$r.openKeyCursor(Mr):$r.openCursor(Mr),dr=[],lr.onsuccess=function(zr){var fn=lr.result;return fn?(dr.push(Cr?fn.value:fn.primaryKey),++sr===Or?Xt({result:dr}):void fn.continue()):Xt({result:dr})},lr.onerror=uo(ir))})}),openCursor:function(tr){var Xt=tr.trans,ir=tr.values,sr=tr.query,lr=tr.reverse,dr=tr.unique;return new Promise(function(Cr,Or){Cr=sn(Cr);var $r=sr.index,Pr=sr.range,Ar=Xt.objectStore(Jt),Ar=$r.isPrimaryKey?Ar:Ar.index($r.name),$r=lr?dr?"prevunique":"prev":dr?"nextunique":"next",Mr=!ir&&"openKeyCursor"in Ar?Ar.openKeyCursor(At(Pr),$r):Ar.openCursor(At(Pr),$r);Mr.onerror=uo(Or),Mr.onsuccess=sn(function(zr){var fn,vn,mn,so,gn=Mr.result;gn?(gn.___id=++Nu,gn.done=!1,fn=gn.continue.bind(gn),vn=(vn=gn.continuePrimaryKey)&&vn.bind(gn),mn=gn.advance.bind(gn),so=function(){throw new Error("Cursor not stopped")},gn.trans=Xt,gn.stop=gn.continue=gn.continuePrimaryKey=gn.advance=function(){throw new Error("Cursor not started")},gn.fail=sn(Or),gn.next=function(){var Bn=this,zn=1;return this.start(function(){return zn--?Bn.continue():Bn.stop()}).then(function(){return Bn})},gn.start=function(Bn){function zn(){if(Mr.result)try{Bn()}catch(qn){gn.fail(qn)}else gn.done=!0,gn.start=function(){throw new Error("Cursor behind last entry")},gn.stop()}var zs=new Promise(function(qn,Bo){qn=sn(qn),Mr.onerror=uo(Bo),gn.fail=Bo,gn.stop=function(Fl){gn.stop=gn.continue=gn.continuePrimaryKey=gn.advance=so,qn(Fl)}});return Mr.onsuccess=sn(function(qn){Mr.onsuccess=zn,zn()}),gn.continue=fn,gn.continuePrimaryKey=vn,gn.advance=mn,zn(),zs},Cr(gn)):Cr(null)},Or)})},count:function(tr){var Xt=tr.query,ir=tr.trans,sr=Xt.index,lr=Xt.range;return new Promise(function(dr,Cr){var Or=ir.objectStore(Jt),Pr=sr.isPrimaryKey?Or:Or.index(sr.name),Or=At(lr),Pr=Or?Pr.count(Or):Pr.count();Pr.onsuccess=sn(function(Ar){return dr(Ar.target.result)}),Pr.onerror=uo(Cr)})}}}var Nt,Bt,Ht,er=(Bt=Kt,Ht=iu((Nt=Et).objectStoreNames),{schema:{name:Nt.name,tables:Ht.map(function(rr){return Bt.objectStore(rr)}).map(function(rr){var Yt=rr.keyPath,Xt=rr.autoIncrement,Jt=ot(Yt),tr={},Xt={name:rr.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Yt==null,compound:Jt,keyPath:Yt,autoIncrement:Xt,unique:!0,extractKey:yl(Yt)},indexes:iu(rr.indexNames).map(function(ir){return rr.index(ir)}).map(function(dr){var sr=dr.name,lr=dr.unique,Cr=dr.multiEntry,dr=dr.keyPath,Cr={name:sr,compound:ot(dr),keyPath:dr,unique:lr,multiEntry:Cr,extractKey:yl(dr)};return tr[ys(dr)]=Cr}),getIndexByKeyPath:function(ir){return tr[ys(ir)]}};return tr[":id"]=Xt.primaryKey,Yt!=null&&(tr[ys(Yt)]=Xt.primaryKey),Xt})},hasGetAll:0<Ht.length&&"getAll"in Bt.objectStore(Ht[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Kt=er.schema,Zt=er.hasGetAll,er=Kt.tables.map(Mt),Gt={};return er.forEach(function(rr){return Gt[rr.name]=rr}),{stack:"dbcore",transaction:Et.transaction.bind(Et),table:function(rr){if(!Gt[rr])throw new Error("Table '".concat(rr,"' not found"));return Gt[rr]},MIN_KEY:-1/0,MAX_KEY:vs(bt),schema:Kt}}function ju(Et,bt,Pt,At){var Mt=Pt.IDBKeyRange;return Pt.indexedDB,{dbcore:(At=$u(bt,Mt,At),Et.dbcore.reduce(function(Nt,Bt){return Bt=Bt.create,rt(rt({},Nt),Bt(Nt))},At))}}function ks(Et,At){var Pt=At.db,At=ju(Et._middlewares,Pt,Et._deps,At);Et.core=At.dbcore,Et.tables.forEach(function(Mt){var Nt=Mt.name;Et.core.schema.tables.some(function(Bt){return Bt.name===Nt})&&(Mt.core=Et.core.table(Nt),Et[Nt]instanceof Et.Table&&(Et[Nt].core=Mt.core))})}function Os(Et,bt,Pt,At){Pt.forEach(function(Mt){var Nt=At[Mt];bt.forEach(function(Bt){var Ht=function Kt(Zt,er){return yt(Zt,er)||(Zt=lt(Zt))&&Kt(Zt,er)}(Bt,Mt);(!Ht||"value"in Ht&&Ht.value===void 0)&&(Bt===Et.Transaction.prototype||Bt instanceof Et.Transaction?pt(Bt,Mt,{get:function(){return this.table(Mt)},set:function(Kt){ft(this,Mt,{value:Kt,writable:!0,configurable:!0,enumerable:!0})}}):Bt[Mt]=new Et.Table(Mt,Nt))})})}function El(Et,bt){bt.forEach(function(Pt){for(var At in Pt)Pt[At]instanceof Et.Table&&delete Pt[At]})}function Fu(Et,bt){return Et._cfg.version-bt._cfg.version}function Vu(Et,bt,Pt,At){var Mt=Et._dbSchema;Pt.objectStoreNames.contains("$meta")&&!Mt.$meta&&(Mt.$meta=Js("$meta",ou("")[0],[]),Et._storeNames.push("$meta"));var Nt=Et._createTransaction("readwrite",Et._storeNames,Mt);Nt.create(Pt),Nt._completion.catch(At);var Bt=Nt._reject.bind(Nt),Ht=Fr.transless||Fr;hr(function(){return Fr.trans=Nt,Fr.transless=Ht,bt!==0?(ks(Et,Pt),Zt=bt,((Kt=Nt).storeNames.includes("$meta")?Kt.table("$meta").get("version").then(function(er){return er??Zt}):Lr.resolve(Zt)).then(function(er){return rr=er,Yt=Nt,Jt=Pt,tr=[],er=(Gt=Et)._versions,Xt=Gt._dbSchema=Ds(0,Gt.idbdb,Jt),(er=er.filter(function(ir){return ir._cfg.version>=rr})).length!==0?(er.forEach(function(ir){tr.push(function(){var sr=Xt,lr=ir._cfg.dbschema;Ls(Gt,sr,Jt),Ls(Gt,lr,Jt),Xt=Gt._dbSchema=lr;var dr=Sl(sr,lr);dr.add.forEach(function($r){_l(Jt,$r[0],$r[1].primKey,$r[1].indexes)}),dr.change.forEach(function($r){if($r.recreate)throw new mr.Upgrade("Not yet support for changing primary key");var Mr=Jt.objectStore($r.name);$r.add.forEach(function(zr){return Ms(Mr,zr)}),$r.change.forEach(function(zr){Mr.deleteIndex(zr.name),Ms(Mr,zr)}),$r.del.forEach(function(zr){return Mr.deleteIndex(zr)})});var Cr=ir._cfg.contentUpgrade;if(Cr&&ir._cfg.version>rr){ks(Gt,Jt),Yt._memoizedTables={};var Or=_t(lr);dr.del.forEach(function($r){Or[$r]=sr[$r]}),El(Gt,[Gt.Transaction.prototype]),Os(Gt,[Gt.Transaction.prototype],at(Or),Or),Yt.schema=Or;var Pr,Ar=jt(Cr);return Ar&&Ur(),dr=Lr.follow(function(){var $r;(Pr=Cr(Yt))&&Ar&&($r=Kr.bind(null,null),Pr.then($r,$r))}),Pr&&typeof Pr.then=="function"?Lr.resolve(Pr):dr.then(function(){return Pr})}}),tr.push(function(sr){var lr,dr,Cr=ir._cfg.dbschema;lr=Cr,dr=sr,[].slice.call(dr.db.objectStoreNames).forEach(function(Or){return lr[Or]==null&&dr.db.deleteObjectStore(Or)}),El(Gt,[Gt.Transaction.prototype]),Os(Gt,[Gt.Transaction.prototype],Gt._storeNames,Gt._dbSchema),Yt.schema=Gt._dbSchema}),tr.push(function(sr){Gt.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Gt.idbdb.version/10)===ir._cfg.version?(Gt.idbdb.deleteObjectStore("$meta"),delete Gt._dbSchema.$meta,Gt._storeNames=Gt._storeNames.filter(function(lr){return lr!=="$meta"})):sr.objectStore("$meta").put(ir._cfg.version,"version"))})}),function ir(){return tr.length?Lr.resolve(tr.shift()(Yt.idbtrans)).then(ir):Lr.resolve()}().then(function(){au(Xt,Jt)})):Lr.resolve();var Gt,rr,Yt,Jt,tr,Xt}).catch(Bt)):(at(Mt).forEach(function(er){_l(Pt,er,Mt[er].primKey,Mt[er].indexes)}),ks(Et,Pt),void Lr.follow(function(){return Et.on.populate.fire(Nt)}).catch(Bt));var Kt,Zt})}function Uu(Et,bt){au(Et._dbSchema,bt),bt.db.version%10!=0||bt.objectStoreNames.contains("$meta")||bt.db.createObjectStore("$meta").add(Math.ceil(bt.db.version/10-1),"version");var Pt=Ds(0,Et.idbdb,bt);Ls(Et,Et._dbSchema,bt);for(var At=0,Mt=Sl(Pt,Et._dbSchema).change;At<Mt.length;At++){var Nt=function(Bt){if(Bt.change.length||Bt.recreate)return console.warn("Unable to patch indexes of table ".concat(Bt.name," because it has changes on the type of index or primary key.")),{value:void 0};var Ht=bt.objectStore(Bt.name);Bt.add.forEach(function(Kt){Sr&&console.debug("Dexie upgrade patch: Creating missing index ".concat(Bt.name,".").concat(Kt.src)),Ms(Ht,Kt)})}(Mt[At]);if(typeof Nt=="object")return Nt.value}}function Sl(Et,bt){var Pt,At={del:[],add:[],change:[]};for(Pt in Et)bt[Pt]||At.del.push(Pt);for(Pt in bt){var Mt=Et[Pt],Nt=bt[Pt];if(Mt){var Bt={name:Pt,def:Nt,recreate:!1,del:[],add:[],change:[]};if(""+(Mt.primKey.keyPath||"")!=""+(Nt.primKey.keyPath||"")||Mt.primKey.auto!==Nt.primKey.auto)Bt.recreate=!0,At.change.push(Bt);else{var Ht=Mt.idxByName,Kt=Nt.idxByName,Zt=void 0;for(Zt in Ht)Kt[Zt]||Bt.del.push(Zt);for(Zt in Kt){var er=Ht[Zt],Gt=Kt[Zt];er?er.src!==Gt.src&&Bt.change.push(Gt):Bt.add.push(Gt)}(0<Bt.del.length||0<Bt.add.length||0<Bt.change.length)&&At.change.push(Bt)}}else At.add.push([Pt,Nt])}return At}function _l(Et,bt,Pt,At){var Mt=Et.db.createObjectStore(bt,Pt.keyPath?{keyPath:Pt.keyPath,autoIncrement:Pt.auto}:{autoIncrement:Pt.auto});return At.forEach(function(Nt){return Ms(Mt,Nt)}),Mt}function au(Et,bt){at(Et).forEach(function(Pt){bt.db.objectStoreNames.contains(Pt)||(Sr&&console.debug("Dexie: Creating missing table",Pt),_l(bt,Pt,Et[Pt].primKey,Et[Pt].indexes))})}function Ms(Et,bt){Et.createIndex(bt.name,bt.keyPath,{unique:bt.unique,multiEntry:bt.multi})}function Ds(Et,bt,Pt){var At={};return gt(bt.objectStoreNames,0).forEach(function(Mt){for(var Nt=Pt.objectStore(Mt),Bt=Xs(nu(Zt=Nt.keyPath),Zt||"",!0,!1,!!Nt.autoIncrement,Zt&&typeof Zt!="string",!0),Ht=[],Kt=0;Kt<Nt.indexNames.length;++Kt){var er=Nt.index(Nt.indexNames[Kt]),Zt=er.keyPath,er=Xs(er.name,Zt,!!er.unique,!!er.multiEntry,!1,Zt&&typeof Zt!="string",!1);Ht.push(er)}At[Mt]=Js(Mt,Bt,Ht)}),At}function Ls(Et,bt,Pt){for(var At=Pt.db.objectStoreNames,Mt=0;Mt<At.length;++Mt){var Nt=At[Mt],Bt=Pt.objectStore(Nt);Et._hasGetAll="getAll"in Bt;for(var Ht=0;Ht<Bt.indexNames.length;++Ht){var Kt=Bt.indexNames[Ht],Zt=Bt.index(Kt).keyPath,er=typeof Zt=="string"?Zt:"["+gt(Zt).join("+")+"]";!bt[Nt]||(Zt=bt[Nt].idxByName[er])&&(Zt.name=Kt,delete bt[Nt].idxByName[er],bt[Nt].idxByName[Kt]=Zt)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&it.WorkerGlobalScope&&it instanceof it.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(Et._hasGetAll=!1)}function ou(Et){return Et.split(",").map(function(bt,Pt){var At=(bt=bt.trim()).replace(/([&*]|\+\+)/g,""),Mt=/^\[/.test(At)?At.match(/^\[(.*)\]$/)[1].split("+"):At;return Xs(At,Mt||null,/\&/.test(bt),/\*/.test(bt),/\+\+/.test(bt),ot(Mt),Pt===0)})}var Bu=(Ns.prototype._parseStoresSpec=function(Et,bt){at(Et).forEach(function(Pt){if(Et[Pt]!==null){var At=ou(Et[Pt]),Mt=At.shift();if(Mt.unique=!0,Mt.multi)throw new mr.Schema("Primary key cannot be multi-valued");At.forEach(function(Nt){if(Nt.auto)throw new mr.Schema("Only primary key can be marked as autoIncrement (++)");if(!Nt.keyPath)throw new mr.Schema("Index must have a name and cannot be an empty string")}),bt[Pt]=Js(Pt,Mt,At)}})},Ns.prototype.stores=function(Pt){var bt=this.db;this._cfg.storesSource=this._cfg.storesSource?st(this._cfg.storesSource,Pt):Pt;var Pt=bt._versions,At={},Mt={};return Pt.forEach(function(Nt){st(At,Nt._cfg.storesSource),Mt=Nt._cfg.dbschema={},Nt._parseStoresSpec(At,Mt)}),bt._dbSchema=Mt,El(bt,[bt._allTables,bt,bt.Transaction.prototype]),Os(bt,[bt._allTables,bt,bt.Transaction.prototype,this._cfg.tables],at(Mt),Mt),bt._storeNames=at(Mt),this},Ns.prototype.upgrade=function(Et){return this._cfg.contentUpgrade=qr(this._cfg.contentUpgrade||Tr,Et),this},Ns);function Ns(){}function xl(Et,bt){var Pt=Et._dbNamesDB;return Pt||(Pt=Et._dbNamesDB=new bo(Qn,{addons:[],indexedDB:Et,IDBKeyRange:bt})).version(1).stores({dbnames:"name"}),Pt.table("dbnames")}function Tl(Et){return Et&&typeof Et.databases=="function"}function wl(Et){return hr(function(){return Fr.letThrough=!0,Et()})}function Cl(Et){return!("from"in Et)}var Un=function(Et,bt){if(!this){var Pt=new Un;return Et&&"d"in Et&&st(Pt,Et),Pt}st(this,arguments.length?{d:1,from:Et,to:1<arguments.length?bt:Et}:{d:0})};function Es(Et,bt,Pt){var At=pn(bt,Pt);if(!isNaN(At)){if(0<At)throw RangeError();if(Cl(Et))return st(Et,{from:bt,to:Pt,d:1});var Mt=Et.l,At=Et.r;if(pn(Pt,Et.from)<0)return Mt?Es(Mt,bt,Pt):Et.l={from:bt,to:Pt,d:1,l:null,r:null},lu(Et);if(0<pn(bt,Et.to))return At?Es(At,bt,Pt):Et.r={from:bt,to:Pt,d:1,l:null,r:null},lu(Et);pn(bt,Et.from)<0&&(Et.from=bt,Et.l=null,Et.d=At?At.d+1:1),0<pn(Pt,Et.to)&&(Et.to=Pt,Et.r=null,Et.d=Et.l?Et.l.d+1:1),Pt=!Et.r,Mt&&!Et.l&&Ss(Et,Mt),At&&Pt&&Ss(Et,At)}}function Ss(Et,bt){Cl(bt)||function Pt(At,Kt){var Nt=Kt.from,Bt=Kt.to,Ht=Kt.l,Kt=Kt.r;Es(At,Nt,Bt),Ht&&Pt(At,Ht),Kt&&Pt(At,Kt)}(Et,bt)}function su(Et,bt){var Pt=$s(bt),At=Pt.next();if(At.done)return!1;for(var Mt=At.value,Nt=$s(Et),Bt=Nt.next(Mt.from),Ht=Bt.value;!At.done&&!Bt.done;){if(pn(Ht.from,Mt.to)<=0&&0<=pn(Ht.to,Mt.from))return!0;pn(Mt.from,Ht.from)<0?Mt=(At=Pt.next(Ht.from)).value:Ht=(Bt=Nt.next(Mt.from)).value}return!1}function $s(Et){var bt=Cl(Et)?null:{s:0,n:Et};return{next:function(Pt){for(var At=0<arguments.length;bt;)switch(bt.s){case 0:if(bt.s=1,At)for(;bt.n.l&&pn(Pt,bt.n.from)<0;)bt={up:bt,n:bt.n.l,s:1};else for(;bt.n.l;)bt={up:bt,n:bt.n.l,s:1};case 1:if(bt.s=2,!At||pn(Pt,bt.n.to)<=0)return{value:bt.n,done:!1};case 2:if(bt.n.r){bt.s=3,bt={up:bt,n:bt.n.r,s:0};continue}case 3:bt=bt.up}return{done:!0}}}}function lu(Et){var bt,Pt,At=(((bt=Et.r)===null||bt===void 0?void 0:bt.d)||0)-(((Pt=Et.l)===null||Pt===void 0?void 0:Pt.d)||0),Mt=1<At?"r":At<-1?"l":"";Mt&&(bt=Mt=="r"?"l":"r",Pt=rt({},Et),At=Et[Mt],Et.from=At.from,Et.to=At.to,Et[Mt]=At[Mt],Pt[Mt]=At[bt],(Et[bt]=Pt).d=cu(Pt)),Et.d=cu(Et)}function cu(Pt){var bt=Pt.r,Pt=Pt.l;return(bt?Pt?Math.max(bt.d,Pt.d):bt.d:Pt?Pt.d:0)+1}function js(Et,bt){return at(bt).forEach(function(Pt){Et[Pt]?Ss(Et[Pt],bt[Pt]):Et[Pt]=function At(Mt){var Nt,Bt,Ht={};for(Nt in Mt)ut(Mt,Nt)&&(Bt=Mt[Nt],Ht[Nt]=!Bt||typeof Bt!="object"||Lt.has(Bt.constructor)?Bt:At(Bt));return Ht}(bt[Pt])}),Et}function Pl(Et,bt){return Et.all||bt.all||Object.keys(Et).some(function(Pt){return bt[Pt]&&su(bt[Pt],Et[Pt])})}dt(Un.prototype,((ro={add:function(Et){return Ss(this,Et),this},addKey:function(Et){return Es(this,Et,Et),this},addKeys:function(Et){var bt=this;return Et.forEach(function(Pt){return Es(bt,Pt,Pt)}),this},hasKey:function(Et){var bt=$s(this).next(Et).value;return bt&&pn(bt.from,Et)<=0&&0<=pn(bt.to,Et)}})[It]=function(){return $s(this)},ro));var Vo={},Rl={},Il=!1;function Fs(Et){js(Rl,Et),Il||(Il=!0,setTimeout(function(){Il=!1,Al(Rl,!(Rl={}))},0))}function Al(Et,bt){bt===void 0&&(bt=!1);var Pt=new Set;if(Et.all)for(var At=0,Mt=Object.values(Vo);At<Mt.length;At++)uu(Bt=Mt[At],Et,Pt,bt);else for(var Nt in Et){var Bt,Ht=/^idb\:\/\/(.*)\/(.*)\//.exec(Nt);Ht&&(Nt=Ht[1],Ht=Ht[2],(Bt=Vo["idb://".concat(Nt,"/").concat(Ht)])&&uu(Bt,Et,Pt,bt))}Pt.forEach(function(Kt){return Kt()})}function uu(Et,bt,Pt,At){for(var Mt=[],Nt=0,Bt=Object.entries(Et.queries.query);Nt<Bt.length;Nt++){for(var Ht=Bt[Nt],Kt=Ht[0],Zt=[],er=0,Gt=Ht[1];er<Gt.length;er++){var rr=Gt[er];Pl(bt,rr.obsSet)?rr.subscribers.forEach(function(Xt){return Pt.add(Xt)}):At&&Zt.push(rr)}At&&Mt.push([Kt,Zt])}if(At)for(var Yt=0,Jt=Mt;Yt<Jt.length;Yt++){var tr=Jt[Yt],Kt=tr[0],Zt=tr[1];Et.queries.query[Kt]=Zt}}function zu(Et){var bt=Et._state,Pt=Et._deps.indexedDB;if(bt.isBeingOpened||Et.idbdb)return bt.dbReadyPromise.then(function(){return bt.dbOpenError?ln(bt.dbOpenError):Et});bt.isBeingOpened=!0,bt.dbOpenError=null,bt.openComplete=!1;var At=bt.openCanceller,Mt=Math.round(10*Et.verno),Nt=!1;function Bt(){if(bt.openCanceller!==At)throw new mr.DatabaseClosed("db.open() was cancelled")}function Ht(){return new Lr(function(rr,Yt){if(Bt(),!Pt)throw new mr.MissingAPI;var Jt=Et.name,tr=bt.autoSchema||!Mt?Pt.open(Jt):Pt.open(Jt,Mt);if(!tr)throw new mr.MissingAPI;tr.onerror=uo(Yt),tr.onblocked=sn(Et._fireOnBlocked),tr.onupgradeneeded=sn(function(Xt){var ir;er=tr.transaction,bt.autoSchema&&!Et._options.allowEmptyDB?(tr.onerror=ms,er.abort(),tr.result.close(),(ir=Pt.deleteDatabase(Jt)).onsuccess=ir.onerror=sn(function(){Yt(new mr.NoSuchDatabase("Database ".concat(Jt," doesnt exist")))})):(er.onerror=uo(Yt),Xt=Xt.oldVersion>Math.pow(2,62)?0:Xt.oldVersion,Gt=Xt<1,Et.idbdb=tr.result,Nt&&Uu(Et,er),Vu(Et,Xt/10,er,Yt))},Yt),tr.onsuccess=sn(function(){er=null;var Xt,ir,sr,lr,dr,Cr=Et.idbdb=tr.result,Or=gt(Cr.objectStoreNames);if(0<Or.length)try{var Pr=Cr.transaction((lr=Or).length===1?lr[0]:lr,"readonly");if(bt.autoSchema)ir=Cr,sr=Pr,(Xt=Et).verno=ir.version/10,sr=Xt._dbSchema=Ds(0,ir,sr),Xt._storeNames=gt(ir.objectStoreNames,0),Os(Xt,[Xt._allTables],at(sr),sr);else if(Ls(Et,Et._dbSchema,Pr),((dr=Sl(Ds(0,(dr=Et).idbdb,Pr),dr._dbSchema)).add.length||dr.change.some(function(Ar){return Ar.add.length||Ar.change.length}))&&!Nt)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Cr.close(),Mt=Cr.version+1,Nt=!0,rr(Ht());ks(Et,Pr)}catch{}xa.push(Et),Cr.onversionchange=sn(function(Ar){bt.vcFired=!0,Et.on("versionchange").fire(Ar)}),Cr.onclose=sn(function(Ar){Et.on("close").fire(Ar)}),Gt&&(dr=Et._deps,Pr=Jt,Cr=dr.indexedDB,dr=dr.IDBKeyRange,Tl(Cr)||Pr===Qn||xl(Cr,dr).put({name:Pr}).catch(Tr)),rr()},Yt)}).catch(function(rr){switch(rr==null?void 0:rr.name){case"UnknownError":if(0<bt.PR1398_maxLoop)return bt.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Ht();break;case"VersionError":if(0<Mt)return Mt=0,Ht()}return Lr.reject(rr)})}var Kt,Zt=bt.dbReadyResolve,er=null,Gt=!1;return Lr.race([At,(typeof navigator>"u"?Lr.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(rr){function Yt(){return indexedDB.databases().finally(rr)}Kt=setInterval(Yt,100),Yt()}).finally(function(){return clearInterval(Kt)}):Promise.resolve()).then(Ht)]).then(function(){return Bt(),bt.onReadyBeingFired=[],Lr.resolve(wl(function(){return Et.on.ready.fire(Et.vip)})).then(function rr(){if(0<bt.onReadyBeingFired.length){var Yt=bt.onReadyBeingFired.reduce(qr,Tr);return bt.onReadyBeingFired=[],Lr.resolve(wl(function(){return Yt(Et.vip)})).then(rr)}})}).finally(function(){bt.openCanceller===At&&(bt.onReadyBeingFired=null,bt.isBeingOpened=!1)}).catch(function(rr){bt.dbOpenError=rr;try{er&&er.abort()}catch{}return At===bt.openCanceller&&Et._close(),ln(rr)}).finally(function(){bt.openComplete=!0,Zt()}).then(function(){var rr;return Gt&&(rr={},Et.tables.forEach(function(Yt){Yt.schema.indexes.forEach(function(Jt){Jt.name&&(rr["idb://".concat(Et.name,"/").concat(Yt.name,"/").concat(Jt.name)]=new Un(-1/0,[[[]]]))}),rr["idb://".concat(Et.name,"/").concat(Yt.name,"/")]=rr["idb://".concat(Et.name,"/").concat(Yt.name,"/:dels")]=new Un(-1/0,[[[]]])}),Ro(gs).fire(rr),Al(rr,!0)),Et})}function Ol(Et){function bt(Nt){return Et.next(Nt)}var Pt=Mt(bt),At=Mt(function(Nt){return Et.throw(Nt)});function Mt(Nt){return function(Kt){var Ht=Nt(Kt),Kt=Ht.value;return Ht.done?Kt:Kt&&typeof Kt.then=="function"?Kt.then(Pt,At):ot(Kt)?Promise.all(Kt).then(Pt,At):Pt(Kt)}}return Mt(bt)()}function Vs(Et,bt,Pt){for(var At=ot(Et)?Et.slice():[Et],Mt=0;Mt<Pt;++Mt)At.push(bt);return At}var Hu={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(Et){return rt(rt({},Et),{table:function(bt){var Pt=Et.table(bt),At=Pt.schema,Mt={},Nt=[];function Bt(Gt,rr,Yt){var Jt=ys(Gt),tr=Mt[Jt]=Mt[Jt]||[],Xt=Gt==null?0:typeof Gt=="string"?1:Gt.length,ir=0<rr,ir=rt(rt({},Yt),{name:ir?"".concat(Jt,"(virtual-from:").concat(Yt.name,")"):Yt.name,lowLevelIndex:Yt,isVirtual:ir,keyTail:rr,keyLength:Xt,extractKey:yl(Gt),unique:!ir&&Yt.unique});return tr.push(ir),ir.isPrimaryKey||Nt.push(ir),1<Xt&&Bt(Xt===2?Gt[0]:Gt.slice(0,Xt-1),rr+1,Yt),tr.sort(function(sr,lr){return sr.keyTail-lr.keyTail}),ir}bt=Bt(At.primaryKey.keyPath,0,At.primaryKey),Mt[":id"]=[bt];for(var Ht=0,Kt=At.indexes;Ht<Kt.length;Ht++){var Zt=Kt[Ht];Bt(Zt.keyPath,0,Zt)}function er(Gt){var rr,Yt=Gt.query.index;return Yt.isVirtual?rt(rt({},Gt),{query:{index:Yt.lowLevelIndex,range:(rr=Gt.query.range,Yt=Yt.keyTail,{type:rr.type===1?2:rr.type,lower:Vs(rr.lower,rr.lowerOpen?Et.MAX_KEY:Et.MIN_KEY,Yt),lowerOpen:!0,upper:Vs(rr.upper,rr.upperOpen?Et.MIN_KEY:Et.MAX_KEY,Yt),upperOpen:!0})}}):Gt}return rt(rt({},Pt),{schema:rt(rt({},At),{primaryKey:bt,indexes:Nt,getIndexByKeyPath:function(Gt){return(Gt=Mt[ys(Gt)])&&Gt[0]}}),count:function(Gt){return Pt.count(er(Gt))},query:function(Gt){return Pt.query(er(Gt))},openCursor:function(Gt){var rr=Gt.query.index,Yt=rr.keyTail,Jt=rr.isVirtual,tr=rr.keyLength;return Jt?Pt.openCursor(er(Gt)).then(function(ir){return ir&&Xt(ir)}):Pt.openCursor(Gt);function Xt(ir){return Object.create(ir,{continue:{value:function(sr){sr!=null?ir.continue(Vs(sr,Gt.reverse?Et.MAX_KEY:Et.MIN_KEY,Yt)):Gt.unique?ir.continue(ir.key.slice(0,tr).concat(Gt.reverse?Et.MIN_KEY:Et.MAX_KEY,Yt)):ir.continue()}},continuePrimaryKey:{value:function(sr,lr){ir.continuePrimaryKey(Vs(sr,Et.MAX_KEY,Yt),lr)}},primaryKey:{get:function(){return ir.primaryKey}},key:{get:function(){var sr=ir.key;return tr===1?sr[0]:sr.slice(0,tr)}},value:{get:function(){return ir.value}}})}}})}})}};function Ml(Et,bt,Pt,At){return Pt=Pt||{},At=At||"",at(Et).forEach(function(Mt){var Nt,Bt,Ht;ut(bt,Mt)?(Nt=Et[Mt],Bt=bt[Mt],typeof Nt=="object"&&typeof Bt=="object"&&Nt&&Bt?(Ht=Ut(Nt))!==Ut(Bt)?Pt[At+Mt]=bt[Mt]:Ht==="Object"?Ml(Nt,Bt,Pt,At+Mt+"."):Nt!==Bt&&(Pt[At+Mt]=bt[Mt]):Nt!==Bt&&(Pt[At+Mt]=bt[Mt])):Pt[At+Mt]=void 0}),at(bt).forEach(function(Mt){ut(Et,Mt)||(Pt[At+Mt]=bt[Mt])}),Pt}function Dl(Et,bt){return bt.type==="delete"?bt.keys:bt.keys||bt.values.map(Et.extractKey)}var Gu={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(Et){return rt(rt({},Et),{table:function(bt){var Pt=Et.table(bt),At=Pt.schema.primaryKey;return rt(rt({},Pt),{mutate:function(Mt){var Nt=Fr.trans,Bt=Nt.table(bt).hook,Ht=Bt.deleting,Kt=Bt.creating,Zt=Bt.updating;switch(Mt.type){case"add":if(Kt.fire===Tr)break;return Nt._promise("readwrite",function(){return er(Mt)},!0);case"put":if(Kt.fire===Tr&&Zt.fire===Tr)break;return Nt._promise("readwrite",function(){return er(Mt)},!0);case"delete":if(Ht.fire===Tr)break;return Nt._promise("readwrite",function(){return er(Mt)},!0);case"deleteRange":if(Ht.fire===Tr)break;return Nt._promise("readwrite",function(){return function Gt(rr,Yt,Jt){return Pt.query({trans:rr,values:!1,query:{index:At,range:Yt},limit:Jt}).then(function(tr){var Xt=tr.result;return er({type:"delete",keys:Xt,trans:rr}).then(function(ir){return 0<ir.numFailures?Promise.reject(ir.failures[0]):Xt.length<Jt?{failures:[],numFailures:0,lastResult:void 0}:Gt(rr,rt(rt({},Yt),{lower:Xt[Xt.length-1],lowerOpen:!0}),Jt)})})}(Mt.trans,Mt.range,1e4)},!0)}return Pt.mutate(Mt);function er(Gt){var rr,Yt,Jt,tr=Fr.trans,Xt=Gt.keys||Dl(At,Gt);if(!Xt)throw new Error("Keys missing");return(Gt=Gt.type==="add"||Gt.type==="put"?rt(rt({},Gt),{keys:Xt}):rt({},Gt)).type!=="delete"&&(Gt.values=nt([],Gt.values)),Gt.keys&&(Gt.keys=nt([],Gt.keys)),rr=Pt,Jt=Xt,((Yt=Gt).type==="add"?Promise.resolve([]):rr.getMany({trans:Yt.trans,keys:Jt,cache:"immutable"})).then(function(ir){var sr=Xt.map(function(lr,dr){var Cr,Or,Pr,Ar=ir[dr],$r={onerror:null,onsuccess:null};return Gt.type==="delete"?Ht.fire.call($r,lr,Ar,tr):Gt.type==="add"||Ar===void 0?(Cr=Kt.fire.call($r,lr,Gt.values[dr],tr),lr==null&&Cr!=null&&(Gt.keys[dr]=lr=Cr,At.outbound||wt(Gt.values[dr],At.keyPath,lr))):(Cr=Ml(Ar,Gt.values[dr]),(Or=Zt.fire.call($r,Cr,lr,Ar,tr))&&(Pr=Gt.values[dr],Object.keys(Or).forEach(function(Mr){ut(Pr,Mr)?Pr[Mr]=Or[Mr]:wt(Pr,Mr,Or[Mr])}))),$r});return Pt.mutate(Gt).then(function(lr){for(var dr=lr.failures,Cr=lr.results,Or=lr.numFailures,lr=lr.lastResult,Pr=0;Pr<Xt.length;++Pr){var Ar=(Cr||Xt)[Pr],$r=sr[Pr];Ar==null?$r.onerror&&$r.onerror(dr[Pr]):$r.onsuccess&&$r.onsuccess(Gt.type==="put"&&ir[Pr]?Gt.values[Pr]:Ar)}return{failures:dr,results:Cr,numFailures:Or,lastResult:lr}}).catch(function(lr){return sr.forEach(function(dr){return dr.onerror&&dr.onerror(lr)}),Promise.reject(lr)})})}}})}})}};function du(Et,bt,Pt){try{if(!bt||bt.keys.length<Et.length)return null;for(var At=[],Mt=0,Nt=0;Mt<bt.keys.length&&Nt<Et.length;++Mt)pn(bt.keys[Mt],Et[Nt])===0&&(At.push(Pt?zt(bt.values[Mt]):bt.values[Mt]),++Nt);return At.length===Et.length?At:null}catch{return null}}var Wu={stack:"dbcore",level:-1,create:function(Et){return{table:function(bt){var Pt=Et.table(bt);return rt(rt({},Pt),{getMany:function(At){if(!At.cache)return Pt.getMany(At);var Mt=du(At.keys,At.trans._cache,At.cache==="clone");return Mt?Lr.resolve(Mt):Pt.getMany(At).then(function(Nt){return At.trans._cache={keys:At.keys,values:At.cache==="clone"?zt(Nt):Nt},Nt})},mutate:function(At){return At.type!=="add"&&(At.trans._cache=null),Pt.mutate(At)}})}}}};function fu(Et,bt){return Et.trans.mode==="readonly"&&!!Et.subscr&&!Et.trans.explicit&&Et.trans.db._options.cache!=="disabled"&&!bt.schema.primaryKey.outbound}function hu(Et,bt){switch(Et){case"query":return bt.values&&!bt.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var qu={stack:"dbcore",level:0,name:"Observability",create:function(Et){var bt=Et.schema.name,Pt=new Un(Et.MIN_KEY,Et.MAX_KEY);return rt(rt({},Et),{transaction:function(At,Mt,Nt){if(Fr.subscr&&Mt!=="readonly")throw new mr.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Fr.querier));return Et.transaction(At,Mt,Nt)},table:function(At){var Mt=Et.table(At),Nt=Mt.schema,Bt=Nt.primaryKey,Gt=Nt.indexes,Ht=Bt.extractKey,Kt=Bt.outbound,Zt=Bt.autoIncrement&&Gt.filter(function(Yt){return Yt.compound&&Yt.keyPath.includes(Bt.keyPath)}),er=rt(rt({},Mt),{mutate:function(Yt){function Jt(Mr){return Mr="idb://".concat(bt,"/").concat(At,"/").concat(Mr),lr[Mr]||(lr[Mr]=new Un)}var tr,Xt,ir,sr=Yt.trans,lr=Yt.mutatedParts||(Yt.mutatedParts={}),dr=Jt(""),Cr=Jt(":dels"),Or=Yt.type,$r=Yt.type==="deleteRange"?[Yt.range]:Yt.type==="delete"?[Yt.keys]:Yt.values.length<50?[Dl(Bt,Yt).filter(function(Mr){return Mr}),Yt.values]:[],Pr=$r[0],Ar=$r[1],$r=Yt.trans._cache;return ot(Pr)?(dr.addKeys(Pr),($r=Or==="delete"||Pr.length===Ar.length?du(Pr,$r):null)||Cr.addKeys(Pr),($r||Ar)&&(tr=Jt,Xt=$r,ir=Ar,Nt.indexes.forEach(function(Mr){var zr=tr(Mr.name||"");function fn(mn){return mn!=null?Mr.extractKey(mn):null}function vn(mn){return Mr.multiEntry&&ot(mn)?mn.forEach(function(so){return zr.addKey(so)}):zr.addKey(mn)}(Xt||ir).forEach(function(mn,Bn){var gn=Xt&&fn(Xt[Bn]),Bn=ir&&fn(ir[Bn]);pn(gn,Bn)!==0&&(gn!=null&&vn(gn),Bn!=null&&vn(Bn))})}))):Pr?(Ar={from:(Ar=Pr.lower)!==null&&Ar!==void 0?Ar:Et.MIN_KEY,to:(Ar=Pr.upper)!==null&&Ar!==void 0?Ar:Et.MAX_KEY},Cr.add(Ar),dr.add(Ar)):(dr.add(Pt),Cr.add(Pt),Nt.indexes.forEach(function(Mr){return Jt(Mr.name).add(Pt)})),Mt.mutate(Yt).then(function(Mr){return!Pr||Yt.type!=="add"&&Yt.type!=="put"||(dr.addKeys(Mr.results),Zt&&Zt.forEach(function(zr){var fn=Yt.values.map(function(mn){return zr.extractKey(mn)}),vn=zr.keyPath.findIndex(function(mn){return mn===Bt.keyPath});Mr.results.forEach(function(mn){return fn[vn]=mn}),Jt(zr.name).addKeys(fn)})),sr.mutatedParts=js(sr.mutatedParts||{},lr),Mr})}}),Gt=function(Jt){var tr=Jt.query,Jt=tr.index,tr=tr.range;return[Jt,new Un((Jt=tr.lower)!==null&&Jt!==void 0?Jt:Et.MIN_KEY,(tr=tr.upper)!==null&&tr!==void 0?tr:Et.MAX_KEY)]},rr={get:function(Yt){return[Bt,new Un(Yt.key)]},getMany:function(Yt){return[Bt,new Un().addKeys(Yt.keys)]},count:Gt,query:Gt,openCursor:Gt};return at(rr).forEach(function(Yt){er[Yt]=function(Jt){var tr=Fr.subscr,Xt=!!tr,ir=fu(Fr,Mt)&&hu(Yt,Jt)?Jt.obsSet={}:tr;if(Xt){var sr=function(Ar){return Ar="idb://".concat(bt,"/").concat(At,"/").concat(Ar),ir[Ar]||(ir[Ar]=new Un)},lr=sr(""),dr=sr(":dels"),tr=rr[Yt](Jt),Xt=tr[0],tr=tr[1];if((Yt==="query"&&Xt.isPrimaryKey&&!Jt.values?dr:sr(Xt.name||"")).add(tr),!Xt.isPrimaryKey){if(Yt!=="count"){var Cr=Yt==="query"&&Kt&&Jt.values&&Mt.query(rt(rt({},Jt),{values:!1}));return Mt[Yt].apply(this,arguments).then(function(Ar){if(Yt==="query"){if(Kt&&Jt.values)return Cr.then(function(fn){return fn=fn.result,lr.addKeys(fn),Ar});var $r=Jt.values?Ar.result.map(Ht):Ar.result;(Jt.values?lr:dr).addKeys($r)}else if(Yt==="openCursor"){var Mr=Ar,zr=Jt.values;return Mr&&Object.create(Mr,{key:{get:function(){return dr.addKey(Mr.primaryKey),Mr.key}},primaryKey:{get:function(){var fn=Mr.primaryKey;return dr.addKey(fn),fn}},value:{get:function(){return zr&&lr.addKey(Mr.primaryKey),Mr.value}}})}return Ar})}dr.add(Pt)}}return Mt[Yt].apply(this,arguments)}}),er}})}};function pu(Et,bt,Pt){if(Pt.numFailures===0)return bt;if(bt.type==="deleteRange")return null;var At=bt.keys?bt.keys.length:"values"in bt&&bt.values?bt.values.length:1;return Pt.numFailures===At?null:(bt=rt({},bt),ot(bt.keys)&&(bt.keys=bt.keys.filter(function(Mt,Nt){return!(Nt in Pt.failures)})),"values"in bt&&ot(bt.values)&&(bt.values=bt.values.filter(function(Mt,Nt){return!(Nt in Pt.failures)})),bt)}function Ll(Et,bt){return Pt=Et,((At=bt).lower===void 0||(At.lowerOpen?0<pn(Pt,At.lower):0<=pn(Pt,At.lower)))&&(Et=Et,(bt=bt).upper===void 0||(bt.upperOpen?pn(Et,bt.upper)<0:pn(Et,bt.upper)<=0));var Pt,At}function mu(Et,bt,rr,At,Mt,Nt){if(!rr||rr.length===0)return Et;var Bt=bt.query.index,Ht=Bt.multiEntry,Kt=bt.query.range,Zt=At.schema.primaryKey.extractKey,er=Bt.extractKey,Gt=(Bt.lowLevelIndex||Bt).extractKey,rr=rr.reduce(function(Yt,Jt){var tr=Yt,Xt=[];if(Jt.type==="add"||Jt.type==="put")for(var ir=new Un,sr=Jt.values.length-1;0<=sr;--sr){var lr,dr=Jt.values[sr],Cr=Zt(dr);ir.hasKey(Cr)||(lr=er(dr),(Ht&&ot(lr)?lr.some(function(Mr){return Ll(Mr,Kt)}):Ll(lr,Kt))&&(ir.addKey(Cr),Xt.push(dr)))}switch(Jt.type){case"add":var Or=new Un().addKeys(bt.values?Yt.map(function(zr){return Zt(zr)}):Yt),tr=Yt.concat(bt.values?Xt.filter(function(zr){return zr=Zt(zr),!Or.hasKey(zr)&&(Or.addKey(zr),!0)}):Xt.map(function(zr){return Zt(zr)}).filter(function(zr){return!Or.hasKey(zr)&&(Or.addKey(zr),!0)}));break;case"put":var Pr=new Un().addKeys(Jt.values.map(function(zr){return Zt(zr)}));tr=Yt.filter(function(zr){return!Pr.hasKey(bt.values?Zt(zr):zr)}).concat(bt.values?Xt:Xt.map(function(zr){return Zt(zr)}));break;case"delete":var Ar=new Un().addKeys(Jt.keys);tr=Yt.filter(function(zr){return!Ar.hasKey(bt.values?Zt(zr):zr)});break;case"deleteRange":var $r=Jt.range;tr=Yt.filter(function(zr){return!Ll(Zt(zr),$r)})}return tr},Et);return rr===Et?Et:(rr.sort(function(Yt,Jt){return pn(Gt(Yt),Gt(Jt))||pn(Zt(Yt),Zt(Jt))}),bt.limit&&bt.limit<1/0&&(rr.length>bt.limit?rr.length=bt.limit:Et.length===bt.limit&&rr.length<bt.limit&&(Mt.dirty=!0)),Nt?Object.freeze(rr):rr)}function gu(Et,bt){return pn(Et.lower,bt.lower)===0&&pn(Et.upper,bt.upper)===0&&!!Et.lowerOpen==!!bt.lowerOpen&&!!Et.upperOpen==!!bt.upperOpen}function Ku(Et,bt){return function(Pt,At,Mt,Nt){if(Pt===void 0)return At!==void 0?-1:0;if(At===void 0)return 1;if((At=pn(Pt,At))===0){if(Mt&&Nt)return 0;if(Mt)return 1;if(Nt)return-1}return At}(Et.lower,bt.lower,Et.lowerOpen,bt.lowerOpen)<=0&&0<=function(Pt,At,Mt,Nt){if(Pt===void 0)return At!==void 0?1:0;if(At===void 0)return-1;if((At=pn(Pt,At))===0){if(Mt&&Nt)return 0;if(Mt)return-1;if(Nt)return 1}return At}(Et.upper,bt.upper,Et.upperOpen,bt.upperOpen)}function Yu(Et,bt,Pt,At){Et.subscribers.add(Pt),At.addEventListener("abort",function(){var Mt,Nt;Et.subscribers.delete(Pt),Et.subscribers.size===0&&(Mt=Et,Nt=bt,setTimeout(function(){Mt.subscribers.size===0&&Tt(Nt,Mt)},3e3))})}var Zu={stack:"dbcore",level:0,name:"Cache",create:function(Et){var bt=Et.schema.name;return rt(rt({},Et),{transaction:function(Pt,At,Mt){var Nt,Bt,Ht=Et.transaction(Pt,At,Mt);return At==="readwrite"&&(Bt=(Nt=new AbortController).signal,Mt=function(Kt){return function(){if(Nt.abort(),At==="readwrite"){for(var Zt=new Set,er=0,Gt=Pt;er<Gt.length;er++){var rr=Gt[er],Yt=Vo["idb://".concat(bt,"/").concat(rr)];if(Yt){var Jt=Et.table(rr),tr=Yt.optimisticOps.filter(function(zr){return zr.trans===Ht});if(Ht._explicit&&Kt&&Ht.mutatedParts)for(var Xt=0,ir=Object.values(Yt.queries.query);Xt<ir.length;Xt++)for(var sr=0,lr=(Or=ir[Xt]).slice();sr<lr.length;sr++)Pl((Pr=lr[sr]).obsSet,Ht.mutatedParts)&&(Tt(Or,Pr),Pr.subscribers.forEach(function(zr){return Zt.add(zr)}));else if(0<tr.length){Yt.optimisticOps=Yt.optimisticOps.filter(function(zr){return zr.trans!==Ht});for(var dr=0,Cr=Object.values(Yt.queries.query);dr<Cr.length;dr++)for(var Or,Pr,Ar,$r=0,Mr=(Or=Cr[dr]).slice();$r<Mr.length;$r++)(Pr=Mr[$r]).res!=null&&Ht.mutatedParts&&(Kt&&!Pr.dirty?(Ar=Object.isFrozen(Pr.res),Ar=mu(Pr.res,Pr.req,tr,Jt,Pr,Ar),Pr.dirty?(Tt(Or,Pr),Pr.subscribers.forEach(function(zr){return Zt.add(zr)})):Ar!==Pr.res&&(Pr.res=Ar,Pr.promise=Lr.resolve({result:Ar}))):(Pr.dirty&&Tt(Or,Pr),Pr.subscribers.forEach(function(zr){return Zt.add(zr)})))}}}Zt.forEach(function(zr){return zr()})}}},Ht.addEventListener("abort",Mt(!1),{signal:Bt}),Ht.addEventListener("error",Mt(!1),{signal:Bt}),Ht.addEventListener("complete",Mt(!0),{signal:Bt})),Ht},table:function(Pt){var At=Et.table(Pt),Mt=At.schema.primaryKey;return rt(rt({},At),{mutate:function(Nt){var Bt=Fr.trans;if(Mt.outbound||Bt.db._options.cache==="disabled"||Bt.explicit||Bt.idbtrans.mode!=="readwrite")return At.mutate(Nt);var Ht=Vo["idb://".concat(bt,"/").concat(Pt)];return Ht?(Bt=At.mutate(Nt),Nt.type!=="add"&&Nt.type!=="put"||!(50<=Nt.values.length||Dl(Mt,Nt).some(function(Kt){return Kt==null}))?(Ht.optimisticOps.push(Nt),Nt.mutatedParts&&Fs(Nt.mutatedParts),Bt.then(function(Kt){0<Kt.numFailures&&(Tt(Ht.optimisticOps,Nt),(Kt=pu(0,Nt,Kt))&&Ht.optimisticOps.push(Kt),Nt.mutatedParts&&Fs(Nt.mutatedParts))}),Bt.catch(function(){Tt(Ht.optimisticOps,Nt),Nt.mutatedParts&&Fs(Nt.mutatedParts)})):Bt.then(function(Kt){var Zt=pu(0,rt(rt({},Nt),{values:Nt.values.map(function(er,Gt){var rr;return Kt.failures[Gt]?er:(er=(rr=Mt.keyPath)!==null&&rr!==void 0&&rr.includes(".")?zt(er):rt({},er),wt(er,Mt.keyPath,Kt.results[Gt]),er)})}),Kt);Ht.optimisticOps.push(Zt),queueMicrotask(function(){return Nt.mutatedParts&&Fs(Nt.mutatedParts)})}),Bt):At.mutate(Nt)},query:function(Nt){if(!fu(Fr,At)||!hu("query",Nt))return At.query(Nt);var Bt=((Zt=Fr.trans)===null||Zt===void 0?void 0:Zt.db._options.cache)==="immutable",Gt=Fr,Ht=Gt.requery,Kt=Gt.signal,Zt=function(Jt,tr,Xt,ir){var sr=Vo["idb://".concat(Jt,"/").concat(tr)];if(!sr)return[];if(!(tr=sr.queries[Xt]))return[null,!1,sr,null];var lr=tr[(ir.query?ir.query.index.name:null)||""];if(!lr)return[null,!1,sr,null];switch(Xt){case"query":var dr=lr.find(function(Cr){return Cr.req.limit===ir.limit&&Cr.req.values===ir.values&&gu(Cr.req.query.range,ir.query.range)});return dr?[dr,!0,sr,lr]:[lr.find(function(Cr){return("limit"in Cr.req?Cr.req.limit:1/0)>=ir.limit&&(!ir.values||Cr.req.values)&&Ku(Cr.req.query.range,ir.query.range)}),!1,sr,lr];case"count":return dr=lr.find(function(Cr){return gu(Cr.req.query.range,ir.query.range)}),[dr,!!dr,sr,lr]}}(bt,Pt,"query",Nt),er=Zt[0],Gt=Zt[1],rr=Zt[2],Yt=Zt[3];return er&&Gt?er.obsSet=Nt.obsSet:(Gt=At.query(Nt).then(function(Jt){var tr=Jt.result;if(er&&(er.res=tr),Bt){for(var Xt=0,ir=tr.length;Xt<ir;++Xt)Object.freeze(tr[Xt]);Object.freeze(tr)}else Jt.result=zt(tr);return Jt}).catch(function(Jt){return Yt&&er&&Tt(Yt,er),Promise.reject(Jt)}),er={obsSet:Nt.obsSet,promise:Gt,subscribers:new Set,type:"query",req:Nt,dirty:!1},Yt?Yt.push(er):(Yt=[er],(rr=rr||(Vo["idb://".concat(bt,"/").concat(Pt)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[Nt.query.index.name||""]=Yt)),Yu(er,Yt,Ht,Kt),er.promise.then(function(Jt){return{result:mu(Jt.result,Nt,rr==null?void 0:rr.optimisticOps,At,er,Bt)}})}})}})}};function Us(Et,bt){return new Proxy(Et,{get:function(Pt,At,Mt){return At==="db"?bt:Reflect.get(Pt,At,Mt)}})}var bo=(Nn.prototype.version=function(Et){if(isNaN(Et)||Et<.1)throw new mr.Type("Given version is not a positive number");if(Et=Math.round(10*Et)/10,this.idbdb||this._state.isBeingOpened)throw new mr.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,Et);var bt=this._versions,Pt=bt.filter(function(At){return At._cfg.version===Et})[0];return Pt||(Pt=new this.Version(Et),bt.push(Pt),bt.sort(Fu),Pt.stores({}),this._state.autoSchema=!1,Pt)},Nn.prototype._whenReady=function(Et){var bt=this;return this.idbdb&&(this._state.openComplete||Fr.letThrough||this._vip)?Et():new Lr(function(Pt,At){if(bt._state.openComplete)return At(new mr.DatabaseClosed(bt._state.dbOpenError));if(!bt._state.isBeingOpened){if(!bt._state.autoOpen)return void At(new mr.DatabaseClosed);bt.open().catch(Tr)}bt._state.dbReadyPromise.then(Pt,At)}).then(Et)},Nn.prototype.use=function(Et){var bt=Et.stack,Pt=Et.create,At=Et.level,Mt=Et.name;return Mt&&this.unuse({stack:bt,name:Mt}),Et=this._middlewares[bt]||(this._middlewares[bt]=[]),Et.push({stack:bt,create:Pt,level:At??10,name:Mt}),Et.sort(function(Nt,Bt){return Nt.level-Bt.level}),this},Nn.prototype.unuse=function(Et){var bt=Et.stack,Pt=Et.name,At=Et.create;return bt&&this._middlewares[bt]&&(this._middlewares[bt]=this._middlewares[bt].filter(function(Mt){return At?Mt.create!==At:!!Pt&&Mt.name!==Pt})),this},Nn.prototype.open=function(){var Et=this;return Wr(Cn,function(){return zu(Et)})},Nn.prototype._close=function(){var Et=this._state,bt=xa.indexOf(this);if(0<=bt&&xa.splice(bt,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}Et.isBeingOpened||(Et.dbReadyPromise=new Lr(function(Pt){Et.dbReadyResolve=Pt}),Et.openCanceller=new Lr(function(Pt,At){Et.cancelOpen=At}))},Nn.prototype.close=function(Pt){var bt=(Pt===void 0?{disableAutoOpen:!0}:Pt).disableAutoOpen,Pt=this._state;bt?(Pt.isBeingOpened&&Pt.cancelOpen(new mr.DatabaseClosed),this._close(),Pt.autoOpen=!1,Pt.dbOpenError=new mr.DatabaseClosed):(this._close(),Pt.autoOpen=this._options.autoOpen||Pt.isBeingOpened,Pt.openComplete=!1,Pt.dbOpenError=null)},Nn.prototype.delete=function(Et){var bt=this;Et===void 0&&(Et={disableAutoOpen:!0});var Pt=0<arguments.length&&typeof arguments[0]!="object",At=this._state;return new Lr(function(Mt,Nt){function Bt(){bt.close(Et);var Ht=bt._deps.indexedDB.deleteDatabase(bt.name);Ht.onsuccess=sn(function(){var Kt,Zt,er;Kt=bt._deps,Zt=bt.name,er=Kt.indexedDB,Kt=Kt.IDBKeyRange,Tl(er)||Zt===Qn||xl(er,Kt).delete(Zt).catch(Tr),Mt()}),Ht.onerror=uo(Nt),Ht.onblocked=bt._fireOnBlocked}if(Pt)throw new mr.InvalidArgument("Invalid closeOptions argument to db.delete()");At.isBeingOpened?At.dbReadyPromise.then(Bt):Bt()})},Nn.prototype.backendDB=function(){return this.idbdb},Nn.prototype.isOpen=function(){return this.idbdb!==null},Nn.prototype.hasBeenClosed=function(){var Et=this._state.dbOpenError;return Et&&Et.name==="DatabaseClosed"},Nn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Nn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Nn.prototype,"tables",{get:function(){var Et=this;return at(this._allTables).map(function(bt){return Et._allTables[bt]})},enumerable:!1,configurable:!0}),Nn.prototype.transaction=function(){var Et=(function(bt,Pt,At){var Mt=arguments.length;if(Mt<2)throw new mr.InvalidArgument("Too few arguments");for(var Nt=new Array(Mt-1);--Mt;)Nt[Mt-1]=arguments[Mt];return At=Nt.pop(),[bt,kt(Nt),At]}).apply(this,arguments);return this._transaction.apply(this,Et)},Nn.prototype._transaction=function(Et,bt,Pt){var At=this,Mt=Fr.trans;Mt&&Mt.db===this&&Et.indexOf("!")===-1||(Mt=null);var Nt,Bt,Ht=Et.indexOf("?")!==-1;Et=Et.replace("!","").replace("?","");try{if(Bt=bt.map(function(Zt){if(Zt=Zt instanceof At.Table?Zt.name:Zt,typeof Zt!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Zt}),Et=="r"||Et===co)Nt=co;else{if(Et!="rw"&&Et!=$a)throw new mr.InvalidArgument("Invalid transaction mode: "+Et);Nt=$a}if(Mt){if(Mt.mode===co&&Nt===$a){if(!Ht)throw new mr.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");Mt=null}Mt&&Bt.forEach(function(Zt){if(Mt&&Mt.storeNames.indexOf(Zt)===-1){if(!Ht)throw new mr.SubTransaction("Table "+Zt+" not included in parent transaction.");Mt=null}}),Ht&&Mt&&!Mt.active&&(Mt=null)}}catch(Zt){return Mt?Mt._promise(null,function(er,Gt){Gt(Zt)}):ln(Zt)}var Kt=(function Zt(er,Gt,rr,Yt,Jt){return Lr.resolve().then(function(){var tr=Fr.transless||Fr,Xt=er._createTransaction(Gt,rr,er._dbSchema,Yt);if(Xt.explicit=!0,tr={trans:Xt,transless:tr},Yt)Xt.idbtrans=Yt.idbtrans;else try{Xt.create(),Xt.idbtrans._explicit=!0,er._state.PR1398_maxLoop=3}catch(lr){return lr.name===vr.InvalidState&&er.isOpen()&&0<--er._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),er.close({disableAutoOpen:!1}),er.open().then(function(){return Zt(er,Gt,rr,null,Jt)})):ln(lr)}var ir,sr=jt(Jt);return sr&&Ur(),tr=Lr.follow(function(){var lr;(ir=Jt.call(Xt,Xt))&&(sr?(lr=Kr.bind(null,null),ir.then(lr,lr)):typeof ir.next=="function"&&typeof ir.throw=="function"&&(ir=Ol(ir)))},tr),(ir&&typeof ir.then=="function"?Lr.resolve(ir).then(function(lr){return Xt.active?lr:ln(new mr.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):tr.then(function(){return ir})).then(function(lr){return Yt&&Xt._resolve(),Xt._completion.then(function(){return lr})}).catch(function(lr){return Xt._reject(lr),ln(lr)})})}).bind(null,this,Nt,Bt,Mt,Pt);return Mt?Mt._promise(Nt,Kt,"lock"):Fr.trans?Wr(Fr.transless,function(){return At._whenReady(Kt)}):this._whenReady(Kt)},Nn.prototype.table=function(Et){if(!ut(this._allTables,Et))throw new mr.InvalidTable("Table ".concat(Et," does not exist"));return this._allTables[Et]},Nn);function Nn(Et,bt){var Pt=this;this._middlewares={},this.verno=0;var At=Nn.dependencies;this._options=bt=rt({addons:Nn.addons,autoOpen:!0,indexedDB:At.indexedDB,IDBKeyRange:At.IDBKeyRange,cache:"cloned"},bt),this._deps={indexedDB:bt.indexedDB,IDBKeyRange:bt.IDBKeyRange},At=bt.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var Mt,Nt,Bt,Ht,Kt,Zt={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Tr,dbReadyPromise:null,cancelOpen:Tr,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:bt.autoOpen};Zt.dbReadyPromise=new Lr(function(Gt){Zt.dbReadyResolve=Gt}),Zt.openCanceller=new Lr(function(Gt,rr){Zt.cancelOpen=rr}),this._state=Zt,this.name=Et,this.on=Wn(this,"populate","blocked","versionchange","close",{ready:[qr,Tr]}),this.on.ready.subscribe=vt(this.on.ready.subscribe,function(Gt){return function(rr,Yt){Nn.vip(function(){var Jt,tr=Pt._state;tr.openComplete?(tr.dbOpenError||Lr.resolve().then(rr),Yt&&Gt(rr)):tr.onReadyBeingFired?(tr.onReadyBeingFired.push(rr),Yt&&Gt(rr)):(Gt(rr),Jt=Pt,Yt||Gt(function Xt(){Jt.on.ready.unsubscribe(rr),Jt.on.ready.unsubscribe(Xt)}))})}}),this.Collection=(Mt=this,wo(Ou.prototype,function(ir,Xt){this.db=Mt;var Yt=to,Jt=null;if(Xt)try{Yt=Xt()}catch(sr){Jt=sr}var tr=ir._ctx,Xt=tr.table,ir=Xt.hook.reading.fire;this._ctx={table:Xt,index:tr.index,isPrimKey:!tr.index||Xt.schema.primKey.keyPath&&tr.index===Xt.schema.primKey.name,range:Yt,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Jt,or:tr.or,valueMapper:ir!==Vr?ir:null}})),this.Table=(Nt=this,wo(Vn.prototype,function(Gt,rr,Yt){this.db=Nt,this._tx=Yt,this.name=Gt,this.schema=rr,this.hook=Nt._allTables[Gt]?Nt._allTables[Gt].hook:Wn(null,{creating:[ar,Tr],reading:[yr,Vr],updating:[_r,Tr],deleting:[Er,Tr]})})),this.Transaction=(Bt=this,wo(Lu.prototype,function(Gt,rr,Yt,Jt,tr){var Xt=this;this.db=Bt,this.mode=Gt,this.storeNames=rr,this.schema=Yt,this.chromeTransactionDurability=Jt,this.idbtrans=null,this.on=Wn(this,"complete","error","abort"),this.parent=tr||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Lr(function(ir,sr){Xt._resolve=ir,Xt._reject=sr}),this._completion.then(function(){Xt.active=!1,Xt.on.complete.fire()},function(ir){var sr=Xt.active;return Xt.active=!1,Xt.on.error.fire(ir),Xt.parent?Xt.parent._reject(ir):sr&&Xt.idbtrans&&Xt.idbtrans.abort(),ln(ir)})})),this.Version=(Ht=this,wo(Bu.prototype,function(Gt){this.db=Ht,this._cfg={version:Gt,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Kt=this,wo(ru.prototype,function(Gt,rr,Yt){if(this.db=Kt,this._ctx={table:Gt,index:rr===":id"?null:rr,or:Yt},this._cmp=this._ascending=pn,this._descending=function(Jt,tr){return pn(tr,Jt)},this._max=function(Jt,tr){return 0<pn(Jt,tr)?Jt:tr},this._min=function(Jt,tr){return pn(Jt,tr)<0?Jt:tr},this._IDBKeyRange=Kt._deps.IDBKeyRange,!this._IDBKeyRange)throw new mr.MissingAPI})),this.on("versionchange",function(Gt){0<Gt.newVersion?console.warn("Another connection wants to upgrade database '".concat(Pt.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(Pt.name,"'. Closing db now to resume the delete request.")),Pt.close({disableAutoOpen:!1})}),this.on("blocked",function(Gt){!Gt.newVersion||Gt.newVersion<Gt.oldVersion?console.warn("Dexie.delete('".concat(Pt.name,"') was blocked")):console.warn("Upgrade '".concat(Pt.name,"' blocked by other connection holding version ").concat(Gt.oldVersion/10))}),this._maxKey=vs(bt.IDBKeyRange),this._createTransaction=function(Gt,rr,Yt,Jt){return new Pt.Transaction(Gt,rr,Yt,Pt._options.chromeTransactionDurability,Jt)},this._fireOnBlocked=function(Gt){Pt.on("blocked").fire(Gt),xa.filter(function(rr){return rr.name===Pt.name&&rr!==Pt&&!rr._state.vcFired}).map(function(rr){return rr.on("versionchange").fire(Gt)})},this.use(Wu),this.use(Zu),this.use(qu),this.use(Hu),this.use(Gu);var er=new Proxy(this,{get:function(Gt,rr,Yt){if(rr==="_vip")return!0;if(rr==="table")return function(tr){return Us(Pt.table(tr),er)};var Jt=Reflect.get(Gt,rr,Yt);return Jt instanceof Vn?Us(Jt,er):rr==="tables"?Jt.map(function(tr){return Us(tr,er)}):rr==="_createTransaction"?function(){return Us(Jt.apply(this,arguments),er)}:Jt}});this.vip=er,At.forEach(function(Gt){return Gt(Pt)})}var Bs,ro=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Qu=(Nl.prototype.subscribe=function(Et,bt,Pt){return this._subscribe(Et&&typeof Et!="function"?Et:{next:Et,error:bt,complete:Pt})},Nl.prototype[ro]=function(){return this},Nl);function Nl(Et){this._subscribe=Et}try{Bs={indexedDB:it.indexedDB||it.mozIndexedDB||it.webkitIndexedDB||it.msIndexedDB,IDBKeyRange:it.IDBKeyRange||it.webkitIDBKeyRange}}catch{Bs={indexedDB:null,IDBKeyRange:null}}function vu(Et){var bt,Pt=!1,At=new Qu(function(Mt){var Nt=jt(Et),Bt,Ht=!1,Kt={},Zt={},er={get closed(){return Ht},unsubscribe:function(){Ht||(Ht=!0,Bt&&Bt.abort(),Gt&&Ro.storagemutated.unsubscribe(Yt))}};Mt.start&&Mt.start(er);var Gt=!1,rr=function(){return _n(Jt)},Yt=function(tr){js(Kt,tr),Pl(Zt,Kt)&&rr()},Jt=function(){var tr,Xt,ir;!Ht&&Bs.indexedDB&&(Kt={},tr={},Bt&&Bt.abort(),Bt=new AbortController,ir=function(sr){var lr=wn();try{Nt&&Ur();var dr=hr(Et,sr);return dr=Nt?dr.finally(Kr):dr}finally{lr&&Mn()}}(Xt={subscr:tr,signal:Bt.signal,requery:rr,querier:Et,trans:null}),Promise.resolve(ir).then(function(sr){Pt=!0,bt=sr,Ht||Xt.signal.aborted||(Kt={},function(lr){for(var dr in lr)if(ut(lr,dr))return;return 1}(Zt=tr)||Gt||(Ro(gs,Yt),Gt=!0),_n(function(){return!Ht&&Mt.next&&Mt.next(sr)}))},function(sr){Pt=!1,["DatabaseClosedError","AbortError"].includes(sr==null?void 0:sr.name)||Ht||_n(function(){Ht||Mt.error&&Mt.error(sr)})}))};return setTimeout(rr,0),er});return At.hasValue=function(){return Pt},At.getValue=function(){return bt},At}var Uo=bo;function $l(Et){var bt=Io;try{Io=!0,Ro.storagemutated.fire(Et),Al(Et,!0)}finally{Io=bt}}dt(Uo,rt(rt({},br),{delete:function(Et){return new Uo(Et,{addons:[]}).delete()},exists:function(Et){return new Uo(Et,{addons:[]}).open().then(function(bt){return bt.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(Et){try{return bt=Uo.dependencies,Pt=bt.indexedDB,bt=bt.IDBKeyRange,(Tl(Pt)?Promise.resolve(Pt.databases()).then(function(At){return At.map(function(Mt){return Mt.name}).filter(function(Mt){return Mt!==Qn})}):xl(Pt,bt).toCollection().primaryKeys()).then(Et)}catch{return ln(new mr.MissingAPI)}var bt,Pt},defineClass:function(){return function(Et){st(this,Et)}},ignoreTransaction:function(Et){return Fr.trans?Wr(Fr.transless,Et):Et()},vip:wl,async:function(Et){return function(){try{var bt=Ol(Et.apply(this,arguments));return bt&&typeof bt.then=="function"?bt:Lr.resolve(bt)}catch(Pt){return ln(Pt)}}},spawn:function(Et,bt,Pt){try{var At=Ol(Et.apply(Pt,bt||[]));return At&&typeof At.then=="function"?At:Lr.resolve(At)}catch(Mt){return ln(Mt)}},currentTransaction:{get:function(){return Fr.trans||null}},waitFor:function(Et,bt){return bt=Lr.resolve(typeof Et=="function"?Uo.ignoreTransaction(Et):Et).timeout(bt||6e4),Fr.trans?Fr.trans.waitFor(bt):bt},Promise:Lr,debug:{get:function(){return Sr},set:function(Et){Hr(Et)}},derive:ht,extend:st,props:dt,override:vt,Events:Wn,on:Ro,liveQuery:vu,extendObservabilitySet:js,getByKeyPath:Ct,setByKeyPath:wt,delByKeyPath:function(Et,bt){typeof bt=="string"?wt(Et,bt,void 0):"length"in bt&&[].map.call(bt,function(Pt){wt(Et,Pt,void 0)})},shallowClone:_t,deepClone:zt,getObjectDiff:Ml,cmp:pn,asap:xt,minKey:-1/0,addons:[],connections:xa,errnames:vr,dependencies:Bs,cache:Vo,semVer:"4.0.9",version:"4.0.9".split(".").map(function(Et){return parseInt(Et)}).reduce(function(Et,bt,Pt){return Et+bt/Math.pow(10,2*Pt)})})),Uo.maxKey=vs(Uo.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ro(gs,function(Et){Io||(Et=new CustomEvent(Qs,{detail:Et}),Io=!0,dispatchEvent(Et),Io=!1)}),addEventListener(Qs,function(Et){Et=Et.detail,Io||$l(Et)}));var Xo,Io=!1,yu=function(){};return typeof BroadcastChannel<"u"&&((yu=function(){(Xo=new BroadcastChannel(Qs)).onmessage=function(Et){return Et.data&&$l(Et.data)}})(),typeof Xo.unref=="function"&&Xo.unref(),Ro(gs,function(Et){Io||Xo.postMessage(Et)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(Et){if(!bo.disableBfCache&&Et.persisted){Sr&&console.debug("Dexie: handling persisted pagehide"),Xo!=null&&Xo.close();for(var bt=0,Pt=xa;bt<Pt.length;bt++)Pt[bt].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(Et){!bo.disableBfCache&&Et.persisted&&(Sr&&console.debug("Dexie: handling persisted pageshow"),yu(),$l({all:new Un(-1/0,[[]])}))})),Lr.rejectionMapper=function(Et,bt){return!Et||Et instanceof cr||Et instanceof TypeError||Et instanceof SyntaxError||!Et.name||!Ir[Et.name]?Et:(bt=new Ir[Et.name](bt||Et.message,Et),"stack"in Et&&pt(bt,"stack",{get:function(){return this.inner.stack}}),bt)},Hr(Sr),rt(bo,Object.freeze({__proto__:null,Dexie:bo,liveQuery:vu,Entity:Fo,cmp:pn,PropModSymbol:_o,PropModification:ps,replacePrefix:function(Et,bt){return new ps({replacePrefix:[Et,bt]})},add:function(Et){return new ps({add:Et})},remove:function(Et){return new ps({remove:Et})},default:bo,RangeSet:Un,mergeRanges:Ss,rangesOverlap:su}),{default:bo}),bo})})(dexie_min);var dexie_minExports=dexie_min.exports;const _Dexie=getDefaultExportFromCjs(dexie_minExports),DexieSymbol=Symbol.for("Dexie"),Dexie=globalThis[DexieSymbol]||(globalThis[DexieSymbol]=_Dexie);if(_Dexie.semVer!==Dexie.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${_Dexie.semVer} and ${Dexie.semVer}`);class PartitionQueueDexieDatabase extends Dexie{constructor(){super("PartitionQueueDatabase",{chromeTransactionDurability:"strict"});kr(this,"queue");kr(this,"sequence");this.version(1).stores({queue:"[sessionId+priority+sequenceId], [sessionId+partition+sequenceId], [partition+sessionId] ",sequence:"[sessionId+partition]"})}}class IdbPartitionQueueRepository{constructor(){kr(this,"logger",createLogger("idb-partition-queue-repository"));kr(this,"db",new PartitionQueueDexieDatabase)}async getLatestSequenceId(et,tt){const rt=await this.db.sequence.get({sessionId:et,partition:tt});return(rt==null?void 0:rt.latestSequenceId)??null}async addQueueItem(et,tt){await this.db.transaction("rw",this.db.queue,this.db.sequence,async()=>{const rt=await this.getLatestSequenceId(et,tt.partition);if(rt!==null&&rt>=tt.sequenceId)throw this.logger.error("INVALID_SEQUENCE_ID",()=>({latestSequenceId:rt,sequenceId:tt.sequenceId})),new Error("Cannot push a new item with a lower sequenceId than a previous pushed item");await this.db.queue.put({...tt,sessionId:et}),await this.db.sequence.put({sessionId:et,partition:tt.partition,latestSequenceId:tt.sequenceId})})}async removeQueueItems(et,tt,rt){await this.db.queue.where(["sessionId","partition","sequenceId"]).anyOf(rt.map(nt=>[et,tt,nt])).delete()}async getNextQueueItem(et,tt){const rt=await this.db.queue.where("sessionId").equals(et).offset(tt??0).first();return rt||null}async clear(et){await this.db.transaction("rw",this.db.queue,this.db.sequence,async()=>{await this.db.queue.where("sessionId").equals(et).delete(),await this.db.sequence.where("sessionId").equals(et).delete()})}async size(et,tt){return tt?this.db.queue.where(["partition","sessionId"]).equals([tt,et]).count():this.db.queue.where("sessionId").equals(et).count()}}class DefaultRecordingSessionRepository{constructor(et){this.sessionStore=et}setTotalProjectRecordingTime(et){this.sessionStore.setItem("time",`${et}`)}getTotalProjectRecordingTime(){const et=this.sessionStore.getItem("time");return et!=null?parseFloat(et):null}}var eventemitter3={exports:{}};(function(_e){var et=Object.prototype.hasOwnProperty,tt="~";function rt(){}Object.create&&(rt.prototype=Object.create(null),new rt().__proto__||(tt=!1));function nt(st,lt,ct){this.fn=st,this.context=lt,this.once=ct||!1}function it(st,lt,ct,ut,dt){if(typeof ct!="function")throw new TypeError("The listener must be a function");var ft=new nt(ct,ut||st,dt),pt=tt?tt+lt:lt;return st._events[pt]?st._events[pt].fn?st._events[pt]=[st._events[pt],ft]:st._events[pt].push(ft):(st._events[pt]=ft,st._eventsCount++),st}function at(st,lt){--st._eventsCount===0?st._events=new rt:delete st._events[lt]}function ot(){this._events=new rt,this._eventsCount=0}ot.prototype.eventNames=function(){var lt=[],ct,ut;if(this._eventsCount===0)return lt;for(ut in ct=this._events)et.call(ct,ut)&&lt.push(tt?ut.slice(1):ut);return Object.getOwnPropertySymbols?lt.concat(Object.getOwnPropertySymbols(ct)):lt},ot.prototype.listeners=function(lt){var ct=tt?tt+lt:lt,ut=this._events[ct];if(!ut)return[];if(ut.fn)return[ut.fn];for(var dt=0,ft=ut.length,pt=new Array(ft);dt<ft;dt++)pt[dt]=ut[dt].fn;return pt},ot.prototype.listenerCount=function(lt){var ct=tt?tt+lt:lt,ut=this._events[ct];return ut?ut.fn?1:ut.length:0},ot.prototype.emit=function(lt,ct,ut,dt,ft,pt){var ht=tt?tt+lt:lt;if(!this._events[ht])return!1;var yt=this._events[ht],mt=arguments.length,gt,vt;if(yt.fn){switch(yt.once&&this.removeListener(lt,yt.fn,void 0,!0),mt){case 1:return yt.fn.call(yt.context),!0;case 2:return yt.fn.call(yt.context,ct),!0;case 3:return yt.fn.call(yt.context,ct,ut),!0;case 4:return yt.fn.call(yt.context,ct,ut,dt),!0;case 5:return yt.fn.call(yt.context,ct,ut,dt,ft),!0;case 6:return yt.fn.call(yt.context,ct,ut,dt,ft,pt),!0}for(vt=1,gt=new Array(mt-1);vt<mt;vt++)gt[vt-1]=arguments[vt];yt.fn.apply(yt.context,gt)}else{var St=yt.length,xt;for(vt=0;vt<St;vt++)switch(yt[vt].once&&this.removeListener(lt,yt[vt].fn,void 0,!0),mt){case 1:yt[vt].fn.call(yt[vt].context);break;case 2:yt[vt].fn.call(yt[vt].context,ct);break;case 3:yt[vt].fn.call(yt[vt].context,ct,ut);break;case 4:yt[vt].fn.call(yt[vt].context,ct,ut,dt);break;default:if(!gt)for(xt=1,gt=new Array(mt-1);xt<mt;xt++)gt[xt-1]=arguments[xt];yt[vt].fn.apply(yt[vt].context,gt)}}return!0},ot.prototype.on=function(lt,ct,ut){return it(this,lt,ct,ut,!1)},ot.prototype.once=function(lt,ct,ut){return it(this,lt,ct,ut,!0)},ot.prototype.removeListener=function(lt,ct,ut,dt){var ft=tt?tt+lt:lt;if(!this._events[ft])return this;if(!ct)return at(this,ft),this;var pt=this._events[ft];if(pt.fn)pt.fn===ct&&(!dt||pt.once)&&(!ut||pt.context===ut)&&at(this,ft);else{for(var ht=0,yt=[],mt=pt.length;ht<mt;ht++)(pt[ht].fn!==ct||dt&&!pt[ht].once||ut&&pt[ht].context!==ut)&&yt.push(pt[ht]);yt.length?this._events[ft]=yt.length===1?yt[0]:yt:at(this,ft)}return this},ot.prototype.removeAllListeners=function(lt){var ct;return lt?(ct=tt?tt+lt:lt,this._events[ct]&&at(this,ct)):(this._events=new rt,this._eventsCount=0),this},ot.prototype.off=ot.prototype.removeListener,ot.prototype.addListener=ot.prototype.on,ot.prefixed=tt,ot.EventEmitter=ot,_e.exports=ot})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const RawEventEmitter=getDefaultExportFromCjs(eventemitter3Exports);class EventEmitter{constructor(et){kr(this,"emitter");this.emitter=et??new RawEventEmitter}on(et,tt){return this.emitter.on(et,tt),()=>this.emitter.off(et,tt)}once(et,tt){return this.emitter.once(et,tt),()=>this.emitter.off(et,tt)}removeAllListeners(et){this.emitter.removeAllListeners(et)}emit(et,...tt){return this.emitter.emit(et,...tt)}}const scriptRel="modulepreload",assetsURL=function(_e){return"/"+_e},seen$1={},__vitePreload=function _e(et,tt,rt){let nt=Promise.resolve();if(tt&&tt.length>0){document.getElementsByTagName("link");const at=document.querySelector("meta[property=csp-nonce]"),ot=(at==null?void 0:at.nonce)||(at==null?void 0:at.getAttribute("nonce"));nt=Promise.allSettled(tt.map(st=>{if(st=assetsURL(st),st in seen$1)return;seen$1[st]=!0;const lt=st.endsWith(".css"),ct=lt?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${st}"]${ct}`))return;const ut=document.createElement("link");if(ut.rel=lt?"stylesheet":scriptRel,lt||(ut.as="script"),ut.crossOrigin="",ut.href=st,ot&&ut.setAttribute("nonce",ot),document.head.appendChild(ut),lt)return new Promise((dt,ft)=>{ut.addEventListener("load",dt),ut.addEventListener("error",()=>ft(new Error(`Unable to preload CSS for ${st}`)))})}))}function it(at){const ot=new Event("vite:preloadError",{cancelable:!0});if(ot.payload=at,window.dispatchEvent(ot),!ot.defaultPrevented)throw at}return nt.then(at=>{for(const ot of at||[])ot.status==="rejected"&&it(ot.reason);return et().catch(it)})};var extendStatics$1=function(_e,et){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tt,rt){tt.__proto__=rt}||function(tt,rt){for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])},extendStatics$1(_e,et)};function __extends$1(_e,et){if(typeof et!="function"&&et!==null)throw new TypeError("Class extends value "+String(et)+" is not a constructor or null");extendStatics$1(_e,et);function tt(){this.constructor=_e}_e.prototype=et===null?Object.create(et):(tt.prototype=et.prototype,new tt)}var __assign=function(){return __assign=Object.assign||function(et){for(var tt,rt=1,nt=arguments.length;rt<nt;rt++){tt=arguments[rt];for(var it in tt)Object.prototype.hasOwnProperty.call(tt,it)&&(et[it]=tt[it])}return et},__assign.apply(this,arguments)};function __rest$1(_e,et){var tt={};for(var rt in _e)Object.prototype.hasOwnProperty.call(_e,rt)&&et.indexOf(rt)<0&&(tt[rt]=_e[rt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,rt=Object.getOwnPropertySymbols(_e);nt<rt.length;nt++)et.indexOf(rt[nt])<0&&Object.prototype.propertyIsEnumerable.call(_e,rt[nt])&&(tt[rt[nt]]=_e[rt[nt]]);return tt}function __awaiter(_e,et,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function ot(ct){try{lt(rt.next(ct))}catch(ut){at(ut)}}function st(ct){try{lt(rt.throw(ct))}catch(ut){at(ut)}}function lt(ct){ct.done?it(ct.value):nt(ct.value).then(ot,st)}lt((rt=rt.apply(_e,et||[])).next())})}function __generator(_e,et){var tt={label:0,sent:function(){if(it[0]&1)throw it[1];return it[1]},trys:[],ops:[]},rt,nt,it,at=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return at.next=ot(0),at.throw=ot(1),at.return=ot(2),typeof Symbol=="function"&&(at[Symbol.iterator]=function(){return this}),at;function ot(lt){return function(ct){return st([lt,ct])}}function st(lt){if(rt)throw new TypeError("Generator is already executing.");for(;at&&(at=0,lt[0]&&(tt=0)),tt;)try{if(rt=1,nt&&(it=lt[0]&2?nt.return:lt[0]?nt.throw||((it=nt.return)&&it.call(nt),0):nt.next)&&!(it=it.call(nt,lt[1])).done)return it;switch(nt=0,it&&(lt=[lt[0]&2,it.value]),lt[0]){case 0:case 1:it=lt;break;case 4:return tt.label++,{value:lt[1],done:!1};case 5:tt.label++,nt=lt[1],lt=[0];continue;case 7:lt=tt.ops.pop(),tt.trys.pop();continue;default:if(it=tt.trys,!(it=it.length>0&&it[it.length-1])&&(lt[0]===6||lt[0]===2)){tt=0;continue}if(lt[0]===3&&(!it||lt[1]>it[0]&&lt[1]<it[3])){tt.label=lt[1];break}if(lt[0]===6&&tt.label<it[1]){tt.label=it[1],it=lt;break}if(it&&tt.label<it[2]){tt.label=it[2],tt.ops.push(lt);break}it[2]&&tt.ops.pop(),tt.trys.pop();continue}lt=et.call(_e,tt)}catch(ct){lt=[6,ct],nt=0}finally{rt=it=0}if(lt[0]&5)throw lt[1];return{value:lt[0]?lt[1]:void 0,done:!0}}}function __spreadArray$1(_e,et,tt){if(tt||arguments.length===2)for(var rt=0,nt=et.length,it;rt<nt;rt++)(it||!(rt in et))&&(it||(it=Array.prototype.slice.call(et,0,rt)),it[rt]=et[rt]);return _e.concat(it||Array.prototype.slice.call(et))}typeof SuppressedError=="function"&&SuppressedError;function dset(_e,et,tt){et.split&&(et=et.split("."));for(var rt=0,nt=et.length,it=_e,at,ot;rt<nt&&(ot=""+et[rt++],!(ot==="__proto__"||ot==="constructor"||ot==="prototype"));)it=it[ot]=rt===nt?tt:typeof(at=it[ot])==typeof et?at:et[rt]*0!==0||~(""+et[rt]).indexOf(".")?{}:[]}var pickBy=function(_e,et){return Object.keys(_e).filter(function(tt){return et(tt,_e[tt])}).reduce(function(tt,rt){return tt[rt]=_e[rt],tt},{})},ValidationError=function(_e){__extends$1(et,_e);function et(tt,rt){var nt=_e.call(this,"".concat(tt," ").concat(rt))||this;return nt.field=tt,nt}return et}(Error);function isString$1(_e){return typeof _e=="string"}function isNumber$2(_e){return typeof _e=="number"}function isFunction$3(_e){return typeof _e=="function"}function exists(_e){return _e!=null}function isPlainObject$1(_e){return Object.prototype.toString.call(_e).slice(8,-1).toLowerCase()==="object"}var stringError="is not a string",objError="is not an object",nilError="is nil";function assertEventExists(_e){if(!exists(_e))throw new ValidationError("Event",nilError);if(typeof _e!="object")throw new ValidationError("Event",objError)}function assertEventType(_e){if(!isString$1(_e.type))throw new ValidationError(".type",stringError)}function assertTrackEventName(_e){if(!isString$1(_e.event))throw new ValidationError(".event",stringError)}function assertTrackEventProperties(_e){if(!isPlainObject$1(_e.properties))throw new ValidationError(".properties",objError)}function assertTraits(_e){if(!isPlainObject$1(_e.traits))throw new ValidationError(".traits",objError)}function assertMessageId(_e){if(!isString$1(_e.messageId))throw new ValidationError(".messageId",stringError)}function validateEvent(_e){assertEventExists(_e),assertEventType(_e),assertMessageId(_e),_e.type==="track"&&(assertTrackEventName(_e),assertTrackEventProperties(_e)),["group","identify"].includes(_e.type)&&assertTraits(_e)}var InternalEventFactorySettings=function(){function _e(et){var tt,rt;this.settings=et,this.createMessageId=et.createMessageId,this.onEventMethodCall=(tt=et.onEventMethodCall)!==null&&tt!==void 0?tt:function(){},this.onFinishedEvent=(rt=et.onFinishedEvent)!==null&&rt!==void 0?rt:function(){}}return _e}(),CoreEventFactory=function(){function _e(et){this.settings=new InternalEventFactorySettings(et)}return _e.prototype.track=function(et,tt,rt,nt){return this.settings.onEventMethodCall({type:"track",options:rt}),this.normalize(__assign(__assign({},this.baseEvent()),{event:et,type:"track",properties:tt??{},options:__assign({},rt),integrations:__assign({},nt)}))},_e.prototype.page=function(et,tt,rt,nt,it){var at;this.settings.onEventMethodCall({type:"page",options:nt});var ot={type:"page",properties:__assign({},rt),options:__assign({},nt),integrations:__assign({},it)};return et!==null&&(ot.category=et,ot.properties=(at=ot.properties)!==null&&at!==void 0?at:{},ot.properties.category=et),tt!==null&&(ot.name=tt),this.normalize(__assign(__assign({},this.baseEvent()),ot))},_e.prototype.screen=function(et,tt,rt,nt,it){this.settings.onEventMethodCall({type:"screen",options:nt});var at={type:"screen",properties:__assign({},rt),options:__assign({},nt),integrations:__assign({},it)};return et!==null&&(at.category=et),tt!==null&&(at.name=tt),this.normalize(__assign(__assign({},this.baseEvent()),at))},_e.prototype.identify=function(et,tt,rt,nt){return this.settings.onEventMethodCall({type:"identify",options:rt}),this.normalize(__assign(__assign({},this.baseEvent()),{type:"identify",userId:et,traits:tt??{},options:__assign({},rt),integrations:nt}))},_e.prototype.group=function(et,tt,rt,nt){return this.settings.onEventMethodCall({type:"group",options:rt}),this.normalize(__assign(__assign({},this.baseEvent()),{type:"group",traits:tt??{},options:__assign({},rt),integrations:__assign({},nt),groupId:et}))},_e.prototype.alias=function(et,tt,rt,nt){this.settings.onEventMethodCall({type:"alias",options:rt});var it={userId:et,type:"alias",options:__assign({},rt),integrations:__assign({},nt)};return tt!==null&&(it.previousId=tt),et===void 0?this.normalize(__assign(__assign({},it),this.baseEvent())):this.normalize(__assign(__assign({},this.baseEvent()),it))},_e.prototype.baseEvent=function(){return{integrations:{},options:{}}},_e.prototype.context=function(et){var tt,rt=["userId","anonymousId","timestamp","messageId"];delete et.integrations;var nt=Object.keys(et),it=(tt=et.context)!==null&&tt!==void 0?tt:{},at={};return nt.forEach(function(ot){ot!=="context"&&(rt.includes(ot)?dset(at,ot,et[ot]):dset(it,ot,et[ot]))}),[it,at]},_e.prototype.normalize=function(et){var tt,rt,nt=Object.keys((tt=et.integrations)!==null&&tt!==void 0?tt:{}).reduce(function(dt,ft){var pt,ht;return __assign(__assign({},dt),(pt={},pt[ft]=!!(!((ht=et.integrations)===null||ht===void 0)&&ht[ft]),pt))},{});et.options=pickBy(et.options||{},function(dt,ft){return ft!==void 0});var it=__assign(__assign({},nt),(rt=et.options)===null||rt===void 0?void 0:rt.integrations),at=et.options?this.context(et.options):[],ot=at[0],st=at[1],lt=et.options,ct=__rest$1(et,["options"]),ut=__assign(__assign(__assign(__assign({timestamp:new Date},ct),{context:ot,integrations:it}),st),{messageId:lt.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(ut),validateEvent(ut),ut},_e}();function pTimeout(_e,et){return new Promise(function(tt,rt){var nt=setTimeout(function(){rt(Error("Promise timed out"))},et);_e.then(function(it){return clearTimeout(nt),tt(it)}).catch(rt)})}function sleep(_e){return new Promise(function(et){return setTimeout(et,_e)})}function invokeCallback(_e,et,tt){var rt=function(){try{return Promise.resolve(et(_e))}catch(nt){return Promise.reject(nt)}};return sleep(tt).then(function(){return pTimeout(rt(),1e3)}).catch(function(nt){_e==null||_e.log("warn","Callback Error",{error:nt}),_e==null||_e.stats.increment("callback_error")}).then(function(){return _e})}var createDeferred=function(){var _e,et,tt=!1,rt=new Promise(function(nt,it){_e=function(){for(var at=[],ot=0;ot<arguments.length;ot++)at[ot]=arguments[ot];tt=!0,nt.apply(void 0,at)},et=function(){for(var at=[],ot=0;ot<arguments.length;ot++)at[ot]=arguments[ot];tt=!0,it.apply(void 0,at)}});return{resolve:_e,reject:et,promise:rt,isSettled:function(){return tt}}},Emitter=function(){function _e(et){var tt;this.callbacks={},this.warned=!1,this.maxListeners=(tt=et==null?void 0:et.maxListeners)!==null&&tt!==void 0?tt:10}return _e.prototype.warnIfPossibleMemoryLeak=function(et){this.warned||this.maxListeners&&this.callbacks[et].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(et)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},_e.prototype.on=function(et,tt){return this.callbacks[et]?(this.callbacks[et].push(tt),this.warnIfPossibleMemoryLeak(et)):this.callbacks[et]=[tt],this},_e.prototype.once=function(et,tt){var rt=this,nt=function(){for(var it=[],at=0;at<arguments.length;at++)it[at]=arguments[at];rt.off(et,nt),tt.apply(rt,it)};return this.on(et,nt),this},_e.prototype.off=function(et,tt){var rt,nt=(rt=this.callbacks[et])!==null&&rt!==void 0?rt:[],it=nt.filter(function(at){return at!==tt});return this.callbacks[et]=it,this},_e.prototype.emit=function(et){for(var tt=this,rt,nt=[],it=1;it<arguments.length;it++)nt[it-1]=arguments[it];var at=(rt=this.callbacks[et])!==null&&rt!==void 0?rt:[];return at.forEach(function(ot){ot.apply(tt,nt)}),this},_e}();function backoff(_e){var et=Math.random()+1,tt=_e.minTimeout,rt=tt===void 0?500:tt,nt=_e.factor,it=nt===void 0?2:nt,at=_e.attempt,ot=_e.maxTimeout,st=ot===void 0?1/0:ot;return Math.min(et*rt*Math.pow(it,at),st)}var ON_REMOVE_FROM_FUTURE="onRemoveFromFuture",PriorityQueue=function(_e){__extends$1(et,_e);function et(tt,rt,nt){var it=_e.call(this)||this;return it.future=[],it.maxAttempts=tt,it.queue=rt,it.seen=nt??{},it}return et.prototype.push=function(){for(var tt=this,rt=[],nt=0;nt<arguments.length;nt++)rt[nt]=arguments[nt];var it=rt.map(function(at){var ot=tt.updateAttempts(at);return ot>tt.maxAttempts||tt.includes(at)?!1:(tt.queue.push(at),!0)});return this.queue=this.queue.sort(function(at,ot){return tt.getAttempts(at)-tt.getAttempts(ot)}),it},et.prototype.pushWithBackoff=function(tt,rt){var nt=this;if(rt===void 0&&(rt=0),rt==0&&this.getAttempts(tt)===0)return this.push(tt)[0];var it=this.updateAttempts(tt);if(it>this.maxAttempts||this.includes(tt))return!1;var at=backoff({attempt:it-1});return rt>0&&at<rt&&(at=rt),setTimeout(function(){nt.queue.push(tt),nt.future=nt.future.filter(function(ot){return ot.id!==tt.id}),nt.emit(ON_REMOVE_FROM_FUTURE)},at),this.future.push(tt),!0},et.prototype.getAttempts=function(tt){var rt;return(rt=this.seen[tt.id])!==null&&rt!==void 0?rt:0},et.prototype.updateAttempts=function(tt){return this.seen[tt.id]=this.getAttempts(tt)+1,this.getAttempts(tt)},et.prototype.includes=function(tt){return this.queue.includes(tt)||this.future.includes(tt)||!!this.queue.find(function(rt){return rt.id===tt.id})||!!this.future.find(function(rt){return rt.id===tt.id})},et.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(et.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(et.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),et}(Emitter),IDX=256,HEX=[],BUFFER;for(;IDX--;)HEX[IDX]=(IDX+256).toString(16).substring(1);function v4$1(){var _e=0,et,tt="";if(!BUFFER||IDX+16>256){for(BUFFER=Array(_e=256);_e--;)BUFFER[_e]=256*Math.random()|0;_e=IDX=0}for(;_e<16;_e++)et=BUFFER[IDX+_e],_e==6?tt+=HEX[et&15|64]:_e==8?tt+=HEX[et&63|128]:tt+=HEX[et],_e&1&&_e>1&&_e<11&&(tt+="-");return IDX++,tt}var CoreLogger=function(){function _e(){this._logs=[]}return _e.prototype.log=function(et,tt,rt){var nt=new Date;this._logs.push({level:et,message:tt,time:nt,extras:rt})},Object.defineProperty(_e.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),_e.prototype.flush=function(){if(this.logs.length>1){var et=this._logs.reduce(function(tt,rt){var nt,it,at,ot=__assign(__assign({},rt),{json:JSON.stringify(rt.extras,null," "),extras:rt.extras});delete ot.time;var st=(at=(it=rt.time)===null||it===void 0?void 0:it.toISOString())!==null&&at!==void 0?at:"";return tt[st]&&(st="".concat(st,"-").concat(Math.random())),__assign(__assign({},tt),(nt={},nt[st]=ot,nt))},{});console.table?console.table(et):console.log(et)}else this.logs.forEach(function(tt){var rt=tt.level,nt=tt.message,it=tt.extras;rt==="info"||rt==="debug"?console.log(nt,it??""):console[rt](nt,it??"")});this._logs=[]},_e}(),compactMetricType=function(_e){var et={gauge:"g",counter:"c"};return et[_e]},CoreStats=function(){function _e(){this.metrics=[]}return _e.prototype.increment=function(et,tt,rt){tt===void 0&&(tt=1),this.metrics.push({metric:et,value:tt,tags:rt??[],type:"counter",timestamp:Date.now()})},_e.prototype.gauge=function(et,tt,rt){this.metrics.push({metric:et,value:tt,tags:rt??[],type:"gauge",timestamp:Date.now()})},_e.prototype.flush=function(){var et=this.metrics.map(function(tt){return __assign(__assign({},tt),{tags:tt.tags.join(",")})});console.table?console.table(et):console.log(et),this.metrics=[]},_e.prototype.serialize=function(){return this.metrics.map(function(et){return{m:et.metric,v:et.value,t:et.tags,k:compactMetricType(et.type),e:et.timestamp}})},_e}(),NullStats=function(_e){__extends$1(et,_e);function et(){return _e!==null&&_e.apply(this,arguments)||this}return et.prototype.gauge=function(){},et.prototype.increment=function(){},et.prototype.flush=function(){},et.prototype.serialize=function(){return[]},et}(CoreStats),ContextCancelation=function(){function _e(et){var tt,rt,nt;this.retry=(tt=et.retry)!==null&&tt!==void 0?tt:!0,this.type=(rt=et.type)!==null&&rt!==void 0?rt:"plugin Error",this.reason=(nt=et.reason)!==null&&nt!==void 0?nt:""}return _e}(),CoreContext=function(){function _e(et,tt,rt,nt){tt===void 0&&(tt=v4$1()),rt===void 0&&(rt=new NullStats),nt===void 0&&(nt=new CoreLogger),this.attempts=0,this.event=et,this._id=tt,this.logger=nt,this.stats=rt}return _e.system=function(){},_e.prototype.isSame=function(et){return et.id===this.id},_e.prototype.cancel=function(et){throw et||new ContextCancelation({reason:"Context Cancel"})},_e.prototype.log=function(et,tt,rt){this.logger.log(et,tt,rt)},Object.defineProperty(_e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),_e.prototype.updateEvent=function(et,tt){var rt;if(et.split(".")[0]==="integrations"){var nt=et.split(".")[1];if(((rt=this.event.integrations)===null||rt===void 0?void 0:rt[nt])===!1)return this.event}return dset(this.event,et,tt),this.event},_e.prototype.failedDelivery=function(){return this._failedDelivery},_e.prototype.setFailedDelivery=function(et){this._failedDelivery=et},_e.prototype.logs=function(){return this.logger.logs},_e.prototype.flush=function(){this.logger.flush(),this.stats.flush()},_e.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},_e}();function groupBy(_e,et){var tt={};return _e.forEach(function(rt){var nt,it=void 0;{var at=rt[et];it=typeof at!="string"?JSON.stringify(at):at}it!==void 0&&(tt[it]=__spreadArray$1(__spreadArray$1([],(nt=tt[it])!==null&&nt!==void 0?nt:[],!0),[rt],!1))}),tt}var isThenable$1=function(_e){return typeof _e=="object"&&_e!==null&&"then"in _e&&typeof _e.then=="function"},createTaskGroup=function(){var _e,et,tt=0;return{done:function(){return _e},run:function(rt){var nt=rt();return isThenable$1(nt)&&(++tt===1&&(_e=new Promise(function(it){return et=it})),nt.finally(function(){return--tt===0&&et()})),nt}}};function tryAsync(_e){return __awaiter(this,void 0,void 0,function(){var et;return __generator(this,function(tt){switch(tt.label){case 0:return tt.trys.push([0,2,,3]),[4,_e()];case 1:return[2,tt.sent()];case 2:return et=tt.sent(),[2,Promise.reject(et)];case 3:return[2]}})})}function attempt(_e,et){_e.log("debug","plugin",{plugin:et.name});var tt=new Date().getTime(),rt=et[_e.event.type];if(rt===void 0)return Promise.resolve(_e);var nt=tryAsync(function(){return rt.apply(et,[_e])}).then(function(it){var at=new Date().getTime()-tt;return it.stats.gauge("plugin_time",at,["plugin:".concat(et.name)]),it}).catch(function(it){if(it instanceof ContextCancelation&&it.type==="middleware_cancellation")throw it;return it instanceof ContextCancelation?(_e.log("warn",it.type,{plugin:et.name,error:it}),it):(_e.log("error","plugin Error",{plugin:et.name,error:it}),_e.stats.increment("plugin_error",1,["plugin:".concat(et.name)]),it)});return nt}function ensure(_e,et){return attempt(_e,et).then(function(tt){if(tt instanceof CoreContext)return tt;_e.log("debug","Context canceled"),_e.stats.increment("context_canceled"),_e.cancel(tt)})}var CoreEventQueue=function(_e){__extends$1(et,_e);function et(tt){var rt=_e.call(this)||this;return rt.criticalTasks=createTaskGroup(),rt.plugins=[],rt.failedInitializations=[],rt.flushing=!1,rt.queue=tt,rt.queue.on(ON_REMOVE_FROM_FUTURE,function(){rt.scheduleFlush(0)}),rt}return et.prototype.register=function(tt,rt,nt){return __awaiter(this,void 0,void 0,function(){var it,at,ot=this;return __generator(this,function(st){switch(st.label){case 0:return this.plugins.push(rt),it=function(lt){ot.failedInitializations.push(rt.name),ot.emit("initialization_failure",rt),console.warn(rt.name,lt),tt.log("warn","Failed to load destination",{plugin:rt.name,error:lt}),ot.plugins=ot.plugins.filter(function(ct){return ct!==rt})},rt.type==="destination"&&rt.name!=="Segment.io"?(rt.load(tt,nt).catch(it),[3,4]):[3,1];case 1:return st.trys.push([1,3,,4]),[4,rt.load(tt,nt)];case 2:return st.sent(),[3,4];case 3:return at=st.sent(),it(at),[3,4];case 4:return[2]}})})},et.prototype.deregister=function(tt,rt,nt){return __awaiter(this,void 0,void 0,function(){var it;return __generator(this,function(at){switch(at.label){case 0:return at.trys.push([0,3,,4]),rt.unload?[4,Promise.resolve(rt.unload(tt,nt))]:[3,2];case 1:at.sent(),at.label=2;case 2:return this.plugins=this.plugins.filter(function(ot){return ot.name!==rt.name}),[3,4];case 3:return it=at.sent(),tt.log("warn","Failed to unload destination",{plugin:rt.name,error:it}),[3,4];case 4:return[2]}})})},et.prototype.dispatch=function(tt){return __awaiter(this,void 0,void 0,function(){var rt;return __generator(this,function(nt){return tt.log("debug","Dispatching"),tt.stats.increment("message_dispatched"),this.queue.push(tt),rt=this.subscribeToDelivery(tt),this.scheduleFlush(0),[2,rt]})})},et.prototype.subscribeToDelivery=function(tt){return __awaiter(this,void 0,void 0,function(){var rt=this;return __generator(this,function(nt){return[2,new Promise(function(it){var at=function(ot,st){ot.isSame(tt)&&(rt.off("flush",at),it(ot))};rt.on("flush",at)})]})})},et.prototype.dispatchSingle=function(tt){return __awaiter(this,void 0,void 0,function(){var rt=this;return __generator(this,function(nt){return tt.log("debug","Dispatching"),tt.stats.increment("message_dispatched"),this.queue.updateAttempts(tt),tt.attempts=1,[2,this.deliver(tt).catch(function(it){var at=rt.enqueuRetry(it,tt);return at?rt.subscribeToDelivery(tt):(tt.setFailedDelivery({reason:it}),tt)})]})})},et.prototype.isEmpty=function(){return this.queue.length===0},et.prototype.scheduleFlush=function(tt){var rt=this;tt===void 0&&(tt=500),!this.flushing&&(this.flushing=!0,setTimeout(function(){rt.flush().then(function(){setTimeout(function(){rt.flushing=!1,rt.queue.length&&rt.scheduleFlush(0)},0)})},tt))},et.prototype.deliver=function(tt){return __awaiter(this,void 0,void 0,function(){var rt,nt,it,at;return __generator(this,function(ot){switch(ot.label){case 0:return[4,this.criticalTasks.done()];case 1:ot.sent(),rt=Date.now(),ot.label=2;case 2:return ot.trys.push([2,4,,5]),[4,this.flushOne(tt)];case 3:return tt=ot.sent(),nt=Date.now()-rt,this.emit("delivery_success",tt),tt.stats.gauge("delivered",nt),tt.log("debug","Delivered",tt.event),[2,tt];case 4:throw it=ot.sent(),at=it,tt.log("error","Failed to deliver",at),this.emit("delivery_failure",tt,at),tt.stats.increment("delivery_failed"),it;case 5:return[2]}})})},et.prototype.enqueuRetry=function(tt,rt){var nt=!(tt instanceof ContextCancelation)||tt.retry;return nt?this.queue.pushWithBackoff(rt):!1},et.prototype.flush=function(){return __awaiter(this,void 0,void 0,function(){var tt,rt,nt;return __generator(this,function(it){switch(it.label){case 0:if(this.queue.length===0)return[2,[]];if(tt=this.queue.pop(),!tt)return[2,[]];tt.attempts=this.queue.getAttempts(tt),it.label=1;case 1:return it.trys.push([1,3,,4]),[4,this.deliver(tt)];case 2:return tt=it.sent(),this.emit("flush",tt,!0),[3,4];case 3:return rt=it.sent(),nt=this.enqueuRetry(rt,tt),nt||(tt.setFailedDelivery({reason:rt}),this.emit("flush",tt,!1)),[2,[]];case 4:return[2,[tt]]}})})},et.prototype.isReady=function(){return!0},et.prototype.availableExtensions=function(tt){var rt=this.plugins.filter(function(ft){var pt,ht,yt;if(ft.type!=="destination"&&ft.name!=="Segment.io")return!0;var mt=void 0;return(pt=ft.alternativeNames)===null||pt===void 0||pt.forEach(function(gt){tt[gt]!==void 0&&(mt=tt[gt])}),(yt=(ht=tt[ft.name])!==null&&ht!==void 0?ht:mt)!==null&&yt!==void 0?yt:(ft.name==="Segment.io"?!0:tt.All)!==!1}),nt=groupBy(rt,"type"),it=nt.before,at=it===void 0?[]:it,ot=nt.enrichment,st=ot===void 0?[]:ot,lt=nt.destination,ct=lt===void 0?[]:lt,ut=nt.after,dt=ut===void 0?[]:ut;return{before:at,enrichment:st,destinations:ct,after:dt}},et.prototype.flushOne=function(tt){var rt,nt;return __awaiter(this,void 0,void 0,function(){var it,at,ot,st,lt,ct,pt,ut,dt,ft,pt,ht,yt,mt,gt;return __generator(this,function(vt){switch(vt.label){case 0:if(!this.isReady())throw new Error("Not ready");tt.attempts>1&&this.emit("delivery_retry",tt),it=this.availableExtensions((rt=tt.event.integrations)!==null&&rt!==void 0?rt:{}),at=it.before,ot=it.enrichment,st=0,lt=at,vt.label=1;case 1:return st<lt.length?(ct=lt[st],[4,ensure(tt,ct)]):[3,4];case 2:pt=vt.sent(),pt instanceof CoreContext&&(tt=pt),this.emit("message_enriched",tt,ct),vt.label=3;case 3:return st++,[3,1];case 4:ut=0,dt=ot,vt.label=5;case 5:return ut<dt.length?(ft=dt[ut],[4,attempt(tt,ft)]):[3,8];case 6:pt=vt.sent(),pt instanceof CoreContext&&(tt=pt),this.emit("message_enriched",tt,ft),vt.label=7;case 7:return ut++,[3,5];case 8:return ht=this.availableExtensions((nt=tt.event.integrations)!==null&&nt!==void 0?nt:{}),yt=ht.destinations,mt=ht.after,[4,new Promise(function(St,xt){setTimeout(function(){var Ct=yt.map(function(wt){return attempt(tt,wt)});Promise.all(Ct).then(St).catch(xt)},0)})];case 9:return vt.sent(),tt.stats.increment("message_delivered"),this.emit("message_delivered",tt),gt=mt.map(function(St){return attempt(tt,St)}),[4,Promise.all(gt)];case 10:return vt.sent(),[2,tt]}})})},et}(Emitter),getDelay=function(_e,et){var tt=Date.now()-_e;return Math.max((et??300)-tt,0)};function dispatch(_e,et,tt,rt){return __awaiter(this,void 0,void 0,function(){var nt,it;return __generator(this,function(at){switch(at.label){case 0:return tt.emit("dispatch_start",_e),nt=Date.now(),et.isEmpty()?[4,et.dispatchSingle(_e)]:[3,2];case 1:return it=at.sent(),[3,4];case 2:return[4,et.dispatch(_e)];case 3:it=at.sent(),at.label=4;case 4:return rt!=null&&rt.callback?[4,invokeCallback(it,rt.callback,getDelay(nt,rt.timeout))]:[3,6];case 5:it=at.sent(),at.label=6;case 6:return rt!=null&&rt.debug&&it.flush(),[2,it]}})})}function resolveArguments(_e,et,tt,rt){var nt,it=[_e,et,tt,rt],at=isPlainObject$1(_e)?_e.event:_e;if(!at||!isString$1(at))throw new Error("Event missing");var ot=isPlainObject$1(_e)?(nt=_e.properties)!==null&&nt!==void 0?nt:{}:isPlainObject$1(et)?et:{},st={};isFunction$3(tt)||(st=tt??{}),isPlainObject$1(_e)&&!isFunction$3(et)&&(st=et??{});var lt=it.find(isFunction$3);return[at,ot,st,lt]}function resolvePageArguments(_e,et,tt,rt,nt){var it,at,ot=null,st=null,lt=[_e,et,tt,rt,nt],ct=lt.filter(isString$1);ct[0]!==void 0&&ct[1]!==void 0&&(ot=ct[0],st=ct[1]),ct.length===1&&(ot=null,st=ct[0]);var ut=lt.find(isFunction$3),dt=lt.filter(function(ht){return st===null?isPlainObject$1(ht):isPlainObject$1(ht)||ht===null}),ft=(it=dt[0])!==null&&it!==void 0?it:{},pt=(at=dt[1])!==null&&at!==void 0?at:{};return[ot,st,ft,pt,ut]}var resolveUserArguments=function(_e){return function(){for(var et,tt,rt,nt=[],it=0;it<arguments.length;it++)nt[it]=arguments[it];for(var at={},ot=["callback","options","traits","id"],st=0,lt=nt;st<lt.length;st++){var ct=lt[st],ut=ot.pop();if(ut==="id"){if(isString$1(ct)||isNumber$2(ct)){at.id=ct.toString();continue}if(ct==null)continue;ut=ot.pop()}if((ut==="traits"||ut==="options")&&(ct==null||isPlainObject$1(ct))&&(at[ut]=ct),isFunction$3(ct)){at.callback=ct;break}}return[(et=at.id)!==null&&et!==void 0?et:_e.id(),(tt=at.traits)!==null&&tt!==void 0?tt:{},(rt=at.options)!==null&&rt!==void 0?rt:{},at.callback]}};function resolveAliasArguments(_e,et,tt,rt){isNumber$2(_e)&&(_e=_e.toString()),isNumber$2(et)&&(et=et.toString());var nt=[_e,et,tt,rt],it=nt.filter(isString$1),at=it[0],ot=at===void 0?_e:at,st=it[1],lt=st===void 0?null:st,ct=nt.filter(isPlainObject$1)[0],ut=ct===void 0?{}:ct,dt=nt.find(isFunction$3);return[ot,lt,ut,dt]}function isBrowser$1(){return typeof window<"u"}function isServer(){return!isBrowser$1()}function isOnline(){return isBrowser$1()?window.navigator.onLine:!0}function isOffline(){return!isOnline()}function unfetch(_e,et){return et=et||{},new Promise(function(tt,rt){var nt=new XMLHttpRequest,it=[],at=[],ot={},st=function(){return{ok:(nt.status/100|0)==2,statusText:nt.statusText,status:nt.status,url:nt.responseURL,text:function(){return Promise.resolve(nt.responseText)},json:function(){return Promise.resolve(nt.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([nt.response]))},clone:st,headers:{keys:function(){return it},entries:function(){return at},get:function(ct){return ot[ct.toLowerCase()]},has:function(ct){return ct.toLowerCase()in ot}}}};for(var lt in nt.open(et.method||"get",_e,!0),nt.onload=function(){nt.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(ct,ut,dt){it.push(ut=ut.toLowerCase()),at.push([ut,dt]),ot[ut]=ot[ut]?ot[ut]+","+dt:dt}),tt(st())},nt.onerror=rt,nt.withCredentials=et.credentials=="include",et.headers)nt.setRequestHeader(lt,et.headers[lt]);nt.send(et.body||null)})}var getGlobal$1=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:null},fetch$1=function(){for(var _e=[],et=0;et<arguments.length;et++)_e[et]=arguments[et];var tt=getGlobal$1();return(tt&&tt.fetch||unfetch).apply(void 0,_e)},version$4="1.74.0",SEGMENT_API_HOST="api.segment.io/v1",createRemoteMetric=function(_e,et,tt){var rt=et.reduce(function(nt,it){var at=it.split(":"),ot=at[0],st=at[1];return nt[ot]=st,nt},{});return{type:"Counter",metric:_e,value:1,tags:__assign(__assign({},rt),{library:"analytics.js",library_version:"npm:next-".concat(version$4)})}};function logError(_e){console.error("Error sending segment performance metrics",_e)}var RemoteMetrics=function(){function _e(et){var tt=this,rt,nt,it,at,ot;if(this.host=(rt=et==null?void 0:et.host)!==null&&rt!==void 0?rt:SEGMENT_API_HOST,this.sampleRate=(nt=et==null?void 0:et.sampleRate)!==null&&nt!==void 0?nt:1,this.flushTimer=(it=et==null?void 0:et.flushTimer)!==null&&it!==void 0?it:30*1e3,this.maxQueueSize=(at=et==null?void 0:et.maxQueueSize)!==null&&at!==void 0?at:20,this.protocol=(ot=et==null?void 0:et.protocol)!==null&&ot!==void 0?ot:"https",this.queue=[],this.sampleRate>0){var st=!1,lt=function(){st||(st=!0,tt.flush().catch(logError),st=!1,setTimeout(lt,tt.flushTimer))};lt()}}return _e.prototype.increment=function(et,tt){if(et.includes("analytics_js.")&&tt.length!==0&&!(Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var rt=createRemoteMetric(et,tt);this.queue.push(rt),et.includes("error")&&this.flush().catch(logError)}},_e.prototype.flush=function(){return __awaiter(this,void 0,void 0,function(){var et=this;return __generator(this,function(tt){switch(tt.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch(function(rt){logError(rt),et.sampleRate=0})];case 1:return tt.sent(),[2]}})})},_e.prototype.send=function(){return __awaiter(this,void 0,void 0,function(){var et,tt,rt;return __generator(this,function(nt){return et={series:this.queue},this.queue=[],tt={"Content-Type":"text/plain"},rt="".concat(this.protocol,"://").concat(this.host,"/m"),[2,fetch$1(rt,{headers:tt,body:JSON.stringify(et),method:"POST"})]})})},_e}(),remoteMetrics,Stats=function(_e){__extends$1(et,_e);function et(){return _e!==null&&_e.apply(this,arguments)||this}return et.initRemoteMetrics=function(tt){remoteMetrics=new RemoteMetrics(tt)},et.prototype.increment=function(tt,rt,nt){_e.prototype.increment.call(this,tt,rt,nt),remoteMetrics==null||remoteMetrics.increment(tt,nt??[])},et}(CoreStats),Context=function(_e){__extends$1(et,_e);function et(tt,rt){return _e.call(this,tt,rt,new Stats)||this}return et.system=function(){return new this({type:"track",event:"system"})},et}(CoreContext),BufferedPageContextDiscriminant="bpc",createBufferedPageContext=function(_e,et,tt,rt,nt,it){return{__t:BufferedPageContextDiscriminant,c:et,p:rt,u:_e,s:tt,t:nt,r:it}},BUFFERED_PAGE_CONTEXT_KEYS=Object.keys(createBufferedPageContext("","","","","",""));function isBufferedPageContext(_e){if(!isPlainObject$1(_e)||_e.__t!==BufferedPageContextDiscriminant)return!1;for(var et in _e)if(!BUFFERED_PAGE_CONTEXT_KEYS.includes(et))return!1;return!0}var createCanonicalURL=function(_e,et){return _e.indexOf("?")>-1?_e:_e+et},removeHash=function(_e){var et=_e.indexOf("#");return et===-1?_e:_e.slice(0,et)},parseCanonicalPath=function(_e){try{return new URL(_e).pathname}catch{return _e[0]==="/"?_e:"/"+_e}},createPageContext=function(_e){var et=_e.c,tt=_e.p,rt=_e.s,nt=_e.u,it=_e.r,at=_e.t,ot=et?parseCanonicalPath(et):tt,st=et?createCanonicalURL(et,rt):removeHash(nt);return{path:ot,referrer:it,search:rt,title:at,url:st}},getDefaultBufferedPageContext=function(){var _e=document.querySelector("link[rel='canonical']");return createBufferedPageContext(location.href,_e&&_e.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},getDefaultPageContext=function(){return createPageContext(getDefaultBufferedPageContext())};function pick$1(_e,et){return Object.assign.apply(Object,__spreadArray$1([{}],et.map(function(tt){var rt;if(_e&&Object.prototype.hasOwnProperty.call(_e,tt))return rt={},rt[tt]=_e[tt],rt}),!1))}var addPageContext=function(_e,et){et===void 0&&(et=getDefaultPageContext());var tt=_e.context,rt;_e.type==="page"&&(rt=_e.properties&&pick$1(_e.properties,Object.keys(et)),_e.properties=__assign(__assign(__assign({},et),_e.properties),_e.name?{name:_e.name}:{})),tt.page=__assign(__assign(__assign({},et),rt),tt.page)},EventFactory=function(_e){__extends$1(et,_e);function et(tt){var rt=_e.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat(v4$1())},onEventMethodCall:function(nt){var it=nt.options;rt.maybeUpdateAnonId(it)},onFinishedEvent:function(nt){return rt.addIdentity(nt),nt}})||this;return rt.user=tt,rt}return et.prototype.maybeUpdateAnonId=function(tt){tt!=null&&tt.anonymousId&&this.user.anonymousId(tt.anonymousId)},et.prototype.addIdentity=function(tt){this.user.id()&&(tt.userId=this.user.id()),this.user.anonymousId()&&(tt.anonymousId=this.user.anonymousId())},et.prototype.track=function(tt,rt,nt,it,at){var ot=_e.prototype.track.call(this,tt,rt,nt,it);return addPageContext(ot,at),ot},et.prototype.page=function(tt,rt,nt,it,at,ot){var st=_e.prototype.page.call(this,tt,rt,nt,it,at);return addPageContext(st,ot),st},et.prototype.screen=function(tt,rt,nt,it,at,ot){var st=_e.prototype.screen.call(this,tt,rt,nt,it,at);return addPageContext(st,ot),st},et.prototype.identify=function(tt,rt,nt,it,at){var ot=_e.prototype.identify.call(this,tt,rt,nt,it);return addPageContext(ot,at),ot},et.prototype.group=function(tt,rt,nt,it,at){var ot=_e.prototype.group.call(this,tt,rt,nt,it);return addPageContext(ot,at),ot},et.prototype.alias=function(tt,rt,nt,it,at){var ot=_e.prototype.alias.call(this,tt,rt,nt,it);return addPageContext(ot,at),ot},et}(CoreEventFactory),isDestinationPluginWithAddMiddleware=function(_e){return"addMiddleware"in _e&&_e.type==="destination"},loc={getItem:function(){},setItem:function(){},removeItem:function(){}};try{loc=isBrowser$1()&&window.localStorage?window.localStorage:loc}catch(_e){console.warn("Unable to access localStorage",_e)}function persisted(_e){var et=loc.getItem(_e);return(et?JSON.parse(et):[]).map(function(tt){return new Context(tt.event,tt.id)})}function persistItems(_e,et){var tt=persisted(_e),rt=__spreadArray$1(__spreadArray$1([],et,!0),tt,!0),nt=rt.reduce(function(it,at){var ot;return __assign(__assign({},it),(ot={},ot[at.id]=at,ot))},{});loc.setItem(_e,JSON.stringify(Object.values(nt)))}function seen(_e){var et=loc.getItem(_e);return et?JSON.parse(et):{}}function persistSeen(_e,et){var tt=seen(_e);loc.setItem(_e,JSON.stringify(__assign(__assign({},tt),et)))}function remove(_e){loc.removeItem(_e)}var now$1=function(){return new Date().getTime()};function mutex(_e,et,tt){tt===void 0&&(tt=0);var rt=50,nt="persisted-queue:v1:".concat(_e,":lock"),it=function(lt){return new Date().getTime()>lt},at=loc.getItem(nt),ot=at?JSON.parse(at):null,st=ot===null||it(ot);if(st){loc.setItem(nt,JSON.stringify(now$1()+rt)),et(),loc.removeItem(nt);return}!st&&tt<3?setTimeout(function(){mutex(_e,et,tt+1)},rt):console.error("Unable to retrieve lock")}var PersistedPriorityQueue=function(_e){__extends$1(et,_e);function et(tt,rt){var nt=_e.call(this,tt,[])||this,it="persisted-queue:v1:".concat(rt,":items"),at="persisted-queue:v1:".concat(rt,":seen"),ot=[],st={};return mutex(rt,function(){try{ot=persisted(it),st=seen(at),remove(it),remove(at),nt.queue=__spreadArray$1(__spreadArray$1([],ot,!0),nt.queue,!0),nt.seen=__assign(__assign({},st),nt.seen)}catch(lt){console.error(lt)}}),window.addEventListener("pagehide",function(){if(nt.todo>0){var lt=__spreadArray$1(__spreadArray$1([],nt.queue,!0),nt.future,!0);try{mutex(rt,function(){persistItems(it,lt),persistSeen(at,nt.seen)})}catch(ct){console.error(ct)}}}),nt}return et}(PriorityQueue),EventQueue=function(_e){__extends$1(et,_e);function et(tt){return _e.call(this,typeof tt=="string"?new PersistedPriorityQueue(4,tt):tt)||this}return et.prototype.flush=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(tt){return isOffline()?[2,[]]:[2,_e.prototype.flush.call(this)]})})},et}(CoreEventQueue);function bindAll(_e){for(var et=_e.constructor.prototype,tt=0,rt=Object.getOwnPropertyNames(et);tt<rt.length;tt++){var nt=rt[tt];if(nt!=="constructor"){var it=Object.getOwnPropertyDescriptor(_e.constructor.prototype,nt);it&&typeof it.value=="function"&&(_e[nt]=_e[nt].bind(_e))}}return _e}/*! js-cookie v3.0.1 | MIT */function assign$1(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)_e[rt]=tt[rt]}return _e}var defaultConverter={read:function(_e){return _e[0]==='"'&&(_e=_e.slice(1,-1)),_e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(_e){return encodeURIComponent(_e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function init(_e,et){function tt(nt,it,at){if(!(typeof document>"u")){at=assign$1({},et,at),typeof at.expires=="number"&&(at.expires=new Date(Date.now()+at.expires*864e5)),at.expires&&(at.expires=at.expires.toUTCString()),nt=encodeURIComponent(nt).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var ot="";for(var st in at)at[st]&&(ot+="; "+st,at[st]!==!0&&(ot+="="+at[st].split(";")[0]));return document.cookie=nt+"="+_e.write(it,nt)+ot}}function rt(nt){if(!(typeof document>"u"||arguments.length&&!nt)){for(var it=document.cookie?document.cookie.split("; "):[],at={},ot=0;ot<it.length;ot++){var st=it[ot].split("="),lt=st.slice(1).join("=");try{var ct=decodeURIComponent(st[0]);if(at[ct]=_e.read(lt,ct),nt===ct)break}catch{}}return nt?at[nt]:at}}return Object.create({set:tt,get:rt,remove:function(nt,it){tt(nt,"",assign$1({},it,{expires:-1}))},withAttributes:function(nt){return init(this.converter,assign$1({},this.attributes,nt))},withConverter:function(nt){return init(assign$1({},this.converter,nt),this.attributes)}},{attributes:{value:Object.freeze(et)},converter:{value:Object.freeze(_e)}})}var api$1=init(defaultConverter,{path:"/"});function levels(_e){var et=_e.hostname,tt=et.split("."),rt=tt[tt.length-1],nt=[];if(tt.length===4&&parseInt(rt,10)>0||tt.length<=1)return nt;for(var it=tt.length-2;it>=0;--it)nt.push(tt.slice(it).join("."));return nt}function parseUrl(_e){try{return new URL(_e)}catch{return}}function tld(_e){var et=parseUrl(_e);if(et)for(var tt=levels(et),rt=0;rt<tt.length;++rt){var nt="__tld__",it=tt[rt],at={domain:"."+it};try{if(api$1.set(nt,"1",at),api$1.get(nt))return api$1.remove(nt,at),it}catch{return}}}var ONE_YEAR=365,CookieStorage=function(){function _e(et){et===void 0&&(et=_e.defaults),this.options=__assign(__assign({},_e.defaults),et)}return Object.defineProperty(_e,"defaults",{get:function(){return{maxage:ONE_YEAR,domain:tld(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),_e.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},_e.prototype.get=function(et){var tt;try{var rt=api$1.get(et);if(rt==null)return null;try{return(tt=JSON.parse(rt))!==null&&tt!==void 0?tt:null}catch{return rt??null}}catch{return null}},_e.prototype.set=function(et,tt){typeof tt=="string"?api$1.set(et,tt,this.opts()):tt===null?api$1.remove(et,this.opts()):api$1.set(et,JSON.stringify(tt),this.opts())},_e.prototype.remove=function(et){return api$1.remove(et,this.opts())},_e}(),LocalStorage=function(){function _e(){}return _e.prototype.localStorageWarning=function(et,tt){console.warn("Unable to access ".concat(et,", localStorage may be ").concat(tt))},_e.prototype.get=function(et){var tt;try{var rt=localStorage.getItem(et);if(rt===null)return null;try{return(tt=JSON.parse(rt))!==null&&tt!==void 0?tt:null}catch{return rt??null}}catch{return this.localStorageWarning(et,"unavailable"),null}},_e.prototype.set=function(et,tt){try{localStorage.setItem(et,JSON.stringify(tt))}catch{this.localStorageWarning(et,"full")}},_e.prototype.remove=function(et){try{return localStorage.removeItem(et)}catch{this.localStorageWarning(et,"unavailable")}},_e}(),MemoryStorage=function(){function _e(){this.cache={}}return _e.prototype.get=function(et){var tt;return(tt=this.cache[et])!==null&&tt!==void 0?tt:null},_e.prototype.set=function(et,tt){this.cache[et]=tt},_e.prototype.remove=function(et){delete this.cache[et]},_e}(),StoreType={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"};function isArrayOfStoreType(_e){return _e&&_e.stores&&Array.isArray(_e.stores)&&_e.stores.every(function(et){return Object.values(StoreType).includes(et)})}function isStoreTypeWithSettings(_e){return typeof _e=="object"&&_e.name!==void 0}var _logStoreKeyError=function(_e,et,tt,rt){console.warn("".concat(_e.constructor.name,": Can't ").concat(et,' key "').concat(tt,'" | Err: ').concat(rt))},UniversalStorage=function(){function _e(et){this.stores=et}return _e.prototype.get=function(et){for(var tt=null,rt=0,nt=this.stores;rt<nt.length;rt++){var it=nt[rt];try{if(tt=it.get(et),tt!=null)return tt}catch(at){_logStoreKeyError(it,"get",et,at)}}return null},_e.prototype.set=function(et,tt){this.stores.forEach(function(rt){try{rt.set(et,tt)}catch(nt){_logStoreKeyError(rt,"set",et,nt)}})},_e.prototype.clear=function(et){this.stores.forEach(function(tt){try{tt.remove(et)}catch(rt){_logStoreKeyError(tt,"remove",et,rt)}})},_e.prototype.getAndSync=function(et){var tt=this.get(et),rt=typeof tt=="number"?tt.toString():tt;return this.set(et,rt),rt},_e}();function initializeStorages(_e){var et=_e.map(function(tt){var rt,nt;switch(isStoreTypeWithSettings(tt)?(rt=tt.name,nt=tt.settings):rt=tt,rt){case StoreType.Cookie:return new CookieStorage(nt);case StoreType.LocalStorage:return new LocalStorage;case StoreType.Memory:return new MemoryStorage;default:throw new Error("Unknown Store Type: ".concat(tt))}});return et}function applyCookieOptions(_e,et){return _e.map(function(tt){return et&&tt===StoreType.Cookie?{name:tt,settings:et}:tt})}var defaults={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},User=function(){function _e(et,tt){et===void 0&&(et=defaults);var rt=this,nt,it,at,ot;this.options={},this.id=function(lt){if(rt.options.disable)return null;var ct=rt.identityStore.getAndSync(rt.idKey);if(lt!==void 0){rt.identityStore.set(rt.idKey,lt);var ut=lt!==ct&&ct!==null&&lt!==null;ut&&rt.anonymousId(null)}var dt=rt.identityStore.getAndSync(rt.idKey);if(dt)return dt;var ft=rt.legacyUserStore.get(defaults.cookie.oldKey);return ft?typeof ft=="object"?ft.id:ft:null},this.anonymousId=function(lt){var ct,ut;if(rt.options.disable)return null;if(lt===void 0){var dt=(ct=rt.identityStore.getAndSync(rt.anonKey))!==null&&ct!==void 0?ct:(ut=rt.legacySIO())===null||ut===void 0?void 0:ut[0];if(dt)return dt}return lt===null?(rt.identityStore.set(rt.anonKey,null),rt.identityStore.getAndSync(rt.anonKey)):(rt.identityStore.set(rt.anonKey,lt??v4$1()),rt.identityStore.getAndSync(rt.anonKey))},this.traits=function(lt){var ct;if(!rt.options.disable)return lt===null&&(lt={}),lt&&rt.traitsStore.set(rt.traitsKey,lt??{}),(ct=rt.traitsStore.get(rt.traitsKey))!==null&&ct!==void 0?ct:{}},this.options=__assign(__assign({},defaults),et),this.cookieOptions=tt,this.idKey=(it=(nt=et.cookie)===null||nt===void 0?void 0:nt.key)!==null&&it!==void 0?it:defaults.cookie.key,this.traitsKey=(ot=(at=et.localStorage)===null||at===void 0?void 0:at.key)!==null&&ot!==void 0?ot:defaults.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,tt),this.legacyUserStore=this.createStorage(this.options,tt,function(lt){return lt===StoreType.Cookie}),this.traitsStore=this.createStorage(this.options,tt,function(lt){return lt!==StoreType.Cookie});var st=this.legacyUserStore.get(defaults.cookie.oldKey);st&&typeof st=="object"&&(st.id&&this.id(st.id),st.traits&&this.traits(st.traits)),bindAll(this)}return _e.prototype.legacySIO=function(){var et=this.legacyUserStore.get("_sio");if(!et)return null;var tt=et.split("----"),rt=tt[0],nt=tt[1];return[rt,nt]},_e.prototype.identify=function(et,tt){if(!this.options.disable){tt=tt??{};var rt=this.id();(rt===null||rt===et)&&(tt=__assign(__assign({},this.traits()),tt)),et&&this.id(et),this.traits(tt)}},_e.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},_e.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},_e.prototype.load=function(){return new _e(this.options,this.cookieOptions)},_e.prototype.save=function(){return!0},_e.prototype.createStorage=function(et,tt,rt){var nt=[StoreType.LocalStorage,StoreType.Cookie,StoreType.Memory];return et.disable?new UniversalStorage([]):et.persist?(et.storage!==void 0&&et.storage!==null&&isArrayOfStoreType(et.storage)&&(nt=et.storage.stores),et.localStorageFallbackDisabled&&(nt=nt.filter(function(it){return it!==StoreType.LocalStorage})),rt&&(nt=nt.filter(rt)),new UniversalStorage(initializeStorages(applyCookieOptions(nt,tt)))):new UniversalStorage([new MemoryStorage])},_e.defaults=defaults,_e}(),groupDefaults={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},Group$2=function(_e){__extends$1(et,_e);function et(tt,rt){tt===void 0&&(tt=groupDefaults);var nt=_e.call(this,__assign(__assign({},groupDefaults),tt),rt)||this;return nt.anonymousId=function(it){},bindAll(nt),nt}return et}(User),_globalAnalyticsKey="analytics";function getGlobalAnalytics(){return window[_globalAnalyticsKey]}function setGlobalAnalyticsKey(_e){_globalAnalyticsKey=_e}function setGlobalAnalytics(_e){window[_globalAnalyticsKey]=_e}var isThenable=function(_e){return typeof _e=="object"&&_e!==null&&"then"in _e&&typeof _e.then=="function"},flushSyncAnalyticsCalls=function(_e,et,tt){tt.getAndRemove(_e).forEach(function(rt){callAnalyticsMethod(et,rt).catch(console.error)})},flushAddSourceMiddleware=function(_e,et){return __awaiter(void 0,void 0,void 0,function(){var tt,rt,nt;return __generator(this,function(it){switch(it.label){case 0:tt=0,rt=et.getAndRemove("addSourceMiddleware"),it.label=1;case 1:return tt<rt.length?(nt=rt[tt],[4,callAnalyticsMethod(_e,nt).catch(console.error)]):[3,4];case 2:it.sent(),it.label=3;case 3:return tt++,[3,1];case 4:return[2]}})})},flushRegister=function(_e,et){return __awaiter(void 0,void 0,void 0,function(){var tt,rt,nt;return __generator(this,function(it){switch(it.label){case 0:tt=0,rt=et.getAndRemove("register"),it.label=1;case 1:return tt<rt.length?(nt=rt[tt],[4,callAnalyticsMethod(_e,nt).catch(console.error)]):[3,4];case 2:it.sent(),it.label=3;case 3:return tt++,[3,1];case 4:return[2]}})})},flushOn=flushSyncAnalyticsCalls.bind(void 0,"on"),flushSetAnonymousID=flushSyncAnalyticsCalls.bind(void 0,"setAnonymousId"),flushAnalyticsCallsInNewTask=function(_e,et){Object.keys(et.calls).forEach(function(tt){et.getAndRemove(tt).forEach(function(rt){setTimeout(function(){callAnalyticsMethod(_e,rt).catch(console.error)},0)})})},popPageContext=function(_e){if(hasBufferedPageContextAsLastArg(_e)){var et=_e.pop();return createPageContext(et)}},hasBufferedPageContextAsLastArg=function(_e){var et=_e[_e.length-1];return isBufferedPageContext(et)},PreInitMethodCall=function(){function _e(et,tt,rt,nt){rt===void 0&&(rt=function(){}),nt===void 0&&(nt=console.error),this.method=et,this.resolve=rt,this.reject=nt,this.called=!1,this.args=tt}return _e}(),PreInitMethodCallBuffer=function(){function _e(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];this._callMap={},this.add.apply(this,et)}return Object.defineProperty(_e.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(et){this._callMap=et},enumerable:!1,configurable:!0}),_e.prototype.get=function(et){var tt;return(tt=this.calls[et])!==null&&tt!==void 0?tt:[]},_e.prototype.getAndRemove=function(et){var tt=this.get(et);return this.calls[et]=[],tt},_e.prototype.add=function(){for(var et=this,tt=[],rt=0;rt<arguments.length;rt++)tt[rt]=arguments[rt];tt.forEach(function(nt){var it=["track","screen","alias","group","page","identify"];it.includes(nt.method)&&!hasBufferedPageContextAsLastArg(nt.args)&&(nt.args=__spreadArray$1(__spreadArray$1([],nt.args,!0),[getDefaultBufferedPageContext()],!1)),et.calls[nt.method]?et.calls[nt.method].push(nt):et.calls[nt.method]=[nt]})},_e.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},_e.prototype.toArray=function(){var et;return(et=[]).concat.apply(et,Object.values(this.calls))},_e.prototype._pushSnippetWindowBuffer=function(){},_e}();function callAnalyticsMethod(_e,et){return __awaiter(this,void 0,void 0,function(){var tt,rt;return __generator(this,function(nt){switch(nt.label){case 0:return nt.trys.push([0,3,,4]),et.called?[2,void 0]:(et.called=!0,tt=_e[et.method].apply(_e,et.args),isThenable(tt)?[4,tt]:[3,2]);case 1:nt.sent(),nt.label=2;case 2:return et.resolve(tt),[3,4];case 3:return rt=nt.sent(),et.reject(rt),[3,4];case 4:return[2]}})})}var AnalyticsBuffered=function(){function _e(et){var tt=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=version$4,this._preInitBuffer=new PreInitMethodCallBuffer,this._promise=et(this._preInitBuffer),this._promise.then(function(rt){var nt=rt[0],it=rt[1];tt.instance=nt,tt.ctx=it}).catch(function(){})}return _e.prototype.then=function(){for(var et,tt=[],rt=0;rt<arguments.length;rt++)tt[rt]=arguments[rt];return(et=this._promise).then.apply(et,tt)},_e.prototype.catch=function(){for(var et,tt=[],rt=0;rt<arguments.length;rt++)tt[rt]=arguments[rt];return(et=this._promise).catch.apply(et,tt)},_e.prototype.finally=function(){for(var et,tt=[],rt=0;rt<arguments.length;rt++)tt[rt]=arguments[rt];return(et=this._promise).finally.apply(et,tt)},_e.prototype._createMethod=function(et){var tt=this;return function(){for(var rt,nt=[],it=0;it<arguments.length;it++)nt[it]=arguments[it];if(tt.instance){var at=(rt=tt.instance)[et].apply(rt,nt);return Promise.resolve(at)}return new Promise(function(ot,st){tt._preInitBuffer.add(new PreInitMethodCall(et,nt,ot,st))})}},_e.prototype._createChainableMethod=function(et){var tt=this;return function(){for(var rt,nt=[],it=0;it<arguments.length;it++)nt[it]=arguments[it];return tt.instance?((rt=tt.instance)[et].apply(rt,nt),tt):(tt._preInitBuffer.add(new PreInitMethodCall(et,nt)),tt)}},_e}(),deprecationWarning="This is being deprecated and will be not be available in future releases of Analytics JS",global$1=getGlobal$1(),_analytics=global$1==null?void 0:global$1.analytics;function createDefaultQueue(_e,et,tt){et===void 0&&(et=!1),tt===void 0&&(tt=!1);var rt=et?10:1,nt=tt?new PriorityQueue(rt,[]):new PersistedPriorityQueue(rt,_e);return new EventQueue(nt)}var AnalyticsInstanceSettings=function(){function _e(et){var tt;this.timeout=300,this.writeKey=et.writeKey,this.cdnSettings=(tt=et.cdnSettings)!==null&&tt!==void 0?tt:{integrations:{},edgeFunction:{}},this.cdnURL=et.cdnURL}return _e}();function _stub(){console.warn(deprecationWarning)}var Analytics=function(_e){__extends$1(et,_e);function et(tt,rt,nt,it,at){var ot=this,st,lt;ot=_e.call(this)||this,ot._debug=!1,ot.initialized=!1,ot.user=function(){return ot._user},ot.init=ot.initialize.bind(ot),ot.log=_stub,ot.addIntegrationMiddleware=_stub,ot.listeners=_stub,ot.addEventListener=_stub,ot.removeAllListeners=_stub,ot.removeListener=_stub,ot.removeEventListener=_stub,ot.hasListeners=_stub,ot.add=_stub,ot.addIntegration=_stub;var ct=rt==null?void 0:rt.cookie,ut=(st=rt==null?void 0:rt.disableClientPersistence)!==null&&st!==void 0?st:!1;ot.settings=new AnalyticsInstanceSettings(tt),ot.queue=nt??createDefaultQueue("".concat(tt.writeKey,":event-queue"),rt==null?void 0:rt.retryQueue,ut);var dt=rt==null?void 0:rt.storage;return ot._universalStorage=ot.createStore(ut,dt,ct),ot._user=it??new User(__assign({persist:!ut,storage:rt==null?void 0:rt.storage},rt==null?void 0:rt.user),ct).load(),ot._group=at??new Group$2(__assign({persist:!ut,storage:rt==null?void 0:rt.storage},rt==null?void 0:rt.group),ct).load(),ot.eventFactory=new EventFactory(ot._user),ot.integrations=(lt=rt==null?void 0:rt.integrations)!==null&&lt!==void 0?lt:{},ot.options=rt??{},bindAll(ot),ot}return et.prototype.createStore=function(tt,rt,nt){return tt?new UniversalStorage([new MemoryStorage]):rt&&isArrayOfStoreType(rt)?new UniversalStorage(initializeStorages(applyCookieOptions(rt.stores,nt))):new UniversalStorage(initializeStorages([StoreType.LocalStorage,{name:StoreType.Cookie,settings:nt},StoreType.Memory]))},Object.defineProperty(et.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),et.prototype.track=function(){for(var tt=[],rt=0;rt<arguments.length;rt++)tt[rt]=arguments[rt];return __awaiter(this,void 0,void 0,function(){var nt,it,at,ot,st,lt,ct,ut=this;return __generator(this,function(dt){return nt=popPageContext(tt),it=resolveArguments.apply(void 0,tt),at=it[0],ot=it[1],st=it[2],lt=it[3],ct=this.eventFactory.track(at,ot,st,this.integrations,nt),[2,this._dispatch(ct,lt).then(function(ft){return ut.emit("track",at,ft.event.properties,ft.event.options),ft})]})})},et.prototype.page=function(){for(var tt=[],rt=0;rt<arguments.length;rt++)tt[rt]=arguments[rt];return __awaiter(this,void 0,void 0,function(){var nt,it,at,ot,st,lt,ct,ut,dt=this;return __generator(this,function(ft){return nt=popPageContext(tt),it=resolvePageArguments.apply(void 0,tt),at=it[0],ot=it[1],st=it[2],lt=it[3],ct=it[4],ut=this.eventFactory.page(at,ot,st,lt,this.integrations,nt),[2,this._dispatch(ut,ct).then(function(pt){return dt.emit("page",at,ot,pt.event.properties,pt.event.options),pt})]})})},et.prototype.identify=function(){for(var tt=[],rt=0;rt<arguments.length;rt++)tt[rt]=arguments[rt];return __awaiter(this,void 0,void 0,function(){var nt,it,at,ot,st,lt,ct,ut=this;return __generator(this,function(dt){return nt=popPageContext(tt),it=resolveUserArguments(this._user).apply(void 0,tt),at=it[0],ot=it[1],st=it[2],lt=it[3],this._user.identify(at,ot),ct=this.eventFactory.identify(this._user.id(),this._user.traits(),st,this.integrations,nt),[2,this._dispatch(ct,lt).then(function(ft){return ut.emit("identify",ft.event.userId,ft.event.traits,ft.event.options),ft})]})})},et.prototype.group=function(){for(var tt=this,rt=[],nt=0;nt<arguments.length;nt++)rt[nt]=arguments[nt];var it=popPageContext(rt);if(rt.length===0)return this._group;var at=resolveUserArguments(this._group).apply(void 0,rt),ot=at[0],st=at[1],lt=at[2],ct=at[3];this._group.identify(ot,st);var ut=this._group.id(),dt=this._group.traits(),ft=this.eventFactory.group(ut,dt,lt,this.integrations,it);return this._dispatch(ft,ct).then(function(pt){return tt.emit("group",pt.event.groupId,pt.event.traits,pt.event.options),pt})},et.prototype.alias=function(){for(var tt=[],rt=0;rt<arguments.length;rt++)tt[rt]=arguments[rt];return __awaiter(this,void 0,void 0,function(){var nt,it,at,ot,st,lt,ct,ut=this;return __generator(this,function(dt){return nt=popPageContext(tt),it=resolveAliasArguments.apply(void 0,tt),at=it[0],ot=it[1],st=it[2],lt=it[3],ct=this.eventFactory.alias(at,ot,st,this.integrations,nt),[2,this._dispatch(ct,lt).then(function(ft){return ut.emit("alias",at,ot,ft.event.options),ft})]})})},et.prototype.screen=function(){for(var tt=[],rt=0;rt<arguments.length;rt++)tt[rt]=arguments[rt];return __awaiter(this,void 0,void 0,function(){var nt,it,at,ot,st,lt,ct,ut,dt=this;return __generator(this,function(ft){return nt=popPageContext(tt),it=resolvePageArguments.apply(void 0,tt),at=it[0],ot=it[1],st=it[2],lt=it[3],ct=it[4],ut=this.eventFactory.screen(at,ot,st,lt,this.integrations,nt),[2,this._dispatch(ut,ct).then(function(pt){return dt.emit("screen",at,ot,pt.event.properties,pt.event.options),pt})]})})},et.prototype.trackClick=function(){for(var tt=[],rt=0;rt<arguments.length;rt++)tt[rt]=arguments[rt];return __awaiter(this,void 0,void 0,function(){var nt,it;return __generator(this,function(at){switch(at.label){case 0:return[4,__vitePreload(()=>import("./auto-track-D4WzeV50.js"),[])];case 1:return nt=at.sent(),[2,(it=nt.link).call.apply(it,__spreadArray$1([this],tt,!1))]}})})},et.prototype.trackLink=function(){for(var tt=[],rt=0;rt<arguments.length;rt++)tt[rt]=arguments[rt];return __awaiter(this,void 0,void 0,function(){var nt,it;return __generator(this,function(at){switch(at.label){case 0:return[4,__vitePreload(()=>import("./auto-track-D4WzeV50.js"),[])];case 1:return nt=at.sent(),[2,(it=nt.link).call.apply(it,__spreadArray$1([this],tt,!1))]}})})},et.prototype.trackSubmit=function(){for(var tt=[],rt=0;rt<arguments.length;rt++)tt[rt]=arguments[rt];return __awaiter(this,void 0,void 0,function(){var nt,it;return __generator(this,function(at){switch(at.label){case 0:return[4,__vitePreload(()=>import("./auto-track-D4WzeV50.js"),[])];case 1:return nt=at.sent(),[2,(it=nt.form).call.apply(it,__spreadArray$1([this],tt,!1))]}})})},et.prototype.trackForm=function(){for(var tt=[],rt=0;rt<arguments.length;rt++)tt[rt]=arguments[rt];return __awaiter(this,void 0,void 0,function(){var nt,it;return __generator(this,function(at){switch(at.label){case 0:return[4,__vitePreload(()=>import("./auto-track-D4WzeV50.js"),[])];case 1:return nt=at.sent(),[2,(it=nt.form).call.apply(it,__spreadArray$1([this],tt,!1))]}})})},et.prototype.register=function(){for(var tt=[],rt=0;rt<arguments.length;rt++)tt[rt]=arguments[rt];return __awaiter(this,void 0,void 0,function(){var nt,it,at=this;return __generator(this,function(ot){switch(ot.label){case 0:return nt=Context.system(),it=tt.map(function(st){return at.queue.register(nt,st,at)}),[4,Promise.all(it)];case 1:return ot.sent(),[2,nt]}})})},et.prototype.deregister=function(){for(var tt=[],rt=0;rt<arguments.length;rt++)tt[rt]=arguments[rt];return __awaiter(this,void 0,void 0,function(){var nt,it,at=this;return __generator(this,function(ot){switch(ot.label){case 0:return nt=Context.system(),it=tt.map(function(st){var lt=at.queue.plugins.find(function(ct){return ct.name===st});if(lt)return at.queue.deregister(nt,lt,at);nt.log("warn","plugin ".concat(st," not found"))}),[4,Promise.all(it)];case 1:return ot.sent(),[2,nt]}})})},et.prototype.debug=function(tt){return tt===!1&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=tt,this},et.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},et.prototype.timeout=function(tt){this.settings.timeout=tt},et.prototype._dispatch=function(tt,rt){return __awaiter(this,void 0,void 0,function(){var nt;return __generator(this,function(it){return nt=new Context(tt),isOffline()&&!this.options.retryQueue?[2,nt]:[2,dispatch(nt,this.queue,this,{callback:rt,debug:this._debug,timeout:this.settings.timeout})]})})},et.prototype.addSourceMiddleware=function(tt){return __awaiter(this,void 0,void 0,function(){var rt=this;return __generator(this,function(nt){switch(nt.label){case 0:return[4,this.queue.criticalTasks.run(function(){return __awaiter(rt,void 0,void 0,function(){var it,at,ot;return __generator(this,function(st){switch(st.label){case 0:return[4,__vitePreload(()=>Promise.resolve().then(()=>index),void 0)];case 1:return it=st.sent().sourceMiddlewarePlugin,at={},this.queue.plugins.forEach(function(lt){if(lt.type==="destination")return at[lt.name]=!0}),ot=it(tt,at),[4,this.register(ot)];case 2:return st.sent(),[2]}})})})];case 1:return nt.sent(),[2,this]}})})},et.prototype.addDestinationMiddleware=function(tt){for(var rt=[],nt=1;nt<arguments.length;nt++)rt[nt-1]=arguments[nt];return this.queue.plugins.filter(isDestinationPluginWithAddMiddleware).forEach(function(it){(tt==="*"||it.name.toLowerCase()===tt.toLowerCase())&&it.addMiddleware.apply(it,rt)}),Promise.resolve(this)},et.prototype.setAnonymousId=function(tt){return this._user.anonymousId(tt)},et.prototype.queryString=function(tt){return __awaiter(this,void 0,void 0,function(){var rt;return __generator(this,function(nt){switch(nt.label){case 0:return this.options.useQueryString===!1?[2,[]]:[4,__vitePreload(()=>import("./index-Btd8UKUw.js"),[])];case 1:return rt=nt.sent().queryString,[2,rt(this,tt)]}})})},et.prototype.use=function(tt){return tt(this),this},et.prototype.ready=function(tt){return tt===void 0&&(tt=function(rt){return rt}),__awaiter(this,void 0,void 0,function(){return __generator(this,function(rt){return[2,Promise.all(this.queue.plugins.map(function(nt){return nt.ready?nt.ready():Promise.resolve()})).then(function(nt){return tt(nt),nt})]})})},et.prototype.noConflict=function(){return console.warn(deprecationWarning),setGlobalAnalytics(_analytics??this),this},et.prototype.normalize=function(tt){return console.warn(deprecationWarning),this.eventFactory.normalize(tt)},Object.defineProperty(et.prototype,"failedInitializations",{get:function(){return console.warn(deprecationWarning),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(et.prototype,"VERSION",{get:function(){return version$4},enumerable:!1,configurable:!0}),et.prototype.initialize=function(tt,rt){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(nt){return console.warn(deprecationWarning),[2,Promise.resolve(this)]})})},et.prototype.pageview=function(tt){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(rt){switch(rt.label){case 0:return console.warn(deprecationWarning),[4,this.page({path:tt})];case 1:return rt.sent(),[2,this]}})})},Object.defineProperty(et.prototype,"plugins",{get:function(){var tt;return console.warn(deprecationWarning),(tt=this._plugins)!==null&&tt!==void 0?tt:{}},enumerable:!1,configurable:!0}),Object.defineProperty(et.prototype,"Integrations",{get:function(){console.warn(deprecationWarning);var tt=this.queue.plugins.filter(function(rt){return rt.type==="destination"}).reduce(function(rt,nt){var it="".concat(nt.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),at=window[it];if(!at)return rt;var ot=at.Integration;return ot?(rt[nt.name]=ot,rt):(rt[nt.name]=at,rt)},{});return tt},enumerable:!1,configurable:!0}),et.prototype.push=function(tt){var rt=this,nt=tt.shift();nt&&!rt[nt]||rt[nt].apply(this,tt)},et}(Emitter),NullAnalytics=function(_e){__extends$1(et,_e);function et(){var tt=_e.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return tt.initialized=!0,tt}return et}(Analytics),define_process_env_default$1={};function getProcessEnv(){return typeof process>"u"||!define_process_env_default$1?{}:define_process_env_default$1}var analyticsScriptRegex=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,getCDNUrlFromScriptTag=function(){var _e,et=Array.prototype.slice.call(document.querySelectorAll("script"));return et.forEach(function(tt){var rt,nt=(rt=tt.getAttribute("src"))!==null&&rt!==void 0?rt:"",it=analyticsScriptRegex.exec(nt);it&&it[1]&&(_e=it[1])}),_e},_globalCDN,getGlobalCDNUrl=function(){var _e,et=_globalCDN??((_e=getGlobalAnalytics())===null||_e===void 0?void 0:_e._cdn);return et},setGlobalCDNUrl=function(_e){var et=getGlobalAnalytics();et&&(et._cdn=_e),_globalCDN=_e},getCDN=function(){var _e=getGlobalCDNUrl();if(_e)return _e;var et=getCDNUrlFromScriptTag();return et||"https://cdn.segment.com"},getNextIntegrationsURL=function(){var _e=getCDN();return"".concat(_e,"/next-integrations")};function mergedOptions(_e,et){var tt,rt=Object.entries((tt=et.integrations)!==null&&tt!==void 0?tt:{}).reduce(function(nt,it){var at,ot,st=it[0],lt=it[1];return typeof lt=="object"?__assign(__assign({},nt),(at={},at[st]=lt,at)):__assign(__assign({},nt),(ot={},ot[st]={},ot))},{});return Object.entries(_e.integrations).reduce(function(nt,it){var at,ot=it[0],st=it[1];return __assign(__assign({},nt),(at={},at[ot]=__assign(__assign({},st),rt[ot]),at))},{})}function gracefulDecodeURIComponent(_e){try{return decodeURIComponent(_e.replace(/\+/g," "))}catch{return _e}}function clientHints(_e){return __awaiter(this,void 0,void 0,function(){var et;return __generator(this,function(tt){return et=navigator.userAgentData,et?_e?[2,et.getHighEntropyValues(_e).catch(function(){return et.toJSON()})]:[2,et.toJSON()]:[2,void 0]})})}var cookieOptions;function getCookieOptions(){if(cookieOptions)return cookieOptions;var _e=tld(window.location.href);return cookieOptions={expires:31536e6,secure:!1,path:"/"},_e&&(cookieOptions.domain=_e),cookieOptions}function ads(_e){var et={btid:"dataxu",urid:"millennial-media"};_e.startsWith("?")&&(_e=_e.substring(1)),_e=_e.replace(/\?/g,"&");for(var tt=_e.split("&"),rt=0,nt=tt;rt<nt.length;rt++){var it=nt[rt],at=it.split("="),ot=at[0],st=at[1];if(et[ot])return{id:st,type:et[ot]}}}function utm(_e){return _e.startsWith("?")&&(_e=_e.substring(1)),_e=_e.replace(/\?/g,"&"),_e.split("&").reduce(function(et,tt){var rt=tt.split("="),nt=rt[0],it=rt[1],at=it===void 0?"":it;if(nt.includes("utm_")&&nt.length>4){var ot=nt.slice(4);ot==="campaign"&&(ot="name"),et[ot]=gracefulDecodeURIComponent(at)}return et},{})}function ampId(){var _e=api$1.get("_ga");if(_e&&_e.startsWith("amp"))return _e}function referrerId(_e,et,tt){var rt,nt=new UniversalStorage(tt?[]:[new CookieStorage(getCookieOptions())]),it=nt.get("s:context.referrer"),at=(rt=ads(_e))!==null&&rt!==void 0?rt:it;at&&(et&&(et.referrer=__assign(__assign({},et.referrer),at)),nt.set("s:context.referrer",at))}var objectToQueryString=function(_e){try{var et=new URLSearchParams;return Object.entries(_e).forEach(function(tt){var rt=tt[0],nt=tt[1];Array.isArray(nt)?nt.forEach(function(it){return et.append(rt,it)}):et.append(rt,nt)}),et.toString()}catch{return""}},EnvironmentEnrichmentPlugin=function(){function _e(){var et=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(tt,rt){return __awaiter(et,void 0,void 0,function(){var nt;return __generator(this,function(it){switch(it.label){case 0:this.instance=rt,it.label=1;case 1:return it.trys.push([1,3,,4]),nt=this,[4,clientHints(this.instance.options.highEntropyValuesClientHints)];case 2:return nt.userAgentData=it.sent(),[3,4];case 3:return it.sent(),[3,4];case 4:return[2,Promise.resolve()]}})})},this.enrich=function(tt){var rt,nt,it=tt.event.context,at=it.page.search||"",ot=typeof at=="object"?objectToQueryString(at):at;it.userAgent=navigator.userAgent,it.userAgentData=et.userAgentData;var st=navigator.userLanguage||navigator.language;typeof it.locale>"u"&&typeof st<"u"&&(it.locale=st),(rt=it.library)!==null&&rt!==void 0||(it.library={name:"analytics.js",version:"".concat("npm:next","-").concat(version$4)}),ot&&!it.campaign&&(it.campaign=utm(ot));var lt=ampId();lt&&(it.amp={id:lt}),referrerId(ot,it,(nt=et.instance.options.disableClientPersistence)!==null&&nt!==void 0?nt:!1);try{it.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return tt},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich}return _e}(),envEnrichment=new EnvironmentEnrichmentPlugin;function findScript(_e){var et=Array.prototype.slice.call(window.document.querySelectorAll("script"));return et.find(function(tt){return tt.src===_e})}function loadScript(_e,et){var tt=findScript(_e);if(tt!==void 0){var rt=tt==null?void 0:tt.getAttribute("status");if(rt==="loaded")return Promise.resolve(tt);if(rt==="loading")return new Promise(function(nt,it){tt.addEventListener("load",function(){return nt(tt)}),tt.addEventListener("error",function(at){return it(at)})})}return new Promise(function(nt,it){var at,ot=window.document.createElement("script");ot.type="text/javascript",ot.src=_e,ot.async=!0,ot.setAttribute("status","loading");for(var st=0,lt=Object.entries({});st<lt.length;st++){var ct=lt[st],ut=ct[0],dt=ct[1];ot.setAttribute(ut,dt)}ot.onload=function(){ot.onerror=ot.onload=null,ot.setAttribute("status","loaded"),nt(ot)},ot.onerror=function(){ot.onerror=ot.onload=null,ot.setAttribute("status","error"),it(new Error("Failed to load ".concat(_e)))};var ft=window.document.querySelector("script");ft?(at=ft.parentElement)===null||at===void 0||at.insertBefore(ot,ft):window.document.head.appendChild(ot)})}function unloadScript(_e){var et=findScript(_e);return et!==void 0&&et.remove(),Promise.resolve()}var dist={},facade={},address={},objCase={exports:{}};(function(_e){_e.exports=et(tt),_e.exports.find=_e.exports,_e.exports.replace=function(ot,st,lt,ct){return et(nt).call(this,ot,st,lt,ct),ot},_e.exports.del=function(ot,st,lt){return et(rt).call(this,ot,st,null,lt),ot};function et(ot){return function(st,lt,ct,ut){var dt=ut&&at(ut.normalizer)?ut.normalizer:it;lt=dt(lt);for(var ft,pt=!1;!pt;)ht();function ht(){for(ft in st){var yt=dt(ft);if(lt.indexOf(yt)===0){var mt=lt.substr(yt.length);if(mt.charAt(0)==="."||mt.length===0){lt=mt.substr(1);var gt=st[ft];if(gt==null){pt=!0;return}if(!lt.length){pt=!0;return}st=gt;return}}}ft=void 0,pt=!0}if(ft)return st==null?st:ot(st,ft,ct)}}function tt(ot,st){if(ot.hasOwnProperty(st))return ot[st]}function rt(ot,st){return ot.hasOwnProperty(st)&&delete ot[st],ot}function nt(ot,st,lt){return ot.hasOwnProperty(st)&&(ot[st]=lt),ot}function it(ot){return ot.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function at(ot){return typeof ot=="function"}})(objCase);var objCaseExports=objCase.exports,__importDefault$8=commonjsGlobal&&commonjsGlobal.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(address,"__esModule",{value:!0});var obj_case_1$3=__importDefault$8(objCaseExports);function trait(_e,et){return function(){var tt=this.traits(),rt=this.properties?this.properties():{};return obj_case_1$3.default(tt,"address."+_e)||obj_case_1$3.default(tt,_e)||(et?obj_case_1$3.default(tt,"address."+et):null)||(et?obj_case_1$3.default(tt,et):null)||obj_case_1$3.default(rt,"address."+_e)||obj_case_1$3.default(rt,_e)||(et?obj_case_1$3.default(rt,"address."+et):null)||(et?obj_case_1$3.default(rt,et):null)}}function default_1$1(_e){_e.zip=trait("postalCode","zip"),_e.country=trait("country"),_e.street=trait("street"),_e.state=trait("state"),_e.city=trait("city"),_e.region=trait("region")}address.default=default_1$1;var clone$3={};Object.defineProperty(clone$3,"__esModule",{value:!0});clone$3.clone=void 0;function clone$2(_e){if(typeof _e!="object")return _e;if(Object.prototype.toString.call(_e)==="[object Object]"){var et={};for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&(et[tt]=clone$2(_e[tt]));return et}else return Array.isArray(_e)?_e.map(clone$2):_e}clone$3.clone=clone$2;var isEnabled={};Object.defineProperty(isEnabled,"__esModule",{value:!0});var disabled={Salesforce:!0};function default_1(_e){return!disabled[_e]}isEnabled.default=default_1;var lib$4={},matcher$3=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;lib$4.parse=function(_e){var et=[1,5,6,7,11,12],tt=matcher$3.exec(_e),rt=0;if(!tt)return new Date(_e);for(var nt=0,it;it=et[nt];nt++)tt[it]=parseInt(tt[it],10)||0;tt[2]=parseInt(tt[2],10)||1,tt[3]=parseInt(tt[3],10)||1,tt[2]--,tt[8]=tt[8]?(tt[8]+"00").substring(0,3):0,tt[4]===" "?rt=new Date().getTimezoneOffset():tt[9]!=="Z"&&tt[10]&&(rt=tt[11]*60+tt[12],tt[10]==="+"&&(rt=0-rt));var at=Date.UTC(tt[1],tt[2],tt[3],tt[5],tt[6]+rt,tt[7],tt[8]);return new Date(at)};lib$4.is=function(_e,et){return typeof _e!="string"||et&&/^\d{4}-\d{2}-\d{2}/.test(_e)===!1?!1:matcher$3.test(_e)};var milliseconds$1={},matcher$2=/\d{13}/;milliseconds$1.is=function(_e){return matcher$2.test(_e)};milliseconds$1.parse=function(_e){return _e=parseInt(_e,10),new Date(_e)};var seconds$1={},matcher$1=/\d{10}/;seconds$1.is=function(_e){return matcher$1.test(_e)};seconds$1.parse=function(_e){var et=parseInt(_e,10)*1e3;return new Date(et)};var isodate$1=lib$4,milliseconds=milliseconds$1,seconds=seconds$1,objProto=Object.prototype,toStr=objProto.toString;function isDate$2(_e){return toStr.call(_e)==="[object Date]"}function isNumber$1(_e){return toStr.call(_e)==="[object Number]"}var lib$3=function _e(et){return isDate$2(et)?et:isNumber$1(et)?new Date(toMs(et)):isodate$1.is(et)?isodate$1.parse(et):milliseconds.is(et)?milliseconds.parse(et):seconds.is(et)?seconds.parse(et):new Date(et)};function toMs(_e){return _e<315576e5?_e*1e3:_e}var isodate=lib$4,lib$2=traverse;function traverse(_e,et){return et===void 0&&(et=!0),_e&&typeof _e=="object"?traverseObject(_e,et):Array.isArray(_e)?traverseArray(_e,et):isodate.is(_e,et)?isodate.parse(_e):_e}function traverseObject(_e,et){return Object.keys(_e).forEach(function(tt){_e[tt]=traverse(_e[tt],et)}),_e}function traverseArray(_e,et){return _e.forEach(function(tt,rt){_e[rt]=traverse(tt,et)}),_e}var __importDefault$7=commonjsGlobal&&commonjsGlobal.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(facade,"__esModule",{value:!0});facade.Facade=void 0;var address_1=__importDefault$7(address),clone_1=clone$3,is_enabled_1=__importDefault$7(isEnabled),new_date_1$2=__importDefault$7(lib$3),obj_case_1$2=__importDefault$7(objCaseExports),isodate_traverse_1=__importDefault$7(lib$2);function Facade(_e,et){et=et||{},this.raw=clone_1.clone(_e),"clone"in et||(et.clone=!0),et.clone&&(_e=clone_1.clone(_e)),"traverse"in et||(et.traverse=!0),"timestamp"in _e?_e.timestamp=new_date_1$2.default(_e.timestamp):_e.timestamp=new Date,et.traverse&&isodate_traverse_1.default(_e),this.opts=et,this.obj=_e}facade.Facade=Facade;var f=Facade.prototype;f.proxy=function(_e){var et=_e.split(".");_e=et.shift();var tt=this[_e]||this.obj[_e];return tt&&(typeof tt=="function"&&(tt=tt.call(this)||{}),et.length===0?this.opts.clone?transform(tt):tt:(tt=obj_case_1$2.default(tt,et.join(".")),this.opts.clone?transform(tt):tt))};f.field=function(_e){var et=this.obj[_e];return this.opts.clone?transform(et):et};Facade.proxy=function(_e){return function(){return this.proxy(_e)}};Facade.field=function(_e){return function(){return this.field(_e)}};Facade.multi=function(_e){return function(){var et=this.proxy(_e+"s");if(Array.isArray(et))return et;var tt=this.proxy(_e);return tt&&(tt=[this.opts.clone?clone_1.clone(tt):tt]),tt||[]}};Facade.one=function(_e){return function(){var et=this.proxy(_e);if(et)return et;var tt=this.proxy(_e+"s");if(Array.isArray(tt))return tt[0]}};f.json=function(){var _e=this.opts.clone?clone_1.clone(this.obj):this.obj;return this.type&&(_e.type=this.type()),_e};f.rawEvent=function(){return this.raw};f.options=function(_e){var et=this.obj.options||this.obj.context||{},tt=this.opts.clone?clone_1.clone(et):et;if(!_e)return tt;if(this.enabled(_e)){var rt=this.integrations(),nt=rt[_e]||obj_case_1$2.default(rt,_e);return typeof nt!="object"&&(nt=obj_case_1$2.default(this.options(),_e)),typeof nt=="object"?nt:{}}};f.context=f.options;f.enabled=function(_e){var et=this.proxy("options.providers.all");typeof et!="boolean"&&(et=this.proxy("options.all")),typeof et!="boolean"&&(et=this.proxy("integrations.all")),typeof et!="boolean"&&(et=!0);var tt=et&&is_enabled_1.default(_e),rt=this.integrations();if(rt.providers&&rt.providers.hasOwnProperty(_e)&&(tt=rt.providers[_e]),rt.hasOwnProperty(_e)){var nt=rt[_e];typeof nt=="boolean"?tt=nt:tt=!0}return!!tt};f.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()};f.active=function(){var _e=this.proxy("options.active");return _e==null&&(_e=!0),_e};f.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")};f.sessionId=f.anonymousId;f.groupId=Facade.proxy("options.groupId");f.traits=function(_e){var et=this.proxy("options.traits")||{},tt=this.userId();_e=_e||{},tt&&(et.id=tt);for(var rt in _e)if(Object.prototype.hasOwnProperty.call(_e,rt)){var nt=this[rt]==null?this.proxy("options.traits."+rt):this[rt]();if(nt==null)continue;et[_e[rt]]=nt,delete et[rt]}return et};f.library=function(){var _e=this.proxy("options.library");return _e?typeof _e=="string"?{name:_e,version:null}:_e:{name:"unknown",version:null}};f.device=function(){var _e=this.proxy("context.device");(typeof _e!="object"||_e===null)&&(_e={});var et=this.library().name;return _e.type||(et.indexOf("ios")>-1&&(_e.type="ios"),et.indexOf("android")>-1&&(_e.type="android")),_e};f.userAgent=Facade.proxy("context.userAgent");f.timezone=Facade.proxy("context.timezone");f.timestamp=Facade.field("timestamp");f.channel=Facade.field("channel");f.ip=Facade.proxy("context.ip");f.userId=Facade.field("userId");address_1.default(f);function transform(_e){return clone_1.clone(_e)}var alias={},inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(et,tt){tt&&(et.super_=tt,et.prototype=Object.create(tt.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(et,tt){if(tt){et.super_=tt;var rt=function(){};rt.prototype=tt.prototype,et.prototype=new rt,et.prototype.constructor=et}};var inherits_browserExports=inherits_browser.exports,__importDefault$6=commonjsGlobal&&commonjsGlobal.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(alias,"__esModule",{value:!0});alias.Alias=void 0;var inherits_1$6=__importDefault$6(inherits_browserExports),facade_1$5=facade;function Alias(_e,et){facade_1$5.Facade.call(this,_e,et)}alias.Alias=Alias;inherits_1$6.default(Alias,facade_1$5.Facade);Alias.prototype.action=function(){return"alias"};Alias.prototype.type=Alias.prototype.action;Alias.prototype.previousId=function(){return this.field("previousId")||this.field("from")};Alias.prototype.from=Alias.prototype.previousId;Alias.prototype.userId=function(){return this.field("userId")||this.field("to")};Alias.prototype.to=Alias.prototype.userId;var group={},isEmail$1={};Object.defineProperty(isEmail$1,"__esModule",{value:!0});var matcher=/.+\@.+\..+/;function isEmail(_e){return matcher.test(_e)}isEmail$1.default=isEmail;var __importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(group,"__esModule",{value:!0});group.Group=void 0;var inherits_1$5=__importDefault$5(inherits_browserExports),is_email_1$3=__importDefault$5(isEmail$1),new_date_1$1=__importDefault$5(lib$3),facade_1$4=facade;function Group$1(_e,et){facade_1$4.Facade.call(this,_e,et)}group.Group=Group$1;inherits_1$5.default(Group$1,facade_1$4.Facade);var g=Group$1.prototype;g.action=function(){return"group"};g.type=g.action;g.groupId=facade_1$4.Facade.field("groupId");g.created=function(){var _e=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(_e)return new_date_1$1.default(_e)};g.email=function(){var _e=this.proxy("traits.email");if(_e)return _e;var et=this.groupId();if(is_email_1$3.default(et))return et};g.traits=function(_e){var et=this.properties(),tt=this.groupId();_e=_e||{},tt&&(et.id=tt);for(var rt in _e)if(Object.prototype.hasOwnProperty.call(_e,rt)){var nt=this[rt]==null?this.proxy("traits."+rt):this[rt]();if(nt==null)continue;et[_e[rt]]=nt,delete et[rt]}return et};g.name=facade_1$4.Facade.proxy("traits.name");g.industry=facade_1$4.Facade.proxy("traits.industry");g.employees=facade_1$4.Facade.proxy("traits.employees");g.properties=function(){return this.field("traits")||this.field("properties")||{}};var identify={},__importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(identify,"__esModule",{value:!0});identify.Identify=void 0;var facade_1$3=facade,obj_case_1$1=__importDefault$4(objCaseExports),inherits_1$4=__importDefault$4(inherits_browserExports),is_email_1$2=__importDefault$4(isEmail$1),new_date_1=__importDefault$4(lib$3),trim$1=function(_e){return _e.trim()};function Identify(_e,et){facade_1$3.Facade.call(this,_e,et)}identify.Identify=Identify;inherits_1$4.default(Identify,facade_1$3.Facade);var i$1=Identify.prototype;i$1.action=function(){return"identify"};i$1.type=i$1.action;i$1.traits=function(_e){var et=this.field("traits")||{},tt=this.userId();_e=_e||{},tt&&(et.id=tt);for(var rt in _e){var nt=this[rt]==null?this.proxy("traits."+rt):this[rt]();nt!=null&&(et[_e[rt]]=nt,rt!==_e[rt]&&delete et[rt])}return et};i$1.email=function(){var _e=this.proxy("traits.email");if(_e)return _e;var et=this.userId();if(is_email_1$2.default(et))return et};i$1.created=function(){var _e=this.proxy("traits.created")||this.proxy("traits.createdAt");if(_e)return new_date_1.default(_e)};i$1.companyCreated=function(){var _e=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(_e)return new_date_1.default(_e)};i$1.companyName=function(){return this.proxy("traits.company.name")};i$1.name=function(){var _e=this.proxy("traits.name");if(typeof _e=="string")return trim$1(_e);var et=this.firstName(),tt=this.lastName();if(et&&tt)return trim$1(et+" "+tt)};i$1.firstName=function(){var _e=this.proxy("traits.firstName");if(typeof _e=="string")return trim$1(_e);var et=this.proxy("traits.name");if(typeof et=="string")return trim$1(et).split(" ")[0]};i$1.lastName=function(){var _e=this.proxy("traits.lastName");if(typeof _e=="string")return trim$1(_e);var et=this.proxy("traits.name");if(typeof et=="string"){var tt=trim$1(et).indexOf(" ");if(tt!==-1)return trim$1(et.substr(tt+1))}};i$1.uid=function(){return this.userId()||this.username()||this.email()};i$1.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")};i$1.age=function(){var _e=this.birthday(),et=obj_case_1$1.default(this.traits(),"age");if(et!=null)return et;if(_e instanceof Date){var tt=new Date;return tt.getFullYear()-_e.getFullYear()}};i$1.avatar=function(){var _e=this.traits();return obj_case_1$1.default(_e,"avatar")||obj_case_1$1.default(_e,"photoUrl")||obj_case_1$1.default(_e,"avatarUrl")};i$1.position=function(){var _e=this.traits();return obj_case_1$1.default(_e,"position")||obj_case_1$1.default(_e,"jobTitle")};i$1.username=facade_1$3.Facade.proxy("traits.username");i$1.website=facade_1$3.Facade.one("traits.website");i$1.websites=facade_1$3.Facade.multi("traits.website");i$1.phone=facade_1$3.Facade.one("traits.phone");i$1.phones=facade_1$3.Facade.multi("traits.phone");i$1.address=facade_1$3.Facade.proxy("traits.address");i$1.gender=facade_1$3.Facade.proxy("traits.gender");i$1.birthday=facade_1$3.Facade.proxy("traits.birthday");var track={},__importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(track,"__esModule",{value:!0});track.Track=void 0;var inherits_1$3=__importDefault$3(inherits_browserExports),facade_1$2=facade,identify_1=identify,is_email_1$1=__importDefault$3(isEmail$1),obj_case_1=__importDefault$3(objCaseExports);function Track(_e,et){facade_1$2.Facade.call(this,_e,et)}track.Track=Track;inherits_1$3.default(Track,facade_1$2.Facade);var t=Track.prototype;t.action=function(){return"track"};t.type=t.action;t.event=facade_1$2.Facade.field("event");t.value=facade_1$2.Facade.proxy("properties.value");t.category=facade_1$2.Facade.proxy("properties.category");t.id=facade_1$2.Facade.proxy("properties.id");t.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")};t.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")};t.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")};t.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")};t.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")};t.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")};t.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")};t.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")};t.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")};t.sku=facade_1$2.Facade.proxy("properties.sku");t.tax=facade_1$2.Facade.proxy("properties.tax");t.name=facade_1$2.Facade.proxy("properties.name");t.price=facade_1$2.Facade.proxy("properties.price");t.total=facade_1$2.Facade.proxy("properties.total");t.repeat=facade_1$2.Facade.proxy("properties.repeat");t.coupon=facade_1$2.Facade.proxy("properties.coupon");t.shipping=facade_1$2.Facade.proxy("properties.shipping");t.discount=facade_1$2.Facade.proxy("properties.discount");t.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")};t.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")};t.description=facade_1$2.Facade.proxy("properties.description");t.plan=facade_1$2.Facade.proxy("properties.plan");t.subtotal=function(){var _e=obj_case_1.default(this.properties(),"subtotal"),et=this.total()||this.revenue();if(_e)return _e;if(!et)return 0;if(this.total()){var tt=this.tax();tt&&(et-=tt),tt=this.shipping(),tt&&(et-=tt),tt=this.discount(),tt&&(et+=tt)}return et};t.products=function(){var _e=this.properties(),et=obj_case_1.default(_e,"products");return Array.isArray(et)?et.filter(function(tt){return tt!==null}):[]};t.quantity=function(){var _e=this.obj.properties||{};return _e.quantity||1};t.currency=function(){var _e=this.obj.properties||{};return _e.currency||"USD"};t.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};t.query=facade_1$2.Facade.proxy("options.query");t.properties=function(_e){var et=this.field("properties")||{};_e=_e||{};for(var tt in _e)if(Object.prototype.hasOwnProperty.call(_e,tt)){var rt=this[tt]==null?this.proxy("properties."+tt):this[tt]();if(rt==null)continue;et[_e[tt]]=rt,delete et[tt]}return et};t.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()};t.email=function(){var _e=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(_e)return _e;var et=this.userId();if(is_email_1$1.default(et))return et};t.revenue=function(){var _e=this.proxy("properties.revenue"),et=this.event(),tt=/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;return!_e&&et&&et.match(tt)&&(_e=this.proxy("properties.total")),currency(_e)};t.cents=function(){var _e=this.revenue();return typeof _e!="number"?this.value()||0:_e*100};t.identify=function(){var _e=this.json();return _e.traits=this.traits(),new identify_1.Identify(_e,this.opts)};function currency(_e){if(_e){if(typeof _e=="number")return _e;if(typeof _e=="string"&&(_e=_e.replace(/\$/g,""),_e=parseFloat(_e),!isNaN(_e)))return _e}}var page={},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(page,"__esModule",{value:!0});page.Page=void 0;var inherits_1$2=__importDefault$2(inherits_browserExports),facade_1$1=facade,track_1$1=track,is_email_1=__importDefault$2(isEmail$1);function Page$1(_e,et){facade_1$1.Facade.call(this,_e,et)}page.Page=Page$1;inherits_1$2.default(Page$1,facade_1$1.Facade);var p=Page$1.prototype;p.action=function(){return"page"};p.type=p.action;p.category=facade_1$1.Facade.field("category");p.name=facade_1$1.Facade.field("name");p.title=facade_1$1.Facade.proxy("properties.title");p.path=facade_1$1.Facade.proxy("properties.path");p.url=facade_1$1.Facade.proxy("properties.url");p.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};p.properties=function(_e){var et=this.field("properties")||{},tt=this.category(),rt=this.name();_e=_e||{},tt&&(et.category=tt),rt&&(et.name=rt);for(var nt in _e)if(Object.prototype.hasOwnProperty.call(_e,nt)){var it=this[nt]==null?this.proxy("properties."+nt):this[nt]();if(it==null)continue;et[_e[nt]]=it,nt!==_e[nt]&&delete et[nt]}return et};p.email=function(){var _e=this.proxy("context.traits.email")||this.proxy("properties.email");if(_e)return _e;var et=this.userId();if(is_email_1.default(et))return et};p.fullName=function(){var _e=this.category(),et=this.name();return et&&_e?_e+" "+et:et};p.event=function(_e){return _e?"Viewed "+_e+" Page":"Loaded a Page"};p.track=function(_e){var et=this.json();return et.event=this.event(_e),et.timestamp=this.timestamp(),et.properties=this.properties(),new track_1$1.Track(et,this.opts)};var screen={},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(screen,"__esModule",{value:!0});screen.Screen=void 0;var inherits_1$1=__importDefault$1(inherits_browserExports),page_1=page,track_1=track;function Screen(_e,et){page_1.Page.call(this,_e,et)}screen.Screen=Screen;inherits_1$1.default(Screen,page_1.Page);Screen.prototype.action=function(){return"screen"};Screen.prototype.type=Screen.prototype.action;Screen.prototype.event=function(_e){return _e?"Viewed "+_e+" Screen":"Loaded a Screen"};Screen.prototype.track=function(_e){var et=this.json();return et.event=this.event(_e),et.timestamp=this.timestamp(),et.properties=this.properties(),new track_1.Track(et,this.opts)};var _delete={},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(_delete,"__esModule",{value:!0});_delete.Delete=void 0;var inherits_1=__importDefault(inherits_browserExports),facade_1=facade;function Delete(_e,et){facade_1.Facade.call(this,_e,et)}_delete.Delete=Delete;inherits_1.default(Delete,facade_1.Facade);Delete.prototype.type=function(){return"delete"};(function(_e){var et=commonjsGlobal&&commonjsGlobal.__assign||function(){return et=Object.assign||function(ct){for(var ut,dt=1,ft=arguments.length;dt<ft;dt++){ut=arguments[dt];for(var pt in ut)Object.prototype.hasOwnProperty.call(ut,pt)&&(ct[pt]=ut[pt])}return ct},et.apply(this,arguments)};Object.defineProperty(_e,"__esModule",{value:!0}),_e.Delete=_e.Screen=_e.Page=_e.Track=_e.Identify=_e.Group=_e.Alias=_e.Facade=void 0;var tt=facade;Object.defineProperty(_e,"Facade",{enumerable:!0,get:function(){return tt.Facade}});var rt=alias;Object.defineProperty(_e,"Alias",{enumerable:!0,get:function(){return rt.Alias}});var nt=group;Object.defineProperty(_e,"Group",{enumerable:!0,get:function(){return nt.Group}});var it=identify;Object.defineProperty(_e,"Identify",{enumerable:!0,get:function(){return it.Identify}});var at=track;Object.defineProperty(_e,"Track",{enumerable:!0,get:function(){return at.Track}});var ot=page;Object.defineProperty(_e,"Page",{enumerable:!0,get:function(){return ot.Page}});var st=screen;Object.defineProperty(_e,"Screen",{enumerable:!0,get:function(){return st.Screen}});var lt=_delete;Object.defineProperty(_e,"Delete",{enumerable:!0,get:function(){return lt.Delete}}),_e.default=et(et({},tt.Facade),{Alias:rt.Alias,Group:nt.Group,Identify:it.Identify,Track:at.Track,Page:ot.Page,Screen:st.Screen,Delete:lt.Delete})})(dist);function toFacade(_e,et){var tt=new dist.Facade(_e,et);return _e.type==="track"&&(tt=new dist.Track(_e,et)),_e.type==="identify"&&(tt=new dist.Identify(_e,et)),_e.type==="page"&&(tt=new dist.Page(_e,et)),_e.type==="alias"&&(tt=new dist.Alias(_e,et)),_e.type==="group"&&(tt=new dist.Group(_e,et)),_e.type==="screen"&&(tt=new dist.Screen(_e,et)),Object.defineProperty(tt,"obj",{value:_e,writable:!0}),tt}function applyDestinationMiddleware(_e,et,tt){return __awaiter(this,void 0,void 0,function(){function rt(lt,ct){return __awaiter(this,void 0,void 0,function(){var ut,dt,ft;return __generator(this,function(pt){switch(pt.label){case 0:return ut=!1,dt=null,[4,ct({payload:toFacade(lt,{clone:!0,traverse:!1}),integration:_e,next:function(ht){ut=!0,ht===null&&(dt=null),ht&&(dt=ht.obj)}})];case 1:return pt.sent(),!ut&&dt!==null&&(dt=dt,dt.integrations=__assign(__assign({},lt.integrations),(ft={},ft[_e]=!1,ft))),[2,dt]}})})}var nt,it,at,ot,st;return __generator(this,function(lt){switch(lt.label){case 0:nt=toFacade(et,{clone:!0,traverse:!1}).rawEvent(),it=0,at=tt,lt.label=1;case 1:return it<at.length?(ot=at[it],[4,rt(nt,ot)]):[3,4];case 2:if(st=lt.sent(),st===null)return[2,null];nt=st,lt.label=3;case 3:return it++,[3,1];case 4:return[2,nt]}})})}function sourceMiddlewarePlugin(_e,et){function tt(rt){return __awaiter(this,void 0,void 0,function(){var nt;return __generator(this,function(it){switch(it.label){case 0:return nt=!1,[4,_e({payload:toFacade(rt.event,{clone:!0,traverse:!1}),integrations:et??{},next:function(at){nt=!0,at&&(rt.event=at.obj)}})];case 1:if(it.sent(),!nt)throw new ContextCancelation({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,rt]}})})}return{name:"Source Middleware ".concat(_e.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(rt){return Promise.resolve(rt)},track:tt,page:tt,identify:tt,alias:tt,group:tt}}const index=Object.freeze(Object.defineProperty({__proto__:null,applyDestinationMiddleware,sourceMiddlewarePlugin},Symbol.toStringTag,{value:"Module"}));function recordIntegrationMetric(_e,et){var tt=et.methodName,rt=et.integrationName,nt=et.type,it=et.didError,at=it===void 0?!1:it;_e.stats.increment("analytics_js.integration.invoke".concat(at?".error":""),1,["method:".concat(tt),"integration_name:".concat(rt),"type:".concat(nt)])}var ActionDestination=function(){function _e(et,tt){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=createDeferred(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=tt,this.name=et,this.type=tt.type,this.alternativeNames.push(tt.name)}return _e.prototype.addMiddleware=function(){for(var et,tt=[],rt=0;rt<arguments.length;rt++)tt[rt]=arguments[rt];this.type==="destination"&&(et=this.middleware).push.apply(et,tt)},_e.prototype.transform=function(et){return __awaiter(this,void 0,void 0,function(){var tt;return __generator(this,function(rt){switch(rt.label){case 0:return[4,applyDestinationMiddleware(this.name,et.event,this.middleware)];case 1:return tt=rt.sent(),tt===null&&et.cancel(new ContextCancelation({retry:!1,reason:"dropped by destination middleware"})),[2,new Context(tt)]}})})},_e.prototype._createMethod=function(et){var tt=this;return function(rt){return __awaiter(tt,void 0,void 0,function(){var nt,it;return __generator(this,function(at){switch(at.label){case 0:return this.action[et]?(nt=rt,this.type!=="destination"?[3,2]:[4,this.transform(rt)]):[2,rt];case 1:nt=at.sent(),at.label=2;case 2:return at.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!at.sent())throw new Error("Something prevented the destination from getting ready");return recordIntegrationMetric(rt,{integrationName:this.action.name,methodName:et,type:"action"}),[4,this.action[et](nt)];case 4:return at.sent(),[3,6];case 5:throw it=at.sent(),recordIntegrationMetric(rt,{integrationName:this.action.name,methodName:et,type:"action",didError:!0}),it;case 6:return[2,rt]}})})}},_e.prototype.isLoaded=function(){return this.action.isLoaded()},_e.prototype.ready=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(et){switch(et.label){case 0:return et.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return et.sent(),[2,!0];case 2:return et.sent(),[2,!1];case 3:return[2]}})})},_e.prototype.load=function(et,tt){return __awaiter(this,void 0,void 0,function(){var rt,nt,it,at;return __generator(this,function(ot){switch(ot.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];ot.label=1;case 1:return ot.trys.push([1,3,,4]),recordIntegrationMetric(et,{integrationName:this.action.name,methodName:"load",type:"action"}),rt=this.action.load(et,tt),it=(nt=this.loadPromise).resolve,[4,rt];case 2:return it.apply(nt,[ot.sent()]),[2,rt];case 3:throw at=ot.sent(),recordIntegrationMetric(et,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(at),at;case 4:return[2]}})})},_e.prototype.unload=function(et,tt){var rt,nt;return(nt=(rt=this.action).unload)===null||nt===void 0?void 0:nt.call(rt,et,tt)},_e}();function validate$1(_e){if(!Array.isArray(_e))throw new Error("Not a valid list of plugins");var et=["load","isLoaded","name","version","type"];return _e.forEach(function(tt){et.forEach(function(rt){var nt;if(tt[rt]===void 0)throw new Error("Plugin: ".concat((nt=tt.name)!==null&&nt!==void 0?nt:"unknown"," missing required function ").concat(rt))})}),!0}function isPluginDisabled(_e,et){var tt=_e[et.creationName],rt=_e[et.name];return _e.All===!1&&!tt&&!rt||tt===!1||rt===!1}function loadPluginFactory(_e,et){return __awaiter(this,void 0,void 0,function(){var tt,rt,nt,it,at,ot;return __generator(this,function(st){switch(st.label){case 0:if(st.trys.push([0,9,,10]),tt=new RegExp("https://cdn.segment.(com|build)"),rt=getCDN(),!et)return[3,6];nt=_e.url.split("/"),it=nt[nt.length-2],at=_e.url.replace(it,btoa(it).replace(/=/g,"")),st.label=1;case 1:return st.trys.push([1,3,,5]),[4,loadScript(at.replace(tt,rt))];case 2:return st.sent(),[3,5];case 3:return st.sent(),[4,loadScript(_e.url.replace(tt,rt))];case 4:return st.sent(),[3,5];case 5:return[3,8];case 6:return[4,loadScript(_e.url.replace(tt,rt))];case 7:st.sent(),st.label=8;case 8:return typeof window[_e.libraryName]=="function"?[2,window[_e.libraryName]]:[3,10];case 9:throw ot=st.sent(),console.error("Failed to create PluginFactory",_e),ot;case 10:return[2]}})})}function remoteLoader(_e,et,tt,rt,nt,it){var at,ot,st;return __awaiter(this,void 0,void 0,function(){var lt,ct,ut,dt=this;return __generator(this,function(ft){switch(ft.label){case 0:return lt=[],ct=(ot=(at=_e.middlewareSettings)===null||at===void 0?void 0:at.routingRules)!==null&&ot!==void 0?ot:[],ut=((st=_e.remotePlugins)!==null&&st!==void 0?st:[]).map(function(pt){return __awaiter(dt,void 0,void 0,function(){var ht,yt,mt,gt,vt,St;return __generator(this,function(xt){switch(xt.label){case 0:if(isPluginDisabled(et,pt))return[2];xt.label=1;case 1:return xt.trys.push([1,6,,7]),yt=it==null?void 0:it.find(function(Ct){var wt=Ct.pluginName;return wt===pt.name}),yt?[3,3]:[4,loadPluginFactory(pt,rt==null?void 0:rt.obfuscate)];case 2:yt=xt.sent(),xt.label=3;case 3:return ht=yt,ht?[4,ht(__assign(__assign({},pt.settings),tt[pt.name]))]:[3,5];case 4:mt=xt.sent(),gt=Array.isArray(mt)?mt:[mt],validate$1(gt),vt=ct.filter(function(Ct){return Ct.destinationName===pt.creationName}),gt.forEach(function(Ct){var wt=new ActionDestination(pt.creationName,Ct);vt.length&&nt&&wt.addMiddleware(nt),lt.push(wt)}),xt.label=5;case 5:return[3,7];case 6:return St=xt.sent(),console.warn("Failed to load Remote Plugin",St),[3,7];case 7:return[2]}})})}),[4,Promise.all(ut)];case 1:return ft.sent(),[2,lt.filter(Boolean)]}})})}var onPageChange=function(_e){var et=!1;window.addEventListener("pagehide",function(){et||(et=!0,_e(et))}),document.addEventListener("visibilitychange",function(){if(document.visibilityState=="hidden"){if(et)return;et=!0}else et=!1;_e(et)})},RateLimitError=function(_e){__extends$1(et,_e);function et(tt,rt){var nt=_e.call(this,tt)||this;return nt.retryTimeout=rt,nt.name="RateLimitError",nt}return et}(Error),MAX_PAYLOAD_SIZE=500,MAX_KEEPALIVE_SIZE=64;function kilobytes(_e){var et=encodeURI(JSON.stringify(_e)).split(/%..|./).length-1;return et/1024}function approachingTrackingAPILimit(_e){return kilobytes(_e)>=MAX_PAYLOAD_SIZE-50}function passedKeepaliveLimit(_e){return kilobytes(_e)>=MAX_KEEPALIVE_SIZE-10}function chunks(_e){var et=[],tt=0;return _e.forEach(function(rt){var nt=kilobytes(et[tt]);nt>=64&&tt++,et[tt]?et[tt].push(rt):et[tt]=[rt]}),et}function batch(_e,et){var tt,rt,nt=[],it=!1,at=(tt=et==null?void 0:et.size)!==null&&tt!==void 0?tt:10,ot=(rt=et==null?void 0:et.timeout)!==null&&rt!==void 0?rt:5e3,st=0;function lt(pt){var ht;if(pt.length!==0){var yt=(ht=pt[0])===null||ht===void 0?void 0:ht.writeKey,mt=pt.map(function(gt){var vt=gt;vt.sentAt;var St=__rest$1(vt,["sentAt"]);return St});return fetch$1("https://".concat(_e,"/b"),{keepalive:(et==null?void 0:et.keepalive)||it,headers:{"Content-Type":"text/plain"},method:"post",body:JSON.stringify({writeKey:yt,batch:mt,sentAt:new Date().toISOString()})}).then(function(gt){var vt;if(gt.status>=500)throw new Error("Bad response from server: ".concat(gt.status));if(gt.status===429){var St=(vt=gt.headers)===null||vt===void 0?void 0:vt.get("x-ratelimit-reset"),xt=typeof St=="string"?parseInt(St)*1e3:ot;throw new RateLimitError("Rate limit exceeded: ".concat(gt.status),xt)}})}}function ct(pt){var ht;return pt===void 0&&(pt=1),__awaiter(this,void 0,void 0,function(){var yt;return __generator(this,function(mt){return nt.length?(yt=nt,nt=[],[2,(ht=lt(yt))===null||ht===void 0?void 0:ht.catch(function(gt){var vt,St=Context.system();St.log("error","Error sending batch",gt),pt<=((vt=et==null?void 0:et.maxRetries)!==null&&vt!==void 0?vt:10)&&(gt.name==="RateLimitError"&&(st=gt.retryTimeout),nt.push.apply(nt,yt),nt.map(function(xt){if("_metadata"in xt){var Ct=xt;Ct._metadata=__assign(__assign({},Ct._metadata),{retryCount:pt})}}),dt(pt+1))})]):[2]})})}var ut;function dt(pt){pt===void 0&&(pt=1),!ut&&(ut=setTimeout(function(){ut=void 0,ct(pt).catch(console.error)},st||ot),st=0)}onPageChange(function(pt){if(it=pt,it&&nt.length){var ht=chunks(nt).map(lt);Promise.all(ht).catch(console.error)}});function ft(pt,ht){return __awaiter(this,void 0,void 0,function(){var yt;return __generator(this,function(mt){return nt.push(ht),yt=nt.length>=at||approachingTrackingAPILimit(nt)||(et==null?void 0:et.keepalive)&&passedKeepaliveLimit(nt),[2,yt||it?ct():dt()]})})}return{dispatch:ft}}function standard(_e){function et(tt,rt){return fetch$1(tt,{keepalive:_e==null?void 0:_e.keepalive,headers:{"Content-Type":"text/plain"},method:"post",body:JSON.stringify(rt)}).then(function(nt){var it;if(nt.status>=500)throw new Error("Bad response from server: ".concat(nt.status));if(nt.status===429){var at=(it=nt.headers)===null||it===void 0?void 0:it.get("x-ratelimit-reset"),ot=at?parseInt(at)*1e3:5e3;throw new RateLimitError("Rate limit exceeded: ".concat(nt.status),ot)}})}return{dispatch:et}}function normalize(_e,et,tt,rt,nt){var it,at=_e.user();delete et.options,et.writeKey=tt==null?void 0:tt.apiKey,et.userId=et.userId||at.id(),et.anonymousId=et.anonymousId||at.anonymousId(),et.sentAt=new Date;var ot=_e.queue.failedInitializations||[];ot.length>0&&(et._metadata={failedInitializations:ot}),nt!=null&&(nt.attempts>1&&(et._metadata=__assign(__assign({},et._metadata),{retryCount:nt.attempts})),nt.attempts++);var st=[],lt=[];for(var ct in rt){var ut=rt[ct];ct==="Segment.io"&&st.push(ct),ut.bundlingStatus==="bundled"&&st.push(ct),ut.bundlingStatus==="unbundled"&&lt.push(ct)}for(var dt=0,ft=(tt==null?void 0:tt.unbundledIntegrations)||[];dt<ft.length;dt++){var pt=ft[dt];lt.includes(pt)||lt.push(pt)}var ht=(it=tt==null?void 0:tt.maybeBundledConfigIds)!==null&&it!==void 0?it:{},yt=[];return st.sort().forEach(function(mt){var gt;((gt=ht[mt])!==null&&gt!==void 0?gt:[]).forEach(function(vt){yt.push(vt)})}),(tt==null?void 0:tt.addBundledMetadata)!==!1&&(et._metadata=__assign(__assign({},et._metadata),{bundled:st.sort(),unbundled:lt.sort(),bundledIds:yt})),et}var pWhile=function(_e,et){return __awaiter(void 0,void 0,void 0,function(){var tt;return __generator(this,function(rt){return tt=function(nt){return __awaiter(void 0,void 0,void 0,function(){var it;return __generator(this,function(at){switch(at.label){case 0:return _e(nt)?(it=tt,[4,et()]):[3,2];case 1:return[2,it.apply(void 0,[at.sent()])];case 2:return[2]}})})},[2,tt(void 0)]})})};function flushQueue(_e,et){return __awaiter(this,void 0,void 0,function(){var tt,rt=this;return __generator(this,function(nt){switch(nt.label){case 0:return tt=[],isOffline()?[2,et]:[4,pWhile(function(){return et.length>0&&!isOffline()},function(){return __awaiter(rt,void 0,void 0,function(){var it,at,ot;return __generator(this,function(st){switch(st.label){case 0:return it=et.pop(),it?[4,attempt(it,_e)]:[2];case 1:return at=st.sent(),ot=at instanceof Context,ot||tt.push(it),[2]}})})})];case 1:return nt.sent(),tt.map(function(it){return et.pushWithBackoff(it)}),[2,et]}})})}function scheduleFlush(_e,et,tt,rt){var nt=this;_e||setTimeout(function(){return __awaiter(nt,void 0,void 0,function(){var it,at;return __generator(this,function(ot){switch(ot.label){case 0:return it=!0,[4,flushQueue(tt,et)];case 1:return at=ot.sent(),it=!1,et.todo>0&&rt(it,at,tt,rt),[2]}})})},Math.random()*5e3)}function onAlias(_e,et){var tt,rt,nt,it,at=_e.user();return et.previousId=(nt=(rt=(tt=et.previousId)!==null&&tt!==void 0?tt:et.from)!==null&&rt!==void 0?rt:at.id())!==null&&nt!==void 0?nt:at.anonymousId(),et.userId=(it=et.userId)!==null&&it!==void 0?it:et.to,delete et.from,delete et.to,et}function segmentio(_e,et,tt){var rt,nt,it;window.addEventListener("pagehide",function(){ot.push.apply(ot,Array.from(st)),st.clear()});var at=(rt=et==null?void 0:et.apiKey)!==null&&rt!==void 0?rt:"",ot=_e.options.disableClientPersistence?new PriorityQueue(_e.queue.queue.maxAttempts,[]):new PersistedPriorityQueue(_e.queue.queue.maxAttempts,"".concat(at,":dest-Segment.io")),st=new Set,lt=!1,ct=(nt=et==null?void 0:et.apiHost)!==null&&nt!==void 0?nt:SEGMENT_API_HOST,ut=(it=et==null?void 0:et.protocol)!==null&&it!==void 0?it:"https",dt="".concat(ut,"://").concat(ct),ft=et==null?void 0:et.deliveryStrategy,pt=(ft==null?void 0:ft.strategy)==="batching"?batch(ct,ft.config):standard(ft==null?void 0:ft.config);function ht(mt){return __awaiter(this,void 0,void 0,function(){var gt,vt;return __generator(this,function(St){return isOffline()?(ot.push(mt),scheduleFlush(lt,ot,yt,scheduleFlush),[2,mt]):(st.add(mt),gt=mt.event.type.charAt(0),vt=toFacade(mt.event).json(),mt.event.type==="track"&&delete vt.traits,mt.event.type==="alias"&&(vt=onAlias(_e,vt)),[2,pt.dispatch("".concat(dt,"/").concat(gt),normalize(_e,vt,et,tt,mt)).then(function(){return mt}).catch(function(xt){if(mt.log("error","Error sending event",xt),xt.name==="RateLimitError"){var Ct=xt.retryTimeout;ot.pushWithBackoff(mt,Ct)}else ot.pushWithBackoff(mt);return scheduleFlush(lt,ot,yt,scheduleFlush),mt}).finally(function(){st.delete(mt)})])})})}var yt={name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:ht,identify:ht,page:ht,alias:ht,group:ht,screen:ht};return ot.todo&&scheduleFlush(lt,ot,yt,scheduleFlush),yt}var _a$1,_b,env=getGlobal$1(),inspectorHost=(_a$1=(_b=env).__SEGMENT_INSPECTOR__)!==null&&_a$1!==void 0?_a$1:_b.__SEGMENT_INSPECTOR__={},attachInspector=function(_e){var et;return(et=inspectorHost.attach)===null||et===void 0?void 0:et.call(inspectorHost,_e)};function loadCDNSettings(_e,et){return fetch$1("".concat(et,"/v1/projects/").concat(_e,"/settings")).then(function(tt){return tt.ok?tt.json():tt.text().then(function(rt){throw new Error(rt)})}).catch(function(tt){throw console.error(tt.message),tt})}function hasLegacyDestinations(_e){return getProcessEnv().NODE_ENV!=="test"&&Object.keys(_e.integrations).length>1}function hasTsubMiddleware(_e){var et,tt,rt;return getProcessEnv().NODE_ENV!=="test"&&((rt=(tt=(et=_e.middlewareSettings)===null||et===void 0?void 0:et.routingRules)===null||tt===void 0?void 0:tt.length)!==null&&rt!==void 0?rt:0)>0}function flushPreBuffer(_e,et){flushSetAnonymousID(_e,et),flushOn(_e,et)}function flushFinalBuffer(_e,et){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(tt){switch(tt.label){case 0:return[4,flushAddSourceMiddleware(_e,et)];case 1:return tt.sent(),flushAnalyticsCallsInNewTask(_e,et),[2]}})})}function registerPlugins(_e,et,tt,rt,nt,it,at){var ot,st,lt;return nt===void 0&&(nt=[]),__awaiter(this,void 0,void 0,function(){var ct,ut,dt,ft,pt,ht,yt,mt,gt,vt,St,xt,Ct,wt,_t,Ot=this;return __generator(this,function(kt){switch(kt.label){case 0:return flushPreBuffer(tt,at),ct=nt==null?void 0:nt.filter(function(Lt){return typeof Lt=="object"}),ut=nt==null?void 0:nt.filter(function(Lt){return typeof Lt=="function"&&typeof Lt.pluginName=="string"}),hasTsubMiddleware(et)?[4,__vitePreload(()=>import("./index-D6ZMQedT.js"),[]).then(function(Lt){return Lt.tsubMiddleware(et.middlewareSettings.routingRules)})]:[3,2];case 1:return ft=kt.sent(),[3,3];case 2:ft=void 0,kt.label=3;case 3:return dt=ft,hasLegacyDestinations(et)||it.length>0?[4,__vitePreload(()=>import("./index-CfuiPHh2.js"),__vite__mapDeps([0,1])).then(function(Lt){return Lt.ajsDestinations(_e,et,tt.integrations,rt,dt,it)})]:[3,5];case 4:return ht=kt.sent(),[3,6];case 5:ht=[],kt.label=6;case 6:return pt=ht,et.legacyVideoPluginsEnabled?[4,__vitePreload(()=>import("./index-3kFK4fsb.js"),[]).then(function(Lt){return Lt.loadLegacyVideoPlugins(tt)})]:[3,8];case 7:kt.sent(),kt.label=8;case 8:return!((ot=rt.plan)===null||ot===void 0)&&ot.track?[4,__vitePreload(()=>import("./index-lXnUkPDQ.js"),__vite__mapDeps([2,1])).then(function(Lt){var $t;return Lt.schemaFilter(($t=rt.plan)===null||$t===void 0?void 0:$t.track,et)})]:[3,10];case 9:return mt=kt.sent(),[3,11];case 10:mt=void 0,kt.label=11;case 11:return yt=mt,gt=mergedOptions(et,rt),[4,remoteLoader(et,tt.integrations,gt,rt,dt,ut).catch(function(){return[]})];case 12:return vt=kt.sent(),St=__spreadArray$1(__spreadArray$1([envEnrichment],pt,!0),vt,!0),yt&&St.push(yt),xt=((st=rt.integrations)===null||st===void 0?void 0:st.All)===!1&&!rt.integrations["Segment.io"]||rt.integrations&&rt.integrations["Segment.io"]===!1,xt?[3,14]:(wt=(Ct=St).push,[4,segmentio(tt,gt["Segment.io"],et.integrations)]);case 13:wt.apply(Ct,[kt.sent()]),kt.label=14;case 14:return[4,tt.register.apply(tt,__spreadArray$1(__spreadArray$1([],St,!1),ct,!1))];case 15:return _t=kt.sent(),[4,flushRegister(tt,at)];case 16:return kt.sent(),Object.entries((lt=et.enabledMiddleware)!==null&&lt!==void 0?lt:{}).some(function(Lt){var $t=Lt[1];return $t})?[4,__vitePreload(()=>import("./index-BoOpu2B-.js"),[]).then(function(Lt){var $t=Lt.remoteMiddlewares;return __awaiter(Ot,void 0,void 0,function(){var zt,Vt;return __generator(this,function(Ut){switch(Ut.label){case 0:return[4,$t(_t,et,rt.obfuscate)];case 1:return zt=Ut.sent(),Vt=zt.map(function(It){return tt.addSourceMiddleware(It)}),[2,Promise.all(Vt)]}})})})]:[3,18];case 17:kt.sent(),kt.label=18;case 18:return[2,_t]}})})}function loadAnalytics(_e,et,tt){var rt,nt,it,at,ot,st,lt,ct,ut,dt,ft;return et===void 0&&(et={}),__awaiter(this,void 0,void 0,function(){var pt,ht,yt,mt,gt,vt,St,xt,Ct,wt,_t,Ot,kt;return __generator(this,function(Lt){switch(Lt.label){case 0:return et.disable===!0?[2,[new NullAnalytics,Context.system()]]:(et.globalAnalyticsKey&&setGlobalAnalyticsKey(et.globalAnalyticsKey),_e.cdnURL&&setGlobalCDNUrl(_e.cdnURL),et.initialPageview&&tt.add(new PreInitMethodCall("page",[])),pt=(rt=_e.cdnURL)!==null&&rt!==void 0?rt:getCDN(),(nt=_e.cdnSettings)!==null&&nt!==void 0?(yt=nt,[3,3]):[3,1]);case 1:return[4,loadCDNSettings(_e.writeKey,pt)];case 2:yt=Lt.sent(),Lt.label=3;case 3:return ht=yt,et.updateCDNSettings&&(ht=et.updateCDNSettings(ht)),typeof et.disable!="function"?[3,5]:[4,et.disable(ht)];case 4:if(mt=Lt.sent(),mt)return[2,[new NullAnalytics,Context.system()]];Lt.label=5;case 5:return gt=(at=(it=ht.integrations["Segment.io"])===null||it===void 0?void 0:it.retryQueue)!==null&&at!==void 0?at:!0,et=__assign({retryQueue:gt},et),vt=new Analytics(__assign(__assign({},_e),{cdnSettings:ht,cdnURL:pt}),et),attachInspector(vt),St=(ot=_e.plugins)!==null&&ot!==void 0?ot:[],xt=(st=_e.classicIntegrations)!==null&&st!==void 0?st:[],Ct=(lt=et.integrations)===null||lt===void 0?void 0:lt["Segment.io"],Stats.initRemoteMetrics(__assign(__assign({},ht.metrics),{host:(ct=Ct==null?void 0:Ct.apiHost)!==null&&ct!==void 0?ct:(ut=ht.metrics)===null||ut===void 0?void 0:ut.host,protocol:Ct==null?void 0:Ct.protocol})),[4,registerPlugins(_e.writeKey,ht,vt,et,St,xt,tt)];case 6:return wt=Lt.sent(),_t=(dt=window.location.search)!==null&&dt!==void 0?dt:"",Ot=(ft=window.location.hash)!==null&&ft!==void 0?ft:"",kt=_t.length?_t:Ot.replace(/(?=#).*(?=\?)/,""),kt.includes("ajs_")?[4,vt.queryString(kt).catch(console.error)]:[3,8];case 7:Lt.sent(),Lt.label=8;case 8:return vt.initialized=!0,vt.emit("initialize",_e,et),[4,flushFinalBuffer(vt,tt)];case 9:return Lt.sent(),[2,[vt,wt]]}})})}var AnalyticsBrowser=function(_e){__extends$1(et,_e);function et(){var tt=this,rt=createDeferred(),nt=rt.promise,it=rt.resolve;return tt=_e.call(this,function(at){return nt.then(function(ot){var st=ot[0],lt=ot[1];return loadAnalytics(st,lt,at)})})||this,tt._resolveLoadStart=function(at,ot){return it([at,ot])},tt}return et.prototype.load=function(tt,rt){return rt===void 0&&(rt={}),this._resolveLoadStart(tt,rt),this},et.load=function(tt,rt){return rt===void 0&&(rt={}),new et().load(tt,rt)},et.standalone=function(tt,rt){return et.load({writeKey:tt},rt).then(function(nt){return nt[0]})},et}(AnalyticsBuffered);const SPLIT_LOWER_UPPER_RE=new RegExp("([\\p{Ll}\\d])(\\p{Lu})","gu"),SPLIT_UPPER_UPPER_RE=new RegExp("(\\p{Lu})([\\p{Lu}][\\p{Ll}])","gu"),SPLIT_SEPARATE_NUMBER_RE=new RegExp("(\\d)\\p{Ll}|(\\p{L})\\d","u"),DEFAULT_STRIP_REGEXP=/[^\p{L}\d]+/giu,SPLIT_REPLACE_VALUE="$1\0$2",DEFAULT_PREFIX_SUFFIX_CHARACTERS="";function split(_e){let et=_e.trim();et=et.replace(SPLIT_LOWER_UPPER_RE,SPLIT_REPLACE_VALUE).replace(SPLIT_UPPER_UPPER_RE,SPLIT_REPLACE_VALUE),et=et.replace(DEFAULT_STRIP_REGEXP,"\0");let tt=0,rt=et.length;for(;et.charAt(tt)==="\0";)tt++;if(tt===rt)return[];for(;et.charAt(rt-1)==="\0";)rt--;return et.slice(tt,rt).split(/\0/g)}function splitSeparateNumbers(_e){const et=split(_e);for(let tt=0;tt<et.length;tt++){const rt=et[tt],nt=SPLIT_SEPARATE_NUMBER_RE.exec(rt);if(nt){const it=nt.index+(nt[1]??nt[2]).length;et.splice(tt,1,rt.slice(0,it),rt.slice(it))}}return et}function pascalCase(_e,et){const[tt,rt,nt]=splitPrefixSuffix(_e,et),it=lowerFactory(et==null?void 0:et.locale),at=upperFactory(et==null?void 0:et.locale),ot=pascalCaseTransformFactory(it,at);return tt+rt.map(ot).join("")+nt}function lowerFactory(_e){return et=>et.toLocaleLowerCase(_e)}function upperFactory(_e){return et=>et.toLocaleUpperCase(_e)}function pascalCaseTransformFactory(_e,et){return(tt,rt)=>{const nt=tt[0];return(rt>0&&nt>="0"&&nt<="9"?"_"+nt:et(nt))+_e(tt.slice(1))}}function splitPrefixSuffix(_e,et={}){const tt=et.split??(et.separateNumbers?splitSeparateNumbers:split),rt=et.prefixCharacters??DEFAULT_PREFIX_SUFFIX_CHARACTERS,nt=et.suffixCharacters??DEFAULT_PREFIX_SUFFIX_CHARACTERS;let it=0,at=_e.length;for(;it<_e.length;){const ot=_e.charAt(it);if(!rt.includes(ot))break;it++}for(;at>it;){const ot=at-1,st=_e.charAt(ot);if(!nt.includes(st))break;at=ot}return[_e.slice(0,it),tt(_e.slice(it,at)),_e.slice(at)]}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).slice(1));function unsafeStringify(_e,et=0){return(byteToHex[_e[et+0]]+byteToHex[_e[et+1]]+byteToHex[_e[et+2]]+byteToHex[_e[et+3]]+"-"+byteToHex[_e[et+4]]+byteToHex[_e[et+5]]+"-"+byteToHex[_e[et+6]]+byteToHex[_e[et+7]]+"-"+byteToHex[_e[et+8]]+byteToHex[_e[et+9]]+"-"+byteToHex[_e[et+10]]+byteToHex[_e[et+11]]+byteToHex[_e[et+12]]+byteToHex[_e[et+13]]+byteToHex[_e[et+14]]+byteToHex[_e[et+15]]).toLowerCase()}var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const native={randomUUID};function v4(_e,et,tt){if(native.randomUUID&&!et&&!_e)return native.randomUUID();_e=_e||{};var rt=_e.random||(_e.rng||rng)();return rt[6]=rt[6]&15|64,rt[8]=rt[8]&63|128,unsafeStringify(rt)}class BrowserAnalyticsSegmentPlugin{constructor(et){kr(this,"analytics");kr(this,"name","remento-identity");kr(this,"version","1.0.0");kr(this,"type","enrichment");this.analytics=et}addIdentity(et){const tt=this.analytics.getUser();return tt.type==="identified"?(et.event.userId=tt.id,et.event.anonymousId=tt.anonymousId):et.event.anonymousId=tt.id,et}isLoaded(){return!0}async load(){return!0}track(et){return this.addIdentity(et)}page(et){return this.addIdentity(et)}identify(et){return this.addIdentity(et)}}class RemoteAnalyticsSegmentPlugin{constructor(et){kr(this,"client");kr(this,"name","remento-remote");kr(this,"version","1.0.0");kr(this,"type","destination");this.client=et}isLoaded(){return!0}async load(){return!0}async track(et){return await this.client.track(et.event),et}async page(et){return await this.client.page(et.event),et}}class BrowserAnalytics extends EventEmitter{constructor(tt,rt,nt,it,at,ot){super();kr(this,"analyticsService");kr(this,"idService");kr(this,"abTestService");kr(this,"logger");kr(this,"user");kr(this,"segment");kr(this,"source");kr(this,"segmentSettings");kr(this,"segmentEnabled");kr(this,"init");kr(this,"deviceType");switch(this.analyticsService=tt,this.idService=rt,this.abTestService=nt,this.logger=it,this.user=at,this.source=ot.source,this.segmentSettings={apiKey:ot.segment.key,apiHost:`${ot.segment.apiHost}/v1`},this.segmentEnabled=at.type!="anonymous",this.segment=AnalyticsBrowser.load({writeKey:ot.segment.key,cdnURL:ot.segment.cdnURL},{integrations:{"Segment.io":at.type=="anonymous"?!1:this.segmentSettings}}),new UAParser(navigator.userAgent).getDevice().type){case"tablet":this.deviceType="tablet";break;case"mobile":case"wearable":case"embedded":this.deviceType="mobile";break;default:this.deviceType="desktop";break}this.init=this.segment.register(new BrowserAnalyticsSegmentPlugin(this)).then(async()=>{at.type==="anonymous"&&this.segment.register(new RemoteAnalyticsSegmentPlugin(tt)).catch(ut=>this.logger.error("REGISTER_ERROR",()=>({error:ut})));const ct=await this.segment.user();if(at.type=="identified"){const ut=ct.id(),dt=ct.anonymousId();(ut!==at.id||dt!=at.anonymousId)&&(ct.id(at.id),ct.anonymousId(at.anonymousId),this.logger.debug("SEGMENT_UPDATED",()=>({userId:at.id,segmentUserId:ut,anonymousId:at.anonymousId,segmentAnonymousId:dt})))}else at.type=="anonymous"&&ct.anonymousId(at.id)}).catch(ct=>{throw this.logger.error("REGISTER_ERROR",()=>({error:ct})),ct})}async fetchUserId(tt){return!Array.isArray(tt)&&tt.type=="id"?tt.value:await this.idService.getUserId(Array.isArray(tt)?tt:[tt])}async linkUserId(tt,rt){return!Array.isArray(rt)&&rt.type=="id"?{id:rt.value,status:tt==rt.value?"UNCHANGED":"CONFLICT"}:await this.idService.linkUserId(tt,Array.isArray(rt)?rt:[rt])}buildUserProperties(tt){if(Array.isArray(tt))return tt.reduce((rt,nt)=>Object.assign(rt,this.buildUserProperties(nt)),{});switch(tt.type){case"id":return{};case"email":return{email:tt.value};case"phone":return{phone:tt.value}}}buildExperimentsProperties(tt){if(this.abTestService==null)return{};const rt=this.abTestService.getAllUserVariants(tt,navigator.userAgent),nt={};for(const[it,at]of Object.entries(rt))nt[`experiment${pascalCase(it)}`]=at;return nt}async enableSegment(){if(this.segmentEnabled)return;await this.init,this.segmentEnabled=!0;const tt=await new Promise((rt,nt)=>{this.segment.then(([it])=>rt(it),nt)});tt.integrations["Segment.io"]=this.segmentSettings,await Promise.all([this.segment.register(segmentio(tt,this.segmentSettings,tt.settings.cdnSettings.integrations)),this.segment.deregister("remento-remote")])}async identify(tt,rt,nt,it=!1){if(Array.isArray(tt)&&tt.length==0)throw new Error("Expected at least one identifier");await this.init;const at=this.user,ot=this.buildUserProperties(tt);if(at.type=="anonymous"){const[lt]=await Promise.all([this.fetchUserId(tt),this.enableSegment()]);this.user={id:lt,anonymousId:at.id,traits:{...nt,...ot},type:"identified",source:"new"}}else if(it||at.isTemporary){const lt=await this.fetchUserId(tt);this.user={type:"identified",id:lt,anonymousId:null,traits:{...nt,...ot},isTemporary:it??!1,source:"new"}}else{const{id:lt,status:ct}=await this.linkUserId(at.id,tt);switch(this.user={...at,id:lt,traits:{...at.traits,...nt,...ot}},ct){case"LINKED":this.logger.info("IDENTIFY.LINKED",()=>({user:this.user,previousUser:at,status:ct})),await this.segment.track("link-ruid",ot);break;case"CONFLICT":this.logger.warn("IDENTIFY.CONFLICT",()=>({user:this.user,previousUser:at,status:ct})),await this.segment.track("link-ruid.conflict",{userId:lt,...ot});break}}const st=this.buildExperimentsProperties(this.user.id);this.user.traits={...this.user.traits,...st,name:(nt==null?void 0:nt.name)??((nt==null?void 0:nt.firstName)!=null&&(nt==null?void 0:nt.lastName)!=null)?`${nt.firstName} ${nt.lastName}`:void 0},await this.segment.identify(this.user.id,this.user.traits),this.logger.info("IDENTIFY",()=>({user:this.user,previousUser:at,status})),this.emit("identify",this.user,at)}async reset(){if(await this.init,!this.segmentEnabled)return;const tt={id:v4(),type:"anonymous",traits:{},source:"new"};this.segmentEnabled=!1,this.logger.info("RESET",()=>({newUser:tt}));const[rt]=await this.segment;rt.integrations["Segment.io"]=!1,await Promise.all([this.segment.deregister("Segment.io"),this.segment.register(new RemoteAnalyticsSegmentPlugin(this.analyticsService))]);const nt=await this.segment.user();nt.id(null),nt.anonymousId(tt.id),nt.traits({}),this.user=tt,this.emit("reset",tt)}getUser(){return this.user}async page(tt,rt){await this.init;const nt=this.buildExperimentsProperties(this.user.id),it={...rt,...nt,source:this.source,deviceType:this.deviceType};this.logger.info("PAGE",()=>({name:tt,properties:it,user:this.user})),this.emit("page",tt,it),await this.segment.page(tt??"unknown",it)}async track(tt,rt){await this.init;const nt=this.buildExperimentsProperties(this.user.id),it={...rt,...nt,source:this.source,deviceType:this.deviceType};this.logger.info("TRACK",()=>({event:tt,properties:it,user:this.user})),this.emit("track",tt,it),await this.segment.track(tt,{...it,source:this.source})}}class AnalyticsServiceClient{constructor(et){kr(this,"baseURL");this.baseURL=et}static serializeEvent(et){var tt,rt,nt,it,at,ot,st,lt;return{messageId:et.messageId,name:et.name,properties:et.properties,context:{ip:(tt=et.context)==null?void 0:tt.ip,locale:(rt=et.context)==null?void 0:rt.locale,location:(nt=et.context)==null?void 0:nt.location,page:(it=et.context)==null?void 0:it.page,userAgent:(at=et.context)==null?void 0:at.userAgent,campaign:(ot=et.context)==null?void 0:ot.campaign,referrer:(st=et.context)==null?void 0:st.referrer},userId:et.userId,anonymousId:et.anonymousId,previousId:et.previousId,event:et.event,sentAt:(lt=et.sentAt)==null?void 0:lt.toISOString(),timestamp:et.timestamp!=null&&et.timestamp instanceof Date?et.timestamp.toISOString():et.timestamp}}async track(et){await fetch(`${this.baseURL}/t/track`,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(AnalyticsServiceClient.serializeEvent(et))})}async page(et){await fetch(`${this.baseURL}/t/page`,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(AnalyticsServiceClient.serializeEvent(et))})}}const ID_COOKIE_NAME="ro_ruid",ANON_ID_COOKIE_NAME="ro_anon_id",SEGMENT_ID_COOKIE_NAME="ajs_user_id",SEGMENT_ANON_ID_COOKIE_NAME="ajs_anonymous_id",ID_SESSION_STORAGE_KEY="@remento/id-repository/ruid",ANON_ID_SESSION_STORAGE_KEY="@remento/id-repository/anon_id";class IDRepository{constructor(et){kr(this,"cookieSettings");this.cookieSettings={expires:365,domain:et,sameSite:"lax"}}saveForSession(et){return et.type=="identified"?(sessionStorage.setItem(ID_SESSION_STORAGE_KEY,et.id),et.anonymousId&&sessionStorage.setItem(ANON_ID_SESSION_STORAGE_KEY,et.anonymousId)):sessionStorage.setItem(ANON_ID_SESSION_STORAGE_KEY,et.id),et.type==="identified"?{...et,source:"session",isTemporary:!0}:{...et,source:"session"}}save(et){return et.type=="identified"?(api$2.set(ID_COOKIE_NAME,et.id,this.cookieSettings),et.anonymousId&&api$2.set(ANON_ID_COOKIE_NAME,et.anonymousId,this.cookieSettings)):api$2.set(ANON_ID_COOKIE_NAME,et.id,this.cookieSettings),{...et,source:"cookies"}}get(){let et;const rt=new URLSearchParams(window.location.search).get("utm_ruid"),nt=sessionStorage.getItem(ID_SESSION_STORAGE_KEY),it=sessionStorage.getItem(ANON_ID_SESSION_STORAGE_KEY),at=api$2.get(ID_COOKIE_NAME)??api$2.get(SEGMENT_ID_COOKIE_NAME),ot=api$2.get(ANON_ID_COOKIE_NAME)??api$2.get(SEGMENT_ANON_ID_COOKIE_NAME)??null;return rt!=null?et={id:rt,type:"identified",traits:{},anonymousId:at!=null&&at!=rt?v4():ot,source:"utm"}:nt!=null?et={id:nt,type:"identified",traits:{},anonymousId:it,source:"session",isTemporary:!0}:at!=null?et={id:at,type:"identified",traits:{},anonymousId:ot,source:"cookies"}:ot!=null?et={id:ot,type:"anonymous",traits:{},source:"cookies"}:et={id:v4(),type:"anonymous",traits:{},source:"new"},et}}class IDServiceClient{constructor(et){kr(this,"baseURL");this.baseURL=et}async getUserId(et){return(await(await fetch(`${this.baseURL}/u/id`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(et)})).json()).id}async linkUserId(et,tt){return await(await fetch(`${this.baseURL}/u/id/${et}/link`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(tt)})).json()}}async function waitForProperty(_e,et){if(!_e[et])return new Promise(tt=>{let rt;Object.defineProperty(_e,et,{get(){return rt},set(nt){rt=nt,tt()},enumerable:!0,configurable:!0})})}async function waitForWisepopsLoaded(_e=2e3){window.wisepops||await waitForProperty(window,"wisepops")}function extractFormPayload(_e,et){const tt=et.querySelector('[name="email"]'),rt=et.querySelector('[name="phone-number"]'),nt=et.querySelector('[name="phone-dialcode"]');if(tt==null&&rt==null)return _e.error("WISEPOP_FORM_SUBMITTED",()=>({error:"NO_IDENTIFIER_INPUT"})),null;const it=et.querySelector('[name="formType"]')??et.querySelector('[name="emailFormType"]')??et.querySelector('[name="phoneFormType"]'),at=et.querySelector('[name="formListId"]')??et.querySelector('[name="emailFormListId"]')??et.querySelector('[name="phoneFormListId"]');return{data:{email:(tt==null?void 0:tt.value)??void 0,phone:rt!=null?nt!=null?nt.value+" "+rt.value:rt.value:void 0,formType:et.dataset.analyticsType??(it==null?void 0:it.value)??"unknown",formListId:et.dataset.analyticsListId??(at==null?void 0:at.value)??void 0},properties:{}}}var Events=(_e=>(_e.Error="error",_e.PermissionMicrophoneShown="permission.shown.microphone",_e.PermissionMicrophoneGranted="permission.granted.microphone",_e.PermissionMicrophoneDenied="permission.denied.microphone",_e.PermissionCameraShown="permission.shown.camera",_e.PermissionCameraGranted="permission.granted.camera",_e.PermissionCameraDenied="permission.denied.camera",_e.ActionSwapProject="action.swap-project",_e.ActionHome="action.home",_e.ActionStories="action.stories",_e.ActionUpcomingPrompts="action.upcoming-prompts",_e.ActionBookSettings="action.book-settings",_e.ActionViewBook="action.view-book",_e.ActionMyAccount="action.my-account",_e.ActionOrderBooks="action.order-books",_e.ActionGiftRemento="action.gift-remento",_e.ActionReferRemento="action.refer-remento",_e.UpcomingPromptsArrive="upcoming-prompts.arrive",_e.UpcomingPromptsNewPrompt="upcoming-prompts.new-prompt",_e.UpcomingPromptsReorder="upcoming-prompts.reorder",_e.UpcomingPromptsAction="upcoming-prompts.action",_e.PromptBankArrive="prompt-bank.arrive",_e.PromptBankQuestionSelected="prompt-bank.question-selected",_e.PromptBankPromptAdded="prompt-bank.prompt-added",_e.PromptBankQuestionAdded="prompt-bank.question-added",_e.PromptBankPromptsAdded="prompt-bank.prompts-added",_e.PromptBankPromptEdited="prompt-bank.prompt-edited",_e.PromptBankAction="prompt-bank.action",_e.PromptBankPromptAddedCustom="prompt-bank.prompt-added-custom",_e.PromptArrive="prompt.arrive",_e.PromptAction="prompt.action",_e.PromptPhotoBrowse="prompt.photo.browse",_e.PromptPhotoSelect="prompt.photo.select",_e.StorytellingArrive="storytelling.arrive",_e.RecordingIntroArrive="recording-intro.arrive",_e.RecordingIntroVideoWatchedArrive="recording-intro-video-watched.arrive",_e.StorytellingResponseStart="storytelling.response.start",_e.StorytellingLearnMore="storytelling.learn-more",_e.RecordingPromptReviewArrived="recording-prompt-review.arrive",_e.RecordingTypeSelectionArrive="recording-type-selection.arrive",_e.RecordingTypeSetupArrive="recording-type-setup.arrive",_e.StorytellingInputsSelect="storytelling.inputs.select",_e.StorytellingInputsDecline="storytelling.inputs.decline",_e.StorytellingInputsBrowse="storytelling.inputs.browse",_e.StorytellingInputsChange="storytelling.inputs.change",_e.RecordingInputsReviewArrive="recording.inputs-review.arrive",_e.RecordingReadyArrive="recording-ready.arrive",_e.StorytellingRecordingStart="storytelling.recording.start",_e.StorytellingRecordingNextPrompt="storytelling.recording.next-prompt",_e.StorytellingRecordingRestart="storytelling.recording.restart",_e.StorytellingRecordingEnd="storytelling.recording.end",_e.RecordingReviewArrive="recording.review.arrive",_e.StorytellingRecordingFinish="storytelling.recording.finish",_e.StorytellingRecordingSuccess="storytelling.recording.success",_e.StorytellingRecordingInterruptError="storytelling.recording.interrupt-error",_e.StorytellingRecordingNoDataError="storytelling.recording.no-data-error",_e.StorytellingRecordingQueueDisconnectError="storytelling.recording.queue-disconnect-error",_e.StorytellingAction="storytelling.action",_e.RecordingSettingsNotificationChanged="recording.settings.notification-changed",_e.StoryViewerArrive="view-story.arrive",_e.StoryViewerWatch="view-story.watch",_e.StoryViewerShare="view-story.share",_e.StoryViewerMute="view-story.mute",_e.StoryViewerLike="view-story.like",_e.StoryViewerDownload="view-story.download",_e.StoryViewerSummaryAction="view-story.summary.action",_e.StoryViewerEditModeArrive="view-story.edit-mode.arrive",_e.StoryViewerRegenerateOpen="view-story.regenerate.open",_e.StoryViewerSummaryUpdate="view-story.summary.update",_e.StoryViewerPhotoAdd="view-story.photo.add",_e.StoryViewerPhotoUpdate="view-story.photo.update",_e.StoryViewerPhotoRemove="view-story.photo.remove",_e.StoryGenerateOpen="story.generate-open",_e.StoryGenerate="story.generate",_e.StoriesViewerArrive="view-stories.arrive",_e.StoriesViewerOpen="view-stories.open",_e.StoriesViewerAction="view-stories.action",_e.ReactionArrive="reaction.arrive",_e.ReactionSent="reaction.sent",_e.CollaborationInvite="collaboration.invite",_e.CollaborationInviteViaEmail="collaboration.invite.via-email",_e.CollaborationInviteViaLink="collaboration.invite.via-link",_e.CollaborationAcceptInvite="collaboration.accept-invite",_e.CollaborationManagePermissions="collaboration.manage-permissions",_e.CollaborationGetHelp="collaboration.get-help",_e.CollaborationAccessRequested="collaboration.access-requested",_e.UserSignIn="auth.signin",_e.UserSignUp="auth.signup",_e.UserSignOut="auth.signout",_e.CheckoutArrive="checkout.arrive",_e.CheckoutLeave="checkout.leave",_e.CheckoutPersonalize="checkout.personalize",_e.CheckoutContactForm="checkout.contact-form",_e.CheckoutStorytellerForm="checkout.storyteller-form",_e.CheckoutAddonsSelect="checkout.addons.select",_e.CheckoutStart="checkout.start",_e.CheckoutGetStarted="checkout.get-started",_e.CheckoutSuccess="checkout.success",_e.CheckoutProcessingComplete="checkout.processing-complete",_e.SurveyTryRecording="survey.try-recording",_e.SurveySubscriptionCancelled="survey.subscription-cancelled",_e.SurveyCheckout="checkout.source-form",_e.OnboardingArrive="onboarding.arrive",_e.OnboardingStart="onboarding.start",_e.OnboardingSubmitPromptTypeSelect="onboarding.submit.prompt-type-select",_e.OnboardingSubmitPromptReview="onboarding.submit.prompt-review",_e.OnboardingComplete="onboarding.complete",_e.OnboardingEnd="onboarding.end",_e.UserOnboardingProgress="user.onboarding-progress",_e.PollCreated="poll.created",_e.PollDeleted="poll.deleted",_e.PollQuestionsShuffled="poll.questions-shuffled",_e.PollVoted="poll.voted",_e.QuestionnaireArrive="questionnaire.arrive",_e.QuestionnaireQuestionArrive="questionnaire.question.arrive",_e.QuestionnaireQuestionSelect="questionnaire.question.select",_e.QuestionnaireQuestionDeselect="questionnaire.question.deselect",_e.QuestionnaireResultArrive="questionnaire.result.arrive",_e.QuestionnaireSkip="questionnaire.skip",_e.ProjectDefaultPerspectiveChange="project.default-perspective.change",_e.ProjectDefaultPerspectiveDialogViewed="project.default-perspective-dialog.viewed",_e.ProjectDefaultNotificationIntervalChange="project.default-notification-interval.change",_e.ReferralShare="referral.share",_e.ProjectHomeTipClicked="project-home.tip.clicked",_e.ProjectHomeRecordPromptClicked="project-home.record-prompt.clicked",_e.ProjectHomeMarketingOfferClicked="project-home.marketing-offer.clicked",_e))(Events||{});class DefaultCheckoutAnalyticsService{constructor(et){this.browserAnalytics=et}onCheckoutArrived(et){this.browserAnalytics.track(Events.CheckoutArrive,{type:et})}onCheckoutLeave(et){this.browserAnalytics.track(Events.CheckoutLeave,{page:et})}onCheckoutPersonalized(et){this.browserAnalytics.track(Events.CheckoutPersonalize,{variant:et})}onCheckoutContactFormSubmitted(){this.browserAnalytics.track(Events.CheckoutContactForm)}onCheckoutStorytellerFormSubmitted(et,tt){this.browserAnalytics.track(Events.CheckoutStorytellerForm,{"storyteller.name.first":et,"storyteller.name.last":tt})}onCheckoutAddonsChanged(et,tt,rt){this.browserAnalytics.track(Events.CheckoutAddonsSelect,{extraBooks:et,extraEbook:tt,legacyboxPhotos:rt})}onCheckoutStarted(et){this.browserAnalytics.track(Events.CheckoutStart,et)}onCheckoutGetStarted(){this.browserAnalytics.track(Events.CheckoutGetStarted)}onCheckoutSuccess(et,tt,rt){this.browserAnalytics.track(Events.CheckoutSuccess,{invoiceNumber:et,price:tt,paid:rt})}onCheckoutProcessingCompleted(et){this.browserAnalytics.track(Events.CheckoutProcessingComplete,{duration:et})}}class DefaultCollaborationAnalyticsService{constructor(et){this.browserAnalytics=et}onInviteDialogOpened(et){this.browserAnalytics.track(Events.CollaborationInvite,{page:et})}onInvitedViaEmail(et,tt){this.browserAnalytics.track(Events.CollaborationInviteViaEmail,{invites:et,location:tt})}onInvitedViaLink(et){this.browserAnalytics.track(Events.CollaborationInviteViaLink,{location:et})}onInvitationAccepted(et){this.browserAnalytics.track(Events.CollaborationAcceptInvite,{from:et})}onInvitePermissionsChanged(et){this.browserAnalytics.track(Events.CollaborationManagePermissions,{action:et})}onHelpPressed(){this.browserAnalytics.track(Events.CollaborationGetHelp)}onAccessRequested(et,tt){this.browserAnalytics.track(Events.CollaborationAccessRequested,{page:et,feature:tt})}}class DefaultOnboardingAnalyticsService{constructor(et){this.browserAnalytics=et}onOnboardingArrived(){this.browserAnalytics.track(Events.OnboardingArrive)}onOnboardingStarted(){this.browserAnalytics.track(Events.OnboardingStart)}onOnboardingPromptTypeSelected(et){this.browserAnalytics.track(Events.OnboardingSubmitPromptTypeSelect,{type:et})}onOnboardingPromptsReviewed(et){this.browserAnalytics.track(Events.OnboardingSubmitPromptReview,{count:et})}onOnboardingCompleted(et){this.browserAnalytics.track(Events.OnboardingComplete,{...et,sendGift:dayjs(et.sendGift).format("MM/DD/YYYY")})}onOnboardingEnded(){this.browserAnalytics.track(Events.OnboardingEnd)}}class DefaultPollAnalyticsService{constructor(et){this.browserAnalytics=et}onPollCreated(){this.browserAnalytics.track(Events.PollCreated,{})}onPollDeleted(){this.browserAnalytics.track(Events.PollDeleted,{})}onPollQuestionsShuffled(){this.browserAnalytics.track(Events.PollQuestionsShuffled,{})}onPollVoted(){this.browserAnalytics.track(Events.PollVoted,{})}}var Weekday=(_e=>(_e.SUNDAY="Sunday",_e.MONDAY="Monday",_e.TUESDAY="Tuesday",_e.WEDNESDAY="Wednesday",_e.THURSDAY="Thursday",_e.FRIDAY="Friday",_e.SATURDAY="Saturday",_e))(Weekday||{});function getTimezoneInfo(_e){const et=dayjs().tz(_e),nt=new Intl.DateTimeFormat("en-US",{timeZone:_e,hour:"numeric",minute:"numeric",timeZoneName:"short"}).formatToParts(et.toDate()).find(ut=>ut.type==="timeZoneName"),it=(nt==null?void 0:nt.value)??null,at=et.utcOffset()/60,ot=Math.floor(Math.abs(at)),st=Math.round((Math.abs(at)-ot)*60);let lt=_e.replaceAll("_"," ");it!=null&&(lt+=` (${it})`),lt+=` - UTC${at>=0?"+":"-"}${ot}:${String(st).padStart(2,"0")}`;const ct=`${_e.replaceAll("_"," ")} (${at>0?"+":"-"}${Math.abs(at)})`;return{id:_e,offset:at,shortAbbreviation:it??ct,displayName:lt}}function getCurrentTimezoneId(){return Intl.DateTimeFormat().resolvedOptions().timeZone}function getCurrentTimezoneInfo(){return getTimezoneInfo(getCurrentTimezoneId())}function getAllTimezonesIds(){return Intl.supportedValuesOf("timeZone")}function formatTimeWithTimezone(_e,et){return`${dayjs(_e,"HH:mm").format("h:mm A")} ${et.shortAbbreviation}`}class DefaultProjectAnalyticsService{constructor(et){this.browserAnalytics=et}onProjectDefaultPerspectiveChanged(et,tt){this.browserAnalytics.track(Events.ProjectDefaultPerspectiveChange,{perspective:et,origin:tt})}onProjectDefaultPerspectiveDialogViewed(){this.browserAnalytics.track(Events.ProjectDefaultPerspectiveDialogViewed)}onProjectDefaultNotificationsIntervalChanged(et,tt,rt,nt){const[it,at]=tt.split(":").map(st=>parseInt(st,10)),ot=it+at/60;this.browserAnalytics.track(Events.ProjectDefaultNotificationIntervalChange,{sendOnTime:ot,sendOnMondays:rt.has(Weekday.MONDAY),sendOnTuesdays:rt.has(Weekday.TUESDAY),sendOnWednesdays:rt.has(Weekday.WEDNESDAY),sendOnThursdays:rt.has(Weekday.THURSDAY),sendOnFridays:rt.has(Weekday.FRIDAY),sendOnSaturdays:rt.has(Weekday.SATURDAY),sendOnSundays:rt.has(Weekday.SUNDAY),sendOnDays:rt.size,interval:et,origin:nt})}}class DefaultPromptAnalyticsService{constructor(et){this.browserAnalytics=et}onUpcomingPromptsArrived(){this.browserAnalytics.track(Events.UpcomingPromptsArrive,{})}onUpcomingPromptsNewPromptPressed(et){this.browserAnalytics.track(Events.UpcomingPromptsNewPrompt,{variant:et})}onUpcomingPromptsReordered(){this.browserAnalytics.track(Events.UpcomingPromptsReorder,{})}onUpcomingPromptsActionPerformed(et){this.browserAnalytics.track(Events.UpcomingPromptsAction,{cta:et})}onPromptBankArrived(){this.browserAnalytics.track(Events.PromptBankArrive)}onPromptBankQuestionSelected(et){this.browserAnalytics.track(Events.PromptBankQuestionSelected,et)}onPromptBankPromptAdded(et){this.browserAnalytics.track(Events.PromptBankPromptAdded,et)}onPromptBankQuestionAdded(et){this.browserAnalytics.track(Events.PromptBankQuestionAdded,et)}onPromptBankPromptsAdded(et){this.browserAnalytics.track(Events.PromptBankPromptsAdded,{count:et})}onPromptBankPromptEdited(et){this.browserAnalytics.track(Events.PromptBankPromptEdited,et)}onPromptBankActionPerformed(et){this.browserAnalytics.track(Events.PromptBankAction,{cta:et})}onPromptBankCustomPromptAdded(){this.browserAnalytics.track(Events.PromptBankPromptAddedCustom)}onPromptArrived(et){this.browserAnalytics.track(Events.PromptArrive,{variant:et})}onPromptActionPerformed(et){this.browserAnalytics.track(Events.PromptAction,{cta:et})}onPromptPhotoPickerOpened(et){this.browserAnalytics.track(Events.PromptPhotoBrowse,{variant:et})}onPromptPhotoSelected(){this.browserAnalytics.track(Events.PromptPhotoSelect,{})}}class DefaultQuestionnaireAnalyticsService{constructor(et){this.browserAnalytics=et}onQuestionnaireArrived(){this.browserAnalytics.track(Events.QuestionnaireArrive)}onQuestionnaireQuestionArrived(et){this.browserAnalytics.track(Events.QuestionnaireQuestionArrive,{question:et})}onQuestionnaireQuestionSelected(et,tt){this.browserAnalytics.track(Events.QuestionnaireQuestionSelect,{question:et,option:tt})}onQuestionnaireQuestionDeselected(et,tt){this.browserAnalytics.track(Events.QuestionnaireQuestionDeselect,{question:et,option:tt})}onQuestionnaireResultArrived(et){this.browserAnalytics.track(Events.QuestionnaireResultArrive,{question:et})}onQuestionnaireSkipped(){this.browserAnalytics.track(Events.QuestionnaireSkip)}}class DefaultReferralAnalyticsService{constructor(et){this.browserAnalytics=et}onReferralShared(et){this.browserAnalytics.track(Events.ReferralShare,{shareType:et})}}const ReactionSentimentDescription={LOVE:"love",FUNNY:"laugh",SURPRISING:"surprise",TOUCHING:"holding back tears"};class DefaultStoryViewerAnalytics{constructor(et){this.browserAnalytics=et}onStoryArrived(){this.browserAnalytics.track(Events.StoryViewerArrive,{})}onStoryWatched(et,tt){this.browserAnalytics.track(Events.StoryViewerWatch,{duration:et,type:tt})}onStoryShared(et,tt){this.browserAnalytics.track(Events.StoryViewerShare,{page:et,target:tt})}onStoryMuted(et){this.browserAnalytics.track(Events.StoryViewerMute,{type:et})}onStoryLiked(){this.browserAnalytics.track(Events.StoryViewerLike,{})}onStoryDownloaded(et){this.browserAnalytics.track(Events.StoryViewerDownload,{type:et})}onStorySummaryActionPerformed(et){this.browserAnalytics.track(Events.StoryViewerSummaryAction,{cta:et})}onStoryEditModeArrived(){this.browserAnalytics.track(Events.StoryViewerEditModeArrive,{})}onStoryRegenerateOpened(){this.browserAnalytics.track(Events.StoryViewerRegenerateOpen,{})}onStorySummaryUpdated(et){this.browserAnalytics.track(Events.StoryViewerSummaryUpdate,{type:et})}onStoryPhotoAdded(){this.browserAnalytics.track(Events.StoryViewerPhotoAdd,{})}onStoryPhotoUpdated(){this.browserAnalytics.track(Events.StoryViewerPhotoUpdate,{})}onStoryPhotoRemoved(){this.browserAnalytics.track(Events.StoryViewerPhotoRemove,{})}onStoryGenerateOpen(et){this.browserAnalytics.track(Events.StoryGenerateOpen,{page:et})}onStoryGenerate(et){this.browserAnalytics.track(Events.StoryGenerate,{page:et})}onStoriesArrived(){this.browserAnalytics.track(Events.StoriesViewerArrive,{})}onStoriesOpened(){this.browserAnalytics.track(Events.StoriesViewerOpen,{})}onStoriesActionPerformed(et){this.browserAnalytics.track(Events.StoriesViewerAction,{action:et})}onReactionArrived(et){this.browserAnalytics.track(Events.ReactionArrive,{reactionSource:et})}onReactionSent(et,tt,rt){const nt=tt?ReactionSentimentDescription[tt]:null;this.browserAnalytics.track(Events.ReactionSent,{page:et,emoji:nt,textCustomized:rt})}}class DefaultStorytellingAnalyticsService{constructor(et){this.browserAnalytics=et}onRecordingIntroArrived(et,tt){const rt={isFirstTimeRecording:et,referrerRoute:tt};this.browserAnalytics.track(Events.StorytellingArrive,rt),this.browserAnalytics.track(Events.RecordingIntroArrive,rt)}onRecordingIntroVideoWatchedArrived(et){this.browserAnalytics.track(Events.RecordingIntroVideoWatchedArrive,{referrerRoute:et})}onStorytellingResponseStarted(et,tt){this.browserAnalytics.track(Events.StorytellingResponseStart,{variant:et,referrerRoute:tt})}onStorytellingLearnMorePressed(et,tt){this.browserAnalytics.track(Events.StorytellingLearnMore,{variant:et,referrerRoute:tt})}onRecordingPromptReviewArrived(){this.browserAnalytics.track(Events.RecordingPromptReviewArrived,{})}onRecordingTypeSelectionArrived(){this.browserAnalytics.track(Events.RecordingTypeSelectionArrive,{})}onRecordingTypeSetupArrived(et){this.browserAnalytics.track(Events.RecordingTypeSetupArrive,{recordingType:et})}onStorytellingInputSelected(et,tt,rt){this.browserAnalytics.track(Events.StorytellingInputsSelect,{variant:et,recordingType:tt,referrerRoute:rt})}onStorytellingInputPermissionDeclined(et,tt,rt){this.browserAnalytics.track(Events.StorytellingInputsDecline,{variant:et,recordingType:tt,referrerRoute:rt})}onStorytellingInputBrowseOpened(et,tt,rt){this.browserAnalytics.track(Events.StorytellingInputsBrowse,{variant:et,recordingType:tt,referrerRoute:rt})}onStorytellingInputChanged(et,tt,rt){this.browserAnalytics.track(Events.StorytellingInputsChange,{variant:et,recordingType:tt,referrerRoute:rt})}onRecordingInputsReviewArrived(){this.browserAnalytics.track(Events.RecordingInputsReviewArrive,{})}onRecordingReadyArrived(){this.browserAnalytics.track(Events.RecordingReadyArrive,{})}onStorytellingRecordingStarted(et,tt,rt){this.browserAnalytics.track(Events.StorytellingRecordingStart,{variant:et,recordingType:tt,referrerRoute:rt})}onStorytellingNextPrompt(et,tt,rt){this.browserAnalytics.track(Events.StorytellingRecordingNextPrompt,{variant:et,recordingType:tt,referrerRoute:rt})}onStorytellingRestarted(et,tt,rt){this.browserAnalytics.track(Events.StorytellingRecordingRestart,{variant:et,recordingType:tt,referrerRoute:rt})}onStorytellingRecordingEnded(et,tt,rt,nt){this.browserAnalytics.track(Events.StorytellingRecordingEnd,{variant:et,recordingType:tt,duration:rt,referrerRoute:nt})}onRecordingReviewArrived(){this.browserAnalytics.track(Events.RecordingReviewArrive,{})}onStorytellingRecordingFinished(et,tt,rt,nt){this.browserAnalytics.track(Events.StorytellingRecordingFinish,{variant:et,recordingType:tt,duration:rt,referrerRoute:nt})}onStorytellingRecordingSucceeded(et,tt,rt,nt){this.browserAnalytics.track(Events.StorytellingRecordingSuccess,{variant:et,recordingType:tt,duration:rt,referrerRoute:nt})}onStorytellingRecordingInterruptedError(et,tt,rt){this.browserAnalytics.track(Events.StorytellingRecordingInterruptError,{variant:et,recordingType:tt,referrerRoute:rt})}onStorytellingRecordingNoDataError(et,tt,rt){this.browserAnalytics.track(Events.StorytellingRecordingNoDataError,{variant:et,recordingType:tt,referrerRoute:rt})}onStorytellingRecordingQueueDisconnectedError(et,tt,rt){this.browserAnalytics.track(Events.StorytellingRecordingQueueDisconnectError,{variant:et,recordingType:tt,referrerRoute:rt})}onStorytellingActionPerformed(et,tt){this.browserAnalytics.track(Events.StorytellingAction,{cta:et,referrerRoute:tt})}onRecordingSettingsNotificationChanged(et,tt){this.browserAnalytics.track(Events.RecordingSettingsNotificationChanged,{...et,referrerRoute:tt})}}class DefaultSurveyAnalyticsService{constructor(et){this.browserAnalytics=et}onCheckoutSurveySubmitted(et){this.browserAnalytics.track(Events.SurveyCheckout,{reason:et})}onSubscriptionCancelledSurveySubmitted(et){this.browserAnalytics.track(Events.SurveySubscriptionCancelled,{reason:et})}onRecordingTryOutSurveySubmitted(et){this.browserAnalytics.track(Events.SurveyTryRecording,{score:et})}}class UserAnalyticsServiceImpl{constructor(et){this.browserAnalytics=et}onSignIn(et,tt){tt?this.browserAnalytics.track(Events.UserSignUp,{provider:et}):this.browserAnalytics.track(Events.UserSignIn,{provider:et})}onSignOut(){this.browserAnalytics.track(Events.UserSignOut)}onOnboardingProgress(et){this.browserAnalytics.track(Events.UserOnboardingProgress,{step:et})}}class WebappAnalyticsServiceImpl{constructor(et){this.browserAnalytics=et}onError(et){this.browserAnalytics.track(Events.Error,{errorUrl:et})}onMicrophonePermissionShown(){this.browserAnalytics.track(Events.PermissionMicrophoneShown,{})}onMicrophonePermissionGranted(){this.browserAnalytics.track(Events.PermissionMicrophoneGranted,{})}onMicrophonePermissionDenied(){this.browserAnalytics.track(Events.PermissionMicrophoneDenied,{})}onCameraPermissionShown(){this.browserAnalytics.track(Events.PermissionCameraShown,{})}onCameraPermissionGranted(){this.browserAnalytics.track(Events.PermissionCameraGranted,{})}onCameraPermissionDenied(){this.browserAnalytics.track(Events.PermissionCameraDenied,{})}onProjectSwapped(et){this.browserAnalytics.track(Events.ActionSwapProject,{source:et})}onHomePressed(){this.browserAnalytics.track(Events.ActionHome,{})}onStoriesPressed(){this.browserAnalytics.track(Events.ActionStories,{})}onUpcomingPromptsPressed(){this.browserAnalytics.track(Events.ActionUpcomingPrompts,{})}onProjectSettingsPressed(){this.browserAnalytics.track(Events.ActionBookSettings,{})}onViewBookPressed(){this.browserAnalytics.track(Events.ActionViewBook,{})}onMyAccountPressed(){this.browserAnalytics.track(Events.ActionMyAccount,{})}onOrderBooksPressed(){this.browserAnalytics.track(Events.ActionOrderBooks,{})}onGiftPressed(){this.browserAnalytics.track(Events.ActionGiftRemento,{})}onReferralPressed(){this.browserAnalytics.track(Events.ActionReferRemento,{})}onPageArrived(et,tt){this.browserAnalytics.page(et,tt)}}var AuthStateType=(_e=>(_e.SignedIn="signed-in",_e.SignedOut="signed-out",_e))(AuthStateType||{}),AuthStateTransition=(_e=>(_e.SignIn="sign-in",_e.SignOut="sign-out",_e))(AuthStateTransition||{});let booted=!1;function getIntercomUser(_e){return _e.type==="anonymous"?{}:{user_id:_e.id,name:_e.traits.name??void 0,email:_e.traits.email??void 0,session_duration:Number.MAX_SAFE_INTEGER}}class DefaultIntercomService{constructor(et,tt){this.intercomAppId=et,this.loadIntercom(),this.boot(getIntercomUser(tt))}async identify(et){this.boot(getIntercomUser(et))}async reset(){this.shutdown()}setChatDisplayed(et){et?this.makeApiCall("show"):this.makeApiCall("hide")}setBubbleDisplayed(et){this.update({hide_default_launcher:!et})}update(et){window.intercomSettings={...window.intercomSettings,...et},this.makeApiCall("update",et)}shutdown(){booted&&(this.makeApiCall("shutdown"),delete window.intercomSettings,booted=!1)}boot(et){if(booted){this.update(et);return}const tt={app_id:this.intercomAppId,...et};window.intercomSettings=tt,this.makeApiCall("boot",tt),booted=!0}makeApiCall(et,...tt){if(window.Intercom)return window.Intercom.apply(null,[et,...tt]);throw new Error("Intercom not initialized")}loadIntercom(){const et=window,tt=et.Intercom;if(typeof tt=="function")tt("reattach_activator"),tt("update",et.intercomSettings);else{const rt=document,nt=function(...ot){nt.c(ot)};nt.q=[],nt.c=function(ot){nt.q.push(ot)},et.Intercom=nt;const it=rt.createElement("script");it.type="text/javascript",it.async=!0,it.src="https://widget.intercom.io/widget/"+this.intercomAppId;const at=rt.getElementsByTagName("script")[0];at.parentNode.insertBefore(it,at)}}}class DefaultProjectHomeAnalyticsService{constructor(et){this.browserAnalytics=et}onTipClicked(et){this.browserAnalytics.track(Events.ProjectHomeTipClicked,{tip:et})}onRecordPromptClicked(){this.browserAnalytics.track(Events.ProjectHomeRecordPromptClicked,{})}onMarketingOfferClicked(){this.browserAnalytics.track(Events.ProjectHomeMarketingOfferClicked,{})}}const logger$7=createLogger("analytics-services-init");class NoopBrowserAnalytics extends BrowserAnalytics{async enableSegment(){}async identify(et,tt,rt,nt){}async reset(){}async page(et,tt){}async track(et,tt){}}async function createAnalyticsServicesInstances(_e,et,tt,rt,nt,it){const at=async It=>{var Tt,Rt,Ft;const Dt=await rt.getPerson(It.personId);return{appBookUserId:It.id,email:It.communicationChannels.email,phone:It.communicationChannels.phone!=null?`+${It.communicationChannels.phone.countryCode}${It.communicationChannels.phone.number}`:null,name:(Tt=Dt==null?void 0:Dt.name)==null?void 0:Tt.full,firstName:(Rt=Dt==null?void 0:Dt.name)==null?void 0:Rt.first,lastName:(Ft=Dt==null?void 0:Dt.name)==null?void 0:Ft.last}},ot=await et.getUser(),st=createLogger("analytics-client"),lt=new IDRepository("remento.co"),ct=new IDServiceClient("https://www.remento.co/api/a"),ut=new AnalyticsServiceClient("https://www.remento.co/api/a");if((ot==null?void 0:ot.ruid)!=null){const It=lt.get();(It.type!="identified"||It.id!=ot.ruid)&&lt.save({id:ot.ruid,type:"identified",traits:{},anonymousId:It.type=="anonymous"?It.id:It.anonymousId,source:"new"})}let dt=lt.get();dt.source==="new"&&(dt=lt.save(dt)),dt.source==="utm"&&(dt=lt.saveForSession(dt));const ft={source:"remento-book-webapp",segment:{key:"OSGRDVRIilTVp3ptsl0DSpPbseww8aFW",apiHost:"www.remento.co/api/seg",cdnURL:"https://www.remento.co/cdn/seg"}},pt=tt.isSessionImpersonated()?new NoopBrowserAnalytics(ut,ct,it,st,dt,ft):new BrowserAnalytics(ut,ct,it,st,dt,ft),ht=new WebappAnalyticsServiceImpl(pt),yt=new UserAnalyticsServiceImpl(pt),mt=new DefaultPromptAnalyticsService(pt),gt=new DefaultStoryViewerAnalytics(pt),vt=new DefaultStorytellingAnalyticsService(pt),St=new DefaultCheckoutAnalyticsService(pt),xt=new DefaultOnboardingAnalyticsService(pt),Ct=new DefaultCollaborationAnalyticsService(pt),wt=new DefaultPollAnalyticsService(pt),_t=new DefaultQuestionnaireAnalyticsService(pt),Ot=new DefaultProjectAnalyticsService(pt),kt=new DefaultSurveyAnalyticsService(pt),Lt=new DefaultReferralAnalyticsService(pt),$t=new DefaultProjectHomeAnalyticsService(pt);let zt;const Vt="dg59io5v";return tt.isSessionImpersonated()||(zt=new DefaultIntercomService(Vt,dt)),nt.identify(dt),nt.onError(It=>{ht.onError(It)}),pt.on("track",(It,Dt)=>{nt.track(It,Dt)}),pt.on("page",It=>{nt.page(It)}),pt.on("identify",It=>{lt.save(It),nt.identify(It),zt==null||zt.identify(It)}),pt.on("reset",It=>{lt.save(It),nt.reset(It),zt==null||zt.reset()}),et.onUserChanged(async It=>{It!=null&&pt.identify({type:"email",value:It.communicationChannels.email},"book-user",await at(It)).catch(Dt=>logger$7.error("IDENTIFY_FAILED",()=>({error:Dt})))}),_e.onAuthChanged(It=>{if(It.type===AuthStateType.SignedOut){yt.onSignOut(),pt.reset();return}yt.onSignIn(It.authProvider,It.isNewUser)}),(async()=>{logger$7.debug("WISEPOPS_SETUP.START"),await waitForWisepopsLoaded(),window.wisepops("listen","after-form-submit",async function(It){const Dt=It.target,Tt=extractFormPayload(logger$7,Dt);if(Tt==null)return;logger$7.debug("WISEPOP_FORM_SUBMITTED",()=>({extractedPayload:Tt,eventDetail:It.detail}));const Rt=[];Tt.data.email!=null&&Rt.push({type:"email",value:Tt.data.email}),Tt.data.phone!=null&&Rt.push({type:"phone",value:Tt.data.phone}),Rt.length>0&&await pt.identify(Rt,"wisepops-survey",{unsubscribed:!1}),pt.track("website.form",{...Tt.data,wpCampaignId:It.detail.popup.campaignId,wpDialogId:It.detail.popup.id})}),logger$7.debug("WISEPOPS_SETUP.DONE")})(),{browserAnalytics:pt,webappAnalyticsService:ht,promptAnalyticsService:mt,storyViewerAnalyticsService:gt,storytellingAnalyticsService:vt,checkoutAnalyticsService:St,onboardingAnalyticsService:xt,collaborationAnalyticsService:Ct,pollAnalyticsService:wt,questionnaireAnalyticsService:_t,projectAnalyticsService:Ot,surveyAnalyticsService:kt,referralAnalyticsService:Lt,projectHomeAnalyticsService:$t,userAnalyticsService:yt,intercomService:zt}}var AssetType;(function(_e){_e.CLIENT_STATE="client-state",_e.IMAGE="image",_e.VIDEO="video",_e.VIDEO_RECORDING="video-recording",_e.AUDIO_RECORDING="audio-recording",_e.PDF_DOCUMENT="pdf-document",_e.RECORDING_DATA="recording-data"})(AssetType||(AssetType={}));var AssetStatus;(function(_e){_e.UPLOAD_PENDING="upload-pending",_e.ENTITY_PENDING="entity-pending",_e.ACTIVE="active"})(AssetStatus||(AssetStatus={}));var AssetProcessingStatus;(function(_e){_e.PROCESS_PENDING="process-pending",_e.PROCESSING="processing",_e.PROCESS_FAILED="process-failed",_e.PROCESSED="processed"})(AssetProcessingStatus||(AssetProcessingStatus={}));var AssetMutationType;(function(_e){_e.SET_STATUS="set-status",_e.SET_PROCESSING_STATUS="set-processing-status",_e.LINK_ENTITY="link-entity",_e.UNLINK_ENTITY="unlink-entity",_e.SET_WORKER_ID="set-worker-id"})(AssetMutationType||(AssetMutationType={}));z$1.discriminatedUnion("type",[z$1.object({type:z$1.literal(AssetMutationType.UNLINK_ENTITY),value:z$1.object({type:z$1.nativeEnum(EntityType),id:z$1.string()}),vclock:z$1.number(),version:z$1.number()})]);var crc32c={};/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */(function(_e){(function(et){et(typeof DO_NOT_EXPORT_CRC>"u"?_e:{})})(function(et){et.version="1.2.2";function tt(){for(var _t=0,Ot=new Array(256),kt=0;kt!=256;++kt)_t=kt,_t=_t&1?-2097792136^_t>>>1:_t>>>1,_t=_t&1?-2097792136^_t>>>1:_t>>>1,_t=_t&1?-2097792136^_t>>>1:_t>>>1,_t=_t&1?-2097792136^_t>>>1:_t>>>1,_t=_t&1?-2097792136^_t>>>1:_t>>>1,_t=_t&1?-2097792136^_t>>>1:_t>>>1,_t=_t&1?-2097792136^_t>>>1:_t>>>1,_t=_t&1?-2097792136^_t>>>1:_t>>>1,Ot[kt]=_t;return typeof Int32Array<"u"?new Int32Array(Ot):Ot}var rt=tt();function nt(_t){var Ot=0,kt=0,Lt=0,$t=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Lt=0;Lt!=256;++Lt)$t[Lt]=_t[Lt];for(Lt=0;Lt!=256;++Lt)for(kt=_t[Lt],Ot=256+Lt;Ot<4096;Ot+=256)kt=$t[Ot]=kt>>>8^_t[kt&255];var zt=[];for(Lt=1;Lt!=16;++Lt)zt[Lt-1]=typeof Int32Array<"u"?$t.subarray(Lt*256,Lt*256+256):$t.slice(Lt*256,Lt*256+256);return zt}var it=nt(rt),at=it[0],ot=it[1],st=it[2],lt=it[3],ct=it[4],ut=it[5],dt=it[6],ft=it[7],pt=it[8],ht=it[9],yt=it[10],mt=it[11],gt=it[12],vt=it[13],St=it[14];function xt(_t,Ot){for(var kt=Ot^-1,Lt=0,$t=_t.length;Lt<$t;)kt=kt>>>8^rt[(kt^_t.charCodeAt(Lt++))&255];return~kt}function Ct(_t,Ot){for(var kt=Ot^-1,Lt=_t.length-15,$t=0;$t<Lt;)kt=St[_t[$t++]^kt&255]^vt[_t[$t++]^kt>>8&255]^gt[_t[$t++]^kt>>16&255]^mt[_t[$t++]^kt>>>24]^yt[_t[$t++]]^ht[_t[$t++]]^pt[_t[$t++]]^ft[_t[$t++]]^dt[_t[$t++]]^ut[_t[$t++]]^ct[_t[$t++]]^lt[_t[$t++]]^st[_t[$t++]]^ot[_t[$t++]]^at[_t[$t++]]^rt[_t[$t++]];for(Lt+=15;$t<Lt;)kt=kt>>>8^rt[(kt^_t[$t++])&255];return~kt}function wt(_t,Ot){for(var kt=Ot^-1,Lt=0,$t=_t.length,zt=0,Vt=0;Lt<$t;)zt=_t.charCodeAt(Lt++),zt<128?kt=kt>>>8^rt[(kt^zt)&255]:zt<2048?(kt=kt>>>8^rt[(kt^(192|zt>>6&31))&255],kt=kt>>>8^rt[(kt^(128|zt&63))&255]):zt>=55296&&zt<57344?(zt=(zt&1023)+64,Vt=_t.charCodeAt(Lt++)&1023,kt=kt>>>8^rt[(kt^(240|zt>>8&7))&255],kt=kt>>>8^rt[(kt^(128|zt>>2&63))&255],kt=kt>>>8^rt[(kt^(128|Vt>>6&15|(zt&3)<<4))&255],kt=kt>>>8^rt[(kt^(128|Vt&63))&255]):(kt=kt>>>8^rt[(kt^(224|zt>>12&15))&255],kt=kt>>>8^rt[(kt^(128|zt>>6&63))&255],kt=kt>>>8^rt[(kt^(128|zt&63))&255]);return~kt}et.table=rt,et.bstr=xt,et.buf=Ct,et.str=wt})})(crc32c);const Crc32=getDefaultExportFromCjs(crc32c),logger$6=createLogger("api"),api=axios.create({baseURL:"https://api-v36wh5jacq-uc.a.run.app",adapter:"fetch"});api.interceptors.response.use(_e=>_e,async _e=>{var lt,ct;if(!isAxiosError(_e)||!_e.config||!((lt=_e.response)!=null&&lt.data)||!isSerializableRementoError(_e.response.data))throw _e;const et=deserializeRementoError(_e.response.data);if(!(et instanceof ConflictError)||((ct=et.data)==null?void 0:ct.type)!==ConflictErrorType.VCLOCK_MISMATCH||et.data.updatedEntities===null)throw _e;const tt=_e.config;if(tt.retry===void 0&&(tt.retry=0),tt.retry>=3)throw _e;tt.retry+=1;const rt=250*Math.pow(1.2,tt.retry),nt=new Promise(ut=>{setTimeout(()=>{console.log("Retrying mutations"),ut()},rt)}),it=et.data.updatedEntities,at="entities"in it?it.entities:it,st=JSON.parse(tt.data).map(ut=>{const dt=at[ut.type];if(!dt)throw new Error(`Missing updated entity for type ${ut.type} and id ${ut.id}`);const ft=dt.find(pt=>pt.id===ut.id);if(!ft)throw new Error(`Missing updated entity for type ${ut.type} and id ${ut.id}`);if(!("vclock"in ft&&"version"in ft))throw new Error(`Entity ${ut.type}:${ut.id} does not have a vclock`);return{...ut,mutations:ut.mutations.map(pt=>({...pt,vclock:ft.vclock,version:ft.version}))}});return await nt,api({...tt,data:st})});api.interceptors.response.use(_e=>_e,_e=>{var tt,rt,nt;let et=_e;return isAxiosError(_e)&&(et=_e.toJSON(),(rt=(tt=et.config)==null?void 0:tt.headers)!=null&&rt.Authorization&&(et.config.headers.Authorization="***")),isAxiosError(_e)&&isSerializableRementoError((nt=_e.response)==null?void 0:nt.data)?logger$6.warn("REQUEST_ERROR",()=>({error:et})):(isAxiosError(_e)===!1||_e.code!=="ERR_CANCELED")&&logger$6.error("REQUEST_ERROR",()=>({error:et})),Promise.reject(_e)});api.interceptors.response.use(_e=>_e,_e=>{var et;if(isAxiosError(_e)){if(isSerializableRementoError((et=_e.response)==null?void 0:et.data))throw deserializeRementoError(_e.response.data);if(_e.code==="ERR_NETWORK")throw new NetworkError("Network error",_e)}throw new UnknownError(String(_e),_e instanceof Error?_e:null)});class DefaultAssetService{constructor(et,tt){kr(this,"logger",createLogger("asset-service"));this.authService=et,this.authorizationService=tt}async getAsset(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/assets/${et}`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getAssetAlternatives(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/assets/${et}/alternatives`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getAlternative(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/alternatives/${et}`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getAlternativeUrlParams(){const et=new URLSearchParams,tt=await this.authService.getAuthToken();tt&&et.set("authToken",`Bearer ${tt}`);const rt=this.authorizationService.getPermissionTokens();for(const nt of rt)et.append("token",nt);return et}async getAlternativeFileUrl(et){return api.getUri({url:`/alternatives/${et}/file`,params:await this.getAlternativeUrlParams()})}async getAlternativeVideoUrl(et){return api.getUri({url:`/alternatives/${et}/video`,params:await this.getAlternativeUrlParams()})}async getAlternativeDownloadVideoUrl(et,tt,rt){const nt=await this.authorizationService.getCredentialsForRequest(),it=new URLSearchParams(nt.params);it.set("download-name",tt);const{data:at}=await api.get(`/alternatives/${et}/video/download`,{params:it,headers:nt.headers,signal:rt==null?void 0:rt.signal});return at.url}async createAsset(et){const tt=await this.authorizationService.getCredentialsForRequest(),rt=new FormData;rt.set("data",JSON.stringify(et.data)),rt.set("asset",et.file);const{data:nt}=await api.post("/assets",rt,{params:tt.params,headers:tt.headers});return nt}async createFilestackAsset(et){const tt=await this.authorizationService.getCredentialsForRequest(),{data:rt}=await api.post("/assets/filestack",et,{params:tt.params,headers:tt.headers});return rt}async startAssetUpload(et){const tt=await this.authorizationService.getCredentialsForRequest(),{data:rt}=await api.post("/assets/start-upload",et,{params:tt.params,headers:tt.headers});return rt}async uploadChunk(et,tt,rt){const nt=Crc32.buf(rt)>>>0;this.logger.debug("ASSET_SERVICE.UPLOAD_CHUNK.BEFORE_CREDENTIALS",()=>({assetId:et,size:rt.length,chunkIndex:tt,crc32c:nt}));const it=await this.authorizationService.getCredentialsForRequest(),at=new URLSearchParams(it.params);at.set("crc32c",String(nt)),this.logger.debug("ASSET_SERVICE.UPLOAD_CHUNK.BEFORE_REQUEST",()=>({assetId:et,size:rt.length,chunkIndex:tt,crc32c:nt})),await api.put(`/assets/${et}/chunks/${tt}`,rt,{params:at,headers:{...it.headers,"Content-Type":"application/octet-stream"}})}async finishAssetUpload(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.post(`/assets/${et}/finish-upload`,{metadata:tt},{params:rt.params,headers:rt.headers});return nt}createUnlinkEntityMutation(et,tt){return[{type:EntityType.ASSET,id:et.id,mutations:[{type:AssetMutationType.UNLINK_ENTITY,value:tt,vclock:et.vclock,version:et.version}]}]}}class DefaultAssetCacheService{constructor(et,tt,rt){this.remoteService=et,this.entityCacheManagerService=tt,this.queryClient=rt}getAsset(et){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildEntityQuery(EntityType.ASSET,et,()=>this.remoteService.getAsset(et)))}getAssetAlternatives(et){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildCollectionQuery(EntityType.ASSET_ALTERNATIVE,{assetId:et},()=>this.remoteService.getAssetAlternatives(et)))}getAlternative(et){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildEntityQuery(EntityType.ASSET_ALTERNATIVE,et,()=>this.remoteService.getAlternative(et)))}}function useAbortableEffect(_e,et){return reactExports.useEffect(()=>{const tt=new AbortController,rt=_e(tt.signal);return()=>{tt.abort(),rt!=null&&rt()}},et)}function useAsyncEffect(_e,et){const[tt,rt]=reactExports.useState(null);if(useAbortableEffect(nt=>{_e(()=>{if(nt.aborted)throw new DOMException("Aborted","AbortError")},nt).catch(it=>{it instanceof DOMException&&it.name==="AbortError"||rt(it)})},et),tt!=null)throw tt}function areAllQueriesLoaded(_e){return _e.every(et=>et.data!==void 0)}function useEntity(_e,et,tt,rt,nt){const{entityCacheManagerService:it}=useServices();return useQuery({...et?{...it.buildEntityQuery(_e,et,tt,void 0),throwOnError:nt}:{queryKey:[_e],enabled:!1}})}function useEntityByForeignId(_e,et,tt,rt,nt,it){const{entityCacheManagerService:at}=useServices(),[ot,st]=reactExports.useState(null);return reactExports.useEffect(()=>{if(et==null){st(null);return}tt(et).then(st).catch(lt=>Promise.reject(lt))},[tt,et]),useQuery({...ot?{...at.buildEntityQuery(_e,ot,rt,nt??void 0),throwOnError:it}:{queryKey:[_e],enabled:!1}})}function useCollection$1(_e,et,tt){const{entityCacheManagerService:rt}=useServices();return useQuery({...et?rt.buildCollectionQuery(_e,et,tt):{queryKey:[_e],enabled:!1}})}function useCollectionEntityData(_e,et,tt){const{entityCacheManagerService:rt}=useServices();return useQueries({combine:reactExports.useCallback(nt=>{if(_e!==void 0){if(_e===null)return null;if(!(_e.length>0&&!areAllQueriesLoaded(nt)))return nt.map(it=>it.data).filter(notNull)}},[_e]),queries:reactExports.useMemo(()=>(_e??[]).map(nt=>rt.buildEntityQuery(et,nt,()=>tt(nt))),[rt,_e,et,tt])})}function buildCommonContext(_e,et,tt){return{context:_e.getContext(),user:et.getContext(),hasReplay:tt.isRecording()?!0:void 0}}function createCustomVitalsState(){var _e=new Map,et=new WeakMap;return{vitalsByName:_e,vitalsByReference:et}}function startVitalCollection(_e,et,tt){function rt(it){return!et.wasInPageStateDuringPeriod("frozen",it.startClocks.relative,it.duration)}function nt(it){rt(it)&&_e.notify(11,processVital(it))}return{addDurationVital:nt,startDurationVital:function(it,at){return at===void 0&&(at={}),startDurationVital(tt,it,at)},stopDurationVital:function(it,at){at===void 0&&(at={}),stopDurationVital(nt,tt,it,at)}}}function startDurationVital(_e,et,tt){var rt=_e.vitalsByName,nt=_e.vitalsByReference;tt===void 0&&(tt={});var it={name:et,startClocks:clocksNow(),context:tt.context,description:tt.description},at={__dd_vital_reference:!0};return rt.set(et,it),nt.set(at,it),at}function stopDurationVital(_e,et,tt,rt){var nt=et.vitalsByName,it=et.vitalsByReference;rt===void 0&&(rt={});var at=typeof tt=="string"?nt.get(tt):it.get(tt);at&&(_e(buildDurationVital(at,at.startClocks,rt,clocksNow())),typeof tt=="string"?nt.delete(tt):it.delete(tt))}function buildDurationVital(_e,et,tt,rt){var nt;return{name:_e.name,type:"duration",startClocks:et,duration:elapsed(et.timeStamp,rt.timeStamp),context:combine(_e.context,tt.context),description:(nt=tt.description)!==null&&nt!==void 0?nt:_e.description}}function processVital(_e,et){var tt={date:_e.startClocks.timeStamp,vital:{id:generateUUID(),type:_e.type,name:_e.name,duration:toServerDuration(_e.duration),description:_e.description},type:"vital"};return tt._dd={vital:{computed_value:!0}},{rawRumEvent:tt,startTime:_e.startClocks.relative,customerContext:_e.context,domainContext:{}}}function getCrypto(){return window.crypto||window.msCrypto}function createTraceIdentifier(){return createIdentifier(64)}function createSpanIdentifier(){return createIdentifier(63)}var createIdentifierImplementationCache;function createIdentifier(_e){return createIdentifierImplementationCache||(createIdentifierImplementationCache=isExperimentalFeatureEnabled(ExperimentalFeature.CONSISTENT_TRACE_SAMPLING)&&areBigIntIdentifiersSupported()?createIdentifierUsingBigInt:createIdentifierUsingUint32Array),createIdentifierImplementationCache(_e)}function areBigIntIdentifiersSupported(){try{return crypto.getRandomValues(new BigUint64Array(1)),!0}catch{return!1}}function createIdentifierUsingBigInt(_e){var et=crypto.getRandomValues(new BigUint64Array(1))[0];return _e===63&&(et>>=BigInt("1")),et}function createIdentifierUsingUint32Array(_e){var et=getCrypto().getRandomValues(new Uint32Array(2));return _e===63&&(et[et.length-1]>>>=1),{toString:function(tt){tt===void 0&&(tt=10);var rt=et[1],nt=et[0],it="";do{var at=rt%tt*4294967296+nt;rt=Math.floor(rt/tt),nt=Math.floor(at/tt),it=(at%tt).toString(tt)+it}while(rt||nt);return it}}}function toPaddedHexadecimalString(_e){var et=_e.toString(16);return Array(17-et.length).join("0")+et}function isTraceSampled(_e,et){if(et===100)return!0;if(et===0)return!1;if(typeof _e!="bigint")return performDraw(et);var tt=BigInt("1111111111111111111"),rt=BigInt("0x10000000000000000"),nt=_e*tt%rt;return Number(nt)<=et/100*Number(rt)}function isTracingOption(_e){var et=_e;return getType(et)==="object"&&isMatchOption(et.match)&&Array.isArray(et.propagatorTypes)}function clearTracingIfNeeded(_e){_e.status===0&&!_e.isAborted&&(_e.traceId=void 0,_e.spanId=void 0,_e.traceSampled=void 0)}function startTracer(_e,et){return{clearTracingIfNeeded,traceFetch:function(tt){return injectHeadersIfTracingAllowed(_e,tt,et,function(rt){var nt;if(tt.input instanceof Request&&!(!((nt=tt.init)===null||nt===void 0)&&nt.headers))tt.input=new Request(tt.input),Object.keys(rt).forEach(function(at){tt.input.headers.append(at,rt[at])});else{tt.init=shallowClone(tt.init);var it=[];tt.init.headers instanceof Headers?tt.init.headers.forEach(function(at,ot){it.push([ot,at])}):Array.isArray(tt.init.headers)?tt.init.headers.forEach(function(at){it.push(at)}):tt.init.headers&&Object.keys(tt.init.headers).forEach(function(at){it.push([at,tt.init.headers[at]])}),tt.init.headers=it.concat(objectEntries(rt))}})},traceXhr:function(tt,rt){return injectHeadersIfTracingAllowed(_e,tt,et,function(nt){Object.keys(nt).forEach(function(it){rt.setRequestHeader(it,nt[it])})})}}}function injectHeadersIfTracingAllowed(_e,et,tt,rt){if(!(!isTracingSupported()||!tt.findTrackedSession())){var nt=find(_e.allowedTracingUrls,function(ot){return matchList([ot.match],et.url,!0)});if(nt){var it=createTraceIdentifier();et.traceSampled=isTraceSampled(it,_e.traceSampleRate);var at=et.traceSampled||_e.traceContextInjection===TraceContextInjection.ALL;at&&(et.traceId=it,et.spanId=createSpanIdentifier(),rt(makeTracingHeaders(et.traceId,et.spanId,et.traceSampled,nt.propagatorTypes)))}}}function isTracingSupported(){return getCrypto()!==void 0}function makeTracingHeaders(_e,et,tt,rt){var nt={};return rt.forEach(function(it){switch(it){case"datadog":{assign$3(nt,{"x-datadog-origin":"rum","x-datadog-parent-id":et.toString(),"x-datadog-sampling-priority":tt?"1":"0","x-datadog-trace-id":_e.toString()});break}case"tracecontext":{assign$3(nt,{traceparent:"00-0000000000000000".concat(toPaddedHexadecimalString(_e),"-").concat(toPaddedHexadecimalString(et),"-0").concat(tt?"1":"0")});break}case"b3":{assign$3(nt,{b3:"".concat(toPaddedHexadecimalString(_e),"-").concat(toPaddedHexadecimalString(et),"-").concat(tt?"1":"0")});break}case"b3multi":{assign$3(nt,{"X-B3-TraceId":toPaddedHexadecimalString(_e),"X-B3-SpanId":toPaddedHexadecimalString(et),"X-B3-Sampled":tt?"1":"0"});break}}}),nt}var DEFAULT_PROPAGATOR_TYPES=["tracecontext","datadog"];function validateAndBuildRumConfiguration(_e){var et,tt,rt;if(!_e.applicationId){display.error("Application ID is not configured, no RUM data will be collected.");return}if(!(!isSampleRate(_e.sessionReplaySampleRate,"Session Replay")||!isSampleRate(_e.traceSampleRate,"Trace"))){if(_e.excludedActivityUrls!==void 0&&!Array.isArray(_e.excludedActivityUrls)){display.error("Excluded Activity Urls should be an array");return}var nt=validateAndBuildTracingOptions(_e);if(nt){var it=validateAndBuildConfiguration(_e);if(it){var at=(et=_e.sessionReplaySampleRate)!==null&&et!==void 0?et:0;return assign$3({applicationId:_e.applicationId,version:_e.version||void 0,actionNameAttribute:_e.actionNameAttribute,sessionReplaySampleRate:at,startSessionReplayRecordingManually:_e.startSessionReplayRecordingManually!==void 0?!!_e.startSessionReplayRecordingManually:at===0,traceSampleRate:(tt=_e.traceSampleRate)!==null&&tt!==void 0?tt:100,rulePsr:isNumber$4(_e.traceSampleRate)?_e.traceSampleRate/100:void 0,allowedTracingUrls:nt,excludedActivityUrls:(rt=_e.excludedActivityUrls)!==null&&rt!==void 0?rt:[],workerUrl:_e.workerUrl,compressIntakeRequests:!!_e.compressIntakeRequests,trackUserInteractions:!!_e.trackUserInteractions,trackViewsManually:!!_e.trackViewsManually,trackResources:!!_e.trackResources,trackLongTasks:!!_e.trackLongTasks,subdomain:_e.subdomain,defaultPrivacyLevel:objectHasValue(DefaultPrivacyLevel,_e.defaultPrivacyLevel)?_e.defaultPrivacyLevel:DefaultPrivacyLevel.MASK,enablePrivacyForActionName:!!_e.enablePrivacyForActionName,customerDataTelemetrySampleRate:1,traceContextInjection:objectHasValue(TraceContextInjection,_e.traceContextInjection)?_e.traceContextInjection:TraceContextInjection.ALL,plugins:_e.plugins||[]},it)}}}}function validateAndBuildTracingOptions(_e){if(_e.allowedTracingUrls===void 0)return[];if(!Array.isArray(_e.allowedTracingUrls)){display.error("Allowed Tracing URLs should be an array");return}if(_e.allowedTracingUrls.length!==0&&_e.service===void 0){display.error("Service needs to be configured when tracing is enabled");return}var et=[];return _e.allowedTracingUrls.forEach(function(tt){isMatchOption(tt)?et.push({match:tt,propagatorTypes:DEFAULT_PROPAGATOR_TYPES}):isTracingOption(tt)?et.push(tt):display.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",tt)}),et}function getSelectedTracingPropagators(_e){var et=new Set;return Array.isArray(_e.allowedTracingUrls)&&_e.allowedTracingUrls.length>0&&_e.allowedTracingUrls.forEach(function(tt){isMatchOption(tt)?DEFAULT_PROPAGATOR_TYPES.forEach(function(rt){return et.add(rt)}):getType(tt)==="object"&&Array.isArray(tt.propagatorTypes)&&tt.propagatorTypes.forEach(function(rt){return et.add(rt)})}),arrayFrom(et)}function serializeRumConfiguration(_e){var et,tt=serializeConfiguration(_e);return assign$3({session_replay_sample_rate:_e.sessionReplaySampleRate,start_session_replay_recording_manually:_e.startSessionReplayRecordingManually,trace_sample_rate:_e.traceSampleRate,trace_context_injection:_e.traceContextInjection,action_name_attribute:_e.actionNameAttribute,use_allowed_tracing_urls:Array.isArray(_e.allowedTracingUrls)&&_e.allowedTracingUrls.length>0,selected_tracing_propagators:getSelectedTracingPropagators(_e),default_privacy_level:_e.defaultPrivacyLevel,enable_privacy_for_action_name:_e.enablePrivacyForActionName,use_excluded_activity_urls:Array.isArray(_e.excludedActivityUrls)&&_e.excludedActivityUrls.length>0,use_worker_url:!!_e.workerUrl,compress_intake_requests:_e.compressIntakeRequests,track_views_manually:_e.trackViewsManually,track_user_interactions:_e.trackUserInteractions,track_resources:_e.trackResources,track_long_task:_e.trackLongTasks,plugins:(et=_e.plugins)===null||et===void 0?void 0:et.map(function(rt){var nt;return assign$3({name:rt.name},(nt=rt.getConfigurationTelemetry)===null||nt===void 0?void 0:nt.call(rt))})},tt)}var REMOTE_CONFIGURATION_URL="https://d3uc069fcn7uxw.cloudfront.net/configuration";function fetchAndApplyRemoteConfiguration(_e,et){fetchRemoteConfiguration(_e,function(tt){et(applyRemoteConfiguration(_e,tt))})}function applyRemoteConfiguration(_e,et){return assign$3({},_e,et)}function fetchRemoteConfiguration(_e,et){var tt=new XMLHttpRequest;addEventListener$1(_e,tt,"load",function(){tt.status===200?et(JSON.parse(tt.responseText)):displayRemoteConfigurationFetchingError()}),addEventListener$1(_e,tt,"error",function(){displayRemoteConfigurationFetchingError()}),tt.open("GET","".concat(REMOTE_CONFIGURATION_URL,"/").concat(encodeURIComponent(_e.remoteConfigurationId),".json")),tt.send()}function displayRemoteConfigurationFetchingError(){display.error("Error fetching the remote configuration.")}function callPluginsMethod(_e,et,tt){if(_e)for(var rt=0,nt=_e;rt<nt.length;rt++){var it=nt[rt],at=it[et];at&&at(tt)}}function createPreStartStrategy$1(_e,et,tt,rt,nt){var it=_e.ignoreInitIfSyntheticsWillInjectRum,at=_e.startDeflateWorker,ot=createBoundedBuffer(),st,lt,ct,ut,dt=tt.observable.subscribe(ft);function ft(){if(!(!ct||!ut||!tt.isGranted())){dt.unsubscribe();var yt;if(ut.trackViewsManually){if(!st)return;ot.remove(st.callback),yt=st.options}var mt=nt(ut,lt,yt);ot.drain(mt)}}function pt(yt){var mt=canUseEventBridge();if(mt&&(yt=overrideInitConfigurationForBridge(yt)),ct=yt,addTelemetryConfiguration(serializeRumConfiguration(yt)),ut){displayAlreadyInitializedError("DD_RUM",yt);return}var gt=validateAndBuildRumConfiguration(yt);if(gt){if(!mt&&!gt.sessionStoreStrategyType){display.warn("No storage available for session. We will not send any data.");return}gt.compressIntakeRequests&&!mt&&at&&(lt=at(gt,"Datadog RUM",noop$7),!lt)||(ut=gt,initFetchObservable().subscribe(noop$7),tt.tryToInit(gt.trackingConsent),ft())}}var ht=function(yt){ot.add(function(mt){return mt.addDurationVital(yt)})};return{init:function(yt,mt){if(!yt){display.error("Missing configuration");return}initFeatureFlags(yt.enableExperimentalFeatures),ct=yt,!(it&&willSyntheticsInjectRum())&&(callPluginsMethod(yt.plugins,"onInit",{initConfiguration:yt,publicApi:mt}),yt.remoteConfigurationId&&isExperimentalFeatureEnabled(ExperimentalFeature.REMOTE_CONFIGURATION)?fetchAndApplyRemoteConfiguration(yt,pt):pt(yt))},get initConfiguration(){return ct},getInternalContext:noop$7,stopSession:noop$7,addTiming:function(yt,mt){mt===void 0&&(mt=timeStampNow()),ot.add(function(gt){return gt.addTiming(yt,mt)})},startView:function(yt,mt){mt===void 0&&(mt=clocksNow());var gt=function(vt){vt.startView(yt,mt)};ot.add(gt),st||(st={options:yt,callback:gt},ft())},setViewName:function(yt){ot.add(function(mt){return mt.setViewName(yt)})},setViewContext:function(yt){ot.add(function(mt){return mt.setViewContext(yt)})},setViewContextProperty:function(yt,mt){ot.add(function(gt){return gt.setViewContextProperty(yt,mt)})},addAction:function(yt,mt){mt===void 0&&(mt=et()),ot.add(function(gt){return gt.addAction(yt,mt)})},addError:function(yt,mt){mt===void 0&&(mt=et()),ot.add(function(gt){return gt.addError(yt,mt)})},addFeatureFlagEvaluation:function(yt,mt){ot.add(function(gt){return gt.addFeatureFlagEvaluation(yt,mt)})},startDurationVital:function(yt,mt){return startDurationVital(rt,yt,mt)},stopDurationVital:function(yt,mt){stopDurationVital(ht,rt,yt,mt)},addDurationVital:ht}}function overrideInitConfigurationForBridge(_e){var et,tt;return assign$3({},_e,{applicationId:"00000000-aaaa-0000-aaaa-000000000000",clientToken:"empty",sessionSampleRate:100,defaultPrivacyLevel:(et=_e.defaultPrivacyLevel)!==null&&et!==void 0?et:(tt=getEventBridge())===null||tt===void 0?void 0:tt.getPrivacyLevel()})}var RUM_STORAGE_KEY="rum";function makeRumPublicApi(_e,et,tt){tt===void 0&&(tt={});var rt=createCustomerDataTrackerManager(0),nt=createContextManager(rt.getOrCreateTracker(2)),it=createContextManager(rt.getOrCreateTracker(1)),at=createTrackingConsentState(),ot=createCustomVitalsState();function st(){return buildCommonContext(nt,it,et)}var lt=createPreStartStrategy$1(tt,st,at,ot,function(dt,ft,pt){dt.storeContextsAcrossPages&&(storeContextManager(dt,nt,RUM_STORAGE_KEY,2),storeContextManager(dt,it,RUM_STORAGE_KEY,1)),rt.setCompressionStatus(ft?1:2);var ht=_e(dt,et,rt,st,pt,ft&&tt.createDeflateEncoder?function(yt){return tt.createDeflateEncoder(dt,ft,yt)}:createIdentityEncoder,at,ot);return et.onRumStart(ht.lifeCycle,dt,ht.session,ht.viewHistory,ft),lt=createPostStartStrategy$1(lt,ht),ht}),ct=monitor(function(dt){var ft=typeof dt=="object"?dt:{name:dt};ft.context&&rt.getOrCreateTracker(3).updateCustomerData(ft.context),lt.startView(ft),addTelemetryUsage({feature:"start-view"})}),ut=makePublicApi({init:monitor(function(dt){lt.init(dt,ut)}),setTrackingConsent:monitor(function(dt){at.update(dt),addTelemetryUsage({feature:"set-tracking-consent",tracking_consent:dt})}),setViewName:monitor(function(dt){lt.setViewName(dt)}),setViewContext:monitor(function(dt){lt.setViewContext(dt)}),setViewContextProperty:monitor(function(dt,ft){lt.setViewContextProperty(dt,ft)}),setGlobalContext:monitor(function(dt){nt.setContext(dt),addTelemetryUsage({feature:"set-global-context"})}),getGlobalContext:monitor(function(){return nt.getContext()}),setGlobalContextProperty:monitor(function(dt,ft){nt.setContextProperty(dt,ft),addTelemetryUsage({feature:"set-global-context"})}),removeGlobalContextProperty:monitor(function(dt){return nt.removeContextProperty(dt)}),clearGlobalContext:monitor(function(){return nt.clearContext()}),getInternalContext:monitor(function(dt){return lt.getInternalContext(dt)}),getInitConfiguration:monitor(function(){return deepClone(lt.initConfiguration)}),addAction:function(dt,ft){var pt=createHandlingStack();callMonitored(function(){lt.addAction({name:sanitize$1(dt),context:sanitize$1(ft),startClocks:clocksNow(),type:"custom",handlingStack:pt}),addTelemetryUsage({feature:"add-action"})})},addError:function(dt,ft){var pt=createHandlingStack();callMonitored(function(){lt.addError({error:dt,handlingStack:pt,context:sanitize$1(ft),startClocks:clocksNow()}),addTelemetryUsage({feature:"add-error"})})},addTiming:monitor(function(dt,ft){lt.addTiming(sanitize$1(dt),ft)}),setUser:monitor(function(dt){checkUser(dt)&&it.setContext(sanitizeUser(dt)),addTelemetryUsage({feature:"set-user"})}),getUser:monitor(function(){return it.getContext()}),setUserProperty:monitor(function(dt,ft){var pt,ht=sanitizeUser((pt={},pt[dt]=ft,pt))[dt];it.setContextProperty(dt,ht),addTelemetryUsage({feature:"set-user"})}),removeUserProperty:monitor(function(dt){return it.removeContextProperty(dt)}),clearUser:monitor(function(){return it.clearContext()}),startView:ct,stopSession:monitor(function(){lt.stopSession(),addTelemetryUsage({feature:"stop-session"})}),addFeatureFlagEvaluation:monitor(function(dt,ft){lt.addFeatureFlagEvaluation(sanitize$1(dt),sanitize$1(ft)),addTelemetryUsage({feature:"add-feature-flag-evaluation"})}),getSessionReplayLink:monitor(function(){return et.getSessionReplayLink()}),startSessionReplayRecording:monitor(function(dt){et.start(dt),addTelemetryUsage({feature:"start-session-replay-recording",force:dt&&dt.force})}),stopSessionReplayRecording:monitor(function(){return et.stop()}),addDurationVital:monitor(function(dt,ft){addTelemetryUsage({feature:"add-duration-vital"}),lt.addDurationVital({name:sanitize$1(dt),type:"duration",startClocks:timeStampToClocks(ft.startTime),duration:ft.duration,context:sanitize$1(ft&&ft.context),description:sanitize$1(ft&&ft.description)})}),startDurationVital:monitor(function(dt,ft){return addTelemetryUsage({feature:"start-duration-vital"}),lt.startDurationVital(sanitize$1(dt),{context:sanitize$1(ft&&ft.context),description:sanitize$1(ft&&ft.description)})}),stopDurationVital:monitor(function(dt,ft){addTelemetryUsage({feature:"stop-duration-vital"}),lt.stopDurationVital(typeof dt=="string"?sanitize$1(dt):dt,{context:sanitize$1(ft&&ft.context),description:sanitize$1(ft&&ft.description)})})});return ut}function createPostStartStrategy$1(_e,et){return assign$3({init:function(tt){displayAlreadyInitializedError("DD_RUM",tt)},initConfiguration:_e.initConfiguration},et)}function createDOMMutationObservable(){var _e=getMutationObserverConstructor();return new Observable$1(function(et){if(_e){var tt=new _e(monitor(function(){return et.notify()}));return tt.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),function(){return tt.disconnect()}}})}function getMutationObserverConstructor(){var _e,et=window;if(et.Zone&&(_e=getZoneJsOriginalValue(et,"MutationObserver"),et.MutationObserver&&_e===et.MutationObserver)){var tt=new et.MutationObserver(noop$7),rt=getZoneJsOriginalValue(tt,"originalInstance");_e=rt&&rt.constructor}return _e||(_e=et.MutationObserver),_e}function createWindowOpenObservable(){var _e=new Observable$1,et=instrumentMethod(window,"open",function(){return _e.notify()}).stop;return{observable:_e,stop:et}}function getSyntheticsContext(){var _e=getSyntheticsTestId(),et=getSyntheticsResultId();if(_e&&et)return{test_id:_e,result_id:et,injected:willSyntheticsInjectRum()}}function limitModification(_e,et,tt){var rt=deepClone(_e),nt=tt(rt);return objectEntries(et).forEach(function(it){var at=it[0],ot=it[1],st=get$2(rt,at),lt=getType(st);lt===ot?set$2(_e,at,sanitize$1(st)):ot==="object"&&(lt==="undefined"||lt==="null")&&set$2(_e,at,{})}),nt}function get$2(_e,et){for(var tt=_e,rt=0,nt=et.split(".");rt<nt.length;rt++){var it=nt[rt];if(!isValidObjectContaining(tt,it))return;tt=tt[it]}return tt}function set$2(_e,et,tt){for(var rt=_e,nt=et.split("."),it=0;it<nt.length;it+=1){var at=nt[it];if(!isValidObject(rt))return;it!==nt.length-1?rt=rt[at]:rt[at]=tt}}function isValidObject(_e){return getType(_e)==="object"}function isValidObjectContaining(_e,et){return isValidObject(_e)&&Object.prototype.hasOwnProperty.call(_e,et)}var VIEW_MODIFIABLE_FIELD_PATHS={"view.name":"string","view.url":"string","view.referrer":"string"},USER_CUSTOMIZABLE_FIELD_PATHS={context:"object"},ROOT_MODIFIABLE_FIELD_PATHS={service:"string",version:"string"},modifiableFieldPathsByEvent;function startRumAssembly(_e,et,tt,rt,nt,it,at,ot,st,lt){var ct,ut;modifiableFieldPathsByEvent=(ct={},ct.view=assign$3({},USER_CUSTOMIZABLE_FIELD_PATHS,VIEW_MODIFIABLE_FIELD_PATHS),ct.error=assign$3({"error.message":"string","error.stack":"string","error.resource.url":"string","error.fingerprint":"string"},USER_CUSTOMIZABLE_FIELD_PATHS,VIEW_MODIFIABLE_FIELD_PATHS,ROOT_MODIFIABLE_FIELD_PATHS),ct.resource=assign$3({"resource.url":"string"},isExperimentalFeatureEnabled(ExperimentalFeature.WRITABLE_RESOURCE_GRAPHQL)?{"resource.graphql":"object"}:{},USER_CUSTOMIZABLE_FIELD_PATHS,VIEW_MODIFIABLE_FIELD_PATHS,ROOT_MODIFIABLE_FIELD_PATHS),ct.action=assign$3({"action.target.name":"string"},USER_CUSTOMIZABLE_FIELD_PATHS,VIEW_MODIFIABLE_FIELD_PATHS,ROOT_MODIFIABLE_FIELD_PATHS),ct.long_task=assign$3({},USER_CUSTOMIZABLE_FIELD_PATHS,VIEW_MODIFIABLE_FIELD_PATHS),ct.vital=assign$3({},USER_CUSTOMIZABLE_FIELD_PATHS,VIEW_MODIFIABLE_FIELD_PATHS),ct);var dt=(ut={},ut.error=createEventRateLimiter("error",_e.eventRateLimiterThreshold,lt),ut.action=createEventRateLimiter("action",_e.eventRateLimiterThreshold,lt),ut.vital=createEventRateLimiter("vital",_e.eventRateLimiterThreshold,lt),ut),ft=getSyntheticsContext();et.subscribe(11,function(pt){var ht=pt.startTime,yt=pt.rawRumEvent,mt=pt.domainContext,gt=pt.savedCommonContext,vt=pt.customerContext,St=rt.findView(ht),xt=nt.findUrl(ht),Ct=tt.findTrackedSession(ht);if(Ct&&St&&xt){var wt=gt||st(),_t=it.findActionId(ht),Ot={_dd:{format_version:2,drift:currentDrift(),configuration:{session_sample_rate:round$1(_e.sessionSampleRate,3),session_replay_sample_rate:round$1(_e.sessionReplaySampleRate,3)},browser_sdk_version:canUseEventBridge()?"5.35.0":void 0},application:{id:_e.applicationId},date:timeStampNow(),service:St.service||_e.service,version:St.version||_e.version,source:"browser",session:{id:Ct.id,type:ft?"synthetics":ot.get()?"ci_test":"user"},view:{id:St.id,name:St.name,url:xt.url,referrer:xt.referrer},action:needToAssembleWithAction(yt)&&_t?{id:_t}:void 0,synthetics:ft,ci_test:ot.get(),display:at.get(),connectivity:getConnectivity()},kt=combine(Ot,yt);kt.context=combine(wt.context,St.context,vt),"has_replay"in kt.session||(kt.session.has_replay=wt.hasReplay),kt.type==="view"&&(kt.session.sampled_for_replay=Ct.sessionReplay===1),isExperimentalFeatureEnabled(ExperimentalFeature.ANONYMOUS_USER_TRACKING)&&!wt.user.anonymous_id&&(wt.user.anonymous_id=Ct.anonymousId),isEmptyObject$1(wt.user)||(kt.usr=wt.user),shouldSend(kt,_e.beforeSend,mt,dt)&&(isEmptyObject$1(kt.context)&&delete kt.context,et.notify(12,kt))}})}function shouldSend(_e,et,tt,rt){var nt;if(et){var it=limitModification(_e,modifiableFieldPathsByEvent[_e.type],function(ot){return et(ot,tt)});if(it===!1&&_e.type!=="view")return!1;it===!1&&display.warn("Can't dismiss view events using beforeSend!")}var at=(nt=rt[_e.type])===null||nt===void 0?void 0:nt.isLimitReached();return!at}function needToAssembleWithAction(_e){return["error","resource","long_task"].indexOf(_e.type)!==-1}function startInternalContext(_e,et,tt,rt,nt){return{get:function(it){var at=tt.findView(it),ot=nt.findUrl(it),st=et.findTrackedSession(it);if(st&&at&&ot){var lt=rt.findActionId(it);return{application_id:_e,session_id:st.id,user_action:lt?{id:lt}:void 0,view:{id:at.id,name:at.name,referrer:ot.referrer,url:ot.url}}}}}}var LifeCycle=AbstractLifeCycle,VIEW_CONTEXT_TIME_OUT_DELAY=SESSION_TIME_OUT_DELAY;function startViewHistory(_e){var et=createValueHistory({expireDelay:VIEW_CONTEXT_TIME_OUT_DELAY});_e.subscribe(1,function(rt){et.add(tt(rt),rt.startClocks.relative)}),_e.subscribe(5,function(rt){var nt=rt.endClocks;et.closeActive(nt.relative)}),_e.subscribe(3,function(rt){var nt=et.find(rt.startClocks.relative);nt&&rt.name&&(nt.name=rt.name),nt&&rt.context&&(nt.context=rt.context)}),_e.subscribe(9,function(){et.reset()});function tt(rt){return{service:rt.service,version:rt.version,context:rt.context,id:rt.id,name:rt.name,startClocks:rt.startClocks}}return{findView:function(rt){return et.find(rt)},stop:function(){et.stop()}}}var FAKE_INITIAL_DOCUMENT="initial_document",RESOURCE_TYPES=[["document",function(_e){return FAKE_INITIAL_DOCUMENT===_e}],["xhr",function(_e){return _e==="xmlhttprequest"}],["fetch",function(_e){return _e==="fetch"}],["beacon",function(_e){return _e==="beacon"}],["css",function(_e,et){return/\.css$/i.test(et)}],["js",function(_e,et){return/\.js$/i.test(et)}],["image",function(_e,et){return includes(["image","img","icon"],_e)||/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(et)!==null}],["font",function(_e,et){return/\.(woff|eot|woff2|ttf)$/i.exec(et)!==null}],["media",function(_e,et){return includes(["audio","video"],_e)||/\.(mp3|mp4)$/i.exec(et)!==null}]];function computeResourceEntryType(_e){var et=_e.name;if(!isValidUrl(et))return addTelemetryDebug('Failed to construct URL for "'.concat(_e.name,'"')),"other";for(var tt=getPathName(et),rt=0,nt=RESOURCE_TYPES;rt<nt.length;rt++){var it=nt[rt],at=it[0],ot=it[1];if(ot(_e.initiatorType,tt))return at}return"other"}function areInOrder(){for(var _e=[],et=0;et<arguments.length;et++)_e[et]=arguments[et];for(var tt=1;tt<_e.length;tt+=1)if(_e[tt-1]>_e[tt])return!1;return!0}function isResourceEntryRequestType(_e){return _e.initiatorType==="xmlhttprequest"||_e.initiatorType==="fetch"}function computeResourceEntryDuration(_e){var et=_e.duration,tt=_e.startTime,rt=_e.responseEnd;return et===0&&tt<rt?toServerDuration(elapsed(tt,rt)):toServerDuration(et)}function computeResourceEntryDetails(_e){if(hasValidResourceEntryTimings(_e)){var et=_e.startTime,tt=_e.fetchStart,rt=_e.workerStart,nt=_e.redirectStart,it=_e.redirectEnd,at=_e.domainLookupStart,ot=_e.domainLookupEnd,st=_e.connectStart,lt=_e.secureConnectionStart,ct=_e.connectEnd,ut=_e.requestStart,dt=_e.responseStart,ft=_e.responseEnd,pt={download:formatTiming(et,dt,ft),first_byte:formatTiming(et,ut,dt)};return 0<rt&&rt<tt&&(pt.worker=formatTiming(et,rt,tt)),tt<ct&&(pt.connect=formatTiming(et,st,ct),st<=lt&&lt<=ct&&(pt.ssl=formatTiming(et,lt,ct))),tt<ot&&(pt.dns=formatTiming(et,at,ot)),et<it&&(pt.redirect=formatTiming(et,nt,it)),pt}}function hasValidResourceEntryDuration(_e){return _e.duration>=0}function hasValidResourceEntryTimings(_e){var et=areInOrder(_e.startTime,_e.fetchStart,_e.domainLookupStart,_e.domainLookupEnd,_e.connectStart,_e.connectEnd,_e.requestStart,_e.responseStart,_e.responseEnd),tt=hasRedirection(_e)?areInOrder(_e.startTime,_e.redirectStart,_e.redirectEnd,_e.fetchStart):!0;return et&&tt}function hasRedirection(_e){return _e.redirectEnd>_e.startTime}function formatTiming(_e,et,tt){if(_e<=et&&et<=tt)return{duration:toServerDuration(elapsed(et,tt)),start:toServerDuration(elapsed(_e,et))}}function computeResourceEntryProtocol(_e){return _e.nextHopProtocol===""?void 0:_e.nextHopProtocol}function computeResourceEntryDeliveryType(_e){return _e.deliveryType===""?"other":_e.deliveryType}function computeResourceEntrySize(_e){if(_e.startTime<_e.responseStart){var et=_e.encodedBodySize,tt=_e.decodedBodySize,rt=_e.transferSize;return{size:tt,encoded_body_size:et,decoded_body_size:tt,transfer_size:rt}}return{size:void 0,encoded_body_size:void 0,decoded_body_size:void 0,transfer_size:void 0}}function isAllowedRequestUrl(_e){return _e&&!isIntakeUrl(_e)}var DATA_URL_REGEX=/data:(.+)?(;base64)?,/g,MAX_ATTRIBUTE_VALUE_CHAR_LENGTH=24e3;function isLongDataUrl(_e){return _e.length<=MAX_ATTRIBUTE_VALUE_CHAR_LENGTH?!1:_e.substring(0,5)==="data:"?(_e=_e.substring(0,MAX_ATTRIBUTE_VALUE_CHAR_LENGTH),!0):!1}function sanitizeDataUrl(_e){return"".concat(_e.match(DATA_URL_REGEX)[0],"[...]")}var nextRequestIndex=1;function startRequestCollection(_e,et,tt){var rt=startTracer(et,tt);trackXhr(_e,et,rt),trackFetch(_e,rt)}function trackXhr(_e,et,tt){var rt=initXhrObservable(et).subscribe(function(nt){var it=nt;if(isAllowedRequestUrl(it.url))switch(it.state){case"start":tt.traceXhr(it,it.xhr),it.requestIndex=getNextRequestIndex(),_e.notify(6,{requestIndex:it.requestIndex,url:it.url});break;case"complete":tt.clearTracingIfNeeded(it),_e.notify(7,{duration:it.duration,method:it.method,requestIndex:it.requestIndex,spanId:it.spanId,startClocks:it.startClocks,status:it.status,traceId:it.traceId,traceSampled:it.traceSampled,type:"xhr",url:it.url,xhr:it.xhr,isAborted:it.isAborted,handlingStack:it.handlingStack});break}});return{stop:function(){return rt.unsubscribe()}}}function trackFetch(_e,et){var tt=initFetchObservable().subscribe(function(rt){var nt=rt;if(isAllowedRequestUrl(nt.url))switch(nt.state){case"start":et.traceFetch(nt),nt.requestIndex=getNextRequestIndex(),_e.notify(6,{requestIndex:nt.requestIndex,url:nt.url});break;case"resolve":waitForResponseToComplete(nt,function(it){et.clearTracingIfNeeded(nt),_e.notify(7,{duration:it,method:nt.method,requestIndex:nt.requestIndex,responseType:nt.responseType,spanId:nt.spanId,startClocks:nt.startClocks,status:nt.status,traceId:nt.traceId,traceSampled:nt.traceSampled,type:"fetch",url:nt.url,response:nt.response,init:nt.init,input:nt.input,isAborted:nt.isAborted,handlingStack:nt.handlingStack})});break}});return{stop:function(){return tt.unsubscribe()}}}function getNextRequestIndex(){var _e=nextRequestIndex;return nextRequestIndex+=1,_e}function waitForResponseToComplete(_e,et){var tt=_e.response&&tryToClone(_e.response);!tt||!tt.body?et(elapsed(_e.startClocks.timeStamp,timeStampNow())):readBytesFromStream(tt.body,function(){et(elapsed(_e.startClocks.timeStamp,timeStampNow()))},{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!1})}function discardNegativeDuration(_e){return isNumber$4(_e)&&_e<0?void 0:_e}function trackEventCounts(_e){var et=_e.lifeCycle,tt=_e.isChildEvent,rt=_e.onChange,nt=rt===void 0?noop$7:rt,it={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},at=et.subscribe(12,function(ot){var st;if(!(ot.type==="view"||ot.type==="vital"||!tt(ot)))switch(ot.type){case"error":it.errorCount+=1,nt();break;case"action":it.actionCount+=1,ot.action.frustration&&(it.frustrationCount+=ot.action.frustration.type.length),nt();break;case"long_task":it.longTaskCount+=1,nt();break;case"resource":!((st=ot._dd)===null||st===void 0)&&st.discarded||(it.resourceCount+=1,nt());break}});return{stop:function(){at.unsubscribe()},eventCounts:it}}function retrieveFirstInputTiming(_e,et){var tt=dateNow(),rt=!1,nt=addEventListeners(_e,window,["click","mousedown","keydown","touchstart","pointerdown"],function(ot){if(ot.cancelable){var st={entryType:"first-input",processingStart:relativeNow(),processingEnd:relativeNow(),startTime:ot.timeStamp,duration:0,name:"",cancelable:!1,target:null,toJSON:function(){return{}}};ot.type==="pointerdown"?it(_e,st):at(st)}},{passive:!0,capture:!0}).stop;return{stop:nt};function it(ot,st){addEventListeners(ot,window,["pointerup","pointercancel"],function(lt){lt.type==="pointerup"&&at(st)},{once:!0})}function at(ot){if(!rt){rt=!0,nt();var st=ot.processingStart-ot.startTime;st>=0&&st<dateNow()-tt&&et(ot)}}}var RumPerformanceEntryType;(function(_e){_e.EVENT="event",_e.FIRST_INPUT="first-input",_e.LARGEST_CONTENTFUL_PAINT="largest-contentful-paint",_e.LAYOUT_SHIFT="layout-shift",_e.LONG_TASK="longtask",_e.LONG_ANIMATION_FRAME="long-animation-frame",_e.NAVIGATION="navigation",_e.PAINT="paint",_e.RESOURCE="resource"})(RumPerformanceEntryType||(RumPerformanceEntryType={}));function createPerformanceObservable(_e,et){return new Observable$1(function(tt){if(window.PerformanceObserver){var rt=function(lt){var ct=filterRumPerformanceEntries(lt);ct.length>0&&tt.notify(ct)},nt,it=!0,at=new PerformanceObserver(monitor(function(lt){it?nt=setTimeout$1(function(){return rt(lt.getEntries())}):rt(lt.getEntries())}));try{at.observe(et)}catch{var ot=[RumPerformanceEntryType.RESOURCE,RumPerformanceEntryType.NAVIGATION,RumPerformanceEntryType.LONG_TASK,RumPerformanceEntryType.PAINT];if(includes(ot,et.type)){et.buffered&&(nt=setTimeout$1(function(){return rt(performance.getEntriesByType(et.type))}));try{at.observe({entryTypes:[et.type]})}catch{return}}}it=!1,manageResourceTimingBufferFull(_e);var st;return!supportPerformanceTimingEvent(RumPerformanceEntryType.FIRST_INPUT)&&et.type===RumPerformanceEntryType.FIRST_INPUT&&(st=retrieveFirstInputTiming(_e,function(lt){rt([lt])}).stop),function(){at.disconnect(),st&&st(),clearTimeout$1(nt)}}})}var resourceTimingBufferFullListener;function manageResourceTimingBufferFull(_e){return!resourceTimingBufferFullListener&&supportPerformanceObject()&&"addEventListener"in performance&&(resourceTimingBufferFullListener=addEventListener$1(_e,performance,"resourcetimingbufferfull",function(){performance.clearResourceTimings()})),function(){resourceTimingBufferFullListener==null||resourceTimingBufferFullListener.stop()}}function supportPerformanceObject(){return window.performance!==void 0&&"getEntries"in performance}function supportPerformanceTimingEvent(_e){return window.PerformanceObserver&&PerformanceObserver.supportedEntryTypes!==void 0&&PerformanceObserver.supportedEntryTypes.includes(_e)}function filterRumPerformanceEntries(_e){return _e.filter(function(et){return!isForbiddenResource(et)})}function isForbiddenResource(_e){return _e.entryType===RumPerformanceEntryType.RESOURCE&&(!isAllowedRequestUrl(_e.name)||!hasValidResourceEntryDuration(_e))}var PAGE_ACTIVITY_VALIDATION_DELAY=100,PAGE_ACTIVITY_END_DELAY=100;function waitPageActivityEnd(_e,et,tt,rt,nt,it){var at=createPageActivityObservable(_e,et,tt,rt);return doWaitPageActivityEnd(at,nt,it)}function doWaitPageActivityEnd(_e,et,tt){var rt,nt=!1,it=setTimeout$1(monitor(function(){return lt({hadActivity:!1})}),PAGE_ACTIVITY_VALIDATION_DELAY),at=tt!==void 0?setTimeout$1(monitor(function(){return lt({hadActivity:!0,end:timeStampNow()})}),tt):void 0,ot=_e.subscribe(function(ct){var ut=ct.isBusy;clearTimeout$1(it),clearTimeout$1(rt);var dt=timeStampNow();ut||(rt=setTimeout$1(monitor(function(){return lt({hadActivity:!0,end:dt})}),PAGE_ACTIVITY_END_DELAY))}),st=function(){nt=!0,clearTimeout$1(it),clearTimeout$1(rt),clearTimeout$1(at),ot.unsubscribe()};function lt(ct){nt||(st(),et(ct))}return{stop:st}}function createPageActivityObservable(_e,et,tt,rt){return new Observable$1(function(nt){var it=[],at,ot=0;return it.push(et.subscribe(st),tt.subscribe(st),createPerformanceObservable(rt,{type:RumPerformanceEntryType.RESOURCE}).subscribe(function(lt){lt.some(function(ct){return!isExcludedUrl(rt,ct.name)})&&st()}),_e.subscribe(6,function(lt){isExcludedUrl(rt,lt.url)||(at===void 0&&(at=lt.requestIndex),ot+=1,st())}),_e.subscribe(7,function(lt){isExcludedUrl(rt,lt.url)||at===void 0||lt.requestIndex<at||(ot-=1,st())})),function(){it.forEach(function(lt){return lt.unsubscribe()})};function st(){nt.notify({isBusy:ot>0})}})}function isExcludedUrl(_e,et){return matchList(_e.excludedActivityUrls,et)}function cssEscape(_e){return window.CSS&&window.CSS.escape?window.CSS.escape(_e):_e.replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(et,tt){return tt?et==="\0"?"":"".concat(et.slice(0,-1),"\\").concat(et.charCodeAt(et.length-1).toString(16)," "):"\\".concat(et)})}function elementMatches(_e,et){return _e.matches?_e.matches(et):_e.msMatchesSelector?_e.msMatchesSelector(et):!1}function getParentElement(_e){if(_e.parentElement)return _e.parentElement;for(;_e.parentNode;){if(_e.parentNode.nodeType===Node.ELEMENT_NODE)return _e.parentNode;_e=_e.parentNode}return null}function getClassList(_e){if(_e.classList)return _e.classList;var et=(_e.getAttribute("class")||"").trim();return et?et.split(/\s+/):[]}var PLACEHOLDER=1,WeakSet$1=function(){function _e(et){var tt=this;this.map=new WeakMap,et&&et.forEach(function(rt){return tt.map.set(rt,PLACEHOLDER)})}return _e.prototype.add=function(et){return this.map.set(et,PLACEHOLDER),this},_e.prototype.delete=function(et){return this.map.delete(et)},_e.prototype.has=function(et){return this.map.has(et)},_e}();function isTextNode(_e){return _e.nodeType===Node.TEXT_NODE}function isCommentNode(_e){return _e.nodeType===Node.COMMENT_NODE}function isElementNode(_e){return _e.nodeType===Node.ELEMENT_NODE}function isNodeShadowHost(_e){return isElementNode(_e)&&!!_e.shadowRoot}function isNodeShadowRoot(_e){var et=_e;return!!et.host&&et.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&isElementNode(et.host)}function hasChildNodes(_e){return _e.childNodes.length>0||isNodeShadowHost(_e)}function forEachChildNodes(_e,et){for(var tt=_e.firstChild;tt;)et(tt),tt=tt.nextSibling;isNodeShadowHost(_e)&&et(_e.shadowRoot)}function getParentNode(_e){return isNodeShadowRoot(_e)?_e.host:_e.parentNode}var NodePrivacyLevel={IGNORE:"ignore",HIDDEN:"hidden",ALLOW:DefaultPrivacyLevel.ALLOW,MASK:DefaultPrivacyLevel.MASK,MASK_USER_INPUT:DefaultPrivacyLevel.MASK_USER_INPUT},PRIVACY_ATTR_NAME="data-dd-privacy",PRIVACY_ATTR_VALUE_HIDDEN="hidden",PRIVACY_CLASS_PREFIX="dd-privacy-",CENSORED_STRING_MARK="***",CENSORED_IMG_MARK="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",FORM_PRIVATE_TAG_NAMES={INPUT:!0,OUTPUT:!0,TEXTAREA:!0,SELECT:!0,OPTION:!0,DATALIST:!0,OPTGROUP:!0},TEXT_MASKING_CHAR="x";function getNodePrivacyLevel(_e,et,tt){if(tt&&tt.has(_e))return tt.get(_e);var rt=getParentNode(_e),nt=rt?getNodePrivacyLevel(rt,et,tt):et,it=getNodeSelfPrivacyLevel(_e),at=reducePrivacyLevel(it,nt);return tt&&tt.set(_e,at),at}function reducePrivacyLevel(_e,et){switch(et){case NodePrivacyLevel.HIDDEN:case NodePrivacyLevel.IGNORE:return et}switch(_e){case NodePrivacyLevel.ALLOW:case NodePrivacyLevel.MASK:case NodePrivacyLevel.MASK_USER_INPUT:case NodePrivacyLevel.HIDDEN:case NodePrivacyLevel.IGNORE:return _e;default:return et}}function getNodeSelfPrivacyLevel(_e){if(isElementNode(_e)){if(_e.tagName==="BASE")return NodePrivacyLevel.ALLOW;if(_e.tagName==="INPUT"){var et=_e;if(et.type==="password"||et.type==="email"||et.type==="tel"||et.type==="hidden")return NodePrivacyLevel.MASK;var tt=et.getAttribute("autocomplete");if(tt&&(tt.startsWith("cc-")||tt.endsWith("-password")))return NodePrivacyLevel.MASK}if(elementMatches(_e,getPrivacySelector(NodePrivacyLevel.HIDDEN)))return NodePrivacyLevel.HIDDEN;if(elementMatches(_e,getPrivacySelector(NodePrivacyLevel.MASK)))return NodePrivacyLevel.MASK;if(elementMatches(_e,getPrivacySelector(NodePrivacyLevel.MASK_USER_INPUT)))return NodePrivacyLevel.MASK_USER_INPUT;if(elementMatches(_e,getPrivacySelector(NodePrivacyLevel.ALLOW)))return NodePrivacyLevel.ALLOW;if(shouldIgnoreElement(_e))return NodePrivacyLevel.IGNORE}}function shouldMaskNode(_e,et){switch(et){case NodePrivacyLevel.MASK:case NodePrivacyLevel.HIDDEN:case NodePrivacyLevel.IGNORE:return!0;case NodePrivacyLevel.MASK_USER_INPUT:return isTextNode(_e)?isFormElement(_e.parentNode):isFormElement(_e);default:return!1}}function isFormElement(_e){if(!_e||_e.nodeType!==_e.ELEMENT_NODE)return!1;var et=_e;if(et.tagName==="INPUT")switch(et.type){case"button":case"color":case"reset":case"submit":return!1}return!!FORM_PRIVATE_TAG_NAMES[et.tagName]}var censorText=function(_e){return _e.replace(/\S/g,TEXT_MASKING_CHAR)};function getTextContent(_e,et,tt){var rt,nt=(rt=_e.parentElement)===null||rt===void 0?void 0:rt.tagName,it=_e.textContent||"";if(!(et&&!it.trim())){var at=tt,ot=nt==="SCRIPT";if(ot)it=CENSORED_STRING_MARK;else if(at===NodePrivacyLevel.HIDDEN)it=CENSORED_STRING_MARK;else if(shouldMaskNode(_e,at))if(nt==="DATALIST"||nt==="SELECT"||nt==="OPTGROUP"){if(!it.trim())return}else nt==="OPTION"?it=CENSORED_STRING_MARK:it=censorText(it);return it}}function shouldIgnoreElement(_e){if(_e.nodeName==="SCRIPT")return!0;if(_e.nodeName==="LINK"){var et=nt("rel");return/preload|prefetch/i.test(et)&&nt("as")==="script"||et==="shortcut icon"||et==="icon"}if(_e.nodeName==="META"){var tt=nt("name"),et=nt("rel"),rt=nt("property");return/^msapplication-tile(image|color)$/.test(tt)||tt==="application-name"||et==="icon"||et==="apple-touch-icon"||et==="shortcut icon"||tt==="keywords"||tt==="description"||/^(og|twitter|fb):/.test(rt)||/^(og|twitter):/.test(tt)||tt==="pinterest"||tt==="robots"||tt==="googlebot"||tt==="bingbot"||_e.hasAttribute("http-equiv")||tt==="author"||tt==="generator"||tt==="framework"||tt==="publisher"||tt==="progid"||/^article:/.test(rt)||/^product:/.test(rt)||tt==="google-site-verification"||tt==="yandex-verification"||tt==="csrf-token"||tt==="p:domain_verify"||tt==="verify-v1"||tt==="verification"||tt==="shopify-checkout-api-token"}function nt(it){return(_e.getAttribute(it)||"").toLowerCase()}return!1}function getPrivacySelector(_e){return"[".concat(PRIVACY_ATTR_NAME,'="').concat(_e,'"], .').concat(PRIVACY_CLASS_PREFIX).concat(_e)}var DEFAULT_PROGRAMMATIC_ACTION_NAME_ATTRIBUTE="data-dd-action-name",ACTION_NAME_PLACEHOLDER="Masked Element";function getActionNameFromElement(_e,et,tt){var rt=et.enablePrivacyForActionName,nt=et.actionNameAttribute,it=getActionNameFromElementProgrammatically(_e,DEFAULT_PROGRAMMATIC_ACTION_NAME_ATTRIBUTE)||nt&&getActionNameFromElementProgrammatically(_e,nt);return it?{name:it,nameSource:"custom_attribute"}:tt===NodePrivacyLevel.MASK?{name:ACTION_NAME_PLACEHOLDER,nameSource:"mask_placeholder"}:getActionNameFromElementForStrategies(_e,nt,priorityStrategies,rt)||getActionNameFromElementForStrategies(_e,nt,fallbackStrategies,rt)||{name:"",nameSource:"blank"}}function getActionNameFromElementProgrammatically(_e,et){var tt;if(supportsElementClosest())tt=_e.closest("[".concat(et,"]"));else for(var rt=_e;rt;){if(rt.hasAttribute(et)){tt=rt;break}rt=getParentElement(rt)}if(tt){var nt=tt.getAttribute(et);return truncate(normalizeWhitespace(nt.trim()))}}var priorityStrategies=[function(_e,et,tt){if(supportsLabelProperty()){if("labels"in _e&&_e.labels&&_e.labels.length>0)return getActionNameFromTextualContent(_e.labels[0],et)}else if(_e.id){var rt=_e.ownerDocument&&find(_e.ownerDocument.querySelectorAll("label"),function(nt){return nt.htmlFor===_e.id});return rt&&getActionNameFromTextualContent(rt,et,tt)}},function(_e){if(_e.nodeName==="INPUT"){var et=_e,tt=et.getAttribute("type");if(tt==="button"||tt==="submit"||tt==="reset")return{name:et.value,nameSource:"text_content"}}},function(_e,et,tt){if(_e.nodeName==="BUTTON"||_e.nodeName==="LABEL"||_e.getAttribute("role")==="button")return getActionNameFromTextualContent(_e,et,tt)},function(_e){return getActionNameFromStandardAttribute(_e,"aria-label")},function(_e,et,tt){var rt=_e.getAttribute("aria-labelledby");if(rt)return{name:rt.split(/\s+/).map(function(nt){return getElementById(_e,nt)}).filter(function(nt){return!!nt}).map(function(nt){return getTextualContent(nt,et,tt)}).join(" "),nameSource:"text_content"}},function(_e){return getActionNameFromStandardAttribute(_e,"alt")},function(_e){return getActionNameFromStandardAttribute(_e,"name")},function(_e){return getActionNameFromStandardAttribute(_e,"title")},function(_e){return getActionNameFromStandardAttribute(_e,"placeholder")},function(_e,et){if("options"in _e&&_e.options.length>0)return getActionNameFromTextualContent(_e.options[0],et)}],fallbackStrategies=[function(_e,et,tt){return getActionNameFromTextualContent(_e,et,tt)}],MAX_PARENTS_TO_CONSIDER=10;function getActionNameFromElementForStrategies(_e,et,tt,rt){for(var nt=_e,it=0;it<=MAX_PARENTS_TO_CONSIDER&&nt&&nt.nodeName!=="BODY"&&nt.nodeName!=="HTML"&&nt.nodeName!=="HEAD";){for(var at=0,ot=tt;at<ot.length;at++){var st=ot[at],lt=st(nt,et,rt);if(lt){var ct=lt.name,ut=lt.nameSource,dt=ct&&ct.trim();if(dt)return{name:truncate(normalizeWhitespace(dt)),nameSource:ut}}}if(nt.nodeName==="FORM")break;nt=getParentElement(nt),it+=1}}function normalizeWhitespace(_e){return _e.replace(/\s+/g," ")}function truncate(_e){return _e.length>100?"".concat(safeTruncate(_e,100)," [...]"):_e}function getElementById(_e,et){return _e.ownerDocument?_e.ownerDocument.getElementById(et):null}function getActionNameFromStandardAttribute(_e,et){return{name:_e.getAttribute(et)||"",nameSource:"standard_attribute"}}function getActionNameFromTextualContent(_e,et,tt){return{name:getTextualContent(_e,et,tt)||"",nameSource:"text_content"}}function getTextualContent(_e,et,tt){if(!_e.isContentEditable){if("innerText"in _e){var rt=_e.innerText,nt=function(it){for(var at=_e.querySelectorAll(it),ot=0;ot<at.length;ot+=1){var st=at[ot];if("innerText"in st){var lt=st.innerText;lt&&lt.trim().length>0&&(rt=rt.replace(lt,""))}}};return supportsInnerTextScriptAndStyleRemoval()||nt("script, style"),nt("[".concat(DEFAULT_PROGRAMMATIC_ACTION_NAME_ATTRIBUTE,"]")),et&&nt("[".concat(et,"]")),tt&&nt("".concat(getPrivacySelector(NodePrivacyLevel.HIDDEN),", ").concat(getPrivacySelector(NodePrivacyLevel.MASK))),rt}return _e.textContent}}function supportsInnerTextScriptAndStyleRemoval(){return!isIE$1()}var supportsLabelPropertyResult;function supportsLabelProperty(){return supportsLabelPropertyResult===void 0&&(supportsLabelPropertyResult="labels"in HTMLInputElement.prototype),supportsLabelPropertyResult}var supportsElementClosestResult;function supportsElementClosest(){return supportsElementClosestResult===void 0&&(supportsElementClosestResult="closest"in HTMLElement.prototype),supportsElementClosestResult}var STABLE_ATTRIBUTES=[DEFAULT_PROGRAMMATIC_ACTION_NAME_ATTRIBUTE,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],GLOBALLY_UNIQUE_SELECTOR_GETTERS=[getStableAttributeSelector,getIDSelector],UNIQUE_AMONG_CHILDREN_SELECTOR_GETTERS=[getStableAttributeSelector,getClassSelector,getTagNameSelector];function getSelectorFromElement(_e,et){if(isConnected(_e)){for(var tt,rt=_e;rt&&rt.nodeName!=="HTML";){var nt=findSelector(rt,GLOBALLY_UNIQUE_SELECTOR_GETTERS,isSelectorUniqueGlobally,et,tt);if(nt)return nt;var it=findSelector(rt,UNIQUE_AMONG_CHILDREN_SELECTOR_GETTERS,isSelectorUniqueAmongSiblings,et,tt);tt=it||combineSelector(getPositionSelector(rt),tt),rt=getParentElement(rt)}return tt}}function isGeneratedValue(_e){return/[0-9]/.test(_e)}function getIDSelector(_e){if(_e.id&&!isGeneratedValue(_e.id))return"#".concat(cssEscape(_e.id))}function getClassSelector(_e){if(_e.tagName!=="BODY")for(var et=getClassList(_e),tt=0;tt<et.length;tt+=1){var rt=et[tt];if(!isGeneratedValue(rt))return"".concat(cssEscape(_e.tagName),".").concat(cssEscape(rt))}}function getTagNameSelector(_e){return cssEscape(_e.tagName)}function getStableAttributeSelector(_e,et){if(et){var tt=at(et);if(tt)return tt}for(var rt=0,nt=STABLE_ATTRIBUTES;rt<nt.length;rt++){var it=nt[rt],tt=at(it);if(tt)return tt}function at(ot){if(_e.hasAttribute(ot))return"".concat(cssEscape(_e.tagName),"[").concat(ot,'="').concat(cssEscape(_e.getAttribute(ot)),'"]')}}function getPositionSelector(_e){for(var et=getParentElement(_e).firstElementChild,tt=1;et&&et!==_e;)et.tagName===_e.tagName&&(tt+=1),et=et.nextElementSibling;return"".concat(cssEscape(_e.tagName),":nth-of-type(").concat(tt,")")}function findSelector(_e,et,tt,rt,nt){for(var it=0,at=et;it<at.length;it++){var ot=at[it],st=ot(_e,rt);if(st&&tt(_e,st,nt))return combineSelector(st,nt)}}function isSelectorUniqueGlobally(_e,et,tt){return _e.ownerDocument.querySelectorAll(combineSelector(et,tt)).length===1}function isSelectorUniqueAmongSiblings(_e,et,tt){var rt;if(tt===void 0)rt=function(ot){return elementMatches(ot,et)};else{var nt=supportScopeSelector()?combineSelector("".concat(et,":scope"),tt):combineSelector(et,tt);rt=function(ot){return ot.querySelector(nt)!==null}}for(var it=getParentElement(_e),at=it.firstElementChild;at;){if(at!==_e&&rt(at))return!1;at=at.nextElementSibling}return!0}function combineSelector(_e,et){return et?"".concat(_e,">").concat(et):_e}var supportScopeSelectorCache;function supportScopeSelector(){if(supportScopeSelectorCache===void 0)try{document.querySelector(":scope"),supportScopeSelectorCache=!0}catch{supportScopeSelectorCache=!1}return supportScopeSelectorCache}function isConnected(_e){return"isConnected"in _e?_e.isConnected:_e.ownerDocument.documentElement.contains(_e)}var MAX_DURATION_BETWEEN_CLICKS=ONE_SECOND,MAX_DISTANCE_BETWEEN_CLICKS=100;function createClickChain(_e,et){var tt=[],rt=0,nt;it(_e);function it(st){st.stopObservable.subscribe(at),tt.push(st),clearTimeout$1(nt),nt=setTimeout$1(ot,MAX_DURATION_BETWEEN_CLICKS)}function at(){rt===1&&tt.every(function(st){return st.isStopped()})&&(rt=2,et(tt))}function ot(){clearTimeout$1(nt),rt===0&&(rt=1,at())}return{tryAppend:function(st){return rt!==0?!1:tt.length>0&&!areEventsSimilar(tt[tt.length-1].event,st.event)?(ot(),!1):(it(st),!0)},stop:function(){ot()}}}function areEventsSimilar(_e,et){return _e.target===et.target&&mouseEventDistance(_e,et)<=MAX_DISTANCE_BETWEEN_CLICKS&&_e.timeStamp-et.timeStamp<=MAX_DURATION_BETWEEN_CLICKS}function mouseEventDistance(_e,et){return Math.sqrt(Math.pow(_e.clientX-et.clientX,2)+Math.pow(_e.clientY-et.clientY,2))}function listenActionEvents(_e,et){var tt=et.onPointerDown,rt=et.onPointerUp,nt,it={selection:!1,input:!1,scroll:!1},at,ot=[addEventListener$1(_e,window,"pointerdown",function(st){isValidPointerEvent(st)&&(nt=isSelectionEmpty(),it={selection:!1,input:!1,scroll:!1},at=tt(st))},{capture:!0}),addEventListener$1(_e,window,"selectionchange",function(){(!nt||!isSelectionEmpty())&&(it.selection=!0)},{capture:!0}),addEventListener$1(_e,window,"scroll",function(){it.scroll=!0},{capture:!0,passive:!0}),addEventListener$1(_e,window,"pointerup",function(st){if(isValidPointerEvent(st)&&at){var lt=it;rt(at,st,function(){return lt}),at=void 0}},{capture:!0}),addEventListener$1(_e,window,"input",function(){it.input=!0},{capture:!0})];return{stop:function(){ot.forEach(function(st){return st.stop()})}}}function isSelectionEmpty(){var _e=window.getSelection();return!_e||_e.isCollapsed}function isValidPointerEvent(_e){return _e.target instanceof Element&&_e.isPrimary!==!1}var MIN_CLICKS_PER_SECOND_TO_CONSIDER_RAGE=3;function computeFrustration(_e,et){if(isRage(_e))return et.addFrustration("rage_click"),_e.some(isDead)&&et.addFrustration("dead_click"),et.hasError&&et.addFrustration("error_click"),{isRage:!0};var tt=_e.some(function(rt){return rt.getUserActivity().selection});return _e.forEach(function(rt){rt.hasError&&rt.addFrustration("error_click"),isDead(rt)&&!tt&&rt.addFrustration("dead_click")}),{isRage:!1}}function isRage(_e){if(_e.some(function(tt){return tt.getUserActivity().selection||tt.getUserActivity().scroll}))return!1;for(var et=0;et<_e.length-(MIN_CLICKS_PER_SECOND_TO_CONSIDER_RAGE-1);et+=1)if(_e[et+MIN_CLICKS_PER_SECOND_TO_CONSIDER_RAGE-1].event.timeStamp-_e[et].event.timeStamp<=ONE_SECOND)return!0;return!1}var DEAD_CLICK_EXCLUDE_SELECTOR='input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),textarea,select,[contenteditable],[contenteditable] *,canvas,a[href],a[href] *';function isDead(_e){return _e.hasPageActivity||_e.getUserActivity().input||_e.getUserActivity().scroll?!1:!elementMatches(_e.event.target,DEAD_CLICK_EXCLUDE_SELECTOR)}var CLICK_ACTION_MAX_DURATION=10*ONE_SECOND,interactionSelectorCache=new Map;function getInteractionSelector(_e){var et=interactionSelectorCache.get(_e);return interactionSelectorCache.delete(_e),et}function updateInteractionSelector(_e,et){interactionSelectorCache.set(_e,et),interactionSelectorCache.forEach(function(tt,rt){elapsed(rt,relativeNow())>CLICK_ACTION_MAX_DURATION&&interactionSelectorCache.delete(rt)})}var ACTION_CONTEXT_TIME_OUT_DELAY=5*ONE_MINUTE;function trackClickActions(_e,et,tt,rt){var nt=createValueHistory({expireDelay:ACTION_CONTEXT_TIME_OUT_DELAY}),it=new Observable$1,at;_e.subscribe(9,function(){nt.reset()}),_e.subscribe(4,ct);var ot=listenActionEvents(rt,{onPointerDown:function(ut){return processPointerDown(rt,_e,et,ut,tt)},onPointerUp:function(ut,dt,ft){var pt=ut.clickActionBase,ht=ut.hadActivityOnPointerDown;startClickAction(rt,_e,et,tt,nt,it,lt,pt,dt,ft,ht)}}).stop,st={findActionId:function(ut){return nt.findAll(ut)}};return{stop:function(){ct(),it.notify(),ot()},actionContexts:st};function lt(ut){if(!at||!at.tryAppend(ut)){var dt=ut.clone();at=createClickChain(ut,function(ft){finalizeClicks(ft,dt)})}}function ct(){at&&at.stop()}}function processPointerDown(_e,et,tt,rt,nt){var it=_e.enablePrivacyForActionName?getNodePrivacyLevel(rt.target,_e.defaultPrivacyLevel):NodePrivacyLevel.ALLOW;if(it!==NodePrivacyLevel.HIDDEN){var at=computeClickActionBase(rt,it,_e),ot=!1;return waitPageActivityEnd(et,tt,nt,_e,function(st){ot=st.hadActivity},PAGE_ACTIVITY_VALIDATION_DELAY),{clickActionBase:at,hadActivityOnPointerDown:function(){return ot}}}}function startClickAction(_e,et,tt,rt,nt,it,at,ot,st,lt,ct){var ut,dt=newClick(et,nt,lt,ot,st);at(dt);var ft=(ut=ot==null?void 0:ot.target)===null||ut===void 0?void 0:ut.selector;ft&&updateInteractionSelector(st.timeStamp,ft);var pt=waitPageActivityEnd(et,tt,rt,_e,function(mt){mt.hadActivity&&mt.end<dt.startClocks.timeStamp?dt.discard():mt.hadActivity?dt.stop(mt.end):ct()?dt.stop(dt.startClocks.timeStamp):dt.stop()},CLICK_ACTION_MAX_DURATION).stop,ht=et.subscribe(4,function(mt){var gt=mt.endClocks;dt.stop(gt.timeStamp)}),yt=it.subscribe(function(){dt.stop()});dt.stopObservable.subscribe(function(){ht.unsubscribe(),pt(),yt.unsubscribe()})}function computeClickActionBase(_e,et,tt){var rt=_e.target.getBoundingClientRect(),nt=getSelectorFromElement(_e.target,tt.actionNameAttribute);nt&&updateInteractionSelector(_e.timeStamp,nt);var it=getActionNameFromElement(_e.target,tt,et);return{type:"click",target:{width:Math.round(rt.width),height:Math.round(rt.height),selector:nt},position:{x:Math.round(_e.clientX-rt.left),y:Math.round(_e.clientY-rt.top)},name:it.name,nameSource:it.nameSource}}function newClick(_e,et,tt,rt,nt){var it=generateUUID(),at=clocksNow(),ot=et.add(it,at.relative),st=trackEventCounts({lifeCycle:_e,isChildEvent:function(pt){return pt.action!==void 0&&(Array.isArray(pt.action.id)?includes(pt.action.id,it):pt.action.id===it)}}),lt=0,ct,ut=[],dt=new Observable$1;function ft(pt){lt===0&&(ct=pt,lt=1,ct?ot.close(getRelativeTime(ct)):ot.remove(),st.stop(),dt.notify())}return{event:nt,stop:ft,stopObservable:dt,get hasError(){return st.eventCounts.errorCount>0},get hasPageActivity(){return ct!==void 0},getUserActivity:tt,addFrustration:function(pt){ut.push(pt)},startClocks:at,isStopped:function(){return lt===1||lt===2},clone:function(){return newClick(_e,et,tt,rt,nt)},validate:function(pt){if(ft(),lt===1){var ht=st.eventCounts,yt=ht.resourceCount,mt=ht.errorCount,gt=ht.longTaskCount,vt=assign$3({type:"click",duration:ct&&elapsed(at.timeStamp,ct),startClocks:at,id:it,frustrationTypes:ut,counts:{resourceCount:yt,errorCount:mt,longTaskCount:gt},events:pt??[nt],event:nt},rt);_e.notify(0,vt),lt=2}},discard:function(){ft(),lt=2}}}function finalizeClicks(_e,et){var tt=computeFrustration(_e,et).isRage;tt?(_e.forEach(function(rt){return rt.discard()}),et.stop(timeStampNow()),et.validate(_e.map(function(rt){return rt.event}))):(et.discard(),_e.forEach(function(rt){return rt.validate()}))}function startActionCollection(_e,et,tt,rt,nt){var it;_e.subscribe(0,function(st){return _e.notify(11,processAction(st,nt))});var at={findActionId:noop$7},ot=noop$7;return rt.trackUserInteractions&&(it=trackClickActions(_e,et,tt,rt),at=it.actionContexts,ot=it.stop),{addAction:function(st,lt){_e.notify(11,assign$3({savedCommonContext:lt},processAction(st,nt)))},actionContexts:at,stop:ot}}function processAction(_e,et){var tt=isAutoAction(_e)?{action:{id:_e.id,loading_time:discardNegativeDuration(toServerDuration(_e.duration)),frustration:{type:_e.frustrationTypes},error:{count:_e.counts.errorCount},long_task:{count:_e.counts.longTaskCount},resource:{count:_e.counts.resourceCount}},_dd:{action:{target:_e.target,position:_e.position,name_source:isExperimentalFeatureEnabled(ExperimentalFeature.ACTION_NAME_MASKING)?_e.nameSource:void 0}}}:void 0,rt=isAutoAction(_e)?void 0:_e.context,nt=combine({action:{id:generateUUID(),target:{name:_e.name},type:_e.type},date:_e.startClocks.timeStamp,type:"action",view:{in_foreground:et.wasInPageStateAt("active",_e.startClocks.relative)}},tt),it=isAutoAction(_e)?{events:_e.events}:{};return!isAutoAction(_e)&&_e.handlingStack&&(it.handlingStack=_e.handlingStack),{customerContext:rt,rawRumEvent:nt,startTime:_e.startClocks.relative,domainContext:it}}function isAutoAction(_e){return _e.type!=="custom"}function trackConsoleError(_e){var et=initConsoleObservable([ConsoleApiName.error]).subscribe(function(tt){return _e.notify(tt.error)});return{stop:function(){et.unsubscribe()}}}function trackReportError(_e,et){var tt=initReportObservable(_e,[RawReportType.cspViolation,RawReportType.intervention]).subscribe(function(rt){return et.notify(rt)});return{stop:function(){tt.unsubscribe()}}}function startErrorCollection(_e,et,tt,rt){var nt=new Observable$1;return trackConsoleError(nt),trackRuntimeError(nt),trackReportError(et,nt),nt.subscribe(function(it){return _e.notify(13,{error:it})}),doStartErrorCollection(_e,tt,rt)}function doStartErrorCollection(_e,et,tt){return _e.subscribe(13,function(rt){var nt=rt.error,it=rt.customerContext,at=rt.savedCommonContext;_e.notify(11,assign$3({customerContext:it,savedCommonContext:at},processError(nt,et,tt)))}),{addError:function(rt,nt){var it=rt.error,at=rt.handlingStack,ot=rt.startClocks,st=rt.context,lt=isError(it)?computeStackTrace(it):void 0,ct=computeRawError({stackTrace:lt,originalError:it,handlingStack:at,startClocks:ot,nonErrorPrefix:"Provided",source:ErrorSource.CUSTOM,handling:"handled"});_e.notify(13,{customerContext:st,savedCommonContext:nt,error:ct})}}}function processError(_e,et,tt){var rt={date:_e.startClocks.timeStamp,error:{id:generateUUID(),message:_e.message,source:_e.source,stack:_e.stack,handling_stack:_e.handlingStack,type:_e.type,handling:_e.handling,causes:_e.causes,source_type:"browser",fingerprint:_e.fingerprint,csp:_e.csp},type:"error",view:{in_foreground:et.wasInPageStateAt("active",_e.startClocks.relative)}},nt=tt.findFeatureFlagEvaluations(_e.startClocks.relative);nt&&!isEmptyObject$1(nt)&&(rt.feature_flags=nt);var it={error:_e.originalError,handlingStack:_e.handlingStack};return{rawRumEvent:rt,startTime:_e.startClocks.relative,domainContext:it}}function startLongTaskCollection(_e,et){var tt=createPerformanceObservable(et,{type:RumPerformanceEntryType.LONG_TASK,buffered:!0}).subscribe(function(rt){for(var nt=0,it=rt;nt<it.length;nt++){var at=it[nt];if(at.entryType!==RumPerformanceEntryType.LONG_TASK||!et.trackLongTasks)break;var ot=relativeToClocks(at.startTime),st={date:ot.timeStamp,long_task:{id:generateUUID(),entry_type:"long-task",duration:toServerDuration(at.duration)},type:"long_task",_dd:{discarded:!1}};_e.notify(11,{rawRumEvent:st,startTime:ot.relative,domainContext:{performanceEntry:at}})}});return{stop:function(){tt.unsubscribe()}}}var alreadyMatchedEntries=new WeakSet$1;function matchRequestResourceEntry(_e){if(!(!performance||!("getEntriesByName"in performance))){var et=performance.getEntriesByName(_e.url,"resource");if(!(!et.length||!("toJSON"in et[0]))){var tt=et.filter(function(rt){return!alreadyMatchedEntries.has(rt)}).filter(function(rt){return hasValidResourceEntryDuration(rt)&&hasValidResourceEntryTimings(rt)}).filter(function(rt){return isBetween(rt,_e.startClocks.relative,endTime({startTime:_e.startClocks.relative,duration:_e.duration}))});if(tt.length===1)return alreadyMatchedEntries.add(tt[0]),tt[0].toJSON()}}}function endTime(_e){return addDuration(_e.startTime,_e.duration)}function isBetween(_e,et,tt){var rt=1;return _e.startTime>=et-rt&&endTime(_e)<=addDuration(tt,rt)}var INITIAL_DOCUMENT_OUTDATED_TRACE_ID_THRESHOLD=2*ONE_MINUTE;function getDocumentTraceId(_e){var et=getDocumentTraceDataFromMeta(_e)||getDocumentTraceDataFromComment(_e);if(!(!et||et.traceTime<=dateNow()-INITIAL_DOCUMENT_OUTDATED_TRACE_ID_THRESHOLD))return et.traceId}function getDocumentTraceDataFromMeta(_e){var et=_e.querySelector("meta[name=dd-trace-id]"),tt=_e.querySelector("meta[name=dd-trace-time]");return createDocumentTraceData(et&&et.content,tt&&tt.content)}function getDocumentTraceDataFromComment(_e){var et=findTraceComment(_e);if(et)return createDocumentTraceData(findCommaSeparatedValue(et,"trace-id"),findCommaSeparatedValue(et,"trace-time"))}function createDocumentTraceData(_e,et){var tt=et&&Number(et);if(!(!_e||!tt))return{traceId:_e,traceTime:tt}}function findTraceComment(_e){for(var et=0;et<_e.childNodes.length;et+=1){var tt=getTraceCommentFromNode(_e.childNodes[et]);if(tt)return tt}if(_e.body)for(var et=_e.body.childNodes.length-1;et>=0;et-=1){var rt=_e.body.childNodes[et],tt=getTraceCommentFromNode(rt);if(tt)return tt;if(!isTextNode(rt))break}}function getTraceCommentFromNode(_e){if(_e&&isCommentNode(_e)){var et=/^\s*DATADOG;(.*?)\s*$/.exec(_e.data);if(et)return et[1]}}function getNavigationEntry(){if(supportPerformanceTimingEvent(RumPerformanceEntryType.NAVIGATION)){var _e=performance.getEntriesByType(RumPerformanceEntryType.NAVIGATION)[0];if(_e)return _e}var et=computeTimingsFromDeprecatedPerformanceTiming(),tt=assign$3({entryType:RumPerformanceEntryType.NAVIGATION,initiatorType:"navigation",name:window.location.href,startTime:0,duration:et.responseEnd,decodedBodySize:0,encodedBodySize:0,transferSize:0,workerStart:0,toJSON:function(){return assign$3({},tt,{toJSON:void 0})}},et);return tt}function computeTimingsFromDeprecatedPerformanceTiming(){var _e={},et=performance.timing;for(var tt in et)if(isNumber$4(et[tt])){var rt=tt,nt=et[rt];_e[rt]=nt===0?0:getRelativeTime(nt)}return _e}function retrieveInitialDocumentResourceTiming(_e,et){runOnReadyState(_e,"interactive",function(){var tt=assign$3(getNavigationEntry().toJSON(),{entryType:RumPerformanceEntryType.RESOURCE,initiatorType:FAKE_INITIAL_DOCUMENT,traceId:getDocumentTraceId(document),toJSON:function(){return assign$3({},tt,{toJSON:void 0})}});et(tt)})}function startResourceCollection(_e,et,tt,rt,nt){rt===void 0&&(rt=createTaskQueue()),nt===void 0&&(nt=retrieveInitialDocumentResourceTiming),_e.subscribe(7,function(ot){at(function(){return processRequest(ot,et,tt)})});var it=createPerformanceObservable(et,{type:RumPerformanceEntryType.RESOURCE,buffered:!0}).subscribe(function(ot){for(var st=function(dt){isResourceEntryRequestType(dt)||at(function(){return processResourceEntry(dt,et)})},lt=0,ct=ot;lt<ct.length;lt++){var ut=ct[lt];st(ut)}});nt(et,function(ot){at(function(){return processResourceEntry(ot,et)})});function at(ot){rt.push(function(){var st=ot();st&&_e.notify(11,st)})}return{stop:function(){it.unsubscribe()}}}function processRequest(_e,et,tt){var rt=matchRequestResourceEntry(_e),nt=rt?relativeToClocks(rt.startTime):_e.startClocks,it=computeRequestTracingInfo(_e,et);if(!(!et.trackResources&&!it)){var at=_e.type==="xhr"?"xhr":"fetch",ot=rt?computeResourceEntryMetrics(rt):void 0,st=computeRequestDuration(tt,nt,_e.duration),lt=combine({date:nt.timeStamp,resource:{id:generateUUID(),type:at,duration:st,method:_e.method,status_code:_e.status,protocol:rt&&computeResourceEntryProtocol(rt),url:isLongDataUrl(_e.url)?sanitizeDataUrl(_e.url):_e.url,delivery_type:rt&&computeResourceEntryDeliveryType(rt)},type:"resource",_dd:{discarded:!et.trackResources}},it,ot);return{startTime:nt.relative,rawRumEvent:lt,domainContext:{performanceEntry:rt,xhr:_e.xhr,response:_e.response,requestInput:_e.input,requestInit:_e.init,error:_e.error,isAborted:_e.isAborted,handlingStack:_e.handlingStack}}}}function processResourceEntry(_e,et){var tt=relativeToClocks(_e.startTime),rt=computeResourceEntryTracingInfo(_e,et);if(!(!et.trackResources&&!rt)){var nt=computeResourceEntryType(_e),it=computeResourceEntryMetrics(_e),at=combine({date:tt.timeStamp,resource:{id:generateUUID(),type:nt,url:_e.name,status_code:discardZeroStatus(_e.responseStatus),protocol:computeResourceEntryProtocol(_e),delivery_type:computeResourceEntryDeliveryType(_e)},type:"resource",_dd:{discarded:!et.trackResources}},rt,it);return{startTime:tt.relative,rawRumEvent:at,domainContext:{performanceEntry:_e}}}}function computeResourceEntryMetrics(_e){var et=_e.renderBlockingStatus;return{resource:assign$3({duration:computeResourceEntryDuration(_e),render_blocking_status:et},computeResourceEntrySize(_e),computeResourceEntryDetails(_e))}}function computeRequestTracingInfo(_e,et){var tt=_e.traceSampled&&_e.traceId&&_e.spanId;if(tt)return{_dd:{span_id:_e.spanId.toString(),trace_id:_e.traceId.toString(),rule_psr:et.rulePsr}}}function computeResourceEntryTracingInfo(_e,et){var tt=_e.traceId;if(tt)return{_dd:{trace_id:_e.traceId,span_id:createSpanIdentifier().toString(),rule_psr:et.rulePsr}}}function computeRequestDuration(_e,et,tt){return _e.wasInPageStateDuringPeriod("frozen",et.relative,tt)?void 0:toServerDuration(tt)}function discardZeroStatus(_e){return _e===0?void 0:_e}function trackViewEventCounts(_e,et,tt){var rt=trackEventCounts({lifeCycle:_e,isChildEvent:function(at){return at.view.id===et},onChange:tt}),nt=rt.stop,it=rt.eventCounts;return{stop:nt,eventCounts:it}}var FCP_MAXIMUM_DELAY=10*ONE_MINUTE;function trackFirstContentfulPaint(_e,et,tt){var rt=createPerformanceObservable(_e,{type:RumPerformanceEntryType.PAINT,buffered:!0}).subscribe(function(nt){var it=find(nt,function(at){return at.name==="first-contentful-paint"&&at.startTime<et.timeStamp&&at.startTime<FCP_MAXIMUM_DELAY});it&&tt(it.startTime)});return{stop:rt.unsubscribe}}function trackFirstInput(_e,et,tt){var rt=createPerformanceObservable(_e,{type:RumPerformanceEntryType.FIRST_INPUT,buffered:!0}).subscribe(function(nt){var it=find(nt,function(st){return st.startTime<et.timeStamp});if(it){var at=elapsed(it.startTime,it.processingStart),ot=void 0;it.target&&isElementNode(it.target)&&(ot=getSelectorFromElement(it.target,_e.actionNameAttribute)),tt({delay:at>=0?at:0,time:it.startTime,targetSelector:ot})}});return{stop:function(){rt.unsubscribe()}}}function trackNavigationTimings(_e,et,tt){return tt===void 0&&(tt=getNavigationEntry),waitAfterLoadEvent(_e,function(){var rt=tt();isIncompleteNavigation(rt)||et(processNavigationEntry(rt))})}function processNavigationEntry(_e){return{domComplete:_e.domComplete,domContentLoaded:_e.domContentLoadedEventEnd,domInteractive:_e.domInteractive,loadEvent:_e.loadEventEnd,firstByte:_e.responseStart>=0&&_e.responseStart<=relativeNow()?_e.responseStart:void 0}}function isIncompleteNavigation(_e){return _e.loadEventEnd<=0}function waitAfterLoadEvent(_e,et){var tt,rt=runOnReadyState(_e,"complete",function(){tt=setTimeout$1(function(){return et()})}).stop;return{stop:function(){rt(),clearTimeout$1(tt)}}}var LCP_MAXIMUM_DELAY=10*ONE_MINUTE;function trackLargestContentfulPaint(_e,et,tt,rt){var nt=1/0,it=addEventListeners(_e,tt,["pointerdown","keydown"],function(st){nt=st.timeStamp},{capture:!0,once:!0}).stop,at=0,ot=createPerformanceObservable(_e,{type:RumPerformanceEntryType.LARGEST_CONTENTFUL_PAINT,buffered:!0}).subscribe(function(st){var lt=findLast(st,function(ut){return ut.entryType===RumPerformanceEntryType.LARGEST_CONTENTFUL_PAINT&&ut.startTime<nt&&ut.startTime<et.timeStamp&&ut.startTime<LCP_MAXIMUM_DELAY&&ut.size>at});if(lt){var ct=void 0;lt.element&&(ct=getSelectorFromElement(lt.element,_e.actionNameAttribute)),rt({value:lt.startTime,targetSelector:ct}),at=lt.size}});return{stop:function(){it(),ot.unsubscribe()}}}function trackFirstHidden(_e,et){et===void 0&&(et=window);var tt,rt;return document.visibilityState==="hidden"?tt=0:(tt=1/0,rt=addEventListeners(_e,et,["pagehide","visibilitychange"],function(nt){(nt.type==="pagehide"||document.visibilityState==="hidden")&&(tt=nt.timeStamp,rt())},{capture:!0}).stop),{get timeStamp(){return tt},stop:function(){rt==null||rt()}}}function trackInitialViewMetrics(_e,et,tt){var rt={},nt=trackNavigationTimings(_e,function(ct){et(ct.loadEvent),rt.navigationTimings=ct,tt()}).stop,it=trackFirstHidden(_e),at=trackFirstContentfulPaint(_e,it,function(ct){rt.firstContentfulPaint=ct,tt()}).stop,ot=trackLargestContentfulPaint(_e,it,window,function(ct){rt.largestContentfulPaint=ct,tt()}).stop,st=trackFirstInput(_e,it,function(ct){rt.firstInput=ct,tt()}).stop;function lt(){nt(),at(),ot(),st(),it.stop()}return{stop:lt,initialViewMetrics:rt}}function trackCumulativeLayoutShift(_e,et,tt){if(!isLayoutShiftSupported())return{stop:noop$7};var rt=0,nt,it;tt({value:0});var at=slidingSessionWindow(),ot=createPerformanceObservable(_e,{type:RumPerformanceEntryType.LAYOUT_SHIFT,buffered:!0}).subscribe(function(st){for(var lt=0,ct=st;lt<ct.length;lt++){var ut=ct[lt];if(!(ut.hadRecentInput||ut.startTime<et)){var dt=at.update(ut),ft=dt.cumulatedValue,pt=dt.isMaxValue;if(pt){var ht=getTargetFromSource(ut.sources);nt=ht?new WeakRef(ht):void 0,it=elapsed(et,ut.startTime)}if(ft>rt){rt=ft;var ht=nt==null?void 0:nt.deref();tt({value:round$1(rt,4),targetSelector:ht&&getSelectorFromElement(ht,_e.actionNameAttribute),time:it})}}}});return{stop:function(){ot.unsubscribe()}}}function getTargetFromSource(_e){var et;if(_e)return(et=find(_e,function(tt){return!!tt.node&&isElementNode(tt.node)}))===null||et===void 0?void 0:et.node}var MAX_WINDOW_DURATION=5*ONE_SECOND,MAX_UPDATE_GAP=ONE_SECOND;function slidingSessionWindow(){var _e=0,et,tt,rt=0;return{update:function(nt){var it=et===void 0||nt.startTime-tt>=MAX_UPDATE_GAP||nt.startTime-et>=MAX_WINDOW_DURATION,at;return it?(et=tt=nt.startTime,rt=_e=nt.value,at=!0):(_e+=nt.value,tt=nt.startTime,at=nt.value>rt,at&&(rt=nt.value)),{cumulatedValue:_e,isMaxValue:at}}}}function isLayoutShiftSupported(){return supportPerformanceTimingEvent(RumPerformanceEntryType.LAYOUT_SHIFT)&&"WeakRef"in window}var observer,interactionCountEstimate=0,minKnownInteractionId=1/0,maxKnownInteractionId=0;function initInteractionCountPolyfill(){"interactionCount"in performance||observer||(observer=new window.PerformanceObserver(monitor(function(_e){_e.getEntries().forEach(function(et){var tt=et;tt.interactionId&&(minKnownInteractionId=Math.min(minKnownInteractionId,tt.interactionId),maxKnownInteractionId=Math.max(maxKnownInteractionId,tt.interactionId),interactionCountEstimate=(maxKnownInteractionId-minKnownInteractionId)/7+1)})})),observer.observe({type:"event",buffered:!0,durationThreshold:0}))}var getInteractionCount=function(){return observer?interactionCountEstimate:window.performance.interactionCount||0},MAX_INTERACTION_ENTRIES=10,MAX_INP_VALUE=1*ONE_MINUTE;function trackInteractionToNextPaint(_e,et,tt){if(!isInteractionToNextPaintSupported())return{getInteractionToNextPaint:function(){},setViewEnd:noop$7,stop:noop$7};var rt=trackViewInteractionCount(tt),nt=rt.getViewInteractionCount,it=rt.stopViewInteractionCount,at=1/0,ot=trackLongestInteractions(nt),st=-1,lt,ct;function ut(pt){for(var ht=0,yt=pt;ht<yt.length;ht++){var mt=yt[ht];mt.interactionId&&mt.startTime>=et&&mt.startTime<=at&&ot.process(mt)}var gt=ot.estimateP98Interaction();gt&&gt.duration!==st&&(st=gt.duration,ct=elapsed(et,gt.startTime),lt=getInteractionSelector(gt.startTime),!lt&&gt.target&&isElementNode(gt.target)&&(lt=getSelectorFromElement(gt.target,_e.actionNameAttribute)))}var dt=createPerformanceObservable(_e,{type:RumPerformanceEntryType.FIRST_INPUT,buffered:!0}).subscribe(ut),ft=createPerformanceObservable(_e,{type:RumPerformanceEntryType.EVENT,durationThreshold:40,buffered:!0}).subscribe(ut);return{getInteractionToNextPaint:function(){if(st>=0)return{value:Math.min(st,MAX_INP_VALUE),targetSelector:lt,time:ct};if(nt())return{value:0}},setViewEnd:function(pt){at=pt,it()},stop:function(){ft.unsubscribe(),dt.unsubscribe()}}}function trackLongestInteractions(_e){var et=[];function tt(){et.sort(function(rt,nt){return nt.duration-rt.duration}).splice(MAX_INTERACTION_ENTRIES)}return{process:function(rt){var nt=et.findIndex(function(at){return rt.interactionId===at.interactionId}),it=et[et.length-1];nt!==-1?rt.duration>et[nt].duration&&(et[nt]=rt,tt()):(et.length<MAX_INTERACTION_ENTRIES||rt.duration>it.duration)&&(et.push(rt),tt())},estimateP98Interaction:function(){var rt=Math.min(et.length-1,Math.floor(_e()/50));return et[rt]}}}function trackViewInteractionCount(_e){initInteractionCountPolyfill();var et=_e==="initial_load"?0:getInteractionCount(),tt={stopped:!1};function rt(){return getInteractionCount()-et}return{getViewInteractionCount:function(){return tt.stopped?tt.interactionCount:rt()},stopViewInteractionCount:function(){tt={stopped:!0,interactionCount:rt()}}}}function isInteractionToNextPaintSupported(){return supportPerformanceTimingEvent(RumPerformanceEntryType.EVENT)&&window.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype}function trackLoadingTime(_e,et,tt,rt,nt,it,at){var ot=nt==="initial_load",st=!0,lt=[],ct=trackFirstHidden(rt);function ut(){if(!st&&!ot&&lt.length>0){var ft=Math.max.apply(Math,lt);ft<ct.timeStamp&&at(ft)}}var dt=waitPageActivityEnd(_e,et,tt,rt,function(ft){st&&(st=!1,ft.hadActivity&&lt.push(elapsed(it.timeStamp,ft.end)),ut())}).stop;return{stop:function(){dt(),ct.stop()},setLoadEvent:function(ft){ot&&(ot=!1,lt.push(ft),ut())}}}function getScrollX(){var _e,et=window.visualViewport;return et?_e=et.pageLeft-et.offsetLeft:window.scrollX!==void 0?_e=window.scrollX:_e=window.pageXOffset||0,Math.round(_e)}function getScrollY(){var _e,et=window.visualViewport;return et?_e=et.pageTop-et.offsetTop:window.scrollY!==void 0?_e=window.scrollY:_e=window.pageYOffset||0,Math.round(_e)}var viewportObservable;function initViewportObservable(_e){return viewportObservable||(viewportObservable=createViewportObservable(_e)),viewportObservable}function createViewportObservable(_e){return new Observable$1(function(et){var tt=throttle$1(function(){et.notify(getViewportDimension())},200).throttled;return addEventListener$1(_e,window,"resize",tt,{capture:!0,passive:!0}).stop})}function getViewportDimension(){var _e=window.visualViewport;return _e?{width:Number(_e.width*_e.scale),height:Number(_e.height*_e.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}var THROTTLE_SCROLL_DURATION=ONE_SECOND;function trackScrollMetrics(_e,et,tt,rt){rt===void 0&&(rt=createScrollValuesObservable(_e));var nt=0,it=0,at=0,ot=rt.subscribe(function(st){var lt=st.scrollDepth,ct=st.scrollTop,ut=st.scrollHeight,dt=!1;if(lt>nt&&(nt=lt,dt=!0),ut>it){it=ut;var ft=relativeNow();at=elapsed(et.relative,ft),dt=!0}dt&&tt({maxDepth:Math.min(nt,it),maxDepthScrollTop:ct,maxScrollHeight:it,maxScrollHeightTime:at})});return{stop:function(){return ot.unsubscribe()}}}function computeScrollValues(){var _e=getScrollY(),et=getViewportDimension().height,tt=Math.round((document.scrollingElement||document.documentElement).scrollHeight),rt=Math.round(et+_e);return{scrollHeight:tt,scrollDepth:rt,scrollTop:_e}}function createScrollValuesObservable(_e,et){return et===void 0&&(et=THROTTLE_SCROLL_DURATION),new Observable$1(function(tt){function rt(){tt.notify(computeScrollValues())}if(window.ResizeObserver){var nt=throttle$1(rt,et,{leading:!1,trailing:!0}),it=document.scrollingElement||document.documentElement,at=new ResizeObserver(monitor(nt.throttled));it&&at.observe(it);var ot=addEventListener$1(_e,window,"scroll",nt.throttled,{passive:!0});return function(){nt.cancel(),at.disconnect(),ot.stop()}}})}function trackCommonViewMetrics(_e,et,tt,rt,nt,it,at){var ot={},st=trackLoadingTime(_e,et,tt,rt,it,at,function(mt){ot.loadingTime=mt,nt()}),lt=st.stop,ct=st.setLoadEvent,ut=trackScrollMetrics(rt,at,function(mt){ot.scroll=mt}).stop,dt=trackCumulativeLayoutShift(rt,at.relative,function(mt){ot.cumulativeLayoutShift=mt,nt()}).stop,ft=trackInteractionToNextPaint(rt,at.relative,it),pt=ft.stop,ht=ft.getInteractionToNextPaint,yt=ft.setViewEnd;return{stop:function(){lt(),dt(),ut()},stopINPTracking:pt,setLoadEvent:ct,setViewEnd:yt,getCommonViewMetrics:function(){return ot.interactionToNextPaint=ht(),ot}}}var THROTTLE_VIEW_UPDATE_PERIOD=3e3,SESSION_KEEP_ALIVE_INTERVAL=5*ONE_MINUTE,KEEP_TRACKING_AFTER_VIEW_DELAY=5*ONE_MINUTE;function trackViews(_e,et,tt,rt,nt,it,at,ot){var st=new Set,lt=ut("initial_load",clocksOrigin(),ot);dt();var ct;at&&(ct=ft(it));function ut(pt,ht,yt){var mt=newView(et,tt,rt,nt,_e,pt,ht,yt);return st.add(mt),mt.stopObservable.subscribe(function(){st.delete(mt)}),mt}function dt(){et.subscribe(9,function(){lt=ut("route_change",void 0,{name:lt.name,service:lt.service,version:lt.version,context:lt.contextManager.getContext()})}),et.subscribe(8,function(){lt.end({sessionIsActive:!1})}),et.subscribe(10,function(pt){pt.reason===PageExitReason.UNLOADING&&lt.end()})}function ft(pt){return pt.subscribe(function(ht){var yt=ht.oldLocation,mt=ht.newLocation;areDifferentLocation(yt,mt)&&(lt.end(),lt=ut("route_change"))})}return{addTiming:function(pt,ht){ht===void 0&&(ht=timeStampNow()),lt.addTiming(pt,ht)},startView:function(pt,ht){lt.end({endClocks:ht}),lt=ut("route_change",ht,pt)},setViewContext:function(pt){lt.contextManager.setContext(pt)},setViewContextProperty:function(pt,ht){lt.contextManager.setContextProperty(pt,ht)},setViewName:function(pt){lt.setViewName(pt)},stop:function(){ct&&ct.unsubscribe(),lt.end(),st.forEach(function(pt){return pt.stop()})}}}function newView(_e,et,tt,rt,nt,it,at,ot){at===void 0&&(at=clocksNow());var st=generateUUID(),lt=new Observable$1,ct={},ut=0,dt,ft=shallowClone(nt),pt=createContextManager(),ht=!0,yt,mt,gt,vt;ot&&(yt=ot.name,mt=ot.service||void 0,gt=ot.version||void 0,ot.context&&(vt=ot.context,pt.setContext(vt)));var St={id:st,name:yt,startClocks:at,service:mt,version:gt,context:vt};_e.notify(1,St),_e.notify(2,St);var xt=throttle$1(jt,THROTTLE_VIEW_UPDATE_PERIOD,{leading:!1}),Ct=xt.throttled,wt=xt.cancel,_t=trackCommonViewMetrics(_e,et,tt,rt,Ct,it,at),Ot=_t.setLoadEvent,kt=_t.setViewEnd,Lt=_t.stop,$t=_t.stopINPTracking,zt=_t.getCommonViewMetrics,Vt=it==="initial_load"?trackInitialViewMetrics(rt,Ot,Ct):{stop:noop$7,initialViewMetrics:{}},Ut=Vt.stop,It=Vt.initialViewMetrics,Dt=trackViewEventCounts(_e,st,Ct),Tt=Dt.stop,Rt=Dt.eventCounts,Ft=setInterval$1(jt,SESSION_KEEP_ALIVE_INTERVAL);jt(),pt.changeObservable.subscribe(jt);function jt(){wt(),ut+=1;var nr=dt===void 0?timeStampNow():dt.timeStamp;_e.notify(3,{customTimings:ct,documentVersion:ut,id:st,name:yt,service:mt,version:gt,context:pt.getContext(),loadingType:it,location:ft,startClocks:at,commonViewMetrics:zt(),initialViewMetrics:It,duration:elapsed(at.timeStamp,nr),isActive:dt===void 0,sessionIsActive:ht,eventCounts:Rt})}return{get name(){return yt},service:mt,version:gt,contextManager:pt,stopObservable:lt,end:function(nr){var cr=this,ur,pr;nr===void 0&&(nr={}),!dt&&(dt=(ur=nr.endClocks)!==null&&ur!==void 0?ur:clocksNow(),ht=(pr=nr.sessionIsActive)!==null&&pr!==void 0?pr:!0,_e.notify(4,{endClocks:dt}),_e.notify(5,{endClocks:dt}),clearInterval$1(Ft),kt(dt.relative),Lt(),jt(),setTimeout$1(function(){cr.stop()},KEEP_TRACKING_AFTER_VIEW_DELAY))},stop:function(){Ut(),Tt(),$t(),lt.notify()},addTiming:function(nr,cr){if(!dt){var ur=looksLikeRelativeTime(cr)?cr:elapsed(at.timeStamp,cr);ct[sanitizeTiming(nr)]=ur,Ct()}},setViewName:function(nr){yt=nr,jt()}}}function sanitizeTiming(_e){var et=_e.replace(/[^a-zA-Z0-9-_.@$]/g,"_");return et!==_e&&display.warn("Invalid timing name: ".concat(_e,", sanitized to: ").concat(et)),et}function areDifferentLocation(_e,et){return _e.pathname!==et.pathname||!isHashAnAnchor(et.hash)&&getPathFromHash(et.hash)!==getPathFromHash(_e.hash)}function isHashAnAnchor(_e){var et=_e.substring(1);return et!==""&&!!document.getElementById(et)}function getPathFromHash(_e){var et=_e.indexOf("?");return et<0?_e:_e.slice(0,et)}function startViewCollection(_e,et,tt,rt,nt,it,at,ot,st,lt){return _e.subscribe(3,function(ct){return _e.notify(11,processViewUpdate(ct,et,at,st,ot))}),trackViews(tt,_e,rt,nt,et,it,!et.trackViewsManually,lt)}function processViewUpdate(_e,et,tt,rt,nt){var it,at,ot,st,lt,ct,ut,dt,ft,pt,ht,yt,mt,gt,vt,St,xt=rt.getReplayStats(_e.id),Ct=tt.findFeatureFlagEvaluations(_e.startClocks.relative),wt=nt.findAll(_e.startClocks.relative,_e.duration),_t={_dd:{document_version:_e.documentVersion,replay_stats:xt,page_states:wt,configuration:{start_session_replay_recording_manually:et.startSessionReplayRecordingManually}},date:_e.startClocks.timeStamp,type:"view",view:{action:{count:_e.eventCounts.actionCount},frustration:{count:_e.eventCounts.frustrationCount},cumulative_layout_shift:(it=_e.commonViewMetrics.cumulativeLayoutShift)===null||it===void 0?void 0:it.value,cumulative_layout_shift_time:toServerDuration((at=_e.commonViewMetrics.cumulativeLayoutShift)===null||at===void 0?void 0:at.time),cumulative_layout_shift_target_selector:(ot=_e.commonViewMetrics.cumulativeLayoutShift)===null||ot===void 0?void 0:ot.targetSelector,first_byte:toServerDuration((st=_e.initialViewMetrics.navigationTimings)===null||st===void 0?void 0:st.firstByte),dom_complete:toServerDuration((lt=_e.initialViewMetrics.navigationTimings)===null||lt===void 0?void 0:lt.domComplete),dom_content_loaded:toServerDuration((ct=_e.initialViewMetrics.navigationTimings)===null||ct===void 0?void 0:ct.domContentLoaded),dom_interactive:toServerDuration((ut=_e.initialViewMetrics.navigationTimings)===null||ut===void 0?void 0:ut.domInteractive),error:{count:_e.eventCounts.errorCount},first_contentful_paint:toServerDuration(_e.initialViewMetrics.firstContentfulPaint),first_input_delay:toServerDuration((dt=_e.initialViewMetrics.firstInput)===null||dt===void 0?void 0:dt.delay),first_input_time:toServerDuration((ft=_e.initialViewMetrics.firstInput)===null||ft===void 0?void 0:ft.time),first_input_target_selector:(pt=_e.initialViewMetrics.firstInput)===null||pt===void 0?void 0:pt.targetSelector,interaction_to_next_paint:toServerDuration((ht=_e.commonViewMetrics.interactionToNextPaint)===null||ht===void 0?void 0:ht.value),interaction_to_next_paint_time:toServerDuration((yt=_e.commonViewMetrics.interactionToNextPaint)===null||yt===void 0?void 0:yt.time),interaction_to_next_paint_target_selector:(mt=_e.commonViewMetrics.interactionToNextPaint)===null||mt===void 0?void 0:mt.targetSelector,is_active:_e.isActive,name:_e.name,largest_contentful_paint:toServerDuration((gt=_e.initialViewMetrics.largestContentfulPaint)===null||gt===void 0?void 0:gt.value),largest_contentful_paint_target_selector:(vt=_e.initialViewMetrics.largestContentfulPaint)===null||vt===void 0?void 0:vt.targetSelector,load_event:toServerDuration((St=_e.initialViewMetrics.navigationTimings)===null||St===void 0?void 0:St.loadEvent),loading_time:discardNegativeDuration(toServerDuration(_e.commonViewMetrics.loadingTime)),loading_type:_e.loadingType,long_task:{count:_e.eventCounts.longTaskCount},resource:{count:_e.eventCounts.resourceCount},time_spent:toServerDuration(_e.duration)},feature_flags:Ct&&!isEmptyObject$1(Ct)?Ct:void 0,display:_e.commonViewMetrics.scroll?{scroll:{max_depth:_e.commonViewMetrics.scroll.maxDepth,max_depth_scroll_top:_e.commonViewMetrics.scroll.maxDepthScrollTop,max_scroll_height:_e.commonViewMetrics.scroll.maxScrollHeight,max_scroll_height_time:toServerDuration(_e.commonViewMetrics.scroll.maxScrollHeightTime)}}:void 0,session:{has_replay:xt?!0:void 0,is_active:_e.sessionIsActive?void 0:!1},privacy:{replay_level:et.defaultPrivacyLevel}};return isEmptyObject$1(_e.customTimings)||(_t.view.custom_timings=mapValues(_e.customTimings,toServerDuration)),{rawRumEvent:_t,startTime:_e.startClocks.relative,domainContext:{location:_e.location}}}var RUM_SESSION_KEY="rum";function startRumSessionManager(_e,et,tt){var rt=startSessionManager(_e,RUM_SESSION_KEY,function(nt){return computeSessionState(_e,nt)},tt);return rt.expireObservable.subscribe(function(){et.notify(8)}),rt.renewObservable.subscribe(function(){et.notify(9)}),rt.sessionStateUpdateObservable.subscribe(function(nt){var it=nt.previousState,at=nt.newState;if(!it.forcedReplay&&at.forcedReplay){var ot=rt.findSession();ot&&(ot.isReplayForced=!0)}}),{findTrackedSession:function(nt){var it=rt.findSession(nt);if(!(!it||!isTypeTracked(it.trackingType)))return{id:it.id,sessionReplay:it.trackingType==="1"?1:it.isReplayForced?2:0,anonymousId:it.anonymousId}},expire:rt.expire,expireObservable:rt.expireObservable,setForcedReplay:function(){return rt.updateSessionState({forcedReplay:"1"})}}}function startRumSessionManagerStub(){var _e={id:"00000000-aaaa-0000-aaaa-000000000000",sessionReplay:bridgeSupports("records")?1:0};return{findTrackedSession:function(){return _e},expire:noop$7,expireObservable:new Observable$1,setForcedReplay:noop$7}}function computeSessionState(_e,et){var tt;return hasValidRumSession(et)?tt=et:performDraw(_e.sessionSampleRate)?performDraw(_e.sessionReplaySampleRate)?tt="1":tt="2":tt="0",{trackingType:tt,isTracked:isTypeTracked(tt)}}function hasValidRumSession(_e){return _e==="0"||_e==="1"||_e==="2"}function isTypeTracked(_e){return _e==="2"||_e==="1"}function startRumBatch(_e,et,tt,rt,nt,it,at){var ot=_e.replica,st=startBatchWithReplica(_e,{endpoint:_e.rumEndpointBuilder,encoder:at(2)},ot&&{endpoint:ot.rumEndpointBuilder,transformMessage:function(lt){return combine(lt,{application:{id:ot.applicationId}})},encoder:at(3)},rt,nt,it);return et.subscribe(12,function(lt){lt.type==="view"?st.upsert(lt,lt.view.id):st.add(lt)}),tt.subscribe(function(lt){return st.add(lt,isTelemetryReplicationAllowed(_e))}),st}function startRumEventBridge(_e){var et=getEventBridge();_e.subscribe(12,function(tt){et.send("rum",tt)})}var URL_CONTEXT_TIME_OUT_DELAY=SESSION_TIME_OUT_DELAY;function startUrlContexts(_e,et,tt){var rt=createValueHistory({expireDelay:URL_CONTEXT_TIME_OUT_DELAY}),nt;_e.subscribe(1,function(ot){var st=ot.startClocks,lt=tt.href;rt.add(at({url:lt,referrer:nt||document.referrer}),st.relative),nt=lt}),_e.subscribe(5,function(ot){var st=ot.endClocks;rt.closeActive(st.relative)});var it=et.subscribe(function(ot){var st=ot.newLocation,lt=rt.find();if(lt){var ct=relativeNow();rt.closeActive(ct),rt.add(at({url:st.href,referrer:lt.referrer}),ct)}});function at(ot){var st=ot.url,lt=ot.referrer;return{url:st,referrer:lt}}return{findUrl:function(ot){return rt.find(ot)},stop:function(){it.unsubscribe(),rt.stop()}}}function createLocationChangeObservable(_e,et){var tt=shallowClone(et);return new Observable$1(function(rt){var nt=trackHistory(_e,at).stop,it=trackHash(_e,at).stop;function at(){if(tt.href!==et.href){var ot=shallowClone(et);rt.notify({newLocation:ot,oldLocation:tt}),tt=ot}}return function(){nt(),it()}})}function trackHistory(_e,et){var tt=instrumentMethod(getHistoryInstrumentationTarget("pushState"),"pushState",function(it){var at=it.onPostCall;at(et)}).stop,rt=instrumentMethod(getHistoryInstrumentationTarget("replaceState"),"replaceState",function(it){var at=it.onPostCall;at(et)}).stop,nt=addEventListener$1(_e,window,"popstate",et).stop;return{stop:function(){tt(),rt(),nt()}}}function trackHash(_e,et){return addEventListener$1(_e,window,"hashchange",et)}function getHistoryInstrumentationTarget(_e){return Object.prototype.hasOwnProperty.call(history,_e)?history:History.prototype}var FEATURE_FLAG_CONTEXT_TIME_OUT_DELAY=SESSION_TIME_OUT_DELAY;function startFeatureFlagContexts(_e,et){var tt=createValueHistory({expireDelay:FEATURE_FLAG_CONTEXT_TIME_OUT_DELAY});return _e.subscribe(1,function(rt){var nt=rt.startClocks;tt.add({},nt.relative),et.resetCustomerData()}),_e.subscribe(5,function(rt){var nt=rt.endClocks;tt.closeActive(nt.relative)}),{findFeatureFlagEvaluations:function(rt){return tt.find(rt)},addFeatureFlagEvaluation:function(rt,nt){var it=tt.find();it&&(it[rt]=nt,et.updateCustomerData(it))},stop:function(){return et.stop()}}}var MEASURES_PERIOD_DURATION=10*ONE_SECOND,currentPeriodMeasures,currentBatchMeasures,batchHasRumEvent;function startCustomerDataTelemetry(_e,et,tt,rt,nt){var it=et.enabled&&performDraw(_e.customerDataTelemetrySampleRate);it&&(initCurrentPeriodMeasures(),initCurrentBatchMeasures(),tt.subscribe(12,function(at){batchHasRumEvent=!0,updateMeasure(currentBatchMeasures.globalContextBytes,rt.getOrCreateTracker(2).getBytesCount()),updateMeasure(currentBatchMeasures.userContextBytes,rt.getOrCreateTracker(1).getBytesCount()),updateMeasure(currentBatchMeasures.featureFlagBytes,includes(["view","error"],at.type)?rt.getOrCreateTracker(0).getBytesCount():0)}),nt.subscribe(function(at){var ot=at.bytesCount,st=at.messagesCount;batchHasRumEvent&&(currentPeriodMeasures.batchCount+=1,updateMeasure(currentPeriodMeasures.batchBytesCount,ot),updateMeasure(currentPeriodMeasures.batchMessagesCount,st),mergeMeasure(currentPeriodMeasures.globalContextBytes,currentBatchMeasures.globalContextBytes),mergeMeasure(currentPeriodMeasures.userContextBytes,currentBatchMeasures.userContextBytes),mergeMeasure(currentPeriodMeasures.featureFlagBytes,currentBatchMeasures.featureFlagBytes),initCurrentBatchMeasures())}),setInterval$1(sendCurrentPeriodMeasures,MEASURES_PERIOD_DURATION))}function sendCurrentPeriodMeasures(){currentPeriodMeasures.batchCount!==0&&(addTelemetryDebug("Customer data measures",currentPeriodMeasures),initCurrentPeriodMeasures())}function createMeasure(){return{min:1/0,max:0,sum:0}}function updateMeasure(_e,et){_e.sum+=et,_e.min=Math.min(_e.min,et),_e.max=Math.max(_e.max,et)}function mergeMeasure(_e,et){_e.sum+=et.sum,_e.min=Math.min(_e.min,et.min),_e.max=Math.max(_e.max,et.max)}function initCurrentPeriodMeasures(){currentPeriodMeasures={batchCount:0,batchBytesCount:createMeasure(),batchMessagesCount:createMeasure(),globalContextBytes:createMeasure(),userContextBytes:createMeasure(),featureFlagBytes:createMeasure()}}function initCurrentBatchMeasures(){batchHasRumEvent=!1,currentBatchMeasures={globalContextBytes:createMeasure(),userContextBytes:createMeasure(),featureFlagBytes:createMeasure()}}var MAX_PAGE_STATE_ENTRIES=4e3,MAX_PAGE_STATE_ENTRIES_SELECTABLE=500,PAGE_STATE_CONTEXT_TIME_OUT_DELAY=SESSION_TIME_OUT_DELAY;function startPageStateHistory(_e,et){et===void 0&&(et=MAX_PAGE_STATE_ENTRIES_SELECTABLE);var tt=createValueHistory({expireDelay:PAGE_STATE_CONTEXT_TIME_OUT_DELAY,maxEntries:MAX_PAGE_STATE_ENTRIES}),rt;it(getPageState(),relativeNow());var nt=addEventListeners(_e,window,["pageshow","focus","blur","visibilitychange","resume","freeze","pagehide"],function(ot){it(computePageState(ot),ot.timeStamp)},{capture:!0}).stop;function it(ot,st){st===void 0&&(st=relativeNow()),ot!==rt&&(rt=ot,tt.closeActive(st),tt.add({state:rt,startTime:st},st))}var at={findAll:function(ot,st){var lt=tt.findAll(ot,st);if(lt.length!==0){for(var ct=[],ut=Math.max(0,lt.length-et),dt=lt.length-1;dt>=ut;dt--){var ft=lt[dt],pt=elapsed(ot,ft.startTime);ct.push({state:ft.state,start:toServerDuration(pt)})}return ct}},wasInPageStateAt:function(ot,st){return at.wasInPageStateDuringPeriod(ot,st,0)},wasInPageStateDuringPeriod:function(ot,st,lt){return tt.findAll(st,lt).some(function(ct){return ct.state===ot})},addPageState:it,stop:function(){nt(),tt.stop()}};return at}function computePageState(_e){return _e.type==="freeze"?"frozen":_e.type==="pagehide"?_e.persisted?"frozen":"terminated":getPageState()}function getPageState(){return document.visibilityState==="hidden"?"hidden":document.hasFocus()?"active":"passive"}function startDisplayContext(_e){var et,tt;isExperimentalFeatureEnabled(ExperimentalFeature.DELAY_VIEWPORT_COLLECTION)?tt=requestAnimationFrame(function(){et=getViewportDimension()}):et=getViewportDimension();var rt=initViewportObservable(_e).subscribe(function(nt){et=nt}).unsubscribe;return{get:function(){return et?{viewport:et}:void 0},stop:function(){rt(),tt&&cancelAnimationFrame(tt)}}}function createCookieObservable(_e,et){var tt=window.cookieStore?listenToCookieStoreChange(_e):watchCookieFallback;return new Observable$1(function(rt){return tt(et,function(nt){return rt.notify(nt)})})}function listenToCookieStoreChange(_e){return function(et,tt){var rt=addEventListener$1(_e,window.cookieStore,"change",function(nt){var it=find(nt.changed,function(at){return at.name===et})||find(nt.deleted,function(at){return at.name===et});it&&tt(it.value)});return rt.stop}}var WATCH_COOKIE_INTERVAL_DELAY=ONE_SECOND;function watchCookieFallback(_e,et){var tt=findCommaSeparatedValue(document.cookie,_e),rt=setInterval$1(function(){var nt=findCommaSeparatedValue(document.cookie,_e);nt!==tt&&et(nt)},WATCH_COOKIE_INTERVAL_DELAY);return function(){clearInterval$1(rt)}}var CI_VISIBILITY_TEST_ID_COOKIE_NAME="datadog-ci-visibility-test-execution-id";function startCiVisibilityContext(_e,et){var tt;et===void 0&&(et=createCookieObservable(_e,CI_VISIBILITY_TEST_ID_COOKIE_NAME));var rt=getInitCookie(CI_VISIBILITY_TEST_ID_COOKIE_NAME)||((tt=window.Cypress)===null||tt===void 0?void 0:tt.env("traceId")),nt=et.subscribe(function(it){rt=it});return{get:function(){if(typeof rt=="string")return{test_execution_id:rt}},stop:function(){return nt.unsubscribe()}}}function startLongAnimationFrameCollection(_e,et){var tt=createPerformanceObservable(et,{type:RumPerformanceEntryType.LONG_ANIMATION_FRAME,buffered:!0}).subscribe(function(rt){for(var nt=0,it=rt;nt<it.length;nt++){var at=it[nt],ot=relativeToClocks(at.startTime),st={date:ot.timeStamp,long_task:{id:generateUUID(),entry_type:"long-animation-frame",duration:toServerDuration(at.duration),blocking_duration:toServerDuration(at.blockingDuration),first_ui_event_timestamp:toServerDuration(at.firstUIEventTimestamp),render_start:toServerDuration(at.renderStart),style_and_layout_start:toServerDuration(at.styleAndLayoutStart),start_time:toServerDuration(at.startTime),scripts:at.scripts.map(function(lt){return{duration:toServerDuration(lt.duration),pause_duration:toServerDuration(lt.pauseDuration),forced_style_and_layout_duration:toServerDuration(lt.forcedStyleAndLayoutDuration),start_time:toServerDuration(lt.startTime),execution_start:toServerDuration(lt.executionStart),source_url:lt.sourceURL,source_function_name:lt.sourceFunctionName,source_char_position:lt.sourceCharPosition,invoker:lt.invoker,invoker_type:lt.invokerType,window_attribution:lt.windowAttribution}})},type:"long_task",_dd:{discarded:!1}};_e.notify(11,{rawRumEvent:st,startTime:ot.relative,domainContext:{performanceEntry:at}})}});return{stop:function(){return tt.unsubscribe()}}}function startRum(_e,et,tt,rt,nt,it,at,ot){var st=[],lt=new LifeCycle;lt.subscribe(12,function(pr){return sendToExtension("rum",pr)});var ct=startRumTelemetry(_e);ct.setContextProvider(function(){var pr,xr;return{application:{id:_e.applicationId},session:{id:(pr=ht.findTrackedSession())===null||pr===void 0?void 0:pr.id},view:{id:(xr=_t.findView())===null||xr===void 0?void 0:xr.id},action:{id:kt.findActionId()}}});var ut=function(pr){lt.notify(13,{error:pr}),addTelemetryDebug("Error reported to customer",{"error.message":pr.message})},dt=startFeatureFlagContexts(lt,tt.getOrCreateTracker(0)),ft=createPageExitObservable(_e),pt=ft.subscribe(function(pr){lt.notify(10,pr)});st.push(function(){return pt.unsubscribe()});var ht=canUseEventBridge()?startRumSessionManagerStub():startRumSessionManager(_e,lt,at);if(canUseEventBridge())startRumEventBridge(lt);else{var yt=startRumBatch(_e,lt,ct.observable,ut,ft,ht.expireObservable,it);st.push(function(){return yt.stop()}),startCustomerDataTelemetry(_e,ct,lt,tt,yt.flushObservable)}var mt=createDOMMutationObservable(),gt=createLocationChangeObservable(_e,location),vt=startPageStateHistory(_e),St=createWindowOpenObservable(),xt=St.observable,Ct=St.stop;st.push(Ct);var wt=startRumEventCollection(lt,_e,location,ht,vt,gt,mt,xt,rt,ut),_t=wt.viewHistory,Ot=wt.urlContexts,kt=wt.actionContexts,Lt=wt.addAction,$t=wt.stop;st.push($t),drainPreStartTelemetry();var zt=startViewCollection(lt,_e,location,mt,xt,gt,dt,vt,et,nt),Vt=zt.addTiming,Ut=zt.startView,It=zt.setViewName,Dt=zt.setViewContext,Tt=zt.setViewContextProperty,Rt=zt.stop;st.push(Rt);var Ft=startResourceCollection(lt,_e,vt).stop;if(st.push(Ft),isExperimentalFeatureEnabled(ExperimentalFeature.LONG_ANIMATION_FRAME)){if(_e.trackLongTasks){var jt=startLongAnimationFrameCollection(lt,_e).stop;st.push(jt)}}else startLongTaskCollection(lt,_e);var nr=startErrorCollection(lt,_e,vt,dt).addError;startRequestCollection(lt,_e,ht);var cr=startVitalCollection(lt,vt,ot),ur=startInternalContext(_e.applicationId,ht,_t,kt,Ot);return{addAction:Lt,addError:nr,addTiming:Vt,addFeatureFlagEvaluation:dt.addFeatureFlagEvaluation,startView:Ut,setViewContext:Dt,setViewContextProperty:Tt,setViewName:It,lifeCycle:lt,viewHistory:_t,session:ht,stopSession:function(){return ht.expire()},getInternalContext:ur.get,startDurationVital:cr.startDurationVital,stopDurationVital:cr.stopDurationVital,addDurationVital:cr.addDurationVital,stop:function(){st.forEach(function(pr){return pr()})}}}function startRumTelemetry(_e){var et=startTelemetry("browser-rum-sdk",_e);if(canUseEventBridge()){var tt=getEventBridge();et.observable.subscribe(function(rt){return tt.send("internal_telemetry",rt)})}return et}function startRumEventCollection(_e,et,tt,rt,nt,it,at,ot,st,lt){var ct=startViewHistory(_e),ut=startUrlContexts(_e,it,tt),dt=startActionCollection(_e,at,ot,et,nt),ft=startDisplayContext(et),pt=startCiVisibilityContext(et);return startRumAssembly(et,_e,rt,ct,ut,dt.actionContexts,ft,pt,st,lt),{viewHistory:ct,pageStateHistory:nt,urlContexts:ut,addAction:dt.addAction,actionContexts:dt.actionContexts,stop:function(){dt.stop(),pt.stop(),ft.stop(),ut.stop(),ct.stop(),nt.stop()}}}function getSessionReplayUrl(_e,et){var tt=et.session,rt=et.viewContext,nt=et.errorType,it=tt?tt.id:"no-session-id",at=[];nt!==void 0&&at.push("error-type=".concat(nt)),rt&&(at.push("seed=".concat(rt.id)),at.push("from=".concat(rt.startClocks.timeStamp)));var ot=getDatadogSiteUrl(_e),st="/rum/replay/sessions/".concat(it);return"".concat(ot).concat(st,"?").concat(at.join("&"))}function getDatadogSiteUrl(_e){var et=_e.site,tt=_e.subdomain||getSiteDefaultSubdomain(_e);return"https://".concat(tt?"".concat(tt,"."):"").concat(et)}function getSiteDefaultSubdomain(_e){switch(_e.site){case INTAKE_SITE_US1:case INTAKE_SITE_EU1:return"app";case INTAKE_SITE_STAGING:return"dd";default:return}}var MAX_STATS_HISTORY=10,statsPerView;function getSegmentsCount(_e){return getOrCreateReplayStats(_e).segments_count}function addSegment(_e){getOrCreateReplayStats(_e).segments_count+=1}function addRecord(_e){getOrCreateReplayStats(_e).records_count+=1}function addWroteData(_e,et){getOrCreateReplayStats(_e).segments_total_raw_size+=et}function getReplayStats(_e){return statsPerView==null?void 0:statsPerView.get(_e)}function getOrCreateReplayStats(_e){statsPerView||(statsPerView=new Map);var et;return statsPerView.has(_e)?et=statsPerView.get(_e):(et={records_count:0,segments_count:0,segments_total_raw_size:0},statsPerView.set(_e,et),statsPerView.size>MAX_STATS_HISTORY&&deleteOldestStats()),et}function deleteOldestStats(){if(statsPerView)if(statsPerView.keys){var _e=statsPerView.keys().next().value;_e&&statsPerView.delete(_e)}else{var et=!0;statsPerView.forEach(function(tt,rt){et&&(statsPerView.delete(rt),et=!1)})}}var serializedNodeIds=new WeakMap;function hasSerializedNode(_e){return serializedNodeIds.has(_e)}function nodeAndAncestorsHaveSerializedNode(_e){for(var et=_e;et;){if(!hasSerializedNode(et)&&!isNodeShadowRoot(et))return!1;et=getParentNode(et)}return!0}function getSerializedNodeId(_e){return serializedNodeIds.get(_e)}function setSerializedNodeId(_e,et){serializedNodeIds.set(_e,et)}function getElementInputValue(_e,et){var tt=_e.tagName,rt=_e.value;if(shouldMaskNode(_e,et)){var nt=_e.type;return tt==="INPUT"&&(nt==="button"||nt==="submit"||nt==="reset")?rt:!rt||tt==="OPTION"?void 0:CENSORED_STRING_MARK}if(tt==="OPTION"||tt==="SELECT")return _e.value;if(!(tt!=="INPUT"&&tt!=="TEXTAREA"))return rt}var URL_IN_CSS_REF=/url\((?:(')([^']*)'|(")([^"]*)"|([^)]*))\)/gm,ABSOLUTE_URL=/^[A-Za-z]+:|^\/\//,DATA_URI=/^data:.*,/i;function switchToAbsoluteUrl(_e,et){return _e.replace(URL_IN_CSS_REF,function(tt,rt,nt,it,at,ot){var st=nt||at||ot;if(!et||!st||ABSOLUTE_URL.test(st)||DATA_URI.test(st))return tt;var lt=rt||it||"";return"url(".concat(lt).concat(makeUrlAbsolute(st,et)).concat(lt,")")})}function makeUrlAbsolute(_e,et){try{return buildUrl(_e,et).href}catch{return _e}}var TAG_NAME_REGEX=/[^a-z1-6-_]/;function getValidTagName(_e){var et=_e.toLowerCase().trim();return TAG_NAME_REGEX.test(et)?"div":et}function censoredImageForSize(_e,et){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='".concat(_e,"' height='").concat(et,"' style='background-color:silver'%3E%3C/svg%3E")}var RecordType={FullSnapshot:2,IncrementalSnapshot:3,Meta:4,Focus:6,ViewEnd:7,VisualViewport:8,FrustrationRecord:9},NodeType={Document:0,DocumentType:1,Element:2,Text:3,CDATA:4,DocumentFragment:11},IncrementalSource={Mutation:0,MouseMove:1,MouseInteraction:2,Scroll:3,ViewportResize:4,Input:5,TouchMove:6,MediaInteraction:7,StyleSheetRule:8},MouseInteractionType={MouseUp:0,MouseDown:1,Click:2,ContextMenu:3,DblClick:4,Focus:5,Blur:6,TouchStart:7,TouchEnd:9},MediaInteractionType={Play:0,Pause:1};function serializeStyleSheets(_e){if(!(_e===void 0||_e.length===0))return _e.map(function(et){var tt=et.cssRules||et.rules,rt=Array.from(tt,function(it){return it.cssText}),nt={cssRules:rt,disabled:et.disabled||void 0,media:et.media.length>0?Array.from(et.media):void 0};return nt})}function serializeAttribute(_e,et,tt,rt){if(et===NodePrivacyLevel.HIDDEN)return null;var nt=_e.getAttribute(tt);if(et===NodePrivacyLevel.MASK&&tt!==PRIVACY_ATTR_NAME&&!STABLE_ATTRIBUTES.includes(tt)&&tt!==rt.actionNameAttribute){var it=_e.tagName;switch(tt){case"title":case"alt":case"placeholder":return CENSORED_STRING_MARK}if(it==="IMG"&&(tt==="src"||tt==="srcset")){var at=_e;if(at.naturalWidth>0)return censoredImageForSize(at.naturalWidth,at.naturalHeight);var ot=_e.getBoundingClientRect(),st=ot.width,lt=ot.height;return st>0||lt>0?censoredImageForSize(st,lt):CENSORED_IMG_MARK}if(it==="SOURCE"&&(tt==="src"||tt==="srcset"))return CENSORED_IMG_MARK;if(it==="A"&&tt==="href"||nt&&startsWith(tt,"data-")||it==="IFRAME"&&tt==="srcdoc")return CENSORED_STRING_MARK}return!nt||typeof nt!="string"?nt:isLongDataUrl(nt)?sanitizeDataUrl(nt):nt}function serializeAttributes(_e,et,tt){var rt;if(et===NodePrivacyLevel.HIDDEN)return{};for(var nt={},it=getValidTagName(_e.tagName),at=_e.ownerDocument,ot=0;ot<_e.attributes.length;ot+=1){var st=_e.attributes.item(ot),lt=st.name,ct=serializeAttribute(_e,et,lt,tt.configuration);ct!==null&&(nt[lt]=ct)}if(_e.value&&(it==="textarea"||it==="select"||it==="option"||it==="input")){var ut=getElementInputValue(_e,et);ut!==void 0&&(nt.value=ut)}if(it==="option"&&et===NodePrivacyLevel.ALLOW){var dt=_e;dt.selected&&(nt.selected=dt.selected)}if(it==="link"){var ft=Array.from(at.styleSheets).find(function(St){return St.href===_e.href}),pt=getCssRulesString(ft);pt&&ft&&(nt._cssText=pt)}if(it==="style"&&_e.sheet){var pt=getCssRulesString(_e.sheet);pt&&(nt._cssText=pt)}var ht=_e;if(it==="input"&&(ht.type==="radio"||ht.type==="checkbox")&&(et===NodePrivacyLevel.ALLOW?nt.checked=!!ht.checked:shouldMaskNode(ht,et)&&delete nt.checked),it==="audio"||it==="video"){var yt=_e;nt.rr_mediaState=yt.paused?"paused":"played"}var mt,gt,vt=tt.serializationContext;switch(vt.status){case 0:mt=Math.round(_e.scrollTop),gt=Math.round(_e.scrollLeft),(mt||gt)&&vt.elementsScrollPositions.set(_e,{scrollTop:mt,scrollLeft:gt});break;case 1:vt.elementsScrollPositions.has(_e)&&(rt=vt.elementsScrollPositions.get(_e),mt=rt.scrollTop,gt=rt.scrollLeft);break}return gt&&(nt.rr_scrollLeft=gt),mt&&(nt.rr_scrollTop=mt),nt}function getCssRulesString(_e){if(!_e)return null;var et;try{et=_e.rules||_e.cssRules}catch{}if(!et)return null;var tt=Array.from(et,isSafari()?getCssRuleStringForSafari:getCssRuleString).join("");return switchToAbsoluteUrl(tt,_e.href)}function getCssRuleStringForSafari(_e){if(isCSSStyleRule(_e)&&_e.selectorText.includes(":")){var et=/(\[[\w-]+[^\\])(:[^\]]+\])/g;return _e.cssText.replace(et,"$1\\$2")}return getCssRuleString(_e)}function getCssRuleString(_e){return isCSSImportRule(_e)&&getCssRulesString(_e.styleSheet)||_e.cssText}function isCSSImportRule(_e){return"styleSheet"in _e}function isCSSStyleRule(_e){return"selectorText"in _e}function serializeNodeWithId(_e,et){var tt=serializeNode(_e,et);if(!tt)return null;var rt=getSerializedNodeId(_e)||generateNextId(),nt=tt;return nt.id=rt,setSerializedNodeId(_e,rt),et.serializedNodeIds&&et.serializedNodeIds.add(rt),nt}var _nextId=1;function generateNextId(){return _nextId++}function serializeChildNodes(_e,et){var tt=[];return forEachChildNodes(_e,function(rt){var nt=serializeNodeWithId(rt,et);nt&&tt.push(nt)}),tt}function serializeNode(_e,et){switch(_e.nodeType){case _e.DOCUMENT_NODE:return serializeDocumentNode(_e,et);case _e.DOCUMENT_FRAGMENT_NODE:return serializeDocumentFragmentNode(_e,et);case _e.DOCUMENT_TYPE_NODE:return serializeDocumentTypeNode(_e);case _e.ELEMENT_NODE:return serializeElementNode(_e,et);case _e.TEXT_NODE:return serializeTextNode(_e,et);case _e.CDATA_SECTION_NODE:return serializeCDataNode()}}function serializeDocumentNode(_e,et){return{type:NodeType.Document,childNodes:serializeChildNodes(_e,et),adoptedStyleSheets:serializeStyleSheets(_e.adoptedStyleSheets)}}function serializeDocumentFragmentNode(_e,et){var tt=isNodeShadowRoot(_e);return tt&&et.serializationContext.shadowRootsController.addShadowRoot(_e),{type:NodeType.DocumentFragment,childNodes:serializeChildNodes(_e,et),isShadowRoot:tt,adoptedStyleSheets:tt?serializeStyleSheets(_e.adoptedStyleSheets):void 0}}function serializeDocumentTypeNode(_e){return{type:NodeType.DocumentType,name:_e.name,publicId:_e.publicId,systemId:_e.systemId}}function serializeElementNode(_e,et){var tt,rt=getValidTagName(_e.tagName),nt=isSVGElement(_e)||void 0,it=reducePrivacyLevel(getNodeSelfPrivacyLevel(_e),et.parentNodePrivacyLevel);if(it===NodePrivacyLevel.HIDDEN){var at=_e.getBoundingClientRect(),ot=at.width,st=at.height;return{type:NodeType.Element,tagName:rt,attributes:(tt={rr_width:"".concat(ot,"px"),rr_height:"".concat(st,"px")},tt[PRIVACY_ATTR_NAME]=PRIVACY_ATTR_VALUE_HIDDEN,tt),childNodes:[],isSVG:nt}}if(it!==NodePrivacyLevel.IGNORE){var lt=serializeAttributes(_e,it,et),ct=[];if(hasChildNodes(_e)&&rt!=="style"){var ut=void 0;et.parentNodePrivacyLevel===it&&et.ignoreWhiteSpace===(rt==="head")?ut=et:ut=assign$3({},et,{parentNodePrivacyLevel:it,ignoreWhiteSpace:rt==="head"}),ct=serializeChildNodes(_e,ut)}return{type:NodeType.Element,tagName:rt,attributes:lt,childNodes:ct,isSVG:nt}}}function isSVGElement(_e){return _e.tagName==="svg"||_e instanceof SVGElement}function serializeTextNode(_e,et){var tt=getTextContent(_e,et.ignoreWhiteSpace||!1,et.parentNodePrivacyLevel);if(tt!==void 0)return{type:NodeType.Text,textContent:tt}}function serializeCDataNode(){return{type:NodeType.CDATA,textContent:""}}function serializeDocument(_e,et,tt){return serializeNodeWithId(_e,{serializationContext:tt,parentNodePrivacyLevel:et.defaultPrivacyLevel,configuration:et})}function isTouchEvent(_e){return!!_e.changedTouches}function getEventTarget(_e){return _e.composed===!0&&isNodeShadowHost(_e.target)?_e.composedPath()[0]:_e.target}var TOLERANCE=25;function isVisualViewportFactoredIn(_e){return Math.abs(_e.pageTop-_e.offsetTop-window.scrollY)>TOLERANCE||Math.abs(_e.pageLeft-_e.offsetLeft-window.scrollX)>TOLERANCE}var convertMouseEventToLayoutCoordinates=function(_e,et){var tt=window.visualViewport,rt={layoutViewportX:_e,layoutViewportY:et,visualViewportX:_e,visualViewportY:et};if(tt)isVisualViewportFactoredIn(tt)?(rt.layoutViewportX=Math.round(_e+tt.offsetLeft),rt.layoutViewportY=Math.round(et+tt.offsetTop)):(rt.visualViewportX=Math.round(_e-tt.offsetLeft),rt.visualViewportY=Math.round(et-tt.offsetTop));else return rt;return rt},getVisualViewport=function(_e){return{scale:_e.scale,offsetLeft:_e.offsetLeft,offsetTop:_e.offsetTop,pageLeft:_e.pageLeft,pageTop:_e.pageTop,height:_e.height,width:_e.width}};function assembleIncrementalSnapshot(_e,et){return{data:assign$3({source:_e},et),type:RecordType.IncrementalSnapshot,timestamp:timeStampNow()}}var MOUSE_MOVE_OBSERVER_THRESHOLD=50;function trackMove(_e,et){var tt=throttle$1(function(at){var ot=getEventTarget(at);if(hasSerializedNode(ot)){var st=tryToComputeCoordinates(at);if(!st)return;var lt={id:getSerializedNodeId(ot),timeOffset:0,x:st.x,y:st.y};et(assembleIncrementalSnapshot(isTouchEvent(at)?IncrementalSource.TouchMove:IncrementalSource.MouseMove,{positions:[lt]}))}},MOUSE_MOVE_OBSERVER_THRESHOLD,{trailing:!1}),rt=tt.throttled,nt=tt.cancel,it=addEventListeners(_e,document,["mousemove","touchmove"],rt,{capture:!0,passive:!0}).stop;return{stop:function(){it(),nt()}}}function tryToComputeCoordinates(_e){var et=isTouchEvent(_e)?_e.changedTouches[0]:_e,tt=et.clientX,rt=et.clientY;if(window.visualViewport){var nt=convertMouseEventToLayoutCoordinates(tt,rt),it=nt.visualViewportX,at=nt.visualViewportY;tt=it,rt=at}if(!Number.isFinite(tt)||!Number.isFinite(rt)){_e.isTrusted&&addTelemetryDebug("mouse/touch event without x/y");return}return{x:tt,y:rt}}var _a,eventTypeToMouseInteraction=(_a={},_a.pointerup=MouseInteractionType.MouseUp,_a.mousedown=MouseInteractionType.MouseDown,_a.click=MouseInteractionType.Click,_a.contextmenu=MouseInteractionType.ContextMenu,_a.dblclick=MouseInteractionType.DblClick,_a.focus=MouseInteractionType.Focus,_a.blur=MouseInteractionType.Blur,_a.touchstart=MouseInteractionType.TouchStart,_a.touchend=MouseInteractionType.TouchEnd,_a);function trackMouseInteraction(_e,et,tt){var rt=function(nt){var it=getEventTarget(nt);if(!(getNodePrivacyLevel(it,_e.defaultPrivacyLevel)===NodePrivacyLevel.HIDDEN||!hasSerializedNode(it))){var at=getSerializedNodeId(it),ot=eventTypeToMouseInteraction[nt.type],st;if(ot!==MouseInteractionType.Blur&&ot!==MouseInteractionType.Focus){var lt=tryToComputeCoordinates(nt);if(!lt)return;st={id:at,type:ot,x:lt.x,y:lt.y}}else st={id:at,type:ot};var ct=assign$3({id:tt.getIdForEvent(nt)},assembleIncrementalSnapshot(IncrementalSource.MouseInteraction,st));et(ct)}};return addEventListeners(_e,document,Object.keys(eventTypeToMouseInteraction),rt,{capture:!0,passive:!0})}var SCROLL_OBSERVER_THRESHOLD=100;function trackScroll(_e,et,tt,rt){rt===void 0&&(rt=document);var nt=throttle$1(function(st){var lt=getEventTarget(st);if(!(!lt||getNodePrivacyLevel(lt,_e.defaultPrivacyLevel)===NodePrivacyLevel.HIDDEN||!hasSerializedNode(lt))){var ct=getSerializedNodeId(lt),ut=lt===document?{scrollTop:getScrollY(),scrollLeft:getScrollX()}:{scrollTop:Math.round(lt.scrollTop),scrollLeft:Math.round(lt.scrollLeft)};tt.set(lt,ut),et(assembleIncrementalSnapshot(IncrementalSource.Scroll,{id:ct,x:ut.scrollLeft,y:ut.scrollTop}))}},SCROLL_OBSERVER_THRESHOLD),it=nt.throttled,at=nt.cancel,ot=addEventListener$1(_e,rt,"scroll",it,{capture:!0,passive:!0}).stop;return{stop:function(){ot(),at()}}}var VISUAL_VIEWPORT_OBSERVER_THRESHOLD=200;function trackViewportResize(_e,et){var tt=initViewportObservable(_e).subscribe(function(rt){et(assembleIncrementalSnapshot(IncrementalSource.ViewportResize,rt))});return{stop:function(){tt.unsubscribe()}}}function trackVisualViewportResize(_e,et){var tt=window.visualViewport;if(!tt)return{stop:noop$7};var rt=throttle$1(function(){et({data:getVisualViewport(tt),type:RecordType.VisualViewport,timestamp:timeStampNow()})},VISUAL_VIEWPORT_OBSERVER_THRESHOLD,{trailing:!1}),nt=rt.throttled,it=rt.cancel,at=addEventListeners(_e,tt,["resize","scroll"],nt,{capture:!0,passive:!0}).stop;return{stop:function(){at(),it()}}}function trackMediaInteraction(_e,et){return addEventListeners(_e,document,["play","pause"],function(tt){var rt=getEventTarget(tt);!rt||getNodePrivacyLevel(rt,_e.defaultPrivacyLevel)===NodePrivacyLevel.HIDDEN||!hasSerializedNode(rt)||et(assembleIncrementalSnapshot(IncrementalSource.MediaInteraction,{id:getSerializedNodeId(rt),type:tt.type==="play"?MediaInteractionType.Play:MediaInteractionType.Pause}))},{capture:!0,passive:!0})}function trackStyleSheet(_e){function et(nt,it){nt&&hasSerializedNode(nt.ownerNode)&&it(getSerializedNodeId(nt.ownerNode))}var tt=[instrumentMethod(CSSStyleSheet.prototype,"insertRule",function(nt){var it=nt.target,at=nt.parameters,ot=at[0],st=at[1];et(it,function(lt){return _e(assembleIncrementalSnapshot(IncrementalSource.StyleSheetRule,{id:lt,adds:[{rule:ot,index:st}]}))})}),instrumentMethod(CSSStyleSheet.prototype,"deleteRule",function(nt){var it=nt.target,at=nt.parameters[0];et(it,function(ot){return _e(assembleIncrementalSnapshot(IncrementalSource.StyleSheetRule,{id:ot,removes:[{index:at}]}))})})];typeof CSSGroupingRule<"u"?rt(CSSGroupingRule):(rt(CSSMediaRule),rt(CSSSupportsRule));function rt(nt){tt.push(instrumentMethod(nt.prototype,"insertRule",function(it){var at=it.target,ot=it.parameters,st=ot[0],lt=ot[1];et(at.parentStyleSheet,function(ct){var ut=getPathToNestedCSSRule(at);ut&&(ut.push(lt||0),_e(assembleIncrementalSnapshot(IncrementalSource.StyleSheetRule,{id:ct,adds:[{rule:st,index:ut}]})))})}),instrumentMethod(nt.prototype,"deleteRule",function(it){var at=it.target,ot=it.parameters[0];et(at.parentStyleSheet,function(st){var lt=getPathToNestedCSSRule(at);lt&&(lt.push(ot),_e(assembleIncrementalSnapshot(IncrementalSource.StyleSheetRule,{id:st,removes:[{index:lt}]})))})}))}return{stop:function(){tt.forEach(function(nt){return nt.stop()})}}}function getPathToNestedCSSRule(_e){for(var et=[],tt=_e;tt.parentRule;){var rt=Array.from(tt.parentRule.cssRules),nt=rt.indexOf(tt);et.unshift(nt),tt=tt.parentRule}if(tt.parentStyleSheet){var it=Array.from(tt.parentStyleSheet.cssRules),at=it.indexOf(tt);return et.unshift(at),et}}function trackFocus(_e,et){return addEventListeners(_e,window,["focus","blur"],function(){et({data:{has_focus:document.hasFocus()},type:RecordType.Focus,timestamp:timeStampNow()})})}function trackFrustration(_e,et,tt){var rt=_e.subscribe(11,function(nt){var it,at;nt.rawRumEvent.type==="action"&&nt.rawRumEvent.action.type==="click"&&(!((at=(it=nt.rawRumEvent.action.frustration)===null||it===void 0?void 0:it.type)===null||at===void 0)&&at.length)&&"events"in nt.domainContext&&nt.domainContext.events&&nt.domainContext.events.length&&et({timestamp:nt.rawRumEvent.date,type:RecordType.FrustrationRecord,data:{frustrationTypes:nt.rawRumEvent.action.frustration.type,recordIds:nt.domainContext.events.map(function(ot){return tt.getIdForEvent(ot)})}})});return{stop:function(){rt.unsubscribe()}}}function trackViewEnd(_e,et){var tt=_e.subscribe(4,function(){et({timestamp:timeStampNow(),type:RecordType.ViewEnd})});return{stop:function(){tt.unsubscribe()}}}function trackInput(_e,et,tt){tt===void 0&&(tt=document);var rt=_e.defaultPrivacyLevel,nt=new WeakMap,it=tt!==document,at=addEventListeners(_e,tt,it?["change"]:["input","change"],function(ut){var dt=getEventTarget(ut);(dt instanceof HTMLInputElement||dt instanceof HTMLTextAreaElement||dt instanceof HTMLSelectElement)&&lt(dt)},{capture:!0,passive:!0}).stop,ot;if(it)ot=noop$7;else{var st=[instrumentSetter(HTMLInputElement.prototype,"value",lt),instrumentSetter(HTMLInputElement.prototype,"checked",lt),instrumentSetter(HTMLSelectElement.prototype,"value",lt),instrumentSetter(HTMLTextAreaElement.prototype,"value",lt),instrumentSetter(HTMLSelectElement.prototype,"selectedIndex",lt)];ot=function(){st.forEach(function(ut){return ut.stop()})}}return{stop:function(){ot(),at()}};function lt(ut){var dt=getNodePrivacyLevel(ut,rt);if(dt!==NodePrivacyLevel.HIDDEN){var ft=ut.type,pt;if(ft==="radio"||ft==="checkbox"){if(shouldMaskNode(ut,dt))return;pt={isChecked:ut.checked}}else{var ht=getElementInputValue(ut,dt);if(ht===void 0)return;pt={text:ht}}ct(ut,pt);var yt=ut.name;ft==="radio"&&yt&&ut.checked&&forEach$1(document.querySelectorAll('input[type="radio"][name="'.concat(cssEscape(yt),'"]')),function(mt){mt!==ut&&ct(mt,{isChecked:!1})})}}function ct(ut,dt){if(hasSerializedNode(ut)){var ft=nt.get(ut);(!ft||ft.text!==dt.text||ft.isChecked!==dt.isChecked)&&(nt.set(ut,dt),et(assembleIncrementalSnapshot(IncrementalSource.Input,assign$3({id:getSerializedNodeId(ut)},dt))))}}}var MUTATION_PROCESS_MAX_DELAY=100,MUTATION_PROCESS_MIN_DELAY=16;function createMutationBatch(_e){var et=noop$7,tt=[];function rt(){et(),_e(tt),tt=[]}var nt=throttle$1(rt,MUTATION_PROCESS_MIN_DELAY,{leading:!1}),it=nt.throttled,at=nt.cancel;return{addMutations:function(ot){tt.length===0&&(et=requestIdleCallback(it,{timeout:MUTATION_PROCESS_MAX_DELAY})),tt.push.apply(tt,ot)},flush:rt,stop:function(){et(),at()}}}function trackMutation(_e,et,tt,rt){var nt=getMutationObserverConstructor();if(!nt)return{stop:noop$7,flush:noop$7};var it=createMutationBatch(function(ot){processMutations(ot.concat(at.takeRecords()),_e,et,tt)}),at=new nt(monitor(it.addMutations));return at.observe(rt,{attributeOldValue:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{stop:function(){at.disconnect(),it.stop()},flush:function(){it.flush()}}}function processMutations(_e,et,tt,rt){var nt=new Map;_e.filter(function(dt){return dt.type==="childList"}).forEach(function(dt){dt.removedNodes.forEach(function(ft){traverseRemovedShadowDom(ft,rt.removeShadowRoot)})});var it=_e.filter(function(dt){return dt.target.isConnected&&nodeAndAncestorsHaveSerializedNode(dt.target)&&getNodePrivacyLevel(dt.target,tt.defaultPrivacyLevel,nt)!==NodePrivacyLevel.HIDDEN}),at=processChildListMutations(it.filter(function(dt){return dt.type==="childList"}),tt,rt,nt),ot=at.adds,st=at.removes,lt=at.hasBeenSerialized,ct=processCharacterDataMutations(it.filter(function(dt){return dt.type==="characterData"&&!lt(dt.target)}),tt,nt),ut=processAttributesMutations(it.filter(function(dt){return dt.type==="attributes"&&!lt(dt.target)}),tt,nt);!ct.length&&!ut.length&&!st.length&&!ot.length||et(assembleIncrementalSnapshot(IncrementalSource.Mutation,{adds:ot,removes:st,texts:ct,attributes:ut}))}function processChildListMutations(_e,et,tt,rt){for(var nt=new Set,it=new Map,at=function(Ct){Ct.addedNodes.forEach(function(wt){nt.add(wt)}),Ct.removedNodes.forEach(function(wt){nt.has(wt)||it.set(wt,Ct.target),nt.delete(wt)})},ot=0,st=_e;ot<st.length;ot++){var lt=st[ot];at(lt)}var ct=Array.from(nt);sortAddedAndMovedNodes(ct);for(var ut=new Set,dt=[],ft=0,pt=ct;ft<pt.length;ft++){var ht=pt[ft];if(!St(ht)){var yt=getNodePrivacyLevel(ht.parentNode,et.defaultPrivacyLevel,rt);if(!(yt===NodePrivacyLevel.HIDDEN||yt===NodePrivacyLevel.IGNORE)){var mt=serializeNodeWithId(ht,{serializedNodeIds:ut,parentNodePrivacyLevel:yt,serializationContext:{status:2,shadowRootsController:tt},configuration:et});if(mt){var gt=getParentNode(ht);dt.push({nextId:xt(ht),parentId:getSerializedNodeId(gt),node:mt})}}}}var vt=[];return it.forEach(function(Ct,wt){hasSerializedNode(wt)&&vt.push({parentId:getSerializedNodeId(Ct),id:getSerializedNodeId(wt)})}),{adds:dt,removes:vt,hasBeenSerialized:St};function St(Ct){return hasSerializedNode(Ct)&&ut.has(getSerializedNodeId(Ct))}function xt(Ct){for(var wt=Ct.nextSibling;wt;){if(hasSerializedNode(wt))return getSerializedNodeId(wt);wt=wt.nextSibling}return null}}function processCharacterDataMutations(_e,et,tt){for(var rt,nt=[],it=new Set,at=_e.filter(function(dt){return it.has(dt.target)?!1:(it.add(dt.target),!0)}),ot=0,st=at;ot<st.length;ot++){var lt=st[ot],ct=lt.target.textContent;if(ct!==lt.oldValue){var ut=getNodePrivacyLevel(getParentNode(lt.target),et.defaultPrivacyLevel,tt);ut===NodePrivacyLevel.HIDDEN||ut===NodePrivacyLevel.IGNORE||nt.push({id:getSerializedNodeId(lt.target),value:(rt=getTextContent(lt.target,!1,ut))!==null&&rt!==void 0?rt:null})}}return nt}function processAttributesMutations(_e,et,tt){for(var rt=[],nt=new Map,it=_e.filter(function(yt){var mt=nt.get(yt.target);return mt&&mt.has(yt.attributeName)?!1:(mt?mt.add(yt.attributeName):nt.set(yt.target,new Set([yt.attributeName])),!0)}),at=new Map,ot=0,st=it;ot<st.length;ot++){var lt=st[ot],ct=lt.target.getAttribute(lt.attributeName);if(ct!==lt.oldValue){var ut=getNodePrivacyLevel(lt.target,et.defaultPrivacyLevel,tt),dt=serializeAttribute(lt.target,ut,lt.attributeName,et),ft=void 0;if(lt.attributeName==="value"){var pt=getElementInputValue(lt.target,ut);if(pt===void 0)continue;ft=pt}else typeof dt=="string"?ft=dt:ft=null;var ht=at.get(lt.target);ht||(ht={id:getSerializedNodeId(lt.target),attributes:{}},rt.push(ht),at.set(lt.target,ht)),ht.attributes[lt.attributeName]=ft}}return rt}function sortAddedAndMovedNodes(_e){_e.sort(function(et,tt){var rt=et.compareDocumentPosition(tt);return rt&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:rt&Node.DOCUMENT_POSITION_CONTAINS||rt&Node.DOCUMENT_POSITION_FOLLOWING?1:rt&Node.DOCUMENT_POSITION_PRECEDING?-1:0})}function traverseRemovedShadowDom(_e,et){isNodeShadowHost(_e)&&et(_e.shadowRoot),forEachChildNodes(_e,function(tt){return traverseRemovedShadowDom(tt,et)})}function createElementsScrollPositions(){var _e=new WeakMap;return{set:function(et,tt){et===document&&!document.scrollingElement||_e.set(et===document?document.scrollingElement:et,tt)},get:function(et){return _e.get(et)},has:function(et){return _e.has(et)}}}var initShadowRootsController=function(_e,et,tt){var rt=new Map,nt={addShadowRoot:function(it){if(!rt.has(it)){var at=trackMutation(et,_e,nt,it),ot=trackInput(_e,et,it),st=trackScroll(_e,et,tt,it);rt.set(it,{flush:function(){return at.flush()},stop:function(){at.stop(),ot.stop(),st.stop()}})}},removeShadowRoot:function(it){var at=rt.get(it);at&&(at.stop(),rt.delete(it))},stop:function(){rt.forEach(function(it){var at=it.stop;return at()})},flush:function(){rt.forEach(function(it){var at=it.flush;return at()})}};return nt};function startFullSnapshots(_e,et,tt,rt,nt,it){var at=function(st,lt){st===void 0&&(st=timeStampNow()),lt===void 0&&(lt={status:0,elementsScrollPositions:_e,shadowRootsController:et});var ct=getViewportDimension(),ut=ct.width,dt=ct.height,ft=[{data:{height:dt,href:window.location.href,width:ut},type:RecordType.Meta,timestamp:st},{data:{has_focus:document.hasFocus()},type:RecordType.Focus,timestamp:st},{data:{node:serializeDocument(document,rt,lt),initialOffset:{left:getScrollX(),top:getScrollY()}},type:RecordType.FullSnapshot,timestamp:st}];return window.visualViewport&&ft.push({data:getVisualViewport(window.visualViewport),type:RecordType.VisualViewport,timestamp:st}),ft};it(at());var ot=tt.subscribe(2,function(st){nt(),it(at(st.startClocks.timeStamp,{shadowRootsController:et,status:1,elementsScrollPositions:_e}))}).unsubscribe;return{stop:ot}}function initRecordIds(){var _e=new WeakMap,et=1;return{getIdForEvent:function(tt){return _e.has(tt)||_e.set(tt,et++),_e.get(tt)}}}function record(_e){var et=_e.emit,tt=_e.configuration,rt=_e.lifeCycle;if(!et)throw new Error("emit function is required");var nt=function(dt){et(dt),sendToExtension("record",{record:dt});var ft=_e.viewHistory.findView();addRecord(ft.id)},it=createElementsScrollPositions(),at=initShadowRootsController(tt,nt,it),ot=startFullSnapshots(it,at,rt,tt,st,function(dt){return dt.forEach(function(ft){return nt(ft)})}).stop;function st(){at.flush(),ct.flush()}var lt=initRecordIds(),ct=trackMutation(nt,tt,at,document),ut=[ct,trackMove(tt,nt),trackMouseInteraction(tt,nt,lt),trackScroll(tt,nt,it,document),trackViewportResize(tt,nt),trackInput(tt,nt),trackMediaInteraction(tt,nt),trackStyleSheet(nt),trackFocus(tt,nt),trackVisualViewportResize(tt,nt),trackFrustration(rt,nt,lt),trackViewEnd(rt,function(dt){st(),nt(dt)})];return{stop:function(){at.stop(),ut.forEach(function(dt){return dt.stop()}),ot()},flushMutations:st,shadowRootsController:at}}function buildReplayPayload(_e,et,tt){var rt=new FormData;rt.append("segment",new Blob([_e],{type:"application/octet-stream"}),"".concat(et.session.id,"-").concat(et.start));var nt=assign$3({raw_segment_size:tt,compressed_segment_size:_e.byteLength},et),it=JSON.stringify(nt);return rt.append("event",new Blob([it],{type:"application/json"})),{data:rt,bytesCount:_e.byteLength}}function createSegment(_e){var et=_e.context,tt=_e.creationReason,rt=_e.encoder,nt=0,it=et.view.id,at=assign$3({start:1/0,end:-1/0,creation_reason:tt,records_count:0,has_full_snapshot:!1,index_in_view:getSegmentsCount(it),source:"browser"},et);addSegment(it);function ot(lt,ct){at.start=Math.min(at.start,lt.timestamp),at.end=Math.max(at.end,lt.timestamp),at.records_count+=1,at.has_full_snapshot||(at.has_full_snapshot=lt.type===RecordType.FullSnapshot);var ut=rt.isEmpty?'{"records":[':",";rt.write(ut+JSON.stringify(lt),function(dt){nt+=dt,ct(nt)})}function st(lt){if(rt.isEmpty)throw new Error("Empty segment flushed");rt.write("],".concat(JSON.stringify(at).slice(1),`
`)),rt.finish(function(ct){addWroteData(at.view.id,ct.rawBytesCount),lt(at,ct)})}return{addRecord:ot,flush:st}}var SEGMENT_DURATION_LIMIT=5*ONE_SECOND,SEGMENT_BYTES_LIMIT=6e4;function startSegmentCollection(_e,et,tt,rt,nt,it){return doStartSegmentCollection(_e,function(){return computeSegmentContext(et.applicationId,tt,rt)},nt,it)}function doStartSegmentCollection(_e,et,tt,rt){var nt={status:0,nextSegmentCreationReason:"init"},it=_e.subscribe(2,function(){ot("view_change")}).unsubscribe,at=_e.subscribe(10,function(st){ot(st.reason)}).unsubscribe;function ot(st){nt.status===1&&(nt.segment.flush(function(lt,ct){var ut=buildReplayPayload(ct.output,lt,ct.rawBytesCount);isPageExitReason(st)?tt.sendOnExit(ut):tt.send(ut)}),clearTimeout$1(nt.expirationTimeoutId)),st!=="stop"?nt={status:0,nextSegmentCreationReason:st}:nt={status:2}}return{addRecord:function(st){if(nt.status!==2){if(nt.status===0){var lt=et();if(!lt)return;nt={status:1,segment:createSegment({encoder:rt,context:lt,creationReason:nt.nextSegmentCreationReason}),expirationTimeoutId:setTimeout$1(function(){ot("segment_duration_limit")},SEGMENT_DURATION_LIMIT)}}nt.segment.addRecord(st,function(ct){ct>SEGMENT_BYTES_LIMIT&&ot("segment_bytes_limit")})}},stop:function(){ot("stop"),it(),at()}}}function computeSegmentContext(_e,et,tt){var rt=et.findTrackedSession(),nt=tt.findView();if(!(!rt||!nt))return{application:{id:_e},session:{id:rt.id},view:{id:nt.id}}}function startRecordBridge(_e){var et=getEventBridge();return{addRecord:function(tt){var rt=_e.findView();et.send("record",tt,rt.id)}}}function startRecording(_e,et,tt,rt,nt,it){var at=[],ot=function(dt){_e.notify(13,{error:dt}),addTelemetryDebug("Error reported to customer",{"error.message":dt.message})},st=it||createHttpRequest(et.sessionReplayEndpointBuilder,SEGMENT_BYTES_LIMIT,ot),lt;if(canUseEventBridge())lt=startRecordBridge(rt).addRecord;else{var ct=startSegmentCollection(_e,et,tt,rt,st,nt);lt=ct.addRecord,at.push(ct.stop)}var ut=record({emit:lt,configuration:et,lifeCycle:_e,viewHistory:rt}).stop;return at.push(ut),{stop:function(){at.forEach(function(dt){return dt()})}}}function createDeflateEncoder(_e,et,tt){var rt=0,nt=[],it,at=0,ot=[],st=addEventListener$1(_e,et,"message",function(ut){var dt=ut.data;if(!(dt.type!=="wrote"||dt.streamId!==tt)){rt+=dt.additionalBytesCount,nt.push(dt.result),it=dt.trailer;var ft=ot.shift();ft&&ft.id===dt.id?ft.writeCallback?ft.writeCallback(dt.result.byteLength):ft.finishCallback&&ft.finishCallback():(st(),addTelemetryDebug("Worker responses received out of order."))}}).stop;function lt(){var ut=nt.length===0?new Uint8Array(0):concatBuffers(nt.concat(it)),dt={rawBytesCount:rt,output:ut,outputBytesCount:ut.byteLength,encoding:"deflate"};return rt=0,nt=[],dt}function ct(){at>0&&(et.postMessage({action:"reset",streamId:tt}),at=0)}return{isAsync:!0,get isEmpty(){return at===0},write:function(ut,dt){et.postMessage({action:"write",id:at,data:ut,streamId:tt}),ot.push({id:at,writeCallback:dt,data:ut}),at+=1},finish:function(ut){ct(),ot.length?(ot.forEach(function(dt){delete dt.writeCallback}),ot[ot.length-1].finishCallback=function(){return ut(lt())}):ut(lt())},finishSync:function(){ct();var ut=ot.map(function(dt){return delete dt.writeCallback,delete dt.finishCallback,dt.data}).join("");return assign$3(lt(),{pendingData:ut})},estimateEncodedBytesCount:function(ut){return ut.length/8},stop:function(){st()}}}var INITIALIZATION_TIME_OUT_DELAY=30*ONE_SECOND;function createDeflateWorker(_e){return new Worker(_e.workerUrl||URL.createObjectURL(new Blob(['!function(){"use strict";function t(t){for(var e=t.reduce((function(t,e){return t+e.length}),0),a=new Uint8Array(e),n=0,r=0,i=t;r<i.length;r++){var s=i[r];a.set(s,n),n+=s.length}return a}function e(t){for(var e=t.length;--e>=0;)t[e]=0}var a=256,n=286,r=30,i=15,s=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),h=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),l=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),_=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=new Array(576);e(o);var d=new Array(60);e(d);var u=new Array(512);e(u);var f=new Array(256);e(f);var c=new Array(29);e(c);var p,g,w,v=new Array(r);function b(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function m(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(v);var y=function(t){return t<256?u[t]:u[256+(t>>>7)]},k=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},z=function(t,e,a){t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,k(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},x=function(t,e,a){z(t,a[2*e],a[2*e+1])},A=function(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},U=function(t,e,a){var n,r,s=new Array(16),h=0;for(n=1;n<=i;n++)s[n]=h=h+a[n-1]<<1;for(r=0;r<=e;r++){var l=t[2*r+1];0!==l&&(t[2*r]=A(s[l]++,l))}},I=function(t){var e;for(e=0;e<n;e++)t.dyn_ltree[2*e]=0;for(e=0;e<r;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},B=function(t){t.bi_valid>8?k(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},E=function(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]},S=function(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&E(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!E(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n},C=function(t,e,n){var r,i,l,_,o=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],i=t.pending_buf[t.l_buf+o],o++,0===r?x(t,i,e):(l=f[i],x(t,l+a+1,e),0!==(_=s[l])&&(i-=c[l],z(t,i,_)),r--,l=y(r),x(t,l,n),0!==(_=h[l])&&(r-=v[l],z(t,r,_)))}while(o<t.last_lit);x(t,256,e)},D=function(t,e){var a,n,r,s=e.dyn_tree,h=e.stat_desc.static_tree,l=e.stat_desc.has_stree,_=e.stat_desc.elems,o=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<_;a++)0!==s[2*a]?(t.heap[++t.heap_len]=o=a,t.depth[a]=0):s[2*a+1]=0;for(;t.heap_len<2;)s[2*(r=t.heap[++t.heap_len]=o<2?++o:0)]=1,t.depth[r]=0,t.opt_len--,l&&(t.static_len-=h[2*r+1]);for(e.max_code=o,a=t.heap_len>>1;a>=1;a--)S(t,s,a);r=_;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],S(t,s,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,s[2*r]=s[2*a]+s[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,s[2*a+1]=s[2*n+1]=r,t.heap[1]=r++,S(t,s,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,r,s,h,l,_=e.dyn_tree,o=e.max_code,d=e.stat_desc.static_tree,u=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(s=0;s<=i;s++)t.bl_count[s]=0;for(_[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<573;a++)(s=_[2*_[2*(n=t.heap[a])+1]+1]+1)>p&&(s=p,g++),_[2*n+1]=s,n>o||(t.bl_count[s]++,h=0,n>=c&&(h=f[n-c]),l=_[2*n],t.opt_len+=l*(s+h),u&&(t.static_len+=l*(d[2*n+1]+h)));if(0!==g){do{for(s=p-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(s=p;0!==s;s--)for(n=t.bl_count[s];0!==n;)(r=t.heap[--a])>o||(_[2*r+1]!==s&&(t.opt_len+=(s-_[2*r+1])*_[2*r],_[2*r+1]=s),n--)}}(t,e),U(s,o,t.bl_count)},j=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++h<l&&r===s||(h<_?t.bl_tree[2*r]+=h:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[32]++):h<=10?t.bl_tree[34]++:t.bl_tree[36]++,h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4))},M=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),n=0;n<=a;n++)if(r=s,s=e[2*(n+1)+1],!(++h<l&&r===s)){if(h<_)do{x(t,r,t.bl_tree)}while(0!=--h);else 0!==r?(r!==i&&(x(t,r,t.bl_tree),h--),x(t,16,t.bl_tree),z(t,h-3,2)):h<=10?(x(t,17,t.bl_tree),z(t,h-3,3)):(x(t,18,t.bl_tree),z(t,h-11,7));h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4)}},L=!1,T=function(t,e,a,n){z(t,0+(n?1:0),3),function(t,e,a,n){B(t),n&&(k(t,a),k(t,~a)),t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a}(t,e,a,!0)},H=function(t,e,n,r){var i,s,h=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<a;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),D(t,t.l_desc),D(t,t.d_desc),h=function(t){var e;for(j(t,t.dyn_ltree,t.l_desc.max_code),j(t,t.dyn_dtree,t.d_desc.max_code),D(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*_[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==e?T(t,e,n,r):4===t.strategy||s===i?(z(t,2+(r?1:0),3),C(t,o,d)):(z(t,4+(r?1:0),3),function(t,e,a,n){var r;for(z(t,e-257,5),z(t,a-1,5),z(t,n-4,4),r=0;r<n;r++)z(t,t.bl_tree[2*_[r]+1],3);M(t,t.dyn_ltree,e-1),M(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,h+1),C(t,t.dyn_ltree,t.dyn_dtree)),I(t),r&&B(t)},R={_tr_init:function(t){L||(!function(){var t,e,a,_,m,y=new Array(16);for(a=0,_=0;_<28;_++)for(c[_]=a,t=0;t<1<<s[_];t++)f[a++]=_;for(f[a-1]=_,m=0,_=0;_<16;_++)for(v[_]=m,t=0;t<1<<h[_];t++)u[m++]=_;for(m>>=7;_<r;_++)for(v[_]=m<<7,t=0;t<1<<h[_]-7;t++)u[256+m++]=_;for(e=0;e<=i;e++)y[e]=0;for(t=0;t<=143;)o[2*t+1]=8,t++,y[8]++;for(;t<=255;)o[2*t+1]=9,t++,y[9]++;for(;t<=279;)o[2*t+1]=7,t++,y[7]++;for(;t<=287;)o[2*t+1]=8,t++,y[8]++;for(U(o,287,y),t=0;t<r;t++)d[2*t+1]=5,d[2*t]=A(t,5);p=new b(o,s,257,n,i),g=new b(d,h,0,r,i),w=new b(new Array(0),l,0,19,7)}(),L=!0),t.l_desc=new m(t.dyn_ltree,p),t.d_desc=new m(t.dyn_dtree,g),t.bl_desc=new m(t.bl_tree,w),t.bi_buf=0,t.bi_valid=0,I(t)},_tr_stored_block:T,_tr_flush_block:H,_tr_tally:function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(f[n]+a+1)]++,t.dyn_dtree[2*y(e)]++),t.last_lit===t.lit_bufsize-1},_tr_align:function(t){z(t,2,3),x(t,256,o),function(t){16===t.bi_valid?(k(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},K=function(t,e,a,n){for(var r=65535&t,i=t>>>16&65535,s=0;0!==a;){a-=s=a>2e3?2e3:a;do{i=i+(r=r+e[n++]|0)|0}while(--s);r%=65521,i%=65521}return r|i<<16},N=new Uint32Array(function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}()),O=function(t,e,a,n){var r=N,i=n+a;t^=-1;for(var s=n;s<i;s++)t=t>>>8^r[255&(t^e[s])];return~t},q={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},F=0,G=2,J=3,P=4,Q=0,V=1,W=-1,X=0,Y=8,Z=R._tr_init,$=R._tr_stored_block,tt=R._tr_flush_block,et=R._tr_tally,at=R._tr_align,nt=F,rt=1,it=J,st=P,ht=5,lt=Q,_t=V,ot=-2,dt=-3,ut=-5,ft=W,ct=1,pt=2,gt=3,wt=4,vt=X,bt=2,mt=Y,yt=258,kt=262,zt=103,xt=113,At=666,Ut=function(t,e){return t.msg=q[e],e},It=function(t){return(t<<1)-(t>4?9:0)},Bt=function(t){for(var e=t.length;--e>=0;)t[e]=0},Et=function(t,e,a){return(e<<t.hash_shift^a)&t.hash_mask},St=function(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},Ct=function(t,e){tt(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,St(t.strm)},Dt=function(t,e){t.pending_buf[t.pending++]=e},jt=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Mt=function(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-kt?t.strstart-(t.w_size-kt):0,_=t.window,o=t.w_mask,d=t.prev,u=t.strstart+yt,f=_[i+s-1],c=_[i+s];t.prev_length>=t.good_match&&(r>>=2),h>t.lookahead&&(h=t.lookahead);do{if(_[(a=e)+s]===c&&_[a+s-1]===f&&_[a]===_[i]&&_[++a]===_[i+1]){i+=2,a++;do{}while(_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&i<u);if(n=yt-(u-i),i=u-yt,n>s){if(t.match_start=e,s=n,n>=h)break;f=_[i+s-1],c=_[i+s]}}}while((e=d[e&o])>l&&0!=--r);return s<=t.lookahead?s:t.lookahead},Lt=function(t){var e,a,n,r,i,s,h,l,_,o,d=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-kt)){t.window.set(t.window.subarray(d,d+d),0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=a=t.hash_size;do{n=t.head[--e],t.head[e]=n>=d?n-d:0}while(--a);e=a=d;do{n=t.prev[--e],t.prev[e]=n>=d?n-d:0}while(--a);r+=d}if(0===t.strm.avail_in)break;if(s=t.strm,h=t.window,l=t.strstart+t.lookahead,_=r,o=void 0,(o=s.avail_in)>_&&(o=_),a=0===o?0:(s.avail_in-=o,h.set(s.input.subarray(s.next_in,s.next_in+o),l),1===s.state.wrap?s.adler=K(s.adler,h,o,l):2===s.state.wrap&&(s.adler=O(s.adler,h,o,l)),s.next_in+=o,s.total_in+=o,o),t.lookahead+=a,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=Et(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=Et(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<kt&&0!==t.strm.avail_in)},Tt=function(t,e){for(var a,n;;){if(t.lookahead<kt){if(Lt(t),t.lookahead<kt&&e===nt)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=Et(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-kt&&(t.match_length=Mt(t,a)),t.match_length>=3)if(n=et(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=Et(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Et(t,t.ins_h,t.window[t.strstart+1]);else n=et(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Ct(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===st?(Ct(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ct(t,!1),0===t.strm.avail_out)?1:2},Ht=function(t,e){for(var a,n,r;;){if(t.lookahead<kt){if(Lt(t),t.lookahead<kt&&e===nt)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=Et(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-kt&&(t.match_length=Mt(t,a),t.match_length<=5&&(t.strategy===ct||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,n=et(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=Et(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Ct(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=et(t,0,t.window[t.strstart-1]))&&Ct(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=et(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===st?(Ct(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ct(t,!1),0===t.strm.avail_out)?1:2};function Rt(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=r}var Kt=[new Rt(0,0,0,0,(function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Lt(t),0===t.lookahead&&e===nt)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Ct(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-kt&&(Ct(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===st?(Ct(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Ct(t,!1),t.strm.avail_out),1)})),new Rt(4,4,8,4,Tt),new Rt(4,5,16,8,Tt),new Rt(4,6,32,32,Tt),new Rt(4,4,16,16,Ht),new Rt(8,16,32,32,Ht),new Rt(8,16,128,128,Ht),new Rt(8,32,128,256,Ht),new Rt(32,128,258,1024,Ht),new Rt(32,258,258,4096,Ht)];function Nt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=mt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Bt(this.dyn_ltree),Bt(this.dyn_dtree),Bt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Bt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Bt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Ot=function(t){if(!t||!t.state)return Ut(t,ot);t.total_in=t.total_out=0,t.data_type=bt;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:xt,t.adler=2===e.wrap?0:1,e.last_flush=nt,Z(e),lt},qt=function(t){var e,a=Ot(t);return a===lt&&((e=t.state).window_size=2*e.w_size,Bt(e.head),e.max_lazy_match=Kt[e.level].max_lazy,e.good_match=Kt[e.level].good_length,e.nice_match=Kt[e.level].nice_length,e.max_chain_length=Kt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),a},Ft=function(t,e,a,n,r,i){if(!t)return ot;var s=1;if(e===ft&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>9||a!==mt||n<8||n>15||e<0||e>9||i<0||i>wt)return Ut(t,ot);8===n&&(n=9);var h=new Nt;return t.state=h,h.strm=t,h.wrap=s,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=r+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new Uint8Array(2*h.w_size),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<r+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new Uint8Array(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=i,h.method=a,qt(t)},Gt={deflateInit:function(t,e){return Ft(t,e,mt,15,8,vt)},deflateInit2:Ft,deflateReset:qt,deflateResetKeep:Ot,deflateSetHeader:function(t,e){return t&&t.state?2!==t.state.wrap?ot:(t.state.gzhead=e,lt):ot},deflate:function(t,e){var a,n;if(!t||!t.state||e>ht||e<0)return t?Ut(t,ot):ot;var r=t.state;if(!t.output||!t.input&&0!==t.avail_in||r.status===At&&e!==st)return Ut(t,0===t.avail_out?ut:ot);r.strm=t;var i=r.last_flush;if(r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,Dt(r,31),Dt(r,139),Dt(r,8),r.gzhead?(Dt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Dt(r,255&r.gzhead.time),Dt(r,r.gzhead.time>>8&255),Dt(r,r.gzhead.time>>16&255),Dt(r,r.gzhead.time>>24&255),Dt(r,9===r.level?2:r.strategy>=pt||r.level<2?4:0),Dt(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Dt(r,255&r.gzhead.extra.length),Dt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=O(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Dt(r,0),Dt(r,0),Dt(r,0),Dt(r,0),Dt(r,0),Dt(r,9===r.level?2:r.strategy>=pt||r.level<2?4:0),Dt(r,3),r.status=xt);else{var s=mt+(r.w_bits-8<<4)<<8;s|=(r.strategy>=pt||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(s|=32),s+=31-s%31,r.status=xt,jt(r,s),0!==r.strstart&&(jt(r,t.adler>>>16),jt(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),St(t),a=r.pending,r.pending!==r.pending_buf_size));)Dt(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),St(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Dt(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),St(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Dt(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.status=zt)}else r.status=zt;if(r.status===zt&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&St(t),r.pending+2<=r.pending_buf_size&&(Dt(r,255&t.adler),Dt(r,t.adler>>8&255),t.adler=0,r.status=xt)):r.status=xt),0!==r.pending){if(St(t),0===t.avail_out)return r.last_flush=-1,lt}else if(0===t.avail_in&&It(e)<=It(i)&&e!==st)return Ut(t,ut);if(r.status===At&&0!==t.avail_in)return Ut(t,ut);if(0!==t.avail_in||0!==r.lookahead||e!==nt&&r.status!==At){var h=r.strategy===pt?function(t,e){for(var a;;){if(0===t.lookahead&&(Lt(t),0===t.lookahead)){if(e===nt)return 1;break}if(t.match_length=0,a=et(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(Ct(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===st?(Ct(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ct(t,!1),0===t.strm.avail_out)?1:2}(r,e):r.strategy===gt?function(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=yt){if(Lt(t),t.lookahead<=yt&&e===nt)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[r=t.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){i=t.strstart+yt;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=yt-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=et(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=et(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(Ct(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===st?(Ct(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ct(t,!1),0===t.strm.avail_out)?1:2}(r,e):Kt[r.level].func(r,e);if(3!==h&&4!==h||(r.status=At),1===h||3===h)return 0===t.avail_out&&(r.last_flush=-1),lt;if(2===h&&(e===rt?at(r):e!==ht&&($(r,0,0,!1),e===it&&(Bt(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),St(t),0===t.avail_out))return r.last_flush=-1,lt}return e!==st?lt:r.wrap<=0?_t:(2===r.wrap?(Dt(r,255&t.adler),Dt(r,t.adler>>8&255),Dt(r,t.adler>>16&255),Dt(r,t.adler>>24&255),Dt(r,255&t.total_in),Dt(r,t.total_in>>8&255),Dt(r,t.total_in>>16&255),Dt(r,t.total_in>>24&255)):(jt(r,t.adler>>>16),jt(r,65535&t.adler)),St(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?lt:_t)},deflateEnd:function(t){if(!t||!t.state)return ot;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==zt&&e!==xt&&e!==At?Ut(t,ot):(t.state=null,e===xt?Ut(t,dt):lt)},deflateSetDictionary:function(t,e){var a=e.length;if(!t||!t.state)return ot;var n=t.state,r=n.wrap;if(2===r||1===r&&42!==n.status||n.lookahead)return ot;if(1===r&&(t.adler=K(t.adler,e,a,0)),n.wrap=0,a>=n.w_size){0===r&&(Bt(n.head),n.strstart=0,n.block_start=0,n.insert=0);var i=new Uint8Array(n.w_size);i.set(e.subarray(a-n.w_size,a),0),e=i,a=n.w_size}var s=t.avail_in,h=t.next_in,l=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,Lt(n);n.lookahead>=3;){var _=n.strstart,o=n.lookahead-2;do{n.ins_h=Et(n,n.ins_h,n.window[_+3-1]),n.prev[_&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=_,_++}while(--o);n.strstart=_,n.lookahead=2,Lt(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=h,t.input=l,t.avail_in=s,n.wrap=r,lt},deflateInfo:"pako deflate (from Nodeca project)"};for(var Jt=new Uint8Array(256),Pt=0;Pt<256;Pt++)Jt[Pt]=Pt>=252?6:Pt>=248?5:Pt>=240?4:Pt>=224?3:Pt>=192?2:1;Jt[254]=Jt[254]=1;var Qt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Vt=Object.prototype.toString,Wt=F,Xt=G,Yt=J,Zt=P,$t=Q,te=V,ee=W,ae=X,ne=Y;function re(){this.options={level:ee,method:ne,chunkSize:16384,windowBits:15,memLevel:8,strategy:ae};var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qt,this.strm.avail_out=0;var e=Gt.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==$t)throw new Error(q[e]);if(t.header&&Gt.deflateSetHeader(this.strm,t.header),t.dictionary){var a;if(a="[object ArrayBuffer]"===Vt.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(e=Gt.deflateSetDictionary(this.strm,a))!==$t)throw new Error(q[e]);this._dict_set=!0}}function ie(t,e,a){try{t.postMessage({type:"errored",error:e,streamId:a})}catch(n){t.postMessage({type:"errored",error:String(e),streamId:a})}}function se(t){var e=t.strm.adler;return new Uint8Array([3,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])}re.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(n=e===~~e?e:!0===e?Zt:Wt,"[object ArrayBuffer]"===Vt.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(n===Xt||n===Yt)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if((a=Gt.deflate(r,n))===te)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=Gt.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===$t;if(0!==r.avail_out){if(n>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},re.prototype.onData=function(t){this.chunks.push(t)},re.prototype.onEnd=function(t){t===$t&&(this.result=function(t){for(var e=0,a=0,n=t.length;a<n;a++)e+=t[a].length;for(var r=new Uint8Array(e),i=0,s=0,h=t.length;i<h;i++){var l=t[i];r.set(l,s),s+=l.length}return r}(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},function(e){void 0===e&&(e=self);try{var a=new Map;e.addEventListener("message",(function(n){try{var r=function(e,a){switch(a.action){case"init":return{type:"initialized",version:"5.35.0"};case"write":var n=e.get(a.streamId);n||(n=new re,e.set(a.streamId,n));var r=n.chunks.length,i=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);var e,a,n,r,i,s=t.length,h=0;for(r=0;r<s;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(n=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(n-56320),r++),h+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(h),i=0,r=0;i<h;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(n=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(n-56320),r++),a<128?e[i++]=a:a<2048?(e[i++]=192|a>>>6,e[i++]=128|63&a):a<65536?(e[i++]=224|a>>>12,e[i++]=128|a>>>6&63,e[i++]=128|63&a):(e[i++]=240|a>>>18,e[i++]=128|a>>>12&63,e[i++]=128|a>>>6&63,e[i++]=128|63&a);return e}(a.data);return n.push(i,G),{type:"wrote",id:a.id,streamId:a.streamId,result:t(n.chunks.slice(r)),trailer:se(n),additionalBytesCount:i.length};case"reset":e.delete(a.streamId)}}(a,n.data);r&&e.postMessage(r)}catch(t){ie(e,t,n.data&&"streamId"in n.data?n.data.streamId:void 0)}}))}catch(t){ie(e,t)}}()}();'])))}var state={status:0};function startDeflateWorker(_e,et,tt,rt){switch(rt===void 0&&(rt=createDeflateWorker),state.status===0&&doStartDeflateWorker(_e,et,rt),state.status){case 1:return state.initializationFailureCallbacks.push(tt),state.worker;case 3:return state.worker}}function getDeflateWorkerStatus(){return state.status}function doStartDeflateWorker(_e,et,tt){tt===void 0&&(tt=createDeflateWorker);try{var rt=tt(_e),nt=addEventListener$1(_e,rt,"error",function(ot){onError(_e,et,ot)}).stop,it=addEventListener$1(_e,rt,"message",function(ot){var st=ot.data;st.type==="errored"?onError(_e,et,st.error,st.streamId):st.type==="initialized"&&onInitialized(st.version)}).stop;rt.postMessage({action:"init"}),setTimeout$1(function(){return onTimeout(et)},INITIALIZATION_TIME_OUT_DELAY);var at=function(){nt(),it()};state={status:1,worker:rt,stop:at,initializationFailureCallbacks:[]}}catch(ot){onError(_e,et,ot)}}function onTimeout(_e){state.status===1&&(display.error("".concat(_e," failed to start: a timeout occurred while initializing the Worker")),state.initializationFailureCallbacks.forEach(function(et){return et()}),state={status:2})}function onInitialized(_e){state.status===1&&(state={status:3,worker:state.worker,stop:state.stop,version:_e})}function onError(_e,et,tt,rt){if(state.status===1||state.status===0){if(display.error("".concat(et," failed to start: an error occurred while creating the Worker:"),tt),tt instanceof Event||tt instanceof Error&&isMessageCspRelated(tt.message)){var nt=void 0;_e.workerUrl?nt="Please make sure the Worker URL ".concat(_e.workerUrl," is correct and CSP is correctly configured."):nt="Please make sure CSP is correctly configured.",display.error("".concat(nt," See documentation at ").concat(DOCS_ORIGIN,"/integrations/content_security_policy_logs/#use-csp-with-real-user-monitoring-and-session-replay"))}else addTelemetryError(tt);state.status===1&&state.initializationFailureCallbacks.forEach(function(it){return it()}),state={status:2}}else addTelemetryError(tt,{worker_version:state.status===3&&state.version,stream_id:rt})}function isMessageCspRelated(_e){return includes(_e,"Content Security Policy")||includes(_e,"requires 'TrustedScriptURL'")}function isBrowserSupported(){return typeof Array.from=="function"&&typeof CSSSupportsRule=="function"&&typeof URL.createObjectURL=="function"&&"forEach"in NodeList.prototype}function getSessionReplayLink(_e,et,tt,rt){var nt=et.findTrackedSession(),it=getErrorType(nt,rt),at=tt.findView();return getSessionReplayUrl(_e,{viewContext:at,errorType:it,session:nt})}function getErrorType(_e,et){if(!isBrowserSupported())return"browser-not-supported";if(!_e)return"rum-not-tracked";if(_e.sessionReplay===0)return"incorrect-session-plan";if(!et)return"replay-not-started"}function createPostStartStrategy(_e,et,tt,rt,nt,it){var at=0;et.subscribe(8,function(){(at===2||at===3)&&(st(),at=1)}),et.subscribe(10,function(ct){ct.reason===PageExitReason.UNLOADING&&st()}),et.subscribe(9,function(){at===1&&ot()});function ot(ct){var ut=tt.findTrackedSession();if(canStartRecording(ut,ct)){at=1;return}isRecordingInProgress(at)||(at=2,runOnReadyState(_e,"interactive",function(){if(at===2){var dt=it();if(!dt){at=0;return}lt=nt(et,_e,tt,rt,dt).stop,at=3}}),shouldForceReplay(ut,ct)&&tt.setForcedReplay())}function st(){at!==0&&at===3&&(lt==null||lt()),at=0}var lt;return{start:ot,stop:st,getSessionReplayLink:function(){return getSessionReplayLink(_e,tt,rt,at!==0)},isRecording:function(){return at===3}}}function canStartRecording(_e,et){return!_e||_e.sessionReplay===0&&(!et||!et.force)}function isRecordingInProgress(_e){return _e===2||_e===3}function shouldForceReplay(_e,et){return et&&et.force&&_e.sessionReplay===0}function createPreStartStrategy(){var _e=0;return{strategy:{start:function(){_e=1},stop:function(){_e=2},isRecording:function(){return!1},getSessionReplayLink:noop$7},shouldStartImmediately:function(et){return _e===1||_e===0&&!et.startSessionReplayRecordingManually}}}function makeRecorderApi(_e,et){if(canUseEventBridge()&&!bridgeSupports("records")||!isBrowserSupported())return{start:noop$7,stop:noop$7,getReplayStats:function(){},onRumStart:noop$7,isRecording:function(){return!1},getSessionReplayLink:function(){}};var tt=createPreStartStrategy(),rt=tt.strategy,nt=tt.shouldStartImmediately;return{start:function(at){return rt.start(at)},stop:function(){return rt.stop()},getSessionReplayLink:function(){return rt.getSessionReplayLink()},onRumStart:it,isRecording:function(){return getDeflateWorkerStatus()===3&&rt.isRecording()},getReplayStats:function(at){return getDeflateWorkerStatus()===3?getReplayStats(at):void 0}};function it(at,ot,st,lt,ct){var ut;function dt(){return ut||(ct??(ct=startDeflateWorker(ot,"Datadog Session Replay",function(){rt.stop()},et)),ct&&(ut=createDeflateEncoder(ot,ct,1))),ut}rt=createPostStartStrategy(ot,at,st,lt,_e,dt),nt(ot)&&rt.start()}}var recorderApi=makeRecorderApi(startRecording),datadogRum=makeRumPublicApi(startRum,recorderApi,{startDeflateWorker,createDeflateEncoder});defineGlobal(getGlobalObject(),"DD_RUM",datadogRum);function captureException(_e,et=!1){datadogRum.addError(_e);const tt=typeof _e=="string"?_e:_e.message;if(console.error(`ERROR - ${tt}${_e.stack?`
${_e.stack}`:""}`),!et)throw _e}function useAssetQuery(_e){const{assetService:et}=useServices();return useEntity(EntityType.ASSET,_e,(tt,rt)=>et.getAsset(tt,rt))}function useAssetAlternativesQuery(_e){const{assetService:et}=useServices();return useCollection$1(EntityType.ASSET_ALTERNATIVE,_e?{assetId:_e}:null,(tt,rt)=>et.getAssetAlternatives(tt.assetId,rt))}function useAlternativeType(_e,et,tt){const{assetCacheService:rt}=useServices(),[nt,it]=reactExports.useState(void 0);return reactExports.useEffect(()=>{async function at(){var ot;for(const st of _e??[]){const lt=await rt.getAlternative(st);if((lt==null?void 0:lt.type)===et){if(tt&&((ot=lt.metadata)==null?void 0:ot.type)!==tt)continue;it(lt);return}}it(null)}at()},[rt,_e,et,tt]),nt}function useAlternativeQuery(_e){const{assetService:et}=useServices();return useEntity(EntityType.ASSET_ALTERNATIVE,_e,(tt,rt)=>et.getAlternative(tt,rt))}function useAlternativeFileUrl(_e){var tt;return((tt=useAlternativeQuery(_e).data)==null?void 0:tt.url)??null}function useAlternativeVideoUrl(_e){const{assetService:et}=useServices(),[tt,rt]=reactExports.useState(null);return reactExports.useEffect(()=>{if(!_e){rt(null);return}et.getAlternativeVideoUrl(_e).then(rt).catch(nt=>{captureException(nt,!0)})},[et,_e]),tt}function useAssetImageUrl(_e,et){const tt=useAssetAlternativesQuery(_e),rt=useAlternativeType(tt.data,et);return useAlternativeFileUrl((rt==null?void 0:rt.id)??null)}function usePollAssetId(_e,et,tt){const{assetService:rt,entityCacheManagerService:nt}=useServices();useAbortableEffect(it=>{_e!=null&&nt.observeEntity({entityType:EntityType.ASSET,entityId:_e,fetchCallback:({signal:at})=>rt.getAssetAlternatives(_e,{signal:at}),stopCallback:at=>at.processingStatus===et,signal:it,interval:tt})},[rt,_e,et,nt,tt])}var BookColor;(function(_e){_e.FOREST="forest",_e.NAVY="navy",_e.LIGHT_BLUE="light-blue",_e.BLUSH="blush",_e.NATURAL="natural"})(BookColor||(BookColor={}));const BookColorMap={[BookColor.FOREST]:"hsla(180, 22%, 20%, 1)",[BookColor.NAVY]:"hsla(215, 75%, 14%, 1)",[BookColor.LIGHT_BLUE]:"hsla(212, 30%, 79%, 1)",[BookColor.BLUSH]:"hsla(345, 19%, 83%, 1)",[BookColor.NATURAL]:"hsla(35, 22%, 80%, 1)"},BookColorNameMap={[BookColor.FOREST]:"Forest green",[BookColor.NAVY]:"Navy blue",[BookColor.LIGHT_BLUE]:"Light blue",[BookColor.BLUSH]:"Blush",[BookColor.NATURAL]:"Natural"};var BookTemplateStatus;(function(_e){_e.ACTIVE="active"})(BookTemplateStatus||(BookTemplateStatus={}));var BookTemplateMutationType;(function(_e){_e.SET_BOOK_TITLE="set-book-title",_e.SET_BOOK_SUBTITLE="set-book-subtitle",_e.SET_BOOK_COLOR="set-book-color",_e.SET_BOOK_COVER_PHOTO="set-book-cover-photo",_e.SET_BOOK_STORIES="set-book-stories",_e.SET_BOOK_PDF="set-book-pdf",_e.SET_BOOK_HIDE_QR_CODE="set-book-hide-qr-code"})(BookTemplateMutationType||(BookTemplateMutationType={}));class DefaultBookService{constructor(et){this.authorizationService=et}async getBook(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/books/${et}`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getBooksByProjectId(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/projects/${et}/books`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async checkoutBookOrder(et){const tt=await this.authorizationService.getCredentialsForRequest(),{data:rt}=await api.post("/checkout/book",et,{params:tt.params,headers:tt.headers});return rt}async getBookOrder(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/book-orders/${et}`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getProjectBookOrders(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/projects/${et}/book-orders`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getBookPreview(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/books/${et}/preview`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async validateAddress(et){const tt=await this.authorizationService.getCredentialsForRequest(),{data:rt}=await api.post("/checkout/validate-address",et,{params:tt.params,headers:tt.headers});return rt}createSetBookTitleMutation(et,tt){return{id:et.id,type:EntityType.BOOK_TEMPLATE,mutations:[{type:BookTemplateMutationType.SET_BOOK_TITLE,value:tt,vclock:et.vclock,version:et.version}]}}createSetBookSubtitleMutation(et,tt){return{id:et.id,type:EntityType.BOOK_TEMPLATE,mutations:[{type:BookTemplateMutationType.SET_BOOK_SUBTITLE,value:tt,vclock:et.vclock,version:et.version}]}}createSetBookColorMutation(et,tt){return{id:et.id,type:EntityType.BOOK_TEMPLATE,mutations:[{type:BookTemplateMutationType.SET_BOOK_COLOR,value:tt,vclock:et.vclock,version:et.version}]}}createSetBookCoverPhotoMutation(et,tt){return{id:et.id,type:EntityType.BOOK_TEMPLATE,mutations:[{type:BookTemplateMutationType.SET_BOOK_COVER_PHOTO,value:tt,vclock:et.vclock,version:et.version}]}}createSetBookStoriesMutation(et,tt){return{id:et.id,type:EntityType.BOOK_TEMPLATE,mutations:[{type:BookTemplateMutationType.SET_BOOK_STORIES,value:tt,vclock:et.vclock,version:et.version}]}}createSetBookHideQrCodeMutation(et,tt){return{id:et.id,type:EntityType.BOOK_TEMPLATE,mutations:[{type:BookTemplateMutationType.SET_BOOK_HIDE_QR_CODE,value:tt,vclock:et.vclock,version:et.version}]}}}class DefaultBookCacheService{constructor(et,tt,rt){this.remoteService=et,this.entityCacheManagerService=tt,this.queryClient=rt}getBook(et){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildEntityQuery(EntityType.BOOK_TEMPLATE,et,()=>this.remoteService.getBook(et)))}getBooksByProjectId(et){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildCollectionQuery(EntityType.BOOK_TEMPLATE,{projectId:et},()=>this.remoteService.getBooksByProjectId(et)))}}var TrackingProvider;(function(_e){_e.FEDEX="fedex",_e.UPS="ups",_e.PUROLATOR="purolator"})(TrackingProvider||(TrackingProvider={}));var BookOrderType;(function(_e){_e.EBOOK="ebook",_e.BOOK="book"})(BookOrderType||(BookOrderType={}));var EBookOrderStatus;(function(_e){_e.AWAITING_PAYMENT="awaiting-payment",_e.PROCESSING="processing",_e.EMAILED="emailed",_e.CANCELED="canceled"})(EBookOrderStatus||(EBookOrderStatus={}));var BookOrderStatus;(function(_e){_e.AWAITING_PAYMENT="awaiting-payment",_e.PROCESSING="processing",_e.PRINTING="printing",_e.SHIPPED="shipped",_e.CANCELED="canceled"})(BookOrderStatus||(BookOrderStatus={}));var BookOrderMutationType;(function(_e){_e.SET_PROCESSING="set-processing",_e.SET_PRINTING="set-book-order-printing",_e.SET_SHIPPED="set-book-order-shipped",_e.SET_EMAILED="set-book-order-email",_e.SET_CANCELED="set-book-order-canceled",_e.SET_FULL_COVER_ASSET_ID="set-full-cover-asset-id"})(BookOrderMutationType||(BookOrderMutationType={}));function useBookQuery(_e){const{bookService:et}=useServices();return useEntity(EntityType.BOOK_TEMPLATE,_e,(tt,rt)=>et.getBook(tt,rt))}function useProjectBooksQuery(_e){const{bookService:et}=useServices();return useCollection$1(EntityType.BOOK_TEMPLATE,_e?{projectId:_e}:null,(tt,rt)=>et.getBooksByProjectId(tt.projectId,rt))}function useBookPreviewAssetIdQuery(_e){var nt;const{bookService:et,entityCacheManagerService:tt}=useServices(),rt=useBookQuery(_e);return useQuery({queryKey:["book-preview",_e,(nt=rt.data)==null?void 0:nt.pdfAssetId],enabled:_e!=null,queryFn:async({signal:it})=>{var st,lt;const at=await et.getBookPreview(_e??"",{signal:it});return await tt.cacheResponse(at),("entities"in at?(st=at.entities[EntityType.ASSET])==null?void 0:st[0].id:(lt=at[EntityType.ASSET])==null?void 0:lt[0].id)??null}})}function useBookOrderQuery(_e){const{bookService:et}=useServices();return useEntity(EntityType.BOOK_ORDER,_e,(tt,rt)=>et.getBookOrder(tt,rt))}function useProjectBookOrdersQuery(_e){const{bookService:et}=useServices();return useCollection$1(EntityType.BOOK_ORDER,_e?{projectId:_e}:null,(tt,rt)=>et.getProjectBookOrders(tt.projectId,rt))}function useFilterBookOrdersIds(_e,et){const{bookService:tt}=useServices(),rt=useCollectionEntityData(_e,EntityType.BOOK_ORDER,nt=>tt.getBookOrder(nt));return reactExports.useMemo(()=>rt==null?void 0:rt.filter(nt=>et.includes(nt.status)).map(nt=>nt.id),[rt,et])}function usePollBookOrder(_e,et,tt){const{bookService:rt,entityCacheManagerService:nt}=useServices();useAbortableEffect(it=>{_e!=null&&nt.observeEntity({entityType:EntityType.BOOK_ORDER,entityId:_e,fetchCallback:({signal:at})=>rt.getBookOrder(_e,{signal:at}),stopCallback:et,signal:it,interval:tt})},[nt,tt,_e,rt,et])}function usePollBookOrderUntilCompleted(_e,et){return usePollBookOrder(_e,reactExports.useCallback(tt=>tt.status!=BookOrderStatus.AWAITING_PAYMENT,[]),et)}function usePollBookOrderUntilProcessed(_e,et){return usePollBookOrder(_e,reactExports.useCallback(tt=>tt.status!=BookOrderStatus.PROCESSING,[]),et)}var AuditOperationMetadataType;(function(_e){_e.USER="user",_e.TOKEN="token"})(AuditOperationMetadataType||(AuditOperationMetadataType={}));const AuditOperationMetadataSchema=z$1.object({userId:z$1.string(),date:z$1.number().int().positive()});z$1.object({create:AuditOperationMetadataSchema,update:AuditOperationMetadataSchema.optional(),delete:AuditOperationMetadataSchema.optional()});var BaseEntityStatus;(function(_e){_e.DELETED="deleted"})(BaseEntityStatus||(BaseEntityStatus={}));z$1.object({type:z$1.literal("delete"),vclock:z$1.number().int(),version:z$1.number()});class InvalidTokenError extends Error{}InvalidTokenError.prototype.name="InvalidTokenError";function b64DecodeUnicode(_e){return decodeURIComponent(atob(_e).replace(/(.)/g,(et,tt)=>{let rt=tt.charCodeAt(0).toString(16).toUpperCase();return rt.length<2&&(rt="0"+rt),"%"+rt}))}function base64UrlDecode(_e){let et=_e.replace(/-/g,"+").replace(/_/g,"/");switch(et.length%4){case 0:break;case 2:et+="==";break;case 3:et+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return b64DecodeUnicode(et)}catch{return atob(et)}}function jwtDecode(_e,et){if(typeof _e!="string")throw new InvalidTokenError("Invalid token specified: must be a string");et||(et={});const tt=et.header===!0?0:1,rt=_e.split(".")[tt];if(typeof rt!="string")throw new InvalidTokenError(`Invalid token specified: missing part #${tt+1}`);let nt;try{nt=base64UrlDecode(rt)}catch(it){throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${tt+1} (${it.message})`)}try{return JSON.parse(nt)}catch(it){throw new InvalidTokenError(`Invalid token specified: invalid json for part #${tt+1} (${it.message})`)}}const COLLECTION_PREFIX="collection",ENTITY_PREFIX="entity";class EntityCacheManagerServiceImpl{constructor(et,tt,rt){kr(this,"logger",createLogger("entity-cache-manager-service"));kr(this,"optimisticMutationManagers",{});kr(this,"userId",null);this.queryClient=et,this.authService=tt,this.authorizationService=rt}async initialize(et){this.optimisticMutationManagers=et,this.authService.onTokenChanged(tt=>{if(tt!=null){const nt=jwtDecode(tt).user_id;if(this.userId===null||this.userId===nt){this.userId=nt;return}}else{if(this.userId==null)return;this.userId=null}this.queryClient.invalidateQueries({queryKey:[COLLECTION_PREFIX]})})}buildEntityKey(et,tt){return[ENTITY_PREFIX,et,tt]}buildCollectionKey(et,tt){return[COLLECTION_PREFIX,et,tt].filter(notNull)}isAuditAfterDate(et,tt){return et!=null&&et.date>tt}isEntityDeleted(et){return et.status===BaseEntityStatus.DELETED}cacheEntity(et,tt){const rt="refIds"in tt?tt.refIds:[tt.id];for(const nt of rt){const it=this.buildEntityKey(et,nt);this.queryClient.setQueryData(it,this.isEntityDeleted(tt)?null:tt)}}async cacheEntities(et){const rt=this.queryClient.getQueryCache().findAll({queryKey:[COLLECTION_PREFIX]}),nt=new Map;for(const lt of rt){const ct=lt.queryKey[1],ut=nt.get(ct);lt.state.dataUpdatedAt>0&&(ut==null||ut>lt.state.dataUpdatedAt)&&nt.set(ct,lt.state.dataUpdatedAt)}const it=new Set,at=new Map;for(const[lt,ct]of Object.entries(et)){const ut=lt,dt=nt.get(ut);for(const ft of ct){if(dt!=null&&(this.isAuditAfterDate(ft.audit.create,dt)||this.isAuditAfterDate(ft.audit.update,dt)||this.isAuditAfterDate(ft.audit.delete,dt)))if(this.isEntityDeleted(ft)){const pt=at.get(ut)??new Set;pt.size===0&&at.set(ut,pt),pt.add(ft.id)}else it.add(ut);this.cacheEntity(ut,ft)}}const ot=new Set,st=Array.from(it).map(lt=>this.buildCollectionKey(lt));if(st.length>0&&await this.queryClient.invalidateQueries({type:"all",predicate:lt=>lt.state.fetchStatus==="fetching"||!st.some(ut=>matchQuery({queryKey:ut},lt))?!1:lt.isActive()==!1?(ot.add(lt.queryHash),!1):!0}),ot.size>0&&this.queryClient.removeQueries({predicate:lt=>ot.has(lt.queryHash)}),at.size>0){const lt=Array.from(at.keys()).filter(ut=>it.has(ut)===!1).map(ut=>this.buildCollectionKey(ut)),ct=this.queryClient.getQueriesData({predicate:ut=>lt.some(dt=>matchQuery({queryKey:dt},ut))});for(const[ut,dt]of ct){if(!dt)continue;const ft=ut[1],pt=at.get(ft)??new Set;this.queryClient.setQueryData(ut,dt.filter(ht=>pt.has(ht)===!1))}}}cacheCollections(et){for(const tt of et){const rt=this.buildCollectionKey(tt.type,tt.id);this.queryClient.setQueryData(rt,tt.itemIds)}}async cacheResponse(et){if("entities"in et){await this.cacheEntities(et.entities),et.collections&&this.cacheCollections(et.collections);return}await this.cacheEntities(et)}buildEntityQuery(et,tt,rt,nt=(it,at)=>it===at.id){return{queryKey:this.buildEntityKey(et,tt),queryFn:async it=>{var st;const at=await rt(tt,it),ot="entities"in at?at.entities:at;return await this.cacheResponse(at),((st=ot[et])==null?void 0:st.find(lt=>nt(tt,lt)&&!this.isEntityDeleted(lt)))??null}}}buildCollectionQuery(et,tt,rt){return{queryKey:this.buildCollectionKey(et,tt),queryFn:async nt=>{const it=await rt(tt,nt),ot=("entities"in it?it.entities:it)[et];if(ot==null)throw new Error(`No data returned for collection: ${et}`);return await this.cacheResponse(it),ot.filter(st=>!this.isEntityDeleted(st)).map(st=>st.id)},cacheTime:1e3*60*5}}getEntity(et,tt){var it;const rt=this.buildEntityKey(et,tt),nt=((it=this.queryClient.getQueryCache().find({queryKey:rt}))==null?void 0:it.state.data)??null;return nt===null?null:{value:nt}}getCollection(et,tt){var it;const rt=this.buildCollectionKey(et,tt),nt=((it=this.queryClient.getQueryCache().find({queryKey:rt}))==null?void 0:it.state.data)??null;return nt===null?null:{value:nt}}setCachedValue(et,tt){this.queryClient.setQueryData(et,tt)}setEntity(et,tt,rt){this.setCachedValue(this.buildEntityKey(et,tt),rt)}setCollection(et,tt,rt){this.setCachedValue(this.buildCollectionKey(et,tt),rt)}async invalidateEntity(et,tt){await this.queryClient.invalidateQueries({queryKey:this.buildEntityKey(et,tt)})}async invalidateCollection(et,tt){await this.queryClient.invalidateQueries({queryKey:this.buildCollectionKey(et,tt)})}runOptimisticMutations(et){var rt,nt,it;const tt=[];for(const at of et){const ot=this.optimisticMutationManagers[at.type];if(!ot)continue;const st=((rt=this.getEntity(at.type,at.id))==null?void 0:rt.value)??null;if(!st){this.logger.warn("MUTATION.MISSING_CACHED_DATA",()=>({entityMutation:at}));continue}for(const lt of at.mutations){const ct=ot.mutate(lt,st);for(const ut of ct)switch(ut.mutationType){case"entity":{const dt=((nt=this.getEntity(ut.entity.type,ut.entity.id))==null?void 0:nt.value)??null;tt.push({mutationType:"entity",entity:ut.entity,data:dt});const ft=this.buildEntityKey(ut.entity.type,ut.entity.id);this.queryClient.setQueryData(ft,ut.data);break}case"collection":{const dt=((it=this.getCollection(ut.type,ut.params))==null?void 0:it.value)??null;tt.push({mutationType:"collection",type:ut.type,params:ut.params,ids:dt});const ft=this.buildCollectionKey(ut.type,ut.params);this.queryClient.setQueryData(ft,ut.ids);break}default:throw new Error(`Mutation type not implemented ${JSON.stringify(ut,null,2)}`)}}}return tt}rollbackOptimisticMutations(et){for(const tt of et)switch(tt.mutationType){case"entity":{const rt=this.buildEntityKey(tt.entity.type,tt.entity.id);this.queryClient.setQueryData(rt,tt.data);break}case"collection":{const rt=this.buildCollectionKey(tt.type,tt.params);this.queryClient.setQueryData(rt,tt.ids);break}default:throw new Error(`Mutation type not implemented ${JSON.stringify(tt,null,2)}`)}}async mutate(et){const tt=this.runOptimisticMutations(et),rt=new Map;for(const it of et){let at=rt.get(it.type);at==null&&(at=new Map,rt.set(it.type,at));let ot=at.get(it.id);ot==null&&(ot=[],at.set(it.id,ot)),ot.push(...it.mutations)}const nt=[];for(const[it,at]of rt.entries())for(const[ot,st]of at.entries())nt.push({id:ot,type:it,mutations:st});try{const it=await this.authorizationService.getCredentialsForRequest(),{data:at}=await api.post("/mutate",nt,{params:it.params,headers:it.headers});await this.cacheResponse(at)}catch(it){throw this.rollbackOptimisticMutations(tt),it}}observeEntity(et){var ut;const{entityType:tt,entityId:rt,fetchCallback:nt,stopCallback:it,interval:at=15e3,signal:ot}=et,st=(ut=this.getEntity(tt,rt))==null?void 0:ut.value;if(st!=null&&it(st)==!0)return;this.logger.debug("OBSERVE_ENTITY",()=>({entityType:tt,entityId:rt,interval:at}));const lt=()=>{this.logger.debug("OBSERVE_ENTITY.ABORTED.",()=>({entityType:tt,entityId:rt,interval:at})),clearInterval(ct),ot.removeEventListener("abort",lt)};ot.addEventListener("abort",lt);const ct=setInterval(async()=>{var pt;this.logger.debug("OBSERVE_ENTITY.POLLING.",()=>({entityType:tt,entityId:rt,interval:at}));const dt=await nt({entityType:tt,entityId:rt,signal:ot});if(ot.aborted||(await this.cacheResponse(dt),ot.aborted))return;const ft=(pt=this.getEntity(tt,rt))==null?void 0:pt.value;if(ft!=null&&it(ft)==!0){this.logger.debug("OBSERVE_ENTITY.DONE.",()=>({entityType:tt,entityId:rt,interval:at})),clearInterval(ct),ot.removeEventListener("abort",lt);return}},at)}}var PersonStatus;(function(_e){_e.ACTIVE="active",_e.DELETED="deleted"})(PersonStatus||(PersonStatus={}));var PersonMutationType;(function(_e){_e.SET_NAME="set-name",_e.SET_AVATAR="set-avatar",_e.SET_DATE_OF_BIRTH="set-date-of-birth",_e.ADD_ACL="add-acl"})(PersonMutationType||(PersonMutationType={}));z$1.discriminatedUnion("type",[z$1.object({type:z$1.literal(PersonMutationType.SET_AVATAR),value:z$1.string(),vclock:z$1.number(),version:z$1.number()}),z$1.object({type:z$1.literal(PersonMutationType.SET_NAME),value:z$1.object({first:z$1.string(),last:z$1.string()}),vclock:z$1.number(),version:z$1.number()}),z$1.object({type:z$1.literal(PersonMutationType.SET_DATE_OF_BIRTH),value:z$1.number(),vclock:z$1.number(),version:z$1.number()})]);class DefaultPersonService{constructor(et){this.authorizationService=et}async getPerson(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/people/${et}`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}createSetAvatarImageMutation(et,tt){return[{type:EntityType.PERSON,id:et.id,mutations:[{type:PersonMutationType.SET_AVATAR,value:tt,vclock:et.vclock,version:et.version}]}]}createSetPersonNameMutation(et,tt){return[{type:EntityType.PERSON,id:et.id,mutations:[{type:PersonMutationType.SET_NAME,value:tt,vclock:et.vclock,version:et.version}]}]}}class DefaultPersonCacheService{constructor(et,tt,rt){this.remoteService=et,this.entityCacheManagerService=tt,this.queryClient=rt}getPerson(et){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildEntityQuery(EntityType.PERSON,et,()=>this.remoteService.getPerson(et)))}}var AssetAlternativeMetadataType;(function(_e){_e.IMAGE="image",_e.IMAGE_THUMBNAIL="image-thumbnail",_e.VIDEO="video",_e.PROMPT_VIDEO="prompt-video",_e.PDF_DOCUMENT="pdf-document",_e.RECORDING_DATA="recording-data"})(AssetAlternativeMetadataType||(AssetAlternativeMetadataType={}));var ChapterStatus;(function(_e){_e.PROCESSING="processing",_e.PROCESSED="processed"})(ChapterStatus||(ChapterStatus={}));var AssetAlternativeStatus;(function(_e){_e.ACTIVE="active"})(AssetAlternativeStatus||(AssetAlternativeStatus={}));var BaseAssetAlternativeType;(function(_e){_e.ORIGINAL="original"})(BaseAssetAlternativeType||(BaseAssetAlternativeType={}));var ImageAssetAlternativeType;(function(_e){_e.SMALL="small",_e.MEDIUM="medium",_e.LARGE="large"})(ImageAssetAlternativeType||(ImageAssetAlternativeType={}));var RecordingAssetAlternativeType;(function(_e){_e.NO_SILENCE="no-silence",_e.OVERLAYED="overlayed",_e.HIGHLIGHT_REEL="highlight-reel"})(RecordingAssetAlternativeType||(RecordingAssetAlternativeType={}));var PdfDocumentAssetAlternativeType;(function(_e){_e.PREVIEW="preview"})(PdfDocumentAssetAlternativeType||(PdfDocumentAssetAlternativeType={}));const VideoMetadataChapterSchema=z$1.object({id:z$1.string(),title:z$1.string(),ranges:z$1.array(z$1.object({start:z$1.number(),end:z$1.number()})),index:z$1.number(),status:z$1.nativeEnum(ChapterStatus)});z$1.nullable(z$1.discriminatedUnion("type",[z$1.object({type:z$1.literal(AssetAlternativeMetadataType.IMAGE),width:z$1.number(),height:z$1.number()}),z$1.object({type:z$1.literal(AssetAlternativeMetadataType.IMAGE_THUMBNAIL),alternativeId:z$1.string(),thumbnailFormat:z$1.union([z$1.literal("image"),z$1.literal("gif")]),width:z$1.number(),height:z$1.number()}),z$1.object({type:z$1.literal(AssetAlternativeMetadataType.VIDEO),duration:z$1.number(),chapters:z$1.array(VideoMetadataChapterSchema)}),z$1.object({type:z$1.literal(AssetAlternativeMetadataType.PROMPT_VIDEO),chapterId:z$1.string(),chapters:z$1.array(VideoMetadataChapterSchema)}),z$1.object({type:z$1.literal(AssetAlternativeMetadataType.PDF_DOCUMENT),pageCount:z$1.number(),contentPageCount:z$1.optional(z$1.number()),aclGroupTokenIds:z$1.optional(z$1.array(z$1.string()))}),z$1.object({type:z$1.literal(AssetAlternativeMetadataType.RECORDING_DATA),promptId:z$1.string()})]));function getNameInitials(_e){return _e?_e.first[0]+_e.last[0]:"N/A"}function getPersonInitials(_e){return getNameInitials(_e==null?void 0:_e.name)}function usePersonQuery(_e){const{personService:et}=useServices();return useEntity(EntityType.PERSON,_e,(tt,rt)=>et.getPerson(tt,rt))}function usePersonInitials(_e){return reactExports.useMemo(()=>getPersonInitials(_e),[_e])}function usePersonAvatarUrl(_e,et=ImageAssetAlternativeType.SMALL){const tt=useAssetAlternativesQuery(_e==null?void 0:_e.avatarAssetId),rt=useAlternativeType(tt.data,et);return(rt==null?void 0:rt.url)??null}function usePeople(_e){const{personService:et,entityCacheManagerService:tt}=useServices();return useQueries({combine:rt=>rt.map(nt=>nt.data).filter(notNull),queries:reactExports.useMemo(()=>(_e==null?void 0:_e.map(rt=>tt.buildEntityQuery(EntityType.PERSON,rt,()=>et.getPerson(rt))))??[],[tt,_e,et])})}class DefaultRecordingService{constructor(et){this.authorizationService=et}async getRecording(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/recordings/${et}`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}}class DefaultRecordingCacheService{constructor(et,tt,rt){this.remoteService=et,this.entityCacheManagerService=tt,this.queryClient=rt}getRecording(et){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildEntityQuery(EntityType.RECORDING,et,()=>this.remoteService.getRecording(et)))}}function useRecordingQuery(_e){const{recordingService:et}=useServices();return useEntity(EntityType.RECORDING,_e,(tt,rt)=>et.getRecording(tt,rt))}async function getBytes(_e,et){const tt=_e.getReader();let rt;for(;!(rt=await tt.read()).done;)et(rt.value)}function getLines(_e){let et,tt,rt,nt=!1;return function(at){et===void 0?(et=at,tt=0,rt=-1):et=concat(et,at);const ot=et.length;let st=0;for(;tt<ot;){nt&&(et[tt]===10&&(st=++tt),nt=!1);let lt=-1;for(;tt<ot&&lt===-1;++tt)switch(et[tt]){case 58:rt===-1&&(rt=tt-st);break;case 13:nt=!0;case 10:lt=tt;break}if(lt===-1)break;_e(et.subarray(st,lt),rt),st=tt,rt=-1}st===ot?et=void 0:st!==0&&(et=et.subarray(st),tt-=st)}}function getMessages(_e,et,tt){let rt=newMessage();const nt=new TextDecoder;return function(at,ot){if(at.length===0)tt==null||tt(rt),rt=newMessage();else if(ot>0){const st=nt.decode(at.subarray(0,ot)),lt=ot+(at[ot+1]===32?2:1),ct=nt.decode(at.subarray(lt));switch(st){case"data":rt.data=rt.data?rt.data+`
`+ct:ct;break;case"event":rt.event=ct;break;case"id":_e(rt.id=ct);break;case"retry":const ut=parseInt(ct,10);isNaN(ut)||et(rt.retry=ut);break}}}}function concat(_e,et){const tt=new Uint8Array(_e.length+et.length);return tt.set(_e),tt.set(et,_e.length),tt}function newMessage(){return{data:"",event:"",id:"",retry:void 0}}var __rest=function(_e,et){var tt={};for(var rt in _e)Object.prototype.hasOwnProperty.call(_e,rt)&&et.indexOf(rt)<0&&(tt[rt]=_e[rt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,rt=Object.getOwnPropertySymbols(_e);nt<rt.length;nt++)et.indexOf(rt[nt])<0&&Object.prototype.propertyIsEnumerable.call(_e,rt[nt])&&(tt[rt[nt]]=_e[rt[nt]]);return tt};const EventStreamContentType="text/event-stream",DefaultRetryInterval=1e3,LastEventId="last-event-id";function fetchEventSource(_e,et){var{signal:tt,headers:rt,onopen:nt,onmessage:it,onclose:at,onerror:ot,openWhenHidden:st,fetch:lt}=et,ct=__rest(et,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((ut,dt)=>{const ft=Object.assign({},rt);ft.accept||(ft.accept=EventStreamContentType);let pt;function ht(){pt.abort(),document.hidden||xt()}st||document.addEventListener("visibilitychange",ht);let yt=DefaultRetryInterval,mt=0;function gt(){document.removeEventListener("visibilitychange",ht),window.clearTimeout(mt),pt.abort()}tt==null||tt.addEventListener("abort",()=>{gt(),ut()});const vt=lt??window.fetch,St=nt??defaultOnOpen;async function xt(){var Ct;pt=new AbortController;try{const wt=await vt(_e,Object.assign(Object.assign({},ct),{headers:ft,signal:pt.signal}));await St(wt),await getBytes(wt.body,getLines(getMessages(_t=>{_t?ft[LastEventId]=_t:delete ft[LastEventId]},_t=>{yt=_t},it))),at==null||at(),gt(),ut()}catch(wt){if(!pt.signal.aborted)try{const _t=(Ct=ot==null?void 0:ot(wt))!==null&&Ct!==void 0?Ct:yt;window.clearTimeout(mt),mt=window.setTimeout(xt,_t)}catch(_t){gt(),dt(_t)}}}xt()})}function defaultOnOpen(_e){const et=_e.headers.get("content-type");if(!(et!=null&&et.startsWith(EventStreamContentType)))throw new Error(`Expected content-type to be ${EventStreamContentType}, Actual: ${et}`)}var StoryStatus;(function(_e){_e.PROCESSING="processing",_e.RECORDED="recorded",_e.DELETED="deleted",_e.DRAFT="draft"})(StoryStatus||(StoryStatus={}));var StoryDataType;(function(_e){_e.HUMAN="human",_e.AI="ai",_e.TRANSCRIPT_TOO_SHORT="transcript-too-short"})(StoryDataType||(StoryDataType={}));var StoryShareLinkType;(function(_e){_e.BOOK="book",_e.SOCIAL="social",_e.RECORD="record",_e.EMAIL="email",_e.HIGHLIGHT="highlight"})(StoryShareLinkType||(StoryShareLinkType={}));var StoryMutationType;(function(_e){_e.SET_TITLE="set-title",_e.SET_DATE="set-date",_e.SET_LOCATION="set-location",_e.SET_METADATA_TITLE="set-metadata-title",_e.SET_SUMMARY="set-summary",_e.SET_SHORT_SUMMARY="set-short-summary",_e.ADD_PERSON="add-person",_e.REMOVE_PERSON="remove-person",_e.ADD_RECORDING="add-recording",_e.ADD_IMAGE="add-image",_e.REMOVE_IMAGE="remove-image",_e.SET_PROCESSING="set-processing",_e.SET_RECORDED="set-recorded",_e.SET_PDF_ASSET_ID="set-pdf-asset-id"})(StoryMutationType||(StoryMutationType={}));var StoryPerspectiveType;(function(_e){_e.FIRST_PERSON="first-person",_e.THIRD_PERSON="third-person",_e.TRANSCRIPT="transcript"})(StoryPerspectiveType||(StoryPerspectiveType={}));var StoryLengthType;(function(_e){_e.VERY_SHORT="very-short",_e.SHORT="short",_e.MEDIUM="medium",_e.LONG="long",_e.VERY_LONG="very-long"})(StoryLengthType||(StoryLengthType={}));z$1.discriminatedUnion("type",[z$1.object({type:z$1.literal(StoryMutationType.SET_DATE),value:z$1.number(),vclock:z$1.number(),version:z$1.number()}),z$1.object({type:z$1.literal(StoryMutationType.SET_LOCATION),value:z$1.string(),vclock:z$1.number(),version:z$1.number()}),z$1.object({type:z$1.literal(StoryMutationType.SET_METADATA_TITLE),value:z$1.string(),vclock:z$1.number(),version:z$1.number()}),z$1.object({type:z$1.literal(StoryMutationType.SET_TITLE),value:z$1.object({type:z$1.union([z$1.literal(StoryDataType.HUMAN),z$1.literal(StoryDataType.AI)]),value:z$1.string(),settings:z$1.record(z$1.string(),z$1.string())}),vclock:z$1.number(),version:z$1.number()}),z$1.object({type:z$1.literal(StoryMutationType.SET_SUMMARY),value:z$1.object({type:z$1.union([z$1.literal(StoryDataType.HUMAN),z$1.literal(StoryDataType.AI)]),value:z$1.string(),settings:z$1.record(z$1.string(),z$1.string())}),vclock:z$1.number(),version:z$1.number()}),z$1.object({type:z$1.literal(StoryMutationType.ADD_IMAGE),value:z$1.string(),vclock:z$1.number(),version:z$1.number()}),z$1.object({type:z$1.literal(StoryMutationType.REMOVE_IMAGE),value:z$1.string(),vclock:z$1.number(),version:z$1.number()})]);const SUMMARY_STREAM_DATA_SEPARATOR="~~~~~";class DefaultStoryService{constructor(et){kr(this,"logger",createLogger("story-service"));this.authorizationService=et}async getStory(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/stories/${et}`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getProjectStories(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/projects/${et}/stories`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getPromptStory(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/prompts/${et}/stories`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async regenerateShareLink(et){const tt=await this.authorizationService.getCredentialsForRequest(),{data:rt}=await api.post(`/stories/${et}/share-link`,null,{params:tt.params,headers:tt.headers});return rt.link}async getShareLink(et,tt,rt){const nt=await this.authorizationService.getCredentialsForRequest();nt.params.set("type",tt);const{data:it}=await api.get(`/stories/${et}/share-link`,{params:nt.params,headers:nt.headers,signal:rt==null?void 0:rt.signal});return it.link}async getStoryRecordByPromptId(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/prompts/${et}/story/record`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}createSetStoryTitleMutation(et,tt,rt,nt){return[{type:EntityType.STORY,id:et.id,mutations:[{type:StoryMutationType.SET_TITLE,value:{type:rt,value:tt,settings:nt},vclock:et.vclock,version:et.version}]}]}createSetStorySummaryMutation(et,tt,rt,nt){return[{type:EntityType.STORY,id:et.id,mutations:[{type:StoryMutationType.SET_SUMMARY,value:{type:rt,value:tt,settings:nt},vclock:et.vclock,version:et.version}]}]}createDeleteStoryMutation(et){return{type:"delete",value:void 0,vclock:et.vclock,version:et.version}}async deleteStory(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.post(`/stories/${et}/delete`,tt,{params:rt.params,headers:rt.headers});return nt}createDeleteStoryPhotoMutation(et,tt){return[{type:EntityType.STORY,id:et.id,mutations:[{type:StoryMutationType.REMOVE_IMAGE,value:tt,vclock:et.vclock,version:et.version}]}]}createAddStoryPhotoMutation(et,tt){return[{type:EntityType.STORY,id:et.id,mutations:[{type:StoryMutationType.ADD_IMAGE,value:tt,vclock:et.vclock,version:et.version}]}]}async generateStorySummary(et,tt,rt,nt){const it=await this.authorizationService.getCredentialsForRequest(),at=this.logger;await fetchEventSource(`${api.getUri()}/story/${et}/summary/generate?perspective=${tt.perspective}&length=${tt.length}`,{onmessage({data:ot}){rt(JSON.parse(ot))},async onopen(ot){if(ot.status>=400&&ot.status<500&&ot.status!==429)throw at.debug("CLIENT_SIDE_ERROR",()=>({res:ot})),new Error("Client side error")},openWhenHidden:!0,method:"GET",headers:{Authorization:`${it.headers.Authorization}`,"Content-Type":"text/event-stream"},signal:nt})}}function getStoryTitle(_e){return(_e==null?void 0:_e.title)==null||_e.title.type==StoryDataType.TRANSCRIPT_TOO_SHORT?null:_e.title.value}function getStorySummary(_e){return(_e==null?void 0:_e.summary)==null||_e.summary.type==StoryDataType.TRANSCRIPT_TOO_SHORT?null:_e.summary.value}function getStoryDownloadName(_e,et=!1){let tt=getStoryTitle(_e);return(tt==null||tt.trim().length==0)&&(tt="story"),et&&(tt+="-highlight-reel"),tt.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").toLowerCase()}var StoryIssueType=(_e=>(_e.SHORT_SUMMARY="short-summary",_e.LOW_RESOLUTION_IMAGE="low-resolution-image",_e.MISSING_TITLE="missing-title",_e))(StoryIssueType||{});const STORY_ISSUE_TITLE={"low-resolution-image":"Low resolution image","missing-title":"Missing title","short-summary":"Story text is missing or very short"},STORY_ISSUE_DESCRIPTION={"low-resolution-image":"This storys image has a resolution that is lower than our recommended 816 by 960 pixels and may appear blurry in your book. We recommend replacing it with a higher resolution image.","missing-title":"This story has no title.","short-summary":"This story is missing written text."};class DefaultStoryCacheService{constructor(et,tt,rt,nt){this.remoteService=et,this.entityCacheManagerService=tt,this.queryClient=rt,this.assetCacheService=nt}getStory(et){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildEntityQuery(EntityType.STORY,et,()=>this.remoteService.getStory(et)))}async getPromptStory(et){const tt=await this.queryClient.fetchQuery(this.entityCacheManagerService.buildCollectionQuery(EntityType.STORY,{promptId:et},()=>this.remoteService.getPromptStory(et)));return this.getStory(tt[0])}getProjectStories(et){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildCollectionQuery(EntityType.STORY,{projectId:et},()=>this.remoteService.getProjectStories(et)))}async invalidateStoryRecordByPromptIdCache(et){await this.queryClient.invalidateQueries({exact:!0,queryKey:["story-record",{promptId:et}]})}async loadStoryRecordByPromptId(et){var nt;const tt=await this.queryClient.fetchQuery({queryKey:["story-record",{promptId:et}],queryFn:()=>this.remoteService.getStoryRecordByPromptId(et)});if(await this.entityCacheManagerService.cacheResponse(tt),(((nt=this.entityCacheManagerService.getEntity(EntityType.PROMPT,et))==null?void 0:nt.value)??null)===null)throw new NotFoundError("prompt-not-found",{origin:"entity",entityType:EntityType.PROMPT,entityId:et})}async regenerateShareLink(et){const tt=await this.remoteService.regenerateShareLink(et);return this.entityCacheManagerService.setCachedValue(["story-share-link",et],tt),tt}async deleteStory(et,tt){const rt=await this.remoteService.deleteStory(et,tt);await this.entityCacheManagerService.cacheResponse(rt)}async getStoryIssues(et){const tt=[],rt=getStoryTitle(et);(rt==null||rt.trim().length==0)&&tt.push({storyId:et.id,type:StoryIssueType.MISSING_TITLE});const nt=getStorySummary(et);if((nt==null||nt.trim().length==0)&&tt.push({storyId:et.id,type:StoryIssueType.SHORT_SUMMARY}),et.imageAssetIds.length>0){const it=(await Promise.all(et.imageAssetIds.map(st=>this.assetCacheService.getAssetAlternatives(st)))).flat(),ot=(await Promise.all(it.map(st=>this.assetCacheService.getAlternative(st)))).filter(notNull).filter(st=>st.type===BaseAssetAlternativeType.ORIGINAL);for(const st of ot){const lt=st.metadata;if((lt==null?void 0:lt.type)===AssetAlternativeMetadataType.IMAGE&&lt.width<816&&lt.height<960){tt.push({storyId:et.id,type:StoryIssueType.LOW_RESOLUTION_IMAGE});break}}}return tt}}class DefaultUserCacheService{constructor(et,tt,rt){this.remoteService=et,this.entityCacheManagerService=tt,this.queryClient=rt}getUserByPersonId(et){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildEntityQuery(EntityType.USER,et,()=>this.remoteService.getUserByPersonId(et),(tt,rt)=>tt===rt.personId))}getNotificationSettingsByUserId(et){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildEntityQuery(EntityType.USER_NOTIFICATION_SETTINGS,et,()=>this.remoteService.getNotificationSettingsByUserId(et),(tt,rt)=>tt===rt.userId))}async loadUserStorytellers(){const et=await this.remoteService.getUserStorytellers();await this.entityCacheManagerService.cacheResponse(et)}}var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(_e){const et=[];let tt=0;for(let rt=0;rt<_e.length;rt++){let nt=_e.charCodeAt(rt);nt<128?et[tt++]=nt:nt<2048?(et[tt++]=nt>>6|192,et[tt++]=nt&63|128):(nt&64512)===55296&&rt+1<_e.length&&(_e.charCodeAt(rt+1)&64512)===56320?(nt=65536+((nt&1023)<<10)+(_e.charCodeAt(++rt)&1023),et[tt++]=nt>>18|240,et[tt++]=nt>>12&63|128,et[tt++]=nt>>6&63|128,et[tt++]=nt&63|128):(et[tt++]=nt>>12|224,et[tt++]=nt>>6&63|128,et[tt++]=nt&63|128)}return et},byteArrayToString=function(_e){const et=[];let tt=0,rt=0;for(;tt<_e.length;){const nt=_e[tt++];if(nt<128)et[rt++]=String.fromCharCode(nt);else if(nt>191&&nt<224){const it=_e[tt++];et[rt++]=String.fromCharCode((nt&31)<<6|it&63)}else if(nt>239&&nt<365){const it=_e[tt++],at=_e[tt++],ot=_e[tt++],st=((nt&7)<<18|(it&63)<<12|(at&63)<<6|ot&63)-65536;et[rt++]=String.fromCharCode(55296+(st>>10)),et[rt++]=String.fromCharCode(56320+(st&1023))}else{const it=_e[tt++],at=_e[tt++];et[rt++]=String.fromCharCode((nt&15)<<12|(it&63)<<6|at&63)}}return et.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(_e,et){if(!Array.isArray(_e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const tt=et?this.byteToCharMapWebSafe_:this.byteToCharMap_,rt=[];for(let nt=0;nt<_e.length;nt+=3){const it=_e[nt],at=nt+1<_e.length,ot=at?_e[nt+1]:0,st=nt+2<_e.length,lt=st?_e[nt+2]:0,ct=it>>2,ut=(it&3)<<4|ot>>4;let dt=(ot&15)<<2|lt>>6,ft=lt&63;st||(ft=64,at||(dt=64)),rt.push(tt[ct],tt[ut],tt[dt],tt[ft])}return rt.join("")},encodeString(_e,et){return this.HAS_NATIVE_SUPPORT&&!et?btoa(_e):this.encodeByteArray(stringToByteArray$1(_e),et)},decodeString(_e,et){return this.HAS_NATIVE_SUPPORT&&!et?atob(_e):byteArrayToString(this.decodeStringToByteArray(_e,et))},decodeStringToByteArray(_e,et){this.init_();const tt=et?this.charToByteMapWebSafe_:this.charToByteMap_,rt=[];for(let nt=0;nt<_e.length;){const it=tt[_e.charAt(nt++)],ot=nt<_e.length?tt[_e.charAt(nt)]:0;++nt;const lt=nt<_e.length?tt[_e.charAt(nt)]:64;++nt;const ut=nt<_e.length?tt[_e.charAt(nt)]:64;if(++nt,it==null||ot==null||lt==null||ut==null)throw new DecodeBase64StringError;const dt=it<<2|ot>>4;if(rt.push(dt),lt!==64){const ft=ot<<4&240|lt>>2;if(rt.push(ft),ut!==64){const pt=lt<<6&192|ut;rt.push(pt)}}}return rt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let _e=0;_e<this.ENCODED_VALS.length;_e++)this.byteToCharMap_[_e]=this.ENCODED_VALS.charAt(_e),this.charToByteMap_[this.byteToCharMap_[_e]]=_e,this.byteToCharMapWebSafe_[_e]=this.ENCODED_VALS_WEBSAFE.charAt(_e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[_e]]=_e,_e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(_e)]=_e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(_e)]=_e)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(_e){const et=stringToByteArray$1(_e);return base64.encodeByteArray(et,!0)},base64urlEncodeWithoutPadding=function(_e){return base64Encode(_e).replace(/\./g,"")},base64Decode=function(_e){try{return base64.decodeString(_e,!0)}catch(et){console.error("base64Decode failed: ",et)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const _e=define_process_env_default.__FIREBASE_DEFAULTS__;if(_e)return JSON.parse(_e)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let _e;try{_e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const et=_e&&base64Decode(_e[1]);return et&&JSON.parse(et)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(_e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${_e}`);return}},getDefaultEmulatorHost=_e=>{var et,tt;return(tt=(et=getDefaults())===null||et===void 0?void 0:et.emulatorHosts)===null||tt===void 0?void 0:tt[_e]},getDefaultAppConfig=()=>{var _e;return(_e=getDefaults())===null||_e===void 0?void 0:_e.config},getExperimentalSetting=_e=>{var et;return(et=getDefaults())===null||et===void 0?void 0:et[`_${_e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Deferred$1=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((et,tt)=>{this.resolve=et,this.reject=tt})}wrapCallback(et){return(tt,rt)=>{tt?this.reject(tt):this.resolve(rt),typeof et=="function"&&(this.promise.catch(()=>{}),et.length===1?et(tt):et(tt,rt))}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isCloudflareWorker(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function isBrowserExtension(){const _e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof _e=="object"&&_e.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const _e=getUA();return _e.indexOf("MSIE ")>=0||_e.indexOf("Trident/")>=0}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((_e,et)=>{try{let tt=!0;const rt="validate-browser-context-for-indexeddb-analytics-module",nt=self.indexedDB.open(rt);nt.onsuccess=()=>{nt.result.close(),tt||self.indexedDB.deleteDatabase(rt),_e(!0)},nt.onupgradeneeded=()=>{tt=!1},nt.onerror=()=>{var it;et(((it=nt.error)===null||it===void 0?void 0:it.message)||"")}}catch(tt){et(tt)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(et,tt,rt){super(tt),this.code=et,this.customData=rt,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(et,tt,rt){this.service=et,this.serviceName=tt,this.errors=rt}create(et,...tt){const rt=tt[0]||{},nt=`${this.service}/${et}`,it=this.errors[et],at=it?replaceTemplate(it,rt):"Error",ot=`${this.serviceName}: ${at} (${nt}).`;return new FirebaseError(nt,ot,rt)}}function replaceTemplate(_e,et){return _e.replace(PATTERN,(tt,rt)=>{const nt=et[rt];return nt!=null?String(nt):`<${rt}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty$1(_e){for(const et in _e)if(Object.prototype.hasOwnProperty.call(_e,et))return!1;return!0}function deepEqual(_e,et){if(_e===et)return!0;const tt=Object.keys(_e),rt=Object.keys(et);for(const nt of tt){if(!rt.includes(nt))return!1;const it=_e[nt],at=et[nt];if(isObject$6(it)&&isObject$6(at)){if(!deepEqual(it,at))return!1}else if(it!==at)return!1}for(const nt of rt)if(!tt.includes(nt))return!1;return!0}function isObject$6(_e){return _e!==null&&typeof _e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring$1(_e){const et=[];for(const[tt,rt]of Object.entries(_e))Array.isArray(rt)?rt.forEach(nt=>{et.push(encodeURIComponent(tt)+"="+encodeURIComponent(nt))}):et.push(encodeURIComponent(tt)+"="+encodeURIComponent(rt));return et.length?"&"+et.join("&"):""}function querystringDecode(_e){const et={};return _e.replace(/^\?/,"").split("&").forEach(rt=>{if(rt){const[nt,it]=rt.split("=");et[decodeURIComponent(nt)]=decodeURIComponent(it)}}),et}function extractQuerystring(_e){const et=_e.indexOf("?");if(!et)return"";const tt=_e.indexOf("#",et);return _e.substring(et,tt>0?tt:void 0)}function createSubscribe(_e,et){const tt=new ObserverProxy(_e,et);return tt.subscribe.bind(tt)}class ObserverProxy{constructor(et,tt){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=tt,this.task.then(()=>{et(this)}).catch(rt=>{this.error(rt)})}next(et){this.forEachObserver(tt=>{tt.next(et)})}error(et){this.forEachObserver(tt=>{tt.error(et)}),this.close(et)}complete(){this.forEachObserver(et=>{et.complete()}),this.close()}subscribe(et,tt,rt){let nt;if(et===void 0&&tt===void 0&&rt===void 0)throw new Error("Missing Observer.");implementsAnyMethods(et,["next","error","complete"])?nt=et:nt={next:et,error:tt,complete:rt},nt.next===void 0&&(nt.next=noop$1),nt.error===void 0&&(nt.error=noop$1),nt.complete===void 0&&(nt.complete=noop$1);const it=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?nt.error(this.finalError):nt.complete()}catch{}}),this.observers.push(nt),it}unsubscribeOne(et){this.observers===void 0||this.observers[et]===void 0||(delete this.observers[et],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(et){if(!this.finalized)for(let tt=0;tt<this.observers.length;tt++)this.sendOne(tt,et)}sendOne(et,tt){this.task.then(()=>{if(this.observers!==void 0&&this.observers[et]!==void 0)try{tt(this.observers[et])}catch(rt){typeof console<"u"&&console.error&&console.error(rt)}})}close(et){this.finalized||(this.finalized=!0,et!==void 0&&(this.finalError=et),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(_e,et){if(typeof _e!="object"||_e===null)return!1;for(const tt of et)if(tt in _e&&typeof _e[tt]=="function")return!0;return!1}function noop$1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(_e){return _e&&_e._delegate?_e._delegate:_e}class Component{constructor(et,tt,rt){this.name=et,this.instanceFactory=tt,this.type=rt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(et){return this.instantiationMode=et,this}setMultipleInstances(et){return this.multipleInstances=et,this}setServiceProps(et){return this.serviceProps=et,this}setInstanceCreatedCallback(et){return this.onInstanceCreated=et,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(et,tt){this.name=et,this.container=tt,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(et){const tt=this.normalizeInstanceIdentifier(et);if(!this.instancesDeferred.has(tt)){const rt=new Deferred$1;if(this.instancesDeferred.set(tt,rt),this.isInitialized(tt)||this.shouldAutoInitialize())try{const nt=this.getOrInitializeService({instanceIdentifier:tt});nt&&rt.resolve(nt)}catch{}}return this.instancesDeferred.get(tt).promise}getImmediate(et){var tt;const rt=this.normalizeInstanceIdentifier(et==null?void 0:et.identifier),nt=(tt=et==null?void 0:et.optional)!==null&&tt!==void 0?tt:!1;if(this.isInitialized(rt)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:rt})}catch(it){if(nt)return null;throw it}else{if(nt)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(et){if(et.name!==this.name)throw Error(`Mismatching Component ${et.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=et,!!this.shouldAutoInitialize()){if(isComponentEager(et))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[tt,rt]of this.instancesDeferred.entries()){const nt=this.normalizeInstanceIdentifier(tt);try{const it=this.getOrInitializeService({instanceIdentifier:nt});rt.resolve(it)}catch{}}}}clearInstance(et=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(et),this.instancesOptions.delete(et),this.instances.delete(et)}async delete(){const et=Array.from(this.instances.values());await Promise.all([...et.filter(tt=>"INTERNAL"in tt).map(tt=>tt.INTERNAL.delete()),...et.filter(tt=>"_delete"in tt).map(tt=>tt._delete())])}isComponentSet(){return this.component!=null}isInitialized(et=DEFAULT_ENTRY_NAME$1){return this.instances.has(et)}getOptions(et=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(et)||{}}initialize(et={}){const{options:tt={}}=et,rt=this.normalizeInstanceIdentifier(et.instanceIdentifier);if(this.isInitialized(rt))throw Error(`${this.name}(${rt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const nt=this.getOrInitializeService({instanceIdentifier:rt,options:tt});for(const[it,at]of this.instancesDeferred.entries()){const ot=this.normalizeInstanceIdentifier(it);rt===ot&&at.resolve(nt)}return nt}onInit(et,tt){var rt;const nt=this.normalizeInstanceIdentifier(tt),it=(rt=this.onInitCallbacks.get(nt))!==null&&rt!==void 0?rt:new Set;it.add(et),this.onInitCallbacks.set(nt,it);const at=this.instances.get(nt);return at&&et(at,nt),()=>{it.delete(et)}}invokeOnInitCallbacks(et,tt){const rt=this.onInitCallbacks.get(tt);if(rt)for(const nt of rt)try{nt(et,tt)}catch{}}getOrInitializeService({instanceIdentifier:et,options:tt={}}){let rt=this.instances.get(et);if(!rt&&this.component&&(rt=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(et),options:tt}),this.instances.set(et,rt),this.instancesOptions.set(et,tt),this.invokeOnInitCallbacks(rt,et),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,et,rt)}catch{}return rt||null}normalizeInstanceIdentifier(et=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?et:DEFAULT_ENTRY_NAME$1:et}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(_e){return _e===DEFAULT_ENTRY_NAME$1?void 0:_e}function isComponentEager(_e){return _e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(et){this.name=et,this.providers=new Map}addComponent(et){const tt=this.getProvider(et.name);if(tt.isComponentSet())throw new Error(`Component ${et.name} has already been registered with ${this.name}`);tt.setComponent(et)}addOrOverwriteComponent(et){this.getProvider(et.name).isComponentSet()&&this.providers.delete(et.name),this.addComponent(et)}getProvider(et){if(this.providers.has(et))return this.providers.get(et);const tt=new Provider(et,this);return this.providers.set(et,tt),tt}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(_e){_e[_e.DEBUG=0]="DEBUG",_e[_e.VERBOSE=1]="VERBOSE",_e[_e.INFO=2]="INFO",_e[_e.WARN=3]="WARN",_e[_e.ERROR=4]="ERROR",_e[_e.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(_e,et,...tt)=>{if(et<_e.logLevel)return;const rt=new Date().toISOString(),nt=ConsoleMethod[et];if(nt)console[nt](`[${rt}]  ${_e.name}:`,...tt);else throw new Error(`Attempted to log a message with an invalid logType (value: ${et})`)};class Logger{constructor(et){this.name=et,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(et){if(!(et in LogLevel))throw new TypeError(`Invalid value "${et}" assigned to \`logLevel\``);this._logLevel=et}setLogLevel(et){this._logLevel=typeof et=="string"?levelStringToEnum[et]:et}get logHandler(){return this._logHandler}set logHandler(et){if(typeof et!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=et}get userLogHandler(){return this._userLogHandler}set userLogHandler(et){this._userLogHandler=et}debug(...et){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...et),this._logHandler(this,LogLevel.DEBUG,...et)}log(...et){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...et),this._logHandler(this,LogLevel.VERBOSE,...et)}info(...et){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...et),this._logHandler(this,LogLevel.INFO,...et)}warn(...et){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...et),this._logHandler(this,LogLevel.WARN,...et)}error(...et){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...et),this._logHandler(this,LogLevel.ERROR,...et)}}const instanceOfAny=(_e,et)=>et.some(tt=>_e instanceof tt);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(_e){const et=new Promise((tt,rt)=>{const nt=()=>{_e.removeEventListener("success",it),_e.removeEventListener("error",at)},it=()=>{tt(wrap(_e.result)),nt()},at=()=>{rt(_e.error),nt()};_e.addEventListener("success",it),_e.addEventListener("error",at)});return et.then(tt=>{tt instanceof IDBCursor&&cursorRequestMap.set(tt,_e)}).catch(()=>{}),reverseTransformCache.set(et,_e),et}function cacheDonePromiseForTransaction(_e){if(transactionDoneMap.has(_e))return;const et=new Promise((tt,rt)=>{const nt=()=>{_e.removeEventListener("complete",it),_e.removeEventListener("error",at),_e.removeEventListener("abort",at)},it=()=>{tt(),nt()},at=()=>{rt(_e.error||new DOMException("AbortError","AbortError")),nt()};_e.addEventListener("complete",it),_e.addEventListener("error",at),_e.addEventListener("abort",at)});transactionDoneMap.set(_e,et)}let idbProxyTraps={get(_e,et,tt){if(_e instanceof IDBTransaction){if(et==="done")return transactionDoneMap.get(_e);if(et==="objectStoreNames")return _e.objectStoreNames||transactionStoreNamesMap.get(_e);if(et==="store")return tt.objectStoreNames[1]?void 0:tt.objectStore(tt.objectStoreNames[0])}return wrap(_e[et])},set(_e,et,tt){return _e[et]=tt,!0},has(_e,et){return _e instanceof IDBTransaction&&(et==="done"||et==="store")?!0:et in _e}};function replaceTraps(_e){idbProxyTraps=_e(idbProxyTraps)}function wrapFunction(_e){return _e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(et,...tt){const rt=_e.call(unwrap(this),et,...tt);return transactionStoreNamesMap.set(rt,et.sort?et.sort():[et]),wrap(rt)}:getCursorAdvanceMethods().includes(_e)?function(...et){return _e.apply(unwrap(this),et),wrap(cursorRequestMap.get(this))}:function(...et){return wrap(_e.apply(unwrap(this),et))}}function transformCachableValue(_e){return typeof _e=="function"?wrapFunction(_e):(_e instanceof IDBTransaction&&cacheDonePromiseForTransaction(_e),instanceOfAny(_e,getIdbProxyableTypes())?new Proxy(_e,idbProxyTraps):_e)}function wrap(_e){if(_e instanceof IDBRequest)return promisifyRequest(_e);if(transformCache.has(_e))return transformCache.get(_e);const et=transformCachableValue(_e);return et!==_e&&(transformCache.set(_e,et),reverseTransformCache.set(et,_e)),et}const unwrap=_e=>reverseTransformCache.get(_e);function openDB(_e,et,{blocked:tt,upgrade:rt,blocking:nt,terminated:it}={}){const at=indexedDB.open(_e,et),ot=wrap(at);return rt&&at.addEventListener("upgradeneeded",st=>{rt(wrap(at.result),st.oldVersion,st.newVersion,wrap(at.transaction),st)}),tt&&at.addEventListener("blocked",st=>tt(st.oldVersion,st.newVersion,st)),ot.then(st=>{it&&st.addEventListener("close",()=>it()),nt&&st.addEventListener("versionchange",lt=>nt(lt.oldVersion,lt.newVersion,lt))}).catch(()=>{}),ot}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(_e,et){if(!(_e instanceof IDBDatabase&&!(et in _e)&&typeof et=="string"))return;if(cachedMethods.get(et))return cachedMethods.get(et);const tt=et.replace(/FromIndex$/,""),rt=et!==tt,nt=writeMethods.includes(tt);if(!(tt in(rt?IDBIndex:IDBObjectStore).prototype)||!(nt||readMethods.includes(tt)))return;const it=async function(at,...ot){const st=this.transaction(at,nt?"readwrite":"readonly");let lt=st.store;return rt&&(lt=lt.index(ot.shift())),(await Promise.all([lt[tt](...ot),nt&&st.done]))[0]};return cachedMethods.set(et,it),it}replaceTraps(_e=>({..._e,get:(et,tt,rt)=>getMethod(et,tt)||_e.get(et,tt,rt),has:(et,tt)=>!!getMethod(et,tt)||_e.has(et,tt)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(et){this.container=et}getPlatformInfoString(){return this.container.getProviders().map(tt=>{if(isVersionServiceProvider(tt)){const rt=tt.getImmediate();return`${rt.library}/${rt.version}`}else return null}).filter(tt=>tt).join(" ")}}function isVersionServiceProvider(_e){const et=_e.getComponent();return(et==null?void 0:et.type)==="VERSION"}const name$q="@firebase/app",version$1$1="0.10.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$5=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3="@firebase/firestore",name$2="@firebase/vertexai-preview",name$1$1="@firebase/firestore-compat",name$r="firebase",version$3="10.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(_e,et){try{_e.container.addComponent(et)}catch(tt){logger$5.debug(`Component ${et.name} failed to register with FirebaseApp ${_e.name}`,tt)}}function _registerComponent(_e){const et=_e.name;if(_components.has(et))return logger$5.debug(`There were multiple attempts to register component ${et}.`),!1;_components.set(et,_e);for(const tt of _apps.values())_addComponent(tt,_e);for(const tt of _serverApps.values())_addComponent(tt,_e);return!0}function _getProvider(_e,et){const tt=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return tt&&tt.triggerHeartbeat(),_e.container.getProvider(et)}function _isFirebaseServerApp(_e){return _e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(et,tt,rt){this._isDeleted=!1,this._options=Object.assign({},et),this._config=Object.assign({},tt),this._name=tt.name,this._automaticDataCollectionEnabled=tt.automaticDataCollectionEnabled,this._container=rt,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(et){this.checkDestroyed(),this._automaticDataCollectionEnabled=et}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(et){this._isDeleted=et}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$3;function initializeApp(_e,et={}){let tt=_e;typeof et!="object"&&(et={name:et});const rt=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},et),nt=rt.name;if(typeof nt!="string"||!nt)throw ERROR_FACTORY.create("bad-app-name",{appName:String(nt)});if(tt||(tt=getDefaultAppConfig()),!tt)throw ERROR_FACTORY.create("no-options");const it=_apps.get(nt);if(it){if(deepEqual(tt,it.options)&&deepEqual(rt,it.config))return it;throw ERROR_FACTORY.create("duplicate-app",{appName:nt})}const at=new ComponentContainer(nt);for(const st of _components.values())at.addComponent(st);const ot=new FirebaseAppImpl(tt,rt,at);return _apps.set(nt,ot),ot}function getApp(_e=DEFAULT_ENTRY_NAME){const et=_apps.get(_e);if(!et&&_e===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!et)throw ERROR_FACTORY.create("no-app",{appName:_e});return et}function getApps(){return Array.from(_apps.values())}function registerVersion(_e,et,tt){var rt;let nt=(rt=PLATFORM_LOG_STRING[_e])!==null&&rt!==void 0?rt:_e;tt&&(nt+=`-${tt}`);const it=nt.match(/\s|\//),at=et.match(/\s|\//);if(it||at){const ot=[`Unable to register library "${nt}" with version "${et}":`];it&&ot.push(`library name "${nt}" contains illegal characters (whitespace or "/")`),it&&at&&ot.push("and"),at&&ot.push(`version name "${et}" contains illegal characters (whitespace or "/")`),logger$5.warn(ot.join(" "));return}_registerComponent(new Component(`${nt}-version`,()=>({library:nt,version:et}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(_e,et)=>{switch(et){case 0:try{_e.createObjectStore(STORE_NAME)}catch(tt){console.warn(tt)}}}}).catch(_e=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:_e.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(_e){try{const tt=(await getDbPromise()).transaction(STORE_NAME),rt=await tt.objectStore(STORE_NAME).get(computeKey(_e));return await tt.done,rt}catch(et){if(et instanceof FirebaseError)logger$5.warn(et.message);else{const tt=ERROR_FACTORY.create("idb-get",{originalErrorMessage:et==null?void 0:et.message});logger$5.warn(tt.message)}}}async function writeHeartbeatsToIndexedDB(_e,et){try{const rt=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await rt.objectStore(STORE_NAME).put(et,computeKey(_e)),await rt.done}catch(tt){if(tt instanceof FirebaseError)logger$5.warn(tt.message);else{const rt=ERROR_FACTORY.create("idb-set",{originalErrorMessage:tt==null?void 0:tt.message});logger$5.warn(rt.message)}}}function computeKey(_e){return`${_e.name}!${_e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(et){this.container=et,this._heartbeatsCache=null;const tt=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(tt),this._heartbeatsCachePromise=this._storage.read().then(rt=>(this._heartbeatsCache=rt,rt))}async triggerHeartbeat(){var et,tt;try{const nt=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),it=getUTCDateString();return((et=this._heartbeatsCache)===null||et===void 0?void 0:et.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((tt=this._heartbeatsCache)===null||tt===void 0?void 0:tt.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===it||this._heartbeatsCache.heartbeats.some(at=>at.date===it)?void 0:(this._heartbeatsCache.heartbeats.push({date:it,agent:nt}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(at=>{const ot=new Date(at.date).valueOf();return Date.now()-ot<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache))}catch(rt){logger$5.warn(rt)}}async getHeartbeatsHeader(){var et;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((et=this._heartbeatsCache)===null||et===void 0?void 0:et.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const tt=getUTCDateString(),{heartbeatsToSend:rt,unsentEntries:nt}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),it=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:rt}));return this._heartbeatsCache.lastSentHeartbeatDate=tt,nt.length>0?(this._heartbeatsCache.heartbeats=nt,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),it}catch(tt){return logger$5.warn(tt),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(_e,et=MAX_HEADER_BYTES){const tt=[];let rt=_e.slice();for(const nt of _e){const it=tt.find(at=>at.agent===nt.agent);if(it){if(it.dates.push(nt.date),countBytes(tt)>et){it.dates.pop();break}}else if(tt.push({agent:nt.agent,dates:[nt.date]}),countBytes(tt)>et){tt.pop();break}rt=rt.slice(1)}return{heartbeatsToSend:tt,unsentEntries:rt}}class HeartbeatStorageImpl{constructor(et){this.app=et,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const tt=await readHeartbeatsFromIndexedDB(this.app);return tt!=null&&tt.heartbeats?tt:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(et){var tt;if(await this._canUseIndexedDBPromise){const nt=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(tt=et.lastSentHeartbeatDate)!==null&&tt!==void 0?tt:nt.lastSentHeartbeatDate,heartbeats:et.heartbeats})}else return}async add(et){var tt;if(await this._canUseIndexedDBPromise){const nt=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(tt=et.lastSentHeartbeatDate)!==null&&tt!==void 0?tt:nt.lastSentHeartbeatDate,heartbeats:[...nt.heartbeats,...et.heartbeats]})}else return}}function countBytes(_e){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:_e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(_e){_registerComponent(new Component("platform-logger",et=>new PlatformLoggerServiceImpl(et),"PRIVATE")),_registerComponent(new Component("heartbeat",et=>new HeartbeatServiceImpl(et),"PRIVATE")),registerVersion(name$q,version$1$1,_e),registerVersion(name$q,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var name$1="firebase",version$2="10.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$1,version$2,"app");function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap()),AUTH_ERROR_CODES_MAP_DO_NOT_USE_INTERNALLY={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logWarn(_e,...et){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${_e}`,...et)}function _logError(_e,...et){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${_e}`,...et)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(_e,...et){throw createErrorInternal(_e,...et)}function _createError(_e,...et){return createErrorInternal(_e,...et)}function _errorWithCustomMessage(_e,et,tt){const rt=Object.assign(Object.assign({},prodErrorMap()),{[et]:tt});return new ErrorFactory("auth","Firebase",rt).create(et,{appName:_e.name})}function _serverAppCurrentUserOperationNotSupportedError(_e){return _errorWithCustomMessage(_e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _assertInstanceOf(_e,et,tt){const rt=tt;if(!(et instanceof rt))throw rt.name!==et.constructor.name&&_fail(_e,"argument-error"),_errorWithCustomMessage(_e,"argument-error",`Type of ${et.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function createErrorInternal(_e,...et){if(typeof _e!="string"){const tt=et[0],rt=[...et.slice(1)];return rt[0]&&(rt[0].appName=_e.name),_e._errorFactory.create(tt,...rt)}return _DEFAULT_AUTH_ERROR_FACTORY.create(_e,...et)}function _assert(_e,et,...tt){if(!_e)throw createErrorInternal(et,...tt)}function debugFail(_e){const et="INTERNAL ASSERTION FAILED: "+_e;throw _logError(et),new Error(et)}function debugAssert(_e,et){_e||debugFail(et)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var _e;return typeof self<"u"&&((_e=self.location)===null||_e===void 0?void 0:_e.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var _e;return typeof self<"u"&&((_e=self.location)===null||_e===void 0?void 0:_e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const _e=navigator;return _e.languages&&_e.languages[0]||_e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(et,tt){this.shortDelay=et,this.longDelay=tt,debugAssert(tt>et,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(_e,et){debugAssert(_e.emulator,"Emulator should always be set here");const{url:tt}=_e.emulator;return et?`${tt}${et.startsWith("/")?et.slice(1):et}`:tt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(et,tt,rt){this.fetchImpl=et,tt&&(this.headersImpl=tt),rt&&(this.responseImpl=rt)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(_e,et){return _e.tenantId&&!et.tenantId?Object.assign(Object.assign({},et),{tenantId:_e.tenantId}):et}async function _performApiRequest(_e,et,tt,rt,nt={}){return _performFetchWithErrorHandling(_e,nt,async()=>{let it={},at={};rt&&(et==="GET"?at=rt:it={body:JSON.stringify(rt)});const ot=querystring$1(Object.assign({key:_e.config.apiKey},at)).slice(1),st=await _e._getAdditionalHeaders();st["Content-Type"]="application/json",_e.languageCode&&(st["X-Firebase-Locale"]=_e.languageCode);const lt=Object.assign({method:et,headers:st},it);return isCloudflareWorker()||(lt.referrerPolicy="no-referrer"),FetchProvider.fetch()(_getFinalTarget(_e,_e.config.apiHost,tt,ot),lt)})}async function _performFetchWithErrorHandling(_e,et,tt){_e._canInitEmulator=!1;const rt=Object.assign(Object.assign({},SERVER_ERROR_MAP),et);try{const nt=new NetworkTimeout(_e),it=await Promise.race([tt(),nt.promise]);nt.clearNetworkTimeout();const at=await it.json();if("needConfirmation"in at)throw _makeTaggedError(_e,"account-exists-with-different-credential",at);if(it.ok&&!("errorMessage"in at))return at;{const ot=it.ok?at.errorMessage:at.error.message,[st,lt]=ot.split(" : ");if(st==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(_e,"credential-already-in-use",at);if(st==="EMAIL_EXISTS")throw _makeTaggedError(_e,"email-already-in-use",at);if(st==="USER_DISABLED")throw _makeTaggedError(_e,"user-disabled",at);const ct=rt[st]||st.toLowerCase().replace(/[_\s]+/g,"-");if(lt)throw _errorWithCustomMessage(_e,ct,lt);_fail(_e,ct)}}catch(nt){if(nt instanceof FirebaseError)throw nt;_fail(_e,"network-request-failed",{message:String(nt)})}}async function _performSignInRequest(_e,et,tt,rt,nt={}){const it=await _performApiRequest(_e,et,tt,rt,nt);return"mfaPendingCredential"in it&&_fail(_e,"multi-factor-auth-required",{_serverResponse:it}),it}function _getFinalTarget(_e,et,tt,rt){const nt=`${et}${tt}?${rt}`;return _e.config.emulator?_emulatorUrl(_e.config,nt):`${_e.config.apiScheme}://${nt}`}function _parseEnforcementState(_e){switch(_e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{constructor(et){this.auth=et,this.timer=null,this.promise=new Promise((tt,rt)=>{this.timer=setTimeout(()=>rt(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(_e,et,tt){const rt={appName:_e.name};tt.email&&(rt.email=tt.email),tt.phoneNumber&&(rt.phoneNumber=tt.phoneNumber);const nt=_createError(_e,et,rt);return nt.customData._tokenResponse=tt,nt}function isEnterprise(_e){return _e!==void 0&&_e.enterprise!==void 0}class RecaptchaConfig{constructor(et){if(this.siteKey="",this.recaptchaEnforcementState=[],et.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=et.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=et.recaptchaEnforcementState}getProviderEnforcementState(et){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const tt of this.recaptchaEnforcementState)if(tt.provider&&tt.provider===et)return _parseEnforcementState(tt.enforcementState);return null}isProviderEnabled(et){return this.getProviderEnforcementState(et)==="ENFORCE"||this.getProviderEnforcementState(et)==="AUDIT"}}async function getRecaptchaConfig(_e,et){return _performApiRequest(_e,"GET","/v2/recaptchaConfig",_addTidIfNecessary(_e,et))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(_e,et){return _performApiRequest(_e,"POST","/v1/accounts:delete",et)}async function getAccountInfo(_e,et){return _performApiRequest(_e,"POST","/v1/accounts:lookup",et)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(_e){if(_e)try{const et=new Date(Number(_e));if(!isNaN(et.getTime()))return et.toUTCString()}catch{}}async function getIdTokenResult(_e,et=!1){const tt=getModularInstance(_e),rt=await tt.getIdToken(et),nt=_parseToken(rt);_assert(nt&&nt.exp&&nt.auth_time&&nt.iat,tt.auth,"internal-error");const it=typeof nt.firebase=="object"?nt.firebase:void 0,at=it==null?void 0:it.sign_in_provider;return{claims:nt,token:rt,authTime:utcTimestampToDateString(secondsStringToMilliseconds(nt.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(nt.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(nt.exp)),signInProvider:at||null,signInSecondFactor:(it==null?void 0:it.sign_in_second_factor)||null}}function secondsStringToMilliseconds(_e){return Number(_e)*1e3}function _parseToken(_e){const[et,tt,rt]=_e.split(".");if(et===void 0||tt===void 0||rt===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const nt=base64Decode(tt);return nt?JSON.parse(nt):(_logError("Failed to decode base64 JWT payload"),null)}catch(nt){return _logError("Caught error parsing JWT payload as JSON",nt==null?void 0:nt.toString()),null}}function _tokenExpiresIn(_e){const et=_parseToken(_e);return _assert(et,"internal-error"),_assert(typeof et.exp<"u","internal-error"),_assert(typeof et.iat<"u","internal-error"),Number(et.exp)-Number(et.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(_e,et,tt=!1){if(tt)return et;try{return await et}catch(rt){throw rt instanceof FirebaseError&&isUserInvalidated(rt)&&_e.auth.currentUser===_e&&await _e.auth.signOut(),rt}}function isUserInvalidated({code:_e}){return _e==="auth/user-disabled"||_e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(et){this.user=et,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(et){var tt;if(et){const rt=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),rt}else{this.errorBackoff=3e4;const nt=((tt=this.user.stsTokenManager.expirationTime)!==null&&tt!==void 0?tt:0)-Date.now()-3e5;return Math.max(0,nt)}}schedule(et=!1){if(!this.isRunning)return;const tt=this.getInterval(et);this.timerId=setTimeout(async()=>{await this.iteration()},tt)}async iteration(){try{await this.user.getIdToken(!0)}catch(et){(et==null?void 0:et.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(et,tt){this.createdAt=et,this.lastLoginAt=tt,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(et){this.createdAt=et.createdAt,this.lastLoginAt=et.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(_e){var et;const tt=_e.auth,rt=await _e.getIdToken(),nt=await _logoutIfInvalidated(_e,getAccountInfo(tt,{idToken:rt}));_assert(nt==null?void 0:nt.users.length,tt,"internal-error");const it=nt.users[0];_e._notifyReloadListener(it);const at=!((et=it.providerUserInfo)===null||et===void 0)&&et.length?extractProviderData(it.providerUserInfo):[],ot=mergeProviderData(_e.providerData,at),st=_e.isAnonymous,lt=!(_e.email&&it.passwordHash)&&!(ot!=null&&ot.length),ct=st?lt:!1,ut={uid:it.localId,displayName:it.displayName||null,photoURL:it.photoUrl||null,email:it.email||null,emailVerified:it.emailVerified||!1,phoneNumber:it.phoneNumber||null,tenantId:it.tenantId||null,providerData:ot,metadata:new UserMetadata(it.createdAt,it.lastLoginAt),isAnonymous:ct};Object.assign(_e,ut)}async function reload(_e){const et=getModularInstance(_e);await _reloadWithoutSaving(et),await et.auth._persistUserIfCurrent(et),et.auth._notifyListenersIfCurrent(et)}function mergeProviderData(_e,et){return[..._e.filter(rt=>!et.some(nt=>nt.providerId===rt.providerId)),...et]}function extractProviderData(_e){return _e.map(et=>{var{providerId:tt}=et,rt=__rest$1(et,["providerId"]);return{providerId:tt,uid:rt.rawId||"",displayName:rt.displayName||null,email:rt.email||null,phoneNumber:rt.phoneNumber||null,photoURL:rt.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(_e,et){const tt=await _performFetchWithErrorHandling(_e,{},async()=>{const rt=querystring$1({grant_type:"refresh_token",refresh_token:et}).slice(1),{tokenApiHost:nt,apiKey:it}=_e.config,at=_getFinalTarget(_e,nt,"/v1/token",`key=${it}`),ot=await _e._getAdditionalHeaders();return ot["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(at,{method:"POST",headers:ot,body:rt})});return{accessToken:tt.access_token,expiresIn:tt.expires_in,refreshToken:tt.refresh_token}}async function revokeToken(_e,et){return _performApiRequest(_e,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(_e,et))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(et){_assert(et.idToken,"internal-error"),_assert(typeof et.idToken<"u","internal-error"),_assert(typeof et.refreshToken<"u","internal-error");const tt="expiresIn"in et&&typeof et.expiresIn<"u"?Number(et.expiresIn):_tokenExpiresIn(et.idToken);this.updateTokensAndExpiration(et.idToken,et.refreshToken,tt)}updateFromIdToken(et){_assert(et.length!==0,"internal-error");const tt=_tokenExpiresIn(et);this.updateTokensAndExpiration(et,null,tt)}async getToken(et,tt=!1){return!tt&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,et,"user-token-expired"),this.refreshToken?(await this.refresh(et,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(et,tt){const{accessToken:rt,refreshToken:nt,expiresIn:it}=await requestStsToken(et,tt);this.updateTokensAndExpiration(rt,nt,Number(it))}updateTokensAndExpiration(et,tt,rt){this.refreshToken=tt||null,this.accessToken=et||null,this.expirationTime=Date.now()+rt*1e3}static fromJSON(et,tt){const{refreshToken:rt,accessToken:nt,expirationTime:it}=tt,at=new StsTokenManager;return rt&&(_assert(typeof rt=="string","internal-error",{appName:et}),at.refreshToken=rt),nt&&(_assert(typeof nt=="string","internal-error",{appName:et}),at.accessToken=nt),it&&(_assert(typeof it=="number","internal-error",{appName:et}),at.expirationTime=it),at}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(et){this.accessToken=et.accessToken,this.refreshToken=et.refreshToken,this.expirationTime=et.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(_e,et){_assert(typeof _e=="string"||typeof _e>"u","internal-error",{appName:et})}class UserImpl{constructor(et){var{uid:tt,auth:rt,stsTokenManager:nt}=et,it=__rest$1(et,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=tt,this.auth=rt,this.stsTokenManager=nt,this.accessToken=nt.accessToken,this.displayName=it.displayName||null,this.email=it.email||null,this.emailVerified=it.emailVerified||!1,this.phoneNumber=it.phoneNumber||null,this.photoURL=it.photoURL||null,this.isAnonymous=it.isAnonymous||!1,this.tenantId=it.tenantId||null,this.providerData=it.providerData?[...it.providerData]:[],this.metadata=new UserMetadata(it.createdAt||void 0,it.lastLoginAt||void 0)}async getIdToken(et){const tt=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,et));return _assert(tt,this.auth,"internal-error"),this.accessToken!==tt&&(this.accessToken=tt,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),tt}getIdTokenResult(et){return getIdTokenResult(this,et)}reload(){return reload(this)}_assign(et){this!==et&&(_assert(this.uid===et.uid,this.auth,"internal-error"),this.displayName=et.displayName,this.photoURL=et.photoURL,this.email=et.email,this.emailVerified=et.emailVerified,this.phoneNumber=et.phoneNumber,this.isAnonymous=et.isAnonymous,this.tenantId=et.tenantId,this.providerData=et.providerData.map(tt=>Object.assign({},tt)),this.metadata._copy(et.metadata),this.stsTokenManager._assign(et.stsTokenManager))}_clone(et){const tt=new UserImpl(Object.assign(Object.assign({},this),{auth:et,stsTokenManager:this.stsTokenManager._clone()}));return tt.metadata._copy(this.metadata),tt}_onReload(et){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=et,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(et){this.reloadListener?this.reloadListener(et):this.reloadUserInfo=et}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(et,tt=!1){let rt=!1;et.idToken&&et.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(et),rt=!0),tt&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),rt&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const et=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:et})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(et=>Object.assign({},et)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(et,tt){var rt,nt,it,at,ot,st,lt,ct;const ut=(rt=tt.displayName)!==null&&rt!==void 0?rt:void 0,dt=(nt=tt.email)!==null&&nt!==void 0?nt:void 0,ft=(it=tt.phoneNumber)!==null&&it!==void 0?it:void 0,pt=(at=tt.photoURL)!==null&&at!==void 0?at:void 0,ht=(ot=tt.tenantId)!==null&&ot!==void 0?ot:void 0,yt=(st=tt._redirectEventId)!==null&&st!==void 0?st:void 0,mt=(lt=tt.createdAt)!==null&&lt!==void 0?lt:void 0,gt=(ct=tt.lastLoginAt)!==null&&ct!==void 0?ct:void 0,{uid:vt,emailVerified:St,isAnonymous:xt,providerData:Ct,stsTokenManager:wt}=tt;_assert(vt&&wt,et,"internal-error");const _t=StsTokenManager.fromJSON(this.name,wt);_assert(typeof vt=="string",et,"internal-error"),assertStringOrUndefined(ut,et.name),assertStringOrUndefined(dt,et.name),_assert(typeof St=="boolean",et,"internal-error"),_assert(typeof xt=="boolean",et,"internal-error"),assertStringOrUndefined(ft,et.name),assertStringOrUndefined(pt,et.name),assertStringOrUndefined(ht,et.name),assertStringOrUndefined(yt,et.name),assertStringOrUndefined(mt,et.name),assertStringOrUndefined(gt,et.name);const Ot=new UserImpl({uid:vt,auth:et,email:dt,emailVerified:St,displayName:ut,isAnonymous:xt,photoURL:pt,phoneNumber:ft,tenantId:ht,stsTokenManager:_t,createdAt:mt,lastLoginAt:gt});return Ct&&Array.isArray(Ct)&&(Ot.providerData=Ct.map(kt=>Object.assign({},kt))),yt&&(Ot._redirectEventId=yt),Ot}static async _fromIdTokenResponse(et,tt,rt=!1){const nt=new StsTokenManager;nt.updateFromServerResponse(tt);const it=new UserImpl({uid:tt.localId,auth:et,stsTokenManager:nt,isAnonymous:rt});return await _reloadWithoutSaving(it),it}static async _fromGetAccountInfoResponse(et,tt,rt){const nt=tt.users[0];_assert(nt.localId!==void 0,"internal-error");const it=nt.providerUserInfo!==void 0?extractProviderData(nt.providerUserInfo):[],at=!(nt.email&&nt.passwordHash)&&!(it!=null&&it.length),ot=new StsTokenManager;ot.updateFromIdToken(rt);const st=new UserImpl({uid:nt.localId,auth:et,stsTokenManager:ot,isAnonymous:at}),lt={uid:nt.localId,displayName:nt.displayName||null,photoURL:nt.photoUrl||null,email:nt.email||null,emailVerified:nt.emailVerified||!1,phoneNumber:nt.phoneNumber||null,tenantId:nt.tenantId||null,providerData:it,metadata:new UserMetadata(nt.createdAt,nt.lastLoginAt),isAnonymous:!(nt.email&&nt.passwordHash)&&!(it!=null&&it.length)};return Object.assign(st,lt),st}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(_e){debugAssert(_e instanceof Function,"Expected a class definition");let et=instanceCache.get(_e);return et?(debugAssert(et instanceof _e,"Instance stored in cache mismatched with class"),et):(et=new _e,instanceCache.set(_e,et),et)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(et,tt){this.storage[et]=tt}async _get(et){const tt=this.storage[et];return tt===void 0?null:tt}async _remove(et){delete this.storage[et]}_addListener(et,tt){}_removeListener(et,tt){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(_e,et,tt){return`firebase:${_e}:${et}:${tt}`}class PersistenceUserManager{constructor(et,tt,rt){this.persistence=et,this.auth=tt,this.userKey=rt;const{config:nt,name:it}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,nt.apiKey,it),this.fullPersistenceKey=_persistenceKeyName("persistence",nt.apiKey,it),this.boundEventHandler=tt._onStorageEvent.bind(tt),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(et){return this.persistence._set(this.fullUserKey,et.toJSON())}async getCurrentUser(){const et=await this.persistence._get(this.fullUserKey);return et?UserImpl._fromJSON(this.auth,et):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(et){if(this.persistence===et)return;const tt=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=et,tt)return this.setCurrentUser(tt)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(et,tt,rt="authUser"){if(!tt.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),et,rt);const nt=(await Promise.all(tt.map(async lt=>{if(await lt._isAvailable())return lt}))).filter(lt=>lt);let it=nt[0]||_getInstance(inMemoryPersistence);const at=_persistenceKeyName(rt,et.config.apiKey,et.name);let ot=null;for(const lt of tt)try{const ct=await lt._get(at);if(ct){const ut=UserImpl._fromJSON(et,ct);lt!==it&&(ot=ut),it=lt;break}}catch{}const st=nt.filter(lt=>lt._shouldAllowMigration);return!it._shouldAllowMigration||!st.length?new PersistenceUserManager(it,et,rt):(it=st[0],ot&&await it._set(at,ot.toJSON()),await Promise.all(tt.map(async lt=>{if(lt!==it)try{await lt._remove(at)}catch{}})),new PersistenceUserManager(it,et,rt))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(_e){const et=_e.toLowerCase();if(et.includes("opera/")||et.includes("opr/")||et.includes("opios/"))return"Opera";if(_isIEMobile(et))return"IEMobile";if(et.includes("msie")||et.includes("trident/"))return"IE";if(et.includes("edge/"))return"Edge";if(_isFirefox(et))return"Firefox";if(et.includes("silk/"))return"Silk";if(_isBlackBerry(et))return"Blackberry";if(_isWebOS(et))return"Webos";if(_isSafari(et))return"Safari";if((et.includes("chrome/")||_isChromeIOS(et))&&!et.includes("edge/"))return"Chrome";if(_isAndroid(et))return"Android";{const tt=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,rt=_e.match(tt);if((rt==null?void 0:rt.length)===2)return rt[1]}return"Other"}function _isFirefox(_e=getUA()){return/firefox\//i.test(_e)}function _isSafari(_e=getUA()){const et=_e.toLowerCase();return et.includes("safari/")&&!et.includes("chrome/")&&!et.includes("crios/")&&!et.includes("android")}function _isChromeIOS(_e=getUA()){return/crios\//i.test(_e)}function _isIEMobile(_e=getUA()){return/iemobile/i.test(_e)}function _isAndroid(_e=getUA()){return/android/i.test(_e)}function _isBlackBerry(_e=getUA()){return/blackberry/i.test(_e)}function _isWebOS(_e=getUA()){return/webos/i.test(_e)}function _isIOS(_e=getUA()){return/iphone|ipad|ipod/i.test(_e)||/macintosh/i.test(_e)&&/mobile/i.test(_e)}function _isIOSStandalone(_e=getUA()){var et;return _isIOS(_e)&&!!(!((et=window.navigator)===null||et===void 0)&&et.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(_e=getUA()){return _isIOS(_e)||_isAndroid(_e)||_isWebOS(_e)||_isBlackBerry(_e)||/windows phone/i.test(_e)||_isIEMobile(_e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(_e,et=[]){let tt;switch(_e){case"Browser":tt=_getBrowserName(getUA());break;case"Worker":tt=`${_getBrowserName(getUA())}-${_e}`;break;default:tt=_e}const rt=et.length?et.join(","):"FirebaseCore-web";return`${tt}/JsCore/${SDK_VERSION}/${rt}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(et){this.auth=et,this.queue=[]}pushCallback(et,tt){const rt=it=>new Promise((at,ot)=>{try{const st=et(it);at(st)}catch(st){ot(st)}});rt.onAbort=tt,this.queue.push(rt);const nt=this.queue.length-1;return()=>{this.queue[nt]=()=>Promise.resolve()}}async runMiddleware(et){if(this.auth.currentUser===et)return;const tt=[];try{for(const rt of this.queue)await rt(et),rt.onAbort&&tt.push(rt.onAbort)}catch(rt){tt.reverse();for(const nt of tt)try{nt()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:rt==null?void 0:rt.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(_e,et={}){return _performApiRequest(_e,"GET","/v2/passwordPolicy",_addTidIfNecessary(_e,et))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(et){var tt,rt,nt,it;const at=et.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(tt=at.minPasswordLength)!==null&&tt!==void 0?tt:MINIMUM_MIN_PASSWORD_LENGTH,at.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=at.maxPasswordLength),at.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=at.containsLowercaseCharacter),at.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=at.containsUppercaseCharacter),at.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=at.containsNumericCharacter),at.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=at.containsNonAlphanumericCharacter),this.enforcementState=et.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(nt=(rt=et.allowedNonAlphanumericCharacters)===null||rt===void 0?void 0:rt.join(""))!==null&&nt!==void 0?nt:"",this.forceUpgradeOnSignin=(it=et.forceUpgradeOnSignin)!==null&&it!==void 0?it:!1,this.schemaVersion=et.schemaVersion}validatePassword(et){var tt,rt,nt,it,at,ot;const st={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(et,st),this.validatePasswordCharacterOptions(et,st),st.isValid&&(st.isValid=(tt=st.meetsMinPasswordLength)!==null&&tt!==void 0?tt:!0),st.isValid&&(st.isValid=(rt=st.meetsMaxPasswordLength)!==null&&rt!==void 0?rt:!0),st.isValid&&(st.isValid=(nt=st.containsLowercaseLetter)!==null&&nt!==void 0?nt:!0),st.isValid&&(st.isValid=(it=st.containsUppercaseLetter)!==null&&it!==void 0?it:!0),st.isValid&&(st.isValid=(at=st.containsNumericCharacter)!==null&&at!==void 0?at:!0),st.isValid&&(st.isValid=(ot=st.containsNonAlphanumericCharacter)!==null&&ot!==void 0?ot:!0),st}validatePasswordLengthOptions(et,tt){const rt=this.customStrengthOptions.minPasswordLength,nt=this.customStrengthOptions.maxPasswordLength;rt&&(tt.meetsMinPasswordLength=et.length>=rt),nt&&(tt.meetsMaxPasswordLength=et.length<=nt)}validatePasswordCharacterOptions(et,tt){this.updatePasswordCharacterOptionsStatuses(tt,!1,!1,!1,!1);let rt;for(let nt=0;nt<et.length;nt++)rt=et.charAt(nt),this.updatePasswordCharacterOptionsStatuses(tt,rt>="a"&&rt<="z",rt>="A"&&rt<="Z",rt>="0"&&rt<="9",this.allowedNonAlphanumericCharacters.includes(rt))}updatePasswordCharacterOptionsStatuses(et,tt,rt,nt,it){this.customStrengthOptions.containsLowercaseLetter&&(et.containsLowercaseLetter||(et.containsLowercaseLetter=tt)),this.customStrengthOptions.containsUppercaseLetter&&(et.containsUppercaseLetter||(et.containsUppercaseLetter=rt)),this.customStrengthOptions.containsNumericCharacter&&(et.containsNumericCharacter||(et.containsNumericCharacter=nt)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(et.containsNonAlphanumericCharacter||(et.containsNonAlphanumericCharacter=it))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(et,tt,rt,nt){this.app=et,this.heartbeatServiceProvider=tt,this.appCheckServiceProvider=rt,this.config=nt,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription$1(this),this.idTokenSubscription=new Subscription$1(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=et.name,this.clientVersion=nt.sdkClientVersion}_initializeWithPersistence(et,tt){return tt&&(this._popupRedirectResolver=_getInstance(tt)),this._initializationPromise=this.queue(async()=>{var rt,nt;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,et),!this._deleted)){if(!((rt=this._popupRedirectResolver)===null||rt===void 0)&&rt._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(tt),this.lastNotifiedUid=((nt=this.currentUser)===null||nt===void 0?void 0:nt.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const et=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!et)){if(this.currentUser&&et&&this.currentUser.uid===et.uid){this._currentUser._assign(et),await this.currentUser.getIdToken();return}await this._updateCurrentUser(et,!0)}}async initializeCurrentUserFromIdToken(et){try{const tt=await getAccountInfo(this,{idToken:et}),rt=await UserImpl._fromGetAccountInfoResponse(this,tt,et);await this.directlySetCurrentUser(rt)}catch(tt){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",tt),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(et){var tt;if(_isFirebaseServerApp(this.app)){const at=this.app.settings.authIdToken;return at?new Promise(ot=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(at).then(ot,ot))}):this.directlySetCurrentUser(null)}const rt=await this.assertedPersistence.getCurrentUser();let nt=rt,it=!1;if(et&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const at=(tt=this.redirectUser)===null||tt===void 0?void 0:tt._redirectEventId,ot=nt==null?void 0:nt._redirectEventId,st=await this.tryRedirectSignIn(et);(!at||at===ot)&&(st!=null&&st.user)&&(nt=st.user,it=!0)}if(!nt)return this.directlySetCurrentUser(null);if(!nt._redirectEventId){if(it)try{await this.beforeStateQueue.runMiddleware(nt)}catch(at){nt=rt,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(at))}return nt?this.reloadAndSetCurrentUserOrClear(nt):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===nt._redirectEventId?this.directlySetCurrentUser(nt):this.reloadAndSetCurrentUserOrClear(nt)}async tryRedirectSignIn(et){let tt=null;try{tt=await this._popupRedirectResolver._completeRedirectFn(this,et,!0)}catch{await this._setRedirectUser(null)}return tt}async reloadAndSetCurrentUserOrClear(et){try{await _reloadWithoutSaving(et)}catch(tt){if((tt==null?void 0:tt.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(et)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(et){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const tt=et?getModularInstance(et):null;return tt&&_assert(tt.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(tt&&tt._clone(this))}async _updateCurrentUser(et,tt=!1){if(!this._deleted)return et&&_assert(this.tenantId===et.tenantId,this,"tenant-id-mismatch"),tt||await this.beforeStateQueue.runMiddleware(et),this.queue(async()=>{await this.directlySetCurrentUser(et),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(et){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(et))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(et){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const tt=this._getPasswordPolicyInternal();return tt.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):tt.validatePassword(et)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const et=await _getPasswordPolicy(this),tt=new PasswordPolicyImpl(et);this.tenantId===null?this._projectPasswordPolicy=tt:this._tenantPasswordPolicies[this.tenantId]=tt}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(et){this._errorFactory=new ErrorFactory("auth","Firebase",et())}onAuthStateChanged(et,tt,rt){return this.registerStateListener(this.authStateSubscription,et,tt,rt)}beforeAuthStateChanged(et,tt){return this.beforeStateQueue.pushCallback(et,tt)}onIdTokenChanged(et,tt,rt){return this.registerStateListener(this.idTokenSubscription,et,tt,rt)}authStateReady(){return new Promise((et,tt)=>{if(this.currentUser)et();else{const rt=this.onAuthStateChanged(()=>{rt(),et()},tt)}})}async revokeAccessToken(et){if(this.currentUser){const tt=await this.currentUser.getIdToken(),rt={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:et,idToken:tt};this.tenantId!=null&&(rt.tenantId=this.tenantId),await revokeToken(this,rt)}}toJSON(){var et;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(et=this._currentUser)===null||et===void 0?void 0:et.toJSON()}}async _setRedirectUser(et,tt){const rt=await this.getOrInitRedirectPersistenceManager(tt);return et===null?rt.removeCurrentUser():rt.setCurrentUser(et)}async getOrInitRedirectPersistenceManager(et){if(!this.redirectPersistenceManager){const tt=et&&_getInstance(et)||this._popupRedirectResolver;_assert(tt,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(tt._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(et){var tt,rt;return this._isInitialized&&await this.queue(async()=>{}),((tt=this._currentUser)===null||tt===void 0?void 0:tt._redirectEventId)===et?this._currentUser:((rt=this.redirectUser)===null||rt===void 0?void 0:rt._redirectEventId)===et?this.redirectUser:null}async _persistUserIfCurrent(et){if(et===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(et))}_notifyListenersIfCurrent(et){et===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var et,tt;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const rt=(tt=(et=this.currentUser)===null||et===void 0?void 0:et.uid)!==null&&tt!==void 0?tt:null;this.lastNotifiedUid!==rt&&(this.lastNotifiedUid=rt,this.authStateSubscription.next(this.currentUser))}registerStateListener(et,tt,rt,nt){if(this._deleted)return()=>{};const it=typeof tt=="function"?tt:tt.next.bind(tt);let at=!1;const ot=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(ot,this,"internal-error"),ot.then(()=>{at||it(this.currentUser)}),typeof tt=="function"){const st=et.addObserver(tt,rt,nt);return()=>{at=!0,st()}}else{const st=et.addObserver(tt);return()=>{at=!0,st()}}}async directlySetCurrentUser(et){this.currentUser&&this.currentUser!==et&&this._currentUser._stopProactiveRefresh(),et&&this.isProactiveRefreshEnabled&&et._startProactiveRefresh(),this.currentUser=et,et?await this.assertedPersistence.setCurrentUser(et):await this.assertedPersistence.removeCurrentUser()}queue(et){return this.operations=this.operations.then(et,et),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(et){!et||this.frameworks.includes(et)||(this.frameworks.push(et),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var et;const tt={"X-Client-Version":this.clientVersion};this.app.options.appId&&(tt["X-Firebase-gmpid"]=this.app.options.appId);const rt=await((et=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||et===void 0?void 0:et.getHeartbeatsHeader());rt&&(tt["X-Firebase-Client"]=rt);const nt=await this._getAppCheckToken();return nt&&(tt["X-Firebase-AppCheck"]=nt),tt}async _getAppCheckToken(){var et;const tt=await((et=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||et===void 0?void 0:et.getToken());return tt!=null&&tt.error&&_logWarn(`Error while retrieving App Check token: ${tt.error}`),tt==null?void 0:tt.token}}function _castAuth(_e){return getModularInstance(_e)}let Subscription$1=class{constructor(et){this.auth=et,this.observer=null,this.addObserver=createSubscribe(tt=>this.observer=tt)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(_e){externalJSProvider=_e}function _loadJS(_e){return externalJSProvider.loadJS(_e)}function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(_e){return`__${_e}${Math.floor(Math.random()*1e6)}`}const RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(et){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth(et)}async verify(et="verify",tt=!1){async function rt(it){if(!tt){if(it.tenantId==null&&it._agentRecaptchaConfig!=null)return it._agentRecaptchaConfig.siteKey;if(it.tenantId!=null&&it._tenantRecaptchaConfigs[it.tenantId]!==void 0)return it._tenantRecaptchaConfigs[it.tenantId].siteKey}return new Promise(async(at,ot)=>{getRecaptchaConfig(it,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(st=>{if(st.recaptchaKey===void 0)ot(new Error("recaptcha Enterprise site key undefined"));else{const lt=new RecaptchaConfig(st);return it.tenantId==null?it._agentRecaptchaConfig=lt:it._tenantRecaptchaConfigs[it.tenantId]=lt,at(lt.siteKey)}}).catch(st=>{ot(st)})})}function nt(it,at,ot){const st=window.grecaptcha;isEnterprise(st)?st.enterprise.ready(()=>{st.enterprise.execute(it,{action:et}).then(lt=>{at(lt)}).catch(()=>{at(FAKE_TOKEN)})}):ot(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((it,at)=>{rt(this.auth).then(ot=>{if(!tt&&isEnterprise(window.grecaptcha))nt(ot,it,at);else{if(typeof window>"u"){at(new Error("RecaptchaVerifier is only supported in browser"));return}let st=_recaptchaEnterpriseScriptUrl();st.length!==0&&(st+=ot),_loadJS(st).then(()=>{nt(ot,it,at)}).catch(lt=>{at(lt)})}}).catch(ot=>{at(ot)})})}}async function injectRecaptchaFields(_e,et,tt,rt=!1){const nt=new RecaptchaEnterpriseVerifier(_e);let it;try{it=await nt.verify(tt)}catch{it=await nt.verify(tt,!0)}const at=Object.assign({},et);return rt?Object.assign(at,{captchaResp:it}):Object.assign(at,{captchaResponse:it}),Object.assign(at,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(at,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),at}async function handleRecaptchaFlow(_e,et,tt,rt){var nt;if(!((nt=_e._getRecaptchaConfig())===null||nt===void 0)&&nt.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const it=await injectRecaptchaFields(_e,et,tt,tt==="getOobCode");return rt(_e,it)}else return rt(_e,et).catch(async it=>{if(it.code==="auth/missing-recaptcha-token"){console.log(`${tt} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const at=await injectRecaptchaFields(_e,et,tt,tt==="getOobCode");return rt(_e,at)}else return Promise.reject(it)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(_e,et){const tt=_getProvider(_e,"auth");if(tt.isInitialized()){const nt=tt.getImmediate(),it=tt.getOptions();if(deepEqual(it,et??{}))return nt;_fail(nt,"already-initialized")}return tt.initialize({options:et})}function _initializeAuthInstance(_e,et){const tt=(et==null?void 0:et.persistence)||[],rt=(Array.isArray(tt)?tt:[tt]).map(_getInstance);et!=null&&et.errorMap&&_e._updateErrorMap(et.errorMap),_e._initializeWithPersistence(rt,et==null?void 0:et.popupRedirectResolver)}function connectAuthEmulator(_e,et,tt){const rt=_castAuth(_e);_assert(rt._canInitEmulator,rt,"emulator-config-failed"),_assert(/^https?:\/\//.test(et),rt,"invalid-emulator-scheme");const nt=!1,it=extractProtocol$1(et),{host:at,port:ot}=extractHostAndPort(et),st=ot===null?"":`:${ot}`;rt.config.emulator={url:`${it}//${at}${st}/`},rt.settings.appVerificationDisabledForTesting=!0,rt.emulatorConfig=Object.freeze({host:at,port:ot,protocol:it.replace(":",""),options:Object.freeze({disableWarnings:nt})}),emitEmulatorWarning()}function extractProtocol$1(_e){const et=_e.indexOf(":");return et<0?"":_e.substr(0,et+1)}function extractHostAndPort(_e){const et=extractProtocol$1(_e),tt=/(\/\/)?([^?#/]+)/.exec(_e.substr(et.length));if(!tt)return{host:"",port:null};const rt=tt[2].split("@").pop()||"",nt=/^(\[[^\]]+\])(:|$)/.exec(rt);if(nt){const it=nt[1];return{host:it,port:parsePort(rt.substr(it.length+1))}}else{const[it,at]=rt.split(":");return{host:it,port:parsePort(at)}}}function parsePort(_e){if(!_e)return null;const et=Number(_e);return isNaN(et)?null:et}function emitEmulatorWarning(){function _e(){const et=document.createElement("p"),tt=et.style;et.innerText="Running in emulator mode. Do not use with production credentials.",tt.position="fixed",tt.width="100%",tt.backgroundColor="#ffffff",tt.border=".1em solid #000000",tt.color="#b50000",tt.bottom="0px",tt.left="0px",tt.margin="0px",tt.zIndex="10000",tt.textAlign="center",et.classList.add("firebase-emulator-warning"),document.body.appendChild(et)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_e):_e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(et,tt){this.providerId=et,this.signInMethod=tt}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(et){return debugFail("not implemented")}_linkToIdToken(et,tt){return debugFail("not implemented")}_getReauthenticationResolver(et){return debugFail("not implemented")}}async function linkEmailPassword(_e,et){return _performApiRequest(_e,"POST","/v1/accounts:signUp",et)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(_e,et){return _performSignInRequest(_e,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(_e,et))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(_e,et){return _performSignInRequest(_e,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(_e,et))}async function signInWithEmailLinkForLinking(_e,et){return _performSignInRequest(_e,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(_e,et))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(et,tt,rt,nt=null){super("password",rt),this._email=et,this._password=tt,this._tenantId=nt}static _fromEmailAndPassword(et,tt){return new EmailAuthCredential(et,tt,"password")}static _fromEmailAndCode(et,tt,rt=null){return new EmailAuthCredential(et,tt,"emailLink",rt)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(et){const tt=typeof et=="string"?JSON.parse(et):et;if(tt!=null&&tt.email&&(tt!=null&&tt.password)){if(tt.signInMethod==="password")return this._fromEmailAndPassword(tt.email,tt.password);if(tt.signInMethod==="emailLink")return this._fromEmailAndCode(tt.email,tt.password,tt.tenantId)}return null}async _getIdTokenResponse(et){switch(this.signInMethod){case"password":const tt={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(et,tt,"signInWithPassword",signInWithPassword);case"emailLink":return signInWithEmailLink$1(et,{email:this._email,oobCode:this._password});default:_fail(et,"internal-error")}}async _linkToIdToken(et,tt){switch(this.signInMethod){case"password":const rt={idToken:tt,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(et,rt,"signUpPassword",linkEmailPassword);case"emailLink":return signInWithEmailLinkForLinking(et,{idToken:tt,email:this._email,oobCode:this._password});default:_fail(et,"internal-error")}}_getReauthenticationResolver(et){return this._getIdTokenResponse(et)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(_e,et){return _performSignInRequest(_e,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(_e,et))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(et){const tt=new OAuthCredential(et.providerId,et.signInMethod);return et.idToken||et.accessToken?(et.idToken&&(tt.idToken=et.idToken),et.accessToken&&(tt.accessToken=et.accessToken),et.nonce&&!et.pendingToken&&(tt.nonce=et.nonce),et.pendingToken&&(tt.pendingToken=et.pendingToken)):et.oauthToken&&et.oauthTokenSecret?(tt.accessToken=et.oauthToken,tt.secret=et.oauthTokenSecret):_fail("argument-error"),tt}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(et){const tt=typeof et=="string"?JSON.parse(et):et,{providerId:rt,signInMethod:nt}=tt,it=__rest$1(tt,["providerId","signInMethod"]);if(!rt||!nt)return null;const at=new OAuthCredential(rt,nt);return at.idToken=it.idToken||void 0,at.accessToken=it.accessToken||void 0,at.secret=it.secret,at.nonce=it.nonce,at.pendingToken=it.pendingToken||null,at}_getIdTokenResponse(et){const tt=this.buildRequest();return signInWithIdp(et,tt)}_linkToIdToken(et,tt){const rt=this.buildRequest();return rt.idToken=tt,signInWithIdp(et,rt)}_getReauthenticationResolver(et){const tt=this.buildRequest();return tt.autoCreate=!1,signInWithIdp(et,tt)}buildRequest(){const et={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)et.pendingToken=this.pendingToken;else{const tt={};this.idToken&&(tt.id_token=this.idToken),this.accessToken&&(tt.access_token=this.accessToken),this.secret&&(tt.oauth_token_secret=this.secret),tt.providerId=this.providerId,this.nonce&&!this.pendingToken&&(tt.nonce=this.nonce),et.postBody=querystring$1(tt)}return et}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(_e){switch(_e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(_e){const et=querystringDecode(extractQuerystring(_e)).link,tt=et?querystringDecode(extractQuerystring(et)).deep_link_id:null,rt=querystringDecode(extractQuerystring(_e)).deep_link_id;return(rt?querystringDecode(extractQuerystring(rt)).link:null)||rt||tt||et||_e}class ActionCodeURL{constructor(et){var tt,rt,nt,it,at,ot;const st=querystringDecode(extractQuerystring(et)),lt=(tt=st.apiKey)!==null&&tt!==void 0?tt:null,ct=(rt=st.oobCode)!==null&&rt!==void 0?rt:null,ut=parseMode((nt=st.mode)!==null&&nt!==void 0?nt:null);_assert(lt&&ct&&ut,"argument-error"),this.apiKey=lt,this.operation=ut,this.code=ct,this.continueUrl=(it=st.continueUrl)!==null&&it!==void 0?it:null,this.languageCode=(at=st.languageCode)!==null&&at!==void 0?at:null,this.tenantId=(ot=st.tenantId)!==null&&ot!==void 0?ot:null}static parseLink(et){const tt=parseDeepLink(et);try{return new ActionCodeURL(tt)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(et,tt){return EmailAuthCredential._fromEmailAndPassword(et,tt)}static credentialWithLink(et,tt){const rt=ActionCodeURL.parseLink(tt);return _assert(rt,"argument-error"),EmailAuthCredential._fromEmailAndCode(et,rt.code,rt.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(et){this.providerId=et,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(et){this.defaultLanguageCode=et}setCustomParameters(et){return this.customParameters=et,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(et){return this.scopes.includes(et)||this.scopes.push(et),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(et){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:et})}static credentialFromResult(et){return FacebookAuthProvider.credentialFromTaggedObject(et)}static credentialFromError(et){return FacebookAuthProvider.credentialFromTaggedObject(et.customData||{})}static credentialFromTaggedObject({_tokenResponse:et}){if(!et||!("oauthAccessToken"in et)||!et.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(et.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(et,tt){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:et,accessToken:tt})}static credentialFromResult(et){return GoogleAuthProvider.credentialFromTaggedObject(et)}static credentialFromError(et){return GoogleAuthProvider.credentialFromTaggedObject(et.customData||{})}static credentialFromTaggedObject({_tokenResponse:et}){if(!et)return null;const{oauthIdToken:tt,oauthAccessToken:rt}=et;if(!tt&&!rt)return null;try{return GoogleAuthProvider.credential(tt,rt)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(et){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:et})}static credentialFromResult(et){return GithubAuthProvider.credentialFromTaggedObject(et)}static credentialFromError(et){return GithubAuthProvider.credentialFromTaggedObject(et.customData||{})}static credentialFromTaggedObject({_tokenResponse:et}){if(!et||!("oauthAccessToken"in et)||!et.oauthAccessToken)return null;try{return GithubAuthProvider.credential(et.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(et,tt){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:et,oauthTokenSecret:tt})}static credentialFromResult(et){return TwitterAuthProvider.credentialFromTaggedObject(et)}static credentialFromError(et){return TwitterAuthProvider.credentialFromTaggedObject(et.customData||{})}static credentialFromTaggedObject({_tokenResponse:et}){if(!et)return null;const{oauthAccessToken:tt,oauthTokenSecret:rt}=et;if(!tt||!rt)return null;try{return TwitterAuthProvider.credential(tt,rt)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(et){this.user=et.user,this.providerId=et.providerId,this._tokenResponse=et._tokenResponse,this.operationType=et.operationType}static async _fromIdTokenResponse(et,tt,rt,nt=!1){const it=await UserImpl._fromIdTokenResponse(et,rt,nt),at=providerIdForResponse(rt);return new UserCredentialImpl({user:it,providerId:at,_tokenResponse:rt,operationType:tt})}static async _forOperation(et,tt,rt){await et._updateTokensIfNecessary(rt,!0);const nt=providerIdForResponse(rt);return new UserCredentialImpl({user:et,providerId:nt,_tokenResponse:rt,operationType:tt})}}function providerIdForResponse(_e){return _e.providerId?_e.providerId:"phoneNumber"in _e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(et,tt,rt,nt){var it;super(tt.code,tt.message),this.operationType=rt,this.user=nt,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:et.name,tenantId:(it=et.tenantId)!==null&&it!==void 0?it:void 0,_serverResponse:tt.customData._serverResponse,operationType:rt}}static _fromErrorAndOperation(et,tt,rt,nt){return new MultiFactorError(et,tt,rt,nt)}}function _processCredentialSavingMfaContextIfNecessary(_e,et,tt,rt){return(et==="reauthenticate"?tt._getReauthenticationResolver(_e):tt._getIdTokenResponse(_e)).catch(it=>{throw it.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(_e,it,et,rt):it})}async function _link$1(_e,et,tt=!1){const rt=await _logoutIfInvalidated(_e,et._linkToIdToken(_e.auth,await _e.getIdToken()),tt);return UserCredentialImpl._forOperation(_e,"link",rt)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(_e,et,tt=!1){const{auth:rt}=_e;if(_isFirebaseServerApp(rt.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(rt));const nt="reauthenticate";try{const it=await _logoutIfInvalidated(_e,_processCredentialSavingMfaContextIfNecessary(rt,nt,et,_e),tt);_assert(it.idToken,rt,"internal-error");const at=_parseToken(it.idToken);_assert(at,rt,"internal-error");const{sub:ot}=at;return _assert(_e.uid===ot,rt,"user-mismatch"),UserCredentialImpl._forOperation(_e,nt,it)}catch(it){throw(it==null?void 0:it.code)==="auth/user-not-found"&&_fail(rt,"user-mismatch"),it}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(_e,et,tt=!1){if(_isFirebaseServerApp(_e.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(_e));const rt="signIn",nt=await _processCredentialSavingMfaContextIfNecessary(_e,rt,et),it=await UserCredentialImpl._fromIdTokenResponse(_e,rt,nt);return tt||await _e._updateCurrentUser(it.user),it}async function signInWithCredential(_e,et){return _signInWithCredential(_castAuth(_e),et)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithCustomToken$1(_e,et){return _performSignInRequest(_e,"POST","/v1/accounts:signInWithCustomToken",_addTidIfNecessary(_e,et))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithCustomToken(_e,et){if(_isFirebaseServerApp(_e.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(_e));const tt=_castAuth(_e),rt=await signInWithCustomToken$1(tt,{token:et,returnSecureToken:!0}),nt=await UserCredentialImpl._fromIdTokenResponse(tt,"signIn",rt);return await tt._updateCurrentUser(nt.user),nt}function isSignInWithEmailLink(_e,et){const tt=ActionCodeURL.parseLink(et);return(tt==null?void 0:tt.operation)==="EMAIL_SIGNIN"}async function signInWithEmailLink(_e,et,tt){if(_isFirebaseServerApp(_e.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(_e));const rt=getModularInstance(_e),nt=EmailAuthProvider.credentialWithLink(et,tt||_getCurrentUrl());return _assert(nt._tenantId===(rt.tenantId||null),rt,"tenant-id-mismatch"),signInWithCredential(rt,nt)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fromIdTokenResponse(_e){var et,tt;if(!_e)return null;const{providerId:rt}=_e,nt=_e.rawUserInfo?JSON.parse(_e.rawUserInfo):{},it=_e.isNewUser||_e.kind==="identitytoolkit#SignupNewUserResponse";if(!rt&&(_e!=null&&_e.idToken)){const at=(tt=(et=_parseToken(_e.idToken))===null||et===void 0?void 0:et.firebase)===null||tt===void 0?void 0:tt.sign_in_provider;if(at){const ot=at!=="anonymous"&&at!=="custom"?at:null;return new GenericAdditionalUserInfo(it,ot)}}if(!rt)return null;switch(rt){case"facebook.com":return new FacebookAdditionalUserInfo(it,nt);case"github.com":return new GithubAdditionalUserInfo(it,nt);case"google.com":return new GoogleAdditionalUserInfo(it,nt);case"twitter.com":return new TwitterAdditionalUserInfo(it,nt,_e.screenName||null);case"custom":case"anonymous":return new GenericAdditionalUserInfo(it,null);default:return new GenericAdditionalUserInfo(it,rt,nt)}}class GenericAdditionalUserInfo{constructor(et,tt,rt={}){this.isNewUser=et,this.providerId=tt,this.profile=rt}}class FederatedAdditionalUserInfoWithUsername extends GenericAdditionalUserInfo{constructor(et,tt,rt,nt){super(et,tt,rt),this.username=nt}}class FacebookAdditionalUserInfo extends GenericAdditionalUserInfo{constructor(et,tt){super(et,"facebook.com",tt)}}class GithubAdditionalUserInfo extends FederatedAdditionalUserInfoWithUsername{constructor(et,tt){super(et,"github.com",tt,typeof(tt==null?void 0:tt.login)=="string"?tt==null?void 0:tt.login:null)}}class GoogleAdditionalUserInfo extends GenericAdditionalUserInfo{constructor(et,tt){super(et,"google.com",tt)}}class TwitterAdditionalUserInfo extends FederatedAdditionalUserInfoWithUsername{constructor(et,tt,rt){super(et,"twitter.com",tt,rt)}}function getAdditionalUserInfo(_e){const{user:et,_tokenResponse:tt}=_e;return et.isAnonymous&&!tt?{providerId:null,isNewUser:!1,profile:null}:_fromIdTokenResponse(tt)}function onIdTokenChanged(_e,et,tt,rt){return getModularInstance(_e).onIdTokenChanged(et,tt,rt)}function beforeAuthStateChanged(_e,et,tt){return getModularInstance(_e).beforeAuthStateChanged(et,tt)}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(et,tt){this.storageRetriever=et,this.type=tt}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(et,tt){return this.storage.setItem(et,JSON.stringify(tt)),Promise.resolve()}_get(et){const tt=this.storage.getItem(et);return Promise.resolve(tt?JSON.parse(tt):null)}_remove(et){return this.storage.removeItem(et),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(et,tt)=>this.onStorageEvent(et,tt),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(et){for(const tt of Object.keys(this.listeners)){const rt=this.storage.getItem(tt),nt=this.localCache[tt];rt!==nt&&et(tt,nt,rt)}}onStorageEvent(et,tt=!1){if(!et.key){this.forAllChangedKeys((at,ot,st)=>{this.notifyListeners(at,st)});return}const rt=et.key;tt?this.detachListener():this.stopPolling();const nt=()=>{const at=this.storage.getItem(rt);!tt&&this.localCache[rt]===at||this.notifyListeners(rt,at)},it=this.storage.getItem(rt);_isIE10()&&it!==et.newValue&&et.newValue!==et.oldValue?setTimeout(nt,IE10_LOCAL_STORAGE_SYNC_DELAY):nt()}notifyListeners(et,tt){this.localCache[et]=tt;const rt=this.listeners[et];if(rt)for(const nt of Array.from(rt))nt(tt&&JSON.parse(tt))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((et,tt,rt)=>{this.onStorageEvent(new StorageEvent("storage",{key:et,oldValue:tt,newValue:rt}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(et,tt){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[et]||(this.listeners[et]=new Set,this.localCache[et]=this.storage.getItem(et)),this.listeners[et].add(tt)}_removeListener(et,tt){this.listeners[et]&&(this.listeners[et].delete(tt),this.listeners[et].size===0&&delete this.listeners[et]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(et,tt){await super._set(et,tt),this.localCache[et]=JSON.stringify(tt)}async _get(et){const tt=await super._get(et);return this.localCache[et]=JSON.stringify(tt),tt}async _remove(et){await super._remove(et),delete this.localCache[et]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(et,tt){}_removeListener(et,tt){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(_e){return Promise.all(_e.map(async et=>{try{return{fulfilled:!0,value:await et}}catch(tt){return{fulfilled:!1,reason:tt}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(et){this.eventTarget=et,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(et){const tt=this.receivers.find(nt=>nt.isListeningto(et));if(tt)return tt;const rt=new Receiver(et);return this.receivers.push(rt),rt}isListeningto(et){return this.eventTarget===et}async handleEvent(et){const tt=et,{eventId:rt,eventType:nt,data:it}=tt.data,at=this.handlersMap[nt];if(!(at!=null&&at.size))return;tt.ports[0].postMessage({status:"ack",eventId:rt,eventType:nt});const ot=Array.from(at).map(async lt=>lt(tt.origin,it)),st=await _allSettled(ot);tt.ports[0].postMessage({status:"done",eventId:rt,eventType:nt,response:st})}_subscribe(et,tt){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[et]||(this.handlersMap[et]=new Set),this.handlersMap[et].add(tt)}_unsubscribe(et,tt){this.handlersMap[et]&&tt&&this.handlersMap[et].delete(tt),(!tt||this.handlersMap[et].size===0)&&delete this.handlersMap[et],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(_e="",et=10){let tt="";for(let rt=0;rt<et;rt++)tt+=Math.floor(Math.random()*10);return _e+tt}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(et){this.target=et,this.handlers=new Set}removeMessageHandler(et){et.messageChannel&&(et.messageChannel.port1.removeEventListener("message",et.onMessage),et.messageChannel.port1.close()),this.handlers.delete(et)}async _send(et,tt,rt=50){const nt=typeof MessageChannel<"u"?new MessageChannel:null;if(!nt)throw new Error("connection_unavailable");let it,at;return new Promise((ot,st)=>{const lt=_generateEventId("",20);nt.port1.start();const ct=setTimeout(()=>{st(new Error("unsupported_event"))},rt);at={messageChannel:nt,onMessage(ut){const dt=ut;if(dt.data.eventId===lt)switch(dt.data.status){case"ack":clearTimeout(ct),it=setTimeout(()=>{st(new Error("timeout"))},3e3);break;case"done":clearTimeout(it),ot(dt.data.response);break;default:clearTimeout(ct),clearTimeout(it),st(new Error("invalid_response"));break}}},this.handlers.add(at),nt.port1.addEventListener("message",at.onMessage),this.target.postMessage({eventType:et,eventId:lt,data:tt},[nt.port2])}).finally(()=>{at&&this.removeMessageHandler(at)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(_e){_window().location.href=_e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var _e;return((_e=navigator==null?void 0:navigator.serviceWorker)===null||_e===void 0?void 0:_e.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(et){this.request=et}toPromise(){return new Promise((et,tt)=>{this.request.addEventListener("success",()=>{et(this.request.result)}),this.request.addEventListener("error",()=>{tt(this.request.error)})})}}function getObjectStore(_e,et){return _e.transaction([DB_OBJECTSTORE_NAME],et?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const _e=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(_e).toPromise()}function _openDatabase(){const _e=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((et,tt)=>{_e.addEventListener("error",()=>{tt(_e.error)}),_e.addEventListener("upgradeneeded",()=>{const rt=_e.result;try{rt.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(nt){tt(nt)}}),_e.addEventListener("success",async()=>{const rt=_e.result;rt.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?et(rt):(rt.close(),await _deleteDatabase(),et(await _openDatabase()))})})}async function _putObject(_e,et,tt){const rt=getObjectStore(_e,!0).put({[DB_DATA_KEYPATH]:et,value:tt});return new DBPromise(rt).toPromise()}async function getObject(_e,et){const tt=getObjectStore(_e,!1).get(et),rt=await new DBPromise(tt).toPromise();return rt===void 0?null:rt.value}function _deleteObject(_e,et){const tt=getObjectStore(_e,!0).delete(et);return new DBPromise(tt).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(et){let tt=0;for(;;)try{const rt=await this._openDb();return await et(rt)}catch(rt){if(tt++>_TRANSACTION_RETRY_COUNT)throw rt;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(et,tt)=>({keyProcessed:(await this._poll()).includes(tt.key)})),this.receiver._subscribe("ping",async(et,tt)=>["keyChanged"])}async initializeSender(){var et,tt;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const rt=await this.sender._send("ping",{},800);rt&&!((et=rt[0])===null||et===void 0)&&et.fulfilled&&!((tt=rt[0])===null||tt===void 0)&&tt.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(et){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:et},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const et=await _openDatabase();return await _putObject(et,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(et,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(et){this.pendingWrites++;try{await et()}finally{this.pendingWrites--}}async _set(et,tt){return this._withPendingWrite(async()=>(await this._withRetries(rt=>_putObject(rt,et,tt)),this.localCache[et]=tt,this.notifyServiceWorker(et)))}async _get(et){const tt=await this._withRetries(rt=>getObject(rt,et));return this.localCache[et]=tt,tt}async _remove(et){return this._withPendingWrite(async()=>(await this._withRetries(tt=>_deleteObject(tt,et)),delete this.localCache[et],this.notifyServiceWorker(et)))}async _poll(){const et=await this._withRetries(nt=>{const it=getObjectStore(nt,!1).getAll();return new DBPromise(it).toPromise()});if(!et)return[];if(this.pendingWrites!==0)return[];const tt=[],rt=new Set;if(et.length!==0)for(const{fbase_key:nt,value:it}of et)rt.add(nt),JSON.stringify(this.localCache[nt])!==JSON.stringify(it)&&(this.notifyListeners(nt,it),tt.push(nt));for(const nt of Object.keys(this.localCache))this.localCache[nt]&&!rt.has(nt)&&(this.notifyListeners(nt,null),tt.push(nt));return tt}notifyListeners(et,tt){this.localCache[et]=tt;const rt=this.listeners[et];if(rt)for(const nt of Array.from(rt))nt(tt)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(et,tt){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[et]||(this.listeners[et]=new Set,this._get(et)),this.listeners[et].add(tt)}_removeListener(et,tt){this.listeners[et]&&(this.listeners[et].delete(tt),this.listeners[et].size===0&&delete this.listeners[et]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(_e,et){return et?_getInstance(et):(_assert(_e._popupRedirectResolver,_e,"argument-error"),_e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(et){super("custom","custom"),this.params=et}_getIdTokenResponse(et){return signInWithIdp(et,this._buildIdpRequest())}_linkToIdToken(et,tt){return signInWithIdp(et,this._buildIdpRequest(tt))}_getReauthenticationResolver(et){return signInWithIdp(et,this._buildIdpRequest())}_buildIdpRequest(et){const tt={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return et&&(tt.idToken=et),tt}}function _signIn(_e){return _signInWithCredential(_e.auth,new IdpCredential(_e),_e.bypassAuthState)}function _reauth(_e){const{auth:et,user:tt}=_e;return _assert(tt,et,"internal-error"),_reauthenticate(tt,new IdpCredential(_e),_e.bypassAuthState)}async function _link(_e){const{auth:et,user:tt}=_e;return _assert(tt,et,"internal-error"),_link$1(tt,new IdpCredential(_e),_e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(et,tt,rt,nt,it=!1){this.auth=et,this.resolver=rt,this.user=nt,this.bypassAuthState=it,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(tt)?tt:[tt]}execute(){return new Promise(async(et,tt)=>{this.pendingPromise={resolve:et,reject:tt};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(rt){this.reject(rt)}})}async onAuthEvent(et){const{urlResponse:tt,sessionId:rt,postBody:nt,tenantId:it,error:at,type:ot}=et;if(at){this.reject(at);return}const st={auth:this.auth,requestUri:tt,sessionId:rt,tenantId:it||void 0,postBody:nt||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(ot)(st))}catch(lt){this.reject(lt)}}onError(et){this.reject(et)}getIdpTask(et){switch(et){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(et){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(et),this.unregisterAndCleanUp()}reject(et){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(et),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);async function signInWithPopup(_e,et,tt){if(_isFirebaseServerApp(_e.app))return Promise.reject(_createError(_e,"operation-not-supported-in-this-environment"));const rt=_castAuth(_e);_assertInstanceOf(_e,et,FederatedAuthProvider);const nt=_withDefaultResolver(rt,tt);return new PopupOperation(rt,"signInViaPopup",et,nt).executeNotNull()}class PopupOperation extends AbstractPopupRedirectOperation{constructor(et,tt,rt,nt,it){super(et,tt,nt,it),this.provider=rt,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const et=await this.execute();return _assert(et,this.auth,"internal-error"),et}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const et=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],et),this.authWindow.associatedEvent=et,this.resolver._originValidation(this.auth).catch(tt=>{this.reject(tt)}),this.resolver._isIframeWebStorageSupported(this.auth,tt=>{tt||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var et;return((et=this.authWindow)===null||et===void 0?void 0:et.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const et=()=>{var tt,rt;if(!((rt=(tt=this.authWindow)===null||tt===void 0?void 0:tt.window)===null||rt===void 0)&&rt.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(et,_POLL_WINDOW_CLOSE_TIMEOUT.get())};et()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(et,tt,rt=!1){super(et,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],tt,void 0,rt),this.eventId=null}async execute(){let et=redirectOutcomeMap.get(this.auth._key());if(!et){try{const rt=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;et=()=>Promise.resolve(rt)}catch(tt){et=()=>Promise.reject(tt)}redirectOutcomeMap.set(this.auth._key(),et)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),et()}async onAuthEvent(et){if(et.type==="signInViaRedirect")return super.onAuthEvent(et);if(et.type==="unknown"){this.resolve(null);return}if(et.eventId){const tt=await this.auth._redirectUserForId(et.eventId);if(tt)return this.user=tt,super.onAuthEvent(et);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(_e,et){const tt=pendingRedirectKey(et),rt=resolverPersistence(_e);if(!await rt._isAvailable())return!1;const nt=await rt._get(tt)==="true";return await rt._remove(tt),nt}function _overrideRedirectResult(_e,et){redirectOutcomeMap.set(_e._key(),et)}function resolverPersistence(_e){return _getInstance(_e._redirectPersistence)}function pendingRedirectKey(_e){return _persistenceKeyName(PENDING_REDIRECT_KEY,_e.config.apiKey,_e.name)}async function _getRedirectResult(_e,et,tt=!1){if(_isFirebaseServerApp(_e.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(_e));const rt=_castAuth(_e),nt=_withDefaultResolver(rt,et),at=await new RedirectAction(rt,nt,tt).execute();return at&&!tt&&(delete at.user._redirectEventId,await rt._persistUserIfCurrent(at.user),await rt._setRedirectUser(null,et)),at}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(et){this.auth=et,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(et){this.consumers.add(et),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,et)&&(this.sendToConsumer(this.queuedRedirectEvent,et),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(et){this.consumers.delete(et)}onEvent(et){if(this.hasEventBeenHandled(et))return!1;let tt=!1;return this.consumers.forEach(rt=>{this.isEventForConsumer(et,rt)&&(tt=!0,this.sendToConsumer(et,rt),this.saveEventToCache(et))}),this.hasHandledPotentialRedirect||!isRedirectEvent(et)||(this.hasHandledPotentialRedirect=!0,tt||(this.queuedRedirectEvent=et,tt=!0)),tt}sendToConsumer(et,tt){var rt;if(et.error&&!isNullRedirectEvent(et)){const nt=((rt=et.error.code)===null||rt===void 0?void 0:rt.split("auth/")[1])||"internal-error";tt.onError(_createError(this.auth,nt))}else tt.onAuthEvent(et)}isEventForConsumer(et,tt){const rt=tt.eventId===null||!!et.eventId&&et.eventId===tt.eventId;return tt.filter.includes(et.type)&&rt}hasEventBeenHandled(et){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(et))}saveEventToCache(et){this.cachedEventUids.add(eventUid(et)),this.lastProcessedEventTime=Date.now()}}function eventUid(_e){return[_e.type,_e.eventId,_e.sessionId,_e.tenantId].filter(et=>et).join("-")}function isNullRedirectEvent({type:_e,error:et}){return _e==="unknown"&&(et==null?void 0:et.code)==="auth/no-auth-event"}function isRedirectEvent(_e){switch(_e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(_e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(_e,et={}){return _performApiRequest(_e,"GET","/v1/projects",et)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(_e){if(_e.config.emulator)return;const{authorizedDomains:et}=await _getProjectConfig(_e);for(const tt of et)try{if(matchDomain(tt))return}catch{}_fail(_e,"unauthorized-domain")}function matchDomain(_e){const et=_getCurrentUrl(),{protocol:tt,hostname:rt}=new URL(et);if(_e.startsWith("chrome-extension://")){const at=new URL(_e);return at.hostname===""&&rt===""?tt==="chrome-extension:"&&_e.replace("chrome-extension://","")===et.replace("chrome-extension://",""):tt==="chrome-extension:"&&at.hostname===rt}if(!HTTP_REGEX.test(tt))return!1;if(IP_ADDRESS_REGEX.test(_e))return rt===_e;const nt=_e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+nt+"|"+nt+")$","i").test(rt)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const _e=_window().___jsl;if(_e!=null&&_e.H){for(const et of Object.keys(_e.H))if(_e.H[et].r=_e.H[et].r||[],_e.H[et].L=_e.H[et].L||[],_e.H[et].r=[..._e.H[et].L],_e.CP)for(let tt=0;tt<_e.CP.length;tt++)_e.CP[tt]=null}}function loadGapi(_e){return new Promise((et,tt)=>{var rt,nt,it;function at(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{et(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),tt(_createError(_e,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((nt=(rt=_window().gapi)===null||rt===void 0?void 0:rt.iframes)===null||nt===void 0)&&nt.Iframe)et(gapi.iframes.getContext());else if(!((it=_window().gapi)===null||it===void 0)&&it.load)at();else{const ot=_generateCallbackName("iframefcb");return _window()[ot]=()=>{gapi.load?at():tt(_createError(_e,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${ot}`).catch(st=>tt(st))}}).catch(et=>{throw cachedGApiLoader=null,et})}let cachedGApiLoader=null;function _loadGapi(_e){return cachedGApiLoader=cachedGApiLoader||loadGapi(_e),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(_e){const et=_e.config;_assert(et.authDomain,_e,"auth-domain-config-required");const tt=et.emulator?_emulatorUrl(et,EMULATED_IFRAME_PATH):`https://${_e.config.authDomain}/${IFRAME_PATH}`,rt={apiKey:et.apiKey,appName:_e.name,v:SDK_VERSION},nt=EID_FROM_APIHOST.get(_e.config.apiHost);nt&&(rt.eid=nt);const it=_e._getFrameworks();return it.length&&(rt.fw=it.join(",")),`${tt}?${querystring$1(rt).slice(1)}`}async function _openIframe(_e){const et=await _loadGapi(_e),tt=_window().gapi;return _assert(tt,_e,"internal-error"),et.open({where:document.body,url:getIframeUrl(_e),messageHandlersFilter:tt.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},rt=>new Promise(async(nt,it)=>{await rt.restyle({setHideOnLeave:!1});const at=_createError(_e,"network-request-failed"),ot=_window().setTimeout(()=>{it(at)},PING_TIMEOUT.get());function st(){_window().clearTimeout(ot),nt(rt)}rt.ping(st).then(st,()=>{it(at)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(et){this.window=et,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(_e,et,tt,rt=DEFAULT_WIDTH,nt=DEFAULT_HEIGHT){const it=Math.max((window.screen.availHeight-nt)/2,0).toString(),at=Math.max((window.screen.availWidth-rt)/2,0).toString();let ot="";const st=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:rt.toString(),height:nt.toString(),top:it,left:at}),lt=getUA().toLowerCase();tt&&(ot=_isChromeIOS(lt)?TARGET_BLANK:tt),_isFirefox(lt)&&(et=et||FIREFOX_EMPTY_URL,st.scrollbars="yes");const ct=Object.entries(st).reduce((dt,[ft,pt])=>`${dt}${ft}=${pt},`,"");if(_isIOSStandalone(lt)&&ot!=="_self")return openAsNewWindowIOS(et||"",ot),new AuthPopup(null);const ut=window.open(et||"",ot,ct);_assert(ut,_e,"popup-blocked");try{ut.focus()}catch{}return new AuthPopup(ut)}function openAsNewWindowIOS(_e,et){const tt=document.createElement("a");tt.href=_e,tt.target=et;const rt=document.createEvent("MouseEvent");rt.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),tt.dispatchEvent(rt)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(_e,et,tt,rt,nt,it){_assert(_e.config.authDomain,_e,"auth-domain-config-required"),_assert(_e.config.apiKey,_e,"invalid-api-key");const at={apiKey:_e.config.apiKey,appName:_e.name,authType:tt,redirectUrl:rt,v:SDK_VERSION,eventId:nt};if(et instanceof FederatedAuthProvider){et.setDefaultLanguage(_e.languageCode),at.providerId=et.providerId||"",isEmpty$1(et.getCustomParameters())||(at.customParameters=JSON.stringify(et.getCustomParameters()));for(const[ct,ut]of Object.entries({}))at[ct]=ut}if(et instanceof BaseOAuthProvider){const ct=et.getScopes().filter(ut=>ut!=="");ct.length>0&&(at.scopes=ct.join(","))}_e.tenantId&&(at.tid=_e.tenantId);const ot=at;for(const ct of Object.keys(ot))ot[ct]===void 0&&delete ot[ct];const st=await _e._getAppCheckToken(),lt=st?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(st)}`:"";return`${getHandlerBase(_e)}?${querystring$1(ot).slice(1)}${lt}`}function getHandlerBase({config:_e}){return _e.emulator?_emulatorUrl(_e,EMULATOR_WIDGET_PATH):`https://${_e.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(et,tt,rt,nt){var it;debugAssert((it=this.eventManagers[et._key()])===null||it===void 0?void 0:it.manager,"_initialize() not called before _openPopup()");const at=await _getRedirectUrl(et,tt,rt,_getCurrentUrl(),nt);return _open(et,at,_generateEventId())}async _openRedirect(et,tt,rt,nt){await this._originValidation(et);const it=await _getRedirectUrl(et,tt,rt,_getCurrentUrl(),nt);return _setWindowLocation(it),new Promise(()=>{})}_initialize(et){const tt=et._key();if(this.eventManagers[tt]){const{manager:nt,promise:it}=this.eventManagers[tt];return nt?Promise.resolve(nt):(debugAssert(it,"If manager is not set, promise should be"),it)}const rt=this.initAndGetManager(et);return this.eventManagers[tt]={promise:rt},rt.catch(()=>{delete this.eventManagers[tt]}),rt}async initAndGetManager(et){const tt=await _openIframe(et),rt=new AuthEventManager(et);return tt.register("authEvent",nt=>(_assert(nt==null?void 0:nt.authEvent,et,"invalid-auth-event"),{status:rt.onEvent(nt.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[et._key()]={manager:rt},this.iframes[et._key()]=tt,rt}_isIframeWebStorageSupported(et,tt){this.iframes[et._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},nt=>{var it;const at=(it=nt==null?void 0:nt[0])===null||it===void 0?void 0:it[WEB_STORAGE_SUPPORT_KEY];at!==void 0&&tt(!!at),_fail(et,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(et){const tt=et._key();return this.originValidationPromises[tt]||(this.originValidationPromises[tt]=_validateOrigin(et)),this.originValidationPromises[tt]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name="@firebase/auth",version$1="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(et){this.auth=et,this.internalListeners=new Map}getUid(){var et;return this.assertAuthConfigured(),((et=this.auth.currentUser)===null||et===void 0?void 0:et.uid)||null}async getToken(et){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(et)}:null}addAuthTokenListener(et){if(this.assertAuthConfigured(),this.internalListeners.has(et))return;const tt=this.auth.onIdTokenChanged(rt=>{et((rt==null?void 0:rt.stsTokenManager.accessToken)||null)});this.internalListeners.set(et,tt),this.updateProactiveRefresh()}removeAuthTokenListener(et){this.assertAuthConfigured();const tt=this.internalListeners.get(et);tt&&(this.internalListeners.delete(et),tt(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(_e){switch(_e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(_e){_registerComponent(new Component("auth",(et,{options:tt})=>{const rt=et.getProvider("app").getImmediate(),nt=et.getProvider("heartbeat"),it=et.getProvider("app-check-internal"),{apiKey:at,authDomain:ot}=rt.options;_assert(at&&!at.includes(":"),"invalid-api-key",{appName:rt.name});const st={apiKey:at,authDomain:ot,clientPlatform:_e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(_e)},lt=new AuthImpl(rt,nt,it,st);return _initializeAuthInstance(lt,tt),lt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((et,tt,rt)=>{et.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",et=>{const tt=_castAuth(et.getProvider("auth").getImmediate());return(rt=>new AuthInterop(rt))(tt)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name,version$1,getVersionForPlatform(_e)),registerVersion(name,version$1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=_e=>async et=>{const tt=et&&await et.getIdTokenResult(),rt=tt&&(new Date().getTime()-Date.parse(tt.issuedAtTime))/1e3;if(rt&&rt>authIdTokenMaxAge)return;const nt=tt==null?void 0:tt.token;lastPostedIdToken!==nt&&(lastPostedIdToken=nt,await fetch(_e,{method:nt?"POST":"DELETE",headers:nt?{Authorization:`Bearer ${nt}`}:{}}))};function getAuth(_e=getApp()){const et=_getProvider(_e,"auth");if(et.isInitialized())return et.getImmediate();const tt=initializeAuth(_e,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),rt=getExperimentalSetting("authTokenSyncURL");if(rt&&typeof isSecureContext=="boolean"&&isSecureContext){const it=new URL(rt,location.origin);if(location.origin===it.origin){const at=mintCookieFactory(it.toString());beforeAuthStateChanged(tt,at,()=>at(tt.currentUser)),onIdTokenChanged(tt,ot=>at(ot))}}const nt=getDefaultEmulatorHost("auth");return nt&&connectAuthEmulator(tt,`http://${nt}`),tt}function getScriptParentElement(){var _e,et;return(et=(_e=document.getElementsByTagName("head"))===null||_e===void 0?void 0:_e[0])!==null&&et!==void 0?et:document}_setExternalJSProvider({loadJS(_e){return new Promise((et,tt)=>{const rt=document.createElement("script");rt.setAttribute("src",_e),rt.onload=et,rt.onerror=nt=>{const it=_createError("internal-error");it.customData=nt,tt(it)},rt.type="text/javascript",rt.charset="UTF-8",getScriptParentElement().appendChild(rt)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");const firebaseConfig={apiKey:"AIzaSyDdtZTvdOJsqivzG3MOGecH8E6hQvszzPY",authDomain:"remento-book-prod.firebaseapp.com",projectId:"remento-book-prod",appId:"1:1081609483368:web:7fbb490839e5ace692f7dd"},app=getApps().length>0?getApp():initializeApp(firebaseConfig),auth=getAuth(app);class LocalMemoryStoreRepository{constructor(){kr(this,"store",new Map)}getItem(et){const tt=this.store.get(et);return tt?JSON.parse(tt):null}setItem(et,tt){this.store.set(et,JSON.stringify(tt))}removeItem(et){this.store.delete(et)}clear(et){if(et){const tt=this.keys(et);for(const rt of tt)this.removeItem(rt)}else this.store.clear()}keys(et){let tt=Object.keys(localStorage);return et&&(tt=tt.filter(rt=>rt.startsWith(et))),tt}entries(et){return this.keys(et).map(rt=>{try{return[rt,this.getItem(rt)]}catch{return[rt,this.store.get(rt)]}}).filter(notNull)}}class LocalPersistentStoreRepository{constructor(et=new Set,tt=[]){kr(this,"logger",createLogger("local-persistent-store-repository"));this.permanentKeys=et,this.permanentKeysPrefixes=tt}getItem(et){const tt=localStorage.getItem(et);try{return tt!==null?JSON.parse(tt):null}catch{return this.setItem(et,tt),tt}}setItem(et,tt){localStorage.setItem(et,JSON.stringify(tt))}removeItem(et){localStorage.removeItem(et)}clear(et){const rt=Object.keys(localStorage).filter(nt=>this.permanentKeys.has(nt)==!1).filter(nt=>this.permanentKeysPrefixes.some(it=>nt.startsWith(it))==!1).filter(nt=>!et||nt.startsWith(et));rt.forEach(nt=>{localStorage.removeItem(nt)}),this.logger.debug("LOCAL_PERSISTENT_STORE.CLEAR",()=>({keys:rt}))}keys(et){let tt=Object.keys(localStorage);return et&&(tt=tt.filter(rt=>rt.startsWith(et))),tt}entries(et){return this.keys(et).map(rt=>{try{return[rt,this.getItem(rt)]}catch{return[rt,localStorage.getItem(rt)]}}).filter(notNull)}}const logger$4=createLogger("local-session-store");class LocalSessionStoreRepository{constructor(et=new Set){this.permanentKeys=et}getItem(et){const tt=sessionStorage.getItem(et);return tt?JSON.parse(tt):null}setItem(et,tt){sessionStorage.setItem(et,JSON.stringify(tt))}removeItem(et){sessionStorage.removeItem(et)}clear(et){const rt=Object.keys(sessionStorage).filter(nt=>!this.permanentKeys.has(nt)).filter(nt=>!et||nt.startsWith(et));rt.forEach(nt=>{sessionStorage.removeItem(nt)}),logger$4.info("CLEAR",()=>({keys:rt}))}keys(et){let tt=Object.keys(sessionStorage);return et&&(tt=tt.filter(rt=>rt.startsWith(et))),tt}entries(et){return this.keys(et).map(rt=>{try{return[rt,this.getItem(rt)]}catch{return[rt,sessionStorage.getItem(rt)]}}).filter(notNull)}}function getLocalStoreKey(_e){return _e.join("/")}const INTERVIEW_SESSION_EXPIRATION_TIME_MS=7*24*60*60*1e3;class LocalInterviewSessionRepository{constructor(et){kr(this,"logger",createLogger("interview-session-repository"));this.localStore=et}createSession(et){this.localStore.setItem(this.getLocalStoreFieldKey(et.sessionId),{...et,nextChunkIndex:0,duration:0,promptSentTimestamp:0,finished:!1,paused:!0}),this.addIndexedSessionId(et.sessionId)}setFinished(et){const tt=this.getInterviewSession(et);if(tt===null)throw new Error("Session not found");this.localStore.setItem(this.getLocalStoreFieldKey(tt.sessionId),{...tt,finished:!0})}setPaused(et,tt){const rt=this.getInterviewSession(et);if(rt===null)throw new Error("Session not found");this.localStore.setItem(this.getLocalStoreFieldKey(rt.sessionId),{...rt,paused:tt})}setNextChunkIndex(et,tt){const rt=this.getInterviewSession(et);if(rt===null)throw new Error("Session not found");this.localStore.setItem(this.getLocalStoreFieldKey(rt.sessionId),{...rt,nextChunkIndex:tt})}setDuration(et,tt){this.logger.debug("SET_DURATION",()=>({sessionId:et,duration:tt}));const rt=this.getInterviewSession(et);if(rt===null)throw new Error("Session not found");this.localStore.setItem(this.getLocalStoreFieldKey(rt.sessionId),{...rt,duration:tt})}setPromptSentTimestamp(et,tt){this.logger.debug("SET_PROMPT_SENT_TIMESTAMP",()=>({sessionId:et,promptSentTimestamp:tt}));const rt=this.getInterviewSession(et);if(rt===null)throw new Error("Session not found");this.localStore.setItem(this.getLocalStoreFieldKey(rt.sessionId),{...rt,promptSentTimestamp:tt})}deleteInterviewSession(et){this.localStore.removeItem(this.getLocalStoreFieldKey(et)),this.deleteIndexedSessionId(et)}getInterviewSession(et){return this.localStore.getItem(this.getLocalStoreFieldKey(et))}getInterviewSessionIds(){return this.getIndexedSessionIds()}getOldInterviewSessions(){return this.getInterviewSessionIds().map(nt=>this.getInterviewSession(nt)).filter(notNull).filter(nt=>nt.nextChunkIndex===void 0||nt.createdAt==null||Date.now()-nt.createdAt>INTERVIEW_SESSION_EXPIRATION_TIME_MS).map(nt=>nt.sessionId)}getIndexedSessionIds(){return this.localStore.getItem(this.getLocalStoreFieldKey("index"))??[]}addIndexedSessionId(et){const tt=new Set(this.getIndexedSessionIds());tt.add(et),this.localStore.setItem(this.getLocalStoreFieldKey("index"),Array.from(tt))}deleteIndexedSessionId(et){const tt=new Set(this.getIndexedSessionIds());tt.delete(et)&&this.localStore.setItem(this.getLocalStoreFieldKey("index"),Array.from(tt))}getLocalStoreFieldKey(et){return getLocalStoreKey(["@remento/interview-session-repository",et])}}class DefaultRecordingSessionService{constructor(et){this.assetService=et}async startUpload(et,tt){await this.assetService.startAssetUpload({id:et,type:AssetType.RECORDING_DATA,entity:{type:EntityType.PROMPT,id:tt}})}async uploadChunk(et,tt,rt){await this.assetService.uploadChunk(et,tt,rt)}async finishUpload(et,tt){await this.assetService.finishAssetUpload(et,{type:AssetAlternativeMetadataType.RECORDING_DATA,promptId:tt})}}var RoutePath=(_e=>(_e.Root="/",_e.InApp="/in-app",_e.Signin="/signin",_e.Signout="/signout",_e.AccountName="/account/name",_e.StoryStandalone="/stories/:storyId",_e.StoryHighlightReel="/stories/:storyId/highlight-reel",_e.Story="/projects/:projectId/stories/:storyId",_e.Stories="/projects/:projectId/stories",_e.ProjectHome="/projects/:projectId/home",_e.Questions="/projects/:projectId/questions",_e.ProjectSettings="/projects/:projectId/settings",_e.StoriesLegacyRedirect="/stories",_e.QuestionsLegacyRedirect="/questions",_e.ProjectSettingsLegacyRedirect="/project-settings",_e.ProjectLegacyRedirect="/projects/:projectId",_e.ProjectHomeRedirect="/projects/home",_e.ProjectStoriesRedirect="/projects/stories",_e.ProjectQuestionsRedirect="/projects/questions",_e.ProjectSettingsRedirect="/projects/settings",_e.ProjectRecordRedirect="/projects/record",_e.AccountSettings="/account/settings",_e.AccountRenewPromo="/account/subscription/renew-promo",_e.AccountReactivate="/account/subscription/reactivate",_e.SubscriptionRenewalSucceeded="/account/subscription/renewal-succeeded",_e.SubscriptionCancelledSurvey="/account/subscription/cancelled-survey",_e.RecordingIntro="/projects/:projectId/prompt/:promptId/record/intro",_e.RecordingTypeSelection="/projects/:projectId/prompt/:promptId/record/select-type",_e.Recording="/projects/:projectId/prompt/:promptId/record",_e.RecordingPromptRecorded="/projects/:projectId/prompt/:promptId/record/prompt-recorded",_e.RecordingPaywall="/projects/:projectId/prompt/:promptId/record/paywall",_e.RecordingRecovery="/recording-recovery",_e.RecordingFinish="/projects/:projectId/record/finish",_e.ProjectRecord="/projects/:projectId/record",_e.ProjectRecordCustomize="/projects/:projectId/record/customize",_e.RecordingTryOut="/recording/try",_e.RecordingPractice="/recording/practice",_e.Checkout="/checkout",_e.CheckoutBiographyAudience="/checkout/biography/audience",_e.CheckoutBiographyContact="/checkout/biography/contact",_e.CheckoutBiographyDelivery="/checkout/biography/delivery",_e.CheckoutBiographyAddons="/checkout/biography/addons",_e.CheckoutBiographyReview="/checkout/biography/review",_e.CheckoutAutobiographyContact="/checkout/autobiography/contact",_e.CheckoutAutobiographyAddons="/checkout/autobiography/addons",_e.CheckoutAutobiographyReview="/checkout/autobiography/review",_e.CheckoutBaby="/checkout/baby",_e.CheckoutBabyAudience="/checkout/baby/audience",_e.CheckoutBabyHost="/checkout/baby/host",_e.CheckoutBabyProject="/checkout/baby/project",_e.CheckoutBabyReview="/checkout/baby/review",_e.CheckoutFreeDetails="/checkout/free/details",_e.CheckoutFreeReview="/checkout/free/review",_e.CheckoutBundle="/checkout/bundle",_e.CheckoutGift="/checkout/gift",_e.CheckoutSurvey="/checkout/survey",_e.CheckoutSuccess="/checkout/success",_e.CheckoutGetStarted="/checkout/get-started",_e.NewProject="/new-project",_e.Onboarding="/onboarding",_e.OnboardingSignin="/onboarding/signin",_e.OnboardingIntro="/onboarding/intro",_e.SetupPromptTypeSelection="/projects/:projectId/setup/prompts/type",_e.SetupTextPromptSelection="/projects/:projectId/setup/prompts/text",_e.SetupPromptsReview="/projects/:projectId/setup/prompts/review",_e.SetupPromptsFrequency="/projects/:projectId/setup/prompts/frequency",_e.SetupPerspective="/projects/:projectId/setup/perspective",_e.SetupCollaborators="/projects/:projectId/setup/collaborators",_e.Welcome="/welcome",_e.Invite="/invite",_e.InviteSignin="/invite/signin",_e.BookOrderCoverDesign="/projects/:projectId/books/:bookId/order/cover-design",_e.BookOrderStories="/projects/:projectId/books/:bookId/order/stories",_e.BookOrderPreview="/projects/:projectId/books/:bookId/order/preview",_e.BookOrderQuantity="/projects/:projectId/books/:bookId/order/quantity",_e.BookOrderFinalize="/projects/:projectId/books/:bookId/order/finalize",_e.BookOrderComplete="/projects/:projectId/book-orders/complete",_e.BookReorderPreview="/projects/:projectId/book-orders/:bookOrderId/preview",_e.BookReorderQuantity="/projects/:projectId/book-orders/:bookOrderId/quantity",_e.BookReorderFinalize="/projects/:projectId/book-orders/:bookOrderId/finalize",_e.Poll="/polls/:pollId",_e.QuestionnaireRoot="/questionnaire",_e.Questionnaire="/questionnaire/:name/:state",_e.TokenRedirect="/token-redirect",_e.DebugDeleteAccount="/debug/delete-account",_e.BookCover="/pdf/book/cover",_e.BookGutsCover="/pdf/book/guts-cover",_e.BookTableOfContents="/pdf/book/table-of-contents",_e.BookStoryContent="/pdf/book/story/content",_e.GiftCard="/pdf/gift-card",_e.LegacyCheckoutAudience="/checkout/audience",_e.LegacySeriesSettings="/series-settings/:personId",_e.LegacySeriesSettingsRedirect="/series-settings",_e.LegacyStoryStandalone="/stories/:personId/story/:storyId",_e.LegacyStory="/stories/:personId/story-view/:storyId",_e.LegacyQuestions="/questions/:personId",_e.LegacyRecordingIntro="/series/:projectId/prompt/:promptId/record/intro",_e.LegacyRecordingTypeSelection="/series/:projectId/prompt/:promptId/record/select-type",_e.LegacyRecording="/series/:projectId/prompt/:promptId/record",_e.LegacyRecordingPromptRecorded="/series/:projectId/prompt/:promptId/record/prompt-recorded",_e.LegacyAccountSettings="/account-settings",_e.BrokenEmailRecovery_Question="/project/:projectId/questions",_e))(RoutePath||{});class PageRedirect extends Error{constructor(et,tt){super(`Redirecting to ${et}`),this.path=et,this.params=tt}}class PageNotFoundRedirect extends PageRedirect{constructor(){super("/not-found")}}class PageErrorRedirect extends PageRedirect{constructor(){super("/error")}}class SignInPageRedirect extends PageRedirect{constructor(et,tt){const rt=new URLSearchParams,nt=tt.get("default-signin-email")??tt.get("fallback-signin-email");nt!==null&&rt.set("default-signin-email",nt),super("/signin",rt),this.redirectPath=et,this.redirectParams=tt}}const isDate$1=_e=>_e instanceof Date,isEmpty=_e=>Object.keys(_e).length===0,isObject$5=_e=>_e!=null&&typeof _e=="object",hasOwnProperty$5=(_e,...et)=>Object.prototype.hasOwnProperty.call(_e,...et),isEmptyObject=_e=>isObject$5(_e)&&isEmpty(_e),makeObjectWithoutPrototype=()=>Object.create(null),diff$1=(_e,et)=>{if(_e===et)return{};if(!isObject$5(_e)||!isObject$5(et))return et;const tt=Object.keys(_e).reduce((rt,nt)=>(hasOwnProperty$5(et,nt)||(rt[nt]=void 0),rt),makeObjectWithoutPrototype());return isDate$1(_e)||isDate$1(et)?_e.valueOf()==et.valueOf()?{}:et:Object.keys(et).reduce((rt,nt)=>{if(!hasOwnProperty$5(_e,nt))return rt[nt]=et[nt],rt;const it=diff$1(_e[nt],et[nt]);return isEmptyObject(it)&&!isDate$1(it)&&(isEmptyObject(_e[nt])||!isEmptyObject(et[nt]))||(rt[nt]=it),rt},tt)};var isArray$4=Array.isArray,isArray_1=isArray$4,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$3=freeGlobal||freeSelf||Function("return this")(),_root=root$3,root$2=_root,Symbol$4=root$2.Symbol,_Symbol=Symbol$4,Symbol$3=_Symbol,objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty,nativeObjectToString$1=objectProto$4.toString,symToStringTag$1=Symbol$3?Symbol$3.toStringTag:void 0;function getRawTag$1(_e){var et=hasOwnProperty$4.call(_e,symToStringTag$1),tt=_e[symToStringTag$1];try{_e[symToStringTag$1]=void 0;var rt=!0}catch{}var nt=nativeObjectToString$1.call(_e);return rt&&(et?_e[symToStringTag$1]=tt:delete _e[symToStringTag$1]),nt}var _getRawTag=getRawTag$1,objectProto$3=Object.prototype,nativeObjectToString=objectProto$3.toString;function objectToString$1(_e){return nativeObjectToString.call(_e)}var _objectToString=objectToString$1,Symbol$2=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag$2(_e){return _e==null?_e===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(_e)?getRawTag(_e):objectToString(_e)}var _baseGetTag=baseGetTag$2;function isObjectLike$1(_e){return _e!=null&&typeof _e=="object"}var isObjectLike_1=isObjectLike$1,baseGetTag$1=_baseGetTag,isObjectLike=isObjectLike_1,symbolTag="[object Symbol]";function isSymbol$3(_e){return typeof _e=="symbol"||isObjectLike(_e)&&baseGetTag$1(_e)==symbolTag}var isSymbol_1=isSymbol$3,isArray$3=isArray_1,isSymbol$2=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$1(_e,et){if(isArray$3(_e))return!1;var tt=typeof _e;return tt=="number"||tt=="symbol"||tt=="boolean"||_e==null||isSymbol$2(_e)?!0:reIsPlainProp.test(_e)||!reIsDeepProp.test(_e)||et!=null&&_e in Object(et)}var _isKey=isKey$1;function isObject$4(_e){var et=typeof _e;return _e!=null&&(et=="object"||et=="function")}var isObject_1=isObject$4,baseGetTag=_baseGetTag,isObject$3=isObject_1,asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(_e){if(!isObject$3(_e))return!1;var et=baseGetTag(_e);return et==funcTag||et==genTag||et==asyncTag||et==proxyTag}var isFunction_1=isFunction$2,root$1=_root,coreJsData$1=root$1["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var _e=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return _e?"Symbol(src)_1."+_e:""}();function isMasked$1(_e){return!!maskSrcKey&&maskSrcKey in _e}var _isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource$1(_e){if(_e!=null){try{return funcToString$1.call(_e)}catch{}try{return _e+""}catch{}}return""}var _toSource=toSource$1,isFunction$1=isFunction_1,isMasked=_isMasked,isObject$2=isObject_1,toSource=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$2=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$3=objectProto$2.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$3).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(_e){if(!isObject$2(_e)||isMasked(_e))return!1;var et=isFunction$1(_e)?reIsNative:reIsHostCtor;return et.test(toSource(_e))}var _baseIsNative=baseIsNative$1;function getValue$1(_e,et){return _e==null?void 0:_e[et]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$2(_e,et){var tt=getValue(_e,et);return baseIsNative(tt)?tt:void 0}var _getNative=getNative$2,getNative$1=_getNative,nativeCreate$4=getNative$1(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(_e){var et=this.has(_e)&&delete this.__data__[_e];return this.size-=et?1:0,et}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function hashGet$1(_e){var et=this.__data__;if(nativeCreate$2){var tt=et[_e];return tt===HASH_UNDEFINED$1?void 0:tt}return hasOwnProperty$2.call(et,_e)?et[_e]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty;function hashHas$1(_e){var et=this.__data__;return nativeCreate$1?et[_e]!==void 0:hasOwnProperty$1.call(et,_e)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet$1(_e,et){var tt=this.__data__;return this.size+=this.has(_e)?0:1,tt[_e]=nativeCreate&&et===void 0?HASH_UNDEFINED:et,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(_e){var et=-1,tt=_e==null?0:_e.length;for(this.clear();++et<tt;){var rt=_e[et];this.set(rt[0],rt[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$1(_e,et){return _e===et||_e!==_e&&et!==et}var eq_1=eq$1,eq=eq_1;function assocIndexOf$4(_e,et){for(var tt=_e.length;tt--;)if(eq(_e[tt][0],et))return tt;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(_e){var et=this.__data__,tt=assocIndexOf$3(et,_e);if(tt<0)return!1;var rt=et.length-1;return tt==rt?et.pop():splice.call(et,tt,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(_e){var et=this.__data__,tt=assocIndexOf$2(et,_e);return tt<0?void 0:et[tt][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(_e){return assocIndexOf$1(this.__data__,_e)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(_e,et){var tt=this.__data__,rt=assocIndexOf(tt,_e);return rt<0?(++this.size,tt.push([_e,et])):tt[rt][1]=et,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$1(_e){var et=-1,tt=_e==null?0:_e.length;for(this.clear();++et<tt;){var rt=_e[et];this.set(rt[0],rt[1])}}ListCache$1.prototype.clear=listCacheClear;ListCache$1.prototype.delete=listCacheDelete;ListCache$1.prototype.get=listCacheGet;ListCache$1.prototype.has=listCacheHas;ListCache$1.prototype.set=listCacheSet;var _ListCache=ListCache$1,getNative=_getNative,root=_root,Map$2=getNative(root,"Map"),_Map=Map$2,Hash=_Hash,ListCache=_ListCache,Map$1=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(_e){var et=typeof _e;return et=="string"||et=="number"||et=="symbol"||et=="boolean"?_e!=="__proto__":_e===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(_e,et){var tt=_e.__data__;return isKeyable(et)?tt[typeof et=="string"?"string":"hash"]:tt.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(_e){var et=getMapData$3(this,_e).delete(_e);return this.size-=et?1:0,et}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(_e){return getMapData$2(this,_e).get(_e)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(_e){return getMapData$1(this,_e).has(_e)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(_e,et){var tt=getMapData(this,_e),rt=tt.size;return tt.set(_e,et),this.size+=tt.size==rt?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$1(_e){var et=-1,tt=_e==null?0:_e.length;for(this.clear();++et<tt;){var rt=_e[et];this.set(rt[0],rt[1])}}MapCache$1.prototype.clear=mapCacheClear;MapCache$1.prototype.delete=mapCacheDelete;MapCache$1.prototype.get=mapCacheGet;MapCache$1.prototype.has=mapCacheHas;MapCache$1.prototype.set=mapCacheSet;var _MapCache=MapCache$1,MapCache=_MapCache,FUNC_ERROR_TEXT="Expected a function";function memoize$1(_e,et){if(typeof _e!="function"||et!=null&&typeof et!="function")throw new TypeError(FUNC_ERROR_TEXT);var tt=function(){var rt=arguments,nt=et?et.apply(this,rt):rt[0],it=tt.cache;if(it.has(nt))return it.get(nt);var at=_e.apply(this,rt);return tt.cache=it.set(nt,at)||it,at};return tt.cache=new(memoize$1.Cache||MapCache),tt}memoize$1.Cache=MapCache;var memoize_1=memoize$1,memoize=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(_e){var et=memoize(_e,function(rt){return tt.size===MAX_MEMOIZE_SIZE&&tt.clear(),rt}),tt=et.cache;return et}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(_e){var et=[];return _e.charCodeAt(0)===46&&et.push(""),_e.replace(rePropName,function(tt,rt,nt,it){et.push(nt?it.replace(reEscapeChar,"$1"):rt||tt)}),et}),_stringToPath=stringToPath$1;function arrayMap$1(_e,et){for(var tt=-1,rt=_e==null?0:_e.length,nt=Array(rt);++tt<rt;)nt[tt]=et(_e[tt],tt,_e);return nt}var _arrayMap=arrayMap$1,Symbol$1=_Symbol,arrayMap=_arrayMap,isArray$2=isArray_1,isSymbol$1=isSymbol_1,INFINITY$1=1/0,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString$1(_e){if(typeof _e=="string")return _e;if(isArray$2(_e))return arrayMap(_e,baseToString$1)+"";if(isSymbol$1(_e))return symbolToString?symbolToString.call(_e):"";var et=_e+"";return et=="0"&&1/_e==-INFINITY$1?"-0":et}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$2(_e){return _e==null?"":baseToString(_e)}var toString_1=toString$2,isArray$1=isArray_1,isKey=_isKey,stringToPath=_stringToPath,toString$1=toString_1;function castPath$1(_e,et){return isArray$1(_e)?_e:isKey(_e,et)?[_e]:stringToPath(toString$1(_e))}var _castPath=castPath$1,isSymbol=isSymbol_1,INFINITY=1/0;function toKey$1(_e){if(typeof _e=="string"||isSymbol(_e))return _e;var et=_e+"";return et=="0"&&1/_e==-INFINITY?"-0":et}var _toKey=toKey$1,castPath=_castPath,toKey=_toKey;function baseGet$1(_e,et){et=castPath(et,_e);for(var tt=0,rt=et.length;_e!=null&&tt<rt;)_e=_e[toKey(et[tt++])];return tt&&tt==rt?_e:void 0}var _baseGet=baseGet$1,baseGet=_baseGet;function get(_e,et,tt){var rt=_e==null?void 0:baseGet(_e,et);return rt===void 0?tt:rt}var get_1=get;const get$1=getDefaultExportFromCjs(get_1);function equalityCompare(_e,et){return _e===et}function shallowCompare(_e,et){if(_e===et)return!0;if(!(_e instanceof Object)||!(et instanceof Object))return!1;const tt=Object.keys(_e),rt=tt.length;for(let nt=0;nt<rt;nt++)if(!(tt[nt]in et))return!1;for(let nt=0;nt<rt;nt++)if(_e[tt[nt]]!==et[tt[nt]])return!1;return rt===Object.keys(et).length}function create(_e){return{state:_e,subscribers:new Set,delayedSubscribers:new Set,pendingUpdate:!1}}function setState(_e,et){const tt=_e.state,rt=typeof et=="function"?et(tt):et;tt!==rt&&(_e.state=rt,_e.subscribers.forEach(nt=>nt(rt,tt)),!_e.pendingUpdate&&(_e.pendingUpdate=!0,setTimeout(()=>{const nt=_e.state;_e.pendingUpdate=!1,_e.delayedSubscribers.forEach(it=>it(nt,tt))},0)))}function getState(_e){return _e.state}function subscribe(_e,et,tt=!1){const rt=tt?_e.delayedSubscribers:_e.subscribers;return rt.add(et),()=>rt.delete(et)}function selector(_e,et,tt=equalityCompare){return(rt,nt)=>{const it=_e(rt),at=_e(nt);tt(it,at)||et(it,at)}}function subscribeSelector(_e,et,tt,rt=!1,nt=equalityCompare){return subscribe(_e,selector(tt,et,nt),rt)}function useStoreSelector(_e,et,tt=!1,rt=equalityCompare){const nt=reactExports.useCallback(at=>subscribe(_e,at,tt),[_e]),it=reactExports.useCallback(()=>getState(_e),[_e]);return withSelectorExports.useSyncExternalStoreWithSelector(nt,it,it,et,rt)}let InputError$1=class extends Error{constructor(et,tt,rt="custom"){super(tt),this.id=et,this.type=rt}};class FormInputError extends InputError$1{constructor(et,tt,rt,nt="custom"){super(`${tt}.${nt}`,rt,nt),this.form=et,this.path=tt}}function isInputValue(_e){if(_e==null)return!0;switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return!0;case"function":case"symbol":case"bigint":return!1;case"object":return _e instanceof FileList||_e instanceof Set}}function isObject$1(_e){return _e!=null&&typeof _e=="object"&&!Array.isArray(_e)}function getObjectId(_e){if(!isObject$1(_e))return null;const et=_e.id;return typeof et=="string"||typeof et=="number"?et:null}function mergeArrays(_e,et){if(et==null||!Array.isArray(et))return et;const tt=_e.reduce((nt,it)=>{const at=getObjectId(it);return at==null?nt:nt.set(at,it)},new Map),rt=et.map(nt=>{const it=getObjectId(nt);if(it==null||nt==null)return nt;const at=tt.get(it);return at==null?nt:merge(at,nt)});if(_e.length!==et.length)return rt;for(let nt=0;nt<rt.length;nt++)if(_e[nt]!==rt[nt])return rt;return _e}function mergeObjects(_e,et){const tt={},rt=[];if(Object.keys(et).forEach(it=>{const at=it,ot=_e[at],st=et[at];if(ot==null){tt[at]=st;return}if(st===void 0){rt.push(at);return}const lt=merge(ot,st);ot!=lt&&(tt[at]=lt)}),Object.keys(tt).length==0&&rt.length==0)return _e;const nt={..._e,...tt};return rt.forEach(it=>{delete nt[it]}),nt}function merge(_e,et){if(_e===et)return _e;if(isInputValue(_e)||isInputValue(et))return et;if(Array.isArray(_e)&&Array.isArray(et))return mergeArrays(_e,et);if(!Array.isArray(_e)&&isObject$1(_e)&&isObject$1(et))return mergeObjects(_e,et);throw new Error("Congratulation, you reached unreachable code while merging")}function getParentPaths(_e){const et=_e.split(".");return et.pop(),et.map((tt,rt)=>et.slice(0,rt+1).join("."))}function parsePropertyPath(_e){try{const et=parseInt(_e);return isNaN(et)?_e:et}catch{return _e}}function createParentPropertyType(_e){return typeof _e=="string"?{}:[]}function cloneParent(_e){return Array.isArray(_e)?[..._e]:{..._e}}function set$1(_e,et,tt){const rt=et.split(".").map(parsePropertyPath);if(rt.length===0)throw new Error("No path parts provided");const nt=_e==null?createParentPropertyType(rt[0]):cloneParent(_e);let it=nt,at=_e==null;for(let ot=0;ot<rt.length;ot++){const st=rt[ot];if(ot===rt.length-1){if(it[st]===tt)break;it[st]=tt,at=!0}else it[st]==null?(it[st]=createParentPropertyType(rt[ot+1]),at=!0):it[st]=cloneParent(it[st]),it=it[st]}return at?nt:_e}function useBaseInput(_e,et){const tt=reactExports.useMemo(()=>getParentPaths(et),[et]),rt=reactExports.useCallback(at=>{setState(_e.store,ot=>{const st={},lt=ot.inputs[et];return st[et]={isDirty:(lt==null?void 0:lt.isDirty)===void 0?!1:lt.isDirty,isTouched:(lt==null?void 0:lt.isTouched)===void 0?!1:lt.isTouched,value:at===void 0?lt==null?void 0:lt.value:at,errors:null,isValid:null},tt.forEach(ct=>{const ut=ot.inputs[ct];st[ct]={...ut,isDirty:(ut==null?void 0:ut.isDirty)===void 0?!1:ut.isDirty,isTouched:(ut==null?void 0:ut.isTouched)===void 0?!1:ut.isTouched}}),merge(ot,{inputs:st,inputsValue:set$1(ot.inputsValue,et,at)})}),at!==void 0&&_e.validate().catch(()=>null)},[_e,et,tt]),nt=reactExports.useCallback(at=>{setState(_e.store,ot=>{const st={},lt=ot.inputs[et];return st[et]={...lt,isDirty:!0,value:at},tt.forEach(ct=>{const ut=ot.inputs[ct];st[ct]={...ut,isDirty:!0}}),merge(ot,{inputs:st,isDirty:!0,inputsValue:set$1(ot.inputsValue,et,at)})}),_e.validation.mode==="onChange"&&_e.validate().catch(()=>null)},[_e,et,tt]),it=reactExports.useCallback(()=>{setState(_e.store,at=>{const ot={},st=at.inputs[et];return ot[et]={...st,isTouched:!0},tt.forEach(lt=>{const ct=at.inputs[lt];ot[lt]={...ct,isTouched:!0}}),merge(at,{inputs:ot,isTouched:!0})}),_e.validation.mode=="onBlur"&&_e.validate().catch(()=>null)},[_e,et,tt]);return{onInitialize:rt,onBlur:it,onChange:nt}}function useControlledInputProps(_e,et){const{onInitialize:tt,onBlur:rt,onChange:nt}=useBaseInput(_e,et);return reactExports.useEffect(()=>{const it=getState(_e.store).inputs[et],at=it==null?void 0:it.value;if(at!=null){tt(at);return}const ot=get$1(_e.defaultValues,et);if(ot!=null){tt(ot);return}tt()},[_e,et,tt]),{onBlur:rt,onChange:nt}}function useInputProps(_e,et){const tt=reactExports.useRef(),{onInitialize:rt,onBlur:nt,onChange:it}=useBaseInput(_e,et);reactExports.useEffect(()=>subscribe(_e.store,st=>{const lt=tt.current,ct=st.inputs[et];lt==null||ct==null||lt.value==ct.value||(lt.value=ct.value!=null?`${ct.value}`:"")}),[_e,et]);const at=reactExports.useCallback(st=>{if(tt.current=st,st==null)return;const lt=getState(_e.store).inputs[et],ct=lt==null?void 0:lt.value;if(ct!=null){st.value=`${ct}`,rt(ct);return}const ut=get$1(_e.defaultValues,et);if(ut!=null){st.value=`${ut}`,rt(ut);return}rt(st.value)},[_e,et,rt]),ot=reactExports.useCallback(st=>{it(st.target.value)},[it]);return{ref:at,onBlur:nt,onChange:ot}}function setInputError(_e,et,tt){setState(_e.store,rt=>merge(rt,{isValid:!1,inputs:{[et]:{errors:[tt]}}}))}function setInputValue(_e,et,tt,rt){if(tt!=null)if(isInputValue(tt)){if(et==null)throw new Error("The root object is expected to be an array of object");const nt=et;setState(_e.store,it=>merge(it,{inputs:{[nt]:{value:tt}},inputsValue:set$1(it.inputsValue,et,tt)})),_e.validation.mode==="onChange"&&_e.validate().catch(()=>null)}else Array.isArray(tt)?tt.forEach((nt,it)=>{const at=et!==null?`${et}.${it}`:String(it);setInputValue(_e,at,nt)}):Object.entries(tt).forEach(([nt,it])=>{const at=et!==null?`${et}.${nt}`:nt;setInputValue(_e,at,it)})}function setInputValues(_e,et,tt){return setInputValue(_e,null,et)}const _getInputState=(_e,et)=>{const tt=getState(_e.store).inputs[et];return{isDirty:(tt==null?void 0:tt.isDirty)??!1,isTouched:(tt==null?void 0:tt.isTouched)??!1,isValid:(tt==null?void 0:tt.isValid)??null,errors:(tt==null?void 0:tt.errors)??null,value:(tt==null?void 0:tt.value)??get$1(_e.defaultValues,et)??null}},getInputState=(_e,et)=>_getInputState(_e,et),useInputState=(_e,et)=>useStoreSelector(_e.store,()=>_getInputState(_e,et),!0,shallowCompare),_getInputValueFromState=(_e,et,tt)=>{var rt,nt;return((nt=(rt=et.inputs)==null?void 0:rt[tt])==null?void 0:nt.value)??get$1(_e.defaultValues,tt)??null},_getInputValue=(_e,et)=>_getInputValueFromState(_e,getState(_e.store),et),getInputValue=(_e,et)=>_getInputValue(_e,et),getInputValueOrThrow=(_e,et)=>{const tt=getInputValue(_e,et);if(tt==null)throw new Error(`Missing ${et} from form value`);return tt},watchInputValue=(_e,et,tt)=>subscribeSelector(_e.store,tt,rt=>_getInputValueFromState(_e,rt,et),!0),useInputValue=(_e,et,tt=!1)=>useStoreSelector(_e.store,()=>_getInputValue(_e,et),!tt);function shouldDisplayError(_e,et,tt){const rt=et.inputs[tt];switch(_e.validation.display){case"onDirty":return(rt==null?void 0:rt.isDirty)===!0||(rt==null?void 0:rt.isTouched)===!0||et.isSubmitted;case"onTouched":return(rt==null?void 0:rt.isTouched)===!0||et.isSubmitted;case"onSubmitted":return et.isSubmitted;default:return!1}}const _getInputValidation=(_e,et,tt)=>{const rt=et.inputs[tt];return{displayError:shouldDisplayError(_e,et,tt),isValid:(rt==null?void 0:rt.isValid)??null,errors:(rt==null?void 0:rt.errors)??null}},getInputValidation=(_e,et)=>_getInputValidation(_e,getState(_e.store),et),watchInputValidation=(_e,et,tt,rt=!0)=>subscribeSelector(_e.store,tt,nt=>_getInputValidation(_e,nt,et),rt,shallowCompare),useInputValidation=(_e,et)=>useStoreSelector(_e.store,tt=>_getInputValidation(_e,tt,et),!0,shallowCompare),_getInputInteraction=(_e,et)=>{const tt=_e.inputs[et];return{isDirty:(tt==null?void 0:tt.isDirty)??!1,isTouched:(tt==null?void 0:tt.isTouched)??!1}},getInputInteraction=(_e,et)=>_getInputInteraction(getState(_e.store),et),useInputInteraction=(_e,et)=>useStoreSelector(_e.store,tt=>_getInputInteraction(tt,et),!0,shallowCompare);function debounceAsync(_e,et=0){let tt=null,rt=[];return async()=>new Promise((nt,it)=>{rt.push((at,ot)=>{ot||at==null?it(ot):nt(at)}),tt!==null&&clearTimeout(tt),tt=setTimeout(()=>{const at=rt;rt=[],tt=null;const ot=(st,lt)=>{at.forEach(ct=>ct(st,lt))};_e(at.length).then(st=>ot(st)).catch(st=>ot(null,st))},et)})}function getZodObjectPaths(_e){return _e instanceof z$1.ZodNullable||_e instanceof z$1.ZodOptional?getZodObjectPaths(_e.unwrap()):_e instanceof z$1.ZodArray?getZodObjectPaths(_e.element):_e instanceof z$1.ZodObject?Object.entries(_e.shape).flatMap(([tt,rt])=>{const nt=rt instanceof z$1.ZodType?getZodObjectPaths(rt).map(it=>`${tt}.${it}`):[];return[tt,...nt]}):[]}function validate(_e,et,tt){const{inputsValue:rt}=getState(_e);tt&&(console.groupCollapsed("[FORM-VALIDATION] Validating"),console.log(JSON.stringify(rt,null,2)),console.groupEnd()),setState(_e,at=>({...at,pendingValidationCount:at.pendingValidationCount+1}));const nt=at=>(setState(_e,ot=>({...ot,isValid:void 0,pendingValidationCount:ot.pendingValidationCount-1})),console.error("[FORM] Validation failure",at),at),it=at=>{const ot={};for(const st of Object.keys(at.inputs)){const lt=at.inputs[st];ot[st]={...lt,isValid:!0,errors:null}}return ot};return et.parseAsync(rt).then(at=>(tt&&(console.groupCollapsed("[FORM-VALIDATION] Valid"),console.log(JSON.stringify(at,null,2)),console.groupEnd()),setState(_e,ot=>merge(ot,{isValid:!0,value:at,inputs:it(ot),pendingValidationCount:ot.pendingValidationCount-1})),{value:at,isValid:!0})).catch(at=>{if(!(at instanceof ZodError))throw nt(at);tt&&(console.groupCollapsed("[FORM-VALIDATION] Invalid"),console.log(JSON.stringify(at.issues,null,2)),console.groupEnd());try{const ot=at.issues.reduce((st,lt)=>{const ct=lt.path.join("."),ut=getParentPaths(ct);return[ct,...ut].forEach(dt=>{let ft=st.get(dt);ft==null&&(ft=[],st.set(dt,ft)),ft.push({id:`${ct}:${lt.code}`,type:lt.code,message:lt.message})}),st},new Map);return setState(_e,st=>{const lt=it(st);return Array.from(ot.entries()).map(([ct,ut])=>{const dt=st.inputs[ct];lt[ct]={...dt,isValid:!1,errors:ut}}),merge(st,{inputs:lt,value:null,isValid:at.issues.length==0,pendingValidationCount:st.pendingValidationCount-1})}),{value:rt,isValid:!1,errors:at.issues}}catch(ot){throw nt(ot)}})}function logState(_e,et,tt){const rt=_e.toString().padStart(3," ");if(et===tt){console.log(`${rt}: [FORM] State unchanged`);return}console.groupCollapsed(`${rt}: [FORM] State change`),console.group("[DIFF]"),console.log(JSON.stringify(diff$1(tt,et),null,2)),console.groupEnd(),console.groupCollapsed("[CURRENT]"),console.log(JSON.stringify(et,null,2)),console.groupEnd(),console.groupCollapsed("[PREVIOUS]"),console.log(JSON.stringify(tt,null,2)),console.groupEnd(),console.groupEnd()}function createForm({defaultValues:_e,validation:{display:et,mode:tt},schema:rt,debug:nt}){const it={},at=getZodObjectPaths(rt);for(const lt of at)it[lt]={isValid:null,errors:null,isDirty:!1,isTouched:!1};const ot=create({inputs:it,inputsValue:_e??null,value:null,isSubmitted:!1,pendingSubmitCount:0,isValid:void 0,isDirty:!1,isTouched:!1,pendingValidationCount:0}),st=debounceAsync(()=>validate(ot,rt,nt!=null));if(rt!=null&&_e!=null&&st().catch(()=>null),nt){let lt=0;subscribe(ot,(ct,ut)=>logState(lt++,ct,ut),nt==="delayed")}return{defaultValues:_e,store:ot,validation:{mode:tt??"onSubmit",display:et??"onSubmitted"},validate:st}}function resetForm(_e){setState(_e.store,et=>{const tt=Object.keys(et.inputs).reduce((rt,nt)=>{const it=nt,at=et.inputs[it];return rt[it]={...at,isValid:null,errors:null,isDirty:!1,isTouched:!1,value:at!=null&&at.value!=null?get$1(_e.defaultValues,it):void 0},rt},{});return{...et,inputs:tt,inputsValue:_e.defaultValues??null,value:null,isValid:void 0,isSubmitted:!1,isDirty:!1,isTouched:!1}}),_e.validate().catch(()=>null)}async function submitForm(_e,et,tt){setState(_e.store,it=>({...it,pendingSubmitCount:it.pendingSubmitCount+1}));let rt=null,nt;try{const it=await _e.validate();it.isValid&&(rt=it.value)}catch(it){if(nt=it,it instanceof FormInputError){const at=it;setInputError(_e,at.path,{id:`${at.path}:${at.type}`,type:at.type,message:at.message})}setState(_e.store,at=>({...at,isValid:!1}))}try{rt!==null?await et(rt):await(tt==null?void 0:tt(nt))}finally{setState(_e.store,it=>({...it,isSubmitted:!0,pendingSubmitCount:it.pendingSubmitCount-1}))}}const _getFormValue=_e=>_e.value,getFormValue=_e=>_getFormValue(getState(_e.store)),useFormValue=_e=>useStoreSelector(_e.store,_getFormValue,!0),_getFormInputsValue=_e=>_e.inputsValue,watchFormInputsValue=(_e,et)=>subscribeSelector(_e.store,et,_getFormInputsValue,!0),_isFormValidating=_e=>_e.pendingValidationCount>0,isFormValidating=_e=>_isFormValidating(getState(_e.store)),watchIsFormValidating=(_e,et)=>subscribeSelector(_e.store,et,_isFormValidating,!0),_isFormValid=_e=>_e.isValid,isFormValid=_e=>_isFormValid(getState(_e.store)),subscribeIsFormValid=(_e,et)=>subscribeSelector(_e.store,et,_isFormValid,!0),useIsFormValid=_e=>useStoreSelector(_e.store,_isFormValid,!0),_isFormSubmitting=_e=>_e.pendingSubmitCount>0,useIsFormSubmitting=_e=>useStoreSelector(_e.store,_isFormSubmitting,!0),_isFormDirty=_e=>_e.isDirty,isFormDirty=_e=>_isFormDirty(getState(_e.store)),subscribeIsFormDirty=(_e,et)=>subscribeSelector(_e.store,et,_isFormDirty,!0);var luxon$1={};Object.defineProperty(luxon$1,"__esModule",{value:!0});class LuxonError extends Error{}class InvalidDateTimeError extends LuxonError{constructor(et){super(`Invalid DateTime: ${et.toMessage()}`)}}class InvalidIntervalError extends LuxonError{constructor(et){super(`Invalid Interval: ${et.toMessage()}`)}}class InvalidDurationError extends LuxonError{constructor(et){super(`Invalid Duration: ${et.toMessage()}`)}}class ConflictingSpecificationError extends LuxonError{}class InvalidUnitError extends LuxonError{constructor(et){super(`Invalid unit ${et}`)}}class InvalidArgumentError extends LuxonError{}class ZoneIsAbstractError extends LuxonError{constructor(){super("Zone is an abstract class")}}const n="numeric",s="short",l="long",DATE_SHORT={year:n,month:n,day:n},DATE_MED={year:n,month:s,day:n},DATE_MED_WITH_WEEKDAY={year:n,month:s,day:n,weekday:s},DATE_FULL={year:n,month:l,day:n},DATE_HUGE={year:n,month:l,day:n,weekday:l},TIME_SIMPLE={hour:n,minute:n},TIME_WITH_SECONDS={hour:n,minute:n,second:n},TIME_WITH_SHORT_OFFSET={hour:n,minute:n,second:n,timeZoneName:s},TIME_WITH_LONG_OFFSET={hour:n,minute:n,second:n,timeZoneName:l},TIME_24_SIMPLE={hour:n,minute:n,hourCycle:"h23"},TIME_24_WITH_SECONDS={hour:n,minute:n,second:n,hourCycle:"h23"},TIME_24_WITH_SHORT_OFFSET={hour:n,minute:n,second:n,hourCycle:"h23",timeZoneName:s},TIME_24_WITH_LONG_OFFSET={hour:n,minute:n,second:n,hourCycle:"h23",timeZoneName:l},DATETIME_SHORT={year:n,month:n,day:n,hour:n,minute:n},DATETIME_SHORT_WITH_SECONDS={year:n,month:n,day:n,hour:n,minute:n,second:n},DATETIME_MED={year:n,month:s,day:n,hour:n,minute:n},DATETIME_MED_WITH_SECONDS={year:n,month:s,day:n,hour:n,minute:n,second:n},DATETIME_MED_WITH_WEEKDAY={year:n,month:s,day:n,weekday:s,hour:n,minute:n},DATETIME_FULL={year:n,month:l,day:n,hour:n,minute:n,timeZoneName:s},DATETIME_FULL_WITH_SECONDS={year:n,month:l,day:n,hour:n,minute:n,second:n,timeZoneName:s},DATETIME_HUGE={year:n,month:l,day:n,weekday:l,hour:n,minute:n,timeZoneName:l},DATETIME_HUGE_WITH_SECONDS={year:n,month:l,day:n,weekday:l,hour:n,minute:n,second:n,timeZoneName:l};class Zone{get type(){throw new ZoneIsAbstractError}get name(){throw new ZoneIsAbstractError}get ianaName(){return this.name}get isUniversal(){throw new ZoneIsAbstractError}offsetName(et,tt){throw new ZoneIsAbstractError}formatOffset(et,tt){throw new ZoneIsAbstractError}offset(et){throw new ZoneIsAbstractError}equals(et){throw new ZoneIsAbstractError}get isValid(){throw new ZoneIsAbstractError}}let singleton$1=null;class SystemZone extends Zone{static get instance(){return singleton$1===null&&(singleton$1=new SystemZone),singleton$1}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(et,{format:tt,locale:rt}){return parseZoneInfo(et,tt,rt)}formatOffset(et,tt){return formatOffset(this.offset(et),tt)}offset(et){return-new Date(et).getTimezoneOffset()}equals(et){return et.type==="system"}get isValid(){return!0}}let dtfCache={};function makeDTF(_e){return dtfCache[_e]||(dtfCache[_e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:_e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),dtfCache[_e]}const typeToPos={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function hackyOffset(_e,et){const tt=_e.format(et).replace(/\u200E/g,""),rt=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(tt),[,nt,it,at,ot,st,lt,ct]=rt;return[at,nt,it,ot,st,lt,ct]}function partsOffset(_e,et){const tt=_e.formatToParts(et),rt=[];for(let nt=0;nt<tt.length;nt++){const{type:it,value:at}=tt[nt],ot=typeToPos[it];it==="era"?rt[ot]=at:isUndefined(ot)||(rt[ot]=parseInt(at,10))}return rt}let ianaZoneCache={};class IANAZone extends Zone{static create(et){return ianaZoneCache[et]||(ianaZoneCache[et]=new IANAZone(et)),ianaZoneCache[et]}static resetCache(){ianaZoneCache={},dtfCache={}}static isValidSpecifier(et){return this.isValidZone(et)}static isValidZone(et){if(!et)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:et}).format(),!0}catch{return!1}}constructor(et){super(),this.zoneName=et,this.valid=IANAZone.isValidZone(et)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(et,{format:tt,locale:rt}){return parseZoneInfo(et,tt,rt,this.name)}formatOffset(et,tt){return formatOffset(this.offset(et),tt)}offset(et){const tt=new Date(et);if(isNaN(tt))return NaN;const rt=makeDTF(this.name);let[nt,it,at,ot,st,lt,ct]=rt.formatToParts?partsOffset(rt,tt):hackyOffset(rt,tt);ot==="BC"&&(nt=-Math.abs(nt)+1);const dt=objToLocalTS({year:nt,month:it,day:at,hour:st===24?0:st,minute:lt,second:ct,millisecond:0});let ft=+tt;const pt=ft%1e3;return ft-=pt>=0?pt:1e3+pt,(dt-ft)/(60*1e3)}equals(et){return et.type==="iana"&&et.name===this.name}get isValid(){return this.valid}}let intlLFCache={};function getCachedLF(_e,et={}){const tt=JSON.stringify([_e,et]);let rt=intlLFCache[tt];return rt||(rt=new Intl.ListFormat(_e,et),intlLFCache[tt]=rt),rt}let intlDTCache={};function getCachedDTF(_e,et={}){const tt=JSON.stringify([_e,et]);let rt=intlDTCache[tt];return rt||(rt=new Intl.DateTimeFormat(_e,et),intlDTCache[tt]=rt),rt}let intlNumCache={};function getCachedINF(_e,et={}){const tt=JSON.stringify([_e,et]);let rt=intlNumCache[tt];return rt||(rt=new Intl.NumberFormat(_e,et),intlNumCache[tt]=rt),rt}let intlRelCache={};function getCachedRTF(_e,et={}){const{base:tt,...rt}=et,nt=JSON.stringify([_e,rt]);let it=intlRelCache[nt];return it||(it=new Intl.RelativeTimeFormat(_e,et),intlRelCache[nt]=it),it}let sysLocaleCache=null;function systemLocale(){return sysLocaleCache||(sysLocaleCache=new Intl.DateTimeFormat().resolvedOptions().locale,sysLocaleCache)}let weekInfoCache={};function getCachedWeekInfo(_e){let et=weekInfoCache[_e];if(!et){const tt=new Intl.Locale(_e);et="getWeekInfo"in tt?tt.getWeekInfo():tt.weekInfo,weekInfoCache[_e]=et}return et}function parseLocaleString(_e){const et=_e.indexOf("-x-");et!==-1&&(_e=_e.substring(0,et));const tt=_e.indexOf("-u-");if(tt===-1)return[_e];{let rt,nt;try{rt=getCachedDTF(_e).resolvedOptions(),nt=_e}catch{const st=_e.substring(0,tt);rt=getCachedDTF(st).resolvedOptions(),nt=st}const{numberingSystem:it,calendar:at}=rt;return[nt,it,at]}}function intlConfigString(_e,et,tt){return(tt||et)&&(_e.includes("-u-")||(_e+="-u"),tt&&(_e+=`-ca-${tt}`),et&&(_e+=`-nu-${et}`)),_e}function mapMonths(_e){const et=[];for(let tt=1;tt<=12;tt++){const rt=DateTime.utc(2009,tt,1);et.push(_e(rt))}return et}function mapWeekdays(_e){const et=[];for(let tt=1;tt<=7;tt++){const rt=DateTime.utc(2016,11,13+tt);et.push(_e(rt))}return et}function listStuff(_e,et,tt,rt){const nt=_e.listingMode();return nt==="error"?null:nt==="en"?tt(et):rt(et)}function supportsFastNumbers(_e){return _e.numberingSystem&&_e.numberingSystem!=="latn"?!1:_e.numberingSystem==="latn"||!_e.locale||_e.locale.startsWith("en")||new Intl.DateTimeFormat(_e.intl).resolvedOptions().numberingSystem==="latn"}class PolyNumberFormatter{constructor(et,tt,rt){this.padTo=rt.padTo||0,this.floor=rt.floor||!1;const{padTo:nt,floor:it,...at}=rt;if(!tt||Object.keys(at).length>0){const ot={useGrouping:!1,...rt};rt.padTo>0&&(ot.minimumIntegerDigits=rt.padTo),this.inf=getCachedINF(et,ot)}}format(et){if(this.inf){const tt=this.floor?Math.floor(et):et;return this.inf.format(tt)}else{const tt=this.floor?Math.floor(et):roundTo(et,3);return padStart(tt,this.padTo)}}}class PolyDateFormatter{constructor(et,tt,rt){this.opts=rt,this.originalZone=void 0;let nt;if(this.opts.timeZone)this.dt=et;else if(et.zone.type==="fixed"){const at=-1*(et.offset/60),ot=at>=0?`Etc/GMT+${at}`:`Etc/GMT${at}`;et.offset!==0&&IANAZone.create(ot).valid?(nt=ot,this.dt=et):(nt="UTC",this.dt=et.offset===0?et:et.setZone("UTC").plus({minutes:et.offset}),this.originalZone=et.zone)}else et.zone.type==="system"?this.dt=et:et.zone.type==="iana"?(this.dt=et,nt=et.zone.name):(nt="UTC",this.dt=et.setZone("UTC").plus({minutes:et.offset}),this.originalZone=et.zone);const it={...this.opts};it.timeZone=it.timeZone||nt,this.dtf=getCachedDTF(tt,it)}format(){return this.originalZone?this.formatToParts().map(({value:et})=>et).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const et=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?et.map(tt=>{if(tt.type==="timeZoneName"){const rt=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...tt,value:rt}}else return tt}):et}resolvedOptions(){return this.dtf.resolvedOptions()}}class PolyRelFormatter{constructor(et,tt,rt){this.opts={style:"long",...rt},!tt&&hasRelative()&&(this.rtf=getCachedRTF(et,rt))}format(et,tt){return this.rtf?this.rtf.format(et,tt):formatRelativeTime(tt,et,this.opts.numeric,this.opts.style!=="long")}formatToParts(et,tt){return this.rtf?this.rtf.formatToParts(et,tt):[]}}const fallbackWeekSettings={firstDay:1,minimalDays:4,weekend:[6,7]};class Locale{static fromOpts(et){return Locale.create(et.locale,et.numberingSystem,et.outputCalendar,et.weekSettings,et.defaultToEN)}static create(et,tt,rt,nt,it=!1){const at=et||Settings.defaultLocale,ot=at||(it?"en-US":systemLocale()),st=tt||Settings.defaultNumberingSystem,lt=rt||Settings.defaultOutputCalendar,ct=validateWeekSettings(nt)||Settings.defaultWeekSettings;return new Locale(ot,st,lt,ct,at)}static resetCache(){sysLocaleCache=null,intlDTCache={},intlNumCache={},intlRelCache={}}static fromObject({locale:et,numberingSystem:tt,outputCalendar:rt,weekSettings:nt}={}){return Locale.create(et,tt,rt,nt)}constructor(et,tt,rt,nt,it){const[at,ot,st]=parseLocaleString(et);this.locale=at,this.numberingSystem=tt||ot||null,this.outputCalendar=rt||st||null,this.weekSettings=nt,this.intl=intlConfigString(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=it,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=supportsFastNumbers(this)),this.fastNumbersCached}listingMode(){const et=this.isEnglish(),tt=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return et&&tt?"en":"intl"}clone(et){return!et||Object.getOwnPropertyNames(et).length===0?this:Locale.create(et.locale||this.specifiedLocale,et.numberingSystem||this.numberingSystem,et.outputCalendar||this.outputCalendar,validateWeekSettings(et.weekSettings)||this.weekSettings,et.defaultToEN||!1)}redefaultToEN(et={}){return this.clone({...et,defaultToEN:!0})}redefaultToSystem(et={}){return this.clone({...et,defaultToEN:!1})}months(et,tt=!1){return listStuff(this,et,months,()=>{const rt=tt?{month:et,day:"numeric"}:{month:et},nt=tt?"format":"standalone";return this.monthsCache[nt][et]||(this.monthsCache[nt][et]=mapMonths(it=>this.extract(it,rt,"month"))),this.monthsCache[nt][et]})}weekdays(et,tt=!1){return listStuff(this,et,weekdays,()=>{const rt=tt?{weekday:et,year:"numeric",month:"long",day:"numeric"}:{weekday:et},nt=tt?"format":"standalone";return this.weekdaysCache[nt][et]||(this.weekdaysCache[nt][et]=mapWeekdays(it=>this.extract(it,rt,"weekday"))),this.weekdaysCache[nt][et]})}meridiems(){return listStuff(this,void 0,()=>meridiems,()=>{if(!this.meridiemCache){const et={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[DateTime.utc(2016,11,13,9),DateTime.utc(2016,11,13,19)].map(tt=>this.extract(tt,et,"dayperiod"))}return this.meridiemCache})}eras(et){return listStuff(this,et,eras,()=>{const tt={era:et};return this.eraCache[et]||(this.eraCache[et]=[DateTime.utc(-40,1,1),DateTime.utc(2017,1,1)].map(rt=>this.extract(rt,tt,"era"))),this.eraCache[et]})}extract(et,tt,rt){const nt=this.dtFormatter(et,tt),it=nt.formatToParts(),at=it.find(ot=>ot.type.toLowerCase()===rt);return at?at.value:null}numberFormatter(et={}){return new PolyNumberFormatter(this.intl,et.forceSimple||this.fastNumbers,et)}dtFormatter(et,tt={}){return new PolyDateFormatter(et,this.intl,tt)}relFormatter(et={}){return new PolyRelFormatter(this.intl,this.isEnglish(),et)}listFormatter(et={}){return getCachedLF(this.intl,et)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:hasLocaleWeekInfo()?getCachedWeekInfo(this.locale):fallbackWeekSettings}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(et){return this.locale===et.locale&&this.numberingSystem===et.numberingSystem&&this.outputCalendar===et.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let singleton=null;class FixedOffsetZone extends Zone{static get utcInstance(){return singleton===null&&(singleton=new FixedOffsetZone(0)),singleton}static instance(et){return et===0?FixedOffsetZone.utcInstance:new FixedOffsetZone(et)}static parseSpecifier(et){if(et){const tt=et.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(tt)return new FixedOffsetZone(signedOffset(tt[1],tt[2]))}return null}constructor(et){super(),this.fixed=et}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${formatOffset(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${formatOffset(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(et,tt){return formatOffset(this.fixed,tt)}get isUniversal(){return!0}offset(){return this.fixed}equals(et){return et.type==="fixed"&&et.fixed===this.fixed}get isValid(){return!0}}class InvalidZone extends Zone{constructor(et){super(),this.zoneName=et}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function normalizeZone(_e,et){if(isUndefined(_e)||_e===null)return et;if(_e instanceof Zone)return _e;if(isString(_e)){const tt=_e.toLowerCase();return tt==="default"?et:tt==="local"||tt==="system"?SystemZone.instance:tt==="utc"||tt==="gmt"?FixedOffsetZone.utcInstance:FixedOffsetZone.parseSpecifier(tt)||IANAZone.create(_e)}else return isNumber(_e)?FixedOffsetZone.instance(_e):typeof _e=="object"&&"offset"in _e&&typeof _e.offset=="function"?_e:new InvalidZone(_e)}const numberingSystems={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},numberingSystemsUTF16={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},hanidecChars=numberingSystems.hanidec.replace(/[\[|\]]/g,"").split("");function parseDigits(_e){let et=parseInt(_e,10);if(isNaN(et)){et="";for(let tt=0;tt<_e.length;tt++){const rt=_e.charCodeAt(tt);if(_e[tt].search(numberingSystems.hanidec)!==-1)et+=hanidecChars.indexOf(_e[tt]);else for(const nt in numberingSystemsUTF16){const[it,at]=numberingSystemsUTF16[nt];rt>=it&&rt<=at&&(et+=rt-it)}}return parseInt(et,10)}else return et}let digitRegexCache={};function resetDigitRegexCache(){digitRegexCache={}}function digitRegex({numberingSystem:_e},et=""){const tt=_e||"latn";return digitRegexCache[tt]||(digitRegexCache[tt]={}),digitRegexCache[tt][et]||(digitRegexCache[tt][et]=new RegExp(`${numberingSystems[tt]}${et}`)),digitRegexCache[tt][et]}let now=()=>Date.now(),defaultZone="system",defaultLocale=null,defaultNumberingSystem=null,defaultOutputCalendar=null,twoDigitCutoffYear=60,throwOnInvalid,defaultWeekSettings=null;class Settings{static get now(){return now}static set now(et){now=et}static set defaultZone(et){defaultZone=et}static get defaultZone(){return normalizeZone(defaultZone,SystemZone.instance)}static get defaultLocale(){return defaultLocale}static set defaultLocale(et){defaultLocale=et}static get defaultNumberingSystem(){return defaultNumberingSystem}static set defaultNumberingSystem(et){defaultNumberingSystem=et}static get defaultOutputCalendar(){return defaultOutputCalendar}static set defaultOutputCalendar(et){defaultOutputCalendar=et}static get defaultWeekSettings(){return defaultWeekSettings}static set defaultWeekSettings(et){defaultWeekSettings=validateWeekSettings(et)}static get twoDigitCutoffYear(){return twoDigitCutoffYear}static set twoDigitCutoffYear(et){twoDigitCutoffYear=et%100}static get throwOnInvalid(){return throwOnInvalid}static set throwOnInvalid(et){throwOnInvalid=et}static resetCaches(){Locale.resetCache(),IANAZone.resetCache(),DateTime.resetCache(),resetDigitRegexCache()}}class Invalid{constructor(et,tt){this.reason=et,this.explanation=tt}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const nonLeapLadder=[0,31,59,90,120,151,181,212,243,273,304,334],leapLadder=[0,31,60,91,121,152,182,213,244,274,305,335];function unitOutOfRange(_e,et){return new Invalid("unit out of range",`you specified ${et} (of type ${typeof et}) as a ${_e}, which is invalid`)}function dayOfWeek(_e,et,tt){const rt=new Date(Date.UTC(_e,et-1,tt));_e<100&&_e>=0&&rt.setUTCFullYear(rt.getUTCFullYear()-1900);const nt=rt.getUTCDay();return nt===0?7:nt}function computeOrdinal(_e,et,tt){return tt+(isLeapYear(_e)?leapLadder:nonLeapLadder)[et-1]}function uncomputeOrdinal(_e,et){const tt=isLeapYear(_e)?leapLadder:nonLeapLadder,rt=tt.findIndex(it=>it<et),nt=et-tt[rt];return{month:rt+1,day:nt}}function isoWeekdayToLocal(_e,et){return(_e-et+7)%7+1}function gregorianToWeek(_e,et=4,tt=1){const{year:rt,month:nt,day:it}=_e,at=computeOrdinal(rt,nt,it),ot=isoWeekdayToLocal(dayOfWeek(rt,nt,it),tt);let st=Math.floor((at-ot+14-et)/7),lt;return st<1?(lt=rt-1,st=weeksInWeekYear(lt,et,tt)):st>weeksInWeekYear(rt,et,tt)?(lt=rt+1,st=1):lt=rt,{weekYear:lt,weekNumber:st,weekday:ot,...timeObject(_e)}}function weekToGregorian(_e,et=4,tt=1){const{weekYear:rt,weekNumber:nt,weekday:it}=_e,at=isoWeekdayToLocal(dayOfWeek(rt,1,et),tt),ot=daysInYear(rt);let st=nt*7+it-at-7+et,lt;st<1?(lt=rt-1,st+=daysInYear(lt)):st>ot?(lt=rt+1,st-=daysInYear(rt)):lt=rt;const{month:ct,day:ut}=uncomputeOrdinal(lt,st);return{year:lt,month:ct,day:ut,...timeObject(_e)}}function gregorianToOrdinal(_e){const{year:et,month:tt,day:rt}=_e,nt=computeOrdinal(et,tt,rt);return{year:et,ordinal:nt,...timeObject(_e)}}function ordinalToGregorian(_e){const{year:et,ordinal:tt}=_e,{month:rt,day:nt}=uncomputeOrdinal(et,tt);return{year:et,month:rt,day:nt,...timeObject(_e)}}function usesLocalWeekValues(_e,et){if(!isUndefined(_e.localWeekday)||!isUndefined(_e.localWeekNumber)||!isUndefined(_e.localWeekYear)){if(!isUndefined(_e.weekday)||!isUndefined(_e.weekNumber)||!isUndefined(_e.weekYear))throw new ConflictingSpecificationError("Cannot mix locale-based week fields with ISO-based week fields");return isUndefined(_e.localWeekday)||(_e.weekday=_e.localWeekday),isUndefined(_e.localWeekNumber)||(_e.weekNumber=_e.localWeekNumber),isUndefined(_e.localWeekYear)||(_e.weekYear=_e.localWeekYear),delete _e.localWeekday,delete _e.localWeekNumber,delete _e.localWeekYear,{minDaysInFirstWeek:et.getMinDaysInFirstWeek(),startOfWeek:et.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function hasInvalidWeekData(_e,et=4,tt=1){const rt=isInteger(_e.weekYear),nt=integerBetween(_e.weekNumber,1,weeksInWeekYear(_e.weekYear,et,tt)),it=integerBetween(_e.weekday,1,7);return rt?nt?it?!1:unitOutOfRange("weekday",_e.weekday):unitOutOfRange("week",_e.weekNumber):unitOutOfRange("weekYear",_e.weekYear)}function hasInvalidOrdinalData(_e){const et=isInteger(_e.year),tt=integerBetween(_e.ordinal,1,daysInYear(_e.year));return et?tt?!1:unitOutOfRange("ordinal",_e.ordinal):unitOutOfRange("year",_e.year)}function hasInvalidGregorianData(_e){const et=isInteger(_e.year),tt=integerBetween(_e.month,1,12),rt=integerBetween(_e.day,1,daysInMonth(_e.year,_e.month));return et?tt?rt?!1:unitOutOfRange("day",_e.day):unitOutOfRange("month",_e.month):unitOutOfRange("year",_e.year)}function hasInvalidTimeData(_e){const{hour:et,minute:tt,second:rt,millisecond:nt}=_e,it=integerBetween(et,0,23)||et===24&&tt===0&&rt===0&&nt===0,at=integerBetween(tt,0,59),ot=integerBetween(rt,0,59),st=integerBetween(nt,0,999);return it?at?ot?st?!1:unitOutOfRange("millisecond",nt):unitOutOfRange("second",rt):unitOutOfRange("minute",tt):unitOutOfRange("hour",et)}function isUndefined(_e){return typeof _e>"u"}function isNumber(_e){return typeof _e=="number"}function isInteger(_e){return typeof _e=="number"&&_e%1===0}function isString(_e){return typeof _e=="string"}function isDate(_e){return Object.prototype.toString.call(_e)==="[object Date]"}function hasRelative(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function hasLocaleWeekInfo(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function maybeArray(_e){return Array.isArray(_e)?_e:[_e]}function bestBy(_e,et,tt){if(_e.length!==0)return _e.reduce((rt,nt)=>{const it=[et(nt),nt];return rt&&tt(rt[0],it[0])===rt[0]?rt:it},null)[1]}function pick(_e,et){return et.reduce((tt,rt)=>(tt[rt]=_e[rt],tt),{})}function hasOwnProperty(_e,et){return Object.prototype.hasOwnProperty.call(_e,et)}function validateWeekSettings(_e){if(_e==null)return null;if(typeof _e!="object")throw new InvalidArgumentError("Week settings must be an object");if(!integerBetween(_e.firstDay,1,7)||!integerBetween(_e.minimalDays,1,7)||!Array.isArray(_e.weekend)||_e.weekend.some(et=>!integerBetween(et,1,7)))throw new InvalidArgumentError("Invalid week settings");return{firstDay:_e.firstDay,minimalDays:_e.minimalDays,weekend:Array.from(_e.weekend)}}function integerBetween(_e,et,tt){return isInteger(_e)&&_e>=et&&_e<=tt}function floorMod(_e,et){return _e-et*Math.floor(_e/et)}function padStart(_e,et=2){const tt=_e<0;let rt;return tt?rt="-"+(""+-_e).padStart(et,"0"):rt=(""+_e).padStart(et,"0"),rt}function parseInteger(_e){if(!(isUndefined(_e)||_e===null||_e===""))return parseInt(_e,10)}function parseFloating(_e){if(!(isUndefined(_e)||_e===null||_e===""))return parseFloat(_e)}function parseMillis(_e){if(!(isUndefined(_e)||_e===null||_e==="")){const et=parseFloat("0."+_e)*1e3;return Math.floor(et)}}function roundTo(_e,et,tt=!1){const rt=10**et;return(tt?Math.trunc:Math.round)(_e*rt)/rt}function isLeapYear(_e){return _e%4===0&&(_e%100!==0||_e%400===0)}function daysInYear(_e){return isLeapYear(_e)?366:365}function daysInMonth(_e,et){const tt=floorMod(et-1,12)+1,rt=_e+(et-tt)/12;return tt===2?isLeapYear(rt)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][tt-1]}function objToLocalTS(_e){let et=Date.UTC(_e.year,_e.month-1,_e.day,_e.hour,_e.minute,_e.second,_e.millisecond);return _e.year<100&&_e.year>=0&&(et=new Date(et),et.setUTCFullYear(_e.year,_e.month-1,_e.day)),+et}function firstWeekOffset(_e,et,tt){return-isoWeekdayToLocal(dayOfWeek(_e,1,et),tt)+et-1}function weeksInWeekYear(_e,et=4,tt=1){const rt=firstWeekOffset(_e,et,tt),nt=firstWeekOffset(_e+1,et,tt);return(daysInYear(_e)-rt+nt)/7}function untruncateYear(_e){return _e>99?_e:_e>Settings.twoDigitCutoffYear?1900+_e:2e3+_e}function parseZoneInfo(_e,et,tt,rt=null){const nt=new Date(_e),it={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};rt&&(it.timeZone=rt);const at={timeZoneName:et,...it},ot=new Intl.DateTimeFormat(tt,at).formatToParts(nt).find(st=>st.type.toLowerCase()==="timezonename");return ot?ot.value:null}function signedOffset(_e,et){let tt=parseInt(_e,10);Number.isNaN(tt)&&(tt=0);const rt=parseInt(et,10)||0,nt=tt<0||Object.is(tt,-0)?-rt:rt;return tt*60+nt}function asNumber(_e){const et=Number(_e);if(typeof _e=="boolean"||_e===""||Number.isNaN(et))throw new InvalidArgumentError(`Invalid unit value ${_e}`);return et}function normalizeObject(_e,et){const tt={};for(const rt in _e)if(hasOwnProperty(_e,rt)){const nt=_e[rt];if(nt==null)continue;tt[et(rt)]=asNumber(nt)}return tt}function formatOffset(_e,et){const tt=Math.trunc(Math.abs(_e/60)),rt=Math.trunc(Math.abs(_e%60)),nt=_e>=0?"+":"-";switch(et){case"short":return`${nt}${padStart(tt,2)}:${padStart(rt,2)}`;case"narrow":return`${nt}${tt}${rt>0?`:${rt}`:""}`;case"techie":return`${nt}${padStart(tt,2)}${padStart(rt,2)}`;default:throw new RangeError(`Value format ${et} is out of range for property format`)}}function timeObject(_e){return pick(_e,["hour","minute","second","millisecond"])}const monthsLong=["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthsNarrow=["J","F","M","A","M","J","J","A","S","O","N","D"];function months(_e){switch(_e){case"narrow":return[...monthsNarrow];case"short":return[...monthsShort];case"long":return[...monthsLong];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const weekdaysLong=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],weekdaysShort=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],weekdaysNarrow=["M","T","W","T","F","S","S"];function weekdays(_e){switch(_e){case"narrow":return[...weekdaysNarrow];case"short":return[...weekdaysShort];case"long":return[...weekdaysLong];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const meridiems=["AM","PM"],erasLong=["Before Christ","Anno Domini"],erasShort=["BC","AD"],erasNarrow=["B","A"];function eras(_e){switch(_e){case"narrow":return[...erasNarrow];case"short":return[...erasShort];case"long":return[...erasLong];default:return null}}function meridiemForDateTime(_e){return meridiems[_e.hour<12?0:1]}function weekdayForDateTime(_e,et){return weekdays(et)[_e.weekday-1]}function monthForDateTime(_e,et){return months(et)[_e.month-1]}function eraForDateTime(_e,et){return eras(et)[_e.year<0?0:1]}function formatRelativeTime(_e,et,tt="always",rt=!1){const nt={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},it=["hours","minutes","seconds"].indexOf(_e)===-1;if(tt==="auto"&&it){const ut=_e==="days";switch(et){case 1:return ut?"tomorrow":`next ${nt[_e][0]}`;case-1:return ut?"yesterday":`last ${nt[_e][0]}`;case 0:return ut?"today":`this ${nt[_e][0]}`}}const at=Object.is(et,-0)||et<0,ot=Math.abs(et),st=ot===1,lt=nt[_e],ct=rt?st?lt[1]:lt[2]||lt[1]:st?nt[_e][0]:_e;return at?`${ot} ${ct} ago`:`in ${ot} ${ct}`}function stringifyTokens(_e,et){let tt="";for(const rt of _e)rt.literal?tt+=rt.val:tt+=et(rt.val);return tt}const macroTokenToFormatOpts={D:DATE_SHORT,DD:DATE_MED,DDD:DATE_FULL,DDDD:DATE_HUGE,t:TIME_SIMPLE,tt:TIME_WITH_SECONDS,ttt:TIME_WITH_SHORT_OFFSET,tttt:TIME_WITH_LONG_OFFSET,T:TIME_24_SIMPLE,TT:TIME_24_WITH_SECONDS,TTT:TIME_24_WITH_SHORT_OFFSET,TTTT:TIME_24_WITH_LONG_OFFSET,f:DATETIME_SHORT,ff:DATETIME_MED,fff:DATETIME_FULL,ffff:DATETIME_HUGE,F:DATETIME_SHORT_WITH_SECONDS,FF:DATETIME_MED_WITH_SECONDS,FFF:DATETIME_FULL_WITH_SECONDS,FFFF:DATETIME_HUGE_WITH_SECONDS};class Formatter{static create(et,tt={}){return new Formatter(et,tt)}static parseFormat(et){let tt=null,rt="",nt=!1;const it=[];for(let at=0;at<et.length;at++){const ot=et.charAt(at);ot==="'"?(rt.length>0&&it.push({literal:nt||/^\s+$/.test(rt),val:rt}),tt=null,rt="",nt=!nt):nt||ot===tt?rt+=ot:(rt.length>0&&it.push({literal:/^\s+$/.test(rt),val:rt}),rt=ot,tt=ot)}return rt.length>0&&it.push({literal:nt||/^\s+$/.test(rt),val:rt}),it}static macroTokenToFormatOpts(et){return macroTokenToFormatOpts[et]}constructor(et,tt){this.opts=tt,this.loc=et,this.systemLoc=null}formatWithSystemDefault(et,tt){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(et,{...this.opts,...tt}).format()}dtFormatter(et,tt={}){return this.loc.dtFormatter(et,{...this.opts,...tt})}formatDateTime(et,tt){return this.dtFormatter(et,tt).format()}formatDateTimeParts(et,tt){return this.dtFormatter(et,tt).formatToParts()}formatInterval(et,tt){return this.dtFormatter(et.start,tt).dtf.formatRange(et.start.toJSDate(),et.end.toJSDate())}resolvedOptions(et,tt){return this.dtFormatter(et,tt).resolvedOptions()}num(et,tt=0){if(this.opts.forceSimple)return padStart(et,tt);const rt={...this.opts};return tt>0&&(rt.padTo=tt),this.loc.numberFormatter(rt).format(et)}formatDateTimeFromString(et,tt){const rt=this.loc.listingMode()==="en",nt=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",it=(ft,pt)=>this.loc.extract(et,ft,pt),at=ft=>et.isOffsetFixed&&et.offset===0&&ft.allowZ?"Z":et.isValid?et.zone.formatOffset(et.ts,ft.format):"",ot=()=>rt?meridiemForDateTime(et):it({hour:"numeric",hourCycle:"h12"},"dayperiod"),st=(ft,pt)=>rt?monthForDateTime(et,ft):it(pt?{month:ft}:{month:ft,day:"numeric"},"month"),lt=(ft,pt)=>rt?weekdayForDateTime(et,ft):it(pt?{weekday:ft}:{weekday:ft,month:"long",day:"numeric"},"weekday"),ct=ft=>{const pt=Formatter.macroTokenToFormatOpts(ft);return pt?this.formatWithSystemDefault(et,pt):ft},ut=ft=>rt?eraForDateTime(et,ft):it({era:ft},"era"),dt=ft=>{switch(ft){case"S":return this.num(et.millisecond);case"u":case"SSS":return this.num(et.millisecond,3);case"s":return this.num(et.second);case"ss":return this.num(et.second,2);case"uu":return this.num(Math.floor(et.millisecond/10),2);case"uuu":return this.num(Math.floor(et.millisecond/100));case"m":return this.num(et.minute);case"mm":return this.num(et.minute,2);case"h":return this.num(et.hour%12===0?12:et.hour%12);case"hh":return this.num(et.hour%12===0?12:et.hour%12,2);case"H":return this.num(et.hour);case"HH":return this.num(et.hour,2);case"Z":return at({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return at({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return at({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return et.zone.offsetName(et.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return et.zone.offsetName(et.ts,{format:"long",locale:this.loc.locale});case"z":return et.zoneName;case"a":return ot();case"d":return nt?it({day:"numeric"},"day"):this.num(et.day);case"dd":return nt?it({day:"2-digit"},"day"):this.num(et.day,2);case"c":return this.num(et.weekday);case"ccc":return lt("short",!0);case"cccc":return lt("long",!0);case"ccccc":return lt("narrow",!0);case"E":return this.num(et.weekday);case"EEE":return lt("short",!1);case"EEEE":return lt("long",!1);case"EEEEE":return lt("narrow",!1);case"L":return nt?it({month:"numeric",day:"numeric"},"month"):this.num(et.month);case"LL":return nt?it({month:"2-digit",day:"numeric"},"month"):this.num(et.month,2);case"LLL":return st("short",!0);case"LLLL":return st("long",!0);case"LLLLL":return st("narrow",!0);case"M":return nt?it({month:"numeric"},"month"):this.num(et.month);case"MM":return nt?it({month:"2-digit"},"month"):this.num(et.month,2);case"MMM":return st("short",!1);case"MMMM":return st("long",!1);case"MMMMM":return st("narrow",!1);case"y":return nt?it({year:"numeric"},"year"):this.num(et.year);case"yy":return nt?it({year:"2-digit"},"year"):this.num(et.year.toString().slice(-2),2);case"yyyy":return nt?it({year:"numeric"},"year"):this.num(et.year,4);case"yyyyyy":return nt?it({year:"numeric"},"year"):this.num(et.year,6);case"G":return ut("short");case"GG":return ut("long");case"GGGGG":return ut("narrow");case"kk":return this.num(et.weekYear.toString().slice(-2),2);case"kkkk":return this.num(et.weekYear,4);case"W":return this.num(et.weekNumber);case"WW":return this.num(et.weekNumber,2);case"n":return this.num(et.localWeekNumber);case"nn":return this.num(et.localWeekNumber,2);case"ii":return this.num(et.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(et.localWeekYear,4);case"o":return this.num(et.ordinal);case"ooo":return this.num(et.ordinal,3);case"q":return this.num(et.quarter);case"qq":return this.num(et.quarter,2);case"X":return this.num(Math.floor(et.ts/1e3));case"x":return this.num(et.ts);default:return ct(ft)}};return stringifyTokens(Formatter.parseFormat(tt),dt)}formatDurationFromString(et,tt){const rt=st=>{switch(st[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},nt=st=>lt=>{const ct=rt(lt);return ct?this.num(st.get(ct),lt.length):lt},it=Formatter.parseFormat(tt),at=it.reduce((st,{literal:lt,val:ct})=>lt?st:st.concat(ct),[]),ot=et.shiftTo(...at.map(rt).filter(st=>st));return stringifyTokens(it,nt(ot))}}const ianaRegex=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function combineRegexes(..._e){const et=_e.reduce((tt,rt)=>tt+rt.source,"");return RegExp(`^${et}$`)}function combineExtractors(..._e){return et=>_e.reduce(([tt,rt,nt],it)=>{const[at,ot,st]=it(et,nt);return[{...tt,...at},ot||rt,st]},[{},null,1]).slice(0,2)}function parse$1(_e,...et){if(_e==null)return[null,null];for(const[tt,rt]of et){const nt=tt.exec(_e);if(nt)return rt(nt)}return[null,null]}function simpleParse(..._e){return(et,tt)=>{const rt={};let nt;for(nt=0;nt<_e.length;nt++)rt[_e[nt]]=parseInteger(et[tt+nt]);return[rt,null,tt+nt]}}const offsetRegex=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,isoExtendedZone=`(?:${offsetRegex.source}?(?:\\[(${ianaRegex.source})\\])?)?`,isoTimeBaseRegex=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,isoTimeRegex=RegExp(`${isoTimeBaseRegex.source}${isoExtendedZone}`),isoTimeExtensionRegex=RegExp(`(?:T${isoTimeRegex.source})?`),isoYmdRegex=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,isoWeekRegex=/(\d{4})-?W(\d\d)(?:-?(\d))?/,isoOrdinalRegex=/(\d{4})-?(\d{3})/,extractISOWeekData=simpleParse("weekYear","weekNumber","weekDay"),extractISOOrdinalData=simpleParse("year","ordinal"),sqlYmdRegex=/(\d{4})-(\d\d)-(\d\d)/,sqlTimeRegex=RegExp(`${isoTimeBaseRegex.source} ?(?:${offsetRegex.source}|(${ianaRegex.source}))?`),sqlTimeExtensionRegex=RegExp(`(?: ${sqlTimeRegex.source})?`);function int(_e,et,tt){const rt=_e[et];return isUndefined(rt)?tt:parseInteger(rt)}function extractISOYmd(_e,et){return[{year:int(_e,et),month:int(_e,et+1,1),day:int(_e,et+2,1)},null,et+3]}function extractISOTime(_e,et){return[{hours:int(_e,et,0),minutes:int(_e,et+1,0),seconds:int(_e,et+2,0),milliseconds:parseMillis(_e[et+3])},null,et+4]}function extractISOOffset(_e,et){const tt=!_e[et]&&!_e[et+1],rt=signedOffset(_e[et+1],_e[et+2]),nt=tt?null:FixedOffsetZone.instance(rt);return[{},nt,et+3]}function extractIANAZone(_e,et){const tt=_e[et]?IANAZone.create(_e[et]):null;return[{},tt,et+1]}const isoTimeOnly=RegExp(`^T?${isoTimeBaseRegex.source}$`),isoDuration=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function extractISODuration(_e){const[et,tt,rt,nt,it,at,ot,st,lt]=_e,ct=et[0]==="-",ut=st&&st[0]==="-",dt=(ft,pt=!1)=>ft!==void 0&&(pt||ft&&ct)?-ft:ft;return[{years:dt(parseFloating(tt)),months:dt(parseFloating(rt)),weeks:dt(parseFloating(nt)),days:dt(parseFloating(it)),hours:dt(parseFloating(at)),minutes:dt(parseFloating(ot)),seconds:dt(parseFloating(st),st==="-0"),milliseconds:dt(parseMillis(lt),ut)}]}const obsOffsets={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function fromStrings(_e,et,tt,rt,nt,it,at){const ot={year:et.length===2?untruncateYear(parseInteger(et)):parseInteger(et),month:monthsShort.indexOf(tt)+1,day:parseInteger(rt),hour:parseInteger(nt),minute:parseInteger(it)};return at&&(ot.second=parseInteger(at)),_e&&(ot.weekday=_e.length>3?weekdaysLong.indexOf(_e)+1:weekdaysShort.indexOf(_e)+1),ot}const rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function extractRFC2822(_e){const[,et,tt,rt,nt,it,at,ot,st,lt,ct,ut]=_e,dt=fromStrings(et,nt,rt,tt,it,at,ot);let ft;return st?ft=obsOffsets[st]:lt?ft=0:ft=signedOffset(ct,ut),[dt,new FixedOffsetZone(ft)]}function preprocessRFC2822(_e){return _e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const rfc1123=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,rfc850=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ascii=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function extractRFC1123Or850(_e){const[,et,tt,rt,nt,it,at,ot]=_e;return[fromStrings(et,nt,rt,tt,it,at,ot),FixedOffsetZone.utcInstance]}function extractASCII(_e){const[,et,tt,rt,nt,it,at,ot]=_e;return[fromStrings(et,ot,tt,rt,nt,it,at),FixedOffsetZone.utcInstance]}const isoYmdWithTimeExtensionRegex=combineRegexes(isoYmdRegex,isoTimeExtensionRegex),isoWeekWithTimeExtensionRegex=combineRegexes(isoWeekRegex,isoTimeExtensionRegex),isoOrdinalWithTimeExtensionRegex=combineRegexes(isoOrdinalRegex,isoTimeExtensionRegex),isoTimeCombinedRegex=combineRegexes(isoTimeRegex),extractISOYmdTimeAndOffset=combineExtractors(extractISOYmd,extractISOTime,extractISOOffset,extractIANAZone),extractISOWeekTimeAndOffset=combineExtractors(extractISOWeekData,extractISOTime,extractISOOffset,extractIANAZone),extractISOOrdinalDateAndTime=combineExtractors(extractISOOrdinalData,extractISOTime,extractISOOffset,extractIANAZone),extractISOTimeAndOffset=combineExtractors(extractISOTime,extractISOOffset,extractIANAZone);function parseISODate(_e){return parse$1(_e,[isoYmdWithTimeExtensionRegex,extractISOYmdTimeAndOffset],[isoWeekWithTimeExtensionRegex,extractISOWeekTimeAndOffset],[isoOrdinalWithTimeExtensionRegex,extractISOOrdinalDateAndTime],[isoTimeCombinedRegex,extractISOTimeAndOffset])}function parseRFC2822Date(_e){return parse$1(preprocessRFC2822(_e),[rfc2822,extractRFC2822])}function parseHTTPDate(_e){return parse$1(_e,[rfc1123,extractRFC1123Or850],[rfc850,extractRFC1123Or850],[ascii,extractASCII])}function parseISODuration(_e){return parse$1(_e,[isoDuration,extractISODuration])}const extractISOTimeOnly=combineExtractors(extractISOTime);function parseISOTimeOnly(_e){return parse$1(_e,[isoTimeOnly,extractISOTimeOnly])}const sqlYmdWithTimeExtensionRegex=combineRegexes(sqlYmdRegex,sqlTimeExtensionRegex),sqlTimeCombinedRegex=combineRegexes(sqlTimeRegex),extractISOTimeOffsetAndIANAZone=combineExtractors(extractISOTime,extractISOOffset,extractIANAZone);function parseSQL(_e){return parse$1(_e,[sqlYmdWithTimeExtensionRegex,extractISOYmdTimeAndOffset],[sqlTimeCombinedRegex,extractISOTimeOffsetAndIANAZone])}const INVALID$2="Invalid Duration",lowOrderMatrix={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},casualMatrix={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...lowOrderMatrix},daysInYearAccurate=146097/400,daysInMonthAccurate=146097/4800,accurateMatrix={years:{quarters:4,months:12,weeks:daysInYearAccurate/7,days:daysInYearAccurate,hours:daysInYearAccurate*24,minutes:daysInYearAccurate*24*60,seconds:daysInYearAccurate*24*60*60,milliseconds:daysInYearAccurate*24*60*60*1e3},quarters:{months:3,weeks:daysInYearAccurate/28,days:daysInYearAccurate/4,hours:daysInYearAccurate*24/4,minutes:daysInYearAccurate*24*60/4,seconds:daysInYearAccurate*24*60*60/4,milliseconds:daysInYearAccurate*24*60*60*1e3/4},months:{weeks:daysInMonthAccurate/7,days:daysInMonthAccurate,hours:daysInMonthAccurate*24,minutes:daysInMonthAccurate*24*60,seconds:daysInMonthAccurate*24*60*60,milliseconds:daysInMonthAccurate*24*60*60*1e3},...lowOrderMatrix},orderedUnits$1=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],reverseUnits=orderedUnits$1.slice(0).reverse();function clone$1(_e,et,tt=!1){const rt={values:tt?et.values:{..._e.values,...et.values||{}},loc:_e.loc.clone(et.loc),conversionAccuracy:et.conversionAccuracy||_e.conversionAccuracy,matrix:et.matrix||_e.matrix};return new Duration(rt)}function durationToMillis(_e,et){var tt;let rt=(tt=et.milliseconds)!=null?tt:0;for(const nt of reverseUnits.slice(1))et[nt]&&(rt+=et[nt]*_e[nt].milliseconds);return rt}function normalizeValues(_e,et){const tt=durationToMillis(_e,et)<0?-1:1;orderedUnits$1.reduceRight((rt,nt)=>{if(isUndefined(et[nt]))return rt;if(rt){const it=et[rt]*tt,at=_e[nt][rt],ot=Math.floor(it/at);et[nt]+=ot*tt,et[rt]-=ot*at*tt}return nt},null),orderedUnits$1.reduce((rt,nt)=>{if(isUndefined(et[nt]))return rt;if(rt){const it=et[rt]%1;et[rt]-=it,et[nt]+=it*_e[rt][nt]}return nt},null)}function removeZeroes(_e){const et={};for(const[tt,rt]of Object.entries(_e))rt!==0&&(et[tt]=rt);return et}class Duration{constructor(et){const tt=et.conversionAccuracy==="longterm"||!1;let rt=tt?accurateMatrix:casualMatrix;et.matrix&&(rt=et.matrix),this.values=et.values,this.loc=et.loc||Locale.create(),this.conversionAccuracy=tt?"longterm":"casual",this.invalid=et.invalid||null,this.matrix=rt,this.isLuxonDuration=!0}static fromMillis(et,tt){return Duration.fromObject({milliseconds:et},tt)}static fromObject(et,tt={}){if(et==null||typeof et!="object")throw new InvalidArgumentError(`Duration.fromObject: argument expected to be an object, got ${et===null?"null":typeof et}`);return new Duration({values:normalizeObject(et,Duration.normalizeUnit),loc:Locale.fromObject(tt),conversionAccuracy:tt.conversionAccuracy,matrix:tt.matrix})}static fromDurationLike(et){if(isNumber(et))return Duration.fromMillis(et);if(Duration.isDuration(et))return et;if(typeof et=="object")return Duration.fromObject(et);throw new InvalidArgumentError(`Unknown duration argument ${et} of type ${typeof et}`)}static fromISO(et,tt){const[rt]=parseISODuration(et);return rt?Duration.fromObject(rt,tt):Duration.invalid("unparsable",`the input "${et}" can't be parsed as ISO 8601`)}static fromISOTime(et,tt){const[rt]=parseISOTimeOnly(et);return rt?Duration.fromObject(rt,tt):Duration.invalid("unparsable",`the input "${et}" can't be parsed as ISO 8601`)}static invalid(et,tt=null){if(!et)throw new InvalidArgumentError("need to specify a reason the Duration is invalid");const rt=et instanceof Invalid?et:new Invalid(et,tt);if(Settings.throwOnInvalid)throw new InvalidDurationError(rt);return new Duration({invalid:rt})}static normalizeUnit(et){const tt={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[et&&et.toLowerCase()];if(!tt)throw new InvalidUnitError(et);return tt}static isDuration(et){return et&&et.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(et,tt={}){const rt={...tt,floor:tt.round!==!1&&tt.floor!==!1};return this.isValid?Formatter.create(this.loc,rt).formatDurationFromString(this,et):INVALID$2}toHuman(et={}){if(!this.isValid)return INVALID$2;const tt=orderedUnits$1.map(rt=>{const nt=this.values[rt];return isUndefined(nt)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...et,unit:rt.slice(0,-1)}).format(nt)}).filter(rt=>rt);return this.loc.listFormatter({type:"conjunction",style:et.listStyle||"narrow",...et}).format(tt)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let et="P";return this.years!==0&&(et+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(et+=this.months+this.quarters*3+"M"),this.weeks!==0&&(et+=this.weeks+"W"),this.days!==0&&(et+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(et+="T"),this.hours!==0&&(et+=this.hours+"H"),this.minutes!==0&&(et+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(et+=roundTo(this.seconds+this.milliseconds/1e3,3)+"S"),et==="P"&&(et+="T0S"),et}toISOTime(et={}){if(!this.isValid)return null;const tt=this.toMillis();return tt<0||tt>=864e5?null:(et={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...et,includeOffset:!1},DateTime.fromMillis(tt,{zone:"UTC"}).toISOTime(et))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?durationToMillis(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(et){if(!this.isValid)return this;const tt=Duration.fromDurationLike(et),rt={};for(const nt of orderedUnits$1)(hasOwnProperty(tt.values,nt)||hasOwnProperty(this.values,nt))&&(rt[nt]=tt.get(nt)+this.get(nt));return clone$1(this,{values:rt},!0)}minus(et){if(!this.isValid)return this;const tt=Duration.fromDurationLike(et);return this.plus(tt.negate())}mapUnits(et){if(!this.isValid)return this;const tt={};for(const rt of Object.keys(this.values))tt[rt]=asNumber(et(this.values[rt],rt));return clone$1(this,{values:tt},!0)}get(et){return this[Duration.normalizeUnit(et)]}set(et){if(!this.isValid)return this;const tt={...this.values,...normalizeObject(et,Duration.normalizeUnit)};return clone$1(this,{values:tt})}reconfigure({locale:et,numberingSystem:tt,conversionAccuracy:rt,matrix:nt}={}){const at={loc:this.loc.clone({locale:et,numberingSystem:tt}),matrix:nt,conversionAccuracy:rt};return clone$1(this,at)}as(et){return this.isValid?this.shiftTo(et).get(et):NaN}normalize(){if(!this.isValid)return this;const et=this.toObject();return normalizeValues(this.matrix,et),clone$1(this,{values:et},!0)}rescale(){if(!this.isValid)return this;const et=removeZeroes(this.normalize().shiftToAll().toObject());return clone$1(this,{values:et},!0)}shiftTo(...et){if(!this.isValid)return this;if(et.length===0)return this;et=et.map(at=>Duration.normalizeUnit(at));const tt={},rt={},nt=this.toObject();let it;for(const at of orderedUnits$1)if(et.indexOf(at)>=0){it=at;let ot=0;for(const lt in rt)ot+=this.matrix[lt][at]*rt[lt],rt[lt]=0;isNumber(nt[at])&&(ot+=nt[at]);const st=Math.trunc(ot);tt[at]=st,rt[at]=(ot*1e3-st*1e3)/1e3}else isNumber(nt[at])&&(rt[at]=nt[at]);for(const at in rt)rt[at]!==0&&(tt[it]+=at===it?rt[at]:rt[at]/this.matrix[it][at]);return normalizeValues(this.matrix,tt),clone$1(this,{values:tt},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const et={};for(const tt of Object.keys(this.values))et[tt]=this.values[tt]===0?0:-this.values[tt];return clone$1(this,{values:et},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(et){if(!this.isValid||!et.isValid||!this.loc.equals(et.loc))return!1;function tt(rt,nt){return rt===void 0||rt===0?nt===void 0||nt===0:rt===nt}for(const rt of orderedUnits$1)if(!tt(this.values[rt],et.values[rt]))return!1;return!0}}const INVALID$1="Invalid Interval";function validateStartEnd(_e,et){return!_e||!_e.isValid?Interval.invalid("missing or invalid start"):!et||!et.isValid?Interval.invalid("missing or invalid end"):et<_e?Interval.invalid("end before start",`The end of an interval must be after its start, but you had start=${_e.toISO()} and end=${et.toISO()}`):null}class Interval{constructor(et){this.s=et.start,this.e=et.end,this.invalid=et.invalid||null,this.isLuxonInterval=!0}static invalid(et,tt=null){if(!et)throw new InvalidArgumentError("need to specify a reason the Interval is invalid");const rt=et instanceof Invalid?et:new Invalid(et,tt);if(Settings.throwOnInvalid)throw new InvalidIntervalError(rt);return new Interval({invalid:rt})}static fromDateTimes(et,tt){const rt=friendlyDateTime(et),nt=friendlyDateTime(tt),it=validateStartEnd(rt,nt);return it??new Interval({start:rt,end:nt})}static after(et,tt){const rt=Duration.fromDurationLike(tt),nt=friendlyDateTime(et);return Interval.fromDateTimes(nt,nt.plus(rt))}static before(et,tt){const rt=Duration.fromDurationLike(tt),nt=friendlyDateTime(et);return Interval.fromDateTimes(nt.minus(rt),nt)}static fromISO(et,tt){const[rt,nt]=(et||"").split("/",2);if(rt&&nt){let it,at;try{it=DateTime.fromISO(rt,tt),at=it.isValid}catch{at=!1}let ot,st;try{ot=DateTime.fromISO(nt,tt),st=ot.isValid}catch{st=!1}if(at&&st)return Interval.fromDateTimes(it,ot);if(at){const lt=Duration.fromISO(nt,tt);if(lt.isValid)return Interval.after(it,lt)}else if(st){const lt=Duration.fromISO(rt,tt);if(lt.isValid)return Interval.before(ot,lt)}}return Interval.invalid("unparsable",`the input "${et}" can't be parsed as ISO 8601`)}static isInterval(et){return et&&et.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(et="milliseconds"){return this.isValid?this.toDuration(et).get(et):NaN}count(et="milliseconds",tt){if(!this.isValid)return NaN;const rt=this.start.startOf(et,tt);let nt;return tt!=null&&tt.useLocaleWeeks?nt=this.end.reconfigure({locale:rt.locale}):nt=this.end,nt=nt.startOf(et,tt),Math.floor(nt.diff(rt,et).get(et))+(nt.valueOf()!==this.end.valueOf())}hasSame(et){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,et):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(et){return this.isValid?this.s>et:!1}isBefore(et){return this.isValid?this.e<=et:!1}contains(et){return this.isValid?this.s<=et&&this.e>et:!1}set({start:et,end:tt}={}){return this.isValid?Interval.fromDateTimes(et||this.s,tt||this.e):this}splitAt(...et){if(!this.isValid)return[];const tt=et.map(friendlyDateTime).filter(at=>this.contains(at)).sort((at,ot)=>at.toMillis()-ot.toMillis()),rt=[];let{s:nt}=this,it=0;for(;nt<this.e;){const at=tt[it]||this.e,ot=+at>+this.e?this.e:at;rt.push(Interval.fromDateTimes(nt,ot)),nt=ot,it+=1}return rt}splitBy(et){const tt=Duration.fromDurationLike(et);if(!this.isValid||!tt.isValid||tt.as("milliseconds")===0)return[];let{s:rt}=this,nt=1,it;const at=[];for(;rt<this.e;){const ot=this.start.plus(tt.mapUnits(st=>st*nt));it=+ot>+this.e?this.e:ot,at.push(Interval.fromDateTimes(rt,it)),rt=it,nt+=1}return at}divideEqually(et){return this.isValid?this.splitBy(this.length()/et).slice(0,et):[]}overlaps(et){return this.e>et.s&&this.s<et.e}abutsStart(et){return this.isValid?+this.e==+et.s:!1}abutsEnd(et){return this.isValid?+et.e==+this.s:!1}engulfs(et){return this.isValid?this.s<=et.s&&this.e>=et.e:!1}equals(et){return!this.isValid||!et.isValid?!1:this.s.equals(et.s)&&this.e.equals(et.e)}intersection(et){if(!this.isValid)return this;const tt=this.s>et.s?this.s:et.s,rt=this.e<et.e?this.e:et.e;return tt>=rt?null:Interval.fromDateTimes(tt,rt)}union(et){if(!this.isValid)return this;const tt=this.s<et.s?this.s:et.s,rt=this.e>et.e?this.e:et.e;return Interval.fromDateTimes(tt,rt)}static merge(et){const[tt,rt]=et.sort((nt,it)=>nt.s-it.s).reduce(([nt,it],at)=>it?it.overlaps(at)||it.abutsStart(at)?[nt,it.union(at)]:[nt.concat([it]),at]:[nt,at],[[],null]);return rt&&tt.push(rt),tt}static xor(et){let tt=null,rt=0;const nt=[],it=et.map(st=>[{time:st.s,type:"s"},{time:st.e,type:"e"}]),at=Array.prototype.concat(...it),ot=at.sort((st,lt)=>st.time-lt.time);for(const st of ot)rt+=st.type==="s"?1:-1,rt===1?tt=st.time:(tt&&+tt!=+st.time&&nt.push(Interval.fromDateTimes(tt,st.time)),tt=null);return Interval.merge(nt)}difference(...et){return Interval.xor([this].concat(et)).map(tt=>this.intersection(tt)).filter(tt=>tt&&!tt.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:INVALID$1}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(et=DATE_SHORT,tt={}){return this.isValid?Formatter.create(this.s.loc.clone(tt),et).formatInterval(this):INVALID$1}toISO(et){return this.isValid?`${this.s.toISO(et)}/${this.e.toISO(et)}`:INVALID$1}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:INVALID$1}toISOTime(et){return this.isValid?`${this.s.toISOTime(et)}/${this.e.toISOTime(et)}`:INVALID$1}toFormat(et,{separator:tt="  "}={}){return this.isValid?`${this.s.toFormat(et)}${tt}${this.e.toFormat(et)}`:INVALID$1}toDuration(et,tt){return this.isValid?this.e.diff(this.s,et,tt):Duration.invalid(this.invalidReason)}mapEndpoints(et){return Interval.fromDateTimes(et(this.s),et(this.e))}}class Info{static hasDST(et=Settings.defaultZone){const tt=DateTime.now().setZone(et).set({month:12});return!et.isUniversal&&tt.offset!==tt.set({month:6}).offset}static isValidIANAZone(et){return IANAZone.isValidZone(et)}static normalizeZone(et){return normalizeZone(et,Settings.defaultZone)}static getStartOfWeek({locale:et=null,locObj:tt=null}={}){return(tt||Locale.create(et)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:et=null,locObj:tt=null}={}){return(tt||Locale.create(et)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:et=null,locObj:tt=null}={}){return(tt||Locale.create(et)).getWeekendDays().slice()}static months(et="long",{locale:tt=null,numberingSystem:rt=null,locObj:nt=null,outputCalendar:it="gregory"}={}){return(nt||Locale.create(tt,rt,it)).months(et)}static monthsFormat(et="long",{locale:tt=null,numberingSystem:rt=null,locObj:nt=null,outputCalendar:it="gregory"}={}){return(nt||Locale.create(tt,rt,it)).months(et,!0)}static weekdays(et="long",{locale:tt=null,numberingSystem:rt=null,locObj:nt=null}={}){return(nt||Locale.create(tt,rt,null)).weekdays(et)}static weekdaysFormat(et="long",{locale:tt=null,numberingSystem:rt=null,locObj:nt=null}={}){return(nt||Locale.create(tt,rt,null)).weekdays(et,!0)}static meridiems({locale:et=null}={}){return Locale.create(et).meridiems()}static eras(et="short",{locale:tt=null}={}){return Locale.create(tt,null,"gregory").eras(et)}static features(){return{relative:hasRelative(),localeWeek:hasLocaleWeekInfo()}}}function dayDiff(_e,et){const tt=nt=>nt.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),rt=tt(et)-tt(_e);return Math.floor(Duration.fromMillis(rt).as("days"))}function highOrderDiffs(_e,et,tt){const rt=[["years",(st,lt)=>lt.year-st.year],["quarters",(st,lt)=>lt.quarter-st.quarter+(lt.year-st.year)*4],["months",(st,lt)=>lt.month-st.month+(lt.year-st.year)*12],["weeks",(st,lt)=>{const ct=dayDiff(st,lt);return(ct-ct%7)/7}],["days",dayDiff]],nt={},it=_e;let at,ot;for(const[st,lt]of rt)tt.indexOf(st)>=0&&(at=st,nt[st]=lt(_e,et),ot=it.plus(nt),ot>et?(nt[st]--,_e=it.plus(nt),_e>et&&(ot=_e,nt[st]--,_e=it.plus(nt))):_e=ot);return[_e,nt,ot,at]}function diff(_e,et,tt,rt){let[nt,it,at,ot]=highOrderDiffs(_e,et,tt);const st=et-nt,lt=tt.filter(ut=>["hours","minutes","seconds","milliseconds"].indexOf(ut)>=0);lt.length===0&&(at<et&&(at=nt.plus({[ot]:1})),at!==nt&&(it[ot]=(it[ot]||0)+st/(at-nt)));const ct=Duration.fromObject(it,rt);return lt.length>0?Duration.fromMillis(st,rt).shiftTo(...lt).plus(ct):ct}const MISSING_FTP="missing Intl.DateTimeFormat.formatToParts support";function intUnit(_e,et=tt=>tt){return{regex:_e,deser:([tt])=>et(parseDigits(tt))}}const NBSP="",spaceOrNBSP=`[ ${NBSP}]`,spaceOrNBSPRegExp=new RegExp(spaceOrNBSP,"g");function fixListRegex(_e){return _e.replace(/\./g,"\\.?").replace(spaceOrNBSPRegExp,spaceOrNBSP)}function stripInsensitivities(_e){return _e.replace(/\./g,"").replace(spaceOrNBSPRegExp," ").toLowerCase()}function oneOf(_e,et){return _e===null?null:{regex:RegExp(_e.map(fixListRegex).join("|")),deser:([tt])=>_e.findIndex(rt=>stripInsensitivities(tt)===stripInsensitivities(rt))+et}}function offset(_e,et){return{regex:_e,deser:([,tt,rt])=>signedOffset(tt,rt),groups:et}}function simple(_e){return{regex:_e,deser:([et])=>et}}function escapeToken(_e){return _e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function unitForToken(_e,et){const tt=digitRegex(et),rt=digitRegex(et,"{2}"),nt=digitRegex(et,"{3}"),it=digitRegex(et,"{4}"),at=digitRegex(et,"{6}"),ot=digitRegex(et,"{1,2}"),st=digitRegex(et,"{1,3}"),lt=digitRegex(et,"{1,6}"),ct=digitRegex(et,"{1,9}"),ut=digitRegex(et,"{2,4}"),dt=digitRegex(et,"{4,6}"),ft=yt=>({regex:RegExp(escapeToken(yt.val)),deser:([mt])=>mt,literal:!0}),ht=(yt=>{if(_e.literal)return ft(yt);switch(yt.val){case"G":return oneOf(et.eras("short"),0);case"GG":return oneOf(et.eras("long"),0);case"y":return intUnit(lt);case"yy":return intUnit(ut,untruncateYear);case"yyyy":return intUnit(it);case"yyyyy":return intUnit(dt);case"yyyyyy":return intUnit(at);case"M":return intUnit(ot);case"MM":return intUnit(rt);case"MMM":return oneOf(et.months("short",!0),1);case"MMMM":return oneOf(et.months("long",!0),1);case"L":return intUnit(ot);case"LL":return intUnit(rt);case"LLL":return oneOf(et.months("short",!1),1);case"LLLL":return oneOf(et.months("long",!1),1);case"d":return intUnit(ot);case"dd":return intUnit(rt);case"o":return intUnit(st);case"ooo":return intUnit(nt);case"HH":return intUnit(rt);case"H":return intUnit(ot);case"hh":return intUnit(rt);case"h":return intUnit(ot);case"mm":return intUnit(rt);case"m":return intUnit(ot);case"q":return intUnit(ot);case"qq":return intUnit(rt);case"s":return intUnit(ot);case"ss":return intUnit(rt);case"S":return intUnit(st);case"SSS":return intUnit(nt);case"u":return simple(ct);case"uu":return simple(ot);case"uuu":return intUnit(tt);case"a":return oneOf(et.meridiems(),0);case"kkkk":return intUnit(it);case"kk":return intUnit(ut,untruncateYear);case"W":return intUnit(ot);case"WW":return intUnit(rt);case"E":case"c":return intUnit(tt);case"EEE":return oneOf(et.weekdays("short",!1),1);case"EEEE":return oneOf(et.weekdays("long",!1),1);case"ccc":return oneOf(et.weekdays("short",!0),1);case"cccc":return oneOf(et.weekdays("long",!0),1);case"Z":case"ZZ":return offset(new RegExp(`([+-]${ot.source})(?::(${rt.source}))?`),2);case"ZZZ":return offset(new RegExp(`([+-]${ot.source})(${rt.source})?`),2);case"z":return simple(/[a-z_+-/]{1,256}?/i);case" ":return simple(/[^\S\n\r]/);default:return ft(yt)}})(_e)||{invalidReason:MISSING_FTP};return ht.token=_e,ht}const partTypeStyleToTokenVal={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function tokenForPart(_e,et,tt){const{type:rt,value:nt}=_e;if(rt==="literal"){const st=/^\s+$/.test(nt);return{literal:!st,val:st?" ":nt}}const it=et[rt];let at=rt;rt==="hour"&&(et.hour12!=null?at=et.hour12?"hour12":"hour24":et.hourCycle!=null?et.hourCycle==="h11"||et.hourCycle==="h12"?at="hour12":at="hour24":at=tt.hour12?"hour12":"hour24");let ot=partTypeStyleToTokenVal[at];if(typeof ot=="object"&&(ot=ot[it]),ot)return{literal:!1,val:ot}}function buildRegex(_e){return[`^${_e.map(tt=>tt.regex).reduce((tt,rt)=>`${tt}(${rt.source})`,"")}$`,_e]}function match(_e,et,tt){const rt=_e.match(et);if(rt){const nt={};let it=1;for(const at in tt)if(hasOwnProperty(tt,at)){const ot=tt[at],st=ot.groups?ot.groups+1:1;!ot.literal&&ot.token&&(nt[ot.token.val[0]]=ot.deser(rt.slice(it,it+st))),it+=st}return[rt,nt]}else return[rt,{}]}function dateTimeFromMatches(_e){const et=it=>{switch(it){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let tt=null,rt;return isUndefined(_e.z)||(tt=IANAZone.create(_e.z)),isUndefined(_e.Z)||(tt||(tt=new FixedOffsetZone(_e.Z)),rt=_e.Z),isUndefined(_e.q)||(_e.M=(_e.q-1)*3+1),isUndefined(_e.h)||(_e.h<12&&_e.a===1?_e.h+=12:_e.h===12&&_e.a===0&&(_e.h=0)),_e.G===0&&_e.y&&(_e.y=-_e.y),isUndefined(_e.u)||(_e.S=parseMillis(_e.u)),[Object.keys(_e).reduce((it,at)=>{const ot=et(at);return ot&&(it[ot]=_e[at]),it},{}),tt,rt]}let dummyDateTimeCache=null;function getDummyDateTime(){return dummyDateTimeCache||(dummyDateTimeCache=DateTime.fromMillis(1555555555555)),dummyDateTimeCache}function maybeExpandMacroToken(_e,et){if(_e.literal)return _e;const tt=Formatter.macroTokenToFormatOpts(_e.val),rt=formatOptsToTokens(tt,et);return rt==null||rt.includes(void 0)?_e:rt}function expandMacroTokens(_e,et){return Array.prototype.concat(..._e.map(tt=>maybeExpandMacroToken(tt,et)))}class TokenParser{constructor(et,tt){if(this.locale=et,this.format=tt,this.tokens=expandMacroTokens(Formatter.parseFormat(tt),et),this.units=this.tokens.map(rt=>unitForToken(rt,et)),this.disqualifyingUnit=this.units.find(rt=>rt.invalidReason),!this.disqualifyingUnit){const[rt,nt]=buildRegex(this.units);this.regex=RegExp(rt,"i"),this.handlers=nt}}explainFromTokens(et){if(this.isValid){const[tt,rt]=match(et,this.regex,this.handlers),[nt,it,at]=rt?dateTimeFromMatches(rt):[null,null,void 0];if(hasOwnProperty(rt,"a")&&hasOwnProperty(rt,"H"))throw new ConflictingSpecificationError("Can't include meridiem when specifying 24-hour format");return{input:et,tokens:this.tokens,regex:this.regex,rawMatches:tt,matches:rt,result:nt,zone:it,specificOffset:at}}else return{input:et,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function explainFromTokens(_e,et,tt){return new TokenParser(_e,tt).explainFromTokens(et)}function parseFromTokens(_e,et,tt){const{result:rt,zone:nt,specificOffset:it,invalidReason:at}=explainFromTokens(_e,et,tt);return[rt,nt,it,at]}function formatOptsToTokens(_e,et){if(!_e)return null;const rt=Formatter.create(et,_e).dtFormatter(getDummyDateTime()),nt=rt.formatToParts(),it=rt.resolvedOptions();return nt.map(at=>tokenForPart(at,_e,it))}const INVALID="Invalid DateTime",MAX_DATE=864e13;function unsupportedZone(_e){return new Invalid("unsupported zone",`the zone "${_e.name}" is not supported`)}function possiblyCachedWeekData(_e){return _e.weekData===null&&(_e.weekData=gregorianToWeek(_e.c)),_e.weekData}function possiblyCachedLocalWeekData(_e){return _e.localWeekData===null&&(_e.localWeekData=gregorianToWeek(_e.c,_e.loc.getMinDaysInFirstWeek(),_e.loc.getStartOfWeek())),_e.localWeekData}function clone(_e,et){const tt={ts:_e.ts,zone:_e.zone,c:_e.c,o:_e.o,loc:_e.loc,invalid:_e.invalid};return new DateTime({...tt,...et,old:tt})}function fixOffset(_e,et,tt){let rt=_e-et*60*1e3;const nt=tt.offset(rt);if(et===nt)return[rt,et];rt-=(nt-et)*60*1e3;const it=tt.offset(rt);return nt===it?[rt,nt]:[_e-Math.min(nt,it)*60*1e3,Math.max(nt,it)]}function tsToObj(_e,et){_e+=et*60*1e3;const tt=new Date(_e);return{year:tt.getUTCFullYear(),month:tt.getUTCMonth()+1,day:tt.getUTCDate(),hour:tt.getUTCHours(),minute:tt.getUTCMinutes(),second:tt.getUTCSeconds(),millisecond:tt.getUTCMilliseconds()}}function objToTS(_e,et,tt){return fixOffset(objToLocalTS(_e),et,tt)}function adjustTime(_e,et){const tt=_e.o,rt=_e.c.year+Math.trunc(et.years),nt=_e.c.month+Math.trunc(et.months)+Math.trunc(et.quarters)*3,it={..._e.c,year:rt,month:nt,day:Math.min(_e.c.day,daysInMonth(rt,nt))+Math.trunc(et.days)+Math.trunc(et.weeks)*7},at=Duration.fromObject({years:et.years-Math.trunc(et.years),quarters:et.quarters-Math.trunc(et.quarters),months:et.months-Math.trunc(et.months),weeks:et.weeks-Math.trunc(et.weeks),days:et.days-Math.trunc(et.days),hours:et.hours,minutes:et.minutes,seconds:et.seconds,milliseconds:et.milliseconds}).as("milliseconds"),ot=objToLocalTS(it);let[st,lt]=fixOffset(ot,tt,_e.zone);return at!==0&&(st+=at,lt=_e.zone.offset(st)),{ts:st,o:lt}}function parseDataToDateTime(_e,et,tt,rt,nt,it){const{setZone:at,zone:ot}=tt;if(_e&&Object.keys(_e).length!==0||et){const st=et||ot,lt=DateTime.fromObject(_e,{...tt,zone:st,specificOffset:it});return at?lt:lt.setZone(ot)}else return DateTime.invalid(new Invalid("unparsable",`the input "${nt}" can't be parsed as ${rt}`))}function toTechFormat(_e,et,tt=!0){return _e.isValid?Formatter.create(Locale.create("en-US"),{allowZ:tt,forceSimple:!0}).formatDateTimeFromString(_e,et):null}function toISODate(_e,et){const tt=_e.c.year>9999||_e.c.year<0;let rt="";return tt&&_e.c.year>=0&&(rt+="+"),rt+=padStart(_e.c.year,tt?6:4),et?(rt+="-",rt+=padStart(_e.c.month),rt+="-",rt+=padStart(_e.c.day)):(rt+=padStart(_e.c.month),rt+=padStart(_e.c.day)),rt}function toISOTime(_e,et,tt,rt,nt,it){let at=padStart(_e.c.hour);return et?(at+=":",at+=padStart(_e.c.minute),(_e.c.millisecond!==0||_e.c.second!==0||!tt)&&(at+=":")):at+=padStart(_e.c.minute),(_e.c.millisecond!==0||_e.c.second!==0||!tt)&&(at+=padStart(_e.c.second),(_e.c.millisecond!==0||!rt)&&(at+=".",at+=padStart(_e.c.millisecond,3))),nt&&(_e.isOffsetFixed&&_e.offset===0&&!it?at+="Z":_e.o<0?(at+="-",at+=padStart(Math.trunc(-_e.o/60)),at+=":",at+=padStart(Math.trunc(-_e.o%60))):(at+="+",at+=padStart(Math.trunc(_e.o/60)),at+=":",at+=padStart(Math.trunc(_e.o%60)))),it&&(at+="["+_e.zone.ianaName+"]"),at}const defaultUnitValues={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},defaultWeekUnitValues={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},defaultOrdinalUnitValues={ordinal:1,hour:0,minute:0,second:0,millisecond:0},orderedUnits=["year","month","day","hour","minute","second","millisecond"],orderedWeekUnits=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],orderedOrdinalUnits=["year","ordinal","hour","minute","second","millisecond"];function normalizeUnit(_e){const et={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[_e.toLowerCase()];if(!et)throw new InvalidUnitError(_e);return et}function normalizeUnitWithLocalWeeks(_e){switch(_e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return normalizeUnit(_e)}}function guessOffsetForZone(_e){return zoneOffsetGuessCache[_e]||(zoneOffsetTs===void 0&&(zoneOffsetTs=Settings.now()),zoneOffsetGuessCache[_e]=_e.offset(zoneOffsetTs)),zoneOffsetGuessCache[_e]}function quickDT(_e,et){const tt=normalizeZone(et.zone,Settings.defaultZone);if(!tt.isValid)return DateTime.invalid(unsupportedZone(tt));const rt=Locale.fromObject(et);let nt,it;if(isUndefined(_e.year))nt=Settings.now();else{for(const st of orderedUnits)isUndefined(_e[st])&&(_e[st]=defaultUnitValues[st]);const at=hasInvalidGregorianData(_e)||hasInvalidTimeData(_e);if(at)return DateTime.invalid(at);const ot=guessOffsetForZone(tt);[nt,it]=objToTS(_e,ot,tt)}return new DateTime({ts:nt,zone:tt,loc:rt,o:it})}function diffRelative(_e,et,tt){const rt=isUndefined(tt.round)?!0:tt.round,nt=(at,ot)=>(at=roundTo(at,rt||tt.calendary?0:2,!0),et.loc.clone(tt).relFormatter(tt).format(at,ot)),it=at=>tt.calendary?et.hasSame(_e,at)?0:et.startOf(at).diff(_e.startOf(at),at).get(at):et.diff(_e,at).get(at);if(tt.unit)return nt(it(tt.unit),tt.unit);for(const at of tt.units){const ot=it(at);if(Math.abs(ot)>=1)return nt(ot,at)}return nt(_e>et?-0:0,tt.units[tt.units.length-1])}function lastOpts(_e){let et={},tt;return _e.length>0&&typeof _e[_e.length-1]=="object"?(et=_e[_e.length-1],tt=Array.from(_e).slice(0,_e.length-1)):tt=Array.from(_e),[et,tt]}let zoneOffsetTs,zoneOffsetGuessCache={};class DateTime{constructor(et){const tt=et.zone||Settings.defaultZone;let rt=et.invalid||(Number.isNaN(et.ts)?new Invalid("invalid input"):null)||(tt.isValid?null:unsupportedZone(tt));this.ts=isUndefined(et.ts)?Settings.now():et.ts;let nt=null,it=null;if(!rt)if(et.old&&et.old.ts===this.ts&&et.old.zone.equals(tt))[nt,it]=[et.old.c,et.old.o];else{const ot=isNumber(et.o)&&!et.old?et.o:tt.offset(this.ts);nt=tsToObj(this.ts,ot),rt=Number.isNaN(nt.year)?new Invalid("invalid input"):null,nt=rt?null:nt,it=rt?null:ot}this._zone=tt,this.loc=et.loc||Locale.create(),this.invalid=rt,this.weekData=null,this.localWeekData=null,this.c=nt,this.o=it,this.isLuxonDateTime=!0}static now(){return new DateTime({})}static local(){const[et,tt]=lastOpts(arguments),[rt,nt,it,at,ot,st,lt]=tt;return quickDT({year:rt,month:nt,day:it,hour:at,minute:ot,second:st,millisecond:lt},et)}static utc(){const[et,tt]=lastOpts(arguments),[rt,nt,it,at,ot,st,lt]=tt;return et.zone=FixedOffsetZone.utcInstance,quickDT({year:rt,month:nt,day:it,hour:at,minute:ot,second:st,millisecond:lt},et)}static fromJSDate(et,tt={}){const rt=isDate(et)?et.valueOf():NaN;if(Number.isNaN(rt))return DateTime.invalid("invalid input");const nt=normalizeZone(tt.zone,Settings.defaultZone);return nt.isValid?new DateTime({ts:rt,zone:nt,loc:Locale.fromObject(tt)}):DateTime.invalid(unsupportedZone(nt))}static fromMillis(et,tt={}){if(isNumber(et))return et<-MAX_DATE||et>MAX_DATE?DateTime.invalid("Timestamp out of range"):new DateTime({ts:et,zone:normalizeZone(tt.zone,Settings.defaultZone),loc:Locale.fromObject(tt)});throw new InvalidArgumentError(`fromMillis requires a numerical input, but received a ${typeof et} with value ${et}`)}static fromSeconds(et,tt={}){if(isNumber(et))return new DateTime({ts:et*1e3,zone:normalizeZone(tt.zone,Settings.defaultZone),loc:Locale.fromObject(tt)});throw new InvalidArgumentError("fromSeconds requires a numerical input")}static fromObject(et,tt={}){et=et||{};const rt=normalizeZone(tt.zone,Settings.defaultZone);if(!rt.isValid)return DateTime.invalid(unsupportedZone(rt));const nt=Locale.fromObject(tt),it=normalizeObject(et,normalizeUnitWithLocalWeeks),{minDaysInFirstWeek:at,startOfWeek:ot}=usesLocalWeekValues(it,nt),st=Settings.now(),lt=isUndefined(tt.specificOffset)?rt.offset(st):tt.specificOffset,ct=!isUndefined(it.ordinal),ut=!isUndefined(it.year),dt=!isUndefined(it.month)||!isUndefined(it.day),ft=ut||dt,pt=it.weekYear||it.weekNumber;if((ft||ct)&&pt)throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(dt&&ct)throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");const ht=pt||it.weekday&&!ft;let yt,mt,gt=tsToObj(st,lt);ht?(yt=orderedWeekUnits,mt=defaultWeekUnitValues,gt=gregorianToWeek(gt,at,ot)):ct?(yt=orderedOrdinalUnits,mt=defaultOrdinalUnitValues,gt=gregorianToOrdinal(gt)):(yt=orderedUnits,mt=defaultUnitValues);let vt=!1;for(const kt of yt){const Lt=it[kt];isUndefined(Lt)?vt?it[kt]=mt[kt]:it[kt]=gt[kt]:vt=!0}const St=ht?hasInvalidWeekData(it,at,ot):ct?hasInvalidOrdinalData(it):hasInvalidGregorianData(it),xt=St||hasInvalidTimeData(it);if(xt)return DateTime.invalid(xt);const Ct=ht?weekToGregorian(it,at,ot):ct?ordinalToGregorian(it):it,[wt,_t]=objToTS(Ct,lt,rt),Ot=new DateTime({ts:wt,zone:rt,o:_t,loc:nt});return it.weekday&&ft&&et.weekday!==Ot.weekday?DateTime.invalid("mismatched weekday",`you can't specify both a weekday of ${it.weekday} and a date of ${Ot.toISO()}`):Ot.isValid?Ot:DateTime.invalid(Ot.invalid)}static fromISO(et,tt={}){const[rt,nt]=parseISODate(et);return parseDataToDateTime(rt,nt,tt,"ISO 8601",et)}static fromRFC2822(et,tt={}){const[rt,nt]=parseRFC2822Date(et);return parseDataToDateTime(rt,nt,tt,"RFC 2822",et)}static fromHTTP(et,tt={}){const[rt,nt]=parseHTTPDate(et);return parseDataToDateTime(rt,nt,tt,"HTTP",tt)}static fromFormat(et,tt,rt={}){if(isUndefined(et)||isUndefined(tt))throw new InvalidArgumentError("fromFormat requires an input string and a format");const{locale:nt=null,numberingSystem:it=null}=rt,at=Locale.fromOpts({locale:nt,numberingSystem:it,defaultToEN:!0}),[ot,st,lt,ct]=parseFromTokens(at,et,tt);return ct?DateTime.invalid(ct):parseDataToDateTime(ot,st,rt,`format ${tt}`,et,lt)}static fromString(et,tt,rt={}){return DateTime.fromFormat(et,tt,rt)}static fromSQL(et,tt={}){const[rt,nt]=parseSQL(et);return parseDataToDateTime(rt,nt,tt,"SQL",et)}static invalid(et,tt=null){if(!et)throw new InvalidArgumentError("need to specify a reason the DateTime is invalid");const rt=et instanceof Invalid?et:new Invalid(et,tt);if(Settings.throwOnInvalid)throw new InvalidDateTimeError(rt);return new DateTime({invalid:rt})}static isDateTime(et){return et&&et.isLuxonDateTime||!1}static parseFormatForOpts(et,tt={}){const rt=formatOptsToTokens(et,Locale.fromObject(tt));return rt?rt.map(nt=>nt?nt.val:null).join(""):null}static expandFormat(et,tt={}){return expandMacroTokens(Formatter.parseFormat(et),Locale.fromObject(tt)).map(nt=>nt.val).join("")}static resetCache(){zoneOffsetTs=void 0,zoneOffsetGuessCache={}}get(et){return this[et]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?possiblyCachedWeekData(this).weekYear:NaN}get weekNumber(){return this.isValid?possiblyCachedWeekData(this).weekNumber:NaN}get weekday(){return this.isValid?possiblyCachedWeekData(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?possiblyCachedLocalWeekData(this).weekday:NaN}get localWeekNumber(){return this.isValid?possiblyCachedLocalWeekData(this).weekNumber:NaN}get localWeekYear(){return this.isValid?possiblyCachedLocalWeekData(this).weekYear:NaN}get ordinal(){return this.isValid?gregorianToOrdinal(this.c).ordinal:NaN}get monthShort(){return this.isValid?Info.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Info.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Info.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Info.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const et=864e5,tt=6e4,rt=objToLocalTS(this.c),nt=this.zone.offset(rt-et),it=this.zone.offset(rt+et),at=this.zone.offset(rt-nt*tt),ot=this.zone.offset(rt-it*tt);if(at===ot)return[this];const st=rt-at*tt,lt=rt-ot*tt,ct=tsToObj(st,at),ut=tsToObj(lt,ot);return ct.hour===ut.hour&&ct.minute===ut.minute&&ct.second===ut.second&&ct.millisecond===ut.millisecond?[clone(this,{ts:st}),clone(this,{ts:lt})]:[this]}get isInLeapYear(){return isLeapYear(this.year)}get daysInMonth(){return daysInMonth(this.year,this.month)}get daysInYear(){return this.isValid?daysInYear(this.year):NaN}get weeksInWeekYear(){return this.isValid?weeksInWeekYear(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?weeksInWeekYear(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(et={}){const{locale:tt,numberingSystem:rt,calendar:nt}=Formatter.create(this.loc.clone(et),et).resolvedOptions(this);return{locale:tt,numberingSystem:rt,outputCalendar:nt}}toUTC(et=0,tt={}){return this.setZone(FixedOffsetZone.instance(et),tt)}toLocal(){return this.setZone(Settings.defaultZone)}setZone(et,{keepLocalTime:tt=!1,keepCalendarTime:rt=!1}={}){if(et=normalizeZone(et,Settings.defaultZone),et.equals(this.zone))return this;if(et.isValid){let nt=this.ts;if(tt||rt){const it=et.offset(this.ts),at=this.toObject();[nt]=objToTS(at,it,et)}return clone(this,{ts:nt,zone:et})}else return DateTime.invalid(unsupportedZone(et))}reconfigure({locale:et,numberingSystem:tt,outputCalendar:rt}={}){const nt=this.loc.clone({locale:et,numberingSystem:tt,outputCalendar:rt});return clone(this,{loc:nt})}setLocale(et){return this.reconfigure({locale:et})}set(et){if(!this.isValid)return this;const tt=normalizeObject(et,normalizeUnitWithLocalWeeks),{minDaysInFirstWeek:rt,startOfWeek:nt}=usesLocalWeekValues(tt,this.loc),it=!isUndefined(tt.weekYear)||!isUndefined(tt.weekNumber)||!isUndefined(tt.weekday),at=!isUndefined(tt.ordinal),ot=!isUndefined(tt.year),st=!isUndefined(tt.month)||!isUndefined(tt.day),lt=ot||st,ct=tt.weekYear||tt.weekNumber;if((lt||at)&&ct)throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(st&&at)throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");let ut;it?ut=weekToGregorian({...gregorianToWeek(this.c,rt,nt),...tt},rt,nt):isUndefined(tt.ordinal)?(ut={...this.toObject(),...tt},isUndefined(tt.day)&&(ut.day=Math.min(daysInMonth(ut.year,ut.month),ut.day))):ut=ordinalToGregorian({...gregorianToOrdinal(this.c),...tt});const[dt,ft]=objToTS(ut,this.o,this.zone);return clone(this,{ts:dt,o:ft})}plus(et){if(!this.isValid)return this;const tt=Duration.fromDurationLike(et);return clone(this,adjustTime(this,tt))}minus(et){if(!this.isValid)return this;const tt=Duration.fromDurationLike(et).negate();return clone(this,adjustTime(this,tt))}startOf(et,{useLocaleWeeks:tt=!1}={}){if(!this.isValid)return this;const rt={},nt=Duration.normalizeUnit(et);switch(nt){case"years":rt.month=1;case"quarters":case"months":rt.day=1;case"weeks":case"days":rt.hour=0;case"hours":rt.minute=0;case"minutes":rt.second=0;case"seconds":rt.millisecond=0;break}if(nt==="weeks")if(tt){const it=this.loc.getStartOfWeek(),{weekday:at}=this;at<it&&(rt.weekNumber=this.weekNumber-1),rt.weekday=it}else rt.weekday=1;if(nt==="quarters"){const it=Math.ceil(this.month/3);rt.month=(it-1)*3+1}return this.set(rt)}endOf(et,tt){return this.isValid?this.plus({[et]:1}).startOf(et,tt).minus(1):this}toFormat(et,tt={}){return this.isValid?Formatter.create(this.loc.redefaultToEN(tt)).formatDateTimeFromString(this,et):INVALID}toLocaleString(et=DATE_SHORT,tt={}){return this.isValid?Formatter.create(this.loc.clone(tt),et).formatDateTime(this):INVALID}toLocaleParts(et={}){return this.isValid?Formatter.create(this.loc.clone(et),et).formatDateTimeParts(this):[]}toISO({format:et="extended",suppressSeconds:tt=!1,suppressMilliseconds:rt=!1,includeOffset:nt=!0,extendedZone:it=!1}={}){if(!this.isValid)return null;const at=et==="extended";let ot=toISODate(this,at);return ot+="T",ot+=toISOTime(this,at,tt,rt,nt,it),ot}toISODate({format:et="extended"}={}){return this.isValid?toISODate(this,et==="extended"):null}toISOWeekDate(){return toTechFormat(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:et=!1,suppressSeconds:tt=!1,includeOffset:rt=!0,includePrefix:nt=!1,extendedZone:it=!1,format:at="extended"}={}){return this.isValid?(nt?"T":"")+toISOTime(this,at==="extended",tt,et,rt,it):null}toRFC2822(){return toTechFormat(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return toTechFormat(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?toISODate(this,!0):null}toSQLTime({includeOffset:et=!0,includeZone:tt=!1,includeOffsetSpace:rt=!0}={}){let nt="HH:mm:ss.SSS";return(tt||et)&&(rt&&(nt+=" "),tt?nt+="z":et&&(nt+="ZZ")),toTechFormat(this,nt,!0)}toSQL(et={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(et)}`:null}toString(){return this.isValid?this.toISO():INVALID}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(et={}){if(!this.isValid)return{};const tt={...this.c};return et.includeConfig&&(tt.outputCalendar=this.outputCalendar,tt.numberingSystem=this.loc.numberingSystem,tt.locale=this.loc.locale),tt}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(et,tt="milliseconds",rt={}){if(!this.isValid||!et.isValid)return Duration.invalid("created by diffing an invalid DateTime");const nt={locale:this.locale,numberingSystem:this.numberingSystem,...rt},it=maybeArray(tt).map(Duration.normalizeUnit),at=et.valueOf()>this.valueOf(),ot=at?this:et,st=at?et:this,lt=diff(ot,st,it,nt);return at?lt.negate():lt}diffNow(et="milliseconds",tt={}){return this.diff(DateTime.now(),et,tt)}until(et){return this.isValid?Interval.fromDateTimes(this,et):this}hasSame(et,tt,rt){if(!this.isValid)return!1;const nt=et.valueOf(),it=this.setZone(et.zone,{keepLocalTime:!0});return it.startOf(tt,rt)<=nt&&nt<=it.endOf(tt,rt)}equals(et){return this.isValid&&et.isValid&&this.valueOf()===et.valueOf()&&this.zone.equals(et.zone)&&this.loc.equals(et.loc)}toRelative(et={}){if(!this.isValid)return null;const tt=et.base||DateTime.fromObject({},{zone:this.zone}),rt=et.padding?this<tt?-et.padding:et.padding:0;let nt=["years","months","days","hours","minutes","seconds"],it=et.unit;return Array.isArray(et.unit)&&(nt=et.unit,it=void 0),diffRelative(tt,this.plus(rt),{...et,numeric:"always",units:nt,unit:it})}toRelativeCalendar(et={}){return this.isValid?diffRelative(et.base||DateTime.fromObject({},{zone:this.zone}),this,{...et,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...et){if(!et.every(DateTime.isDateTime))throw new InvalidArgumentError("min requires all arguments be DateTimes");return bestBy(et,tt=>tt.valueOf(),Math.min)}static max(...et){if(!et.every(DateTime.isDateTime))throw new InvalidArgumentError("max requires all arguments be DateTimes");return bestBy(et,tt=>tt.valueOf(),Math.max)}static fromFormatExplain(et,tt,rt={}){const{locale:nt=null,numberingSystem:it=null}=rt,at=Locale.fromOpts({locale:nt,numberingSystem:it,defaultToEN:!0});return explainFromTokens(at,et,tt)}static fromStringExplain(et,tt,rt={}){return DateTime.fromFormatExplain(et,tt,rt)}static buildFormatParser(et,tt={}){const{locale:rt=null,numberingSystem:nt=null}=tt,it=Locale.fromOpts({locale:rt,numberingSystem:nt,defaultToEN:!0});return new TokenParser(it,et)}static fromFormatParser(et,tt,rt={}){if(isUndefined(et)||isUndefined(tt))throw new InvalidArgumentError("fromFormatParser requires an input string and a format parser");const{locale:nt=null,numberingSystem:it=null}=rt,at=Locale.fromOpts({locale:nt,numberingSystem:it,defaultToEN:!0});if(!at.equals(tt.locale))throw new InvalidArgumentError(`fromFormatParser called with a locale of ${at}, but the format parser was created for ${tt.locale}`);const{result:ot,zone:st,specificOffset:lt,invalidReason:ct}=tt.explainFromTokens(et);return ct?DateTime.invalid(ct):parseDataToDateTime(ot,st,rt,`format ${tt.format}`,et,lt)}static get DATE_SHORT(){return DATE_SHORT}static get DATE_MED(){return DATE_MED}static get DATE_MED_WITH_WEEKDAY(){return DATE_MED_WITH_WEEKDAY}static get DATE_FULL(){return DATE_FULL}static get DATE_HUGE(){return DATE_HUGE}static get TIME_SIMPLE(){return TIME_SIMPLE}static get TIME_WITH_SECONDS(){return TIME_WITH_SECONDS}static get TIME_WITH_SHORT_OFFSET(){return TIME_WITH_SHORT_OFFSET}static get TIME_WITH_LONG_OFFSET(){return TIME_WITH_LONG_OFFSET}static get TIME_24_SIMPLE(){return TIME_24_SIMPLE}static get TIME_24_WITH_SECONDS(){return TIME_24_WITH_SECONDS}static get TIME_24_WITH_SHORT_OFFSET(){return TIME_24_WITH_SHORT_OFFSET}static get TIME_24_WITH_LONG_OFFSET(){return TIME_24_WITH_LONG_OFFSET}static get DATETIME_SHORT(){return DATETIME_SHORT}static get DATETIME_SHORT_WITH_SECONDS(){return DATETIME_SHORT_WITH_SECONDS}static get DATETIME_MED(){return DATETIME_MED}static get DATETIME_MED_WITH_SECONDS(){return DATETIME_MED_WITH_SECONDS}static get DATETIME_MED_WITH_WEEKDAY(){return DATETIME_MED_WITH_WEEKDAY}static get DATETIME_FULL(){return DATETIME_FULL}static get DATETIME_FULL_WITH_SECONDS(){return DATETIME_FULL_WITH_SECONDS}static get DATETIME_HUGE(){return DATETIME_HUGE}static get DATETIME_HUGE_WITH_SECONDS(){return DATETIME_HUGE_WITH_SECONDS}}function friendlyDateTime(_e){if(DateTime.isDateTime(_e))return _e;if(_e&&_e.valueOf&&isNumber(_e.valueOf()))return DateTime.fromJSDate(_e);if(_e&&typeof _e=="object")return DateTime.fromObject(_e);throw new InvalidArgumentError(`Unknown datetime argument: ${_e}, of type ${typeof _e}`)}const VERSION="3.5.0";luxon$1.DateTime=DateTime;luxon$1.Duration=Duration;luxon$1.FixedOffsetZone=FixedOffsetZone;luxon$1.IANAZone=IANAZone;luxon$1.Info=Info;luxon$1.Interval=Interval;luxon$1.InvalidZone=InvalidZone;luxon$1.Settings=Settings;luxon$1.SystemZone=SystemZone;luxon$1.VERSION=VERSION;luxon$1.Zone=Zone;var luxon=luxon$1;CronDate$1.prototype.addYear=function(){this._date=this._date.plus({years:1})};CronDate$1.prototype.addMonth=function(){this._date=this._date.plus({months:1}).startOf("month")};CronDate$1.prototype.addDay=function(){this._date=this._date.plus({days:1}).startOf("day")};CronDate$1.prototype.addHour=function(){var _e=this._date;this._date=this._date.plus({hours:1}).startOf("hour"),this._date<=_e&&(this._date=this._date.plus({hours:1}))};CronDate$1.prototype.addMinute=function(){var _e=this._date;this._date=this._date.plus({minutes:1}).startOf("minute"),this._date<_e&&(this._date=this._date.plus({hours:1}))};CronDate$1.prototype.addSecond=function(){var _e=this._date;this._date=this._date.plus({seconds:1}).startOf("second"),this._date<_e&&(this._date=this._date.plus({hours:1}))};CronDate$1.prototype.subtractYear=function(){this._date=this._date.minus({years:1})};CronDate$1.prototype.subtractMonth=function(){this._date=this._date.minus({months:1}).endOf("month").startOf("second")};CronDate$1.prototype.subtractDay=function(){this._date=this._date.minus({days:1}).endOf("day").startOf("second")};CronDate$1.prototype.subtractHour=function(){var _e=this._date;this._date=this._date.minus({hours:1}).endOf("hour").startOf("second"),this._date>=_e&&(this._date=this._date.minus({hours:1}))};CronDate$1.prototype.subtractMinute=function(){var _e=this._date;this._date=this._date.minus({minutes:1}).endOf("minute").startOf("second"),this._date>_e&&(this._date=this._date.minus({hours:1}))};CronDate$1.prototype.subtractSecond=function(){var _e=this._date;this._date=this._date.minus({seconds:1}).startOf("second"),this._date>_e&&(this._date=this._date.minus({hours:1}))};CronDate$1.prototype.getDate=function(){return this._date.day};CronDate$1.prototype.getFullYear=function(){return this._date.year};CronDate$1.prototype.getDay=function(){var _e=this._date.weekday;return _e==7?0:_e};CronDate$1.prototype.getMonth=function(){return this._date.month-1};CronDate$1.prototype.getHours=function(){return this._date.hour};CronDate$1.prototype.getMinutes=function(){return this._date.minute};CronDate$1.prototype.getSeconds=function(){return this._date.second};CronDate$1.prototype.getMilliseconds=function(){return this._date.millisecond};CronDate$1.prototype.getTime=function(){return this._date.valueOf()};CronDate$1.prototype.getUTCDate=function(){return this._getUTC().day};CronDate$1.prototype.getUTCFullYear=function(){return this._getUTC().year};CronDate$1.prototype.getUTCDay=function(){var _e=this._getUTC().weekday;return _e==7?0:_e};CronDate$1.prototype.getUTCMonth=function(){return this._getUTC().month-1};CronDate$1.prototype.getUTCHours=function(){return this._getUTC().hour};CronDate$1.prototype.getUTCMinutes=function(){return this._getUTC().minute};CronDate$1.prototype.getUTCSeconds=function(){return this._getUTC().second};CronDate$1.prototype.toISOString=function(){return this._date.toUTC().toISO()};CronDate$1.prototype.toJSON=function(){return this._date.toJSON()};CronDate$1.prototype.setDate=function(_e){this._date=this._date.set({day:_e})};CronDate$1.prototype.setFullYear=function(_e){this._date=this._date.set({year:_e})};CronDate$1.prototype.setDay=function(_e){this._date=this._date.set({weekday:_e})};CronDate$1.prototype.setMonth=function(_e){this._date=this._date.set({month:_e+1})};CronDate$1.prototype.setHours=function(_e){this._date=this._date.set({hour:_e})};CronDate$1.prototype.setMinutes=function(_e){this._date=this._date.set({minute:_e})};CronDate$1.prototype.setSeconds=function(_e){this._date=this._date.set({second:_e})};CronDate$1.prototype.setMilliseconds=function(_e){this._date=this._date.set({millisecond:_e})};CronDate$1.prototype._getUTC=function(){return this._date.toUTC()};CronDate$1.prototype.toString=function(){return this.toDate().toString()};CronDate$1.prototype.toDate=function(){return this._date.toJSDate()};CronDate$1.prototype.isLastDayOfMonth=function(){var _e=this._date.plus({days:1}).startOf("day");return this._date.month!==_e.month};CronDate$1.prototype.isLastWeekdayOfMonth=function(){var _e=this._date.plus({days:7}).startOf("day");return this._date.month!==_e.month};function CronDate$1(_e,et){var tt={zone:et};if(_e?_e instanceof CronDate$1?this._date=_e._date:_e instanceof Date?this._date=luxon.DateTime.fromJSDate(_e,tt):typeof _e=="number"?this._date=luxon.DateTime.fromMillis(_e,tt):typeof _e=="string"&&(this._date=luxon.DateTime.fromISO(_e,tt),this._date.isValid||(this._date=luxon.DateTime.fromRFC2822(_e,tt)),this._date.isValid||(this._date=luxon.DateTime.fromSQL(_e,tt)),this._date.isValid||(this._date=luxon.DateTime.fromFormat(_e,"EEE, d MMM yyyy HH:mm:ss",tt))):this._date=luxon.DateTime.local(),!this._date||!this._date.isValid)throw new Error("CronDate: unhandled timestamp: "+JSON.stringify(_e));et&&et!==this._date.zoneName&&(this._date=this._date.setZone(et))}var date=CronDate$1;function buildRange(_e){return{start:_e,count:1}}function completeRangeWithItem(_e,et){_e.end=et,_e.step=et-_e.start,_e.count=2}function finalizeCurrentRange(_e,et,tt){et&&(et.count===2?(_e.push(buildRange(et.start)),_e.push(buildRange(et.end))):_e.push(et)),tt&&_e.push(tt)}function compactField$1(_e){for(var et=[],tt=void 0,rt=0;rt<_e.length;rt++){var nt=_e[rt];typeof nt!="number"?(finalizeCurrentRange(et,tt,buildRange(nt)),tt=void 0):tt?tt.count===1?completeRangeWithItem(tt,nt):tt.step===nt-tt.end?(tt.count++,tt.end=nt):tt.count===2?(et.push(buildRange(tt.start)),tt=buildRange(tt.end),completeRangeWithItem(tt,nt)):(finalizeCurrentRange(et,tt),tt=buildRange(nt)):tt=buildRange(nt)}return finalizeCurrentRange(et,tt),et}var field_compactor=compactField$1,compactField=field_compactor;function stringifyField$1(_e,et,tt){var rt=compactField(_e);if(rt.length===1){var nt=rt[0],it=nt.step;if(it===1&&nt.start===et&&nt.end===tt)return"*";if(it!==1&&nt.start===et&&nt.end===tt-it+1)return"*/"+it}for(var at=[],ot=0,st=rt.length;ot<st;++ot){var lt=rt[ot];if(lt.count===1){at.push(lt.start);continue}var it=lt.step;if(lt.step===1){at.push(lt.start+"-"+lt.end);continue}var ct=lt.start==0?lt.count-1:lt.count;lt.step*ct>lt.end?at=at.concat(Array.from({length:lt.end-lt.start+1}).map(function(dt,ft){var pt=lt.start+ft;return(pt-lt.start)%lt.step===0?pt:null}).filter(function(dt){return dt!=null})):lt.end===tt-lt.step+1?at.push(lt.start+"/"+lt.step):at.push(lt.start+"-"+lt.end+"/"+lt.step)}return at.join(",")}var field_stringify=stringifyField$1,CronDate=date,stringifyField=field_stringify,LOOP_LIMIT=1e4;function CronExpression$1(_e,et){this._options=et,this._utc=et.utc||!1,this._tz=this._utc?"UTC":et.tz,this._currentDate=new CronDate(et.currentDate,this._tz),this._startDate=et.startDate?new CronDate(et.startDate,this._tz):null,this._endDate=et.endDate?new CronDate(et.endDate,this._tz):null,this._isIterator=et.iterator||!1,this._hasIterated=!1,this._nthDayOfWeek=et.nthDayOfWeek||0,this.fields=CronExpression$1._freezeFields(_e)}CronExpression$1.map=["second","minute","hour","dayOfMonth","month","dayOfWeek"];CronExpression$1.predefined={"@yearly":"0 0 1 1 *","@monthly":"0 0 1 * *","@weekly":"0 0 * * 0","@daily":"0 0 * * *","@hourly":"0 * * * *"};CronExpression$1.constraints=[{min:0,max:59,chars:[]},{min:0,max:59,chars:[]},{min:0,max:23,chars:[]},{min:1,max:31,chars:["L"]},{min:1,max:12,chars:[]},{min:0,max:7,chars:["L"]}];CronExpression$1.daysInMonth=[31,29,31,30,31,30,31,31,30,31,30,31];CronExpression$1.aliases={month:{jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},dayOfWeek:{sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6}};CronExpression$1.parseDefaults=["0","*","*","*","*","*"];CronExpression$1.standardValidCharacters=/^[,*\d/-]+$/;CronExpression$1.dayOfWeekValidCharacters=/^[?,*\dL#/-]+$/;CronExpression$1.dayOfMonthValidCharacters=/^[?,*\dL/-]+$/;CronExpression$1.validCharacters={second:CronExpression$1.standardValidCharacters,minute:CronExpression$1.standardValidCharacters,hour:CronExpression$1.standardValidCharacters,dayOfMonth:CronExpression$1.dayOfMonthValidCharacters,month:CronExpression$1.standardValidCharacters,dayOfWeek:CronExpression$1.dayOfWeekValidCharacters};CronExpression$1._isValidConstraintChar=function _e(et,tt){return typeof tt!="string"?!1:et.chars.some(function(rt){return tt.indexOf(rt)>-1})};CronExpression$1._parseField=function _e(et,tt,rt){switch(et){case"month":case"dayOfWeek":var nt=CronExpression$1.aliases[et];tt=tt.replace(/[a-z]{3}/gi,function(st){if(st=st.toLowerCase(),typeof nt[st]<"u")return nt[st];throw new Error('Validation error, cannot resolve alias "'+st+'"')});break}if(!CronExpression$1.validCharacters[et].test(tt))throw new Error("Invalid characters, got value: "+tt);tt.indexOf("*")!==-1?tt=tt.replace(/\*/g,rt.min+"-"+rt.max):tt.indexOf("?")!==-1&&(tt=tt.replace(/\?/g,rt.min+"-"+rt.max));function it(st){var lt=[];function ct(pt){if(pt instanceof Array)for(var ht=0,yt=pt.length;ht<yt;ht++){var mt=pt[ht];if(CronExpression$1._isValidConstraintChar(rt,mt)){lt.push(mt);continue}if(typeof mt!="number"||Number.isNaN(mt)||mt<rt.min||mt>rt.max)throw new Error("Constraint error, got value "+mt+" expected range "+rt.min+"-"+rt.max);lt.push(mt)}else{if(CronExpression$1._isValidConstraintChar(rt,pt)){lt.push(pt);return}var gt=+pt;if(Number.isNaN(gt)||gt<rt.min||gt>rt.max)throw new Error("Constraint error, got value "+pt+" expected range "+rt.min+"-"+rt.max);et==="dayOfWeek"&&(gt=gt%7),lt.push(gt)}}var ut=st.split(",");if(!ut.every(function(pt){return pt.length>0}))throw new Error("Invalid list value format");if(ut.length>1)for(var dt=0,ft=ut.length;dt<ft;dt++)ct(at(ut[dt]));else ct(at(st));return lt.sort(CronExpression$1._sortCompareFn),lt}function at(st){var lt=1,ct=st.split("/");if(ct.length>2)throw new Error("Invalid repeat: "+st);return ct.length>1?(ct[0]==+ct[0]&&(ct=[ct[0]+"-"+rt.max,ct[1]]),ot(ct[0],ct[ct.length-1])):ot(st,lt)}function ot(st,lt){var ct=[],ut=st.split("-");if(ut.length>1){if(ut.length<2)return+st;if(!ut[0].length){if(!ut[1].length)throw new Error("Invalid range: "+st);return+st}var dt=+ut[0],ft=+ut[1];if(Number.isNaN(dt)||Number.isNaN(ft)||dt<rt.min||ft>rt.max)throw new Error("Constraint error, got range "+dt+"-"+ft+" expected range "+rt.min+"-"+rt.max);if(dt>ft)throw new Error("Invalid range: "+st);var pt=+lt;if(Number.isNaN(pt)||pt<=0)throw new Error("Constraint error, cannot repeat at every "+pt+" time.");et==="dayOfWeek"&&ft%7===0&&ct.push(0);for(var ht=dt,yt=ft;ht<=yt;ht++){var mt=ct.indexOf(ht)!==-1;!mt&&pt>0&&pt%lt===0?(pt=1,ct.push(ht)):pt++}return ct}return Number.isNaN(+st)?st:+st}return it(tt)};CronExpression$1._sortCompareFn=function(_e,et){var tt=typeof _e=="number",rt=typeof et=="number";return tt&&rt?_e-et:!tt&&rt?1:tt&&!rt?-1:_e.localeCompare(et)};CronExpression$1._handleMaxDaysInMonth=function(_e){if(_e.month.length===1){var et=CronExpression$1.daysInMonth[_e.month[0]-1];if(_e.dayOfMonth[0]>et)throw new Error("Invalid explicit day of month definition");return _e.dayOfMonth.filter(function(tt){return tt==="L"?!0:tt<=et}).sort(CronExpression$1._sortCompareFn)}};CronExpression$1._freezeFields=function(_e){for(var et=0,tt=CronExpression$1.map.length;et<tt;++et){var rt=CronExpression$1.map[et],nt=_e[rt];_e[rt]=Object.freeze(nt)}return Object.freeze(_e)};CronExpression$1.prototype._applyTimezoneShift=function(_e,et,tt){if(tt==="Month"||tt==="Day"){var rt=_e.getTime();_e[et+tt]();var nt=_e.getTime();rt===nt&&(_e.getMinutes()===0&&_e.getSeconds()===0?_e.addHour():_e.getMinutes()===59&&_e.getSeconds()===59&&_e.subtractHour())}else{var it=_e.getHours();_e[et+tt]();var at=_e.getHours(),ot=at-it;ot===2?this.fields.hour.length!==24&&(this._dstStart=at):ot===0&&_e.getMinutes()===0&&_e.getSeconds()===0&&this.fields.hour.length!==24&&(this._dstEnd=at)}};CronExpression$1.prototype._findSchedule=function _e(et){function tt(mt,gt){for(var vt=0,St=gt.length;vt<St;vt++)if(gt[vt]>=mt)return gt[vt]===mt;return gt[0]===mt}function rt(mt,gt){if(gt<6){if(mt.getDate()<8&&gt===1)return!0;var vt=mt.getDate()%7?1:0,St=mt.getDate()-mt.getDate()%7,xt=Math.floor(St/7)+vt;return xt===gt}return!1}function nt(mt){return mt.length>0&&mt.some(function(gt){return typeof gt=="string"&&gt.indexOf("L")>=0})}et=et||!1;var it=et?"subtract":"add",at=new CronDate(this._currentDate,this._tz),ot=this._startDate,st=this._endDate,lt=at.getTime(),ct=0;function ut(mt){return mt.some(function(gt){if(!nt([gt]))return!1;var vt=Number.parseInt(gt[0])%7;if(Number.isNaN(vt))throw new Error("Invalid last weekday of the month expression: "+gt);return at.getDay()===vt&&at.isLastWeekdayOfMonth()})}for(;ct<LOOP_LIMIT;){if(ct++,et){if(ot&&at.getTime()-ot.getTime()<0)throw new Error("Out of the timespan range")}else if(st&&st.getTime()-at.getTime()<0)throw new Error("Out of the timespan range");var dt=tt(at.getDate(),this.fields.dayOfMonth);nt(this.fields.dayOfMonth)&&(dt=dt||at.isLastDayOfMonth());var ft=tt(at.getDay(),this.fields.dayOfWeek);nt(this.fields.dayOfWeek)&&(ft=ft||ut(this.fields.dayOfWeek));var pt=this.fields.dayOfMonth.length>=CronExpression$1.daysInMonth[at.getMonth()],ht=this.fields.dayOfWeek.length===CronExpression$1.constraints[5].max-CronExpression$1.constraints[5].min+1,yt=at.getHours();if(!dt&&(!ft||ht)){this._applyTimezoneShift(at,it,"Day");continue}if(!pt&&ht&&!dt){this._applyTimezoneShift(at,it,"Day");continue}if(pt&&!ht&&!ft){this._applyTimezoneShift(at,it,"Day");continue}if(this._nthDayOfWeek>0&&!rt(at,this._nthDayOfWeek)){this._applyTimezoneShift(at,it,"Day");continue}if(!tt(at.getMonth()+1,this.fields.month)){this._applyTimezoneShift(at,it,"Month");continue}if(tt(yt,this.fields.hour)){if(this._dstEnd===yt&&!et){this._dstEnd=null,this._applyTimezoneShift(at,"add","Hour");continue}}else if(this._dstStart!==yt){this._dstStart=null,this._applyTimezoneShift(at,it,"Hour");continue}else if(!tt(yt-1,this.fields.hour)){at[it+"Hour"]();continue}if(!tt(at.getMinutes(),this.fields.minute)){this._applyTimezoneShift(at,it,"Minute");continue}if(!tt(at.getSeconds(),this.fields.second)){this._applyTimezoneShift(at,it,"Second");continue}if(lt===at.getTime()){it==="add"||at.getMilliseconds()===0?this._applyTimezoneShift(at,it,"Second"):at.setMilliseconds(0);continue}break}if(ct>=LOOP_LIMIT)throw new Error("Invalid expression, loop limit exceeded");return this._currentDate=new CronDate(at,this._tz),this._hasIterated=!0,at};CronExpression$1.prototype.next=function _e(){var et=this._findSchedule();return this._isIterator?{value:et,done:!this.hasNext()}:et};CronExpression$1.prototype.prev=function _e(){var et=this._findSchedule(!0);return this._isIterator?{value:et,done:!this.hasPrev()}:et};CronExpression$1.prototype.hasNext=function(){var _e=this._currentDate,et=this._hasIterated;try{return this._findSchedule(),!0}catch{return!1}finally{this._currentDate=_e,this._hasIterated=et}};CronExpression$1.prototype.hasPrev=function(){var _e=this._currentDate,et=this._hasIterated;try{return this._findSchedule(!0),!0}catch{return!1}finally{this._currentDate=_e,this._hasIterated=et}};CronExpression$1.prototype.iterate=function _e(et,tt){var rt=[];if(et>=0)for(var nt=0,it=et;nt<it;nt++)try{var at=this.next();rt.push(at),tt&&tt(at,nt)}catch{break}else for(var nt=0,it=et;nt>it;nt--)try{var at=this.prev();rt.push(at),tt&&tt(at,nt)}catch{break}return rt};CronExpression$1.prototype.reset=function _e(et){this._currentDate=new CronDate(et||this._options.currentDate)};CronExpression$1.prototype.stringify=function _e(et){for(var tt=[],rt=et?0:1,nt=CronExpression$1.map.length;rt<nt;++rt){var it=CronExpression$1.map[rt],at=this.fields[it],ot=CronExpression$1.constraints[rt];it==="dayOfMonth"&&this.fields.month.length===1?ot={min:1,max:CronExpression$1.daysInMonth[this.fields.month[0]-1]}:it==="dayOfWeek"&&(ot={min:0,max:6},at=at[at.length-1]===7?at.slice(0,-1):at),tt.push(stringifyField(at,ot.min,ot.max))}return tt.join(" ")};CronExpression$1.parse=function _e(et,tt){var rt=this;typeof tt=="function"&&(tt={});function nt(it,at){at||(at={}),typeof at.currentDate>"u"&&(at.currentDate=new CronDate(void 0,rt._tz)),CronExpression$1.predefined[it]&&(it=CronExpression$1.predefined[it]);var ot=[],st=(it+"").trim().split(/\s+/);if(st.length>6)throw new Error("Invalid cron expression");for(var lt=CronExpression$1.map.length-st.length,ct=0,ut=CronExpression$1.map.length;ct<ut;++ct){var dt=CronExpression$1.map[ct],ft=st[st.length>ut?ct:ct-lt];if(ct<lt||!ft)ot.push(CronExpression$1._parseField(dt,CronExpression$1.parseDefaults[ct],CronExpression$1.constraints[ct]));else{var pt=dt==="dayOfWeek"?gt(ft):ft;ot.push(CronExpression$1._parseField(dt,pt,CronExpression$1.constraints[ct]))}}for(var ht={},ct=0,ut=CronExpression$1.map.length;ct<ut;ct++){var yt=CronExpression$1.map[ct];ht[yt]=ot[ct]}var mt=CronExpression$1._handleMaxDaysInMonth(ht);return ht.dayOfMonth=mt||ht.dayOfMonth,new CronExpression$1(ht,at);function gt(vt){var St=vt.split("#");if(St.length>1){var xt=+St[St.length-1];if(/,/.test(vt))throw new Error("Constraint error, invalid dayOfWeek `#` and `,` special characters are incompatible");if(/\//.test(vt))throw new Error("Constraint error, invalid dayOfWeek `#` and `/` special characters are incompatible");if(/-/.test(vt))throw new Error("Constraint error, invalid dayOfWeek `#` and `-` special characters are incompatible");if(St.length>2||Number.isNaN(xt)||xt<1||xt>5)throw new Error("Constraint error, invalid dayOfWeek occurrence number (#)");return at.nthDayOfWeek=xt,St[0]}return vt}}return nt(et,tt)};CronExpression$1.fieldsToExpression=function _e(et,tt){function rt(dt,ft,pt){if(!ft)throw new Error("Validation error, Field "+dt+" is missing");if(ft.length===0)throw new Error("Validation error, Field "+dt+" contains no values");for(var ht=0,yt=ft.length;ht<yt;ht++){var mt=ft[ht];if(!CronExpression$1._isValidConstraintChar(pt,mt)&&(typeof mt!="number"||Number.isNaN(mt)||mt<pt.min||mt>pt.max))throw new Error("Constraint error, got value "+mt+" expected range "+pt.min+"-"+pt.max)}}for(var nt={},it=0,at=CronExpression$1.map.length;it<at;++it){var ot=CronExpression$1.map[it],st=et[ot];rt(ot,st,CronExpression$1.constraints[it]);for(var lt=[],ct=-1;++ct<st.length;)lt[ct]=st[ct];if(st=lt.sort(CronExpression$1._sortCompareFn).filter(function(dt,ft,pt){return!ft||dt!==pt[ft-1]}),st.length!==lt.length)throw new Error("Validation error, Field "+ot+" contains duplicate values");nt[ot]=st}var ut=CronExpression$1._handleMaxDaysInMonth(nt);return nt.dayOfMonth=ut||nt.dayOfMonth,new CronExpression$1(nt,tt||{})};var expression=CronExpression$1;const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(__viteBrowserExternal$1);var CronExpression=expression;function CronParser(){}CronParser._parseEntry=function _e(et){var tt=et.split(" ");if(tt.length===6)return{interval:CronExpression.parse(et)};if(tt.length>6)return{interval:CronExpression.parse(tt.slice(0,6).join(" ")),command:tt.slice(6,tt.length)};throw new Error("Invalid entry: "+et)};CronParser.parseExpression=function _e(et,tt){return CronExpression.parse(et,tt)};CronParser.fieldsToExpression=function _e(et,tt){return CronExpression.fieldsToExpression(et,tt)};CronParser.parseString=function _e(et){for(var tt=et.split(`
`),rt={variables:{},expressions:[],errors:{}},nt=0,it=tt.length;nt<it;nt++){var at=tt[nt],ot=null,st=at.trim();if(st.length>0){if(st.match(/^#/))continue;if(ot=st.match(/^(.*)=(.*)$/))rt.variables[ot[1]]=ot[2];else{var lt=null;try{lt=CronParser._parseEntry("0 "+st),rt.expressions.push(lt.interval)}catch(ct){rt.errors[st]=ct}}}}return rt};CronParser.parseFile=function _e(et,tt){require$$1.readFile(et,function(rt,nt){if(rt){tt(rt);return}return tt(null,CronParser.parseString(nt.toString()))})};var parser=CronParser;const cronParser=getDefaultExportFromCjs(parser);var ProjectStatus;(function(_e){_e.PENDING="pending",_e.ACTIVE="active",_e.INACTIVE="inactive",_e.PAUSED="paused",_e.COMPLETED="completed",_e.DELETED="deleted"})(ProjectStatus||(ProjectStatus={}));var ProjectShareLinkType;(function(_e){_e.PROJECT_RECORD="project-record"})(ProjectShareLinkType||(ProjectShareLinkType={}));var ProjectMutationType;(function(_e){_e.SET_COMPLETED="set-completed",_e.SET_START_ON="set-start-on",_e.ADD_PROMPTS="add-prompts",_e.REMOVE_PROMPTS="remove-prompts",_e.INCREMENT_RECORDED_STORY="increment-recorded-story",_e.DECREMENT_RECORDED_STORY="decrement-recorded-story",_e.SET_GIFT_MESSAGE="set-gift-message",_e.SET_ACTIVE="set-active",_e.SET_PAUSED="set-paused",_e.ADD_SENT_PROMPT="add-sent-prompt",_e.INCREMENT_RECORDED_TIME="increment-recorded-time",_e.SET_NAME="set-name",_e.SET_COVER_ASSET="set-cover-asset",_e.DECREMENT_CREDIT="decrement-project-credit",_e.INCREMENT_CREDIT="increment-project-credit",_e.SET_EBOOK_CREDIT="set-ebook-credit",_e.SET_DEFAULT_STORY_PERSPECTIVE="set-default-story-perspective",_e.SET_END_ON="set-end-on",_e.STATIC_SET_START_ON="static-set-start-on",_e.SET_SUBSCRIPTION_STATUS="set-subscription-status",_e.SET_SUBSCRIPTION_RENEWAL_TYPE="set-subscription-renewal-type",_e.SET_NOTIFICATION_INTERNAL="set-notification-interval"})(ProjectMutationType||(ProjectMutationType={}));z$1.discriminatedUnion("type",[z$1.object({type:z$1.literal(ProjectMutationType.SET_START_ON),value:z$1.number().int(),vclock:z$1.number(),version:z$1.number()}),z$1.object({type:z$1.literal(ProjectMutationType.SET_GIFT_MESSAGE),value:z$1.object({from:z$1.string(),message:z$1.string()}),vclock:z$1.number(),version:z$1.number()}),z$1.object({type:z$1.literal(ProjectMutationType.SET_ACTIVE),value:z$1.null(),vclock:z$1.number(),version:z$1.number()}),z$1.object({type:z$1.literal(ProjectMutationType.SET_PAUSED),value:z$1.null(),vclock:z$1.number(),version:z$1.number()}),z$1.object({type:z$1.literal(ProjectMutationType.SET_NAME),value:z$1.string(),vclock:z$1.number(),version:z$1.number()}),z$1.object({type:z$1.literal(ProjectMutationType.SET_COVER_ASSET),value:z$1.string(),vclock:z$1.number(),version:z$1.number()}),z$1.object({type:z$1.literal(ProjectMutationType.SET_DEFAULT_STORY_PERSPECTIVE),value:z$1.nativeEnum(StoryPerspectiveType),vclock:z$1.number(),version:z$1.number()}),z$1.object({type:z$1.literal(ProjectMutationType.SET_NOTIFICATION_INTERNAL),value:z$1.string().refine(_e=>{try{return cronParser.parseString(_e),!0}catch{return!1}},"Invalid cron"),vclock:z$1.number(),version:z$1.number()})]);var PromptStatus;(function(_e){_e.PENDING="pending",_e.SENT="sent",_e.DELETED="deleted",_e.DONE="done"})(PromptStatus||(PromptStatus={}));var PromptType;(function(_e){_e.PHOTO="photo",_e.TEXT="text"})(PromptType||(PromptType={}));var PromptMutationType;(function(_e){_e.SET_SENT="set-sent",_e.SEND="send",_e.SET_DONE="set-done",_e.MOVE="move",_e.ADD_IMAGE="add-image",_e.REMOVE_IMAGE="remove-image"})(PromptMutationType||(PromptMutationType={}));z$1.discriminatedUnion("type",[z$1.object({type:z$1.literal(PromptMutationType.MOVE),value:z$1.number().int(),vclock:z$1.number(),version:z$1.number()}),z$1.object({type:z$1.literal(PromptMutationType.ADD_IMAGE),value:z$1.string(),vclock:z$1.number(),version:z$1.number()}),z$1.object({type:z$1.literal(PromptMutationType.REMOVE_IMAGE),value:z$1.string(),vclock:z$1.number(),version:z$1.number()}),z$1.object({type:z$1.literal(PromptMutationType.SEND),value:z$1.number(),vclock:z$1.number(),version:z$1.number()})]);var QuestionStatus;(function(_e){_e.ACTIVE="active",_e.DELETED="deleted"})(QuestionStatus||(QuestionStatus={}));var QuestionType;(function(_e){_e.DEFAULT="default",_e.CUSTOM="custom",_e.AI_FOLLOW_UP="ai-follow-up"})(QuestionType||(QuestionType={}));var QuestionMutationType;(function(_e){_e.SET_TEXT="set-text"})(QuestionMutationType||(QuestionMutationType={}));z$1.discriminatedUnion("type",[z$1.object({type:z$1.literal(QuestionMutationType.SET_TEXT),value:z$1.string(),vclock:z$1.number(),version:z$1.number()})]);class DefaultProjectService{constructor(et){kr(this,"logger",createLogger("project-service"));this.authorizationService=et}async createProject(et,tt){const rt=new FormData;rt.set("data",JSON.stringify(et)),tt&&rt.set("photo",tt);const nt=await this.authorizationService.getCredentialsForRequest(),{data:it}=await api.post("/projects",rt,{params:nt.params,headers:nt.headers});return it}async requestAccess(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.post(`/projects/${et}/request-access`,tt,{params:rt.params,headers:rt.headers});return nt}async getPersonProject(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/people/${et}/projects`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getProjects(et){var rt,nt;const tt=await this.authorizationService.getCredentialsForRequest();try{const{data:it}=await api.get("/projects",{params:tt.params,headers:tt.headers,signal:et==null?void 0:et.signal});return it}catch(it){if(it instanceof UnauthorizedError){const at=await((rt=auth.currentUser)==null?void 0:rt.getIdToken()),ot=await((nt=auth.currentUser)==null?void 0:nt.getIdTokenResult());console.trace("TRACE.GET_PROJECTS_CALLED_WITHOUT_USER"),this.logger.warn("GET_PROJECTS_CALLED_WITHOUT_USER",()=>({firebaseUser:auth.currentUser!=null,firebaseToken:at!=null&&at.length>0,firebaseTokenResult:ot!=null,firebaseTokenAuthTime:ot==null?void 0:ot.authTime,firebaseTokenExpirationTime:ot==null?void 0:ot.expirationTime,firebaseTokenIssuedAtTime:ot==null?void 0:ot.issuedAtTime,authorizationHeader:tt.headers.Authorization!=null,authorizationHeaderStart:String(tt.headers.Authorization).substring(0,15)}))}throw it}}async getProject(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/projects/${et}`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getProjectsFromRecipientPersonId(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/people/${et}/projects`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getProjectFromStoryId(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/stories/${et}/project`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getProjectPrompts(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/projects/${et}/prompts`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getProjectPromptsCatchupData(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/projects/${et}/prompts/catchup`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getPrompt(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/prompts/${et}`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getPromptQuestions(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/prompts/${et}/questions`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getQuestion(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/questions/${et}`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getPromptRecordLink(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/prompts/${et}/record-link`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt.link}createMovePromptMutation(et,tt){return[{type:EntityType.PROMPT,id:et.id,mutations:[{type:PromptMutationType.MOVE,value:tt,vclock:et.vclock,version:et.version}]}]}createAddPromptImageMutation(et,tt){return[{type:EntityType.PROMPT,id:et.id,mutations:[{type:PromptMutationType.ADD_IMAGE,value:tt,vclock:et.vclock,version:et.version}]}]}createRemovePromptImageMutation(et,tt){return[{type:EntityType.PROMPT,id:et.id,mutations:[{type:PromptMutationType.REMOVE_IMAGE,value:tt,vclock:et.vclock,version:et.version}]}]}createSetQuestionTextMutation(et,tt){return[{type:EntityType.QUESTION,id:et.id,mutations:[{type:QuestionMutationType.SET_TEXT,value:tt,vclock:et.vclock,version:et.version}]}]}createSetStartOnMutation(et,tt){return[{type:EntityType.PROJECT,id:et.id,mutations:[{type:ProjectMutationType.SET_START_ON,value:tt,vclock:et.vclock,version:et.version}]}]}createSetProjectMessageMutation(et,tt){return[{type:EntityType.PROJECT,id:et.id,mutations:[{type:ProjectMutationType.SET_GIFT_MESSAGE,value:tt,vclock:et.vclock,version:et.version}]}]}createSetProjectActiveMutation(et){return[{type:EntityType.PROJECT,id:et.id,mutations:[{type:ProjectMutationType.SET_ACTIVE,value:null,vclock:et.vclock,version:et.version}]}]}createSetProjectPausedMutation(et){return[{type:EntityType.PROJECT,id:et.id,mutations:[{type:ProjectMutationType.SET_PAUSED,value:null,vclock:et.vclock,version:et.version}]}]}createSetCoverImageMutation(et,tt){return[{type:EntityType.PROJECT,id:et.id,mutations:[{type:ProjectMutationType.SET_COVER_ASSET,value:tt,vclock:et.vclock,version:et.version}]}]}createSetProjectNameMutation(et,tt){return[{type:EntityType.PROJECT,id:et.id,mutations:[{type:ProjectMutationType.SET_NAME,value:tt,vclock:et.vclock,version:et.version}]}]}createSetSentMutation(et){return[{type:EntityType.PROMPT,id:et.id,mutations:[{type:PromptMutationType.SEND,value:Date.now(),vclock:et.vclock,version:et.version}]}]}createSetDefaultStoryPerspectiveMutation(et,tt){return[{type:EntityType.PROJECT,id:et.id,mutations:[{type:ProjectMutationType.SET_DEFAULT_STORY_PERSPECTIVE,value:tt,vclock:et.vclock,version:et.version}]}]}createSetProjectNotificationIntervalMutation(et,tt){return[{type:EntityType.PROJECT,id:et.id,mutations:[{type:ProjectMutationType.SET_NOTIFICATION_INTERNAL,value:tt,vclock:et.vclock,version:et.version}]}]}async createPrompts(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.post(`/projects/${et}/prompts`,tt,{params:rt.params,headers:rt.headers});return nt}async deletePrompt(et){const tt=await this.authorizationService.getCredentialsForRequest(),{data:rt}=await api.delete(`/prompts/${et}`,{params:tt.params,headers:tt.headers});return rt}async checkoutCredits(et){const tt=await this.authorizationService.getCredentialsForRequest(),{data:rt}=await api.post("/checkout/credits",et,{params:tt.params,headers:tt.headers});return rt}}class DefaultProjectCacheService{constructor(et,tt,rt){this.remoteService=et,this.entityCacheManagerService=tt,this.queryClient=rt}async requestAccess(et,tt){var it,at;const rt=await this.remoteService.requestAccess(et,tt);await this.entityCacheManagerService.cacheResponse(rt);let nt;if("entities"in rt?nt=(it=rt.entities.user)==null?void 0:it[0]:nt=(at=rt.user)==null?void 0:at[0],nt==null)throw new NotFoundError("request-access-user-not-found");return nt}getProject(et){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildEntityQuery(EntityType.PROJECT,et,()=>this.remoteService.getProject(et)))}getProjects(){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildCollectionQuery(EntityType.PROJECT,{},()=>this.remoteService.getProjects()))}getProjectPrompts(et){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildCollectionQuery(EntityType.PROMPT,{projectId:et},()=>this.remoteService.getProjectPrompts(et)))}getProjectsFromRecipientPersonId(et){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildCollectionQuery(EntityType.PROJECT,{recipientPersonId:et},()=>this.remoteService.getProjectsFromRecipientPersonId(et)))}async getProjectFromStoryId(et){const tt=await this.queryClient.fetchQuery(this.entityCacheManagerService.buildCollectionQuery(EntityType.PROJECT,{storyId:et},()=>this.remoteService.getProjectFromStoryId(et)));return this.getProject(tt[0])}async loadProjectPromptsCatchupData(et){const tt=await this.remoteService.getProjectPromptsCatchupData(et);await this.entityCacheManagerService.cacheResponse(tt)}async getUnrecordedProjectPrompts(et,tt){const rt=await this.getProjectPrompts(et);let it=(await Promise.all(rt.map(async at=>{const ot=await this.getPrompt(at);return ot===null||ot.status===PromptStatus.DONE?null:ot}))).filter(notNull);return tt&&(it=it.filter(at=>at.status===tt)),it.map(at=>at.id)}getPrompt(et){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildEntityQuery(EntityType.PROMPT,et,()=>this.remoteService.getPrompt(et)))}getPromptQuestions(et){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildCollectionQuery(EntityType.QUESTION,{promptId:et},()=>this.remoteService.getPromptQuestions(et)))}getQuestion(et){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildEntityQuery(EntityType.QUESTION,et,()=>this.remoteService.getQuestion(et)))}async createPrompts(et,tt){const rt=await this.remoteService.createPrompts(et,tt);return await this.entityCacheManagerService.cacheResponse(rt),("entities"in rt?rt.entities:rt)[EntityType.PROMPT]??[]}async deletePrompt(et){const tt=await this.remoteService.deletePrompt(et);await this.entityCacheManagerService.cacheResponse(tt)}async invalidateProjectsCache(){await this.entityCacheManagerService.invalidateCollection(EntityType.PROJECT,{})}}function hasIntersection(_e,...et){return _e.some(tt=>et.includes(tt))}function useCurrentUserAclGroupMembersQuery(){const{aclService:_e}=useServices(),et=useUser();return useCollection$1(EntityType.ACL_GROUP_MEMBER,et!=null&&et.id?{userId:"signed-in-user"}:null,async(tt,rt)=>_e.getUserGroupMembers(rt))}function useCurrentUserAclGroupMembers(){var nt;const{entityCacheManagerService:_e,aclService:et}=useServices(),tt=useCurrentUserAclGroupMembersQuery(),rt=useQueries({combine:it=>it.map(at=>at.data).filter(notNull),queries:((nt=tt.data)==null?void 0:nt.map(it=>_e.buildEntityQuery(EntityType.ACL_GROUP_MEMBER,it,(at,ot)=>et.getGroupMember(it,ot))))??[]});return tt.data==null?null:rt}function useCurrentUserAclRoles(_e){const{authorizationService:et}=useServices(),tt=useUser(),rt=useCurrentUserAclGroupMembers();return reactExports.useMemo(()=>{if(rt==null||tt==null||_e==null)return null;const nt=et.getTokenPermissions(),it=_e.map(ot=>nt[ot]).filter(notNull),at=rt.filter(ot=>ot.groupRefIds.some(st=>_e.includes(st))).map(ot=>ot.role);return Array.from(new Set([...it,...at]))},[_e,rt,et,tt])}function usePrimaryAclGroup(_e,et){const{entityCacheManagerService:tt,aclService:rt}=useServices(),nt=useQueries({queries:(_e==null?void 0:_e.map(it=>tt.buildEntityQuery(EntityType.ACL_GROUP,it,(at,ot)=>rt.getGroup(it,ot))))??[]});return reactExports.useMemo(()=>nt.map(it=>it.data).filter(notNull).find(it=>it.type===et)??null,[nt,et])}function useAclGroupInviteesQuery(_e){const{aclService:et}=useServices();return useCollection$1(EntityType.ACL_GROUP_INVITEE,_e?{aclGroupId:_e}:null,async(tt,rt)=>et.getGroupInvitees(tt.aclGroupId,rt))}class DefaultAclService{constructor(et){this.authorizationService=et}async getUserGroupMembers(et){const tt=await this.authorizationService.getCredentialsForRequest(),{data:rt}=await api.get("/acl/members",{params:tt.params,headers:tt.headers,signal:et==null?void 0:et.signal});return rt}async getGroup(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/acl/groups/${et}`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getGroupMembers(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/acl/groups/${et}/members`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getGroupMember(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/acl/members/${et}`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async deleteGroupMember(et){const tt=await this.authorizationService.getCredentialsForRequest(),{data:rt}=await api.delete(`/acl/members/${et}`,{params:tt.params,headers:tt.headers});return rt}async getGroupInvitees(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/acl/groups/${et}/invitees`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getGroupInvitee(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/acl/invitees/${et}`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async deleteGroupInvitee(et){const tt=await this.authorizationService.getCredentialsForRequest(),{data:rt}=await api.delete(`/acl/invitees/${et}`,{params:tt.params,headers:tt.headers});return rt}async joinGroup(et){const tt=await this.authorizationService.getCredentialsForRequest(),{data:rt}=await api.post("/acl/join",{token:et},{params:tt.params,headers:tt.headers});return rt}async validateToken(et){const tt=await this.authorizationService.getCredentialsForRequest(),{data:rt}=await api.post("/acl/join/validate-token",{token:et},{params:tt.params,headers:tt.headers});return rt}async sendEmailInvite(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.post(`/acl/groups/${et}/invite-email`,{emails:tt},{params:rt.params,headers:rt.headers});return nt}async generateInviteLink(et){const tt=await this.authorizationService.getCredentialsForRequest(),{data:rt}=await api.post(`/acl/groups/${et}/invite-link`,null,{params:tt.params,headers:tt.headers});return rt.link}decodeInviteToken(et){try{return jwtDecode(et)}catch{return null}}}class DefaultAclCacheService{constructor(et,tt,rt){this.remoteService=et,this.entityCacheManagerService=tt,this.queryClient=rt}getCurrentUserAclGroupMembers(){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildCollectionQuery(EntityType.ACL_GROUP_MEMBER,{user:"signed-in-user"},()=>this.remoteService.getUserGroupMembers()))}getAclGroupMember(et){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildEntityQuery(EntityType.ACL_GROUP_MEMBER,et,()=>this.remoteService.getGroupMember(et)))}getAclGroup(et){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildEntityQuery(EntityType.ACL_GROUP,et,()=>this.remoteService.getGroup(et)))}async getPrimaryAclGroup(et,tt){return(await Promise.all(et.map(nt=>this.getAclGroup(nt)))).filter(notNull).find(nt=>nt.type===tt)??null}async deleteGroupMember(et,tt){const rt=await this.remoteService.deleteGroupMember(tt);await this.entityCacheManagerService.cacheResponse(rt),await this.entityCacheManagerService.invalidateEntity(EntityType.ACL_GROUP,et)}async deleteGroupInvitee(et,tt){const rt=await this.remoteService.deleteGroupInvitee(tt);await this.entityCacheManagerService.cacheResponse(rt),await this.entityCacheManagerService.invalidateCollection(EntityType.ACL_GROUP_INVITEE,{aclGroupId:et})}async joinGroup(et){const tt=await this.remoteService.joinGroup(et);return await this.entityCacheManagerService.invalidateCollection(EntityType.PROJECT,{}),tt}async sendEmailInvite(et,tt){const rt=await this.remoteService.sendEmailInvite(et,tt);await this.entityCacheManagerService.cacheResponse(rt)}}function hasRole(_e,et){return _e.some(tt=>et.includes(tt))}function getRole(_e,et){return _e.find(tt=>et.includes(tt))??null}function useProjectsQuery(){const{projectService:_e}=useServices();return useCollection$1(EntityType.PROJECT,{},et=>_e.getProjects(et))}function useProjectsItems(_e){const{projectService:et}=useServices(),tt=useCurrentUserAclGroupMembers(),rt=useProjectsQuery(),nt=useCollectionEntityData(rt.data,EntityType.PROJECT,it=>et.getProject(it));return reactExports.useMemo(()=>_e==null?nt:nt==null?void 0:nt.filter(it=>{const at=tt==null?void 0:tt.find(ot=>hasIntersection(ot.groupRefIds,...it.acl));return(at==null?void 0:at.role)===_e}),[nt,_e,tt])}function useProjectQuery(_e){const{projectService:et}=useServices();return useEntity(EntityType.PROJECT,_e,tt=>et.getProject(tt))}function useProjectInviteLink(_e){var nt;const{aclService:et}=useServices(),tt=useProjectQuery(_e),rt=usePrimaryAclGroup((nt=tt.data)==null?void 0:nt.acl,EntityType.PROJECT);return useQuery({enabled:rt!=null,queryKey:["project-invite-link",_e].filter(notNull),queryFn:async()=>et.generateInviteLink((rt==null?void 0:rt.id)??"")})}function useProjectInitials(_e){return reactExports.useMemo(()=>{var et;return((et=_e==null?void 0:_e.name)==null?void 0:et[0])??"N/A"},[_e])}function useIsCurrentUserTheStoryteller(_e){const et=useUser(),tt=usePersonQuery(et==null?void 0:et.personId),rt=useProjectQuery(_e);return reactExports.useMemo(()=>et===null?!1:et===void 0||rt.data==null||tt.data==null?null:rt.data.notifications.recipientPersonIds.some(nt=>tt.data.refIds.includes(nt)),[tt.data,rt.data,et])}function useProjectCoverUrl(_e){var rt,nt;const et=useAssetAlternativesQuery(_e==null?void 0:_e.coverAssetId),tt=useAlternativeQuery(((rt=et.data)==null?void 0:rt[0])??null);return useAlternativeFileUrl((nt=tt.data)==null?void 0:nt.id)}function useProjectPromptsQuery(_e){const{projectService:et}=useServices();return useCollection$1(EntityType.PROMPT,_e?{projectId:_e}:null,(tt,rt)=>et.getProjectPrompts(tt.projectId,rt))}function useFilterPromptIds(_e,et){const{projectService:tt}=useServices(),rt=useCollectionEntityData(_e,EntityType.PROMPT,nt=>tt.getPrompt(nt));return reactExports.useMemo(()=>rt==null?void 0:rt.filter(nt=>nt.status===et).map(nt=>nt.id),[rt,et])}function useFilterProjectPromptIds(_e,et){const tt=useProjectPromptsQuery(_e);return useFilterPromptIds(tt.data,et)}function useSortedPromptIds(_e,et,tt){const{projectService:rt}=useServices(),nt=useCollectionEntityData(_e,EntityType.PROMPT,it=>rt.getPrompt(it));return reactExports.useMemo(()=>nt==null?void 0:nt.sort((it,at)=>{switch(et){case"createdAt":return at.audit.create.date-it.audit.create.date}}).map(it=>it.id),[et,tt,nt])}function usePromptQuery(_e){const{projectService:et}=useServices();return useEntity(EntityType.PROMPT,_e,(tt,rt)=>et.getPrompt(tt,rt))}function usePromptQuestionsQuery(_e){const{projectService:et}=useServices();return useCollection$1(EntityType.QUESTION,_e?{promptId:_e}:null,(tt,rt)=>et.getPromptQuestions(tt.promptId,rt))}function useQuestionQuery(_e){const{projectService:et}=useServices();return useEntity(EntityType.QUESTION,_e,(tt,rt)=>et.getQuestion(tt,rt))}function usePromptFirstQuestionQuery(_e){var tt;const et=usePromptQuestionsQuery(_e);return useQuestionQuery(((tt=et.data)==null?void 0:tt[0])??null)}function usePromptImageUrl(_e,et){const tt=useAssetAlternativesQuery((_e==null?void 0:_e.type)===PromptType.PHOTO?_e==null?void 0:_e.imagesIds[0]:null),rt=useAlternativeType(tt.data,et),nt=useAlternativeType(tt.data,BaseAssetAlternativeType.ORIGINAL);return useAlternativeFileUrl((rt==null?void 0:rt.id)??(nt==null?void 0:nt.id)??null)}function genitiveCase(_e=""){return _e&&(_e.endsWith("s")||_e.endsWith("S")?_e+"'":_e+"'s")}var ProjectBannerType=(_e=>(_e.PROJECT_PAUSED="project-paused",_e.MISSING_PROMPT="missing-prompt",_e.SUBSCRIPTION_WILL_EXPIRE="subscription-will-expire",_e.SUBSCRIPTION_WILL_NOT_RENEW="subscription-will-not-renew",_e.SUBSCRIPTION_INACTIVE="subscription-inactive",_e.COUPONS_AVAILABLE="coupons-available",_e))(ProjectBannerType||{});const PROJECT_BANNER_STORE_PREFIX="@remento/project-banners";class DefaultProjectBannerService{constructor(et,tt,rt,nt){this.personCacheService=et,this.userService=tt,this.localStore=rt,this.sessionStore=nt}getLocalStoreClosedKey(et){return`${et}-closed`}isBannerClosed(et){const tt=this.getLocalStoreClosedKey(et);return!!(this.localStore.getItem(tt)||this.sessionStore.getItem(tt))}async getProjectBanner(et,tt,rt){var st,lt,ct,ut,dt,ft;const nt=await this.personCacheService.getPerson(tt.subjectPersonIds[0]),it=await this.personCacheService.getPerson(tt.ownerPersonId),at=et.refIds.includes(tt.ownerUserId),ot=nt==null?void 0:nt.refIds.includes(tt.notifications.recipientPersonIds[0]);if(at&&((st=et.subscription)==null?void 0:st.renewalType)===SubscriptionRenewalType.CANCEL&&tt.subscriptionStatus===UserSubscriptionStatus.ACTIVE&&tt.endsOn-Date.now()<=PRE_RENEWAL_PHASE_DURATION&&this.isBannerClosed(ProjectBannerType.SUBSCRIPTION_WILL_NOT_RENEW)!=!0)return{type:ProjectBannerType.SUBSCRIPTION_WILL_NOT_RENEW,message:`Your subscription will expire on ${dayjs(tt.endsOn).format("MM/DD/YYYY")}.`,actionLabel:"Rejoin with this special offer",style:"danger",closeable:!0};if((at||ot)&&tt.subscriptionStatus===UserSubscriptionStatus.INACTIVE&&this.isBannerClosed(ProjectBannerType.SUBSCRIPTION_INACTIVE)!=!0){let ht=`${genitiveCase((lt=it==null?void 0:it.name)==null?void 0:lt.full)} subscription has ended.`;return at&&(ht="Your subscription has ended."),{type:ProjectBannerType.SUBSCRIPTION_INACTIVE,message:ht,actionLabel:at?"Reactivate your subscription":"Contact us to reactivate",style:"info",closeable:!0}}return at&&((ct=et.subscription)==null?void 0:ct.type)===SubscriptionType.YEARLY&&tt.subscriptionStatus===UserSubscriptionStatus.ACTIVE&&tt.endsOn-Date.now()<=PRE_RENEWAL_PHASE_DURATION&&(((ut=et.onboardingHistory.subscriptionWillExpireBannerClosed)==null?void 0:ut.done)??!1)==!1?{type:ProjectBannerType.SUBSCRIPTION_WILL_EXPIRE,message:`Heads up! Your subscription is set to renew on ${dayjs(tt.endsOn).format("MM/DD/YYYY")}.`,actionLabel:"View your limited time offer.",onboardingActionType:UserOnboardingActionType.SUBSCRIPTION_WILL_EXPIRE_BANNER_CLOSED,closeable:!0}:et.coupons!=null&&et.coupons.some(pt=>pt.type===UserCouponType.BUNDLE)&&this.isBannerClosed(ProjectBannerType.COUPONS_AVAILABLE)!=!0?{type:ProjectBannerType.COUPONS_AVAILABLE,message:"You have credits ready.",actionLabel:"Add another storyteller now.",closeable:!0,sessionOnly:!0}:tt.subscriptionStatus===UserSubscriptionStatus.INACTIVE?null:tt.status===ProjectStatus.PAUSED?{type:ProjectBannerType.PROJECT_PAUSED,message:`${(dt=nt==null?void 0:nt.name)==null?void 0:dt.first} is not currently receiving prompts.`,actionLabel:"Resume prompts"}:rt==0&&tt.configuration.timePeriod!=="PRESENT"?{type:ProjectBannerType.MISSING_PROMPT,message:`${(ft=nt==null?void 0:nt.name)==null?void 0:ft.first} needs a new prompt for their next session.`}:null}async closeProjectBanner(et){if(et.closeable==!1)throw new Error("banner-is-not-closeable");if(et.onboardingActionType!=null){await this.userService.updateOnboardingHistory(et.onboardingActionType);return}et.sessionOnly?this.sessionStore.setItem(this.getLocalStoreClosedKey(et.type),!0):this.localStore.setItem(this.getLocalStoreClosedKey(et.type),!0)}}var R=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54","(..) ........",0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",{default:". .... ....","/^4/":"... ... ...","/^5(?!50)/":"... ... ...","/^1(3|8)00/":".... ... ...","/^13/":".. .. ..","/^180/":"... ...."},0,[]],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973"],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) ........."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Cayman Islands","ky","1","... ... ....",4,["345"]],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["Cte d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["Curaao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic","do","1","(...) ...-....",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251"],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594"],["French Polynesia","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49","... ........."],["Ghana","gh","233"],["Greece","gr","30"],["Greenland","gl","299",".. .. .."],["Grenada","gd","1473"],["Guadeloupe","gp","590","",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965"],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",{"/^06/":"(.). .........","/^6/":". .........","/^0(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":"(.).. ........","/^(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":".. ........","/^0/":"(.)... .......",default:"... ......."}],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968"],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63",".... ......."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","(...) ...-....",3,["787","939"]],["Qatar","qa","974"],["Runion","re","262"],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["So Tom and Prncipe","st","239"],["Saudi Arabia","sa","966"],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","... ... ..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971"],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],xe="react-international-phone-",se=(..._e)=>_e.filter(et=>!!et).join(" ").trim(),Se=(..._e)=>se(..._e).split(" ").map(et=>`${xe}${et}`).join(" "),P=({addPrefix:_e,rawClassNames:et})=>se(Se(..._e),...et),le=({value:_e,mask:et,maskSymbol:tt,offset:rt=0,trimNonMaskCharsLeftover:nt=!1})=>{if(_e.length<rt)return _e;let it=_e.slice(0,rt),at=_e.slice(rt),ot=it,st=0;for(let lt of et.split("")){if(st>=at.length){if(!nt&&lt!==tt){ot+=lt;continue}break}lt===tt?(ot+=at[st],st+=1):ot+=lt}return ot},F=_e=>_e?/^\d+$/.test(_e):!1,z=_e=>_e.replace(/\D/g,""),ue=(_e,et)=>{let tt=_e.style.display;tt!=="block"&&(_e.style.display="block");let rt=_e.getBoundingClientRect(),nt=et.getBoundingClientRect(),it=nt.top-rt.top,at=rt.bottom-nt.bottom;it>=0&&at>=0||(Math.abs(it)<Math.abs(at)?_e.scrollTop+=it:_e.scrollTop-=at),_e.style.display=tt},de=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes("macintosh"),pe=(_e,et)=>{let tt=et.disableDialCodeAndPrefix?!1:et.forceDialCode,rt=et.disableDialCodeAndPrefix?!1:et.insertDialCodeOnEmpty,nt=_e,it=lt=>et.trimNonDigitsEnd?lt.trim():lt;if(!nt)return rt&&!nt.length||tt?it(`${et.prefix}${et.dialCode}${et.charAfterDialCode}`):it(nt);if(nt=z(nt),nt===et.dialCode&&!et.disableDialCodeAndPrefix)return it(`${et.prefix}${et.dialCode}${et.charAfterDialCode}`);if(et.dialCode.startsWith(nt)&&!et.disableDialCodeAndPrefix)return it(tt?`${et.prefix}${et.dialCode}${et.charAfterDialCode}`:`${et.prefix}${nt}`);if(!nt.startsWith(et.dialCode)&&!et.disableDialCodeAndPrefix){if(tt)return it(`${et.prefix}${et.dialCode}${et.charAfterDialCode}`);if(nt.length<et.dialCode.length)return it(`${et.prefix}${nt}`)}let at=()=>{let lt=et.dialCode.length,ct=nt.slice(0,lt),ut=nt.slice(lt);return{phoneLeftSide:ct,phoneRightSide:ut}},{phoneLeftSide:ot,phoneRightSide:st}=at();return ot=`${et.prefix}${ot}${et.charAfterDialCode}`,st=le({value:st,mask:et.mask,maskSymbol:et.maskChar,trimNonMaskCharsLeftover:et.trimNonDigitsEnd||et.disableDialCodeAndPrefix&&st.length===0}),et.disableDialCodeAndPrefix&&(ot=""),it(`${ot}${st}`)},me=({phoneBeforeInput:_e,phoneAfterInput:et,phoneAfterFormatted:tt,cursorPositionAfterInput:rt,leftOffset:nt=0,deletion:it})=>{if(rt<nt)return nt;if(!_e)return tt.length;let at=null;for(let ct=rt-1;ct>=0;ct-=1)if(F(et[ct])){at=ct;break}if(at===null){for(let ct=0;ct<et.length;ct+=1)if(F(tt[ct]))return ct;return et.length}let ot=0;for(let ct=0;ct<at;ct+=1)F(et[ct])&&(ot+=1);let st=0,lt=0;for(let ct=0;ct<tt.length&&(st+=1,F(tt[ct])&&(lt+=1),!(lt>=ot+1));ct+=1);if(it!=="backward")for(;!F(tt[st])&&st<tt.length;)st+=1;return st},O=({phone:_e,prefix:et})=>_e?`${et}${z(_e)}`:"";function W({value:_e,country:et,insertDialCodeOnEmpty:tt,trimNonDigitsEnd:rt,countries:nt,prefix:it,charAfterDialCode:at,forceDialCode:ot,disableDialCodeAndPrefix:st,defaultMask:lt,countryGuessingEnabled:ct,disableFormatting:ut}){let dt=_e;st&&(dt=dt.startsWith(`${it}`)?dt:`${it}${et.dialCode}${dt}`);let ft=ct?X({phone:dt,countries:nt,currentCountryIso2:et==null?void 0:et.iso2}):void 0,pt=(ft==null?void 0:ft.country)??et,ht=pe(dt,{prefix:it,mask:Q({phone:dt,country:pt,defaultMask:lt,disableFormatting:ut}),maskChar:J,dialCode:pt.dialCode,trimNonDigitsEnd:rt,charAfterDialCode:at,forceDialCode:ot,insertDialCodeOnEmpty:tt,disableDialCodeAndPrefix:st}),yt=ct&&!(ft!=null&&ft.fullDialCodeMatch)?et:pt;return{phone:O({phone:st?`${yt.dialCode}${ht}`:ht,prefix:it}),inputValue:ht,country:yt}}var ke=_e=>{if((_e==null?void 0:_e.toLocaleLowerCase().includes("delete"))??!1)return _e!=null&&_e.toLocaleLowerCase().includes("forward")?"forward":"backward"},fe=(_e,{country:et,insertDialCodeOnEmpty:tt,phoneBeforeInput:rt,prefix:nt,charAfterDialCode:it,forceDialCode:at,disableDialCodeAndPrefix:ot,countryGuessingEnabled:st,defaultMask:lt,disableFormatting:ct,countries:ut})=>{let dt=_e.nativeEvent,ft=dt.inputType,pt=ke(ft),ht=!!(ft!=null&&ft.startsWith("insertFrom")),yt=ft==="insertText",mt=(dt==null?void 0:dt.data)||void 0,gt=_e.target.value,vt=_e.target.selectionStart??0;if(ft!=null&&ft.includes("history"))return{inputValue:rt,phone:O({phone:rt,prefix:nt}),cursorPosition:rt.length,country:et};if(yt&&!F(mt)&&gt!==nt)return{inputValue:rt,phone:O({phone:ot?`${et.dialCode}${rt}`:rt,prefix:nt}),cursorPosition:vt-((mt==null?void 0:mt.length)??0),country:et};if(at&&!gt.startsWith(`${nt}${et.dialCode}`)&&!ht){let _t=gt?rt:`${nt}${et.dialCode}${it}`;return{inputValue:_t,phone:O({phone:_t,prefix:nt}),cursorPosition:nt.length+et.dialCode.length+it.length,country:et}}let{phone:St,inputValue:xt,country:Ct}=W({value:gt,country:et,trimNonDigitsEnd:pt==="backward",insertDialCodeOnEmpty:tt,countryGuessingEnabled:st,countries:ut,prefix:nt,charAfterDialCode:it,forceDialCode:at,disableDialCodeAndPrefix:ot,disableFormatting:ct,defaultMask:lt}),wt=me({cursorPositionAfterInput:vt,phoneBeforeInput:rt,phoneAfterInput:gt,phoneAfterFormatted:xt,leftOffset:at?nt.length+et.dialCode.length+it.length:0,deletion:pt});return{phone:St,inputValue:xt,cursorPosition:wt,country:Ct}},he=(_e,et)=>{let tt=Object.keys(_e),rt=Object.keys(et);if(tt.length!==rt.length)return!1;for(let nt of tt)if(_e[nt]!==et[nt])return!1;return!0},ye=()=>{let _e=reactExports.useRef(),et=reactExports.useRef(Date.now());return{check:()=>{let tt=Date.now(),rt=_e.current?tt-et.current:void 0;return _e.current=et.current,et.current=tt,rt}}},Ie={size:20,overrideLastItemDebounceMS:-1};function ge(_e,et){let{size:tt,overrideLastItemDebounceMS:rt,onChange:nt}={...Ie,...et},[it,at]=reactExports.useState(_e),[ot,st]=reactExports.useState([it]),[lt,ct]=reactExports.useState(0),ut=ye();return[it,(dt,ft)=>{if(typeof dt=="object"&&typeof it=="object"&&he(dt,it)||dt===it)return;let pt=rt>0,ht=ut.check(),yt=pt&&ht!==void 0?ht>rt:!0;if((ft==null?void 0:ft.overrideLastItem)!==void 0?ft.overrideLastItem:!yt)st(mt=>[...mt.slice(0,lt),dt]);else{let mt=ot.length>=tt;st(gt=>[...gt.slice(mt?1:0,lt+1),dt]),mt||ct(gt=>gt+1)}at(dt),nt==null||nt(dt)},()=>{if(lt<=0)return{success:!1};let dt=ot[lt-1];return at(dt),ct(ft=>ft-1),nt==null||nt(dt),{success:!0,value:dt}},()=>{if(lt+1>=ot.length)return{success:!1};let dt=ot[lt+1];return at(dt),ct(ft=>ft+1),nt==null||nt(dt),{success:!0,value:dt}}]}var J=".",E={defaultCountry:"us",value:"",prefix:"+",defaultMask:"............",charAfterDialCode:" ",historySaveDebounceMS:200,disableCountryGuess:!1,disableDialCodePrefill:!1,forceDialCode:!1,disableDialCodeAndPrefix:!1,disableFormatting:!1,countries:R,preferredCountries:[]},ee=({defaultCountry:_e=E.defaultCountry,value:et=E.value,countries:tt=E.countries,prefix:rt=E.prefix,defaultMask:nt=E.defaultMask,charAfterDialCode:it=E.charAfterDialCode,historySaveDebounceMS:at=E.historySaveDebounceMS,disableCountryGuess:ot=E.disableCountryGuess,disableDialCodePrefill:st=E.disableDialCodePrefill,forceDialCode:lt=E.forceDialCode,disableDialCodeAndPrefix:ct=E.disableDialCodeAndPrefix,disableFormatting:ut=E.disableFormatting,onChange:dt,inputRef:ft})=>{let pt={countries:tt,prefix:rt,charAfterDialCode:it,forceDialCode:ct?!1:lt,disableDialCodeAndPrefix:ct,defaultMask:nt,countryGuessingEnabled:!ot,disableFormatting:ut},ht=reactExports.useRef(null),yt=ft||ht,mt=Vt=>{Promise.resolve().then(()=>{var Ut;typeof window>"u"||yt.current!==(document==null?void 0:document.activeElement)||((Ut=yt.current)==null||Ut.setSelectionRange(Vt,Vt))})},[{phone:gt,inputValue:vt,country:St},xt,Ct,wt]=ge(()=>{let Vt=$({value:_e,field:"iso2",countries:tt});Vt||console.error(`[react-international-phone]: can not find a country with "${_e}" iso2 code`);let Ut=Vt||$({value:"us",field:"iso2",countries:tt}),{phone:It,inputValue:Dt,country:Tt}=W({value:et,country:Ut,insertDialCodeOnEmpty:!st,...pt});return mt(Dt.length),{phone:It,inputValue:Dt,country:Tt.iso2}},{overrideLastItemDebounceMS:at,onChange:({inputValue:Vt,phone:Ut,country:It})=>{if(!dt)return;let Dt=_t(It);dt({phone:Ut,inputValue:Vt,country:Dt})}}),_t=reactExports.useCallback(Vt=>$({value:Vt,field:"iso2",countries:tt}),[tt]),Ot=reactExports.useMemo(()=>_t(St),[St,_t]);reactExports.useEffect(()=>{let Vt=yt.current;if(!Vt)return;let Ut=It=>{if(!It.key)return;let Dt=It.ctrlKey,Tt=It.metaKey,Rt=It.shiftKey;if(It.key.toLowerCase()==="z"){if(de()){if(!Tt)return}else if(!Dt)return;Rt?wt():Ct()}};return Vt.addEventListener("keydown",Ut),()=>{Vt.removeEventListener("keydown",Ut)}},[yt,Ct,wt]);let kt=Vt=>{Vt.preventDefault();let{phone:Ut,inputValue:It,country:Dt,cursorPosition:Tt}=fe(Vt,{country:Ot,phoneBeforeInput:vt,insertDialCodeOnEmpty:!1,...pt});return xt({inputValue:It,phone:Ut,country:Dt.iso2}),mt(Tt),et},Lt=(Vt,Ut={focusOnInput:!1})=>{let It=$({value:Vt,field:"iso2",countries:tt});if(!It){console.error(`[react-international-phone]: can not find a country with "${Vt}" iso2 code`);return}let Dt=ct?"":`${rt}${It.dialCode}${it}`;xt({inputValue:Dt,phone:`${rt}${It.dialCode}`,country:It.iso2}),Ut.focusOnInput&&Promise.resolve().then(()=>{var Tt;(Tt=yt.current)==null||Tt.focus()})},[$t,zt]=reactExports.useState(!1);return reactExports.useEffect(()=>{if(!$t){zt(!0),et!==gt&&(dt==null||dt({inputValue:vt,phone:gt,country:Ot}));return}if(et===gt)return;let{phone:Vt,inputValue:Ut,country:It}=W({value:et,country:Ot,insertDialCodeOnEmpty:!st,...pt});xt({phone:Vt,inputValue:Ut,country:It.iso2})},[et]),{phone:gt,inputValue:vt,country:Ot,setCountry:Lt,handlePhoneValueChange:kt,inputRef:yt}},Q=({phone:_e,country:et,defaultMask:tt="............",disableFormatting:rt=!1})=>{let nt=et.format,it=ot=>rt?ot.replace(new RegExp(`[^${J}]`,"g"),""):ot;if(!nt)return it(tt);if(typeof nt=="string")return it(nt);if(!nt.default)return console.error(`[react-international-phone]: default mask for ${et.iso2} is not provided`),it(tt);let at=Object.keys(nt).find(ot=>{if(ot==="default")return!1;if(!(ot.charAt(0)==="/"&&ot.charAt(ot.length-1)==="/"))return console.error(`[react-international-phone]: format regex "${ot}" for ${et.iso2} is not valid`),!1;let st=new RegExp(ot.substring(1,ot.length-1)),lt=_e.replace(et.dialCode,"");return st.test(z(lt))});return it(at?nt[at]:nt.default)},M=_e=>{let[et,tt,rt,nt,it,at]=_e;return{name:et,iso2:tt,dialCode:rt,format:nt,priority:it,areaCodes:at}},Ae=_e=>`Field "${_e}" is not supported`,$=({field:_e,value:et,countries:tt=R})=>{if(["priority"].includes(_e))throw new Error(Ae(_e));let rt=tt.find(nt=>{let it=M(nt);return et===it[_e]});if(rt)return M(rt)},X=({phone:_e,countries:et=R,currentCountryIso2:tt})=>{var ot;let rt={country:void 0,fullDialCodeMatch:!1};if(!_e)return rt;let nt=z(_e);if(!nt)return rt;let it=rt,at=({country:st,fullDialCodeMatch:lt})=>{var dt,ft;let ct=st.dialCode===((dt=it.country)==null?void 0:dt.dialCode),ut=(st.priority??0)<(((ft=it.country)==null?void 0:ft.priority)??0);(!ct||ut)&&(it={country:st,fullDialCodeMatch:lt})};for(let st of et){let lt=M(st),{dialCode:ct,areaCodes:ut}=lt;if(nt.startsWith(ct)){let dt=it.country?Number(ct)>=Number(it.country.dialCode):!0;if(ut){let ft=nt.substring(ct.length);for(let pt of ut)if(ft.startsWith(pt))return{country:lt,fullDialCodeMatch:!0}}(dt||ct===nt||!it.fullDialCodeMatch)&&at({country:lt,fullDialCodeMatch:!0})}it.fullDialCodeMatch||nt.length<ct.length&&ct.startsWith(nt)&&(!it.country||Number(ct)<=Number(it.country.dialCode))&&at({country:lt,fullDialCodeMatch:!1})}if(tt){let st=$({value:tt,field:"iso2",countries:et});if(!st)return it;let lt=st?(ct=>{if(!(ct!=null&&ct.areaCodes))return!1;let ut=nt.substring(ct.dialCode.length);return ct.areaCodes.some(dt=>dt.startsWith(ut))})(st):!1;it&&((ot=it.country)==null?void 0:ot.dialCode)===st.dialCode&&it.country!==st&&it.fullDialCodeMatch&&(!st.areaCodes||lt)&&(it={country:st,fullDialCodeMatch:!0})}return it},Te=(_e,et)=>{let tt=parseInt(_e,16);return Number(tt+et).toString(16)},Ee="abcdefghijklmnopqrstuvwxyz",Le="1f1e6",Pe=Ee.split("").reduce((_e,et,tt)=>({..._e,[et]:Te(Le,tt)}),{}),$e=_e=>[Pe[_e[0]],Pe[_e[1]]].join("-"),q=({iso2:_e,size:et,src:tt,protocol:rt="https",disableLazyLoading:nt,className:it,style:at,...ot})=>{if(!_e)return React.createElement("img",{className:P({addPrefix:["flag-emoji"],rawClassNames:[it]}),width:et,height:et,...ot});let st=()=>{if(tt)return tt;let lt=$e(_e);return`${rt}://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${lt}.svg`};return React.createElement("img",{className:P({addPrefix:["flag-emoji"],rawClassNames:[it]}),src:st(),width:et,height:et,draggable:!1,"data-country":_e,loading:nt?void 0:"lazy",style:{width:et,height:et,...at},alt:"",...ot})},He=1e3,ne=({show:_e,dialCodePrefix:et="+",selectedCountry:tt,countries:rt=R,preferredCountries:nt=[],flags:it,onSelect:at,onClose:ot,...st})=>{let lt=reactExports.useRef(null),ct=reactExports.useRef(),ut=reactExports.useMemo(()=>{if(!nt||!nt.length)return rt;let Ct=[],wt=[...rt];for(let _t of nt){let Ot=wt.findIndex(kt=>M(kt).iso2===_t);if(Ot!==-1){let kt=wt.splice(Ot,1)[0];Ct.push(kt)}}return Ct.concat(wt)},[rt,nt]),dt=reactExports.useRef({updatedAt:void 0,value:""}),ft=Ct=>{let wt=dt.current.updatedAt&&new Date().getTime()-dt.current.updatedAt.getTime()>He;dt.current={value:wt?Ct:`${dt.current.value}${Ct}`,updatedAt:new Date};let _t=ut.findIndex(Ot=>M(Ot).name.toLowerCase().startsWith(dt.current.value));_t!==-1&&yt(_t)},pt=reactExports.useCallback(Ct=>ut.findIndex(wt=>M(wt).iso2===Ct),[ut]),[ht,yt]=reactExports.useState(pt(tt)),mt=()=>{ct.current!==tt&&yt(pt(tt))},gt=reactExports.useCallback(Ct=>{yt(pt(Ct.iso2)),at==null||at(Ct)},[at,pt]),vt=Ct=>{let wt=ut.length-1,_t=Ot=>Ct==="prev"?Ot-1:Ct==="next"?Ot+1:Ct==="last"?wt:0;yt(Ot=>{let kt=_t(Ot);return kt<0?0:kt>wt?wt:kt})},St=Ct=>{if(Ct.stopPropagation(),Ct.key==="Enter"){Ct.preventDefault();let wt=M(ut[ht]);gt(wt);return}if(Ct.key==="Escape"){ot==null||ot();return}if(Ct.key==="ArrowUp"){Ct.preventDefault(),vt("prev");return}if(Ct.key==="ArrowDown"){Ct.preventDefault(),vt("next");return}if(Ct.key==="PageUp"){Ct.preventDefault(),vt("first");return}if(Ct.key==="PageDown"){Ct.preventDefault(),vt("last");return}Ct.key===" "&&Ct.preventDefault(),Ct.key.length===1&&!Ct.altKey&&!Ct.ctrlKey&&!Ct.metaKey&&ft(Ct.key.toLocaleLowerCase())},xt=reactExports.useCallback(()=>{if(!lt.current||ht===void 0)return;let Ct=M(ut[ht]).iso2;if(Ct===ct.current)return;let wt=lt.current.querySelector(`[data-country="${Ct}"]`);wt&&(ue(lt.current,wt),ct.current=Ct)},[ht,ut]);return reactExports.useEffect(()=>{xt()},[ht,xt]),reactExports.useEffect(()=>{lt.current&&(_e?lt.current.focus():mt())},[_e]),reactExports.useEffect(()=>{mt()},[tt]),React.createElement("ul",{ref:lt,role:"listbox",className:P({addPrefix:["country-selector-dropdown"],rawClassNames:[st.className]}),style:{display:_e?"block":"none",...st.style},onKeyDown:St,onBlur:ot,tabIndex:-1,"aria-activedescendant":`react-international-phone__${M(ut[ht]).iso2}-option`},ut.map((Ct,wt)=>{let _t=M(Ct),Ot=_t.iso2===tt,kt=wt===ht,Lt=nt.includes(_t.iso2),$t=wt===nt.length-1,zt=it==null?void 0:it.find(Vt=>Vt.iso2===_t.iso2);return React.createElement(React.Fragment,{key:_t.iso2},React.createElement("li",{"data-country":_t.iso2,role:"option","aria-selected":Ot,"aria-label":`${_t.name} ${et}${_t.dialCode}`,id:`react-international-phone__${_t.iso2}-option`,className:P({addPrefix:["country-selector-dropdown__list-item",Lt&&"country-selector-dropdown__list-item--preferred",Ot&&"country-selector-dropdown__list-item--selected",kt&&"country-selector-dropdown__list-item--focused"],rawClassNames:[st.listItemClassName]}),onClick:()=>gt(_t),style:st.listItemStyle,title:_t.name},React.createElement(q,{iso2:_t.iso2,src:zt==null?void 0:zt.src,className:P({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[st.listItemFlagClassName]}),style:st.listItemFlagStyle}),React.createElement("span",{className:P({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[st.listItemCountryNameClassName]}),style:st.listItemCountryNameStyle},_t.name),React.createElement("span",{className:P({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[st.listItemDialCodeClassName]}),style:st.listItemDialCodeStyle},et,_t.dialCode)),$t?React.createElement("hr",{className:P({addPrefix:["country-selector-dropdown__preferred-list-divider"],rawClassNames:[st.preferredListDividerClassName]}),style:st.preferredListDividerStyle}):null)}))},ae=({selectedCountry:_e,onSelect:et,disabled:tt,hideDropdown:rt,countries:nt=R,preferredCountries:it=[],flags:at,renderButtonWrapper:ot,...st})=>{let[lt,ct]=reactExports.useState(!1),ut=reactExports.useMemo(()=>{if(_e)return $({value:_e,field:"iso2",countries:nt})},[nt,_e]),dt=reactExports.useRef(null),ft=ht=>{ht.key&&["ArrowUp","ArrowDown"].includes(ht.key)&&(ht.preventDefault(),ct(!0))},pt=()=>{var mt;let ht={title:ut==null?void 0:ut.name,onClick:()=>ct(gt=>!gt),onMouseDown:gt=>gt.preventDefault(),onKeyDown:ft,disabled:rt||tt,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":lt},yt=React.createElement("div",{className:P({addPrefix:["country-selector-button__button-content"],rawClassNames:[st.buttonContentWrapperClassName]}),style:st.buttonContentWrapperStyle},React.createElement(q,{iso2:_e,src:(mt=at==null?void 0:at.find(gt=>gt.iso2===_e))==null?void 0:mt.src,className:P({addPrefix:["country-selector-button__flag-emoji",tt&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[st.flagClassName]}),style:{visibility:_e?"visible":"hidden",...st.flagStyle}}),!rt&&React.createElement("div",{className:P({addPrefix:["country-selector-button__dropdown-arrow",tt&&"country-selector-button__dropdown-arrow--disabled",lt&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[st.dropdownArrowClassName]}),style:st.dropdownArrowStyle}));return ot?ot({children:yt,rootProps:ht}):React.createElement("button",{...ht,type:"button",className:P({addPrefix:["country-selector-button",lt&&"country-selector-button--active",tt&&"country-selector-button--disabled",rt&&"country-selector-button--hide-dropdown"],rawClassNames:[st.buttonClassName]}),"data-country":_e,style:st.buttonStyle},yt)};return React.createElement("div",{className:P({addPrefix:["country-selector"],rawClassNames:[st.className]}),style:st.style,ref:dt},pt(),React.createElement(ne,{show:lt,countries:nt,preferredCountries:it,flags:at,onSelect:ht=>{ct(!1),et==null||et(ht)},selectedCountry:_e,onClose:()=>{ct(!1)},...st.dropdownStyleProps}))},ie=({dialCode:_e,prefix:et,disabled:tt,style:rt,className:nt})=>React.createElement("div",{className:P({addPrefix:["dial-code-preview",tt&&"dial-code-preview--disabled"],rawClassNames:[nt]}),style:rt},`${et}${_e}`),Ue=reactExports.forwardRef(({value:_e,onChange:et,countries:tt=R,preferredCountries:rt=[],hideDropdown:nt,showDisabledDialCodeAndPrefix:it,disableFocusAfterCountrySelect:at,flags:ot,style:st,className:lt,inputStyle:ct,inputClassName:ut,countrySelectorStyleProps:dt,dialCodePreviewStyleProps:ft,inputProps:pt,placeholder:ht,disabled:yt,name:mt,onFocus:gt,onBlur:vt,required:St,autoFocus:xt,...Ct},wt)=>{let{phone:_t,inputValue:Ot,inputRef:kt,country:Lt,setCountry:$t,handlePhoneValueChange:zt}=ee({value:_e,countries:tt,...Ct,onChange:Ut=>{et==null||et(Ut.phone,{country:Ut.country,inputValue:Ut.inputValue})}}),Vt=Ct.disableDialCodeAndPrefix&&it&&(Lt==null?void 0:Lt.dialCode);return reactExports.useImperativeHandle(wt,()=>kt.current?Object.assign(kt.current,{setCountry:$t,state:{phone:_t,inputValue:Ot,country:Lt}}):null,[kt,$t,_t,Ot,Lt]),React.createElement("div",{ref:wt,className:P({addPrefix:["input-container"],rawClassNames:[lt]}),style:st},React.createElement(ae,{onSelect:Ut=>$t(Ut.iso2,{focusOnInput:!at}),flags:ot,selectedCountry:Lt.iso2,countries:tt,preferredCountries:rt,disabled:yt,hideDropdown:nt,...dt}),Vt&&React.createElement(ie,{dialCode:Lt.dialCode,prefix:Ct.prefix??"+",disabled:yt,...ft}),React.createElement("input",{onChange:zt,value:Ot,type:"tel",ref:kt,className:P({addPrefix:["input",yt&&"input--disabled"],rawClassNames:[ut]}),placeholder:ht,disabled:yt,style:ct,name:mt,onFocus:gt,onBlur:vt,autoFocus:xt,required:St,...pt}))});function isPhoneNumberEmpty(_e){return _e==null||_e.countryCode.length===0||_e.number.length===0}function formatPhoneNumber(_e){if(_e==null||isPhoneNumberEmpty(_e))return null;const et=_e.countryCode+_e.number,{country:tt}=X({phone:et});if(tt==null)return et;const rt=Q({phone:et,country:tt});let nt="",it=0;for(const at of rt)at==="."?(nt+=_e.number[it],it+=1):nt+=at;return"+"+_e.countryCode+" "+nt}function createUserPhoneSchema(_e=!0){return z$1.object({countryCode:z$1.string(),number:z$1.string()}).refine(et=>{if(et.countryCode.length===0||et.number.length===0)return _e;const{country:tt}=X({phone:et.countryCode+et.number});return tt==null?_e:Q({phone:et.countryCode+et.number,country:tt}).split("").filter(it=>it===".").length===et.number.length},{message:"Enter a valid phone number"})}const PhoneSmsIconSrc="/app/book/assets/phone-sms-DTP7z1kL.svg",PhoneInputWrapper=styled_default("div")({name:"PhoneInputWrapper",class:"PhoneInputWrapper_pddkx11",propsAsIs:!1}),PhoneInputLabel=styled_default("label")({name:"PhoneInputLabel",class:"PhoneInputLabel_p153339y",propsAsIs:!1}),PhoneInputError=styled_default("span")({name:"PhoneInputError",class:"PhoneInputError_pa7vp4q",propsAsIs:!1}),nativeClassName="nativeClassName_n1h6oygg",nativeInputClassName="nativeInputClassName_n1owdt6h",nativeSelectorDropdownClassName="nativeSelectorDropdownClassName_n1h7j3v2",nativeSelectorDropdownListItemClassName="nativeSelectorDropdownListItemClassName_n18xdelz",nativeSelectorButtonClassName="nativeSelectorButtonClassName_nbnqtqw",nativeSelectorButtonContentWrapperClassName="nativeSelectorButtonContentWrapperClassName_nsxyten";function RMPhoneInput({label:_e,value:et,error:tt,disabled:rt,dropdownPosition:nt,onChange:it,onBlur:at}){const ot=et==null?void 0:et.countryCode+et.number;return jsxRuntimeExports.jsxs(PhoneInputWrapper,{"data-disabled":rt,"data-dropdown-position":nt,children:[_e&&jsxRuntimeExports.jsx(PhoneInputLabel,{children:_e}),jsxRuntimeExports.jsx(Ue,{inputProps:{"aria-label":_e},defaultCountry:"us",disabled:rt,value:ot,onChange:(st,{country:lt})=>{if(st.length===0){it==null||it({countryCode:"",number:""});return}if(!(st==="+"&&(et==null?void 0:et.number.length)===0)){if(st.startsWith(`+${lt.dialCode}`)){const ct={countryCode:lt.dialCode,number:st.substring(lt.dialCode.length+1)};if(ct.countryCode===(et==null?void 0:et.countryCode)&&ct.number===et.number)return;it==null||it(ct);return}it==null||it({countryCode:st.substring(1),number:""})}},onBlur:at,className:nativeClassName,inputClassName:nativeInputClassName,countrySelectorStyleProps:{dropdownStyleProps:{className:nativeSelectorDropdownClassName,listItemClassName:nativeSelectorDropdownListItemClassName},buttonClassName:nativeSelectorButtonClassName,buttonContentWrapperClassName:nativeSelectorButtonContentWrapperClassName}}),tt&&jsxRuntimeExports.jsx(PhoneInputError,{children:tt})]})}function InputController({form:_e,path:et,immediate:tt=!1,children:rt}){var st;const nt=useControlledInputProps(_e,et),it=useInputValue(_e,et,tt),{displayError:at,errors:ot}=useInputValidation(_e,et);return rt({...nt,value:it??null,error:at?(st=ot==null?void 0:ot[0])==null?void 0:st.message:void 0})}function InputContainer$1({form:_e,path:et,children:tt}){var at;const rt=useInputProps(_e,et),{displayError:nt,errors:it}=useInputValidation(_e,et);return tt({...rt,error:nt?(at=it==null?void 0:it[0])==null?void 0:at.message:void 0})}const StyledPhoneCollectionOnboardingDialog=styled_default("div")({name:"StyledPhoneCollectionOnboardingDialog",class:"StyledPhoneCollectionOnboardingDialog_s184pgwh",propsAsIs:!1}),Header$2=styled_default("div")({name:"Header",class:"Header_hbxqd56",propsAsIs:!1}),_exp$8=()=>RMWordmark,Wordmark$2=styled_default(_exp$8())({name:"Wordmark",class:"Wordmark_w13e0nin",propsAsIs:!0}),Content$2=styled_default("div")({name:"Content",class:"Content_c1pey99w",propsAsIs:!1}),TextWrapper=styled_default("div")({name:"TextWrapper",class:"TextWrapper_t17bpzg8",propsAsIs:!1}),PhoneIcon=styled_default("img")({name:"PhoneIcon",class:"PhoneIcon_pgzrrfk",propsAsIs:!1});function PhoneCollectionOnboardingDialog({form:_e,storytellerName:et,onSubmit:tt,onSkip:rt}){const nt=useIsFormValid(_e);return jsxRuntimeExports.jsxs(StyledPhoneCollectionOnboardingDialog,{children:[jsxRuntimeExports.jsx(Header$2,{children:jsxRuntimeExports.jsx(Wordmark$2,{})}),jsxRuntimeExports.jsxs(Content$2,{children:[jsxRuntimeExports.jsx(PhoneIcon,{src:PhoneSmsIconSrc}),jsxRuntimeExports.jsxs(TextWrapper,{children:[jsxRuntimeExports.jsx(RMText,{type:"serif",size:"l",color:"on-surface-primary",align:"center",children:et!=null?`Never miss a story from ${et}`:"Creating your book just got easier"}),jsxRuntimeExports.jsx(RMText,{type:"sans",size:"s",color:"on-surface-primary",align:"center",children:et!=null?"When you sign up for text messages, we let you know every time a new story is recorded.":"When you sign up for text message reminders, completing your next story is a breeze."})]}),jsxRuntimeExports.jsxs(TextWrapper,{children:[jsxRuntimeExports.jsx(InputController,{form:_e,path:"phone",children:it=>jsxRuntimeExports.jsx(RMPhoneInput,{label:"Your phone number",...it})}),jsxRuntimeExports.jsx(RMButton,{background:"primary",autoLoading:!0,fullWidth:!0,disabled:nt==!1,onClick:tt,children:"Yes, sign me up!"}),jsxRuntimeExports.jsx(RMButton,{background:"none",autoLoading:!0,fullWidth:!0,onClick:rt,children:"No, Ill stick with email reminders"})]}),jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xxs",color:"on-surface-tertiary",align:"center",children:"Remento sends helpful reminders via text (currently US numbers only). Text STOP or disable in settings to unsubscribe. Msg & data rates may apply.."})]})]})}function PhoneCollectionOnboardingDialogContainer({onSetOnboardingDone:_e}){var ut,dt,ft,pt;const{userService:et,entityCacheManagerService:tt}=useServices(),rt=useUser(),nt=useProjectsQuery(),it=useProjectQuery((ut=nt.data)==null?void 0:ut[0]),at=usePersonQuery((dt=it.data)==null?void 0:dt.subjectPersonIds[0]),ot=reactExports.useMemo(()=>(rt==null?void 0:rt.tags.includes(UserTag.HOST))||(rt==null?void 0:rt.tags.includes(UserTag.STORYTELLER)),[rt==null?void 0:rt.tags]),st=reactExports.useMemo(()=>createForm({validation:{mode:"onChange",display:"onTouched"},schema:z$1.object({phone:createUserPhoneSchema(!1)}),defaultValues:{phone:{countryCode:"",number:""}}}),[]),lt=reactExports.useCallback(async()=>{rt!=null&&await submitForm(st,async({phone:ht})=>{try{await tt.mutate([...et.createSetUserPhoneMutation(rt,ht)]),await et.refreshUser(),await _e()}catch(yt){captureException(yt,!0),toast("An unexpected error has occurred.","root-toast","error")}})},[tt,st,_e,rt,et]),ct=reactExports.useCallback(async()=>{try{await _e()}catch(ht){captureException(ht,!0),toast("An unexpected error has occurred.","root-toast","error")}},[_e]);return rt==null||nt.data==null||ot==!1&&at.data==null?null:jsxRuntimeExports.jsx(PhoneCollectionOnboardingDialog,{form:st,storytellerName:ot?null:((pt=(ft=at.data)==null?void 0:ft.name)==null?void 0:pt.first)??null,onSubmit:lt,onSkip:ct})}function SubscriptionRenewOfferOnboardingDialogContainer({onSetOnboardingDone:_e}){var it;const et=useNavigate(),tt=useUser(),rt=reactExports.useCallback(async()=>{try{await _e(),et(getAccountRenewPromoPath())}catch(at){captureException(at,!0),toast("An unexpected error has occurred.","root-toast","error")}},[et,_e]),nt=reactExports.useCallback(async()=>{try{await _e()}catch(at){captureException(at,!0),toast("An unexpected error has occurred.","root-toast","error")}},[_e]);return jsxRuntimeExports.jsx(RMDialog.Root,{open:!0,onClose:nt,children:jsxRuntimeExports.jsxs(RMDialog.Content,{children:[jsxRuntimeExports.jsx(RMDialog.Header,{title:"Special offer: Save $25 on renewal!",rightAdornment:jsxRuntimeExports.jsx(RMCloseButton,{onClick:nt})}),jsxRuntimeExports.jsx(RMDialog.Body,{children:jsxRuntimeExports.jsxs(RMText,{type:"sans",size:"xs",color:"on-surface-primary",children:["Your Remento subscription is set to renew on ",dayjs((it=tt==null?void 0:tt.subscription)==null?void 0:it.endsOn).format("MM/DD/YYYY"),", and weve got a limited-time offer on your renewal of Remento for an extra year."]})}),jsxRuntimeExports.jsxs(RMDialog.Footer,{children:[jsxRuntimeExports.jsx(RMButton,{background:"outlined",autoLoading:!0,onClick:rt,children:"Learn more"}),jsxRuntimeExports.jsx(RMButton,{background:"primary",autoLoading:!0,onClick:rt,children:"Claim offer"})]})]})})}function TimezoneUpdateOnboardingDialogContainer({onSetOnboardingDone:_e}){const{entityCacheManagerService:et,userService:tt}=useServices(),rt=useUser(),nt=reactExports.useMemo(()=>(rt==null?void 0:rt.timezone)==null?null:getTimezoneInfo(rt.timezone),[rt==null?void 0:rt.timezone]),it=reactExports.useMemo(()=>getCurrentTimezoneInfo(),[]),at=reactExports.useCallback(async()=>{try{await _e()}catch(st){captureException(st,!0),toast("An unexpected error has occurred.","root-toast","error")}},[_e]),ot=reactExports.useCallback(async()=>{if(rt!=null)try{await et.mutate([...tt.createSetUserTimezoneMutation(rt,it.id)]),await tt.refreshUser(),await _e()}catch(st){captureException(st,!0),toast("An unexpected error has occurred.","root-toast","error")}},[et,it.id,_e,rt,tt]);return jsxRuntimeExports.jsx(RMDialog.Root,{open:!0,onClose:at,children:jsxRuntimeExports.jsxs(RMDialog.Content,{children:[jsxRuntimeExports.jsx(RMDialog.Header,{title:"Would you like to update your time zone?",rightAdornment:jsxRuntimeExports.jsx(RMCloseButton,{onClick:at})}),jsxRuntimeExports.jsx(RMDialog.Body,{children:jsxRuntimeExports.jsxs(RMText,{type:"sans",size:"xs",color:"on-surface-primary",children:["Remento uses your time zone to send new prompts and other useful reminders. To ensure we are sending these at a good time of day, would you like to update to a new time zone?",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"Current: ",nt==null?void 0:nt.displayName,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("b",{children:"NEW:"})," ",it.displayName,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"To update this in the future, visit My account."]})}),jsxRuntimeExports.jsxs(RMDialog.Footer,{children:[jsxRuntimeExports.jsx(RMButton,{background:"neutral",autoLoading:!0,onClick:at,children:"No, thanks"}),jsxRuntimeExports.jsx(RMButton,{background:"primary",autoLoading:!0,onClick:ot,children:"Yes, update"})]})]})})}const onboardingDialogs=[{id:UserOnboardingActionType.STORY_PERSPECTIVE_SETTINGS_VIEWED,dialogType:"default",title:" NEW: Change how Remento writes your stories",content:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["You can now change the default writing style that turns your recordings into a written story.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"Either use our Writing Assistant to craft a written story in either the first or third person (default), or maintain the exact words and structure with a cleaned transcript.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("a",{href:"https://help.remento.co/en/articles/8365905-can-i-change-the-perspective-or-length-of-a-written-story",target:"_blank",style:{color:"inherit"},children:jsxRuntimeExports.jsx("u",{children:"Read more about Rementos writing styles here."})})]}),actionLabel:"Change transcription mode",requiredRoles:{[EntityType.PROJECT]:[AclGroupRole.OWNER,AclGroupRole.ADMIN]}},{id:UserOnboardingActionType.PHONE_COLLECTED,dialogType:"custom",render:_e=>jsxRuntimeExports.jsx(PhoneCollectionOnboardingDialogContainer,{..._e})},{id:UserOnboardingActionType.SUBSCRIPTION_RENEW_OFFER_VIEWED,dialogType:"custom",render:_e=>jsxRuntimeExports.jsx(SubscriptionRenewOfferOnboardingDialogContainer,{..._e}),shouldShow:_e=>_e.subscription==null||_e.subscription.type!==SubscriptionType.YEARLY||_e.subscription.status!==UserSubscriptionStatus.ACTIVE||_e.subscription.renewalType===SubscriptionRenewalType.CANCEL?!1:_e.subscription.endsOn-Date.now()<=PRE_RENEWAL_PHASE_DURATION},{id:UserOnboardingActionType.TIMEZONE_UPDATED_VIEWED,dialogType:"custom",render:_e=>jsxRuntimeExports.jsx(TimezoneUpdateOnboardingDialogContainer,{..._e}),shouldShow:_e=>_e.timezone==null?!1:getCurrentTimezoneId()!==_e.timezone},{id:UserOnboardingActionType.PROJECT_HOME_VIEWED,dialogType:"default",title:"Welcome to your new Remento homepage ",content:"Now you can quickly add prompts or record a story with just one click, get personalized tips, and view your latest stories. Explore your new storytelling headquartersdesigned with you in mind.",actionLabel:"Explore now",routesAllowlist:[RoutePath.ProjectHome]}];class LocalStoreRepositoryWrapper{constructor(et,tt){this.prefix=et,this.repository=tt}getItem(et){return this.repository.getItem(this.getItemKey(et))}setItem(et,tt){this.repository.setItem(this.getItemKey(et),tt)}removeItem(et){this.repository.removeItem(this.getItemKey(et))}clear(){this.repository.clear(this.prefix)}keys(){return this.repository.keys(this.prefix)}entries(){return this.repository.entries(this.prefix)}getItemKey(et){return`${this.prefix}/${et}`}}class LocalProjectCheckoutFormRepository{constructor(et){this.localStore=et}get(){return this.localStore.getItem("form")}set(et){this.localStore.setItem("form",et)}clear(){this.localStore.removeItem("form")}}class LocalProjectCheckoutRecoveryRepository{constructor(et){this.localStore=et}getLatestCheckout(){return this.localStore.getItem("latest-checkout")}setLatestCheckout(et){this.localStore.setItem("latest-checkout",et)}clearLatestCheckout(){this.localStore.removeItem("latest-checkout")}}const PROJECT_CHECKOUT_FORM_REPOSITORY_PREFIX="@remento/checkout",ProjectCheckoutServicesContext=reactExports.createContext(null);function ProjectCheckoutServicesProvider({children:_e}){const{localStorageRepository:et}=useServices(),tt=reactExports.useMemo(()=>({projectCheckoutFormRepository:new LocalProjectCheckoutFormRepository(new LocalStoreRepositoryWrapper(PROJECT_CHECKOUT_FORM_REPOSITORY_PREFIX,et)),projectCheckoutRecoveryRepository:new LocalProjectCheckoutRecoveryRepository(new LocalStoreRepositoryWrapper("@remento/checkout-recovery",et))}),[et]);return jsxRuntimeExports.jsx(ProjectCheckoutServicesContext.Provider,{value:tt,children:_e})}function useProjectCheckoutServices(){const _e=reactExports.useContext(ProjectCheckoutServicesContext);if(!_e)throw new Error("useProjectCheckoutServices must be used inside a ProjectCheckoutServicesProvider");return _e}function generateRouteRegex(_e){const et=/:(\w+)/g;let tt=_e.replace(et,(rt,nt)=>`(?<${nt}>[^/]+)`);return tt=`^${tt}$`,new RegExp(tt)}function compareRoutes(_e,et){const tt=it=>(it.match(/:/g)||[]).length,rt=_e.includes(":"),nt=et.includes(":");if(rt&&nt){const it=tt(_e),at=tt(et);return it-at||_e.localeCompare(et)}return rt?1:nt?-1:_e.localeCompare(et)}const routes$1=Object.values(RoutePath).sort(compareRoutes),routesRegex=routes$1.map(_e=>generateRouteRegex(_e));function getRouteFromPathname(_e){const et=routesRegex.findIndex(tt=>_e.match(tt));return routes$1[et]??null}const logger$3=createLogger("location");function getPathname(){const _e="",{pathname:et}=window.location;return _e.length===0?et:et.startsWith(_e)?et.substring(_e.length):(logger$3.warn("PATH_MISSING-BASENAME",()=>({pathname:et,basename:_e})),et)}const version="1.0.488";class DefaultDatadogTracingService{constructor(et,tt){kr(this,"logger",createLogger("datadog-tracing-service"));kr(this,"errorListeners",new Set);const rt=nt=>`https://${tt.apiHost}${tt.apiPath}${nt.path}?${nt.parameters}`;datadogLogs.init({clientToken:tt.clientToken,site:tt.site,env:tt.env,version,service:tt.service,forwardErrorsToLogs:!0,sessionSampleRate:100,proxy:rt}),datadogRum.init({applicationId:tt.applicationId,clientToken:tt.clientToken,site:tt.site,env:tt.env,version,service:tt.service,sessionSampleRate:100,sessionReplaySampleRate:100,traceSampleRate:100,trackUserInteractions:!0,defaultPrivacyLevel:"mask-user-input",allowedTracingUrls:["https://api-v36wh5jacq-uc.a.run.app"],beforeSend:nt=>{if(nt.type==="error"){const it=tt.ignoredErrors.find(ct=>nt.error.message.includes(ct));if(it)return this.logger.warn("ERROR.IGNORED",()=>({message:nt.error.message,stack:nt.error.stack,ignoredError:it})),!1;const at=tt.throttledErrors.find(ct=>nt.error.message.includes(ct));if(at!=null&&et.getItem(at)!=null)return this.logger.warn("ERROR.THROTTLED",()=>({message:nt.error.message,stack:nt.error.stack,throttledError:at})),!1;if(nt.error.fingerprint=nt.error.message,nt.error.id==null)return!1;const st=Date.now(),lt=`https://us5.datadoghq.com/error-tracking?query=%40error.id%3A${nt.error.id}&fromUser=false&refresh_mode=paused&source=all&from_ts=${new Date(st-36e5).getTime()}&to_ts=${new Date(st+36e5).getTime()}&live=false`;this.errorListeners.forEach(ct=>ct(lt)),at!=null&&et.setItem(at,!0)}return!0}})}identify(et){const tt={segment:et.type==="anonymous"?"anonymous":"credential",id:et.id,...et.traits};datadogRum.setUser(tt),datadogLogs.setUser(tt)}reset(et){datadogLogs.clearUser(),datadogRum.clearUser(),this.identify(et)}async track(et,tt){datadogRum.addAction(et,tt)}async page(et){datadogRum.startView(et)}onError(et){return this.errorListeners.add(et),()=>this.errorListeners.delete(et)}}class NoopDatadogTracingService{async identify(et){}async reset(){}async track(et,tt){}async page(et){}onError(et){return()=>{}}}const AUTH_STATE_KEY="@remento/auth/state",AUTH_PENDING_TRANSITION_KEY="@remento/auth/pending-transition",AUTH_SESSION_ID_KEY="@remento/session-id";class AuthRepositoryImpl{constructor(et){this.persistentStorageRepository=et}getPersistedPendingStateTransition(){return this.persistentStorageRepository.getItem(AUTH_PENDING_TRANSITION_KEY)}persistStateTransition(et){this.persistentStorageRepository.setItem(AUTH_PENDING_TRANSITION_KEY,et)}deletePersistentStateTransition(){this.persistentStorageRepository.removeItem(AUTH_PENDING_TRANSITION_KEY)}getPersistedState(){return this.persistentStorageRepository.getItem(AUTH_STATE_KEY)}persistState(et){this.persistentStorageRepository.setItem(AUTH_STATE_KEY,et)}getSessionId(){return this.persistentStorageRepository.getItem(AUTH_SESSION_ID_KEY)}persistSessionId(et){this.persistentStorageRepository.setItem(AUTH_SESSION_ID_KEY,et)}}class Deferred{constructor(){kr(this,"promise");kr(this,"resolve");kr(this,"reject");this.promise=new Promise((et,tt)=>{this.resolve=et,this.reject=tt})}}var AsyncLock$1=function(_e){if(_e=_e||{},this.Promise=_e.Promise||Promise,this.queues=Object.create(null),this.domainReentrant=_e.domainReentrant||!1,this.domainReentrant){if(typeof process>"u"||typeof process.domain>"u")throw new Error("Domain-reentrant locks require `process.domain` to exist. Please flip `opts.domainReentrant = false`, use a NodeJS version that still implements Domain, or install a browser polyfill.");this.domains=Object.create(null)}this.timeout=_e.timeout||AsyncLock$1.DEFAULT_TIMEOUT,this.maxOccupationTime=_e.maxOccupationTime||AsyncLock$1.DEFAULT_MAX_OCCUPATION_TIME,this.maxExecutionTime=_e.maxExecutionTime||AsyncLock$1.DEFAULT_MAX_EXECUTION_TIME,_e.maxPending===1/0||Number.isInteger(_e.maxPending)&&_e.maxPending>=0?this.maxPending=_e.maxPending:this.maxPending=AsyncLock$1.DEFAULT_MAX_PENDING};AsyncLock$1.DEFAULT_TIMEOUT=0;AsyncLock$1.DEFAULT_MAX_OCCUPATION_TIME=0;AsyncLock$1.DEFAULT_MAX_EXECUTION_TIME=0;AsyncLock$1.DEFAULT_MAX_PENDING=1e3;AsyncLock$1.prototype.acquire=function(_e,et,tt,rt){if(Array.isArray(_e))return this._acquireBatch(_e,et,tt,rt);if(typeof et!="function")throw new Error("You must pass a function to execute");var nt=null,it=null,at=null;typeof tt!="function"&&(rt=tt,tt=null,at=new this.Promise(function(mt,gt){nt=mt,it=gt})),rt=rt||{};var ot=!1,st=null,lt=null,ct=null,ut=this,dt=function(mt,gt,vt){lt&&(clearTimeout(lt),lt=null),ct&&(clearTimeout(ct),ct=null),mt&&(ut.queues[_e]&&ut.queues[_e].length===0&&delete ut.queues[_e],ut.domainReentrant&&delete ut.domains[_e]),ot||(at?gt?it(gt):nt(vt):typeof tt=="function"&&tt(gt,vt),ot=!0),mt&&ut.queues[_e]&&ut.queues[_e].length>0&&ut.queues[_e].shift()()},ft=function(mt){if(ot)return dt(mt);st&&(clearTimeout(st),st=null),ut.domainReentrant&&mt&&(ut.domains[_e]=process.domain);var gt=rt.maxExecutionTime||ut.maxExecutionTime;if(gt&&(ct=setTimeout(function(){ut.queues[_e]&&dt(mt,new Error("Maximum execution time is exceeded "+_e))},gt)),et.length===1){var vt=!1;try{et(function(St,xt){vt||(vt=!0,dt(mt,St,xt))})}catch(St){vt||(vt=!0,dt(mt,St))}}else ut._promiseTry(function(){return et()}).then(function(St){dt(mt,void 0,St)},function(St){dt(mt,St)})};if(ut.domainReentrant&&process.domain&&(ft=process.domain.bind(ft)),!ut.queues[_e])ut.queues[_e]=[],ft(!0);else if(ut.domainReentrant&&process.domain&&process.domain===ut.domains[_e])ft(!1);else if(ut.queues[_e].length>=ut.maxPending)dt(!1,new Error("Too many pending tasks in queue "+_e));else{var pt=function(){ft(!0)};rt.skipQueue?ut.queues[_e].unshift(pt):ut.queues[_e].push(pt);var ht=rt.timeout||ut.timeout;ht&&(st=setTimeout(function(){st=null,dt(!1,new Error("async-lock timed out in queue "+_e))},ht))}var yt=rt.maxOccupationTime||ut.maxOccupationTime;if(yt&&(lt=setTimeout(function(){ut.queues[_e]&&dt(!1,new Error("Maximum occupation time is exceeded in queue "+_e))},yt)),at)return at};AsyncLock$1.prototype._acquireBatch=function(_e,et,tt,rt){typeof tt!="function"&&(rt=tt,tt=null);var nt=this,it=function(ot,st){return function(lt){nt.acquire(ot,st,lt,rt)}},at=_e.reduceRight(function(ot,st){return it(st,ot)},et);if(typeof tt=="function")at(tt);else return new this.Promise(function(ot,st){at.length===1?at(function(lt,ct){lt?st(lt):ot(ct)}):ot(at())})};AsyncLock$1.prototype.isBusy=function(_e){return _e?!!this.queues[_e]:Object.keys(this.queues).length>0};AsyncLock$1.prototype._promiseTry=function(_e){try{return this.Promise.resolve(_e())}catch(et){return this.Promise.reject(et)}};var lib$1=AsyncLock$1,asyncLock=lib$1;const AsyncLock=getDefaultExportFromCjs(asyncLock);class AuthServiceImpl{constructor(et,tt,rt,nt,it,at,ot){kr(this,"logger",createLogger("auth-service"));kr(this,"changeAuthObservers",new Set);kr(this,"changeTokenObservers",new Set);kr(this,"authChangedLock",new AsyncLock);kr(this,"state",null);kr(this,"stateRefreshed",!1);this.auth=et,this.browserDataService=tt,this.sessionStorageRepository=rt,this.persistentStorageRepository=nt,this.authRepository=it,this.queryClient=at,this.pathBasename=ot}async isUserIdTokenRecent(et){const tt=await et.getIdTokenResult();if(tt==null)throw new Error("The user does not have an ID token");const rt=Date.now()-new Date(tt.issuedAtTime).getTime()<1e4;return!rt&&this.stateRefreshed?(this.logger.debug("AUTH.TOKEN_REFRESH_PREVENTED",()=>({userId:et==null?void 0:et.uid,tokenIssuedAt:tt.issuedAtTime})),!0):rt}async onFirebaseAuthStateChange(et){const tt=et===null?AuthStateType.SignedOut:AuthStateType.SignedIn,rt=this.authRepository.getPersistedState(),nt=rt??tt;return this.logger.debug("AUTH.STATE_CHANGE",()=>({userId:et==null?void 0:et.uid,authState:tt,authStatePersisted:rt})),et!==null&&nt===tt&&!await this.isUserIdTokenRecent(et)?(this.logger.debug("AUTH.TOKEN_REFRESH",()=>({userId:et==null?void 0:et.uid,authState:tt,authStatePersisted:rt})),await et.getIdToken(!0),this.stateRefreshed=!0,!1):((rt==null||nt!==tt)&&this.authRepository.persistState(tt),!0)}async initializeFirebaseAuth(){const et=new Deferred;return this.auth.onIdTokenChanged(async tt=>{this.logger.debug("AUTH.TOKEN_CHANGE",()=>({userId:tt==null?void 0:tt.uid,userEmail:tt==null?void 0:tt.email,userName:tt==null?void 0:tt.displayName}));const rt=await(tt==null?void 0:tt.getIdToken());this.changeTokenObservers.forEach(nt=>nt(rt??null)),this.logger.debug("AUTH.TOKEN_CHANGE.EMITTED",()=>({userId:tt==null?void 0:tt.uid})),await this.authChangedLock.acquire("auth-state-changed",async()=>{try{await this.onFirebaseAuthStateChange(tt)&&et.resolve(tt)}catch(nt){captureException(nt),et.reject(nt)}})}),et.promise}async initialize(){const et=await this.initializeFirebaseAuth();switch(et===null?this.state={type:AuthStateType.SignedOut}:this.state={type:AuthStateType.SignedIn,userAuthId:et.uid},this.authRepository.getPersistedPendingStateTransition()){case AuthStateTransition.SignIn:et!=null&&await this.postSignIn(et);break;case AuthStateTransition.SignOut:await this.signOut();break}this.authRepository.deletePersistentStateTransition()}async postSignIn(et,tt=null,rt=!1){const nt=await this.getAuthToken();await api.post("/auth/post-sign-in",{sessionId:v4()},{headers:{Authorization:`Bearer ${nt}`}}),this.changeAuthObservers.forEach(it=>it({type:AuthStateType.SignedIn,userAuthId:et.uid,isNewUser:rt,authProvider:tt}))}async sendEmailSignInLink(et,tt){const rt=new URL(window.location.href);if(rt.pathname=this.pathBasename+"/signin",rt.searchParams.append("email",et),rt.searchParams.delete("step"),tt){const nt=await this.browserDataService.backupData(["@remento/checkout","@remento/redirects","@remento/poll-anonymous-votes"]);rt.searchParams.set("backup-id",nt)}await api.post("/auth/sign-in/email",{email:et,url:rt})}async signInWithEmail(et,tt){if(!isSignInWithEmailLink(this.auth,tt))throw new Error("Invalid sign in email link: "+tt);this.authRepository.persistStateTransition(AuthStateTransition.SignIn);const rt=await signInWithEmailLink(this.auth,et,tt);return this.postSignInWithCredential(rt,"email")}async signInWithGoogle(){this.authRepository.persistStateTransition(AuthStateTransition.SignIn);const et=await signInWithPopup(this.auth,new GoogleAuthProvider);return this.postSignInWithCredential(et,"google")}async signInWithCustomToken(et){const{data:tt}=await api.post("/auth/sign-in/token",{jwt:et});this.authRepository.persistStateTransition(AuthStateTransition.SignIn);const rt=await signInWithCustomToken(this.auth,tt.firebaseCustomToken);return this.postSignInWithCredential(rt,"custom-token")}async createCustomSignInToken(){const{data:et}=await api.get("/auth/sign-in/token",{headers:{Authorization:`Bearer ${await this.getAuthToken()}`}});return et.jwt}async postSignInWithCredential(et,tt){const rt=getAdditionalUserInfo(et);if(!rt)throw new Error("Failed to retrieve user information");return await this.postSignIn(et.user,tt,rt.isNewUser),this.authRepository.deletePersistentStateTransition(),{user:{fullName:et.user.displayName,email:et.user.email},isNewUser:rt.isNewUser}}async signOut(){if(this.state==null)throw new Error("The auth service is not initialized");this.authRepository.persistStateTransition(AuthStateTransition.SignOut),this.persistentStorageRepository.clear(),this.sessionStorageRepository.clear(),await this.auth.signOut(),this.queryClient.clear(),this.state={type:AuthStateType.SignedOut},this.authRepository.deletePersistentStateTransition(),this.changeAuthObservers.forEach(et=>et({type:AuthStateType.SignedOut}))}async getAuthToken(){var et;return await((et=this.auth.currentUser)==null?void 0:et.getIdToken())??null}getAuthState(){if(this.state==null)throw new Error("The auth service is not initialized");return this.state}onAuthChanged(et){return this.changeAuthObservers.add(et),()=>this.changeAuthObservers.delete(et)}onTokenChanged(et){return this.changeTokenObservers.add(et),()=>this.changeTokenObservers.delete(et)}}class DefaultAuthorizationService{constructor(et,tt){this.authService=et,this.localStore=tt}addPermissionTokens(et){const tt=new Set(this.getPermissionTokens()??[]);et.forEach(rt=>tt.add(rt)),this.localStore.setItem("tokens",Array.from(tt))}getPermissionTokens(){return this.localStore.getItem("tokens")??[]}getPermissionTokenPayload(et){return jwtDecode(et)}getTokenPermissions(){return this.getPermissionTokens().reduce((et,tt)=>({...et,...this.getPermissionTokenPayload(tt).acls}),{})}async getCredentialsForRequest(){const et=new URLSearchParams,tt=this.getPermissionTokens();for(const it of tt)et.append("token",it);const rt={},nt=await this.authService.getAuthToken();return nt&&(rt.Authorization=`Bearer ${nt}`),{params:et,headers:rt}}}const ALPHABET="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",UUID_LENGTH=20;function secureUuid(){const et=ALPHABET.length-1,tt=new Uint8Array(UUID_LENGTH);return crypto.getRandomValues(tt),Array.from(tt).map(rt=>{const nt=Math.floor(rt/256*(et-0+1))+0;return ALPHABET[nt]}).join("")}const DUMP_SECRET_KEY="@remento/backup-dump-secret";class BrowserDataServiceImpl{constructor(et,tt){this.persistentStore=et,this.localStores=tt}async backupData(et=["@remento"]){const tt=secureUuid(),rt={};for(const[nt,it]of Object.entries(this.localStores)){rt[nt]={};for(const[at,ot]of it.entries())et.some(lt=>at.startsWith(lt))!==!1&&(rt[nt][at]=ot)}return await api.post(`/browser-data/${tt}`,JSON.stringify(rt),{headers:{"Content-Type":"text/plain"}}),this.persistentStore.setItem(DUMP_SECRET_KEY,tt),tt}async restoreData(et){var it;const tt=this.persistentStore.getItem(DUMP_SECRET_KEY);if(et===tt)return;const{data:rt}=await api.get(`/browser-data/${et}`),nt=JSON.parse(rt.data);for(const[at,ot]of Object.entries(nt))for(const[st,lt]of Object.entries(ot))(it=this.localStores[at])==null||it.setItem(st,lt)}}class DefaultCheckoutService{constructor(et){this.authorizationService=et}async checkout(et){const tt=await this.authorizationService.getCredentialsForRequest(),{data:rt}=await api.post("/checkout",et,{params:tt.params,headers:tt.headers});return rt}async bundleCheckout(et){const tt=await this.authorizationService.getCredentialsForRequest(),{data:rt}=await api.post("/checkout/bundle",et,{params:tt.params,headers:tt.headers});return rt}async giftCheckout(et){const tt=await this.authorizationService.getCredentialsForRequest(),{data:rt}=await api.post("/checkout/gift",et,{params:tt.params,headers:tt.headers});return rt}async reactivate(et){const tt=await this.authorizationService.getCredentialsForRequest(),{data:rt}=await api.post("/checkout/reactivation",{type:et},{params:tt.params,headers:tt.headers});return rt}async earlyRenew(){const et=await this.authorizationService.getCredentialsForRequest(),{data:tt}=await api.post("/checkout/early-renewal",null,{params:et.params,headers:et.headers});return tt}async getCheckoutTotal(et){const tt=await this.authorizationService.getCredentialsForRequest(),rt=new URLSearchParams(tt.params);rt.set("projectType",et.projectType),rt.set("books",String(et.books)),rt.set("ebook",String(et.ebook)),rt.set("legacyboxQuantity",String(et.legacyboxQuantity)),et.coupon!=null&&rt.set("coupon",et.coupon);const{data:nt}=await api.get("/checkout/total",{params:rt,headers:tt.headers});return nt}async getCheckoutSession(et){const tt=await this.authorizationService.getCredentialsForRequest(),{data:rt}=await api.get("/checkout-sessions/"+et,{params:tt.params,headers:tt.headers});return rt}}class DefaultPollService{constructor(et,tt,rt){this.anonymousVoteRepository=et,this.authorizationService=tt,this.userService=rt}async getProjectPolls(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/projects/${et}/polls`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getPoll(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/polls/${et}`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getPollShareLink(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/polls/${et}/share-link`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async createPoll(et){const{projectId:tt,...rt}=et,nt=await this.authorizationService.getCredentialsForRequest();await api.post(`/projects/${tt}/polls`,rt,{params:nt.params,headers:nt.headers})}async deletePoll(et){const tt=await this.authorizationService.getCredentialsForRequest();await api.delete(`/polls/${et}`,{params:tt.params,headers:tt.headers})}async getPollVotes(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/polls/${et}/poll-votes`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getPollVote(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/poll-votes/${et}`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async createPollVote(et){const{pollId:tt,...rt}=et,nt=await this.authorizationService.getCredentialsForRequest();await api.post(`/polls/${tt}/poll-votes`,rt,{params:nt.params,headers:nt.headers}),await this.userService.getUser()==null&&this.anonymousVoteRepository.saveVote(et.pollId,et.id)}async sendEmailInvite(et,tt,rt){const nt=await this.authorizationService.getCredentialsForRequest(),{data:it}=await api.post(`/polls/${et}/invite`,{email:tt},{params:nt.params,headers:nt.headers,signal:rt==null?void 0:rt.signal});return it}}var PollVoteStatus;(function(_e){_e.ACTIVE="active",_e.DELETED="deleted"})(PollVoteStatus||(PollVoteStatus={}));var PollVoteMutationType;(function(_e){_e.SET_PERSON="set-person"})(PollVoteMutationType||(PollVoteMutationType={}));z$1.discriminatedUnion("type",[z$1.object({type:z$1.literal(PollVoteMutationType.SET_PERSON),value:z$1.string(),vclock:z$1.number(),version:z$1.number()})]);const logger$2=createLogger("poll-cache-service");class DefaultPollCacheService{constructor(et,tt,rt,nt,it,at){this.remoteService=et,this.entityCacheManagerService=tt,this.queryClient=rt,this.anonymousVoteRepository=nt,this.userService=it,this.personCacheService=at}getProjectPolls(et,tt){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildCollectionQuery(EntityType.POLL,{projectId:et},()=>this.remoteService.getProjectPolls(et,tt)))}getPoll(et,tt){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildEntityQuery(EntityType.POLL,et,()=>this.remoteService.getPoll(et,tt)))}getPollVotes(et,tt){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildCollectionQuery(EntityType.POLL_VOTE,{pollId:et},()=>this.remoteService.getPollVotes(et,tt)))}getPollVote(et,tt){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildEntityQuery(EntityType.POLL_VOTE,et,()=>this.remoteService.getPollVote(et,tt)))}async hasVoted(et,tt){const rt=await this.userService.getUser();if(rt==null)return this.anonymousVoteRepository.hasVoted(et);const nt=await this.personCacheService.getPerson(rt.personId);if(nt==null)throw new NotFoundError("person-not-found",{origin:"entity",entityType:EntityType.PERSON,entityId:rt.personId});const it=await this.getPollVotes(et,tt);return(await Promise.all(it.map(ot=>this.getPollVote(ot,tt)))).filter(notNull).some(ot=>ot.personId!=null&&nt.refIds.includes(ot.personId))}async associateAnonymousPollVotes(){const et=await this.userService.getUser();if(et==null)return;const tt=this.anonymousVoteRepository.getVotes();if(tt.length==0)return;logger$2.info("ASSOCIATE_ANONYMOUS_POLL_VOTES",()=>({votes:tt}));const rt=await Promise.all(tt.map(nt=>this.getPollVote(nt.voteId)));await this.entityCacheManagerService.mutate(rt.filter(notNull).map(nt=>({type:EntityType.POLL_VOTE,id:nt.id,mutations:[{type:PollVoteMutationType.SET_PERSON,value:et.personId,vclock:nt.vclock,version:nt.version}]}))),this.anonymousVoteRepository.clear(),logger$2.info("ASSOCIATE_ANONYMOUS_POLL_VOTES.DONE",()=>({votes:tt}))}async createPoll(et){await this.remoteService.createPoll(et),await this.entityCacheManagerService.invalidateCollection(EntityType.POLL,{projectId:et.projectId}),await this.entityCacheManagerService.invalidateCollection(EntityType.ACL_GROUP_MEMBER)}async sendEmailInvite(et,tt){const rt=await this.remoteService.sendEmailInvite(et,tt);await this.entityCacheManagerService.cacheResponse(rt)}async deletePoll(et){const tt=await this.getPoll(et);await this.remoteService.deletePoll(et),tt!=null&&await this.entityCacheManagerService.invalidateCollection(EntityType.POLL,{projectId:tt.projectId})}async createPollVote(et){await this.remoteService.createPollVote(et),await this.entityCacheManagerService.invalidateCollection(EntityType.POLL_VOTE,{pollId:et.pollId})}getAnonymousVote(et){return this.anonymousVoteRepository.getAnonymousVote(et)}}function useProjectPollsQuery(_e){const{pollService:et}=useServices();return useCollection$1(EntityType.POLL,_e?{projectId:_e}:null,(tt,rt)=>et.getProjectPolls(tt.projectId,rt))}function usePollQuery(_e){const{pollService:et}=useServices();return useEntity(EntityType.POLL,_e,(tt,rt)=>et.getPoll(tt,rt))}function usePollVotesQuery(_e){const{pollService:et}=useServices();return useCollection$1(EntityType.POLL_VOTE,_e?{pollId:_e}:null,(tt,rt)=>et.getPollVotes(tt.pollId,rt))}function usePollVotes(_e){const{pollService:et,entityCacheManagerService:tt}=useServices();return useQueries({combine:rt=>rt.map(nt=>nt.data).filter(notNull),queries:reactExports.useMemo(()=>(_e==null?void 0:_e.map(rt=>tt.buildEntityQuery(EntityType.POLL_VOTE,rt,()=>et.getPollVote(rt))))??[],[tt,_e,et])})}class LocalPollAnonymousVoteRepository{constructor(et){this.localStore=et}getVotes(){return this.localStore.getItem("votes")??[]}getAnonymousVote(et){return this.getVotes().find(rt=>rt.pollId==et)??null}saveVote(et,tt){const rt=this.getVotes();rt.push({pollId:et,voteId:tt}),this.localStore.setItem("votes",rt)}hasVoted(et){return this.getVotes().some(rt=>rt.pollId==et)}clear(){this.localStore.clear()}}class OptimisticPromptMutationManager{constructor(et){this.cacheManager=et}mutate(et,tt){switch(et.type){case PromptMutationType.MOVE:return this.doMoveMutation(tt,et.value);default:return[]}}getPromptsByProject(et){var rt;return(((rt=this.cacheManager.getCollection(EntityType.PROMPT,{projectId:et}))==null?void 0:rt.value)??[]).map(nt=>{var it;return(it=this.cacheManager.getEntity(EntityType.PROMPT,nt))==null?void 0:it.value}).filter(notNull)}doMoveMutation(et,tt){const rt=this.getPromptsByProject(et.projectId),nt=et.index,it=[],at=[];for(const ot of rt){if(ot.id===et.id){at.push({id:ot.id,index:tt,status:ot.status});continue}const st=nt<tt&&ot.index>nt&&ot.index<=tt,lt=nt>tt&&ot.index>=tt&&ot.index<nt;if(st||lt){at.push({id:ot.id,index:ot.index+(st?-1:1),status:ot.status});const ct=ot.index+(st?-1:1);it.push({mutationType:"entity",entity:{type:EntityType.PROMPT,id:ot.id},data:{...ot,index:ct}})}else at.push({id:ot.id,index:ot.index,status:ot.status})}return it.push({mutationType:"entity",entity:{type:EntityType.PROMPT,id:et.id},data:{...et,index:tt}}),it.push({mutationType:"collection",type:EntityType.PROMPT,params:{projectId:et.projectId},ids:at.sort((ot,st)=>ot.index-st.index).map(ot=>ot.id)}),it}}class DefaultPublicRecordingService{constructor(et){this.authorizationService=et}async generateTranscript(et){const tt=await this.authorizationService.getCredentialsForRequest(),{data:rt}=await api.post("/public/recordings/transcript",et,{params:tt.params,headers:tt.headers});return rt}async generateStory(et){const tt=await this.authorizationService.getCredentialsForRequest(),{data:rt}=await api.post("/public/recordings/story",et,{params:tt.params,headers:tt.headers,responseType:"stream"});return rt}}class DefaultReactionService{constructor(et){this.authorizationService=et}async getReaction(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/reactions/${et}`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getReactions(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/recordings/${et}/reactions`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getReactionSuggestion(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/reaction-suggestions/${et}`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async getReactionsSuggestions(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/recordings/${et}/reaction-suggestions`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async createReaction(et){const tt=await this.authorizationService.getCredentialsForRequest(),{data:rt}=await api.post(`/recordings/${et.recordingId}/reactions`,et,{params:tt.params,headers:tt.headers});return rt}}class DefaultReactionCacheService{constructor(et,tt,rt){this.remoteService=et,this.entityCacheManagerService=tt,this.queryClient=rt}getReaction(et){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildEntityQuery(EntityType.REACTION,et,()=>this.remoteService.getReaction(et)))}getReactions(et){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildCollectionQuery(EntityType.REACTION,{recordingId:et},()=>this.remoteService.getReactions(et)))}getReactionSuggestion(et){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildEntityQuery(EntityType.REACTION_SUGGESTION,et,()=>this.remoteService.getReactionSuggestion(et)))}getReactionsSuggestions(et){return this.queryClient.fetchQuery(this.entityCacheManagerService.buildCollectionQuery(EntityType.REACTION_SUGGESTION,{recordingId:et},()=>this.remoteService.getReactionsSuggestions(et)))}async createReaction(et){await this.remoteService.createReaction(et),await this.entityCacheManagerService.invalidateCollection(EntityType.REACTION,{recordingId:et.recordingId})}}var ReactionSentiment;(function(_e){_e.LOVE="LOVE",_e.FUNNY="FUNNY",_e.SURPRISING="SURPRISING",_e.TOUCHING="TOUCHING"})(ReactionSentiment||(ReactionSentiment={}));const ReactionSentimentEmoji={LOVE:"",FUNNY:"",SURPRISING:"",TOUCHING:""};var ReactionStatus;(function(_e){_e.SUBMITTED_AUTO="SUBMITTED_AUTO",_e.SUBMITTED="SUBMITTED",_e.PENDING="PENDING",_e.DELAYED="DELAYED"})(ReactionStatus||(ReactionStatus={}));var ReactionMutationType;(function(_e){_e.SET_DELAYED="set-delayed",_e.SET_SUBMITTED="set-submitted",_e.SET_SUBMITTED_AUTO="set-submitted-auto"})(ReactionMutationType||(ReactionMutationType={}));var ReactionSuggestionMutationType;(function(_e){_e.SET_STATUS="set-status"})(ReactionSuggestionMutationType||(ReactionSuggestionMutationType={}));const REACT_ROLES=[AclGroupRole.OWNER,AclGroupRole.ADMIN,AclGroupRole.COLLABORATOR];function useCanReact(_e){var at,ot,st;const et=useUser(),tt=usePersonQuery(et==null?void 0:et.personId),rt=useRecordingQuery(_e),nt=et!=null?(ot=tt.data)==null?void 0:ot.refIds.includes(((at=rt.data)==null?void 0:at.personId)??""):!1,it=useCurrentUserAclRoles(((st=rt.data)==null?void 0:st.acl)??null);if(!(nt===void 0||it===null))return hasRole(REACT_ROLES,it)&&!nt}function useReactionsQuery(_e){const{reactionService:et}=useServices();return useCollection$1(EntityType.REACTION,_e?{recordingId:_e}:null,(tt,rt)=>et.getReactions(tt.recordingId,rt))}function useReactionsSuggestionsQuery(_e){const{reactionService:et}=useServices();return useCollection$1(EntityType.REACTION_SUGGESTION,_e?{recordingId:_e}:null,(tt,rt)=>et.getReactionsSuggestions(tt.recordingId,rt))}function useReactionSuggestionBySentiment(_e){const{reactionService:et,entityCacheManagerService:tt}=useServices(),rt=useReactionsSuggestionsQuery(_e),nt=useQueries({combine:it=>it.map(at=>at.data).filter(notNull),queries:(rt.data??[]).map(it=>tt.buildEntityQuery(EntityType.REACTION_SUGGESTION,it,()=>et.getReactionSuggestion(it)))});return reactExports.useMemo(()=>{const it=Object.keys(ReactionSentiment),at={};return it.forEach(ot=>{var ct;const st=nt.filter(ut=>(ut==null?void 0:ut.message)&&ut.sentiment===ot),lt=Math.floor(Math.random()*st.length);at[ot]=((ct=st[lt])==null?void 0:ct.message)??""}),at},[nt])}function useSubmittedReactions(_e){const{entityCacheManagerService:et,reactionService:tt}=useServices(),rt=useQueries({queries:(_e??[]).map(nt=>et.buildEntityQuery(EntityType.REACTION,nt,(it,at)=>tt.getReaction(nt,at)))});return reactExports.useMemo(()=>{var nt,it;if(_e!==null&&areAllQueriesLoaded(rt)){const at=[];for(const ot of rt)((nt=ot.data)==null?void 0:nt.status)!==ReactionStatus.SUBMITTED&&((it=ot.data)==null?void 0:it.status)!==ReactionStatus.SUBMITTED_AUTO||at.push(ot.data.id);return at}return null},[rt,_e])}class DefaultReferralService{constructor(et){this.authorizationService=et}async getReferralLink(et){const tt=await this.authorizationService.getCredentialsForRequest(),{data:rt}=await api.get("/referral/link",{params:tt.params,headers:tt.headers,signal:et==null?void 0:et.signal});return rt}async sendReferralEmail(et){const tt=await this.authorizationService.getCredentialsForRequest(),{data:rt}=await api.post("/referral/send",{email:et},{params:tt.params,headers:tt.headers});return rt}}var UserNotificationSettingsStatus;(function(_e){_e.ACTIVE="active"})(UserNotificationSettingsStatus||(UserNotificationSettingsStatus={}));var UserNotificationSettingsMutationType;(function(_e){_e.SET_SETTINGS="set-settings"})(UserNotificationSettingsMutationType||(UserNotificationSettingsMutationType={}));function assign(_e,et){for(const tt in et)Object.defineProperty(_e,tt,{value:et[tt],enumerable:!0,configurable:!0});return _e}function createError(_e,et,tt){if(!_e||typeof _e=="string")throw new TypeError("Please pass an Error to err-code");tt||(tt={}),typeof et=="object"&&(tt=et,et=void 0),et!=null&&(tt.code=et);try{return assign(_e,tt)}catch{tt.message=_e.message,tt.stack=_e.stack;const nt=function(){};return nt.prototype=Object.create(Object.getPrototypeOf(_e)),assign(new nt,tt)}}var errCode=createError,retry$2={};function RetryOperation(_e,et){typeof et=="boolean"&&(et={forever:et}),this._originalTimeouts=JSON.parse(JSON.stringify(_e)),this._timeouts=_e,this._options=et||{},this._maxRetryTime=et&&et.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var retry_operation=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts};RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null};RetryOperation.prototype.retry=function(_e){if(this._timeout&&clearTimeout(this._timeout),!_e)return!1;var et=new Date().getTime();if(_e&&et-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(_e);var tt=this._timeouts.shift();if(tt===void 0)if(this._cachedTimeouts)this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),tt=this._timeouts.shift();else return!1;var rt=this,nt=setTimeout(function(){rt._attempts++,rt._operationTimeoutCb&&(rt._timeout=setTimeout(function(){rt._operationTimeoutCb(rt._attempts)},rt._operationTimeout),rt._options.unref&&rt._timeout.unref()),rt._fn(rt._attempts)},tt);return this._options.unref&&nt.unref(),!0};RetryOperation.prototype.attempt=function(_e,et){this._fn=_e,et&&(et.timeout&&(this._operationTimeout=et.timeout),et.cb&&(this._operationTimeoutCb=et.cb));var tt=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){tt._operationTimeoutCb()},tt._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};RetryOperation.prototype.try=function(_e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(_e)};RetryOperation.prototype.start=function(_e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(_e)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0)return null;for(var _e={},et=null,tt=0,rt=0;rt<this._errors.length;rt++){var nt=this._errors[rt],it=nt.message,at=(_e[it]||0)+1;_e[it]=at,at>=tt&&(et=nt,tt=at)}return et};(function(_e){var et=retry_operation;_e.operation=function(tt){var rt=_e.timeouts(tt);return new et(rt,{forever:tt&&tt.forever,unref:tt&&tt.unref,maxRetryTime:tt&&tt.maxRetryTime})},_e.timeouts=function(tt){if(tt instanceof Array)return[].concat(tt);var rt={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var nt in tt)rt[nt]=tt[nt];if(rt.minTimeout>rt.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var it=[],at=0;at<rt.retries;at++)it.push(this.createTimeout(at,rt));return tt&&tt.forever&&!it.length&&it.push(this.createTimeout(at,rt)),it.sort(function(ot,st){return ot-st}),it},_e.createTimeout=function(tt,rt){var nt=rt.randomize?Math.random()+1:1,it=Math.round(nt*rt.minTimeout*Math.pow(rt.factor,tt));return it=Math.min(it,rt.maxTimeout),it},_e.wrap=function(tt,rt,nt){if(rt instanceof Array&&(nt=rt,rt=null),!nt){nt=[];for(var it in tt)typeof tt[it]=="function"&&nt.push(it)}for(var at=0;at<nt.length;at++){var ot=nt[at],st=tt[ot];tt[ot]=(function(ct){var ut=_e.operation(rt),dt=Array.prototype.slice.call(arguments,1),ft=dt.pop();dt.push(function(pt){ut.retry(pt)||(pt&&(arguments[0]=ut.mainError()),ft.apply(this,arguments))}),ut.attempt(function(){ct.apply(tt,dt)})}).bind(tt,st),tt[ot].options=rt}}})(retry$2);var retry$1=retry$2,errcode=errCode,retry=retry$1,hasOwn=Object.prototype.hasOwnProperty;function isRetryError(_e){return _e&&_e.code==="EPROMISERETRY"&&hasOwn.call(_e,"retried")}function promiseRetry(_e,et){var tt,rt;return typeof _e=="object"&&typeof et=="function"&&(tt=et,et=_e,_e=tt),rt=retry.operation(et),new Promise(function(nt,it){rt.attempt(function(at){Promise.resolve().then(function(){return _e(function(ot){throw isRetryError(ot)&&(ot=ot.retried),errcode(new Error("Retrying"),"EPROMISERETRY",{retried:ot})},at)}).then(nt,function(ot){isRetryError(ot)&&(ot=ot.retried,rt.retry(ot||new Error))||it(ot)})})})}var promiseRetry_1=promiseRetry;const promiseRetry$1=getDefaultExportFromCjs(promiseRetry_1);class UserServiceImpl{constructor(et,tt,rt,nt){kr(this,"changeUserObservers",new Set);kr(this,"currentUser");kr(this,"authChangedLock",new AsyncLock);this.authService=et,this.authorizationService=tt,this.entityCacheManagerService=rt,this.personCacheService=nt}async initialize(){this.authService.onAuthChanged(async()=>{await this.refreshUser()}),await this.refreshUser()}async updateUserProfile(et){if(this.currentUser==null)throw new Error("There is no user logged in.");const tt=await this.personCacheService.getPerson(this.currentUser.personId);if(tt==null)throw new Error("No person entity for the signed in user was found.");const rt=[{id:tt.id,type:EntityType.PERSON,mutations:[{type:PersonMutationType.SET_NAME,value:et.name,vclock:tt.vclock,version:tt.version}]},...this.createSetUserOnboardingHistoryMutation(this.currentUser,UserOnboardingActionType.PHONE_COLLECTED)];et.termsAccepted&&rt.push(...this.createSetUserOnboardingHistoryMutation(this.currentUser,UserOnboardingActionType.TERMS_ACCEPTED)),et.phone!=null&&rt.push(...this.createSetUserPhoneMutation(this.currentUser,et.phone)),await this.entityCacheManagerService.mutate(rt),await this.refreshUser()}async getUser(){return this.lockUser(async()=>{if(this.currentUser===void 0)throw new Error("There is no user logged in.");return this.currentUser})}async refreshUser(){await this.lockUser(async()=>{var tt,rt;const et=await this.authService.getAuthToken();if(et==null){const nt=this.currentUser;this.currentUser=null,nt!=this.currentUser&&this.triggerUserChangedListeners();return}try{const{data:nt}=await api.get("/user",{headers:{Authorization:`Bearer ${et}`}});await this.entityCacheManagerService.cacheResponse(nt);const at=(tt=("entities"in nt?nt.entities:nt).user)==null?void 0:tt[0];if(at==null)throw new Error("No user returned in user endpoint");if(await this.personCacheService.getPerson(at.personId)==null)throw new Error("No person entity for the signed in user was found.");this.currentUser=at,this.triggerUserChangedListeners()}catch(nt){if(isAxiosError(nt)&&((rt=nt.response)==null?void 0:rt.status)===404){await this.authService.signOut();return}throw nt}})}async updateOnboardingHistory(et,tt=!0){const rt=await this.getUser();if(rt==null)throw new NotFoundError("user-not-found");const nt=this.createSetUserOnboardingHistoryMutation(rt,et,tt);await this.entityCacheManagerService.mutate(nt),await this.refreshUser()}triggerUserChangedListeners(){this.changeUserObservers.forEach(et=>{if(this.currentUser===void 0)throw new Error("User is undefined when triggering observers");et(this.currentUser)})}onUserChanged(et){return this.changeUserObservers.add(et),()=>this.changeUserObservers.delete(et)}async deleteUser(){await this.lockUser(async()=>{if(this.currentUser==null)throw new Error("There is no user logged in.");const et=await this.authService.getAuthToken();await api.delete("/user",{headers:{Authorization:`Bearer ${et}`}})})}async getUserByPersonId(et,tt){const rt=await this.authService.getAuthToken(),{data:nt}=await api.get(`/people/${et}/user`,{headers:{Authorization:`Bearer ${rt}`},signal:tt==null?void 0:tt.signal});return nt}async getUserStorytellers(){const et=await this.authService.getAuthToken(),{data:tt}=await api.get("/user/storytellers",{headers:{Authorization:`Bearer ${et}`}});return tt}async getUserPurchase(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/user/purchases/${et}`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}async updateSubscriptionPaymentMethod(){const et=await this.authService.getAuthToken(),{data:tt}=await api.post("/user/subscription/update-payment-method",null,{headers:{Authorization:`Bearer ${et}`}});return tt.link}async updateSubscriptionRenewalType(et){await promiseRetry$1(async tt=>{var rt;try{const nt=await this.getUser();if(nt==null)throw new NotFoundError("user-not-found");const it=await this.authService.getAuthToken(),{data:at}=await api.post("/user/subscription/update-renewal-type",{type:UserMutationType.SET_SUBSCRIPTION_RENEWAL_TYPE,value:et,vclock:nt.vclock,version:nt.version},{headers:{Authorization:`Bearer ${it}`}});await this.entityCacheManagerService.cacheResponse(at),await this.refreshUser()}catch(nt){if(nt instanceof ConflictError&&((rt=nt.data)==null?void 0:rt.type)===ConflictErrorType.VCLOCK_MISMATCH)return await this.refreshUser(),tt(nt);throw nt}},{retries:2})}createSetNotificationSettingsMutation(et,tt){return[{type:EntityType.USER_NOTIFICATION_SETTINGS,id:et.id,mutations:[{type:UserNotificationSettingsMutationType.SET_SETTINGS,value:tt,vclock:et.vclock,version:et.version}]}]}async getNotificationSettingsByUserId(et,tt){const rt=await this.authorizationService.getCredentialsForRequest(),{data:nt}=await api.get(`/user/${et}/notifications`,{params:rt.params,headers:rt.headers,signal:tt==null?void 0:tt.signal});return nt}lockUser(et){return this.authChangedLock.acquire("user",async()=>et())}createSetUserEmailMutation(et,tt){return[{type:EntityType.USER,id:et.id,mutations:[{type:UserMutationType.SET_EMAIL,value:tt,vclock:et.vclock,version:et.version}]}]}createSetUserPhoneMutation(et,tt){return[{type:EntityType.USER,id:et.id,mutations:[{type:UserMutationType.SET_PHONE,value:tt,vclock:et.vclock,version:et.version}]}]}createSetUserTimezoneMutation(et,tt){return[{type:EntityType.USER,id:et.id,mutations:[{type:UserMutationType.SET_TIMEZONE,value:tt,vclock:et.vclock,version:et.version}]}]}createSetUserOnboardingHistoryMutation(et,tt,rt=!0){return[{type:EntityType.USER,id:et.id,mutations:[{type:UserMutationType.SET_ONBOARDING_HISTORY,value:rt?{action:tt,done:rt,timestamp:Date.now()}:{action:tt,done:rt},vclock:et.vclock,version:et.version}]}]}}class CmsService{constructor(et,tt){this.client=et,this.config=tt}fetchAll(et=[],tt={},rt){const nt={...this.config,...rt};let it=`*[_type == "${nt.entity}"`;if(et.length&&(it+=` && ${et.join(" && ")}`),it+="]",nt.additionalFields){const at=Object.entries(nt.additionalFields).map(([ot,st])=>`"${ot}": ${st}`).join(",");it+=` {
        ...,
        ${at}
      }`}return nt.sort&&(it+=` | ${nt.sort.map(at=>`order(${at})`).join(" |")}`),this.client.fetch(it,tt)}}class ConversionQuestionnaireServiceImpl extends CmsService{constructor(et){super(et,{entity:"conversion-questionnaire-step",additionalFields:{id:"_id",answerDefault:`answerDefault {
          ...,
          "asset": asset.asset->{url, mimeType}
        }`,answerResults:`answerResults {
          ...,
          "reviews": reviews[] {
            ...,
            "authorAvatar": asset.asset->{url, mimeType}
          }
        }`}})}async getAll(){return(await super.fetchAll()).map(rt=>({name:rt.name,position:rt.position,questionTitle:rt.questionTitle,questionSubtitle:rt.questionSubtitle,questionOptionsType:rt.questionOptionsType,questionOptions:rt.questionOptions.sort((nt,it)=>nt.position-it.position),answer:rt.answerType==="default"?{type:rt.answerType,title:rt.answerDefault.title,subtitle:rt.answerDefault.subtitle,asset:{...rt.answerDefault.asset,assetPlaybackMode:rt.answerDefault.assetPlaybackMode}}:{type:rt.answerType,title:rt.answerResults.title,subtitle:rt.answerResults.subtitle,reviews:rt.answerResults.reviews,faqs:rt.answerResults.faqs}})).sort((rt,nt)=>rt.position-nt.position)}}class SanityMarketingOfferService extends CmsService{constructor(et){super(et,{entity:"marketing-offer",additionalFields:{id:"_id",desktopImageUrl:"desktopImage.asset->url",mobileImageUrl:"mobileImage.asset->url"}})}getMarketingOffers(){return super.fetchAll()}}class MarketingSourceServiceImpl extends CmsService{constructor(et){super(et,{entity:"marketing-source",additionalFields:{id:"_id"}})}getAll(){return super.fetchAll()}}class OnboardingServiceImpl extends CmsService{constructor(et){super(et,{entity:"onboarding-purchaser-biography-step",additionalFields:{id:"_id",desktopAssetUrl:"desktopAsset.asset->url",desktopAssetMimeType:"desktopAsset.asset->mimeType",mobileAssetUrl:"mobileAsset.asset->url",mobileAssetMimeType:"mobileAsset.asset->mimeType"},sort:["position asc"]})}getOnboardingSteps(et){let tt;switch(et){case"collaborator.autobiography":tt="onboarding-collaborator-autobiography-step";break;case"collaborator.biography":tt="onboarding-collaborator-biography-step";break;case"collaborator.babybook":tt="onboarding-collaborator-babybook-step";break;case"purchaser.babybook":tt="onboarding-purchaser-babybook-step";break;case"purchaser.autobiography":tt="onboarding-purchaser-autobiography-step";break;case"purchaser.biography":tt="onboarding-purchaser-biography-step";break}return this.fetchAll([],{},{entity:tt})}}class PromptTemplateServiceImpl extends CmsService{constructor(et){super(et,{entity:"prompt-template",additionalFields:{id:"_id",tags:`tags[]-> {
          ...,
          "id": _id,
          "imageUrl": image.asset->url
        }`,questions:`questions[] {
          ...,
          "id": _key
        }`}})}getTemplates(){return super.fetchAll()}getTemplatesByTag(et){return super.fetchAll(["$tag in tags[]->value"],{tag:et})}getPurchaserOnboardingTemplatesByTags(et){return super.fetchAll(["purchaserOnboarding == true",`count((tags[]->value)[@ in [${et.map(tt=>`"${tt}"`).join(",")}]]) > 0`],{})}getPurchaserOnboardingTemplates(){return super.fetchAll(["purchaserOnboarding == true"])}}class PromptTemplateTagsServiceImpl extends CmsService{constructor(et){super(et,{entity:"prompt-template-tag",additionalFields:{id:"_id",imageUrl:"image.asset->url"},sort:["position asc"]})}getTags(){return this.fetchAll()}async getTag(et){const tt=await this.fetchAll([`_id == "${et}"`]);return tt.length?tt[0]:null}}class SanityResourceArticleService extends CmsService{constructor(et){super(et,{entity:"resource-article",additionalFields:{id:"_id",desktopImageUrl:"desktopImage.asset->url",mobileImageUrl:"mobileImage.asset->url"}})}async getResourceArticles(et,tt){const rt=await super.fetchAll();return tt==null?rt:rt.filter(nt=>!(nt.roles!=null&&nt.roles.length>0&&(et==null||!nt.roles.includes(et))||nt.activitiesCompleted!=null&&nt.activitiesCompleted.length>0&&!nt.activitiesCompleted.every(it=>{var at;return(at=tt[it])==null?void 0:at.done})||nt.activitiesNotCompleted!=null&&nt.activitiesNotCompleted.length>0&&!nt.activitiesNotCompleted.every(it=>{var at;return((at=tt[it])==null?void 0:at.done)!==!0})))}}var lib={exports:{}};function createPubSub(){var _e=Object.create(null),et=0;function tt(nt){var it=et++;return _e[it]=nt,function(){delete _e[it]}}function rt(nt){for(var it in _e)_e[it](nt)}return{publish:rt,subscribe:tt}}const esm=Object.freeze(Object.defineProperty({__proto__:null,default:createPubSub},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(esm);var middlewareReducer={exports:{}};(function(_e,et){Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var tt=function(nt){var it=function(ot,st){for(var lt=ot==="onError",ct=st,ut=arguments.length,dt=new Array(ut>2?ut-2:0),ft=2;ft<ut;ft++)dt[ft-2]=arguments[ft];for(var pt=0;pt<nt[ot].length;pt++){var ht=nt[ot][pt];if(ct=ht.apply(void 0,[ct].concat(dt)),lt&&!ct)break}return ct};return it};et.default=tt,_e.exports=et.default})(middlewareReducer,middlewareReducer.exports);var middlewareReducerExports=middlewareReducer.exports,defaultOptionsProcessor={exports:{}},requiresPort=function _e(et,tt){if(tt=tt.split(":")[0],et=+et,!et)return!1;switch(tt){case"http":case"ws":return et!==80;case"https":case"wss":return et!==443;case"ftp":return et!==21;case"gopher":return et!==70;case"file":return!1}return et!==0},querystringify$1={},has=Object.prototype.hasOwnProperty,undef;function decode(_e){try{return decodeURIComponent(_e.replace(/\+/g," "))}catch{return null}}function encode(_e){try{return encodeURIComponent(_e)}catch{return null}}function querystring(_e){for(var et=/([^=?#&]+)=?([^&]*)/g,tt={},rt;rt=et.exec(_e);){var nt=decode(rt[1]),it=decode(rt[2]);nt===null||it===null||nt in tt||(tt[nt]=it)}return tt}function querystringify(_e,et){et=et||"";var tt=[],rt,nt;typeof et!="string"&&(et="?");for(nt in _e)if(has.call(_e,nt)){if(rt=_e[nt],!rt&&(rt===null||rt===undef||isNaN(rt))&&(rt=""),nt=encode(nt),rt=encode(rt),nt===null||rt===null)continue;tt.push(nt+"="+rt)}return tt.length?et+tt.join("&"):""}querystringify$1.stringify=querystringify;querystringify$1.parse=querystring;var required=requiresPort,qs=querystringify$1,controlOrWhitespace=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,CRHTLF=/[\n\r\t]/g,slashes=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,port=/:\d+$/,protocolre=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,windowsDriveLetter=/^[a-zA-Z]:/;function trimLeft(_e){return(_e||"").toString().replace(controlOrWhitespace,"")}var rules=[["#","hash"],["?","query"],function _e(et,tt){return isSpecial(tt.protocol)?et.replace(/\\/g,"/"):et},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ignore={hash:1,query:1};function lolcation(_e){var et;typeof window<"u"?et=window:typeof commonjsGlobal<"u"?et=commonjsGlobal:typeof self<"u"?et=self:et={};var tt=et.location||{};_e=_e||tt;var rt={},nt=typeof _e,it;if(_e.protocol==="blob:")rt=new Url(unescape(_e.pathname),{});else if(nt==="string"){rt=new Url(_e,{});for(it in ignore)delete rt[it]}else if(nt==="object"){for(it in _e)it in ignore||(rt[it]=_e[it]);rt.slashes===void 0&&(rt.slashes=slashes.test(_e.href))}return rt}function isSpecial(_e){return _e==="file:"||_e==="ftp:"||_e==="http:"||_e==="https:"||_e==="ws:"||_e==="wss:"}function extractProtocol(_e,et){_e=trimLeft(_e),_e=_e.replace(CRHTLF,""),et=et||{};var tt=protocolre.exec(_e),rt=tt[1]?tt[1].toLowerCase():"",nt=!!tt[2],it=!!tt[3],at=0,ot;return nt?it?(ot=tt[2]+tt[3]+tt[4],at=tt[2].length+tt[3].length):(ot=tt[2]+tt[4],at=tt[2].length):it?(ot=tt[3]+tt[4],at=tt[3].length):ot=tt[4],rt==="file:"?at>=2&&(ot=ot.slice(2)):isSpecial(rt)?ot=tt[4]:rt?nt&&(ot=ot.slice(2)):at>=2&&isSpecial(et.protocol)&&(ot=tt[4]),{protocol:rt,slashes:nt||isSpecial(rt),slashesCount:at,rest:ot}}function resolve(_e,et){if(_e==="")return et;for(var tt=(et||"/").split("/").slice(0,-1).concat(_e.split("/")),rt=tt.length,nt=tt[rt-1],it=!1,at=0;rt--;)tt[rt]==="."?tt.splice(rt,1):tt[rt]===".."?(tt.splice(rt,1),at++):at&&(rt===0&&(it=!0),tt.splice(rt,1),at--);return it&&tt.unshift(""),(nt==="."||nt==="..")&&tt.push(""),tt.join("/")}function Url(_e,et,tt){if(_e=trimLeft(_e),_e=_e.replace(CRHTLF,""),!(this instanceof Url))return new Url(_e,et,tt);var rt,nt,it,at,ot,st,lt=rules.slice(),ct=typeof et,ut=this,dt=0;for(ct!=="object"&&ct!=="string"&&(tt=et,et=null),tt&&typeof tt!="function"&&(tt=qs.parse),et=lolcation(et),nt=extractProtocol(_e||"",et),rt=!nt.protocol&&!nt.slashes,ut.slashes=nt.slashes||rt&&et.slashes,ut.protocol=nt.protocol||et.protocol||"",_e=nt.rest,(nt.protocol==="file:"&&(nt.slashesCount!==2||windowsDriveLetter.test(_e))||!nt.slashes&&(nt.protocol||nt.slashesCount<2||!isSpecial(ut.protocol)))&&(lt[3]=[/(.*)/,"pathname"]);dt<lt.length;dt++){if(at=lt[dt],typeof at=="function"){_e=at(_e,ut);continue}it=at[0],st=at[1],it!==it?ut[st]=_e:typeof it=="string"?(ot=it==="@"?_e.lastIndexOf(it):_e.indexOf(it),~ot&&(typeof at[2]=="number"?(ut[st]=_e.slice(0,ot),_e=_e.slice(ot+at[2])):(ut[st]=_e.slice(ot),_e=_e.slice(0,ot)))):(ot=it.exec(_e))&&(ut[st]=ot[1],_e=_e.slice(0,ot.index)),ut[st]=ut[st]||rt&&at[3]&&et[st]||"",at[4]&&(ut[st]=ut[st].toLowerCase())}tt&&(ut.query=tt(ut.query)),rt&&et.slashes&&ut.pathname.charAt(0)!=="/"&&(ut.pathname!==""||et.pathname!=="")&&(ut.pathname=resolve(ut.pathname,et.pathname)),ut.pathname.charAt(0)!=="/"&&isSpecial(ut.protocol)&&(ut.pathname="/"+ut.pathname),required(ut.port,ut.protocol)||(ut.host=ut.hostname,ut.port=""),ut.username=ut.password="",ut.auth&&(ot=ut.auth.indexOf(":"),~ot?(ut.username=ut.auth.slice(0,ot),ut.username=encodeURIComponent(decodeURIComponent(ut.username)),ut.password=ut.auth.slice(ot+1),ut.password=encodeURIComponent(decodeURIComponent(ut.password))):ut.username=encodeURIComponent(decodeURIComponent(ut.auth)),ut.auth=ut.password?ut.username+":"+ut.password:ut.username),ut.origin=ut.protocol!=="file:"&&isSpecial(ut.protocol)&&ut.host?ut.protocol+"//"+ut.host:"null",ut.href=ut.toString()}function set(_e,et,tt){var rt=this;switch(_e){case"query":typeof et=="string"&&et.length&&(et=(tt||qs.parse)(et)),rt[_e]=et;break;case"port":rt[_e]=et,required(et,rt.protocol)?et&&(rt.host=rt.hostname+":"+et):(rt.host=rt.hostname,rt[_e]="");break;case"hostname":rt[_e]=et,rt.port&&(et+=":"+rt.port),rt.host=et;break;case"host":rt[_e]=et,port.test(et)?(et=et.split(":"),rt.port=et.pop(),rt.hostname=et.join(":")):(rt.hostname=et,rt.port="");break;case"protocol":rt.protocol=et.toLowerCase(),rt.slashes=!tt;break;case"pathname":case"hash":if(et){var nt=_e==="pathname"?"/":"#";rt[_e]=et.charAt(0)!==nt?nt+et:et}else rt[_e]=et;break;case"username":case"password":rt[_e]=encodeURIComponent(et);break;case"auth":var it=et.indexOf(":");~it?(rt.username=et.slice(0,it),rt.username=encodeURIComponent(decodeURIComponent(rt.username)),rt.password=et.slice(it+1),rt.password=encodeURIComponent(decodeURIComponent(rt.password))):rt.username=encodeURIComponent(decodeURIComponent(et))}for(var at=0;at<rules.length;at++){var ot=rules[at];ot[4]&&(rt[ot[1]]=rt[ot[1]].toLowerCase())}return rt.auth=rt.password?rt.username+":"+rt.password:rt.username,rt.origin=rt.protocol!=="file:"&&isSpecial(rt.protocol)&&rt.host?rt.protocol+"//"+rt.host:"null",rt.href=rt.toString(),rt}function toString(_e){(!_e||typeof _e!="function")&&(_e=qs.stringify);var et,tt=this,rt=tt.host,nt=tt.protocol;nt&&nt.charAt(nt.length-1)!==":"&&(nt+=":");var it=nt+(tt.protocol&&tt.slashes||isSpecial(tt.protocol)?"//":"");return tt.username?(it+=tt.username,tt.password&&(it+=":"+tt.password),it+="@"):tt.password?(it+=":"+tt.password,it+="@"):tt.protocol!=="file:"&&isSpecial(tt.protocol)&&!rt&&tt.pathname!=="/"&&(it+="@"),(rt[rt.length-1]===":"||port.test(tt.hostname)&&!tt.port)&&(rt+=":"),it+=rt+tt.pathname,et=typeof tt.query=="object"?_e(tt.query):tt.query,et&&(it+=et.charAt(0)!=="?"?"?"+et:et),tt.hash&&(it+=tt.hash),it}Url.prototype={set,toString};Url.extractProtocol=extractProtocol;Url.location=lolcation;Url.trimLeft=trimLeft;Url.qs=qs;var urlParse=Url;(function(_e,et){Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var tt=rt(urlParse);function rt(dt){return dt&&dt.__esModule?dt:{default:dt}}function nt(){return nt=Object.assign?Object.assign.bind():function(dt){for(var ft=1;ft<arguments.length;ft++){var pt=arguments[ft];for(var ht in pt)Object.prototype.hasOwnProperty.call(pt,ht)&&(dt[ht]=pt[ht])}return dt},nt.apply(this,arguments)}var it=typeof navigator>"u"?!1:navigator.product==="ReactNative",at=Object.prototype.hasOwnProperty,ot={timeout:it?6e4:12e4},st=function(ft){var pt=typeof ft=="string"?nt({url:ft},ot):nt({},ot,ft),ht=(0,tt.default)(pt.url,{},!0);return pt.timeout=ct(pt.timeout),pt.query&&(ht.query=nt({},ht.query,ut(pt.query))),pt.method=pt.body&&!pt.method?"POST":(pt.method||"GET").toUpperCase(),pt.url=ht.toString(lt),pt};et.default=st;function lt(dt){var ft=[];for(var pt in dt)at.call(dt,pt)&&ht(pt,dt[pt]);return ft.length?ft.join("&"):"";function ht(yt,mt){Array.isArray(mt)?mt.forEach(function(gt){return ht(yt,gt)}):ft.push([yt,mt].map(encodeURIComponent).join("="))}}function ct(dt){if(dt===!1||dt===0)return!1;if(dt.connect||dt.socket)return dt;var ft=Number(dt);return isNaN(ft)?ct(ot.timeout):{connect:ft,socket:ft}}function ut(dt){var ft={};for(var pt in dt)dt[pt]!==void 0&&(ft[pt]=dt[pt]);return ft}_e.exports=et.default})(defaultOptionsProcessor,defaultOptionsProcessor.exports);var defaultOptionsProcessorExports=defaultOptionsProcessor.exports,defaultOptionsValidator={exports:{}};(function(_e,et){Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var tt=/^https?:\/\//i,rt=function(it){if(!tt.test(it.url))throw new Error('"'.concat(it.url,'" is not a valid URL'))};et.default=rt,_e.exports=et.default})(defaultOptionsValidator,defaultOptionsValidator.exports);var defaultOptionsValidatorExports=defaultOptionsValidator.exports,request$1={exports:{}},browserRequest={exports:{}},regex=/^(?:(?:(?:([^:\/#\?]+:)?(?:(?:\/\/)((?:((?:[^:@\/#\?]+)(?:\:(?:[^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((?:\/?(?:[^\/\?#]+\/+)*)(?:[^\?#]*)))?(\?[^#]+)?)(#.*)?/,urlParser={regex,parse:function(_e){var et=regex.exec(_e);return et?{protocol:(et[1]||"").toLowerCase()||void 0,hostname:(et[5]||"").toLowerCase()||void 0,port:et[6]||void 0}:{}}},url=urlParser,sameOrigin=function(_e,et,tt){if(_e===et)return!0;var rt=url.parse(_e,!1,!0),nt=url.parse(et,!1,!0),it=rt.port|0||(rt.protocol==="https"?443:80),at=nt.port|0||(nt.protocol==="https"?443:80),ot={proto:rt.protocol===nt.protocol,hostname:rt.hostname===nt.hostname,port:it===at};return ot.proto&&ot.hostname&&(ot.port||tt)},trim=function(_e){return _e.replace(/^\s+|\s+$/g,"")},isArray=function(_e){return Object.prototype.toString.call(_e)==="[object Array]"},parseHeaders=function(_e){if(!_e)return{};for(var et={},tt=trim(_e).split(`
`),rt=0;rt<tt.length;rt++){var nt=tt[rt],it=nt.indexOf(":"),at=trim(nt.slice(0,it)).toLowerCase(),ot=trim(nt.slice(it+1));typeof et[at]>"u"?et[at]=ot:isArray(et[at])?et[at].push(ot):et[at]=[et[at],ot]}return et},fetchXhr={exports:{}};(function(_e,et){Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;function tt(){this.readyState=0}tt.prototype.open=function(nt,it){this._method=nt,this._url=it,this._resHeaders="",this.readyState=1,this.onreadystatechange()},tt.prototype.abort=function(){this._controller&&this._controller.abort()},tt.prototype.getAllResponseHeaders=function(){return this._resHeaders},tt.prototype.setRequestHeader=function(nt,it){this._headers=this._headers||{},this._headers[nt]=it},tt.prototype.send=function(nt){var it=this,at=this._controller=typeof AbortController=="function"&&new AbortController,ot=this.responseType!=="arraybuffer",st={method:this._method,headers:this._headers,signal:at&&at.signal||void 0,body:nt};typeof document<"u"&&(st.credentials=this.withCredentials?"include":"omit"),fetch(this._url,st).then(function(lt){return lt.headers.forEach(function(ct,ut){it._resHeaders+="".concat(ut,": ").concat(ct,`\r
`)}),it.status=lt.status,it.statusText=lt.statusText,it.readyState=3,ot?lt.text():lt.arrayBuffer()}).then(function(lt){ot?it.responseText=lt:it.response=lt,it.readyState=4,it.onreadystatechange()}).catch(function(lt){if(lt.name==="AbortError"){it.onabort();return}it.onerror(lt)})};var rt=tt;et.default=rt,_e.exports=et.default})(fetchXhr,fetchXhr.exports);var fetchXhrExports=fetchXhr.exports;(function(_e,et){Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var tt=it(sameOrigin),rt=it(parseHeaders),nt=it(fetchXhrExports);function it(pt){return pt&&pt.__esModule?pt:{default:pt}}var at=function(){},ot=typeof document>"u"||typeof window>"u"?void 0:window,st=ot?"xhr":"fetch",lt=typeof XMLHttpRequest=="function"?XMLHttpRequest:at,ct="withCredentials"in new lt,ut=typeof XDomainRequest>"u"?void 0:XDomainRequest,dt=ct?lt:ut;ot||(lt=nt.default,dt=nt.default);var ft=function(ht,yt){var mt=ht.options,gt=ht.applyMiddleware("finalizeOptions",mt),vt={},St=ot&&ot.location&&!(0,tt.default)(ot.location.href,gt.url),xt=ht.applyMiddleware("interceptRequest",void 0,{adapter:st,context:ht});if(xt){var Ct=setTimeout(yt,0,null,xt),wt=function(){return clearTimeout(Ct)};return{abort:wt}}var _t=St?new dt:new lt,Ot=ot&&ot.XDomainRequest&&_t instanceof ot.XDomainRequest,kt=gt.headers,Lt=gt.timeout,$t=!1,zt=!1,Vt=!1;_t.onerror=jt,_t.ontimeout=jt,_t.onabort=function(){Ft(!0),$t=!0},_t.onprogress=function(){};var Ut=Ot?"onload":"onreadystatechange";if(_t[Ut]=function(){Rt(),!($t||_t.readyState!==4&&!Ot)&&_t.status!==0&&cr()},_t.open(gt.method,gt.url,!0),_t.withCredentials=!!gt.withCredentials,kt&&_t.setRequestHeader)for(var It in kt)kt.hasOwnProperty(It)&&_t.setRequestHeader(It,kt[It]);else if(kt&&Ot)throw new Error("Headers cannot be set on an XDomainRequest object");return gt.rawBody&&(_t.responseType="arraybuffer"),ht.applyMiddleware("onRequest",{options:gt,adapter:st,request:_t,context:ht}),_t.send(gt.body||null),Lt&&(vt.connect=setTimeout(function(){return Tt("ETIMEDOUT")},Lt.connect)),{abort:Dt};function Dt(){$t=!0,_t&&_t.abort()}function Tt(ur){Vt=!0,_t.abort();var pr=new Error(ur==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(gt.url):"Connection timed out on request to ".concat(gt.url));pr.code=ur,ht.channels.error.publish(pr)}function Rt(){Lt&&(Ft(),vt.socket=setTimeout(function(){return Tt("ESOCKETTIMEDOUT")},Lt.socket))}function Ft(ur){(ur||$t||_t.readyState>=2&&vt.connect)&&clearTimeout(vt.connect),vt.socket&&clearTimeout(vt.socket)}function jt(ur){if(!zt){Ft(!0),zt=!0,_t=null;var pr=ur||new Error("Network error while attempting to reach ".concat(gt.url));pr.isNetworkError=!0,pr.request=gt,yt(pr)}}function nr(){var ur=_t.status,pr=_t.statusText;if(Ot&&ur===void 0)ur=200;else{if(ur>12e3&&ur<12156)return jt();ur=_t.status===1223?204:_t.status,pr=_t.status===1223?"No Content":pr}return{body:_t.response||_t.responseText,url:gt.url,method:gt.method,headers:Ot?{}:(0,rt.default)(_t.getAllResponseHeaders()),statusCode:ur,statusMessage:pr}}function cr(){if(!($t||zt||Vt)){if(_t.status===0){jt(new Error("Unknown XHR error"));return}Ft(),zt=!0,yt(null,nr())}}};et.default=ft,_e.exports=et.default})(browserRequest,browserRequest.exports);var browserRequestExports=browserRequest.exports;(function(_e,et){Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var tt=rt(browserRequestExports);function rt(it){return it&&it.__esModule?it:{default:it}}var nt=tt.default;et.default=nt,_e.exports=et.default})(request$1,request$1.exports);var requestExports=request$1.exports;(function(_e,et){Object.defineProperty(et,"__esModule",{value:!0}),et.default=ut;var tt=ot(require$$0),rt=ot(middlewareReducerExports),nt=ot(defaultOptionsProcessorExports),it=ot(defaultOptionsValidatorExports),at=ot(requestExports);function ot(dt){return dt&&dt.__esModule?dt:{default:dt}}var st="default"in tt.default?tt.default.default:tt.default,lt=["request","response","progress","error","abort"],ct=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function ut(){var dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:at.default,pt=[],ht=ct.reduce(function(mt,gt){return mt[gt]=mt[gt]||[],mt},{processOptions:[nt.default],validateOptions:[it.default]});function yt(mt){var gt=lt.reduce(function(kt,Lt){return kt[Lt]=st(),kt},{}),vt=(0,rt.default)(ht),St=vt("processOptions",mt);vt("validateOptions",St);var xt={options:St,channels:gt,applyMiddleware:vt},Ct=null,wt=gt.request.subscribe(function(kt){Ct=ft(kt,function(Lt,$t){return Ot(Lt,$t,kt)})});gt.abort.subscribe(function(){wt(),Ct&&Ct.abort()});var _t=vt("onReturn",gt,xt);return _t===gt&&gt.request.publish(xt),_t;function Ot(kt,Lt,$t){var zt=kt,Vt=Lt;if(!zt)try{Vt=vt("onResponse",Lt,$t)}catch(Ut){Vt=null,zt=Ut}zt=zt&&vt("onError",zt,$t),zt?gt.error.publish(zt):Vt&&gt.response.publish(Vt)}}return yt.use=function(gt){if(!gt)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof gt=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(gt.onReturn&&ht.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return ct.forEach(function(vt){gt[vt]&&ht[vt].push(gt[vt])}),pt.push(gt),yt},yt.clone=function(){return ut(pt)},dt.forEach(yt.use),yt}_e.exports=et.default})(lib,lib.exports);var libExports=lib.exports;const getIt=getDefaultExportFromCjs(libExports);function isObject(_e){return Object.prototype.toString.call(_e)==="[object Object]"}function isPlainObject(_e){var et,tt;return isObject(_e)===!1?!1:(et=_e.constructor,et===void 0?!0:(tt=et.prototype,!(isObject(tt)===!1||tt.hasOwnProperty("isPrototypeOf")===!1)))}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var __create$1=Object.create,__defProp$1=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__getOwnPropNames$1=Object.getOwnPropertyNames,__getProtoOf$1=Object.getPrototypeOf,__hasOwnProp$1=Object.prototype.hasOwnProperty,__esm=(_e,et)=>function(){return _e&&(et=(0,_e[__getOwnPropNames$1(_e)[0]])(_e=0)),et},__commonJS$1=(_e,et)=>function(){return et||(0,_e[__getOwnPropNames$1(_e)[0]])((et={exports:{}}).exports,et),et.exports},__export=(_e,et)=>{for(var tt in et)__defProp$1(_e,tt,{get:et[tt],enumerable:!0})},__copyProps$1=(_e,et,tt,rt)=>{if(et&&typeof et=="object"||typeof et=="function")for(let nt of __getOwnPropNames$1(et))!__hasOwnProp$1.call(_e,nt)&&nt!==tt&&__defProp$1(_e,nt,{get:()=>et[nt],enumerable:!(rt=__getOwnPropDesc$1(et,nt))||rt.enumerable});return _e},__toESM$1=(_e,et,tt)=>(tt=_e!=null?__create$1(__getProtoOf$1(_e)):{},__copyProps$1(!_e||!_e.__esModule?__defProp$1(tt,"default",{value:_e,enumerable:!0}):tt,_e)),__toCommonJS=_e=>__copyProps$1(__defProp$1({},"__esModule",{value:!0}),_e),require_form_urlencoded=__commonJS$1({"node_modules/form-urlencoded/dist/form-urlencoded.js"(_e,et){var tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(rt){return typeof rt}:function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt};et.exports=function(rt){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},it=!!nt.sorted,at=!!nt.skipIndex,ot=!!nt.ignorenull,st=function(ht){return String(ht).replace(/(?:[\0-\x1F"-&\+-\}\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,encodeURIComponent).replace(/ /g,"+").replace(/[!'()~\*]/g,function(yt){return"%"+yt.charCodeAt().toString(16).slice(-2).toUpperCase()})},lt=function(ht){var yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object.keys(ht);return it?yt.sort():yt},ct=function(ht){return ht.filter(function(yt){return yt}).join("&")},ut=function(ht,yt){return ct(lt(yt).map(function(mt){return ft(ht+"["+mt+"]",yt[mt])}))},dt=function(ht,yt){return yt.length?ct(yt.map(function(mt,gt){return ft(at?ht+"[]":ht+"["+gt+"]",mt)})):st(ht+"[]")},ft=function(ht,yt){var mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:typeof yt>"u"?"undefined":tt(yt),gt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return yt===gt?gt=ot?gt:st(ht)+"="+gt:/string|number|boolean/.test(mt)?gt=st(ht)+"="+st(yt):Array.isArray(yt)?gt=dt(ht,yt):mt==="object"&&(gt=ut(ht,yt)),gt};return rt&&ct(lt(rt).map(function(pt){return ft(pt,rt[pt])}))}}}),import_form_urlencoded=__toESM$1(require_form_urlencoded());import_form_urlencoded.default.default||import_form_urlencoded.default;var browser_progress_default=()=>({onRequest:_e=>{if(_e.adapter!=="xhr")return;const et=_e.request,tt=_e.context;"upload"in et&&"onprogress"in et.upload&&(et.upload.onprogress=rt("upload")),"onprogress"in et&&(et.onprogress=rt("download"));function rt(nt){return it=>{const at=it.lengthComputable?it.loaded/it.total*100:-1;tt.channels.progress.publish({stage:nt,percent:at,total:it.total,loaded:it.loaded,lengthComputable:it.lengthComputable})}}}}),serializeTypes=["boolean","string","number"],isBuffer=_e=>!!_e.constructor&&typeof _e.constructor.isBuffer=="function"&&_e.constructor.isBuffer(_e),jsonRequest_default=()=>({processOptions:_e=>{const et=_e.body;return!et||!(!(typeof et.pipe=="function")&&!isBuffer(et)&&(serializeTypes.indexOf(typeof et)!==-1||Array.isArray(et)||isPlainObject(et)))?_e:Object.assign({},_e,{body:JSON.stringify(_e.body),headers:Object.assign({},_e.headers,{"Content-Type":"application/json"})})}}),jsonResponse_default=_e=>({onResponse:et=>{const tt=et.headers["content-type"]||"",rt=tt.indexOf("application/json")!==-1;return!et.body||!tt||!rt?et:Object.assign({},et,{body:tryParse(et.body)})},processOptions:et=>Object.assign({},et,{headers:Object.assign({Accept:"application/json"},et.headers)})});function tryParse(_e){try{return JSON.parse(_e)}catch(et){throw et.message=`Failed to parsed response body as JSON: ${et.message}`,et}}var actualGlobal;typeof globalThis<"u"?actualGlobal=globalThis:typeof window<"u"?actualGlobal=window:typeof global<"u"?actualGlobal=global:typeof self<"u"?actualGlobal=self:actualGlobal={};var global_default=actualGlobal,observable_default=(_e={})=>{const et=_e.implementation||global_default.Observable;if(!et)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(tt,rt)=>new et(nt=>(tt.error.subscribe(it=>nt.error(it)),tt.progress.subscribe(it=>nt.next(Object.assign({type:"progress"},it))),tt.response.subscribe(it=>{nt.next(Object.assign({type:"response"},it)),nt.complete()}),tt.request.publish(rt),()=>tt.abort.publish()))}},Cancel_exports={};__export(Cancel_exports,{default:()=>Cancel_default});function Cancel(_e){this.message=_e}var Cancel_default,init_Cancel=__esm({"src/middleware/cancel/Cancel.js"(){Cancel.prototype.toString=function(){return`Cancel${this.message?`: ${this.message}`:""}`},Cancel.prototype.__CANCEL__=!0,Cancel_default=Cancel}});init_Cancel();var Cancel2=(init_Cancel(),__toCommonJS(Cancel_exports));function CancelToken(_e){if(typeof _e!="function")throw new TypeError("executor must be a function.");let et=null;this.promise=new Promise(tt=>{et=tt}),_e(tt=>{this.reason||(this.reason=new Cancel2(tt),et(this.reason))})}CancelToken.source=function(){let _e;return{token:new CancelToken(tt=>{_e=tt}),cancel:_e}};var require_ms=__commonJS$1({"node_modules/ms/index.js"(_e,et){var tt=1e3,rt=tt*60,nt=rt*60,it=nt*24,at=it*7,ot=it*365.25;et.exports=function(dt,ft){ft=ft||{};var pt=typeof dt;if(pt==="string"&&dt.length>0)return st(dt);if(pt==="number"&&isFinite(dt))return ft.long?ct(dt):lt(dt);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(dt))};function st(dt){if(dt=String(dt),!(dt.length>100)){var ft=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(dt);if(ft){var pt=parseFloat(ft[1]),ht=(ft[2]||"ms").toLowerCase();switch(ht){case"years":case"year":case"yrs":case"yr":case"y":return pt*ot;case"weeks":case"week":case"w":return pt*at;case"days":case"day":case"d":return pt*it;case"hours":case"hour":case"hrs":case"hr":case"h":return pt*nt;case"minutes":case"minute":case"mins":case"min":case"m":return pt*rt;case"seconds":case"second":case"secs":case"sec":case"s":return pt*tt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return pt;default:return}}}}function lt(dt){var ft=Math.abs(dt);return ft>=it?Math.round(dt/it)+"d":ft>=nt?Math.round(dt/nt)+"h":ft>=rt?Math.round(dt/rt)+"m":ft>=tt?Math.round(dt/tt)+"s":dt+"ms"}function ct(dt){var ft=Math.abs(dt);return ft>=it?ut(dt,ft,it,"day"):ft>=nt?ut(dt,ft,nt,"hour"):ft>=rt?ut(dt,ft,rt,"minute"):ft>=tt?ut(dt,ft,tt,"second"):dt+" ms"}function ut(dt,ft,pt,ht){var yt=ft>=pt*1.5;return Math.round(dt/pt)+" "+ht+(yt?"s":"")}}}),require_common=__commonJS$1({"node_modules/debug/src/common.js"(_e,et){function tt(rt){it.debug=it,it.default=it,it.coerce=ut,it.disable=st,it.enable=ot,it.enabled=lt,it.humanize=require_ms(),it.destroy=dt,Object.keys(rt).forEach(ft=>{it[ft]=rt[ft]}),it.names=[],it.skips=[],it.formatters={};function nt(ft){let pt=0;for(let ht=0;ht<ft.length;ht++)pt=(pt<<5)-pt+ft.charCodeAt(ht),pt|=0;return it.colors[Math.abs(pt)%it.colors.length]}it.selectColor=nt;function it(ft){let pt,ht=null,yt,mt;function gt(...vt){if(!gt.enabled)return;const St=gt,xt=Number(new Date),Ct=xt-(pt||xt);St.diff=Ct,St.prev=pt,St.curr=xt,pt=xt,vt[0]=it.coerce(vt[0]),typeof vt[0]!="string"&&vt.unshift("%O");let wt=0;vt[0]=vt[0].replace(/%([a-zA-Z%])/g,(Ot,kt)=>{if(Ot==="%%")return"%";wt++;const Lt=it.formatters[kt];if(typeof Lt=="function"){const $t=vt[wt];Ot=Lt.call(St,$t),vt.splice(wt,1),wt--}return Ot}),it.formatArgs.call(St,vt),(St.log||it.log).apply(St,vt)}return gt.namespace=ft,gt.useColors=it.useColors(),gt.color=it.selectColor(ft),gt.extend=at,gt.destroy=it.destroy,Object.defineProperty(gt,"enabled",{enumerable:!0,configurable:!1,get:()=>ht!==null?ht:(yt!==it.namespaces&&(yt=it.namespaces,mt=it.enabled(ft)),mt),set:vt=>{ht=vt}}),typeof it.init=="function"&&it.init(gt),gt}function at(ft,pt){const ht=it(this.namespace+(typeof pt>"u"?":":pt)+ft);return ht.log=this.log,ht}function ot(ft){it.save(ft),it.namespaces=ft,it.names=[],it.skips=[];let pt;const ht=(typeof ft=="string"?ft:"").split(/[\s,]+/),yt=ht.length;for(pt=0;pt<yt;pt++)ht[pt]&&(ft=ht[pt].replace(/\*/g,".*?"),ft[0]==="-"?it.skips.push(new RegExp("^"+ft.slice(1)+"$")):it.names.push(new RegExp("^"+ft+"$")))}function st(){const ft=[...it.names.map(ct),...it.skips.map(ct).map(pt=>"-"+pt)].join(",");return it.enable(""),ft}function lt(ft){if(ft[ft.length-1]==="*")return!0;let pt,ht;for(pt=0,ht=it.skips.length;pt<ht;pt++)if(it.skips[pt].test(ft))return!1;for(pt=0,ht=it.names.length;pt<ht;pt++)if(it.names[pt].test(ft))return!0;return!1}function ct(ft){return ft.toString().substring(2,ft.toString().length-2).replace(/\.\*\?$/,"*")}function ut(ft){return ft instanceof Error?ft.stack||ft.message:ft}function dt(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return it.enable(it.load()),it}et.exports=tt}}),require_browser$1=__commonJS$1({"node_modules/debug/src/browser.js"(_e,et){_e.formatArgs=rt,_e.save=nt,_e.load=it,_e.useColors=tt,_e.storage=at(),_e.destroy=(()=>{let st=!1;return()=>{st||(st=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),_e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function tt(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function rt(st){if(st[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+st[0]+(this.useColors?"%c ":" ")+"+"+et.exports.humanize(this.diff),!this.useColors)return;const lt="color: "+this.color;st.splice(1,0,lt,"color: inherit");let ct=0,ut=0;st[0].replace(/%[a-zA-Z%]/g,dt=>{dt!=="%%"&&(ct++,dt==="%c"&&(ut=ct))}),st.splice(ut,0,lt)}_e.log=console.debug||console.log||(()=>{});function nt(st){try{st?_e.storage.setItem("debug",st):_e.storage.removeItem("debug")}catch{}}function it(){let st;try{st=_e.storage.getItem("debug")}catch{}return st}function at(){try{return localStorage}catch{}}et.exports=require_common()(_e);var{formatters:ot}=et.exports;ot.j=function(st){try{return JSON.stringify(st)}catch(lt){return"[UnexpectedJSONParseError]: "+lt.message}}}});__toESM$1(require_browser$1());var require_capture_stack_trace=__commonJS$1({"node_modules/capture-stack-trace/index.js"(_e,et){et.exports=Error.captureStackTrace||function(tt){var rt=new Error;Object.defineProperty(tt,"stack",{configurable:!0,get:function(){var it=rt.stack;return Object.defineProperty(this,"stack",{value:it}),it}})}}}),require_create_error_class=__commonJS$1({"node_modules/create-error-class/index.js"(_e,et){var tt=require_capture_stack_trace();function rt(nt,it){nt.super_=it,nt.prototype=Object.create(it.prototype,{constructor:{value:nt,enumerable:!1,writable:!0,configurable:!0}})}et.exports=function(it,at){if(typeof it!="string")throw new TypeError("Expected className to be a string");if(/[^0-9a-zA-Z_$]/.test(it))throw new Error("className contains invalid characters");at=at||function(st){this.message=st};var ot=function(){Object.defineProperty(this,"name",{configurable:!0,value:it,writable:!0}),tt(this,this.constructor),at.apply(this,arguments)};return rt(ot,Error),ot}}}),import_create_error_class=__toESM$1(require_create_error_class());(0,import_create_error_class.default)("HttpError",function(_e,et){const tt=_e.url.length>400?`${_e.url.slice(0,399)}`:_e.url;let rt=`${_e.method}-request to ${tt} resulted in `;rt+=`HTTP ${_e.statusCode} ${_e.statusMessage}`,this.message=rt.trim(),this.response=_e,this.request=et.options});var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__commonJS=(_e,et)=>function(){return et||(0,_e[__getOwnPropNames(_e)[0]])((et={exports:{}}).exports,et),et.exports},__copyProps=(_e,et,tt,rt)=>{if(et&&typeof et=="object"||typeof et=="function")for(let nt of __getOwnPropNames(et))!__hasOwnProp.call(_e,nt)&&nt!==tt&&__defProp(_e,nt,{get:()=>et[nt],enumerable:!(rt=__getOwnPropDesc(et,nt))||rt.enumerable});return _e},__toESM=(_e,et,tt)=>(tt=_e!=null?__create(__getProtoOf(_e)):{},__copyProps(!_e||!_e.__esModule?__defProp(tt,"default",{value:_e,enumerable:!0}):tt,_e)),require_eventsource=__commonJS({"node_modules/event-source-polyfill/src/eventsource.js"(_e,et){(function(tt){var rt=tt.setTimeout,nt=tt.clearTimeout,it=tt.XMLHttpRequest,at=tt.XDomainRequest,ot=tt.ActiveXObject,st=tt.EventSource,lt=tt.document,ct=tt.Promise,ut=tt.fetch,dt=tt.Response,ft=tt.TextDecoder,pt=tt.TextEncoder,ht=tt.AbortController;if(typeof window<"u"&&typeof lt<"u"&&!("readyState"in lt)&&lt.body==null&&(lt.readyState="loading",window.addEventListener("load",function(ar){lt.readyState="complete"},!1)),it==null&&ot!=null&&(it=function(){return new ot("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(ar){function Er(){}return Er.prototype=ar,new Er}),Date.now||(Date.now=function(){return new Date().getTime()}),ht==null){var yt=ut;ut=function(ar,Er){var _r=Er.signal;return yt(ar,{headers:Er.headers,credentials:Er.credentials,cache:Er.cache}).then(function(gr){var qr=gr.body.getReader();return _r._reader=qr,_r._aborted&&_r._reader.cancel(),{status:gr.status,statusText:gr.statusText,headers:gr.headers,body:{getReader:function(){return qr}}}})},ht=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function mt(){this.bitsNeeded=0,this.codePoint=0}mt.prototype.decode=function(ar){function Er(tn,Rr,wr){if(wr===1)return tn>=128>>Rr&&tn<<Rr<=2047;if(wr===2)return tn>=2048>>Rr&&tn<<Rr<=55295||tn>=57344>>Rr&&tn<<Rr<=65535;if(wr===3)return tn>=65536>>Rr&&tn<<Rr<=1114111;throw new Error}function _r(tn,Rr){if(tn===6*1)return Rr>>6>15?3:Rr>31?2:1;if(tn===6*2)return Rr>15?3:2;if(tn===6*3)return 3;throw new Error}for(var gr=65533,qr="",Sr=this.bitsNeeded,Hr=this.codePoint,Qr=0;Qr<ar.length;Qr+=1){var Xr=ar[Qr];Sr!==0&&(Xr<128||Xr>191||!Er(Hr<<6|Xr&63,Sr-6,_r(Sr,Hr)))&&(Sr=0,Hr=gr,qr+=String.fromCharCode(Hr)),Sr===0?(Xr>=0&&Xr<=127?(Sr=0,Hr=Xr):Xr>=192&&Xr<=223?(Sr=6*1,Hr=Xr&31):Xr>=224&&Xr<=239?(Sr=6*2,Hr=Xr&15):Xr>=240&&Xr<=247?(Sr=6*3,Hr=Xr&7):(Sr=0,Hr=gr),Sr!==0&&!Er(Hr,Sr,_r(Sr,Hr))&&(Sr=0,Hr=gr)):(Sr-=6,Hr=Hr<<6|Xr&63),Sr===0&&(Hr<=65535?qr+=String.fromCharCode(Hr):(qr+=String.fromCharCode(55296+(Hr-65535-1>>10)),qr+=String.fromCharCode(56320+(Hr-65535-1&1023))))}return this.bitsNeeded=Sr,this.codePoint=Hr,qr};var gt=function(){try{return new ft().decode(new pt().encode("test"),{stream:!0})==="test"}catch(ar){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+ar)}return!1};(ft==null||pt==null||!gt())&&(ft=mt);var vt=function(){};function St(ar){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=vt,this.onload=vt,this.onerror=vt,this.onreadystatechange=vt,this._contentType="",this._xhr=ar,this._sendTimeout=0,this._abort=vt}St.prototype.open=function(ar,Er){this._abort(!0);var _r=this,gr=this._xhr,qr=1,Sr=0;this._abort=function(wr){_r._sendTimeout!==0&&(nt(_r._sendTimeout),_r._sendTimeout=0),(qr===1||qr===2||qr===3)&&(qr=4,gr.onload=vt,gr.onerror=vt,gr.onabort=vt,gr.onprogress=vt,gr.onreadystatechange=vt,gr.abort(),Sr!==0&&(nt(Sr),Sr=0),wr||(_r.readyState=4,_r.onabort(null),_r.onreadystatechange())),qr=0};var Hr=function(){if(qr===1){var wr=0,Dr="",an=void 0;if("contentType"in gr)wr=200,Dr="OK",an=gr.contentType;else try{wr=gr.status,Dr=gr.statusText,an=gr.getResponseHeader("Content-Type")}catch{wr=0,Dr="",an=void 0}wr!==0&&(qr=2,_r.readyState=2,_r.status=wr,_r.statusText=Dr,_r._contentType=an,_r.onreadystatechange())}},Qr=function(){if(Hr(),qr===2||qr===3){qr=3;var wr="";try{wr=gr.responseText}catch{}_r.readyState=3,_r.responseText=wr,_r.onprogress()}},Xr=function(wr,Dr){if((Dr==null||Dr.preventDefault==null)&&(Dr={preventDefault:vt}),Qr(),qr===1||qr===2||qr===3){if(qr=4,Sr!==0&&(nt(Sr),Sr=0),_r.readyState=4,wr==="load")_r.onload(Dr);else if(wr==="error")_r.onerror(Dr);else if(wr==="abort")_r.onabort(Dr);else throw new TypeError;_r.onreadystatechange()}},tn=function(wr){gr!=null&&(gr.readyState===4?(!("onload"in gr)||!("onerror"in gr)||!("onabort"in gr))&&Xr(gr.responseText===""?"error":"load",wr):gr.readyState===3?"onprogress"in gr||Qr():gr.readyState===2&&Hr())},Rr=function(){Sr=rt(function(){Rr()},500),gr.readyState===3&&Qr()};"onload"in gr&&(gr.onload=function(wr){Xr("load",wr)}),"onerror"in gr&&(gr.onerror=function(wr){Xr("error",wr)}),"onabort"in gr&&(gr.onabort=function(wr){Xr("abort",wr)}),"onprogress"in gr&&(gr.onprogress=Qr),"onreadystatechange"in gr&&(gr.onreadystatechange=function(wr){tn(wr)}),("contentType"in gr||!("ontimeout"in it.prototype))&&(Er+=(Er.indexOf("?")===-1?"?":"&")+"padding=true"),gr.open(ar,Er,!0),"readyState"in gr&&(Sr=rt(function(){Rr()},0))},St.prototype.abort=function(){this._abort(!1)},St.prototype.getResponseHeader=function(ar){return this._contentType},St.prototype.setRequestHeader=function(ar,Er){var _r=this._xhr;"setRequestHeader"in _r&&_r.setRequestHeader(ar,Er)},St.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},St.prototype.send=function(){if((!("ontimeout"in it.prototype)||!("sendAsBinary"in it.prototype)&&!("mozAnon"in it.prototype))&&lt!=null&&lt.readyState!=null&&lt.readyState!=="complete"){var ar=this;ar._sendTimeout=rt(function(){ar._sendTimeout=0,ar.send()},4);return}var Er=this._xhr;"withCredentials"in Er&&(Er.withCredentials=this.withCredentials);try{Er.send(void 0)}catch(_r){throw _r}};function xt(ar){return ar.replace(/[A-Z]/g,function(Er){return String.fromCharCode(Er.charCodeAt(0)+32)})}function Ct(ar){for(var Er=Object.create(null),_r=ar.split(`\r
`),gr=0;gr<_r.length;gr+=1){var qr=_r[gr],Sr=qr.split(": "),Hr=Sr.shift(),Qr=Sr.join(": ");Er[xt(Hr)]=Qr}this._map=Er}Ct.prototype.get=function(ar){return this._map[xt(ar)]},it!=null&&it.HEADERS_RECEIVED==null&&(it.HEADERS_RECEIVED=2);function wt(){}wt.prototype.open=function(ar,Er,_r,gr,qr,Sr,Hr){ar.open("GET",qr);var Qr=0;ar.onprogress=function(){var tn=ar.responseText,Rr=tn.slice(Qr);Qr+=Rr.length,_r(Rr)},ar.onerror=function(tn){tn.preventDefault(),gr(new Error("NetworkError"))},ar.onload=function(){gr(null)},ar.onabort=function(){gr(null)},ar.onreadystatechange=function(){if(ar.readyState===it.HEADERS_RECEIVED){var tn=ar.status,Rr=ar.statusText,wr=ar.getResponseHeader("Content-Type"),Dr=ar.getAllResponseHeaders();Er(tn,Rr,wr,new Ct(Dr))}},ar.withCredentials=Sr;for(var Xr in Hr)Object.prototype.hasOwnProperty.call(Hr,Xr)&&ar.setRequestHeader(Xr,Hr[Xr]);return ar.send(),ar};function _t(ar){this._headers=ar}_t.prototype.get=function(ar){return this._headers.get(ar)};function Ot(){}Ot.prototype.open=function(ar,Er,_r,gr,qr,Sr,Hr){var Qr=null,Xr=new ht,tn=Xr.signal,Rr=new ft;return ut(qr,{headers:Hr,credentials:Sr?"include":"same-origin",signal:tn,cache:"no-store"}).then(function(wr){return Qr=wr.body.getReader(),Er(wr.status,wr.statusText,wr.headers.get("Content-Type"),new _t(wr.headers)),new ct(function(Dr,an){var En=function(){Qr.read().then(function(dn){if(dn.done)Dr(void 0);else{var en=Rr.decode(dn.value,{stream:!0});_r(en),En()}}).catch(function(dn){an(dn)})};En()})}).catch(function(wr){if(wr.name!=="AbortError")return wr}).then(function(wr){gr(wr)}),{abort:function(){Qr!=null&&Qr.cancel(),Xr.abort()}}};function kt(){this._listeners=Object.create(null)}function Lt(ar){rt(function(){throw ar},0)}kt.prototype.dispatchEvent=function(ar){ar.target=this;var Er=this._listeners[ar.type];if(Er!=null)for(var _r=Er.length,gr=0;gr<_r;gr+=1){var qr=Er[gr];try{typeof qr.handleEvent=="function"?qr.handleEvent(ar):qr.call(this,ar)}catch(Sr){Lt(Sr)}}},kt.prototype.addEventListener=function(ar,Er){ar=String(ar);var _r=this._listeners,gr=_r[ar];gr==null&&(gr=[],_r[ar]=gr);for(var qr=!1,Sr=0;Sr<gr.length;Sr+=1)gr[Sr]===Er&&(qr=!0);qr||gr.push(Er)},kt.prototype.removeEventListener=function(ar,Er){ar=String(ar);var _r=this._listeners,gr=_r[ar];if(gr!=null){for(var qr=[],Sr=0;Sr<gr.length;Sr+=1)gr[Sr]!==Er&&qr.push(gr[Sr]);qr.length===0?delete _r[ar]:_r[ar]=qr}};function $t(ar){this.type=ar,this.target=void 0}function zt(ar,Er){$t.call(this,ar),this.data=Er.data,this.lastEventId=Er.lastEventId}zt.prototype=Object.create($t.prototype);function Vt(ar,Er){$t.call(this,ar),this.status=Er.status,this.statusText=Er.statusText,this.headers=Er.headers}Vt.prototype=Object.create($t.prototype);function Ut(ar,Er){$t.call(this,ar),this.error=Er.error}Ut.prototype=Object.create($t.prototype);var It=-1,Dt=0,Tt=1,Rt=2,Ft=-1,jt=0,nr=1,cr=2,ur=3,pr=/^text\/event\-stream(;.*)?$/i,xr=1e3,vr=18e6,Br=function(ar,Er){var _r=ar==null?Er:parseInt(ar,10);return _r!==_r&&(_r=Er),mr(_r)},mr=function(ar){return Math.min(Math.max(ar,xr),vr)},Ir=function(ar,Er,_r){try{typeof Er=="function"&&Er.call(ar,_r)}catch(gr){Lt(gr)}};function br(ar,Er){kt.call(this),Er=Er||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,yr(this,ar,Er)}function Tr(){return it!=null&&"withCredentials"in it.prototype||at==null?new it:new at}var Vr=ut!=null&&dt!=null&&"body"in dt.prototype;function yr(ar,Er,_r){Er=String(Er);var gr=!!_r.withCredentials,qr=_r.lastEventIdQueryParameterName||"lastEventId",Sr=mr(1e3),Hr=Br(_r.heartbeatTimeout,45e3),Qr="",Xr=Sr,tn=!1,Rr=0,wr=_r.headers||{},Dr=_r.Transport,an=Vr&&Dr==null?void 0:new St(Dr!=null?new Dr:Tr()),En=Dr!=null&&typeof Dr!="string"?new Dr:an==null?new Ot:new wt,dn=void 0,en=0,Gr=It,Cn="",Fr="",Ln="",Gn="",An=jt,Lr=0,Zn=0,yo=function(On,wn,Mn,$n){if(Gr===Dt)if(On===200&&Mn!=null&&pr.test(Mn)){Gr=Tt,tn=Date.now(),Xr=Sr,ar.readyState=Tt;var Rn=new Vt("open",{status:On,statusText:wn,headers:$n});ar.dispatchEvent(Rn),Ir(ar,ar.onopen,Rn)}else{var sn="";On!==200?(wn&&(wn=wn.replace(/\s+/g," ")),sn="EventSource's response has a status "+On+" "+wn+" that is not 200. Aborting the connection."):sn="EventSource's response has a Content-Type specifying an unsupported type: "+(Mn==null?"-":Mn.replace(/\s+/g," "))+". Aborting the connection.",ba();var Rn=new Vt("error",{status:On,statusText:wn,headers:$n});ar.dispatchEvent(Rn),Ir(ar,ar.onerror,Rn),console.error(sn)}},To=function(On){if(Gr===Tt){for(var wn=-1,Mn=0;Mn<On.length;Mn+=1){var $n=On.charCodeAt(Mn);($n===10||$n===13)&&(wn=Mn)}var Rn=(wn!==-1?Gn:"")+On.slice(0,wn+1);Gn=(wn===-1?Gn:"")+On.slice(wn+1),On!==""&&(tn=Date.now(),Rr+=On.length);for(var sn=0;sn<Rn.length;sn+=1){var $n=Rn.charCodeAt(sn);if(An===Ft&&$n===10)An=jt;else if(An===Ft&&(An=jt),$n===13||$n===10){if(An!==jt){An===nr&&(Zn=sn+1);var xn=Rn.slice(Lr,Zn-1),Jn=Rn.slice(Zn+(Zn<sn&&Rn.charCodeAt(Zn)===32?1:0),sn);xn==="data"?(Cn+=`
`,Cn+=Jn):xn==="id"?Fr=Jn:xn==="event"?Ln=Jn:xn==="retry"?(Sr=Br(Jn,Sr),Xr=Sr):xn==="heartbeatTimeout"&&(Hr=Br(Jn,Hr),en!==0&&(nt(en),en=rt(function(){oo()},Hr)))}if(An===jt){if(Cn!==""){Qr=Fr,Ln===""&&(Ln="message");var _i=new zt(Ln,{data:Cn.slice(1),lastEventId:Fr});if(ar.dispatchEvent(_i),Ln==="open"?Ir(ar,ar.onopen,_i):Ln==="message"?Ir(ar,ar.onmessage,_i):Ln==="error"&&Ir(ar,ar.onerror,_i),Gr===Rt)return}Cn="",Ln=""}An=$n===13?Ft:jt}else An===jt&&(Lr=sn,An=nr),An===nr?$n===58&&(Zn=sn+1,An=cr):An===cr&&(An=ur)}}},Eo=function(On){if(Gr===Tt||Gr===Dt){Gr=It,en!==0&&(nt(en),en=0),en=rt(function(){oo()},Xr),Xr=mr(Math.min(Sr*16,Xr*2)),ar.readyState=Dt;var wn=new Ut("error",{error:On});ar.dispatchEvent(wn),Ir(ar,ar.onerror,wn),On!=null&&console.error(On)}},ba=function(){Gr=Rt,dn!=null&&(dn.abort(),dn=void 0),en!==0&&(nt(en),en=0),ar.readyState=Rt},oo=function(){if(en=0,Gr!==It){if(!tn&&dn!=null)Eo(new Error("No activity within "+Hr+" milliseconds. "+(Gr===Dt?"No response received.":Rr+" chars received.")+" Reconnecting.")),dn!=null&&(dn.abort(),dn=void 0);else{var On=Math.max((tn||Date.now())+Hr-Date.now(),1);tn=!1,en=rt(function(){oo()},On)}return}tn=!1,Rr=0,en=rt(function(){oo()},Hr),Gr=Dt,Cn="",Ln="",Fr=Qr,Gn="",Lr=0,Zn=0,An=jt;var wn=Er;if(Er.slice(0,5)!=="data:"&&Er.slice(0,5)!=="blob:"&&Qr!==""){var Mn=Er.indexOf("?");wn=Mn===-1?Er:Er.slice(0,Mn+1)+Er.slice(Mn+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(Jn,_i){return _i===qr?"":Jn}),wn+=(Er.indexOf("?")===-1?"?":"&")+qr+"="+encodeURIComponent(Qr)}var $n=ar.withCredentials,Rn={};Rn.Accept="text/event-stream";var sn=ar.headers;if(sn!=null)for(var xn in sn)Object.prototype.hasOwnProperty.call(sn,xn)&&(Rn[xn]=sn[xn]);try{dn=En.open(an,yo,To,Eo,wn,$n,Rn)}catch(Jn){throw ba(),Jn}};ar.url=Er,ar.readyState=Dt,ar.withCredentials=gr,ar.headers=wr,ar._close=ba,oo()}br.prototype=Object.create(kt.prototype),br.prototype.CONNECTING=Dt,br.prototype.OPEN=Tt,br.prototype.CLOSED=Rt,br.prototype.close=function(){this._close()},br.CONNECTING=Dt,br.OPEN=Tt,br.CLOSED=Rt,br.prototype.withCredentials=void 0;var rn=st;it!=null&&(st==null||!("withCredentials"in st.prototype))&&(rn=br),function(ar){if(typeof et=="object"&&typeof et.exports=="object"){var Er=ar(_e);Er!==void 0&&(et.exports=Er)}else typeof define=="function"&&define.amd?define(["exports"],ar):ar(tt)}(function(ar){ar.EventSourcePolyfill=br,ar.NativeEventSource=st,ar.EventSource=rn})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:_e:globalThis)}}),require_browser=__commonJS({"node_modules/@sanity/eventsource/browser.js"(_e,et){var tt=require_eventsource();et.exports=tt.EventSourcePolyfill}}),require_make_error=__commonJS({"node_modules/make-error/index.js"(_e,et){var tt=typeof Reflect<"u"?Reflect.construct:void 0,rt=Object.defineProperty,nt=Error.captureStackTrace;nt===void 0&&(nt=function(lt){var ct=new Error;rt(lt,"stack",{configurable:!0,get:function(){var dt=ct.stack;return rt(this,"stack",{configurable:!0,value:dt,writable:!0}),dt},set:function(dt){rt(lt,"stack",{configurable:!0,value:dt,writable:!0})}})});function it(st){st!==void 0&&rt(this,"message",{configurable:!0,value:st,writable:!0});var lt=this.constructor.name;lt!==void 0&&lt!==this.name&&rt(this,"name",{configurable:!0,value:lt,writable:!0}),nt(this,this.constructor)}it.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:it,writable:!0}});var at=function(){function st(ct,ut){return rt(ct,"name",{configurable:!0,value:ut})}try{var lt=function(){};if(st(lt,"foo"),lt.name==="foo")return st}catch{}}();function ot(st,lt){if(lt==null||lt===Error)lt=it;else if(typeof lt!="function")throw new TypeError("super_ should be a function");var ct;if(typeof st=="string")ct=st,st=tt!==void 0?function(){return tt(lt,arguments,this.constructor)}:function(){lt.apply(this,arguments)},at!==void 0&&(at(st,ct),ct=void 0);else if(typeof st!="function")throw new TypeError("constructor should be either a string or a function");st.super_=st.super=lt;var ut={constructor:{configurable:!0,value:st,writable:!0}};return ct!==void 0&&(ut.name={configurable:!0,value:ct,writable:!0}),st.prototype=Object.create(lt.prototype,ut),st}_e=et.exports=ot,_e.BaseError=it}});function getSelection(_e){if(typeof _e=="string"||Array.isArray(_e))return{id:_e};if(_e&&_e.query)return"params"in _e?{query:_e.query,params:_e.params}:{query:_e.query};const et=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${et}`)}var VALID_ASSET_TYPES=["image","file"],VALID_INSERT_LOCATIONS=["before","after","replace"],dataset=_e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(_e))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},projectId=_e=>{if(!/^[-a-z0-9]+$/i.test(_e))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},validateAssetType=_e=>{if(VALID_ASSET_TYPES.indexOf(_e)===-1)throw new Error(`Invalid asset type: ${_e}. Must be one of ${VALID_ASSET_TYPES.join(", ")}`)},validateObject=(_e,et)=>{if(et===null||typeof et!="object"||Array.isArray(et))throw new Error(`${_e}() takes an object of properties`)},validateDocumentId=(_e,et)=>{if(typeof et!="string"||!/^[a-z0-9_.-]+$/i.test(et))throw new Error(`${_e}(): "${et}" is not a valid document ID`)},requireDocumentId=(_e,et)=>{if(!et._id)throw new Error(`${_e}() requires that the document contains an ID ("_id" property)`);validateDocumentId(_e,et._id)},validateInsert=(_e,et,tt)=>{const rt="insert(at, selector, items)";if(VALID_INSERT_LOCATIONS.indexOf(_e)===-1){const nt=VALID_INSERT_LOCATIONS.map(it=>`"${it}"`).join(", ");throw new Error(`${rt} takes an "at"-argument which is one of: ${nt}`)}if(typeof et!="string")throw new Error(`${rt} takes a "selector"-argument which must be a string`);if(!Array.isArray(tt))throw new Error(`${rt} takes an "items"-argument which must be an array`)},hasDataset=_e=>{if(!_e.dataset)throw new Error("`dataset` must be provided to perform queries");return _e.dataset||""},requestTag=_e=>{if(typeof _e!="string"||!/^[a-z0-9._-]{1,75}$/i.test(_e))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return _e};function Patch(_e,et={},tt=null){this.selection=_e,this.operations=Object.assign({},et),this.client=tt}Object.assign(Patch.prototype,{clone(){return new Patch(this.selection,Object.assign({},this.operations),this.client)},set(_e){return this.assign("set",_e)},diffMatchPatch(_e){return validateObject("diffMatchPatch",_e),this.assign("diffMatchPatch",_e)},unset(_e){if(!Array.isArray(_e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:_e}),this},setIfMissing(_e){return this.assign("setIfMissing",_e)},replace(_e){return validateObject("replace",_e),this._set("set",{$:_e})},inc(_e){return this.assign("inc",_e)},dec(_e){return this.assign("dec",_e)},insert(_e,et,tt){return validateInsert(_e,et,tt),this.assign("insert",{[_e]:et,items:tt})},append(_e,et){return this.insert("after",`${_e}[-1]`,et)},prepend(_e,et){return this.insert("before",`${_e}[0]`,et)},splice(_e,et,tt,rt){const nt=typeof tt>"u"||tt===-1,it=et<0?et-1:et,at=nt?-1:Math.max(0,et+tt),ot=it<0&&at>=0?"":at,st=`${_e}[${it}:${ot}]`;return this.insert("replace",st,rt||[])},ifRevisionId(_e){return this.operations.ifRevisionID=_e,this},serialize(){return Object.assign(getSelection(this.selection),this.operations)},toJSON(){return this.serialize()},commit(_e={}){if(!this.client)throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const et=typeof this.selection=="string",tt=Object.assign({returnFirst:et,returnDocuments:!0},_e);return this.client.mutate({patch:this.serialize()},tt)},reset(){return this.operations={},this},_set(_e,et){return this.assign(_e,et,!1)},assign(_e,et,tt=!0){return validateObject(_e,et),this.operations=Object.assign({},this.operations,{[_e]:Object.assign({},tt&&this.operations[_e]||{},et)}),this}});var patch_default=Patch,defaultMutateOptions={returnDocuments:!1};function Transaction(_e=[],et,tt){this.trxId=tt,this.operations=_e,this.client=et}Object.assign(Transaction.prototype,{clone(){return new Transaction(this.operations.slice(0),this.client,this.trxId)},create(_e){return validateObject("create",_e),this._add({create:_e})},createIfNotExists(_e){const et="createIfNotExists";return validateObject(et,_e),requireDocumentId(et,_e),this._add({[et]:_e})},createOrReplace(_e){const et="createOrReplace";return validateObject(et,_e),requireDocumentId(et,_e),this._add({[et]:_e})},delete(_e){return validateDocumentId("delete",_e),this._add({delete:{id:_e}})},patch(_e,et){const tt=typeof et=="function";if(_e instanceof patch_default)return this._add({patch:_e.serialize()});if(tt){const nt=et(new patch_default(_e,{},this.client));if(!(nt instanceof patch_default))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:nt.serialize()})}return this._add({patch:Object.assign({id:_e},et)})},transactionId(_e){return _e?(this.trxId=_e,this):this.trxId},serialize(){return this.operations.slice()},toJSON(){return this.serialize()},commit(_e){if(!this.client)throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.client.mutate(this.serialize(),Object.assign({transactionId:this.trxId},defaultMutateOptions,_e||{}))},reset(){return this.operations=[],this},_add(_e){return this.operations.push(_e),this}});var transaction_default=Transaction,enc=encodeURIComponent,encodeQueryString_default=({query:_e,params:et={},options:tt={}})=>{const{tag:rt,...nt}=tt,it=`query=${enc(_e)}`,at=rt?`?tag=${enc(rt)}&${it}`:`?${it}`,ot=Object.keys(et).reduce((st,lt)=>`${st}&${enc(`$${lt}`)}=${enc(JSON.stringify(et[lt]))}`,at);return Object.keys(nt).reduce((st,lt)=>tt[lt]?`${st}&${enc(lt)}=${enc(tt[lt])}`:st,ot)},import_eventsource=__toESM(require_browser()),pick_default=(_e,et)=>et.reduce((tt,rt)=>(typeof _e[rt]>"u"||(tt[rt]=_e[rt]),tt),{}),defaults_default=(_e,et)=>Object.keys(et).concat(Object.keys(_e)).reduce((tt,rt)=>(tt[rt]=typeof _e[rt]>"u"?et[rt]:_e[rt],tt),{}),extendStatics=function(_e,et){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tt,rt){tt.__proto__=rt}||function(tt,rt){for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])},extendStatics(_e,et)};function __extends(_e,et){if(typeof et!="function"&&et!==null)throw new TypeError("Class extends value "+String(et)+" is not a constructor or null");extendStatics(_e,et);function tt(){this.constructor=_e}_e.prototype=et===null?Object.create(et):(tt.prototype=et.prototype,new tt)}function __values(_e){var et=typeof Symbol=="function"&&Symbol.iterator,tt=et&&_e[et],rt=0;if(tt)return tt.call(_e);if(_e&&typeof _e.length=="number")return{next:function(){return _e&&rt>=_e.length&&(_e=void 0),{value:_e&&_e[rt++],done:!_e}}};throw new TypeError(et?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(_e,et){var tt=typeof Symbol=="function"&&_e[Symbol.iterator];if(!tt)return _e;var rt=tt.call(_e),nt,it=[],at;try{for(;(et===void 0||et-- >0)&&!(nt=rt.next()).done;)it.push(nt.value)}catch(ot){at={error:ot}}finally{try{nt&&!nt.done&&(tt=rt.return)&&tt.call(rt)}finally{if(at)throw at.error}}return it}function __spreadArray(_e,et,tt){if(arguments.length===2)for(var rt=0,nt=et.length,it;rt<nt;rt++)(it||!(rt in et))&&(it||(it=Array.prototype.slice.call(et,0,rt)),it[rt]=et[rt]);return _e.concat(it||Array.prototype.slice.call(et))}function isFunction(_e){return typeof _e=="function"}function createErrorClass(_e){var et=function(rt){Error.call(rt),rt.stack=new Error().stack},tt=_e(et);return tt.prototype=Object.create(Error.prototype),tt.prototype.constructor=tt,tt}var UnsubscriptionError=createErrorClass(function(_e){return function(tt){_e(this),this.message=tt?tt.length+` errors occurred during unsubscription:
`+tt.map(function(rt,nt){return nt+1+") "+rt.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=tt}});function arrRemove(_e,et){if(_e){var tt=_e.indexOf(et);0<=tt&&_e.splice(tt,1)}}var Subscription=function(){function _e(et){this.initialTeardown=et,this.closed=!1,this._parentage=null,this._finalizers=null}return _e.prototype.unsubscribe=function(){var et,tt,rt,nt,it;if(!this.closed){this.closed=!0;var at=this._parentage;if(at)if(this._parentage=null,Array.isArray(at))try{for(var ot=__values(at),st=ot.next();!st.done;st=ot.next()){var lt=st.value;lt.remove(this)}}catch(ht){et={error:ht}}finally{try{st&&!st.done&&(tt=ot.return)&&tt.call(ot)}finally{if(et)throw et.error}}else at.remove(this);var ct=this.initialTeardown;if(isFunction(ct))try{ct()}catch(ht){it=ht instanceof UnsubscriptionError?ht.errors:[ht]}var ut=this._finalizers;if(ut){this._finalizers=null;try{for(var dt=__values(ut),ft=dt.next();!ft.done;ft=dt.next()){var pt=ft.value;try{execFinalizer(pt)}catch(ht){it=it??[],ht instanceof UnsubscriptionError?it=__spreadArray(__spreadArray([],__read(it)),__read(ht.errors)):it.push(ht)}}}catch(ht){rt={error:ht}}finally{try{ft&&!ft.done&&(nt=dt.return)&&nt.call(dt)}finally{if(rt)throw rt.error}}}if(it)throw new UnsubscriptionError(it)}},_e.prototype.add=function(et){var tt;if(et&&et!==this)if(this.closed)execFinalizer(et);else{if(et instanceof _e){if(et.closed||et._hasParent(this))return;et._addParent(this)}(this._finalizers=(tt=this._finalizers)!==null&&tt!==void 0?tt:[]).push(et)}},_e.prototype._hasParent=function(et){var tt=this._parentage;return tt===et||Array.isArray(tt)&&tt.includes(et)},_e.prototype._addParent=function(et){var tt=this._parentage;this._parentage=Array.isArray(tt)?(tt.push(et),tt):tt?[tt,et]:et},_e.prototype._removeParent=function(et){var tt=this._parentage;tt===et?this._parentage=null:Array.isArray(tt)&&arrRemove(tt,et)},_e.prototype.remove=function(et){var tt=this._finalizers;tt&&arrRemove(tt,et),et instanceof _e&&et._removeParent(this)},_e.EMPTY=function(){var et=new _e;return et.closed=!0,et}(),_e}();Subscription.EMPTY;function isSubscription(_e){return _e instanceof Subscription||_e&&"closed"in _e&&isFunction(_e.remove)&&isFunction(_e.add)&&isFunction(_e.unsubscribe)}function execFinalizer(_e){isFunction(_e)?_e():_e.unsubscribe()}var config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},timeoutProvider={setTimeout:function(_e,et){for(var tt=[],rt=2;rt<arguments.length;rt++)tt[rt-2]=arguments[rt];return setTimeout.apply(void 0,__spreadArray([_e,et],__read(tt)))},clearTimeout:function(_e){return clearTimeout(_e)},delegate:void 0};function reportUnhandledError(_e){timeoutProvider.setTimeout(function(){throw _e})}function noop(){}function errorContext(_e){_e()}var Subscriber=function(_e){__extends(et,_e);function et(tt){var rt=_e.call(this)||this;return rt.isStopped=!1,tt?(rt.destination=tt,isSubscription(tt)&&tt.add(rt)):rt.destination=EMPTY_OBSERVER,rt}return et.create=function(tt,rt,nt){return new SafeSubscriber(tt,rt,nt)},et.prototype.next=function(tt){this.isStopped||this._next(tt)},et.prototype.error=function(tt){this.isStopped||(this.isStopped=!0,this._error(tt))},et.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},et.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,_e.prototype.unsubscribe.call(this),this.destination=null)},et.prototype._next=function(tt){this.destination.next(tt)},et.prototype._error=function(tt){try{this.destination.error(tt)}finally{this.unsubscribe()}},et.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},et}(Subscription),_bind=Function.prototype.bind;function bind(_e,et){return _bind.call(_e,et)}var ConsumerObserver=function(){function _e(et){this.partialObserver=et}return _e.prototype.next=function(et){var tt=this.partialObserver;if(tt.next)try{tt.next(et)}catch(rt){handleUnhandledError(rt)}},_e.prototype.error=function(et){var tt=this.partialObserver;if(tt.error)try{tt.error(et)}catch(rt){handleUnhandledError(rt)}else handleUnhandledError(et)},_e.prototype.complete=function(){var et=this.partialObserver;if(et.complete)try{et.complete()}catch(tt){handleUnhandledError(tt)}},_e}(),SafeSubscriber=function(_e){__extends(et,_e);function et(tt,rt,nt){var it=_e.call(this)||this,at;if(isFunction(tt)||!tt)at={next:tt??void 0,error:rt??void 0,complete:nt??void 0};else{var ot;it&&config.useDeprecatedNextContext?(ot=Object.create(tt),ot.unsubscribe=function(){return it.unsubscribe()},at={next:tt.next&&bind(tt.next,ot),error:tt.error&&bind(tt.error,ot),complete:tt.complete&&bind(tt.complete,ot)}):at=tt}return it.destination=new ConsumerObserver(at),it}return et}(Subscriber);function handleUnhandledError(_e){reportUnhandledError(_e)}function defaultErrorHandler(_e){throw _e}var EMPTY_OBSERVER={closed:!0,next:noop,error:defaultErrorHandler,complete:noop},observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity(_e){return _e}function pipeFromArray(_e){return _e.length===0?identity:_e.length===1?_e[0]:function(tt){return _e.reduce(function(rt,nt){return nt(rt)},tt)}}var Observable=function(){function _e(et){et&&(this._subscribe=et)}return _e.prototype.lift=function(et){var tt=new _e;return tt.source=this,tt.operator=et,tt},_e.prototype.subscribe=function(et,tt,rt){var nt=this,it=isSubscriber(et)?et:new SafeSubscriber(et,tt,rt);return errorContext(function(){var at=nt,ot=at.operator,st=at.source;it.add(ot?ot.call(it,st):st?nt._subscribe(it):nt._trySubscribe(it))}),it},_e.prototype._trySubscribe=function(et){try{return this._subscribe(et)}catch(tt){et.error(tt)}},_e.prototype.forEach=function(et,tt){var rt=this;return tt=getPromiseCtor(tt),new tt(function(nt,it){var at=new SafeSubscriber({next:function(ot){try{et(ot)}catch(st){it(st),at.unsubscribe()}},error:it,complete:nt});rt.subscribe(at)})},_e.prototype._subscribe=function(et){var tt;return(tt=this.source)===null||tt===void 0?void 0:tt.subscribe(et)},_e.prototype[observable]=function(){return this},_e.prototype.pipe=function(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];return pipeFromArray(et)(this)},_e.prototype.toPromise=function(et){var tt=this;return et=getPromiseCtor(et),new et(function(rt,nt){var it;tt.subscribe(function(at){return it=at},function(at){return nt(at)},function(){return rt(it)})})},_e.create=function(et){return new _e(et)},_e}();function getPromiseCtor(_e){var et;return(et=_e??config.Promise)!==null&&et!==void 0?et:Promise}function isObserver(_e){return _e&&isFunction(_e.next)&&isFunction(_e.error)&&isFunction(_e.complete)}function isSubscriber(_e){return _e&&_e instanceof Subscriber||isObserver(_e)&&isSubscription(_e)}function hasLift(_e){return isFunction(_e==null?void 0:_e.lift)}function operate(_e){return function(et){if(hasLift(et))return et.lift(function(tt){try{return _e(tt,this)}catch(rt){this.error(rt)}});throw new TypeError("Unable to lift unknown Observable type")}}function createOperatorSubscriber(_e,et,tt,rt,nt){return new OperatorSubscriber(_e,et,tt,rt,nt)}var OperatorSubscriber=function(_e){__extends(et,_e);function et(tt,rt,nt,it,at,ot){var st=_e.call(this,tt)||this;return st.onFinalize=at,st.shouldUnsubscribe=ot,st._next=rt?function(lt){try{rt(lt)}catch(ct){tt.error(ct)}}:_e.prototype._next,st._error=it?function(lt){try{it(lt)}catch(ct){tt.error(ct)}finally{this.unsubscribe()}}:_e.prototype._error,st._complete=nt?function(){try{nt()}catch(lt){tt.error(lt)}finally{this.unsubscribe()}}:_e.prototype._complete,st}return et.prototype.unsubscribe=function(){var tt;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var rt=this.closed;_e.prototype.unsubscribe.call(this),!rt&&((tt=this.onFinalize)===null||tt===void 0||tt.call(this))}},et}(Subscriber),EmptyError=createErrorClass(function(_e){return function(){_e(this),this.name="EmptyError",this.message="no elements in sequence"}});function lastValueFrom(_e,et){return new Promise(function(tt,rt){var nt=!1,it;_e.subscribe({next:function(at){it=at,nt=!0},error:rt,complete:function(){nt?tt(it):rt(new EmptyError)}})})}function map(_e,et){return operate(function(tt,rt){var nt=0;tt.subscribe(createOperatorSubscriber(rt,function(it){rt.next(_e.call(et,it,nt++))}))})}function filter(_e,et){return operate(function(tt,rt){var nt=0;tt.subscribe(createOperatorSubscriber(rt,function(it){return _e.call(et,it,nt++)&&rt.next(it)}))})}var MAX_URL_LENGTH=14800,EventSource=import_eventsource.default,possibleOptions=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],defaultOptions={includeResult:!0};function listen(_e,et,tt={}){const{url:rt,token:nt,withCredentials:it,requestTagPrefix:at}=this.clientConfig,ot=tt.tag&&at?[at,tt.tag].join("."):tt.tag,st={...defaults_default(tt,defaultOptions),tag:ot},lt=pick_default(st,possibleOptions),ct=encodeQueryString_default({query:_e,params:et,options:lt,tag:ot}),ut=`${rt}${this.getDataUrl("listen",ct)}`;if(ut.length>MAX_URL_LENGTH)return new Observable(ht=>ht.error(new Error("Query too large for listener")));const dt=st.events?st.events:["mutation"],ft=dt.indexOf("reconnect")!==-1,pt={};return(nt||it)&&(pt.withCredentials=!0),nt&&(pt.headers={Authorization:`Bearer ${nt}`}),new Observable(ht=>{let yt=Ot(),mt,gt=!1;function vt(){gt||(_t(),!gt&&yt.readyState===EventSource.CLOSED&&(wt(),clearTimeout(mt),mt=setTimeout(kt,100)))}function St($t){ht.error(cooerceError($t))}function xt($t){const zt=parseEvent($t);return zt instanceof Error?ht.error(zt):ht.next(zt)}function Ct($t){gt=!0,wt(),ht.complete()}function wt(){yt.removeEventListener("error",vt,!1),yt.removeEventListener("channelError",St,!1),yt.removeEventListener("disconnect",Ct,!1),dt.forEach($t=>yt.removeEventListener($t,xt,!1)),yt.close()}function _t(){ft&&ht.next({type:"reconnect"})}function Ot(){const $t=new EventSource(ut,pt);return $t.addEventListener("error",vt,!1),$t.addEventListener("channelError",St,!1),$t.addEventListener("disconnect",Ct,!1),dt.forEach(zt=>$t.addEventListener(zt,xt,!1)),$t}function kt(){yt=Ot()}function Lt(){gt=!0,wt()}return Lt})}function parseEvent(_e){try{const et=_e.data&&JSON.parse(_e.data)||{};return Object.assign({type:_e.type},et)}catch(et){return et}}function cooerceError(_e){if(_e instanceof Error)return _e;const et=parseEvent(_e);return et instanceof Error?et:new Error(extractErrorMessage(et))}function extractErrorMessage(_e){return _e.error?_e.error.description?_e.error.description:typeof _e.error=="string"?_e.error:JSON.stringify(_e.error,null,2):_e.message||"Unknown listener error"}var excludeFalsey=(_e,et)=>_e===!1?void 0:typeof _e>"u"?et:_e,getMutationQuery=(_e={})=>({dryRun:_e.dryRun,returnIds:!0,returnDocuments:excludeFalsey(_e.returnDocuments,!0),visibility:_e.visibility||"sync",autoGenerateArrayKeys:_e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:_e.skipCrossDatasetReferenceValidation}),isResponse=_e=>_e.type==="response",getBody=_e=>_e.body,indexBy=(_e,et)=>_e.reduce((tt,rt)=>(tt[et(rt)]=rt,tt),Object.create(null)),getQuerySizeLimit=11264,dataMethods_default={listen,getDataUrl(_e,et){const tt=this.clientConfig,rt=hasDataset(tt),nt=`/${_e}/${rt}`;return`/data${et?`${nt}/${et}`:nt}`.replace(/\/($|\?)/,"$1")},fetch(_e,et,tt={}){const rt=tt.filterResponse===!1?it=>it:it=>it.result,nt=this._dataRequest("query",{query:_e,params:et},tt).pipe(map(rt));return this.isPromiseAPI()?lastValueFrom(nt):nt},getDocument(_e,et={}){const tt={uri:this.getDataUrl("doc",_e),json:!0,tag:et.tag},rt=this._requestObservable(tt).pipe(filter(isResponse),map(nt=>nt.body.documents&&nt.body.documents[0]));return this.isPromiseAPI()?lastValueFrom(rt):rt},getDocuments(_e,et={}){const tt={uri:this.getDataUrl("doc",_e.join(",")),json:!0,tag:et.tag},rt=this._requestObservable(tt).pipe(filter(isResponse),map(nt=>{const it=indexBy(nt.body.documents||[],at=>at._id);return _e.map(at=>it[at]||null)}));return this.isPromiseAPI()?lastValueFrom(rt):rt},create(_e,et){return this._create(_e,"create",et)},createIfNotExists(_e,et){return requireDocumentId("createIfNotExists",_e),this._create(_e,"createIfNotExists",et)},createOrReplace(_e,et){return requireDocumentId("createOrReplace",_e),this._create(_e,"createOrReplace",et)},patch(_e,et){return new patch_default(_e,et,this)},delete(_e,et){return this.dataRequest("mutate",{mutations:[{delete:getSelection(_e)}]},et)},mutate(_e,et){const tt=_e instanceof patch_default||_e instanceof transaction_default?_e.serialize():_e,rt=Array.isArray(tt)?tt:[tt],nt=et&&et.transactionId;return this.dataRequest("mutate",{mutations:rt,transactionId:nt},et)},transaction(_e){return new transaction_default(_e,this)},dataRequest(_e,et,tt={}){const rt=this._dataRequest(_e,et,tt);return this.isPromiseAPI()?lastValueFrom(rt):rt},_dataRequest(_e,et,tt={}){const rt=_e==="mutate",nt=_e==="query",it=!rt&&encodeQueryString_default(et),at=!rt&&it.length<getQuerySizeLimit,ot=at?it:"",st=tt.returnFirst,{timeout:lt,token:ct,tag:ut,headers:dt}=tt,ft=this.getDataUrl(_e,ot),pt={method:at?"GET":"POST",uri:ft,json:!0,body:at?void 0:et,query:rt&&getMutationQuery(tt),timeout:lt,headers:dt,token:ct,tag:ut,canUseCdn:nt};return this._requestObservable(pt).pipe(filter(isResponse),map(getBody),map(ht=>{if(!rt)return ht;const yt=ht.results||[];if(tt.returnDocuments)return st?yt[0]&&yt[0].document:yt.map(vt=>vt.document);const mt=st?"documentId":"documentIds",gt=st?yt[0]&&yt[0].id:yt.map(vt=>vt.id);return{transactionId:ht.transactionId,results:yt,[mt]:gt}}))},_create(_e,et,tt={}){const rt={[et]:_e},nt=Object.assign({returnFirst:!0,returnDocuments:!0},tt);return this.dataRequest("mutate",{mutations:[rt]},nt)}};function DatasetsClient(_e){this.request=_e.request.bind(_e)}Object.assign(DatasetsClient.prototype,{create(_e,et){return this._modify("PUT",_e,et)},edit(_e,et){return this._modify("PATCH",_e,et)},delete(_e){return this._modify("DELETE",_e)},list(){return this.request({uri:"/datasets"})},_modify(_e,et,tt){return dataset(et),this.request({method:_e,uri:`/datasets/${et}`,body:tt})}});var datasetsClient_default=DatasetsClient;function ProjectsClient(_e){this.client=_e}Object.assign(ProjectsClient.prototype,{list(){return this.client.request({uri:"/projects"})},getById(_e){return this.client.request({uri:`/projects/${_e}`})}});var projectsClient_default=ProjectsClient,queryString_default=_e=>{const et=[];for(const tt in _e)_e.hasOwnProperty(tt)&&et.push(`${encodeURIComponent(tt)}=${encodeURIComponent(_e[tt])}`);return et.length>0?`?${et.join("&")}`:""};function AssetsClient(_e){this.client=_e}function optionsFromFile(_e,et){return typeof window>"u"||!(et instanceof window.File)?_e:Object.assign({filename:_e.preserveFilename===!1?void 0:et.name,contentType:et.type},_e)}Object.assign(AssetsClient.prototype,{upload(_e,et,tt={}){validateAssetType(_e);let rt=tt.extract||void 0;rt&&!rt.length&&(rt=["none"]);const nt=hasDataset(this.client.clientConfig),it=_e==="image"?"images":"files",at=optionsFromFile(tt,et),{tag:ot,label:st,title:lt,description:ct,creditLine:ut,filename:dt,source:ft}=at,pt={label:st,title:lt,description:ct,filename:dt,meta:rt,creditLine:ut};ft&&(pt.sourceId=ft.id,pt.sourceName=ft.name,pt.sourceUrl=ft.url);const ht=this.client._requestObservable({tag:ot,method:"POST",timeout:at.timeout||0,uri:`/assets/${it}/${nt}`,headers:at.contentType?{"Content-Type":at.contentType}:{},query:pt,body:et});return this.client.isPromiseAPI()?lastValueFrom(ht.pipe(filter(yt=>yt.type==="response"),map(yt=>yt.body.document))):ht},delete(_e,et){console.warn("client.assets.delete() is deprecated, please use client.delete(<document-id>)");let tt=et||"";return/^(image|file)-/.test(tt)?_e._id&&(tt=_e._id):tt=`${_e}-${tt}`,hasDataset(this.client.clientConfig),this.client.delete(tt)},getImageUrl(_e,et){const tt=_e._ref||_e;if(typeof tt!="string")throw new Error("getImageUrl() needs either an object with a _ref, or a string with an asset document ID");if(!/^image-[A-Za-z0-9_]+-\d+x\d+-[a-z]{1,5}$/.test(tt))throw new Error(`Unsupported asset ID "${tt}". URL generation only works for auto-generated IDs.`);const[,rt,nt,it]=tt.split("-");hasDataset(this.client.clientConfig);const{projectId:at,dataset:ot}=this.client.clientConfig,st=et?queryString_default(et):"";return`https://cdn.sanity.io/images/${at}/${ot}/${rt}-${nt}.${it}${st}`}});var assetsClient_default=AssetsClient;function UsersClient(_e){this.client=_e}Object.assign(UsersClient.prototype,{getById(_e){return this.client.request({uri:`/users/${_e}`})}});var usersClient_default=UsersClient;function AuthClient(_e){this.client=_e}Object.assign(AuthClient.prototype,{getLoginProviders(){return this.client.request({uri:"/auth/providers"})},logout(){return this.client.request({uri:"/auth/logout",method:"POST"})}});var authClient_default=AuthClient,import_make_error=__toESM(require_make_error());function ClientError(_e){const et=extractErrorProps(_e);ClientError.super.call(this,et.message),Object.assign(this,et)}function ServerError(_e){const et=extractErrorProps(_e);ServerError.super.call(this,et.message),Object.assign(this,et)}function extractErrorProps(_e){const et=_e.body,tt={response:_e,statusCode:_e.statusCode,responseBody:stringifyBody(et,_e)};return et.error&&et.message?(tt.message=`${et.error} - ${et.message}`,tt):et.error&&et.error.description?(tt.message=et.error.description,tt.details=et.error,tt):(tt.message=et.error||et.message||httpErrorMessage(_e),tt)}function httpErrorMessage(_e){const et=_e.statusMessage?` ${_e.statusMessage}`:"";return`${_e.method}-request to ${_e.url} resulted in HTTP ${_e.statusCode}${et}`}function stringifyBody(_e,et){return(et.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(_e,null,2):_e}(0,import_make_error.default)(ClientError);(0,import_make_error.default)(ServerError);var browserMiddleware_default=[],httpError={onResponse:_e=>{if(_e.statusCode>=500)throw new ServerError(_e);if(_e.statusCode>=400)throw new ClientError(_e);return _e}},printWarnings={onResponse:_e=>{const et=_e.headers["x-sanity-warning"];return(Array.isArray(et)?et:[et]).filter(Boolean).forEach(rt=>console.warn(rt)),_e}},envSpecific=browserMiddleware_default,middleware=envSpecific.concat([printWarnings,jsonRequest_default(),jsonResponse_default(),browser_progress_default(),httpError,observable_default({implementation:Observable})]),request=getIt(middleware);function httpRequest(_e,et=request){return et(Object.assign({maxRedirects:0},_e))}httpRequest.defaultRequester=request;httpRequest.ClientError=ClientError;httpRequest.ServerError=ServerError;var request_default=httpRequest,projectHeader="X-Sanity-Project-ID",requestOptions_default=(_e,et={})=>{const tt={},rt=et.token||_e.token;rt&&(tt.Authorization=`Bearer ${rt}`),!et.useGlobalApi&&!_e.useProjectHostname&&_e.projectId&&(tt[projectHeader]=_e.projectId);const nt=!!(typeof et.withCredentials>"u"?_e.token||_e.withCredentials:et.withCredentials),it=typeof et.timeout>"u"?_e.timeout:et.timeout;return Object.assign({},et,{headers:Object.assign({},tt,et.headers||{}),timeout:typeof it>"u"?5*60*1e3:it,proxy:et.proxy||_e.proxy,json:!0,withCredentials:nt})},BASE_URL="https://docs.sanity.io/help/";function generateHelpUrl(_e){return BASE_URL+_e}var once_default=_e=>{let et=!1,tt;return(...rt)=>(et||(tt=_e(...rt),et=!0),tt)},createWarningPrinter=_e=>once_default((...et)=>console.warn(_e.join(" "),...et)),printCdnWarning=createWarningPrinter(["You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and",`cheaper. Think about it! For more info, see ${generateHelpUrl("js-client-cdn-configuration")}.`,"To hide this warning, please set the `useCdn` option to either `true` or `false` when creating","the client."]),printBrowserTokenWarning=createWarningPrinter(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${generateHelpUrl("js-client-browser-token")} for more information and how to hide this warning.`]),printNoApiVersionSpecifiedWarning=createWarningPrinter(["Using the Sanity client without specifying an API version is deprecated.",`See ${generateHelpUrl("js-client-api-version")}`]),defaultCdnHost="apicdn.sanity.io",defaultConfig={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,isPromiseAPI:!0},LOCALHOSTS=["localhost","127.0.0.1","0.0.0.0"],isLocal=_e=>LOCALHOSTS.indexOf(_e)!==-1,validateApiVersion=function _e(et){if(et==="1"||et==="X")return;const tt=new Date(et);if(!(/^\d{4}-\d{2}-\d{2}$/.test(et)&&tt instanceof Date&&tt.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")},initConfig=(_e,et)=>{const tt=Object.assign({},et,_e);tt.apiVersion||printNoApiVersionSpecifiedWarning();const rt=Object.assign({},defaultConfig,tt),nt=rt.useProjectHostname;if(typeof Promise>"u"){const ut=generateHelpUrl("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${ut}`)}if(nt&&!rt.projectId)throw new Error("Configuration must contain `projectId`");const it=typeof window<"u"&&window.location&&window.location.hostname,at=it&&isLocal(window.location.hostname);it&&at&&rt.token&&rt.ignoreBrowserTokenWarning!==!0?printBrowserTokenWarning():typeof rt.useCdn>"u"&&printCdnWarning(),nt&&projectId(rt.projectId),rt.dataset&&dataset(rt.dataset),"requestTagPrefix"in rt&&(rt.requestTagPrefix=rt.requestTagPrefix?requestTag(rt.requestTagPrefix).replace(/\.+$/,""):void 0),rt.apiVersion=`${rt.apiVersion}`.replace(/^v/,""),rt.isDefaultApi=rt.apiHost===defaultConfig.apiHost,rt.useCdn=!!rt.useCdn&&!rt.withCredentials,validateApiVersion(rt.apiVersion);const ot=rt.apiHost.split("://",2),st=ot[0],lt=ot[1],ct=rt.isDefaultApi?defaultCdnHost:lt;return rt.useProjectHostname?(rt.url=`${st}://${rt.projectId}.${lt}/v${rt.apiVersion}`,rt.cdnUrl=`${st}://${rt.projectId}.${ct}/v${rt.apiVersion}`):(rt.url=`${rt.apiHost}/v${rt.apiVersion}`,rt.cdnUrl=rt.url),rt};function SanityClient(_e=defaultConfig){if(!(this instanceof SanityClient))return new SanityClient(_e);if(this.config(_e),this.assets=new assetsClient_default(this),this.datasets=new datasetsClient_default(this),this.projects=new projectsClient_default(this),this.users=new usersClient_default(this),this.auth=new authClient_default(this),this.clientConfig.isPromiseAPI){const et=Object.assign({},this.clientConfig,{isPromiseAPI:!1});this.observable=new SanityClient(et)}}Object.assign(SanityClient.prototype,dataMethods_default);Object.assign(SanityClient.prototype,{clone(){return new SanityClient(this.config())},config(_e){if(typeof _e>"u")return Object.assign({},this.clientConfig);if(this.clientConfig&&this.clientConfig.allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");if(this.observable){const et=Object.assign({},_e,{isPromiseAPI:!1});this.observable.config(et)}return this.clientConfig=initConfig(_e,this.clientConfig||{}),this},withConfig(_e){return new SanityClient({...this.config(),..._e})},getUrl(_e,et=!1){return`${et?this.clientConfig.cdnUrl:this.clientConfig.url}/${_e.replace(/^\//,"")}`},isPromiseAPI(){return this.clientConfig.isPromiseAPI},_requestObservable(_e){const et=_e.url||_e.uri,tt=typeof _e.canUseCdn>"u"?["GET","HEAD"].indexOf(_e.method||"GET")>=0&&et.indexOf("/data/")===0:_e.canUseCdn,rt=this.clientConfig.useCdn&&tt,nt=_e.tag&&this.clientConfig.requestTagPrefix?[this.clientConfig.requestTagPrefix,_e.tag].join("."):_e.tag||this.clientConfig.requestTagPrefix;nt&&(_e.query={tag:requestTag(nt),..._e.query});const it=requestOptions_default(this.clientConfig,Object.assign({},_e,{url:this.getUrl(et,rt)}));return new Observable(at=>request_default(it,this.clientConfig.requester).subscribe(at))},request(_e){const et=this._requestObservable(_e).pipe(filter(tt=>tt.type==="response"),map(tt=>tt.body));return this.isPromiseAPI()?lastValueFrom(et):et}});SanityClient.Patch=patch_default;SanityClient.Transaction=transaction_default;SanityClient.ClientError=request_default.ClientError;SanityClient.ServerError=request_default.ServerError;SanityClient.requester=request_default.defaultRequester;var sanityClient_default=SanityClient;/*! Bundled license information:

event-source-polyfill/src/eventsource.js:
  (** @license
   * eventsource.js
   * Available under MIT License (MIT)
   * https://github.com/Yaffle/EventSource/
   *)
*/const sanityConfig={projectId:"el2u1fuu",dataset:"book-prod",apiVersion:"2023-08-11",useCdn:!0};function createSanityClient(){return sanityClient_default(sanityConfig)}class GeolocationServiceImpl{constructor(et){kr(this,"baseUrl","https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer");this.arcgisToken=et}async suggestLocations(et){const tt=new URL(this.baseUrl+"/suggest");tt.searchParams.set("token",this.arcgisToken),tt.searchParams.set("f","json"),tt.searchParams.set("countryCode","USA"),tt.searchParams.set("categories","address"),tt.searchParams.set("text",et);const rt=await fetch(tt);if(rt.ok)return(await rt.json()).suggestions;throw new Error(await rt.text())}async getAddressCandidate(et){const tt=new URL(this.baseUrl+"/findAddressCandidates");tt.searchParams.set("token",this.arcgisToken),tt.searchParams.set("f","json"),tt.searchParams.set("SingleLine",et),tt.searchParams.set("outFields","Region,RegionAbbr,City,StAddr,Postal");const rt=await fetch(tt);if(rt.ok){const nt=await rt.json();if(nt.candidates[0]){const it=nt.candidates[0];return{address:it.address,location:it.location,attributes:{state:it.attributes.Region,stateAbbreviation:it.attributes.RegionAbbr,city:it.attributes.City,streetAddress:it.attributes.StAddr,zip:it.attributes.Postal}}}return null}throw new Error(await rt.text())}}class LocalCueRepository{constructor(et){this.localStore=et}getKey(et){return getLocalStoreKey(["@remento/cue-repository",et])}isDismissed(et){return this.localStore.getItem(this.getKey(et))??!1}dismiss(et){this.localStore.setItem(this.getKey(et),!0)}reset(et){this.localStore.removeItem(this.getKey(et))}}const DIALOG_SHOWN_KEY="dialog-shown";class LocalOnboardingDialogRepository{constructor(et){this.sessionStore=et}setOnboardingDialogShown(et){this.sessionStore.setItem(DIALOG_SHOWN_KEY,et)}isOnboardingDialogPermitted(){return this.sessionStore.getItem(DIALOG_SHOWN_KEY)??!1}}class DefaultOnboardingDialogService{constructor(et,tt,rt,nt,it,at,ot,st){this.repository=et,this.userService=tt,this.projectCacheService=rt,this.aclCacheService=nt,this.authorizationService=it,this.onboardingDialogs=at,this.defaultRoutesAllowlist=ot,this.disabled=st}isOnboardingDialogAvailable(){return this.repository.isOnboardingDialogPermitted()}async getNextOnboardingDialog(et,tt){var ot,st;if(this.disabled)return null;const rt=await this.userService.getUser();if(rt==null)return null;const nt=await this.aclCacheService.getCurrentUserAclGroupMembers(),it=await Promise.all(nt.map(lt=>this.aclCacheService.getAclGroupMember(lt))),at=this.authorizationService.getTokenPermissions();for(const lt of this.onboardingDialogs){if((((ot=rt.onboardingHistory[lt.id])==null?void 0:ot.done)??!1)==!0)continue;if(((st=lt.requiredRoles)==null?void 0:st[EntityType.PROJECT])!=null){if(tt==null)continue;const dt=await this.projectCacheService.getProject(tt);if(dt==null)throw new NotFoundError("project-not-found",{origin:"entity",entityType:EntityType.PROJECT,entityId:tt});const ft=it.filter(notNull).filter(gt=>gt.groupRefIds.some(vt=>dt.acl.includes(vt))).map(gt=>gt.role),pt=dt.acl.map(gt=>at[gt]).filter(notNull),ht=Array.from(new Set([...ft,...pt])),yt=lt.requiredRoles[EntityType.PROJECT];if(hasRole(yt,ht)==!1)continue}if(!(lt.shouldShow!=null&&await lt.shouldShow(rt)!=!0||lt.routesBlocklist!=null&&lt.routesBlocklist.length>0&&lt.routesBlocklist.includes(et)||(lt.routesAllowlist!=null&&lt.routesAllowlist.length>0?lt.routesAllowlist:this.defaultRoutesAllowlist).includes(et)==!1))return lt}return null}async updateOnboardingDialogHistory(et,tt){await this.userService.updateOnboardingHistory(et,tt),this.repository.setOnboardingDialogShown(!0)}}class RedirectServiceImpl{constructor(et,tt){kr(this,"logger",createLogger("redirect-service"));this.localStore=et,this.pathBasename=tt}async registerRedirect(et,tt){this.logger.debug("REGISTER_REDIRECT",()=>({action:et,path:tt}));let rt=tt;this.pathBasename.length>0&&rt.startsWith(this.pathBasename)&&(rt=rt.substring(this.pathBasename.length)),this.localStore.setItem(et,rt)}async consumeRedirect(et){const tt=this.localStore.getItem(et);return this.localStore.removeItem(et),this.logger.debug("CONSUME_REDIRECT",()=>({action:et,redirect:tt})),tt}async clearAllRedirects(){this.logger.debug("CLEAR_ALL_REDIRECTS"),this.localStore.clear()}}const IMPERSONATED_SESSION_KEY="impersonated-session",LAST_ACCESSED_PROJECT="last-accessed-project";class LocalUserSessionService{constructor(et){this.localStore=et}setImpersonatedSession(et){if(et){this.localStore.setItem(IMPERSONATED_SESSION_KEY,"true");return}this.localStore.removeItem(IMPERSONATED_SESSION_KEY)}isSessionImpersonated(){return this.localStore.getItem(IMPERSONATED_SESSION_KEY)==="true"}setLastAccessedProjectId(et){this.localStore.setItem(LAST_ACCESSED_PROJECT,et)}getLastAccessedProjectId(){return this.localStore.getItem(LAST_ACCESSED_PROJECT)}}let sessionStorageRepository;typeof window>"u"?sessionStorageRepository=new LocalMemoryStoreRepository:sessionStorageRepository=new LocalSessionStoreRepository;const DATADOG_TRACING_BLOCKLIST=[RoutePath.BookCover,RoutePath.BookGutsCover,RoutePath.BookTableOfContents,RoutePath.BookStoryContent,RoutePath.GiftCard],activeRoute=getRouteFromPathname(getPathname());let datadogTracingService;activeRoute==null||!DATADOG_TRACING_BLOCKLIST.includes(activeRoute)?datadogTracingService=new DefaultDatadogTracingService(new LocalStoreRepositoryWrapper("@remento/tracing",sessionStorageRepository),{apiHost:"www.remento.co",apiPath:"/api/dd",applicationId:"7ef20e73-b483-45b3-adb7-ea926c31ff69",clientToken:"pub2635ca1a364a1a7f8059f6056bf4858e",site:"us5.datadoghq.com",env:"production",service:"remento-book-webapp",throttledErrors:["unauthorized","forbidden","invalid-acl-token","Connection to Indexed Database server lost","Failed to store record in an IDBObjectStore","Importing a module script failed"],ignoredErrors:["play()","The play method is not allowed by the user agent or the platform","Permission was denied","The operation was aborted","Load failed","Network error","Failed to fetch","NetworkError when attempting to fetch resource","Script error","story-not-found","WisePops","Error (auth/network-request-failed)","CanceledError: canceled","AxiosError: timeout exceeded","The fetching process for the media resource was aborted","prompt-not-found","Wake Lock permission request denied","Failed to execute 'request' on 'WakeLock'","Document is hidden"]}):datadogTracingService=new NoopDatadogTracingService;const REDIRECT_LOCAL_STORE_PREFIX="@remento/redirects",USER_COOKIE_NAME="book-webapp-user",USER_COOKIE_DOMAIN=window.location.hostname.includes("remento.co")?"remento.co":window.location.hostname,MIGRATION_TOKEN_COOKIE_NAME="ro_book_webapp_migration_token",logger$1=createLogger("services");async function createServices(){logger$1.debug("SERVICES.CREATE");const _e=new LocalPersistentStoreRepository(new Set([AUTH_STATE_KEY,AUTH_PENDING_TRANSITION_KEY,AB_TEST_REPOSITORY_KEY]),[REDIRECT_LOCAL_STORE_PREFIX,PROJECT_CHECKOUT_FORM_REPOSITORY_PREFIX]),et=new LocalSessionStoreRepository(new Set([])),tt=1e3*60*60*24*7,rt=new QueryClient({defaultOptions:{queries:{networkMode:"always",throwOnError:!0,retry:(Sr,Hr)=>Hr instanceof RementoError&&Hr.retriable?Sr<3:!1,gcTime:tt,staleTime:tt}}}),nt=new BrowserDataServiceImpl(_e,{persistent:_e,session:et}),it=new AuthRepositoryImpl(_e),at=new AuthServiceImpl(auth,nt,et,_e,it,rt,"");await at.initialize(),logger$1.debug("AUTH.INITIALIZED");const ot=new DefaultAuthorizationService(at,new LocalStoreRepositoryWrapper("@remento/authorization",et)),st=new EntityCacheManagerServiceImpl(rt,at,ot);await st.initialize({[EntityType.PROMPT]:new OptimisticPromptMutationManager(st)});const lt=new DefaultPersonService(ot),ct=new DefaultPersonCacheService(lt,st,rt),ut=new UserServiceImpl(at,ot,st,ct);ut.onUserChanged(async Sr=>{var Hr;if(Sr==null){api$2.remove(USER_COOKIE_NAME,{domain:USER_COOKIE_DOMAIN});return}try{const Qr=await ct.getPerson(Sr.personId);api$2.set(USER_COOKIE_NAME,JSON.stringify({ruid:Sr.ruid,email:Sr.communicationChannels.email,name:((Hr=Qr==null?void 0:Qr.name)==null?void 0:Hr.full)??null}),{expires:365,domain:USER_COOKIE_DOMAIN})}catch(Qr){captureException(Qr,!0)}}),await ut.initialize();const dt=new LocalUserSessionService(new LocalStoreRepositoryWrapper("@remento/user-session",_e));getQueryParam("impersonated-session")==="true"&&dt.setImpersonatedSession(!0);const ft=new ABTestLocalRepository,pt=new DefaultABTestService(BOOK_AB_TEST_RULES,{...ft.get(),...parseABTestQueryParamOverrides(new URLSearchParams(window.location.search),BOOK_AB_TEST_RULES)},!0),ht=await createAnalyticsServicesInstances(at,ut,dt,ct,datadogTracingService,pt),yt=pt.getAllUserVariants(ht.browserAnalytics.getUser().id,navigator.userAgent);ft.save(yt),pt.addOverrides(yt),api.interceptors.request.use(Sr=>{const Hr=createABTestHeaders(yt);return Sr.headers=AxiosHeaders.concat(Sr.headers,Hr),Sr});const mt=new GeolocationServiceImpl(""),gt=new LocalCueRepository(_e),vt=new RedirectServiceImpl(new LocalStoreRepositoryWrapper(REDIRECT_LOCAL_STORE_PREFIX,_e),""),St=new DefaultAssetService(at,ot),xt=new DefaultAssetCacheService(St,st,rt),Ct=new DefaultRecordingSessionService(St),wt=new LocalInterviewSessionRepository(_e),_t=wt.getOldInterviewSessions(),Ot=new IdbPartitionQueueRepository;_t.forEach(async Sr=>{try{await Ot.clear(Sr),wt.deleteInterviewSession(Sr)}catch(Hr){captureException(Hr)}});const kt=createSanityClient(),Lt=new PromptTemplateServiceImpl(kt),$t=new PromptTemplateTagsServiceImpl(kt),zt=new MarketingSourceServiceImpl(kt),Vt=new OnboardingServiceImpl(kt),Ut=new ConversionQuestionnaireServiceImpl(kt),It=new SanityResourceArticleService(kt),Dt=new SanityMarketingOfferService(kt),Tt=new DefaultStoryService(ot),Rt=new DefaultStoryCacheService(Tt,st,rt,xt),Ft=new DefaultReactionService(ot),jt=new DefaultReactionCacheService(Ft,st,rt),nr=new DefaultProjectService(ot),cr=new DefaultProjectCacheService(nr,st,rt),ur=new DefaultProjectBannerService(ct,ut,new LocalStoreRepositoryWrapper(PROJECT_BANNER_STORE_PREFIX,_e),new LocalStoreRepositoryWrapper(PROJECT_BANNER_STORE_PREFIX,et)),pr=new DefaultBookService(ot),xr=new DefaultBookCacheService(pr,st,rt),vr=new DefaultRecordingService(ot),Br=new DefaultRecordingCacheService(vr,st,rt),mr=new DefaultUserCacheService(ut,st,rt),Ir=new DefaultCheckoutService(ot),br=new DefaultAclService(ot),Tr=new DefaultAclCacheService(br,st,rt),Vr=new LocalPollAnonymousVoteRepository(new LocalStoreRepositoryWrapper("@remento/poll-anonymous-votes",_e)),yr=new DefaultPollService(Vr,ot,ut),rn=new DefaultPollCacheService(yr,st,rt,Vr,ut,ct),ar=new DefaultRecordingSessionRepository(new LocalStoreRepositoryWrapper("@remento/recording-session-repository",et));ut.onUserChanged(Sr=>{Sr!=null&&rn.associateAnonymousPollVotes().catch(Hr=>captureException(Hr,!0))});const Er=new LocalOnboardingDialogRepository(new LocalStoreRepositoryWrapper("@remento/onboarding-dialog",et)),_r=new DefaultOnboardingDialogService(Er,ut,cr,Tr,ot,onboardingDialogs,ONBOARDING_DIALOG_ALLOWLIST,dt.isSessionImpersonated()),gr=new DefaultReferralService(ot),qr=new DefaultPublicRecordingService(ot);return{geolocationService:mt,authorizationService:ot,authService:at,userService:ut,userCacheService:mr,userSessionService:dt,browserDataService:nt,datadogTracingService,...ht,sessionStorageRepository:et,localStorageRepository:_e,cueRepository:gt,redirectService:vt,recordingSessionService:Ct,interviewSessionRepository:wt,promptTemplateService:Lt,promptTemplateTagService:$t,marketingSourceService:zt,onboardingService:Vt,conversionQuestionnaireService:Ut,resourceArticleService:It,marketingOfferService:Dt,queryClient:rt,entityCacheManagerService:st,projectService:nr,projectCacheService:cr,projectBannerService:ur,personService:lt,personCacheService:ct,assetService:St,assetCacheService:xt,bookService:pr,bookCacheService:xr,storyService:Tt,storyCacheService:Rt,recordingService:vr,recordingCacheService:Br,recordingSessionRepository:ar,checkoutService:Ir,aclService:br,aclCacheService:Tr,reactionService:Ft,reactionCacheService:jt,pollService:yr,pollCacheService:rn,onboardingDialogRepository:Er,onboardingDialogService:_r,referralService:gr,abTestService:pt,publicRecordingService:qr}}const ServicesContext=reactExports.createContext(void 0);function ServicesProvider({services:_e,children:et}){return jsxRuntimeExports.jsx(ServicesContext.Provider,{value:_e,children:jsxRuntimeExports.jsx(QueryClientProvider,{client:_e.queryClient,children:et})})}function useServices(){const _e=reactExports.useContext(ServicesContext);if(!_e)throw new Error("ServicesProvider must be used inside ServicesContext");return _e}function getOnboardingIntroPath(){return RoutePath.OnboardingIntro}function getSetupPromptTypeSelectionPath(_e){return RoutePath.SetupPromptTypeSelection.replace(":projectId",_e)}function getSetupTextPromptSelectionPath(_e){return RoutePath.SetupTextPromptSelection.replace(":projectId",_e)}function getSetupPromptsReviewPath(_e){return RoutePath.SetupPromptsReview.replace(":projectId",_e)}function getSetupPromptsFrequencyPath(_e){return RoutePath.SetupPromptsFrequency.replace(":projectId",_e)}function getSetupPerspectivePath(_e){return RoutePath.SetupPerspective.replace(":projectId",_e)}function getSetupCollaboratorsPath(_e){return RoutePath.SetupCollaborators.replace(":projectId",_e)}function getCheckoutPath(){return RoutePath.Checkout}function getCheckoutAudiencePath(_e="biography"){return _e==="biography"?RoutePath.CheckoutBiographyAudience:RoutePath.CheckoutBabyAudience}function getCheckoutBiographyDeliveryPath(){return RoutePath.CheckoutBiographyDelivery}function getCheckoutAutobiographyContactPath(){return RoutePath.CheckoutAutobiographyContact}function getCheckoutBabyHostPath(){return RoutePath.CheckoutBabyHost}function getCheckoutGiftPath(_e){const et=RoutePath.CheckoutGift;return _e?et+"?skip-project-type=true":et}function getCheckoutFreeDetails(_e,et){let tt=RoutePath.CheckoutFreeDetails;return tt+=`?recipient-person-id=${_e}`,tt+=`&subscription-owner-person-id=${et}`,tt}function getCheckoutGetStartedPath(_e){const et=RoutePath.CheckoutGetStarted;return _e?et+"?"+_e.toString():et}function getNewProjectPath(){return RoutePath.NewProject}function getQuestionsPath(_e){return RoutePath.Questions.replace(":projectId",_e)}function getStoriesPath(_e,et){const tt=RoutePath.Stories.replace(":projectId",_e);return et?tt+"?"+et.toString():tt}function getStandaloneStoryViewPath(_e,et){return RoutePath.StoryStandalone.replace(":storyId",_e)}function getStoryViewPath(_e,et,tt){return RoutePath.Story.replace(":projectId",_e).replace(":storyId",et)}function getProjectHomePath(_e){return RoutePath.ProjectHome.replace(":projectId",_e)}function getProjectPromptsPath(_e,et){const tt=RoutePath.Questions.replace(":projectId",_e),rt=new URLSearchParams;return et!=null&&et.openPromptPicker&&rt.set("openPromptPicker","true"),et!=null&&et.promptPickerInitialStep&&rt.set("promptPickerInitialStep",et.promptPickerInitialStep),et!=null&&et.openPollCreator&&rt.set("openPollCreator","true"),rt.size>0?tt+"?"+rt.toString():tt}function getProjectSettingsPath(_e,et){const tt=RoutePath.ProjectSettings.replace(":projectId",_e);return(et==null?void 0:et.openPerspectiveSettings)==!0?tt+"?open-perspective-settings=true":(et==null?void 0:et.openPromptSettings)==!0?tt+"?open-prompt-settings=true":tt}function getBookOrderCoverDesignPath(_e,et){return RoutePath.BookOrderCoverDesign.replace(":projectId",_e).replace(":bookId",et)}function getBookOrderStoriesPath(_e,et){return RoutePath.BookOrderStories.replace(":projectId",_e).replace(":bookId",et)}function getBookOrderPreviewPath(_e,et){return RoutePath.BookOrderPreview.replace(":projectId",_e).replace(":bookId",et)}function getBookOrderQuantityPath(_e,et){return RoutePath.BookOrderQuantity.replace(":projectId",_e).replace(":bookId",et)}function getBookOrderFinalizePath(_e,et){return RoutePath.BookOrderFinalize.replace(":projectId",_e).replace(":bookId",et)}function getBookReorderPreviewPath(_e,et){return RoutePath.BookReorderPreview.replace(":projectId",_e).replace(":bookOrderId",et)}function getBookReorderQuantityPath(_e,et){return RoutePath.BookReorderQuantity.replace(":projectId",_e).replace(":bookOrderId",et)}function getBookReorderFinalizePath(_e,et){return RoutePath.BookReorderFinalize.replace(":projectId",_e).replace(":bookOrderId",et)}function getSigninPath(_e){const et=new URLSearchParams;return _e!=null&&_e.backupLocalData&&et.set("backup-local-data","true"),_e!=null&&_e.defaultEmail&&et.set("fallback-signin-email",_e.defaultEmail),et.size>0?RoutePath.Signin+"?"+et.toString():RoutePath.Signin}function getInviteSigninPath(_e){const et=new URLSearchParams;return et.set("backup-local-data","true"),_e!=null&&_e.defaultEmail&&et.set("fallback-signin-email",_e.defaultEmail),_e!=null&&_e.inviteToken&&et.set("inviteToken",_e.inviteToken),et.size>0?RoutePath.InviteSignin+"?"+et.toString():RoutePath.InviteSignin}function getSignoutPath(){return RoutePath.Signout}function getRecordingIntroPath(_e,et,tt){const rt=RoutePath.RecordingIntro.replace(":projectId",_e).replace(":promptId",et);return tt?rt+"?"+tt.toString():rt}function getRecordingTypeSelectionPath(_e,et,tt,rt){const nt=RoutePath.RecordingTypeSelection.replace(":projectId",_e).replace(":promptId",et),it=new URLSearchParams(rt);return it.set("step",tt),nt+"?"+it.toString()}function getRecordingPath(_e){const et=RoutePath.Recording.replace(":projectId",_e.projectId).replace(":promptId",_e.promptId),tt=new URLSearchParams(_e.customParams);return tt.set("type",_e.type),_e.catchup==!0&&(tt.set("catchup-recording","true"),tt.set("referrer","project-record")),et+"?"+tt.toString()}function getRecordingTryOutPath(_e){const et=_e.isPractice?RoutePath.RecordingPractice:RoutePath.RecordingTryOut,tt=new URLSearchParams(_e.customParams);return tt.set("try-out-step",_e.step),_e.type!=null&&tt.set("type",_e.type),et+"?"+tt.toString()}function getAccountSettingsPath(_e,et){const tt=new URLSearchParams;return _e&&tt.set("open-manage-subscription","true"),et&&tt.set("resume-subscription","true"),RoutePath.AccountSettings+"?"+tt.toString()}function getAccountReactivatePath(){return RoutePath.AccountReactivate}function getAccountRenewPromoPath(){return RoutePath.AccountRenewPromo}function getSubscriptionCancelledSurveyPath(){return RoutePath.SubscriptionCancelledSurvey}function getRecordingPromptRecordedPath(_e,et){return RoutePath.RecordingPromptRecorded.replace(":projectId",_e).replace(":promptId",et)}function getRecordingPaywallPath(_e,et){return RoutePath.RecordingPaywall.replace(":projectId",_e).replace(":promptId",et)}function getRecordingRecoveryPath(){return RoutePath.RecordingRecovery}function getProjectRecordPath(_e,et,tt){const rt=RoutePath.ProjectRecord.replace(":projectId",_e);let nt=null;return tt!=null&&(nt=tt),et!=null&&(nt=new URLSearchParams(tt),nt.set("referrer",et)),nt!=null?rt+"?"+nt.toString():rt}function getProjectRecordCustomizePath(_e,et){const tt=RoutePath.ProjectRecordCustomize.replace(":projectId",_e);return et?tt+"?"+et.toString():tt}function getHighlightReelPath(_e){return RoutePath.StoryHighlightReel.replace(":storyId",_e)}function getQuestionnairePath(_e,et){return RoutePath.Questionnaire.replace(":name",_e).replace(":state",et)}function getRecordingFinishPath(_e,et){const tt=RoutePath.RecordingFinish.replace(":projectId",_e);return et?tt+"?"+et.toString():tt}function useNextOnboardingDialog(){const{onboardingDialogService:_e}=useServices(),{pathname:et}=useLocation(),[tt,rt]=reactExports.useState(null),nt=useUser(),it=useNavbarStore(),at=useNavbarProjectId(it),ot=reactExports.useMemo(()=>getRouteFromPathname(et),[et]);return useAsyncEffect(async st=>{if(nt==null||at==null||ot==null){rt(null);return}const lt=await _e.getNextOnboardingDialog(ot,at);st(),rt(lt)},[_e,at,ot,nt]),tt}const logger=createLogger("onboarding-dialog-container");function DefaultOnboardingDialogContainer({id:_e,title:et,content:tt,actionLabel:rt}){const{onboardingDialogService:nt}=useServices(),it=useNavigate(),at=useNavbarStore(),ot=useNavbarProjectId(at),st=reactExports.useCallback(async()=>{try{await nt.updateOnboardingDialogHistory(_e)}catch(ct){captureException(ct,!0),toast("An unexpected error has occurred.","root-toast","error")}},[_e,nt]),lt=reactExports.useCallback(async()=>{try{switch(await nt.updateOnboardingDialogHistory(_e),_e){case UserOnboardingActionType.STORY_PERSPECTIVE_SETTINGS_VIEWED:{if(ot==null){logger.error("PROJECT_ID_NOT_FOUND");return}it(getProjectSettingsPath(ot,{openPerspectiveSettings:!0}));break}default:break}}catch(ct){captureException(ct,!0),toast("An unexpected error has occurred.","root-toast","error")}},[_e,it,nt,ot]);return jsxRuntimeExports.jsx(RMDialog.Root,{open:!0,onClose:st,children:jsxRuntimeExports.jsxs(RMDialog.Content,{children:[jsxRuntimeExports.jsx(RMDialog.Header,{title:et,rightAdornment:jsxRuntimeExports.jsx(RMCloseButton,{onClick:st})}),jsxRuntimeExports.jsx(RMDialog.Body,{children:jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xs",color:"on-surface-primary",children:tt})}),jsxRuntimeExports.jsx(RMDialog.Footer,{children:jsxRuntimeExports.jsx(RMButton,{background:"primary",fullWidth:!0,autoLoading:!0,onClick:lt,children:rt})})]})})}function CustomOnboardingDialogContainer({id:_e,render:et}){const{onboardingDialogService:tt}=useServices(),rt=reactExports.useCallback(async()=>{await tt.updateOnboardingDialogHistory(_e)},[_e,tt]),nt=document.getElementById("dialog");return nt?reactDomExports.createPortal(et({onSetOnboardingDone:rt}),nt):(console.error("Missing portal root for dialog"),null)}function OnboardingDialogContainer(){const{onboardingDialogService:_e}=useServices(),et=useNextOnboardingDialog();return et==null||_e.isOnboardingDialogAvailable()?null:et.dialogType==="default"?jsxRuntimeExports.jsx(DefaultOnboardingDialogContainer,{id:et.id,title:et.title,content:et.content,actionLabel:et.actionLabel}):jsxRuntimeExports.jsx(CustomOnboardingDialogContainer,{id:et.id,render:et.render})}function useReferralLink(){const{referralService:_e}=useServices(),et=useUser();return useQuery({queryKey:["referral-link"],queryFn:async({signal:tt})=>{const{link:rt}=await _e.getReferralLink({signal:tt});return rt},enabled:et!=null})}async function writeToClipboard(_e){if(typeof window.ClipboardItem>"u"){await navigator.clipboard.writeText(await _e);return}let et;typeof _e!="string"?et=_e.then(tt=>new Blob([tt],{type:"text/plain"})):et=new Blob([_e],{type:"text/plain"}),await navigator.clipboard.write([new ClipboardItem({"text/plain":et})])}function canOpenShareSheet(_e){return navigator.share==null?!1:navigator.canShare==null?!0:isDesktopDevice()?!1:typeof _e.url!="string"?!0:navigator.canShare({title:_e.title,url:_e.url})}async function openShareSheet(_e){if(!canOpenShareSheet(_e))return await writeToClipboard(_e.url),"copied-to-clipboard";try{return await navigator.share({title:_e.title,text:_e.text,url:await _e.url}),"shared"}catch(et){if(et instanceof Error&&et.name=="AbortError")return"aborted";throw et}}function showShareSheetToast(_e,et="Link copied to clipboard"){switch(_e){case"copied-to-clipboard":{toast(et);break}}}const ImageSrc="/app/book/assets/referral-dialog-DmVjN6Qb.webp",_exp$7=()=>_e=>_e.direction==="column"?`var(--spacing-${_e.spacing})`:"0",_exp2$4=()=>_e=>_e.direction==="row"?`var(--spacing-${_e.spacing})`:"0",RMSpacer=styled_default("div")({name:"RMSpacer",class:"RMSpacer_rsaumqu",propsAsIs:!1,vars:{"rsaumqu-0":[_exp$7()],"rsaumqu-1":[_exp2$4()]}});function isBrowser(_e){const{userAgent:et}=window.navigator,tt=et.toLowerCase();let rt="";return/firefox/.test(tt)?rt="firefox":/samsungbrowser/.test(tt)?rt="samsung":/opera/.test(tt)||/opr/.test(tt)?rt="opera":/trident/.test(tt)?rt="ie":/edge/.test(tt)?rt="edge":/chrome/.test(tt)?rt="chrome":/safari/.test(tt)?rt="safari":rt="unknown",rt===_e}const _exp$6=()=>_e=>_e.readOnly?"var(--spacing-sm)":"var(--spacing-xs)",_exp2$3=()=>_e=>_e.disabled?.5:1,InputContainer=styled_default("div")({name:"InputContainer",class:"InputContainer_i1uvyis1",propsAsIs:!1,vars:{"i1uvyis1-0":[_exp$6()],"i1uvyis1-1":[_exp2$3()]}}),InputLabel=styled_default("label")({name:"InputLabel",class:"InputLabel_il3lkx6",propsAsIs:!1});function getBorderColor({error:_e,focused:et=!1,hovered:tt=!1}){return _e?"1px solid var(--danger)":et?"1px solid var(--border-primary)":tt?"1px solid var(--border-stronger)":"1px solid var(--on-surface-tertiary)"}const InputWrapper=styled_default("div")({name:"InputWrapper",class:"InputWrapper_i1ewpiil",propsAsIs:!1}),_exp3$2=()=>_e=>_e.icon?"calc(2.5rem + 1px)":"calc(var(--spacing-md) + 1px)",_exp4$2=()=>({error:_e})=>getBorderColor({error:_e}),_exp5$2=()=>_e=>`var(--font-${_e.fontFamily})`,_exp6$1=()=>({error:_e})=>getBorderColor({error:_e,hovered:!0}),_exp7=()=>_e=>_e.icon?"2.5rem":"var(--spacing-md)",_exp8=()=>({error:_e})=>getBorderColor({error:_e,focused:!0}),Input$1=styled_default("input")({name:"Input",class:"Input_iceefdf",propsAsIs:!1,vars:{"iceefdf-0":[_exp3$2()],"iceefdf-1":[_exp4$2()],"iceefdf-2":[_exp5$2()],"iceefdf-3":[_exp6$1()],"iceefdf-4":[_exp7()],"iceefdf-5":[_exp8()]}}),_exp9=()=>({error:_e})=>getBorderColor({error:_e}),_exp10=()=>_e=>`var(--font-${_e.fontFamily})`,_exp11=()=>({error:_e})=>getBorderColor({error:_e,hovered:!0}),_exp12=()=>({error:_e})=>getBorderColor({error:_e,focused:!0}),TextArea=styled_default("textarea")({name:"TextArea",class:"TextArea_tt2k0er",propsAsIs:!1,vars:{"tt2k0er-0":[_exp9()],"tt2k0er-1":[_exp10()],"tt2k0er-2":[_exp11()],"tt2k0er-3":[_exp12()]}}),InputError=styled_default("span")({name:"InputError",class:"InputError_intsbgk",propsAsIs:!1}),_exp13=()=>FontAwesomeIcon,Icon$2=styled_default(_exp13())({name:"Icon",class:"Icon_imncdml",propsAsIs:!0}),_exp14=()=>FontAwesomeIcon,DateIcon=styled_default(_exp14())({name:"DateIcon",class:"DateIcon_db4a9nh",propsAsIs:!0}),RMInput=reactExports.forwardRef(({id:_e,type:et,label:tt,error:rt,disabled:nt,textarea:it,fontFamily:at="sans",icon:ot,validation:st=!0,...lt},ct)=>{const ut=useIsMobileViewport(),dt=isBrowser("firefox"),ft=isBrowser("safari"),[pt,ht]=reactExports.useState(0),yt=gt=>{gt!=null&&gt.value?ht((gt==null?void 0:gt.scrollHeight)??0):ht(0)},mt=reactExports.useCallback(gt=>{if(ct!==null&&(typeof ct=="function"?ct(gt):ct.current=gt),it){const vt=gt;setTimeout(()=>yt(vt))}},[ct,it]);return jsxRuntimeExports.jsxs(InputContainer,{disabled:nt,readOnly:lt.readOnly,children:[tt&&jsxRuntimeExports.jsx(InputLabel,{htmlFor:_e,children:tt}),jsxRuntimeExports.jsxs(InputWrapper,{children:[ot&&jsxRuntimeExports.jsx(Icon$2,{icon:ot}),it?jsxRuntimeExports.jsx(TextArea,{...lt,id:_e,className:lt.className,ref:mt,error:st&&!!rt,disabled:nt,fontFamily:at,icon:!!ot,style:{height:pt},onChange:gt=>{var vt;(vt=lt.onChange)==null||vt.call(lt,gt),yt(gt.currentTarget)}}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Input$1,{...lt,id:_e,type:et,className:lt.className,ref:ct,error:st&&!!rt,disabled:nt,fontFamily:at,icon:!!ot,"data-safari":ft}),et==="date"&&ut&&!dt&&jsxRuntimeExports.jsx(DateIcon,{icon:faCalendar})]})]}),st&&rt&&jsxRuntimeExports.jsx(InputError,{children:rt})]})}),_exp$5=()=>RMDialog.Content,RMDialogContent=styled_default(_exp$5())({name:"RMDialogContent",class:"RMDialogContent_r1alzrtw",propsAsIs:!0}),Body$2=styled_default("div")({name:"Body",class:"Body_bwuzacb",propsAsIs:!1}),_exp2$2=()=>RMCloseButton,CloseButton=styled_default(_exp2$2())({name:"CloseButton",class:"CloseButton_ci90lac",propsAsIs:!0}),BodyImage=styled_default("img")({name:"BodyImage",class:"BodyImage_b4twde0",propsAsIs:!1}),BodyContent=styled_default("div")({name:"BodyContent",class:"BodyContent_b3bphjq",propsAsIs:!1}),_exp3$1=()=>RMInput,Input=styled_default(_exp3$1())({name:"Input",class:"Input_ixknfak",propsAsIs:!0}),InputButtonGroup=styled_default("div")({name:"InputButtonGroup",class:"InputButtonGroup_ifj1doa",propsAsIs:!1}),_exp4$1=()=>Input,InputButtonGroupInput=styled_default(_exp4$1())({name:"InputButtonGroupInput",class:"InputButtonGroupInput_isv0tb3",propsAsIs:!0}),_exp5$1=()=>RMButton,InputButtonGroupButton=styled_default(_exp5$1())({name:"InputButtonGroupButton",class:"InputButtonGroupButton_i1izaw6j",propsAsIs:!0});function ReferralDialog({form:_e,link:et,onCopyLink:tt,onSendEmail:rt,onShare:nt,onClose:it}){const at=useIsMobileViewport(),ot=useIsFormValid(_e);return jsxRuntimeExports.jsx(RMDialog.Root,{open:!0,onClose:it,variant:"large",children:jsxRuntimeExports.jsx(RMDialogContent,{children:jsxRuntimeExports.jsxs(Body$2,{children:[jsxRuntimeExports.jsx(CloseButton,{onClick:it}),jsxRuntimeExports.jsx(BodyImage,{src:ImageSrc}),jsxRuntimeExports.jsxs(BodyContent,{children:[jsxRuntimeExports.jsxs(RMText,{type:"serif",size:"xl",color:"on-surface-primary",align:"center",children:["Get a ",jsxRuntimeExports.jsx("b",{children:"Free Book Credit"})]}),jsxRuntimeExports.jsx(RMText,{type:"serif",size:"l",color:"on-surface-primary",align:"center",children:"For Every Friend You Refer"}),jsxRuntimeExports.jsx(RMSpacer,{direction:"column",spacing:"xl"}),jsxRuntimeExports.jsx(RMText,{type:"sans",size:"s",color:"on-surface-primary",align:"center",children:"Give your friends $15 off and youll get a credit for a hardcover book when they purchase."}),at==!1&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RMSpacer,{direction:"column",spacing:"2xl"}),jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xs",color:"on-surface-primary",align:"center",children:"Share your referral link anywhere:"}),jsxRuntimeExports.jsx(RMSpacer,{direction:"column",spacing:"2xs"}),jsxRuntimeExports.jsxs(InputButtonGroup,{children:[jsxRuntimeExports.jsx(InputButtonGroupInput,{id:"referral-form-link",value:et,readOnly:!0,disabled:!0}),jsxRuntimeExports.jsx(InputButtonGroupButton,{background:"transparent",onClick:tt,children:"Copy"})]}),jsxRuntimeExports.jsx(RMSpacer,{direction:"column",spacing:"xl"}),jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xs",color:"on-surface-primary",align:"center",children:"Send your friend an email:"}),jsxRuntimeExports.jsx(RMSpacer,{direction:"column",spacing:"2xs"}),jsxRuntimeExports.jsx(InputContainer$1,{form:_e,path:"email",children:st=>jsxRuntimeExports.jsx(Input,{id:"referral-form-email",placeholder:"Send to",...st})})]}),jsxRuntimeExports.jsx(RMSpacer,{direction:"column",spacing:"xl"}),jsxRuntimeExports.jsx(RMButton,{background:"primary",fullWidth:!0,autoLoading:!0,disabled:!ot&&!at,onClick:at?nt:rt,children:at?"Share":"Send"})]})]})})})}var emailValidator={},tester=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;emailValidator.validate=function(_e){if(!_e||_e.length>254)return!1;var et=tester.test(_e);if(!et)return!1;var tt=_e.split("@");if(tt[0].length>64)return!1;var rt=tt[1].split(".");return!rt.some(function(nt){return nt.length>63})};const referralFormSchema=z$1.object({email:z$1.string().refine(_e=>emailValidator.validate(_e),{message:"Enter a valid email address"})});function createReferralForm(){return createForm({validation:{mode:"onChange",display:"onTouched"},defaultValues:{email:""},schema:referralFormSchema})}const QUERY_PARAM_NAME="referral-open";function useOpenReferralDialogUrl(){const _e=useLocation();return reactExports.useMemo(()=>{const et=new URLSearchParams(_e.search);return et.set(QUERY_PARAM_NAME,"true"),_e.pathname+"?"+et.toString()},[_e.pathname,_e.search])}function useOpenReferralDialog(){const[_e,et]=useBooleanQueryParam(QUERY_PARAM_NAME);return reactExports.useCallback(()=>{et(!0)},[et])}function useCloseReferralDialog(){const[_e,et]=useBooleanQueryParam(QUERY_PARAM_NAME);return reactExports.useCallback(()=>{et(null)},[et])}function useIsReferralDialogOpen(){const[_e]=useBooleanQueryParam(QUERY_PARAM_NAME,!1);return _e}function ReferralDialogContainer(){const{referralService:_e,referralAnalyticsService:et}=useServices(),tt=useUser(),rt=useReferralLink(),nt=useIsReferralDialogOpen(),it=reactExports.useMemo(()=>createReferralForm(),[]),at=useCloseReferralDialog(),ot=reactExports.useCallback(async()=>{try{await writeToClipboard(rt.data??""),toast("Link copied to the clipboard"),et.onReferralShared("clipboard")}catch(ct){toast("An unexpected error has occurred.","root-toast","error"),captureException(ct,!0)}},[et,rt.data]),st=reactExports.useCallback(async()=>{await submitForm(it,async({email:ct})=>{try{await _e.sendReferralEmail(ct),et.onReferralShared("email"),toast("Referral email sent!"),at(),resetForm(it)}catch(ut){toast("An unexpected error has occurred.","root-toast","error"),captureException(ut,!0)}})},[it,at,et,_e]),lt=reactExports.useCallback(async()=>{try{const ct=await openShareSheet({url:rt.data??"",title:"Fancy $15 off a Remento book?",text:["","Ive been using Remento to document family memories, and thought you might like to also.","","Heres $15 off your first purchase, so you can document precious family memories and stories - all without writing a single word."].join(`
`)});showShareSheetToast(ct),et.onReferralShared("share-sheet")}catch(ct){toast("An unexpected error has occurred.","root-toast","error"),captureException(ct,!0)}},[et,rt.data]);return!nt||tt==null?null:jsxRuntimeExports.jsx(ReferralDialog,{form:it,link:rt.data??"Loading...",onCopyLink:ot,onSendEmail:st,onShare:lt,onClose:at})}function getMarketingCookies(){const _e=api$2.get("_fbc")??null,et=api$2.get("_fbp")??null,tt=api$2.get("imClickId")??null;return{facebookClickId:_e,facebookDeviceId:et,imClickId:tt}}const RoutePageEventMap={[RoutePath.Root]:null,[RoutePath.InApp]:"in-app",[RoutePath.Signin]:"sign-in",[RoutePath.Signout]:"sign-out",[RoutePath.AccountName]:"account-name-setup",[RoutePath.StoryStandalone]:"story-standalone",[RoutePath.StoryHighlightReel]:"story-highlight-reel-standalone",[RoutePath.Story]:"story",[RoutePath.Stories]:"stories",[RoutePath.ProjectHome]:"project-home",[RoutePath.Questions]:"upcoming-prompts",[RoutePath.ProjectSettings]:"project-settings",[RoutePath.StoriesLegacyRedirect]:null,[RoutePath.QuestionsLegacyRedirect]:null,[RoutePath.ProjectSettingsLegacyRedirect]:null,[RoutePath.ProjectLegacyRedirect]:null,[RoutePath.ProjectHomeRedirect]:null,[RoutePath.ProjectStoriesRedirect]:null,[RoutePath.ProjectQuestionsRedirect]:null,[RoutePath.ProjectSettingsRedirect]:null,[RoutePath.ProjectRecordRedirect]:null,[RoutePath.AccountSettings]:"my-account-settings",[RoutePath.AccountRenewPromo]:"account-renew-promo",[RoutePath.AccountReactivate]:"account-reactivate",[RoutePath.SubscriptionRenewalSucceeded]:"subscription-renewal-succeeded",[RoutePath.SubscriptionCancelledSurvey]:"subscription-cancelled-survey",[RoutePath.RecordingIntro]:"recording-intro",[RoutePath.RecordingTypeSelection]:"recording-type-selection",[RoutePath.Recording]:"recording",[RoutePath.RecordingPromptRecorded]:"recording-prompt-already-recorded",[RoutePath.RecordingPaywall]:"recording-paywall",[RoutePath.RecordingRecovery]:"recording-recovery",[RoutePath.RecordingFinish]:"recording-finish",[RoutePath.ProjectRecord]:"project-record",[RoutePath.ProjectRecordCustomize]:"project-record-customize",[RoutePath.RecordingTryOut]:"recording-try-out",[RoutePath.RecordingPractice]:"recording-practice",[RoutePath.Checkout]:"checkout",[RoutePath.CheckoutBiographyAudience]:"checkout-audience",[RoutePath.CheckoutBiographyContact]:"checkout-biography-contact",[RoutePath.CheckoutBiographyDelivery]:"checkout-biography-delivery",[RoutePath.CheckoutBiographyAddons]:"checkout-biography-addons",[RoutePath.CheckoutBiographyReview]:"checkout-biography-review",[RoutePath.CheckoutAutobiographyContact]:"checkout-autobiography-contact",[RoutePath.CheckoutAutobiographyAddons]:"checkout-autobiography-addons",[RoutePath.CheckoutAutobiographyReview]:"checkout-autobiography-review",[RoutePath.CheckoutBaby]:"checkout-baby",[RoutePath.CheckoutBabyAudience]:"checkout-audience",[RoutePath.CheckoutBabyHost]:"checkout-baby-host",[RoutePath.CheckoutBabyProject]:"checkout-baby-project",[RoutePath.CheckoutBabyReview]:"checkout-baby-review",[RoutePath.CheckoutFreeDetails]:"checkout-free-details",[RoutePath.CheckoutFreeReview]:"checkout-free-review",[RoutePath.CheckoutBundle]:"checkout-bundle",[RoutePath.CheckoutGift]:"checkout-gift",[RoutePath.CheckoutSurvey]:"checkout-survey",[RoutePath.CheckoutSuccess]:"checkout-success",[RoutePath.CheckoutGetStarted]:"checkout-get-started",[RoutePath.NewProject]:"new-project",[RoutePath.Onboarding]:"onboarding",[RoutePath.OnboardingSignin]:"onboarding-sign-in",[RoutePath.OnboardingIntro]:"onboarding-intro",[RoutePath.SetupPromptTypeSelection]:"setup-prompt-type-selection",[RoutePath.SetupTextPromptSelection]:"setup-text-prompt-selection",[RoutePath.SetupPromptsReview]:"setup-prompts-review",[RoutePath.SetupPromptsFrequency]:"setup-prompts-frequency",[RoutePath.SetupPerspective]:"setup-perspective",[RoutePath.SetupCollaborators]:"setup-collaborators",[RoutePath.Welcome]:"welcome-video",[RoutePath.Invite]:"invite",[RoutePath.InviteSignin]:"invite-sign-in",[RoutePath.BookOrderCoverDesign]:"book-order-cover-design",[RoutePath.BookOrderStories]:"book-order-stories",[RoutePath.BookOrderPreview]:"book-order-preview",[RoutePath.BookOrderQuantity]:"book-order-quantity",[RoutePath.BookOrderFinalize]:"book-order-finalize",[RoutePath.BookOrderComplete]:"book-order-complete",[RoutePath.BookReorderPreview]:"book-reorder-preview",[RoutePath.BookReorderQuantity]:"book-reorder-quantity",[RoutePath.BookReorderFinalize]:"book-reorder-finalize",[RoutePath.Poll]:"poll",[RoutePath.QuestionnaireRoot]:"questionnaire-root",[RoutePath.Questionnaire]:"questionnaire",[RoutePath.TokenRedirect]:"token-redirect",[RoutePath.DebugDeleteAccount]:"debug-delete-account",[RoutePath.BookCover]:null,[RoutePath.BookGutsCover]:null,[RoutePath.BookTableOfContents]:null,[RoutePath.BookStoryContent]:null,[RoutePath.GiftCard]:null,[RoutePath.LegacyCheckoutAudience]:"legacy-checkout-audience",[RoutePath.LegacySeriesSettings]:"legacy-series-settings",[RoutePath.LegacySeriesSettingsRedirect]:"legacy-series-settings-redirect",[RoutePath.LegacyStoryStandalone]:"legacy-story-standalone",[RoutePath.LegacyStory]:"legacy-story",[RoutePath.LegacyQuestions]:"legacy-questions",[RoutePath.LegacyRecordingIntro]:"legacy-recording-intro",[RoutePath.LegacyRecordingTypeSelection]:"legacy-recording-type-selection",[RoutePath.LegacyRecording]:"legacy-recording",[RoutePath.LegacyRecordingPromptRecorded]:"legacy-recording-prompt-already-recorded",[RoutePath.LegacyAccountSettings]:"legacy-account-settings",[RoutePath.BrokenEmailRecovery_Question]:"broken-questions-email-recovery"},PageContent=styled_default("div")({name:"PageContent",class:"PageContent_p11fd5yu",propsAsIs:!1});function RementoPage({type:_e,loader:et=jsxRuntimeExports.jsx(PageLoader,{}),pageAnalyticsPayload:tt,children:rt}){const nt=useValidateRoute(_e);return reactExports.useEffect(()=>{if(_e==="error"||nt.status!=="valid")return;const it=getRouteFromPathname(getPathname()),at=it!=null?RoutePageEventMap[it]:null;at!=null&&nt.services.webappAnalyticsService.onPageArrived(at,{...tt,...getMarketingCookies(),referrerRoute:getQueryParam("referrer")})},[tt,nt,_e]),nt.status==="validating"||nt.status==="invalid"?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:et}):jsxRuntimeExports.jsxs(ServicesProvider,{services:nt.services,children:[nt.status==="revalidating"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:et}),jsxRuntimeExports.jsxs(PageContent,{"data-loading":nt.status==="revalidating",children:[rt,_e!=="error"&&jsxRuntimeExports.jsx(OnboardingDialogContainer,{})]}),jsxRuntimeExports.jsx(PaywallContainer,{}),_e!=="error"&&jsxRuntimeExports.jsx(ReferralDialogContainer,{})]})}const Colors={white:{"100-8":"hsla(0, 0%, 100%, 0.08)","100-12":"hsla(0, 0%, 100%, 0.12)",100:"hsla(0, 0%, 100%, 1)"},neutral:{50:"hsla(50, 18%, 50%, 1)","50-8":"hsla(50, 18%, 50%, 0.08)","50-12":"hsla(50, 18%, 50%, 0.12)","50-16":"hsla(50, 18%, 50%, 0.16)",77:"hsla(50, 18%, 77%, 1)",80:"hsla(50, 18%, 80%, 1)",84:"hsla(51, 17%, 84%, 1)",87:"hsla(50, 18%, 87%, 1)",90:"hsla(47, 18%, 90%, 1)",93:"hsla(50, 17%, 93%, 1)",96:"hsla(45, 20%, 96%, 1)","96-8":"hsla(50, 18%, 50%, 0.08)","96-12":"hsla(50, 18%, 50%, 0.12)","96-16":"hsla(50, 18%, 50%, 0.16)",99:"hsla(45, 20%, 99%, 1)"},spruce:{10:"hsla(180, 22%, 10%, 1)",12:"hsla(180, 22%, 12%, 1)",15:"hsla(180, 22%, 15%, 1)",20:"hsla(180, 22%, 20%, 1)",30:"hsla(180, 22%, 30%, 1)",40:"hsla(180, 22%, 40%, 1)",50:"hsla(180, 22%, 50%, 1)","40-8":"hsla(180, 22%, 40%, 0.08)","40-12":"hsla(180, 22%, 40%, 0.12)","40-16":"hsla(180, 22%, 40%, 0.16)",60:"hsla(180, 22%, 60%, 1)"},blend:{30:"hsla(105, 2%, 69%, 1)",69:"hsla(105, 3%, 69%, 1)",50:"hsla(144, 2%, 52%, 1)",70:"hsla(171, 4%, 35%, 1)",90:"hsla(174, 11%, 18%, 1)"},aqua:{70:"hsla(170, 32%, 70%, 1)","70-8":"hsla(170, 32%, 70%, 0.08)","70-12":"hsla(170, 32%, 70%, 0.12)","70-16":"hsla(170, 32%, 70%, 0.16)",80:"hsla(171, 31%, 80%, 1)",90:"hsla(169, 33%, 90%, 1)"},yellow:{15:"hsla(64, 82%, 15%, 1)",20:"hsla(64, 80%, 20%, 1)",30:"hsla(64, 80%, 30%, 1)",40:"hsla(64, 81%, 40%, 1)",50:"hsla(64, 81%, 50%, 1)",60:"hsla(64, 81%, 60%, 1)",70:"hsla(64, 80%, 70%, 1)",80:"hsla(64, 80%, 80%, 1)"},red:{25:"hsla(347, 94%, 25%, 1)",40:"hsla(347, 94%, 40%, 1)",60:"hsla(347, 94%, 60%, 1)",80:"hsla(347, 94%, 80%, 1)",90:"hsla(348, 96%, 90%, 1)",95:"hsla(348, 100%, 95%, 1)"},black:{0:"hsla(0, 100%, 0%, 1)","0-25":"hsla(0, 100%, 0%, 0.25)","0-50":"hsla(0, 100%, 0%, 0.50)","0-70":"hsla(0, 100%, 0%, 0.70)","0-90":"hsla(0, 100%, 0%, 0.90)"},orange:{35:"hsla(20, 76%, 35%, 1)"},green:{30:"hsl(146, 55%, 30%)"}},INTERCOM_WIDGET_ALLOWLIST=[RoutePath.Questionnaire,RoutePath.Checkout,RoutePath.CheckoutBiographyAudience,RoutePath.CheckoutBiographyContact,RoutePath.CheckoutBiographyDelivery,RoutePath.CheckoutBiographyReview,RoutePath.CheckoutAutobiographyContact,RoutePath.CheckoutAutobiographyReview,RoutePath.CheckoutBaby,RoutePath.CheckoutBabyAudience,RoutePath.CheckoutBabyHost,RoutePath.CheckoutBabyProject,RoutePath.CheckoutBabyReview,RoutePath.CheckoutFreeDetails,RoutePath.CheckoutFreeReview,RoutePath.CheckoutBundle,RoutePath.CheckoutGift,RoutePath.CheckoutSurvey,RoutePath.CheckoutGetStarted,RoutePath.Onboarding,RoutePath.OnboardingSignin,RoutePath.OnboardingIntro,RoutePath.SetupPromptTypeSelection,RoutePath.SetupTextPromptSelection,RoutePath.SetupPromptsReview,RoutePath.SetupPerspective,RoutePath.SetupCollaborators,RoutePath.Stories,RoutePath.Questions,RoutePath.AccountSettings,RoutePath.ProjectSettings,RoutePath.NewProject,RoutePath.AccountRenewPromo,RoutePath.AccountReactivate,RoutePath.Signin,RoutePath.ProjectRecord,RoutePath.ProjectRecordCustomize,RoutePath.BookOrderCoverDesign,RoutePath.BookOrderStories,RoutePath.BookOrderPreview,RoutePath.BookOrderQuantity,RoutePath.BookOrderFinalize,RoutePath.BookOrderComplete,RoutePath.BookReorderPreview,RoutePath.BookReorderQuantity,RoutePath.BookReorderFinalize],ONBOARDING_DIALOG_ALLOWLIST=[RoutePath.ProjectHome,RoutePath.Stories,RoutePath.Questions,RoutePath.ProjectSettings],ROUTE_THEME={[RoutePath.ProjectRecord]:Colors.neutral[93],[RoutePath.ProjectRecordCustomize]:Colors.neutral[93],[RoutePath.RecordingTypeSelection]:Colors.neutral[93],[RoutePath.Recording]:Colors.neutral[93],[RoutePath.RecordingIntro]:Colors.spruce[10],[RoutePath.RecordingFinish]:Colors.spruce[10],[RoutePath.RecordingPromptRecorded]:Colors.spruce[10],[RoutePath.RecordingRecovery]:Colors.neutral[93]},TERMLY_ALLOWLIST=[RoutePath.Checkout,RoutePath.CheckoutBiographyAudience,RoutePath.CheckoutBiographyContact,RoutePath.CheckoutBiographyDelivery,RoutePath.CheckoutBiographyReview,RoutePath.CheckoutAutobiographyContact,RoutePath.CheckoutAutobiographyReview,RoutePath.CheckoutBaby,RoutePath.CheckoutBabyAudience,RoutePath.CheckoutBabyHost,RoutePath.CheckoutBabyProject,RoutePath.CheckoutBabyReview,RoutePath.CheckoutFreeDetails,RoutePath.CheckoutFreeReview,RoutePath.CheckoutBundle,RoutePath.CheckoutGift,RoutePath.CheckoutSurvey,RoutePath.CheckoutSuccess,RoutePath.CheckoutGetStarted];function isInApp(){const _e=window.navigator,tt=_e.userAgent.toLowerCase(),rt=_e.standalone,nt=/ip(ad|hone|od)/.test(tt)||_e.platform==="MacIntel"&&_e.maxTouchPoints>1,it=/android/.test(tt),at=/safari/.test(tt);return it&&/; wv\)/.test(tt)||nt&&!rt&&!at}async function isNewSigninAttempt(_e,et,tt){const{userService:rt}=tt,nt=await rt.getUser();return _e===RoutePath.Signin&&et.get("oobCode")!=null&&nt!=null}async function validateDefaultRoute(_e,et){var ut,dt;const{userService:tt,userCacheService:rt,personCacheService:nt,aclCacheService:it,bookCacheService:at,projectCacheService:ot,redirectService:st}=et,lt=await tt.getUser(),ct=async()=>{const ft=await ot.getProjects(),pt=et.userSessionService.getLastAccessedProjectId();if(pt!=null&&ft.includes(pt))return pt;if(ft[0]!=null)return ft[0];throw new PageRedirect(RoutePath.OnboardingIntro)};switch(_e.route){case RoutePath.Checkout:return;case RoutePath.NewProject:case RoutePath.CheckoutFreeDetails:case RoutePath.CheckoutFreeReview:{if(lt===null)throw new SignInPageRedirect(_e.path,_e.search);if(lt.storytellers.length==0)throw new PageRedirect(RoutePath.Checkout);await rt.loadUserStorytellers();return}case RoutePath.Onboarding:throw lt===null?new PageRedirect(RoutePath.OnboardingSignin):lt.availableSubscriptions.length===0?new PageRedirect("/"):new PageRedirect(getOnboardingIntroPath());case RoutePath.OnboardingSignin:{if(lt!==null)throw new PageRedirect(RoutePath.Onboarding);return}case RoutePath.OnboardingIntro:{if(lt===null)throw new SignInPageRedirect(_e.path,_e.search);return}case RoutePath.SetupPromptTypeSelection:case RoutePath.SetupTextPromptSelection:case RoutePath.SetupPromptsReview:{if(lt===null)throw new SignInPageRedirect(_e.path,_e.search);const ft=_e.params.projectId,pt=ft?await ot.getProjectPrompts(ft):[];if(ft&&pt.length>0)throw new PageRedirect(getSetupPromptsFrequencyPath(ft));return}case RoutePath.SetupPromptsFrequency:case RoutePath.SetupPerspective:case RoutePath.SetupCollaborators:{if(lt===null)throw new SignInPageRedirect(_e.path,_e.search);return}case RoutePath.Root:if(lt!==null){const ft=await ct();throw new PageRedirect(getProjectHomePath(ft))}throw new PageRedirect("/signin");case RoutePath.InviteSignin:case RoutePath.Signin:{const ft=getQueryParam("redirect");if(ft!=null&&await st.registerRedirect("signed-in",ft),lt==null){api$2.remove(USER_COOKIE_NAME,{domain:USER_COOKIE_DOMAIN});return}if(await isNewSigninAttempt(_e.path,_e.search,et))return;const pt=await st.consumeRedirect("signed-in");throw new PageRedirect(pt??"/")}case RoutePath.ProjectSettings:{if(lt!==null){const ft=_e.params.projectId;if(!ft)throw new PageRedirect("/");const pt=await it.getCurrentUserAclGroupMembers(),yt=(await Promise.all(pt.map(mt=>it.getAclGroupMember(mt)))).filter(notNull).find(mt=>mt.groupType===EntityType.PROJECT&&mt.groupMetadata.projectId===ft);if(yt==null||yt.role!==AclGroupRole.OWNER&&yt.role!==AclGroupRole.ADMIN)throw new PageRedirect(getStoriesPath(ft),_e.search);return}throw new SignInPageRedirect(_e.path,_e.search)}case RoutePath.ProjectHome:case RoutePath.Stories:case RoutePath.Story:case RoutePath.Questions:case RoutePath.AccountSettings:{if(lt!==null)return;throw new SignInPageRedirect(_e.path,_e.search)}case RoutePath.StoriesLegacyRedirect:case RoutePath.QuestionsLegacyRedirect:case RoutePath.ProjectSettingsLegacyRedirect:{if(lt!==null){const ft=await ct();throw new PageRedirect(_e.path+"/"+ft)}throw new SignInPageRedirect(_e.path,_e.search)}case RoutePath.ProjectLegacyRedirect:{const ft=_e.params.projectId??"";throw new PageRedirect(getProjectHomePath(ft),_e.search)}case RoutePath.ProjectHomeRedirect:{if(lt!==null){const ft=await ct();throw new PageRedirect(getProjectHomePath(ft),_e.search)}throw new SignInPageRedirect(_e.path,_e.search)}case RoutePath.ProjectStoriesRedirect:{if(lt!==null){const ft=await ct();throw new PageRedirect(getStoriesPath(ft),_e.search)}throw new SignInPageRedirect(_e.path,_e.search)}case RoutePath.ProjectQuestionsRedirect:{if(lt!==null){const ft=await ct();throw new PageRedirect(getProjectPromptsPath(ft),_e.search)}throw new SignInPageRedirect(_e.path,_e.search)}case RoutePath.ProjectSettingsRedirect:{if(lt!==null){const ft=await ct();throw new PageRedirect(getProjectSettingsPath(ft),_e.search)}throw new SignInPageRedirect(_e.path,_e.search)}case RoutePath.ProjectRecordRedirect:{if(lt!==null){const ft=await ct();throw new PageRedirect(getProjectRecordPath(ft),_e.search)}throw new SignInPageRedirect(_e.path,_e.search)}case RoutePath.StoryHighlightReel:case RoutePath.StoryStandalone:{const ft=_e.params.storyId;if(ft==null)throw new PageRedirect("/");try{await et.storyCacheService.getStory(ft)}catch(pt){if(pt instanceof NotFoundError){const ht=await ot.getProjectsFromRecipientPersonId(ft);if(ht.length>0)throw new PageRedirect(getStoriesPath(ht[0]),_e.search)}throw pt}return}case RoutePath.Invite:return;case RoutePath.AccountName:{if(lt===null)throw new PageRedirect("/");const ft=await nt.getPerson(lt.personId);if(ft===null)throw new PageRedirect("/");if(ft.name&&((ut=lt.onboardingHistory.termsAccepted)!=null&&ut.done))throw new PageRedirect("/");return}case RoutePath.BookOrderCoverDesign:{if(lt==null)throw new SignInPageRedirect(_e.path,_e.search);return}case RoutePath.BookOrderStories:case RoutePath.BookOrderPreview:case RoutePath.BookOrderQuantity:case RoutePath.BookOrderFinalize:{if(lt==null)throw new SignInPageRedirect(_e.path,_e.search);const ft=_e.params.bookId;if(ft==null)throw new UnknownError("book-id-not-provided");const pt=await at.getBook(ft);if(pt===null)throw new NotFoundError("book-not-found",{origin:"entity",entityType:EntityType.BOOK_TEMPLATE,entityId:_e.params.bookId});if(pt.title==null&&pt.color==null)throw new PageRedirect(getBookOrderCoverDesignPath(_e.params.projectId??"",pt.id),_e.search);if(_e.route===RoutePath.BookOrderStories)return;if(pt.storyIds.length===0)throw new PageRedirect(getBookOrderStoriesPath(_e.params.projectId??"",pt.id),_e.search);if(_e.route===RoutePath.BookOrderPreview)return;if(pt.pdfAssetId==null)throw new PageRedirect(getBookOrderStoriesPath(_e.params.projectId??"",pt.id),_e.search);return}case RoutePath.BookOrderComplete:return;case RoutePath.BookReorderPreview:case RoutePath.BookReorderQuantity:case RoutePath.BookReorderFinalize:{if(lt==null)throw new SignInPageRedirect(_e.path,_e.search);return}case RoutePath.Poll:return;case RoutePath.Questionnaire:case RoutePath.QuestionnaireRoot:return;case RoutePath.ProjectRecord:case RoutePath.ProjectRecordCustomize:{const ft=_e.params.projectId;if(ft==null)throw new PageRedirect("/");await ot.loadProjectPromptsCatchupData(ft);return}case RoutePath.AccountRenewPromo:{if(((dt=lt==null?void 0:lt.subscription)==null?void 0:dt.status)!=UserSubscriptionStatus.ACTIVE)throw new PageRedirect(getAccountReactivatePath());if(lt.subscription.endsOn-Date.now()>PRE_RENEWAL_PHASE_DURATION)throw new PageRedirect("/");return}case RoutePath.AccountReactivate:{if((lt==null?void 0:lt.subscription)==null)throw new PageRedirect("/");if(lt.subscription.status===UserSubscriptionStatus.INACTIVE)return;throw lt.subscription.endsOn-Date.now()>PRE_RENEWAL_PHASE_DURATION?new PageRedirect(getAccountSettingsPath(!0,!0)):new PageRedirect(getAccountRenewPromoPath())}case RoutePath.InApp:if(!isInApp())throw new PageRedirect("/signin");return;default:throw new PageErrorRedirect}}const TRY_OUT_USER_ID="try-out-user-id",TRY_OUT_PERSON_ID="try-out-person-id",TRY_OUT_PROJECT_ID="try-out-project-id",TRY_OUT_PROMPT_ID="try-out-prompt-id",TRY_OUT_QUESTION_ID="try-out-question-id",AUDIT_MOCK={create:{date:0,type:AuditOperationMetadataType.USER,userId:TRY_OUT_USER_ID}};function setRecordingTryOutQuestion(_e,et){_e.setEntity(EntityType.QUESTION,TRY_OUT_QUESTION_ID,{id:TRY_OUT_QUESTION_ID,refIds:[TRY_OUT_QUESTION_ID],seriesId:TRY_OUT_PROJECT_ID,promptId:TRY_OUT_PROMPT_ID,templateId:null,status:QuestionStatus.ACTIVE,type:QuestionType.CUSTOM,text:et,acl:[],audit:AUDIT_MOCK,vclock:0,version:0})}function setupRecordingTryOutQueries(_e){_e.setEntity(EntityType.PERSON,TRY_OUT_PERSON_ID,{id:TRY_OUT_PERSON_ID,refIds:[TRY_OUT_PERSON_ID],status:PersonStatus.ACTIVE,name:{first:"You",last:"",full:"You"},acl:[],audit:AUDIT_MOCK,vclock:0,version:0}),_e.setEntity(EntityType.PROJECT,TRY_OUT_PROJECT_ID,{id:TRY_OUT_PROJECT_ID,refIds:[TRY_OUT_PROJECT_ID],subjectPersonIds:[TRY_OUT_PERSON_ID],ownerPersonId:TRY_OUT_PERSON_ID,ownerUserId:TRY_OUT_USER_ID,status:ProjectStatus.ACTIVE,name:"Try Out Project",startsOn:0,endsOn:0,subscriptionStatus:UserSubscriptionStatus.ACTIVE,subscriptionRenewalType:null,credit:null,configuration:{defaultStoryPerspective:StoryPerspectiveType.THIRD_PERSON,timePeriod:"PRESENT",topics:["life"],type:"BIOGRAPHY"},statistics:{promptsCreated:1,promptsSent:1,storiesRecorded:0,storiesRecordedTime:0},notifications:{interval:"",recipientPersonIds:[]},acl:[],audit:AUDIT_MOCK,vclock:0,version:0}),_e.setEntity(EntityType.PROMPT,TRY_OUT_PROMPT_ID,{id:TRY_OUT_PROMPT_ID,refIds:[TRY_OUT_PROMPT_ID],projectId:TRY_OUT_PROJECT_ID,recipientPersonIds:[TRY_OUT_PERSON_ID],requesterPersonId:TRY_OUT_PERSON_ID,status:PromptStatus.SENT,type:PromptType.TEXT,index:0,template:null,acl:[],audit:AUDIT_MOCK,vclock:0,version:0}),_e.setEntity(EntityType.QUESTION,TRY_OUT_QUESTION_ID,{id:TRY_OUT_QUESTION_ID,refIds:[TRY_OUT_QUESTION_ID],seriesId:TRY_OUT_PROJECT_ID,promptId:TRY_OUT_PROMPT_ID,templateId:null,status:QuestionStatus.ACTIVE,type:QuestionType.CUSTOM,text:"",acl:[],audit:AUDIT_MOCK,vclock:0,version:0}),_e.setCollection(EntityType.QUESTION,{promptId:TRY_OUT_PROMPT_ID},[TRY_OUT_QUESTION_ID])}async function validateRecordRoute(_e,et){switch(_e.route){case RoutePath.Recording:case RoutePath.RecordingIntro:case RoutePath.RecordingTypeSelection:break;case RoutePath.RecordingTryOut:case RoutePath.RecordingPractice:return setupRecordingTryOutQueries(et.entityCacheManagerService);default:throw new PageErrorRedirect}const tt=_e.params.promptId??null,rt=_e.params.projectId??null;if(tt===null||rt==null)throw new PageErrorRedirect;await et.storyCacheService.loadStoryRecordByPromptId(tt);const nt=await et.projectCacheService.getPrompt(tt);if(nt===null)throw new NotFoundError("prompt-not-found",{origin:"entity",entityType:EntityType.PROMPT,entityId:tt});const it=await et.storyCacheService.getPromptStory(nt.id);if(it===null)throw new NotFoundError("story-not-found",{origin:"entity",entityType:EntityType.STORY});if(it.status===StoryStatus.PROCESSING||it.status===StoryStatus.RECORDED)throw new PageRedirect(getRecordingPromptRecordedPath(rt,tt));const at=await et.projectCacheService.getProject(rt);if(at===null)throw new NotFoundError("project-not-found",{origin:"entity",entityType:EntityType.PROJECT,entityId:rt});if(at.subscriptionStatus===UserSubscriptionStatus.INACTIVE)throw new PageRedirect(getRecordingPaywallPath(rt,tt))}async function consumeURLParams(_e,et){const{authorizationService:tt,browserDataService:rt}=et,nt=_e.getAll("token");nt.length&&tt.addPermissionTokens(nt);const it=_e.get("backup-id");if(it!=null)try{await rt.restoreData(it)}catch(at){captureException(at,!0)}finally{_e.delete("backup-id")}}function isRouteAllowedInApp(_e){switch(_e){case RoutePath.DebugDeleteAccount:case RoutePath.Signout:case RoutePath.InApp:case RoutePath.Signin:case RoutePath.Root:return!0}return _e.startsWith(RoutePath.Checkout)||_e.startsWith(RoutePath.Onboarding)||_e.startsWith(RoutePath.QuestionnaireRoot)}async function validateRoute({pathname:_e,params:et,searchParams:tt,routeType:rt,services:nt}){var ut,dt,ft,pt;const it=getRouteFromPathname(_e);if(it==null)throw new Error("Route not found");const at=new URLSearchParams(Array.from(tt.entries()));if(it===RoutePath.DebugDeleteAccount)return{valid:!0,searchParams:at};if(it===RoutePath.Signout){const ht=await nt.redirectService.consumeRedirect("signed-out");return await nt.authService.signOut(),{valid:!1,redirect:{pathname:ht??"/signin"}}}await isNewSigninAttempt(_e,at,nt)||await consumeURLParams(at,nt);const ot={path:_e,route:it,params:et,search:at};if(isInApp()&&isRouteAllowedInApp(it)===!1){const ht=new URLSearchParams;return ht.set("redirect",window.location.toString()),{valid:!1,redirect:{pathname:RoutePath.InApp,searchParams:ht}}}const st=await nt.userService.getUser();if(st!=null&&st.timezone==null&&!nt.userSessionService.isSessionImpersonated()&&(await nt.entityCacheManagerService.mutate(nt.userService.createSetUserTimezoneMutation(st,getCurrentTimezoneId())),await nt.userService.refreshUser()),st!==null){const ht=await nt.personCacheService.getPerson(st.personId);if((ht==null?void 0:ht.name)==null||!(((ut=st.onboardingHistory.termsAccepted)==null?void 0:ut.done)??!1))return ot.route===RoutePath.AccountName?{valid:!0,searchParams:ot.search}:(await nt.redirectService.registerRedirect("account-setup",ot.path+"?"+ot.search),{valid:!1,redirect:{pathname:RoutePath.AccountName}})}const lt=(((dt=st==null?void 0:st.onboardingHistory.purchaser)==null?void 0:dt.done)??!1)==!0,ct=(((ft=st==null?void 0:st.onboardingHistory.collaborator)==null?void 0:ft.done)??!1)==!0;if(st!=null&&st.availableSubscriptions.length===0){const ht=await nt.projectCacheService.getProjects();if(ht.length===0&&!ot.path.startsWith(RoutePath.Checkout)&&lt==!0&&ot.route!==RoutePath.Invite&&ot.route!==RoutePath.Poll&&ot.route!==RoutePath.StoryStandalone&&ot.route!==RoutePath.StoryHighlightReel)return{valid:!1,redirect:{pathname:RoutePath.CheckoutBiographyAudience}};if(!ot.path.startsWith(RoutePath.Checkout)&&ot.route!==RoutePath.OnboardingIntro&&ot.route!==RoutePath.Invite&&ot.route!==RoutePath.Poll&&ot.route!==RoutePath.StoryStandalone&&ot.route!==RoutePath.StoryHighlightReel&&(lt==!1&&ct==!1&&(st.tags.includes(UserTag.STORYTELLER)==!1||st.tags.includes(UserTag.HOST))||ht.length==0))return await nt.redirectService.registerRedirect("user-onboarded",ot.path+"?"+ot.search),{valid:!1,redirect:{pathname:RoutePath.OnboardingIntro}}}ot.params.projectId!=null&&st!=null&&(await nt.projectCacheService.getProjects()).includes(ot.params.projectId)&&nt.userSessionService.setLastAccessedProjectId(ot.params.projectId);try{switch(rt){case"default":await validateDefaultRoute(ot,nt);break;case"record":await validateRecordRoute(ot,nt);break;case"empty":break}return(pt=nt.intercomService)==null||pt.setBubbleDisplayed(INTERCOM_WIDGET_ALLOWLIST.includes(ot.route)),{valid:!0,searchParams:ot.search}}catch(ht){if(!(ht instanceof PageRedirect))throw ht;return ht instanceof PageNotFoundRedirect&&await nt.userService.getUser()===null&&await nt.redirectService.registerRedirect("signed-in",`${ot.path}${at.size?"?"+at:""}`),ht instanceof SignInPageRedirect&&await nt.redirectService.registerRedirect("signed-in",`${ht.redirectPath}${ht.redirectParams.size?"?"+ht.redirectParams:""}`),{valid:!1,redirect:{pathname:ht.path,searchParams:ht.params}}}}let servicesInstance=null;function useValidateRoute(_e){const[et,tt]=reactExports.useState("validating"),[rt,nt]=reactExports.useState(null),[it,at]=reactExports.useState(null),ot=useNavigate(),{pathname:st,state:lt}=useLocation(),[ct,ut]=useSearchParams$1(),dt=useParams(),ft=reactExports.useCallback((yt,mt)=>st===yt?!1:(ot(`${yt}${mt?"?":""}${mt?mt.toString():""}`,{replace:!0}),!0),[ot,st]),pt=reactExports.useRef(!1);reactExports.useEffect(()=>{pt.current||(pt.current=!0,servicesInstance===null&&(servicesInstance=createServices()),servicesInstance.then(yt=>{at(yt)}).catch(yt=>{servicesInstance=null,nt(yt)}))},[]);const ht=reactExports.useRef(null);if(reactExports.useLayoutEffect(()=>{if(!(it===null||ht.current===st)){if(ht.current!=null&&tt("revalidating"),ht.current=st,_e==="error"){tt("valid");return}validateRoute({pathname:st,params:dt,searchParams:ct,routeType:_e,services:it}).then(yt=>{let mt=yt.valid;yt.valid===!1?mt=!ft(yt.redirect.pathname,yt.redirect.searchParams):ut(yt.searchParams,{replace:!0,state:lt}),tt(mt?"valid":"invalid")}).catch(yt=>{nt(yt)})}},[st,ot,dt,ft,_e,it,ct,ut,lt]),rt!==null)throw rt;return reactExports.useMemo(()=>et!=="validating"&&it!=null?{status:et,services:it}:{status:"validating"},[it,et])}function useUser(){const{userService:_e}=useServices(),[et,tt]=reactExports.useState(void 0);return reactExports.useEffect(()=>(_e.getUser().then(tt),_e.onUserChanged(tt)),[_e]),et}function useSignOut(){const{authService:_e,redirectService:et}=useServices();return reactExports.useCallback(async(tt=!0,rt)=>{if(tt==!1){await _e.signOut();return}rt!=null&&await et.registerRedirect("signed-out",rt),window.location.href=""+getSignoutPath()},[_e,et])}const ReactivateDialogImageSrc="/app/book/assets/reactivate-dialog-DJ5y_d0s.webp",_exp$4=()=>RMDialog.Header,Header$1=styled_default(_exp$4())({name:"Header",class:"Header_hzex33z",propsAsIs:!0}),Body$1=styled_default("div")({name:"Body",class:"Body_bxb3cnb",propsAsIs:!1}),Image$3=styled_default("img")({name:"Image",class:"Image_i1ar559s",propsAsIs:!1}),ContentWrapper$1=styled_default("div")({name:"ContentWrapper",class:"ContentWrapper_c7nyrnj",propsAsIs:!1}),FeaturesList=styled_default("div")({name:"FeaturesList",class:"FeaturesList_fo72n54",propsAsIs:!1}),FeaturesListItem=styled_default("div")({name:"FeaturesListItem",class:"FeaturesListItem_f12lbfns",propsAsIs:!1}),_exp2$1=()=>FontAwesomeIcon,FeaturesListItemIcon=styled_default(_exp2$1())({name:"FeaturesListItemIcon",class:"FeaturesListItemIcon_fbozofu",propsAsIs:!0}),FEATURES=["Create and send new prompts","Record new stories or edit old ones","Use the AI writing assistant","Manage photos in your stories","Start unlimited new book projects","Order books any time"];function PaywallDialog({isBillingOwner:_e,showClose:et=!0,onReactivate:tt,onClose:rt}){const nt=useIsMobileViewport();return jsxRuntimeExports.jsx(RMDialog.Root,{open:!0,variant:"large",onClose:et?rt:void 0,children:jsxRuntimeExports.jsxs(RMDialog.Content,{children:[jsxRuntimeExports.jsx(Header$1,{title:nt?"This feature requires a paid Remento subscription.":null,rightAdornment:et&&jsxRuntimeExports.jsx(RMCloseButton,{onClick:rt})}),jsxRuntimeExports.jsx(RMDialog.Body,{children:jsxRuntimeExports.jsxs(Body$1,{children:[nt==!1&&jsxRuntimeExports.jsx(Image$3,{src:ReactivateDialogImageSrc}),jsxRuntimeExports.jsxs(ContentWrapper$1,{children:[nt==!1&&jsxRuntimeExports.jsx(RMText,{type:"serif",size:"xl",color:"on-surface-primary",children:"This feature requires a paid Remento subscription."}),jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xs",color:"on-surface-primary",children:"When you rejoin Remento, you can:"}),jsxRuntimeExports.jsx(FeaturesList,{children:FEATURES.map(it=>jsxRuntimeExports.jsxs(FeaturesListItem,{children:[jsxRuntimeExports.jsx(FeaturesListItemIcon,{icon:faCheck$1,size:"sm"}),jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xs",color:"on-surface-primary",children:it})]},it))}),jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xs",color:"on-surface-primary",children:"Until then, all your recordings and stories are safe and accessible in Remento."}),jsxRuntimeExports.jsx(RMButton,{background:"primary",fullWidth:!0,autoLoading:!0,onClick:tt,children:_e?"View renewal options":"Contact us"})]})]})})]})})}const __vite_import_meta_env__={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ANALYTICS_API_URL:"https://www.remento.co/api/a",VITE_ANALYTICS_DD_API_HOST:"www.remento.co",VITE_ANALYTICS_DD_API_PATH:"/api/dd",VITE_ANALYTICS_DD_APP_ID:"7ef20e73-b483-45b3-adb7-ea926c31ff69",VITE_ANALYTICS_DD_SITE:"us5.datadoghq.com",VITE_ANALYTICS_DD_TOKEN:"pub2635ca1a364a1a7f8059f6056bf4858e",VITE_ANALYTICS_ROOT_DOMAIN:"remento.co",VITE_ANALYTICS_SEGMENT_API_HOST:"www.remento.co",VITE_ANALYTICS_SEGMENT_API_PATH:"/api/seg",VITE_ANALYTICS_SEGMENT_CDN_HOST:"www.remento.co",VITE_ANALYTICS_SEGMENT_CDN_PATH:"/cdn/seg",VITE_ANALYTICS_SEGMENT_KEY:"OSGRDVRIilTVp3ptsl0DSpPbseww8aFW",VITE_ANALYTICS_SOURCE:"remento-book-webapp",VITE_API_URL:"https://api-v36wh5jacq-uc.a.run.app",VITE_APP_NAME:"Remento",VITE_BUNDLE_FORM_ID:"vIduiDvA",VITE_ENV:"production",VITE_FILESTACK_API_KEY:"AE3gaZ6XRetBBQte2ygiAz",VITE_FIREBASE_API_KEY:"AIzaSyDdtZTvdOJsqivzG3MOGecH8E6hQvszzPY",VITE_FIREBASE_APP_ID:"1:1081609483368:web:7fbb490839e5ace692f7dd",VITE_FIREBASE_AUTH_DOMAIN:"remento-book-prod.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"remento-book-prod",VITE_GIFT_FORM_ID:"DUl84RoK",VITE_INTERCOM_APP_ID:"dg59io5v",VITE_PATH_BASENAME:"",VITE_SANITY_DATASET:"book-prod"},subscribeWithSelectorImpl=_e=>(et,tt,rt)=>{const nt=rt.subscribe;return rt.subscribe=(at,ot,st)=>{let lt=at;if(ot){const ct=(st==null?void 0:st.equalityFn)||Object.is;let ut=at(rt.getState());lt=dt=>{const ft=at(dt);if(!ct(ut,ft)){const pt=ut;ot(ut=ft,pt)}},st!=null&&st.fireImmediately&&ot(ut,ut)}return nt(lt)},_e(et,tt,rt)},subscribeWithSelector=subscribeWithSelectorImpl;function createJSONStorage(_e,et){let tt;try{tt=_e()}catch{return}return{getItem:nt=>{var it;const at=st=>st===null?null:JSON.parse(st,void 0),ot=(it=tt.getItem(nt))!=null?it:null;return ot instanceof Promise?ot.then(at):at(ot)},setItem:(nt,it)=>tt.setItem(nt,JSON.stringify(it,void 0)),removeItem:nt=>tt.removeItem(nt)}}const toThenable=_e=>et=>{try{const tt=_e(et);return tt instanceof Promise?tt:{then(rt){return toThenable(rt)(tt)},catch(rt){return this}}}catch(tt){return{then(rt){return this},catch(rt){return toThenable(rt)(tt)}}}},oldImpl=(_e,et)=>(tt,rt,nt)=>{let it={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:yt=>yt,version:0,merge:(yt,mt)=>({...mt,...yt}),...et},at=!1;const ot=new Set,st=new Set;let lt;try{lt=it.getStorage()}catch{}if(!lt)return _e((...yt)=>{console.warn(`[zustand persist middleware] Unable to update item '${it.name}', the given storage is currently unavailable.`),tt(...yt)},rt,nt);const ct=toThenable(it.serialize),ut=()=>{const yt=it.partialize({...rt()});let mt;const gt=ct({state:yt,version:it.version}).then(vt=>lt.setItem(it.name,vt)).catch(vt=>{mt=vt});if(mt)throw mt;return gt},dt=nt.setState;nt.setState=(yt,mt)=>{dt(yt,mt),ut()};const ft=_e((...yt)=>{tt(...yt),ut()},rt,nt);let pt;const ht=()=>{var yt;if(!lt)return;at=!1,ot.forEach(gt=>gt(rt()));const mt=((yt=it.onRehydrateStorage)==null?void 0:yt.call(it,rt()))||void 0;return toThenable(lt.getItem.bind(lt))(it.name).then(gt=>{if(gt)return it.deserialize(gt)}).then(gt=>{if(gt)if(typeof gt.version=="number"&&gt.version!==it.version){if(it.migrate)return it.migrate(gt.state,gt.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return gt.state}).then(gt=>{var vt;return pt=it.merge(gt,(vt=rt())!=null?vt:ft),tt(pt,!0),ut()}).then(()=>{mt==null||mt(pt,void 0),at=!0,st.forEach(gt=>gt(pt))}).catch(gt=>{mt==null||mt(void 0,gt)})};return nt.persist={setOptions:yt=>{it={...it,...yt},yt.getStorage&&(lt=yt.getStorage())},clearStorage:()=>{lt==null||lt.removeItem(it.name)},getOptions:()=>it,rehydrate:()=>ht(),hasHydrated:()=>at,onHydrate:yt=>(ot.add(yt),()=>{ot.delete(yt)}),onFinishHydration:yt=>(st.add(yt),()=>{st.delete(yt)})},ht(),pt||ft},newImpl=(_e,et)=>(tt,rt,nt)=>{let it={storage:createJSONStorage(()=>localStorage),partialize:ht=>ht,version:0,merge:(ht,yt)=>({...yt,...ht}),...et},at=!1;const ot=new Set,st=new Set;let lt=it.storage;if(!lt)return _e((...ht)=>{console.warn(`[zustand persist middleware] Unable to update item '${it.name}', the given storage is currently unavailable.`),tt(...ht)},rt,nt);const ct=()=>{const ht=it.partialize({...rt()});return lt.setItem(it.name,{state:ht,version:it.version})},ut=nt.setState;nt.setState=(ht,yt)=>{ut(ht,yt),ct()};const dt=_e((...ht)=>{tt(...ht),ct()},rt,nt);nt.getInitialState=()=>dt;let ft;const pt=()=>{var ht,yt;if(!lt)return;at=!1,ot.forEach(gt=>{var vt;return gt((vt=rt())!=null?vt:dt)});const mt=((yt=it.onRehydrateStorage)==null?void 0:yt.call(it,(ht=rt())!=null?ht:dt))||void 0;return toThenable(lt.getItem.bind(lt))(it.name).then(gt=>{if(gt)if(typeof gt.version=="number"&&gt.version!==it.version){if(it.migrate)return[!0,it.migrate(gt.state,gt.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,gt.state];return[!1,void 0]}).then(gt=>{var vt;const[St,xt]=gt;if(ft=it.merge(xt,(vt=rt())!=null?vt:dt),tt(ft,!0),St)return ct()}).then(()=>{mt==null||mt(ft,void 0),ft=rt(),at=!0,st.forEach(gt=>gt(ft))}).catch(gt=>{mt==null||mt(void 0,gt)})};return nt.persist={setOptions:ht=>{it={...it,...ht},ht.storage&&(lt=ht.storage)},clearStorage:()=>{lt==null||lt.removeItem(it.name)},getOptions:()=>it,rehydrate:()=>pt(),hasHydrated:()=>at,onHydrate:ht=>(ot.add(ht),()=>{ot.delete(ht)}),onFinishHydration:ht=>(st.add(ht),()=>{st.delete(ht)})},it.skipHydration||pt(),ft||dt},persistImpl=(_e,et)=>"getStorage"in et||"serialize"in et||"deserialize"in et?((__vite_import_meta_env__?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),oldImpl(_e,et)):newImpl(_e,et),persist=persistImpl,store$1=createStore(subscribeWithSelector(()=>({isPaywallVisible:!1,projectId:null})));function showProjectPaywall(_e){store$1.setState({isPaywallVisible:!0,projectId:_e},!0)}function closePaywall(){store$1.setState({isPaywallVisible:!1,projectId:null},!0)}function usePaywallState(){return useStore(store$1)}function useShowPaywall(_e){var tt,rt;const et=useProjectQuery(_e);return reactExports.useCallback(()=>{var nt;return((nt=et.data)==null?void 0:nt.subscriptionStatus)===UserSubscriptionStatus.INACTIVE?(showProjectPaywall(et.data.id),!0):!1},[(tt=et.data)==null?void 0:tt.id,(rt=et.data)==null?void 0:rt.subscriptionStatus])}function useIsBillingOwner(_e){var rt;const et=useUser(),tt=useProjectQuery(_e);return reactExports.useMemo(()=>{var nt;return(et==null?void 0:et.refIds.includes(((nt=tt.data)==null?void 0:nt.ownerUserId)??""))??!1},[(rt=tt.data)==null?void 0:rt.ownerUserId,et==null?void 0:et.refIds])}function useReactivate(_e){var it,at,ot;const et=useNavigate(),tt=useProjectQuery(_e),rt=usePersonQuery((it=tt.data)==null?void 0:it.notifications.recipientPersonIds[0]),nt=useIsBillingOwner(_e);return reactExports.useCallback(()=>{var dt,ft;if(nt){et(getAccountReactivatePath());return}const st="support@remento.co",lt="Reactivate Remento account",ct=["Hi Remento Customer Support,","",`I'm reaching out to reactivate the following Remento storyteller's account: ${(ft=(dt=rt.data)==null?void 0:dt.name)==null?void 0:ft.full}.`,"","Can you please send me instructions on how to do so?"].join(`
`),ut=`mailto:${st}?subject=${encodeURIComponent(lt)}&body=${encodeURIComponent(ct)}`;window.open(ut)},[nt,et,(ot=(at=rt.data)==null?void 0:at.name)==null?void 0:ot.full])}function PaywallContainer(){var lt,ct;const{isPaywallVisible:_e,projectId:et}=usePaywallState(),tt=useUser(),rt=usePersonQuery(tt==null?void 0:tt.personId),nt=useProjectQuery(et),it=useReactivate(et),at=useIsBillingOwner(et),ot=reactExports.useMemo(()=>{var ut,dt;return((dt=rt.data)==null?void 0:dt.refIds.includes(((ut=nt.data)==null?void 0:ut.notifications.recipientPersonIds[0])??""))??!1},[(lt=rt.data)==null?void 0:lt.refIds,(ct=nt.data)==null?void 0:ct.notifications.recipientPersonIds]),st=at==!1&&ot==!1;return reactExports.useEffect(()=>{_e==!1||st==!1||toast("This feature is available for projects with active subscription.","root-toast","default",{toastId:"paywall-toast",onClose:()=>{closePaywall()}})},[st,_e]),_e==!1||st?null:jsxRuntimeExports.jsx(PaywallDialog,{isBillingOwner:at??!1,onReactivate:()=>{closePaywall(),it()},onClose:closePaywall})}function isPersonSubscriptionActive(_e,et){return et.findIndex(tt=>_e.refIds.includes(tt.ownerPersonId)&&(tt.subscriptionStatus==UserSubscriptionStatus.ACTIVE||tt.subscriptionStatus==UserSubscriptionStatus.PENDING))>=0}function useStorytellerOptions(){const _e=useUser(),et=useProjectsItems(),tt=reactExports.useMemo(()=>_e==null?null:Array.from(new Set(_e.storytellers.map(nt=>[nt.personId,nt.subscriptionOwnerPersonId]).flat().concat(_e.personId))),[_e]),rt=usePeople(tt);return reactExports.useMemo(()=>{var ot,st;if(_e==null)return null;const nt=rt.find(lt=>lt.refIds.includes(_e.personId));if(nt==null)throw new NotFoundError("person-not-found",{origin:"entity",entityType:EntityType.PERSON,entityId:_e.personId});const it=_e.storytellers.filter(lt=>{const ct=rt.find(ut=>ut.refIds.includes(lt.subscriptionOwnerPersonId));if(ct==null)throw new NotFoundError("owner-person-not-found",{origin:"entity",entityType:EntityType.PERSON,entityId:lt.subscriptionOwnerPersonId});return isPersonSubscriptionActive(ct,et??[])}),at=new Map;for(const lt of it){const ct=rt.find(ht=>ht.refIds.includes(lt.personId)),ut=rt.find(ht=>ht.refIds.includes(lt.subscriptionOwnerPersonId)),dt=nt.refIds.includes(lt.subscriptionOwnerPersonId),ft=nt.refIds.includes(lt.personId)?" (me)":"";let pt=`${(ot=ct==null?void 0:ct.name)==null?void 0:ot.full}${ft}`;dt==!1&&(pt+=` - owned by ${(st=ut==null?void 0:ut.name)==null?void 0:st.full}`),at.set(`${lt.personId}-${lt.subscriptionOwnerPersonId}`,{value:`${lt.personId}-${lt.subscriptionOwnerPersonId}`,label:pt,personId:lt.personId,subscriptionOwnerPersonId:lt.subscriptionOwnerPersonId})}return Array.from(at.values()).sort((lt,ct)=>lt.label.localeCompare(ct.label))},[rt,et,_e])}const Avatar=styled_default("div")({name:"Avatar",class:"Avatar_agsrzmo",propsAsIs:!1}),smallSizeVariant="smallSizeVariant_s1l37ei",largeSizeVariant="largeSizeVariant_l16yqsw4",blendBackgroundVariant="blendBackgroundVariant_b1q2t2vi",primaryBackgroundVariant="primaryBackgroundVariant_p16c1dxc",darkBackgroundVariant="darkBackgroundVariant_dhwsm6o",roundedShapeVariant="roundedShapeVariant_rhs18ju",circleShapeVariant="circleShapeVariant_czufuta",sizeVariants={small:smallSizeVariant,large:largeSizeVariant},backgroundVariants={blend:blendBackgroundVariant,primary:primaryBackgroundVariant,dark:darkBackgroundVariant},shapeVariants={circle:circleShapeVariant,rounded:roundedShapeVariant};function RMAvatar({src:_e,placeholder:et,size:tt="small",shape:rt="circle",background:nt="blend"}){return jsxRuntimeExports.jsx(Avatar,{className:clsx(sizeVariants[tt],shapeVariants[rt],backgroundVariants[nt]),children:_e?jsxRuntimeExports.jsx("img",{src:_e,alt:et}):jsxRuntimeExports.jsx(RMText,{type:"sans",size:tt==="small"?"s":"m",bold:!0,color:nt==="dark"?"on-primary":"inverse-on-primary",children:et})})}const _exp$3=()=>Link,StyledNavbarAccount=styled_default(_exp$3())({name:"StyledNavbarAccount",class:"StyledNavbarAccount_s1gdjinb",propsAsIs:!0}),NavbarProfile=styled_default("div")({name:"NavbarProfile",class:"NavbarProfile_naru4fn",propsAsIs:!1});function NavbarAccount({to:_e,userInitials:et,userAvatarUrl:tt,userEmail:rt,onClick:nt}){const it=useIsTabletViewport();return jsxRuntimeExports.jsx(RMTooltip,{message:it?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xxs",bold:!0,color:"inverse-on-surface-primary",children:"My account:"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xxs",color:"inverse-on-surface-primary",children:rt})]}):null,children:jsxRuntimeExports.jsxs(StyledNavbarAccount,{to:_e,onClick:nt,children:[jsxRuntimeExports.jsx(RMAvatar,{placeholder:et,background:"blend",shape:"circle",src:tt}),!it&&jsxRuntimeExports.jsxs(NavbarProfile,{children:[jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xs",bold:!0,color:"inverse-on-surface-primary",children:"My account"}),jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xxs",color:"inverse-on-surface-secondary",style:{wordBreak:"break-word"},children:rt})]})]})})}const StyledNavbarDivider=styled_default("div")({name:"StyledNavbarDivider",class:"StyledNavbarDivider_seb4bl7",propsAsIs:!1});function NavbarDivider(){return jsxRuntimeExports.jsx(StyledNavbarDivider,{})}const _exp$2=()=>Link,NavbarItemRoot=styled_default(_exp$2())({name:"NavbarItemRoot",class:"NavbarItemRoot_ngd0f40",propsAsIs:!0});function NavbarItem({id:_e,text:et,path:tt,pathAliases:rt,activeIcon:nt,inactiveIcon:it,disabled:at=!1,target:ot,onClick:st}){const lt=useIsMobileViewport(),ct=useIsTabletViewport(),ut=useLocation(),dt=(ut.pathname===tt||(rt==null?void 0:rt.some(ft=>ft===ut.pathname)))??!1;return jsxRuntimeExports.jsx(RMTooltip,{message:ct?et:null,children:jsxRuntimeExports.jsxs(NavbarItemRoot,{id:_e,to:at?"":tt,target:ot,"data-active":dt,"data-disabled":at,onClick:st,children:[(ct||!lt)&&jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:dt?nt:it,size:"xl"}),!ct&&jsxRuntimeExports.jsx(RMText,{type:lt?"serif":"sans",size:lt?"m":"xs",color:"primary",bold:!0,children:et})]})})}const LogoIcon="/app/book/assets/logo-CsLn5djC.svg",_exp$1=()=>motion.div,StyledNavbarRoot=styled_default(_exp$1())({name:"StyledNavbarRoot",class:"StyledNavbarRoot_s1kmnjh4",propsAsIs:!0}),NavbarHeader=styled_default("div")({name:"NavbarHeader",class:"NavbarHeader_nnr4vpm",propsAsIs:!1}),_exp3=()=>({mobile:_e})=>_e?"2.1875rem":"2.5rem",Logo=styled_default("img")({name:"Logo",class:"Logo_l12cye0p",propsAsIs:!1,vars:{"l12cye0p-0":[_exp3()]}}),_exp4=()=>RMWordmark,Wordmark$1=styled_default(_exp4())({name:"Wordmark",class:"Wordmark_w1pyz983",propsAsIs:!0}),NavbarItems=styled_default("div")({name:"NavbarItems",class:"NavbarItems_n1o7os3y",propsAsIs:!1}),_exp5=()=>RMIconButton,CloseIcon=styled_default(_exp5())({name:"CloseIcon",class:"CloseIcon_crqsnty",propsAsIs:!0}),_exp6=()=>RMButton,NewProjectButton=styled_default(_exp6())({name:"NewProjectButton",class:"NewProjectButton_n1s4c7f4",propsAsIs:!0});function NavbarRoot({status:_e,Items:et,ProjectSelect:tt,Account:rt,onClose:nt,onChangeStatus:it,onAddProject:at}){const ot=useIsMobileViewport(),st=useIsTabletViewport();return jsxRuntimeExports.jsx(AnimatePresence,{children:_e!=="closed"&&jsxRuntimeExports.jsxs(StyledNavbarRoot,{initial:_e==="opening"||_e==="closing"?{translateX:_e==="opening"?"-100%":"0%"}:!1,animate:{translateX:_e==="closing"?"-100%":"0%",transition:{duration:.25,ease:"easeOut"}},onAnimationComplete:()=>{it(_e==="opening"?"open":"closed")},children:[!st&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(NavbarHeader,{"data-mobile":ot,children:[jsxRuntimeExports.jsx(Logo,{src:LogoIcon,alt:"Remento Logo",mobile:ot}),jsxRuntimeExports.jsx(Wordmark$1,{color:"neutral"}),ot&&jsxRuntimeExports.jsx(CloseIcon,{icon:faClose,tooltip:null,color:"white",backgroundColor:"transparent",onClick:nt})]}),jsxRuntimeExports.jsx(RMSpacer,{spacing:"2xl",direction:"column"})]}),tt,jsxRuntimeExports.jsx(RMSpacer,{spacing:ot?"2xl":"xl",direction:"column"}),jsxRuntimeExports.jsxs(NavbarItems,{"data-mobile":ot,children:[et,!st&&jsxRuntimeExports.jsx(NewProjectButton,{leftIcon:faPlus,background:"outlined",color:"surface",fullWidth:!0,onClick:at,children:"New project"})]}),rt]})})}const Navbar={Root:NavbarRoot,Item:NavbarItem,Divider:NavbarDivider,Account:NavbarAccount};function clamp(_e,[et,tt]){return Math.min(tt,Math.max(et,_e))}function composeEventHandlers(_e,et,{checkForDefaultPrevented:tt=!0}={}){return function(nt){if(_e==null||_e(nt),tt===!1||!nt.defaultPrevented)return et==null?void 0:et(nt)}}function setRef(_e,et){if(typeof _e=="function")return _e(et);_e!=null&&(_e.current=et)}function composeRefs(..._e){return et=>{let tt=!1;const rt=_e.map(nt=>{const it=setRef(nt,et);return!tt&&typeof it=="function"&&(tt=!0),it});if(tt)return()=>{for(let nt=0;nt<rt.length;nt++){const it=rt[nt];typeof it=="function"?it():setRef(_e[nt],null)}}}}function useComposedRefs(..._e){return reactExports.useCallback(composeRefs(..._e),_e)}var Slot=reactExports.forwardRef((_e,et)=>{const{children:tt,...rt}=_e,nt=reactExports.Children.toArray(tt),it=nt.find(isSlottable);if(it){const at=it.props.children,ot=nt.map(st=>st===it?reactExports.Children.count(at)>1?reactExports.Children.only(null):reactExports.isValidElement(at)?at.props.children:null:st);return jsxRuntimeExports.jsx(SlotClone,{...rt,ref:et,children:reactExports.isValidElement(at)?reactExports.cloneElement(at,void 0,ot):null})}return jsxRuntimeExports.jsx(SlotClone,{...rt,ref:et,children:tt})});Slot.displayName="Slot";var SlotClone=reactExports.forwardRef((_e,et)=>{const{children:tt,...rt}=_e;if(reactExports.isValidElement(tt)){const nt=getElementRef(tt),it=mergeProps(rt,tt.props);return tt.type!==reactExports.Fragment&&(it.ref=et?composeRefs(et,nt):nt),reactExports.cloneElement(tt,it)}return reactExports.Children.count(tt)>1?reactExports.Children.only(null):null});SlotClone.displayName="SlotClone";var Slottable=({children:_e})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:_e});function isSlottable(_e){return reactExports.isValidElement(_e)&&_e.type===Slottable}function mergeProps(_e,et){const tt={...et};for(const rt in et){const nt=_e[rt],it=et[rt];/^on[A-Z]/.test(rt)?nt&&it?tt[rt]=(...ot)=>{it(...ot),nt(...ot)}:nt&&(tt[rt]=nt):rt==="style"?tt[rt]={...nt,...it}:rt==="className"&&(tt[rt]=[nt,it].filter(Boolean).join(" "))}return{..._e,...tt}}function getElementRef(_e){var rt,nt;let et=(rt=Object.getOwnPropertyDescriptor(_e.props,"ref"))==null?void 0:rt.get,tt=et&&"isReactWarning"in et&&et.isReactWarning;return tt?_e.ref:(et=(nt=Object.getOwnPropertyDescriptor(_e,"ref"))==null?void 0:nt.get,tt=et&&"isReactWarning"in et&&et.isReactWarning,tt?_e.props.ref:_e.props.ref||_e.ref)}function createCollection(_e){const et=_e+"CollectionProvider",[tt,rt]=createContextScope$1(et),[nt,it]=tt(et,{collectionRef:{current:null},itemMap:new Map}),at=ft=>{const{scope:pt,children:ht}=ft,yt=React.useRef(null),mt=React.useRef(new Map).current;return jsxRuntimeExports.jsx(nt,{scope:pt,itemMap:mt,collectionRef:yt,children:ht})};at.displayName=et;const ot=_e+"CollectionSlot",st=React.forwardRef((ft,pt)=>{const{scope:ht,children:yt}=ft,mt=it(ot,ht),gt=useComposedRefs(pt,mt.collectionRef);return jsxRuntimeExports.jsx(Slot,{ref:gt,children:yt})});st.displayName=ot;const lt=_e+"CollectionItemSlot",ct="data-radix-collection-item",ut=React.forwardRef((ft,pt)=>{const{scope:ht,children:yt,...mt}=ft,gt=React.useRef(null),vt=useComposedRefs(pt,gt),St=it(lt,ht);return React.useEffect(()=>(St.itemMap.set(gt,{ref:gt,...mt}),()=>void St.itemMap.delete(gt))),jsxRuntimeExports.jsx(Slot,{[ct]:"",ref:vt,children:yt})});ut.displayName=lt;function dt(ft){const pt=it(_e+"CollectionConsumer",ft);return React.useCallback(()=>{const yt=pt.collectionRef.current;if(!yt)return[];const mt=Array.from(yt.querySelectorAll(`[${ct}]`));return Array.from(pt.itemMap.values()).sort((St,xt)=>mt.indexOf(St.ref.current)-mt.indexOf(xt.ref.current))},[pt.collectionRef,pt.itemMap])}return[{Provider:at,Slot:st,ItemSlot:ut},dt,rt]}var DirectionContext=reactExports.createContext(void 0);function useDirection(_e){const et=reactExports.useContext(DirectionContext);return _e||et||"ltr"}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Primitive=NODES.reduce((_e,et)=>{const tt=reactExports.forwardRef((rt,nt)=>{const{asChild:it,...at}=rt,ot=it?Slot:et;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(ot,{...at,ref:nt})});return tt.displayName=`Primitive.${et}`,{..._e,[et]:tt}},{});function dispatchDiscreteCustomEvent(_e,et){_e&&reactDomExports.flushSync(()=>_e.dispatchEvent(et))}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((_e,et)=>{const{disableOutsidePointerEvents:tt=!1,onEscapeKeyDown:rt,onPointerDownOutside:nt,onFocusOutside:it,onInteractOutside:at,onDismiss:ot,...st}=_e,lt=reactExports.useContext(DismissableLayerContext),[ct,ut]=reactExports.useState(null),dt=(ct==null?void 0:ct.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,ft]=reactExports.useState({}),pt=useComposedRefs(et,wt=>ut(wt)),ht=Array.from(lt.layers),[yt]=[...lt.layersWithOutsidePointerEventsDisabled].slice(-1),mt=ht.indexOf(yt),gt=ct?ht.indexOf(ct):-1,vt=lt.layersWithOutsidePointerEventsDisabled.size>0,St=gt>=mt,xt=usePointerDownOutside(wt=>{const _t=wt.target,Ot=[...lt.branches].some(kt=>kt.contains(_t));!St||Ot||(nt==null||nt(wt),at==null||at(wt),wt.defaultPrevented||ot==null||ot())},dt),Ct=useFocusOutside(wt=>{const _t=wt.target;[...lt.branches].some(kt=>kt.contains(_t))||(it==null||it(wt),at==null||at(wt),wt.defaultPrevented||ot==null||ot())},dt);return useEscapeKeydown(wt=>{gt===lt.layers.size-1&&(rt==null||rt(wt),!wt.defaultPrevented&&ot&&(wt.preventDefault(),ot()))},dt),reactExports.useEffect(()=>{if(ct)return tt&&(lt.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=dt.body.style.pointerEvents,dt.body.style.pointerEvents="none"),lt.layersWithOutsidePointerEventsDisabled.add(ct)),lt.layers.add(ct),dispatchUpdate(),()=>{tt&&lt.layersWithOutsidePointerEventsDisabled.size===1&&(dt.body.style.pointerEvents=originalBodyPointerEvents)}},[ct,dt,tt,lt]),reactExports.useEffect(()=>()=>{ct&&(lt.layers.delete(ct),lt.layersWithOutsidePointerEventsDisabled.delete(ct),dispatchUpdate())},[ct,lt]),reactExports.useEffect(()=>{const wt=()=>ft({});return document.addEventListener(CONTEXT_UPDATE,wt),()=>document.removeEventListener(CONTEXT_UPDATE,wt)},[]),jsxRuntimeExports.jsx(Primitive.div,{...st,ref:pt,style:{pointerEvents:vt?St?"auto":"none":void 0,..._e.style},onFocusCapture:composeEventHandlers(_e.onFocusCapture,Ct.onFocusCapture),onBlurCapture:composeEventHandlers(_e.onBlurCapture,Ct.onBlurCapture),onPointerDownCapture:composeEventHandlers(_e.onPointerDownCapture,xt.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((_e,et)=>{const tt=reactExports.useContext(DismissableLayerContext),rt=reactExports.useRef(null),nt=useComposedRefs(et,rt);return reactExports.useEffect(()=>{const it=rt.current;if(it)return tt.branches.add(it),()=>{tt.branches.delete(it)}},[tt.branches]),jsxRuntimeExports.jsx(Primitive.div,{..._e,ref:nt})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(_e,et=globalThis==null?void 0:globalThis.document){const tt=useCallbackRef$1(_e),rt=reactExports.useRef(!1),nt=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const it=ot=>{if(ot.target&&!rt.current){let st=function(){handleAndDispatchCustomEvent(POINTER_DOWN_OUTSIDE,tt,lt,{discrete:!0})};const lt={originalEvent:ot};ot.pointerType==="touch"?(et.removeEventListener("click",nt.current),nt.current=st,et.addEventListener("click",nt.current,{once:!0})):st()}else et.removeEventListener("click",nt.current);rt.current=!1},at=window.setTimeout(()=>{et.addEventListener("pointerdown",it)},0);return()=>{window.clearTimeout(at),et.removeEventListener("pointerdown",it),et.removeEventListener("click",nt.current)}},[et,tt]),{onPointerDownCapture:()=>rt.current=!0}}function useFocusOutside(_e,et=globalThis==null?void 0:globalThis.document){const tt=useCallbackRef$1(_e),rt=reactExports.useRef(!1);return reactExports.useEffect(()=>{const nt=it=>{it.target&&!rt.current&&handleAndDispatchCustomEvent(FOCUS_OUTSIDE,tt,{originalEvent:it},{discrete:!1})};return et.addEventListener("focusin",nt),()=>et.removeEventListener("focusin",nt)},[et,tt]),{onFocusCapture:()=>rt.current=!0,onBlurCapture:()=>rt.current=!1}}function dispatchUpdate(){const _e=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(_e)}function handleAndDispatchCustomEvent(_e,et,tt,{discrete:rt}){const nt=tt.originalEvent.target,it=new CustomEvent(_e,{bubbles:!1,cancelable:!0,detail:tt});et&&nt.addEventListener(_e,et,{once:!0}),rt?dispatchDiscreteCustomEvent(nt,it):nt.dispatchEvent(it)}var count=0;function useFocusGuards(){reactExports.useEffect(()=>{const _e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",_e[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",_e[1]??createFocusGuard()),count++,()=>{count===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(et=>et.remove()),count--}},[])}function createFocusGuard(){const _e=document.createElement("span");return _e.setAttribute("data-radix-focus-guard",""),_e.tabIndex=0,_e.style.outline="none",_e.style.opacity="0",_e.style.position="fixed",_e.style.pointerEvents="none",_e}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((_e,et)=>{const{loop:tt=!1,trapped:rt=!1,onMountAutoFocus:nt,onUnmountAutoFocus:it,...at}=_e,[ot,st]=reactExports.useState(null),lt=useCallbackRef$1(nt),ct=useCallbackRef$1(it),ut=reactExports.useRef(null),dt=useComposedRefs(et,ht=>st(ht)),ft=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(rt){let ht=function(vt){if(ft.paused||!ot)return;const St=vt.target;ot.contains(St)?ut.current=St:focus(ut.current,{select:!0})},yt=function(vt){if(ft.paused||!ot)return;const St=vt.relatedTarget;St!==null&&(ot.contains(St)||focus(ut.current,{select:!0}))},mt=function(vt){if(document.activeElement===document.body)for(const xt of vt)xt.removedNodes.length>0&&focus(ot)};document.addEventListener("focusin",ht),document.addEventListener("focusout",yt);const gt=new MutationObserver(mt);return ot&&gt.observe(ot,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",ht),document.removeEventListener("focusout",yt),gt.disconnect()}}},[rt,ot,ft.paused]),reactExports.useEffect(()=>{if(ot){focusScopesStack.add(ft);const ht=document.activeElement;if(!ot.contains(ht)){const mt=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS);ot.addEventListener(AUTOFOCUS_ON_MOUNT,lt),ot.dispatchEvent(mt),mt.defaultPrevented||(focusFirst(removeLinks(getTabbableCandidates(ot)),{select:!0}),document.activeElement===ht&&focus(ot))}return()=>{ot.removeEventListener(AUTOFOCUS_ON_MOUNT,lt),setTimeout(()=>{const mt=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS);ot.addEventListener(AUTOFOCUS_ON_UNMOUNT,ct),ot.dispatchEvent(mt),mt.defaultPrevented||focus(ht??document.body,{select:!0}),ot.removeEventListener(AUTOFOCUS_ON_UNMOUNT,ct),focusScopesStack.remove(ft)},0)}}},[ot,lt,ct,ft]);const pt=reactExports.useCallback(ht=>{if(!tt&&!rt||ft.paused)return;const yt=ht.key==="Tab"&&!ht.altKey&&!ht.ctrlKey&&!ht.metaKey,mt=document.activeElement;if(yt&&mt){const gt=ht.currentTarget,[vt,St]=getTabbableEdges(gt);vt&&St?!ht.shiftKey&&mt===St?(ht.preventDefault(),tt&&focus(vt,{select:!0})):ht.shiftKey&&mt===vt&&(ht.preventDefault(),tt&&focus(St,{select:!0})):mt===gt&&ht.preventDefault()}},[tt,rt,ft.paused]);return jsxRuntimeExports.jsx(Primitive.div,{tabIndex:-1,...at,ref:dt,onKeyDown:pt})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst(_e,{select:et=!1}={}){const tt=document.activeElement;for(const rt of _e)if(focus(rt,{select:et}),document.activeElement!==tt)return}function getTabbableEdges(_e){const et=getTabbableCandidates(_e),tt=findVisible(et,_e),rt=findVisible(et.reverse(),_e);return[tt,rt]}function getTabbableCandidates(_e){const et=[],tt=document.createTreeWalker(_e,NodeFilter.SHOW_ELEMENT,{acceptNode:rt=>{const nt=rt.tagName==="INPUT"&&rt.type==="hidden";return rt.disabled||rt.hidden||nt?NodeFilter.FILTER_SKIP:rt.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;tt.nextNode();)et.push(tt.currentNode);return et}function findVisible(_e,et){for(const tt of _e)if(!isHidden(tt,{upTo:et}))return tt}function isHidden(_e,{upTo:et}){if(getComputedStyle(_e).visibility==="hidden")return!0;for(;_e;){if(et!==void 0&&_e===et)return!1;if(getComputedStyle(_e).display==="none")return!0;_e=_e.parentElement}return!1}function isSelectableInput(_e){return _e instanceof HTMLInputElement&&"select"in _e}function focus(_e,{select:et=!1}={}){if(_e&&_e.focus){const tt=document.activeElement;_e.focus({preventScroll:!0}),_e!==tt&&isSelectableInput(_e)&&et&&_e.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let _e=[];return{add(et){const tt=_e[0];et!==tt&&(tt==null||tt.pause()),_e=arrayRemove(_e,et),_e.unshift(et)},remove(et){var tt;_e=arrayRemove(_e,et),(tt=_e[0])==null||tt.resume()}}}function arrayRemove(_e,et){const tt=[..._e],rt=tt.indexOf(et);return rt!==-1&&tt.splice(rt,1),tt}function removeLinks(_e){return _e.filter(et=>et.tagName!=="A")}var NAME$1="Arrow",Arrow$1=reactExports.forwardRef((_e,et)=>{const{children:tt,width:rt=10,height:nt=5,...it}=_e;return jsxRuntimeExports.jsx(Primitive.svg,{...it,ref:et,width:rt,height:nt,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:_e.asChild?tt:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$1;var Root=Arrow$1,POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope$1(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=_e=>{const{__scopePopper:et,children:tt}=_e,[rt,nt]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:et,anchor:rt,onAnchorChange:nt,children:tt})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME="PopperAnchor",PopperAnchor=reactExports.forwardRef((_e,et)=>{const{__scopePopper:tt,virtualRef:rt,...nt}=_e,it=usePopperContext(ANCHOR_NAME,tt),at=reactExports.useRef(null),ot=useComposedRefs(et,at);return reactExports.useEffect(()=>{it.onAnchorChange((rt==null?void 0:rt.current)||at.current)}),rt?null:jsxRuntimeExports.jsx(Primitive.div,{...nt,ref:ot})});PopperAnchor.displayName=ANCHOR_NAME;var CONTENT_NAME$1="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$1),PopperContent=reactExports.forwardRef((_e,et)=>{var vr,Br,mr,Ir,br,Tr;const{__scopePopper:tt,side:rt="bottom",sideOffset:nt=0,align:it="center",alignOffset:at=0,arrowPadding:ot=0,avoidCollisions:st=!0,collisionBoundary:lt=[],collisionPadding:ct=0,sticky:ut="partial",hideWhenDetached:dt=!1,updatePositionStrategy:ft="optimized",onPlaced:pt,...ht}=_e,yt=usePopperContext(CONTENT_NAME$1,tt),[mt,gt]=reactExports.useState(null),vt=useComposedRefs(et,Vr=>gt(Vr)),[St,xt]=reactExports.useState(null),Ct=useSize(St),wt=(Ct==null?void 0:Ct.width)??0,_t=(Ct==null?void 0:Ct.height)??0,Ot=rt+(it!=="center"?"-"+it:""),kt=typeof ct=="number"?ct:{top:0,right:0,bottom:0,left:0,...ct},Lt=Array.isArray(lt)?lt:[lt],$t=Lt.length>0,zt={padding:kt,boundary:Lt.filter(isNotNull),altBoundary:$t},{refs:Vt,floatingStyles:Ut,placement:It,isPositioned:Dt,middlewareData:Tt}=useFloating({strategy:"fixed",placement:Ot,whileElementsMounted:(...Vr)=>autoUpdate(...Vr,{animationFrame:ft==="always"}),elements:{reference:yt.anchor},middleware:[offset$1({mainAxis:nt+_t,alignmentAxis:at}),st&&shift({mainAxis:!0,crossAxis:!1,limiter:ut==="partial"?limitShift():void 0,...zt}),st&&flip({...zt}),size({...zt,apply:({elements:Vr,rects:yr,availableWidth:rn,availableHeight:ar})=>{const{width:Er,height:_r}=yr.reference,gr=Vr.floating.style;gr.setProperty("--radix-popper-available-width",`${rn}px`),gr.setProperty("--radix-popper-available-height",`${ar}px`),gr.setProperty("--radix-popper-anchor-width",`${Er}px`),gr.setProperty("--radix-popper-anchor-height",`${_r}px`)}}),St&&arrow({element:St,padding:ot}),transformOrigin({arrowWidth:wt,arrowHeight:_t}),dt&&hide({strategy:"referenceHidden",...zt})]}),[Rt,Ft]=getSideAndAlignFromPlacement(It),jt=useCallbackRef$1(pt);useLayoutEffect2(()=>{Dt&&(jt==null||jt())},[Dt,jt]);const nr=(vr=Tt.arrow)==null?void 0:vr.x,cr=(Br=Tt.arrow)==null?void 0:Br.y,ur=((mr=Tt.arrow)==null?void 0:mr.centerOffset)!==0,[pr,xr]=reactExports.useState();return useLayoutEffect2(()=>{mt&&xr(window.getComputedStyle(mt).zIndex)},[mt]),jsxRuntimeExports.jsx("div",{ref:Vt.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ut,transform:Dt?Ut.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pr,"--radix-popper-transform-origin":[(Ir=Tt.transformOrigin)==null?void 0:Ir.x,(br=Tt.transformOrigin)==null?void 0:br.y].join(" "),...((Tr=Tt.hide)==null?void 0:Tr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:_e.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:tt,placedSide:Rt,onArrowChange:xt,arrowX:nr,arrowY:cr,shouldHideArrow:ur,children:jsxRuntimeExports.jsx(Primitive.div,{"data-side":Rt,"data-align":Ft,...ht,ref:vt,style:{...ht.style,animation:Dt?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$1;var ARROW_NAME$1="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function _e(et,tt){const{__scopePopper:rt,...nt}=et,it=useContentContext(ARROW_NAME$1,rt),at=OPPOSITE_SIDE[it.placedSide];return jsxRuntimeExports.jsx("span",{ref:it.onArrowChange,style:{position:"absolute",left:it.arrowX,top:it.arrowY,[at]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[it.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[it.placedSide],visibility:it.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root,{...nt,ref:tt,style:{...nt.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$1;function isNotNull(_e){return _e!==null}var transformOrigin=_e=>({name:"transformOrigin",options:_e,fn(et){var yt,mt,gt;const{placement:tt,rects:rt,middlewareData:nt}=et,at=((yt=nt.arrow)==null?void 0:yt.centerOffset)!==0,ot=at?0:_e.arrowWidth,st=at?0:_e.arrowHeight,[lt,ct]=getSideAndAlignFromPlacement(tt),ut={start:"0%",center:"50%",end:"100%"}[ct],dt=(((mt=nt.arrow)==null?void 0:mt.x)??0)+ot/2,ft=(((gt=nt.arrow)==null?void 0:gt.y)??0)+st/2;let pt="",ht="";return lt==="bottom"?(pt=at?ut:`${dt}px`,ht=`${-st}px`):lt==="top"?(pt=at?ut:`${dt}px`,ht=`${rt.floating.height+st}px`):lt==="right"?(pt=`${-st}px`,ht=at?ut:`${ft}px`):lt==="left"&&(pt=`${rt.floating.width+st}px`,ht=at?ut:`${ft}px`),{data:{x:pt,y:ht}}}});function getSideAndAlignFromPlacement(_e){const[et,tt="center"]=_e.split("-");return[et,tt]}var Root2$1=Popper,Anchor=PopperAnchor,Content$1=PopperContent,Arrow=PopperArrow;function usePrevious(_e){const et=reactExports.useRef({value:_e,previous:_e});return reactExports.useMemo(()=>(et.current.value!==_e&&(et.current.previous=et.current.value,et.current.value=_e),et.current.previous),[_e])}var NAME="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((_e,et)=>jsxRuntimeExports.jsx(Primitive.span,{..._e,ref:et,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",..._e.style}}));VisuallyHidden.displayName=NAME;var getDefaultParent=function(_e){if(typeof document>"u")return null;var et=Array.isArray(_e)?_e[0]:_e;return et.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(_e){return _e&&(_e.host||unwrapHost(_e.parentNode))},correctTargets=function(_e,et){return et.map(function(tt){if(_e.contains(tt))return tt;var rt=unwrapHost(tt);return rt&&_e.contains(rt)?rt:(console.error("aria-hidden",tt,"in not contained inside",_e,". Doing nothing"),null)}).filter(function(tt){return!!tt})},applyAttributeToOthers=function(_e,et,tt,rt){var nt=correctTargets(et,Array.isArray(_e)?_e:[_e]);markerMap[tt]||(markerMap[tt]=new WeakMap);var it=markerMap[tt],at=[],ot=new Set,st=new Set(nt),lt=function(ut){!ut||ot.has(ut)||(ot.add(ut),lt(ut.parentNode))};nt.forEach(lt);var ct=function(ut){!ut||st.has(ut)||Array.prototype.forEach.call(ut.children,function(dt){if(ot.has(dt))ct(dt);else try{var ft=dt.getAttribute(rt),pt=ft!==null&&ft!=="false",ht=(counterMap.get(dt)||0)+1,yt=(it.get(dt)||0)+1;counterMap.set(dt,ht),it.set(dt,yt),at.push(dt),ht===1&&pt&&uncontrolledNodes.set(dt,!0),yt===1&&dt.setAttribute(tt,"true"),pt||dt.setAttribute(rt,"true")}catch(mt){console.error("aria-hidden: cannot operate on ",dt,mt)}})};return ct(et),ot.clear(),lockCount++,function(){at.forEach(function(ut){var dt=counterMap.get(ut)-1,ft=it.get(ut)-1;counterMap.set(ut,dt),it.set(ut,ft),dt||(uncontrolledNodes.has(ut)||ut.removeAttribute(rt),uncontrolledNodes.delete(ut)),ft||ut.removeAttribute(tt)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(_e,et,tt){tt===void 0&&(tt="data-aria-hidden");var rt=Array.from(Array.isArray(_e)?_e:[_e]),nt=getDefaultParent(_e);return nt?(rt.push.apply(rt,Array.from(nt.querySelectorAll("[aria-live]"))),applyAttributeToOthers(rt,nt,tt,"aria-hidden")):function(){return null}},zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(_e,et){return typeof _e=="function"?_e(et):_e&&(_e.current=et),_e}function useCallbackRef(_e,et){var tt=reactExports.useState(function(){return{value:_e,callback:et,facade:{get current(){return tt.value},set current(rt){var nt=tt.value;nt!==rt&&(tt.value=rt,tt.callback(rt,nt))}}}})[0];return tt.callback=et,tt.facade}var useIsomorphicLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(_e,et){var tt=useCallbackRef(null,function(rt){return _e.forEach(function(nt){return assignRef(nt,rt)})});return useIsomorphicLayoutEffect(function(){var rt=currentValues.get(tt);if(rt){var nt=new Set(rt),it=new Set(_e),at=tt.current;nt.forEach(function(ot){it.has(ot)||assignRef(ot,null)}),it.forEach(function(ot){nt.has(ot)||assignRef(ot,at)})}currentValues.set(tt,_e)},[_e]),tt}function ItoI(_e){return _e}function innerCreateMedium(_e,et){et===void 0&&(et=ItoI);var tt=[],rt=!1,nt={read:function(){if(rt)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return tt.length?tt[tt.length-1]:_e},useMedium:function(it){var at=et(it,rt);return tt.push(at),function(){tt=tt.filter(function(ot){return ot!==at})}},assignSyncMedium:function(it){for(rt=!0;tt.length;){var at=tt;tt=[],at.forEach(it)}tt={push:function(ot){return it(ot)},filter:function(){return tt}}},assignMedium:function(it){rt=!0;var at=[];if(tt.length){var ot=tt;tt=[],ot.forEach(it),at=tt}var st=function(){var ct=at;at=[],ct.forEach(it)},lt=function(){return Promise.resolve().then(st)};lt(),tt={push:function(ct){at.push(ct),lt()},filter:function(ct){return at=at.filter(ct),tt}}}};return nt}function createSidecarMedium(_e){_e===void 0&&(_e={});var et=innerCreateMedium(null);return et.options=__assign({async:!0,ssr:!1},_e),et}var SideCar$1=function(_e){var et=_e.sideCar,tt=__rest$1(_e,["sideCar"]);if(!et)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var rt=et.read();if(!rt)throw new Error("Sidecar medium not found");return reactExports.createElement(rt,__assign({},tt))};SideCar$1.isSideCarExport=!0;function exportSidecar(_e,et){return _e.useMedium(et),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(_e,et){var tt=reactExports.useRef(null),rt=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),nt=rt[0],it=rt[1],at=_e.forwardProps,ot=_e.children,st=_e.className,lt=_e.removeScrollBar,ct=_e.enabled,ut=_e.shards,dt=_e.sideCar,ft=_e.noIsolation,pt=_e.inert,ht=_e.allowPinchZoom,yt=_e.as,mt=yt===void 0?"div":yt,gt=_e.gapMode,vt=__rest$1(_e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),St=dt,xt=useMergeRefs([tt,et]),Ct=__assign(__assign({},vt),nt);return reactExports.createElement(reactExports.Fragment,null,ct&&reactExports.createElement(St,{sideCar:effectCar,removeScrollBar:lt,shards:ut,noIsolation:ft,inert:pt,setCallbacks:it,allowPinchZoom:!!ht,lockRef:tt,gapMode:gt}),at?reactExports.cloneElement(reactExports.Children.only(ot),__assign(__assign({},Ct),{ref:xt})):reactExports.createElement(mt,__assign({},Ct,{className:st,ref:xt}),ot))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var _e=document.createElement("style");_e.type="text/css";var et=getNonce();return et&&_e.setAttribute("nonce",et),_e}function injectStyles(_e,et){_e.styleSheet?_e.styleSheet.cssText=et:_e.appendChild(document.createTextNode(et))}function insertStyleTag(_e){var et=document.head||document.getElementsByTagName("head")[0];et.appendChild(_e)}var stylesheetSingleton=function(){var _e=0,et=null;return{add:function(tt){_e==0&&(et=makeStyleTag())&&(injectStyles(et,tt),insertStyleTag(et)),_e++},remove:function(){_e--,!_e&&et&&(et.parentNode&&et.parentNode.removeChild(et),et=null)}}},styleHookSingleton=function(){var _e=stylesheetSingleton();return function(et,tt){reactExports.useEffect(function(){return _e.add(et),function(){_e.remove()}},[et&&tt])}},styleSingleton=function(){var _e=styleHookSingleton(),et=function(tt){var rt=tt.styles,nt=tt.dynamic;return _e(rt,nt),null};return et},zeroGap={left:0,top:0,right:0,gap:0},parse=function(_e){return parseInt(_e||"",10)||0},getOffset=function(_e){var et=window.getComputedStyle(document.body),tt=et[_e==="padding"?"paddingLeft":"marginLeft"],rt=et[_e==="padding"?"paddingTop":"marginTop"],nt=et[_e==="padding"?"paddingRight":"marginRight"];return[parse(tt),parse(rt),parse(nt)]},getGapWidth=function(_e){if(_e===void 0&&(_e="margin"),typeof window>"u")return zeroGap;var et=getOffset(_e),tt=document.documentElement.clientWidth,rt=window.innerWidth;return{left:et[0],top:et[1],right:et[2],gap:Math.max(0,rt-tt+et[2]-et[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(_e,et,tt,rt){var nt=_e.left,it=_e.top,at=_e.right,ot=_e.gap;return tt===void 0&&(tt="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(rt,`;
   padding-right: `).concat(ot,"px ").concat(rt,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(rt,`;
    overscroll-behavior: contain;
    `).concat([et&&"position: relative ".concat(rt,";"),tt==="margin"&&`
    padding-left: `.concat(nt,`px;
    padding-top: `).concat(it,`px;
    padding-right: `).concat(at,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(ot,"px ").concat(rt,`;
    `),tt==="padding"&&"padding-right: ".concat(ot,"px ").concat(rt,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(ot,"px ").concat(rt,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(ot,"px ").concat(rt,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(rt,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(rt,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(ot,`px;
  }
`)},getCurrentUseCounter=function(){var _e=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(_e)?_e:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var _e=getCurrentUseCounter()-1;_e<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,_e.toString())}},[])},RemoveScrollBar=function(_e){var et=_e.noRelative,tt=_e.noImportant,rt=_e.gapMode,nt=rt===void 0?"margin":rt;useLockAttribute();var it=reactExports.useMemo(function(){return getGapWidth(nt)},[nt]);return reactExports.createElement(Style,{styles:getStyles(it,!et,nt,tt?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(_e){return _e.tagName==="TEXTAREA"},elementCanBeScrolled=function(_e,et){if(!(_e instanceof Element))return!1;var tt=window.getComputedStyle(_e);return tt[et]!=="hidden"&&!(tt.overflowY===tt.overflowX&&!alwaysContainsScroll(_e)&&tt[et]==="visible")},elementCouldBeVScrolled=function(_e){return elementCanBeScrolled(_e,"overflowY")},elementCouldBeHScrolled=function(_e){return elementCanBeScrolled(_e,"overflowX")},locationCouldBeScrolled=function(_e,et){var tt=et.ownerDocument,rt=et;do{typeof ShadowRoot<"u"&&rt instanceof ShadowRoot&&(rt=rt.host);var nt=elementCouldBeScrolled(_e,rt);if(nt){var it=getScrollVariables(_e,rt),at=it[1],ot=it[2];if(at>ot)return!0}rt=rt.parentNode}while(rt&&rt!==tt.body);return!1},getVScrollVariables=function(_e){var et=_e.scrollTop,tt=_e.scrollHeight,rt=_e.clientHeight;return[et,tt,rt]},getHScrollVariables=function(_e){var et=_e.scrollLeft,tt=_e.scrollWidth,rt=_e.clientWidth;return[et,tt,rt]},elementCouldBeScrolled=function(_e,et){return _e==="v"?elementCouldBeVScrolled(et):elementCouldBeHScrolled(et)},getScrollVariables=function(_e,et){return _e==="v"?getVScrollVariables(et):getHScrollVariables(et)},getDirectionFactor=function(_e,et){return _e==="h"&&et==="rtl"?-1:1},handleScroll=function(_e,et,tt,rt,nt){var it=getDirectionFactor(_e,window.getComputedStyle(et).direction),at=it*rt,ot=tt.target,st=et.contains(ot),lt=!1,ct=at>0,ut=0,dt=0;do{var ft=getScrollVariables(_e,ot),pt=ft[0],ht=ft[1],yt=ft[2],mt=ht-yt-it*pt;(pt||mt)&&elementCouldBeScrolled(_e,ot)&&(ut+=mt,dt+=pt),ot instanceof ShadowRoot?ot=ot.host:ot=ot.parentNode}while(!st&&ot!==document.body||st&&(et.contains(ot)||et===ot));return(ct&&(Math.abs(ut)<1||!nt)||!ct&&(Math.abs(dt)<1||!nt))&&(lt=!0),lt},getTouchXY=function(_e){return"changedTouches"in _e?[_e.changedTouches[0].clientX,_e.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(_e){return[_e.deltaX,_e.deltaY]},extractRef=function(_e){return _e&&"current"in _e?_e.current:_e},deltaCompare=function(_e,et){return _e[0]===et[0]&&_e[1]===et[1]},generateStyle=function(_e){return`
  .block-interactivity-`.concat(_e,` {pointer-events: none;}
  .allow-interactivity-`).concat(_e,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(_e){var et=reactExports.useRef([]),tt=reactExports.useRef([0,0]),rt=reactExports.useRef(),nt=reactExports.useState(idCounter++)[0],it=reactExports.useState(styleSingleton)[0],at=reactExports.useRef(_e);reactExports.useEffect(function(){at.current=_e},[_e]),reactExports.useEffect(function(){if(_e.inert){document.body.classList.add("block-interactivity-".concat(nt));var ht=__spreadArray$1([_e.lockRef.current],(_e.shards||[]).map(extractRef),!0).filter(Boolean);return ht.forEach(function(yt){return yt.classList.add("allow-interactivity-".concat(nt))}),function(){document.body.classList.remove("block-interactivity-".concat(nt)),ht.forEach(function(yt){return yt.classList.remove("allow-interactivity-".concat(nt))})}}},[_e.inert,_e.lockRef.current,_e.shards]);var ot=reactExports.useCallback(function(ht,yt){if("touches"in ht&&ht.touches.length===2||ht.type==="wheel"&&ht.ctrlKey)return!at.current.allowPinchZoom;var mt=getTouchXY(ht),gt=tt.current,vt="deltaX"in ht?ht.deltaX:gt[0]-mt[0],St="deltaY"in ht?ht.deltaY:gt[1]-mt[1],xt,Ct=ht.target,wt=Math.abs(vt)>Math.abs(St)?"h":"v";if("touches"in ht&&wt==="h"&&Ct.type==="range")return!1;var _t=locationCouldBeScrolled(wt,Ct);if(!_t)return!0;if(_t?xt=wt:(xt=wt==="v"?"h":"v",_t=locationCouldBeScrolled(wt,Ct)),!_t)return!1;if(!rt.current&&"changedTouches"in ht&&(vt||St)&&(rt.current=xt),!xt)return!0;var Ot=rt.current||xt;return handleScroll(Ot,yt,ht,Ot==="h"?vt:St,!0)},[]),st=reactExports.useCallback(function(ht){var yt=ht;if(!(!lockStack.length||lockStack[lockStack.length-1]!==it)){var mt="deltaY"in yt?getDeltaXY(yt):getTouchXY(yt),gt=et.current.filter(function(xt){return xt.name===yt.type&&(xt.target===yt.target||yt.target===xt.shadowParent)&&deltaCompare(xt.delta,mt)})[0];if(gt&&gt.should){yt.cancelable&&yt.preventDefault();return}if(!gt){var vt=(at.current.shards||[]).map(extractRef).filter(Boolean).filter(function(xt){return xt.contains(yt.target)}),St=vt.length>0?ot(yt,vt[0]):!at.current.noIsolation;St&&yt.cancelable&&yt.preventDefault()}}},[]),lt=reactExports.useCallback(function(ht,yt,mt,gt){var vt={name:ht,delta:yt,target:mt,should:gt,shadowParent:getOutermostShadowParent(mt)};et.current.push(vt),setTimeout(function(){et.current=et.current.filter(function(St){return St!==vt})},1)},[]),ct=reactExports.useCallback(function(ht){tt.current=getTouchXY(ht),rt.current=void 0},[]),ut=reactExports.useCallback(function(ht){lt(ht.type,getDeltaXY(ht),ht.target,ot(ht,_e.lockRef.current))},[]),dt=reactExports.useCallback(function(ht){lt(ht.type,getTouchXY(ht),ht.target,ot(ht,_e.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(it),_e.setCallbacks({onScrollCapture:ut,onWheelCapture:ut,onTouchMoveCapture:dt}),document.addEventListener("wheel",st,nonPassive),document.addEventListener("touchmove",st,nonPassive),document.addEventListener("touchstart",ct,nonPassive),function(){lockStack=lockStack.filter(function(ht){return ht!==it}),document.removeEventListener("wheel",st,nonPassive),document.removeEventListener("touchmove",st,nonPassive),document.removeEventListener("touchstart",ct,nonPassive)}},[]);var ft=_e.removeScrollBar,pt=_e.inert;return reactExports.createElement(reactExports.Fragment,null,pt?reactExports.createElement(it,{styles:generateStyle(nt)}):null,ft?reactExports.createElement(RemoveScrollBar,{gapMode:_e.gapMode}):null)}function getOutermostShadowParent(_e){for(var et=null;_e!==null;)_e instanceof ShadowRoot&&(et=_e.host,_e=_e.host),_e=_e.parentNode;return et}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(_e,et){return reactExports.createElement(RemoveScroll,__assign({},_e,{ref:et,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],SELECTION_KEYS=[" ","Enter"],SELECT_NAME="Select",[Collection,useCollection,createCollectionScope]=createCollection(SELECT_NAME),[createSelectContext,createSelectScope]=createContextScope$1(SELECT_NAME,[createCollectionScope,createPopperScope]),usePopperScope=createPopperScope(),[SelectProvider,useSelectContext]=createSelectContext(SELECT_NAME),[SelectNativeOptionsProvider,useSelectNativeOptionsContext]=createSelectContext(SELECT_NAME),Select$1=_e=>{const{__scopeSelect:et,children:tt,open:rt,defaultOpen:nt,onOpenChange:it,value:at,defaultValue:ot,onValueChange:st,dir:lt,name:ct,autoComplete:ut,disabled:dt,required:ft,form:pt}=_e,ht=usePopperScope(et),[yt,mt]=reactExports.useState(null),[gt,vt]=reactExports.useState(null),[St,xt]=reactExports.useState(!1),Ct=useDirection(lt),[wt=!1,_t]=useControllableState({prop:rt,defaultProp:nt,onChange:it}),[Ot,kt]=useControllableState({prop:at,defaultProp:ot,onChange:st}),Lt=reactExports.useRef(null),$t=yt?pt||!!yt.closest("form"):!0,[zt,Vt]=reactExports.useState(new Set),Ut=Array.from(zt).map(It=>It.props.value).join(";");return jsxRuntimeExports.jsx(Root2$1,{...ht,children:jsxRuntimeExports.jsxs(SelectProvider,{required:ft,scope:et,trigger:yt,onTriggerChange:mt,valueNode:gt,onValueNodeChange:vt,valueNodeHasChildren:St,onValueNodeHasChildrenChange:xt,contentId:useId(),value:Ot,onValueChange:kt,open:wt,onOpenChange:_t,dir:Ct,triggerPointerDownPosRef:Lt,disabled:dt,children:[jsxRuntimeExports.jsx(Collection.Provider,{scope:et,children:jsxRuntimeExports.jsx(SelectNativeOptionsProvider,{scope:_e.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(It=>{Vt(Dt=>new Set(Dt).add(It))},[]),onNativeOptionRemove:reactExports.useCallback(It=>{Vt(Dt=>{const Tt=new Set(Dt);return Tt.delete(It),Tt})},[]),children:tt})}),$t?jsxRuntimeExports.jsxs(BubbleSelect,{"aria-hidden":!0,required:ft,tabIndex:-1,name:ct,autoComplete:ut,value:Ot,onChange:It=>kt(It.target.value),disabled:dt,form:pt,children:[Ot===void 0?jsxRuntimeExports.jsx("option",{value:""}):null,Array.from(zt)]},Ut):null]})})};Select$1.displayName=SELECT_NAME;var TRIGGER_NAME="SelectTrigger",SelectTrigger=reactExports.forwardRef((_e,et)=>{const{__scopeSelect:tt,disabled:rt=!1,...nt}=_e,it=usePopperScope(tt),at=useSelectContext(TRIGGER_NAME,tt),ot=at.disabled||rt,st=useComposedRefs(et,at.onTriggerChange),lt=useCollection(tt),ct=reactExports.useRef("touch"),[ut,dt,ft]=useTypeaheadSearch(ht=>{const yt=lt().filter(vt=>!vt.disabled),mt=yt.find(vt=>vt.value===at.value),gt=findNextItem(yt,ht,mt);gt!==void 0&&at.onValueChange(gt.value)}),pt=ht=>{ot||(at.onOpenChange(!0),ft()),ht&&(at.triggerPointerDownPosRef.current={x:Math.round(ht.pageX),y:Math.round(ht.pageY)})};return jsxRuntimeExports.jsx(Anchor,{asChild:!0,...it,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"combobox","aria-controls":at.contentId,"aria-expanded":at.open,"aria-required":at.required,"aria-autocomplete":"none",dir:at.dir,"data-state":at.open?"open":"closed",disabled:ot,"data-disabled":ot?"":void 0,"data-placeholder":shouldShowPlaceholder(at.value)?"":void 0,...nt,ref:st,onClick:composeEventHandlers(nt.onClick,ht=>{ht.currentTarget.focus(),ct.current!=="mouse"&&pt(ht)}),onPointerDown:composeEventHandlers(nt.onPointerDown,ht=>{ct.current=ht.pointerType;const yt=ht.target;yt.hasPointerCapture(ht.pointerId)&&yt.releasePointerCapture(ht.pointerId),ht.button===0&&ht.ctrlKey===!1&&ht.pointerType==="mouse"&&(pt(ht),ht.preventDefault())}),onKeyDown:composeEventHandlers(nt.onKeyDown,ht=>{const yt=ut.current!=="";!(ht.ctrlKey||ht.altKey||ht.metaKey)&&ht.key.length===1&&dt(ht.key),!(yt&&ht.key===" ")&&OPEN_KEYS.includes(ht.key)&&(pt(),ht.preventDefault())})})})});SelectTrigger.displayName=TRIGGER_NAME;var VALUE_NAME="SelectValue",SelectValue=reactExports.forwardRef((_e,et)=>{const{__scopeSelect:tt,className:rt,style:nt,children:it,placeholder:at="",...ot}=_e,st=useSelectContext(VALUE_NAME,tt),{onValueNodeHasChildrenChange:lt}=st,ct=it!==void 0,ut=useComposedRefs(et,st.onValueNodeChange);return useLayoutEffect2(()=>{lt(ct)},[lt,ct]),jsxRuntimeExports.jsx(Primitive.span,{...ot,ref:ut,style:{pointerEvents:"none"},children:shouldShowPlaceholder(st.value)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:at}):it})});SelectValue.displayName=VALUE_NAME;var ICON_NAME="SelectIcon",SelectIcon=reactExports.forwardRef((_e,et)=>{const{__scopeSelect:tt,children:rt,...nt}=_e;return jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,...nt,ref:et,children:rt||""})});SelectIcon.displayName=ICON_NAME;var CONTENT_NAME="SelectContent",SelectContent$1=reactExports.forwardRef((_e,et)=>{const tt=useSelectContext(CONTENT_NAME,_e.__scopeSelect),[rt,nt]=reactExports.useState();if(useLayoutEffect2(()=>{nt(new DocumentFragment)},[]),!tt.open){const it=rt;return it?reactDomExports.createPortal(jsxRuntimeExports.jsx(SelectContentProvider,{scope:_e.__scopeSelect,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:_e.__scopeSelect,children:jsxRuntimeExports.jsx("div",{children:_e.children})})}),it):null}return jsxRuntimeExports.jsx(SelectContentImpl,{..._e,ref:et})});SelectContent$1.displayName=CONTENT_NAME;var CONTENT_MARGIN=10,[SelectContentProvider,useSelectContentContext]=createSelectContext(CONTENT_NAME),CONTENT_IMPL_NAME="SelectContentImpl",SelectContentImpl=reactExports.forwardRef((_e,et)=>{const{__scopeSelect:tt,position:rt="item-aligned",onCloseAutoFocus:nt,onEscapeKeyDown:it,onPointerDownOutside:at,side:ot,sideOffset:st,align:lt,alignOffset:ct,arrowPadding:ut,collisionBoundary:dt,collisionPadding:ft,sticky:pt,hideWhenDetached:ht,avoidCollisions:yt,...mt}=_e,gt=useSelectContext(CONTENT_NAME,tt),[vt,St]=reactExports.useState(null),[xt,Ct]=reactExports.useState(null),wt=useComposedRefs(et,vr=>St(vr)),[_t,Ot]=reactExports.useState(null),[kt,Lt]=reactExports.useState(null),$t=useCollection(tt),[zt,Vt]=reactExports.useState(!1),Ut=reactExports.useRef(!1);reactExports.useEffect(()=>{if(vt)return hideOthers(vt)},[vt]),useFocusGuards();const It=reactExports.useCallback(vr=>{const[Br,...mr]=$t().map(Tr=>Tr.ref.current),[Ir]=mr.slice(-1),br=document.activeElement;for(const Tr of vr)if(Tr===br||(Tr==null||Tr.scrollIntoView({block:"nearest"}),Tr===Br&&xt&&(xt.scrollTop=0),Tr===Ir&&xt&&(xt.scrollTop=xt.scrollHeight),Tr==null||Tr.focus(),document.activeElement!==br))return},[$t,xt]),Dt=reactExports.useCallback(()=>It([_t,vt]),[It,_t,vt]);reactExports.useEffect(()=>{zt&&Dt()},[zt,Dt]);const{onOpenChange:Tt,triggerPointerDownPosRef:Rt}=gt;reactExports.useEffect(()=>{if(vt){let vr={x:0,y:0};const Br=Ir=>{var br,Tr;vr={x:Math.abs(Math.round(Ir.pageX)-(((br=Rt.current)==null?void 0:br.x)??0)),y:Math.abs(Math.round(Ir.pageY)-(((Tr=Rt.current)==null?void 0:Tr.y)??0))}},mr=Ir=>{vr.x<=10&&vr.y<=10?Ir.preventDefault():vt.contains(Ir.target)||Tt(!1),document.removeEventListener("pointermove",Br),Rt.current=null};return Rt.current!==null&&(document.addEventListener("pointermove",Br),document.addEventListener("pointerup",mr,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Br),document.removeEventListener("pointerup",mr,{capture:!0})}}},[vt,Tt,Rt]),reactExports.useEffect(()=>{const vr=()=>Tt(!1);return window.addEventListener("blur",vr),window.addEventListener("resize",vr),()=>{window.removeEventListener("blur",vr),window.removeEventListener("resize",vr)}},[Tt]);const[Ft,jt]=useTypeaheadSearch(vr=>{const Br=$t().filter(br=>!br.disabled),mr=Br.find(br=>br.ref.current===document.activeElement),Ir=findNextItem(Br,vr,mr);Ir&&setTimeout(()=>Ir.ref.current.focus())}),nr=reactExports.useCallback((vr,Br,mr)=>{const Ir=!Ut.current&&!mr;(gt.value!==void 0&&gt.value===Br||Ir)&&(Ot(vr),Ir&&(Ut.current=!0))},[gt.value]),cr=reactExports.useCallback(()=>vt==null?void 0:vt.focus(),[vt]),ur=reactExports.useCallback((vr,Br,mr)=>{const Ir=!Ut.current&&!mr;(gt.value!==void 0&&gt.value===Br||Ir)&&Lt(vr)},[gt.value]),pr=rt==="popper"?SelectPopperPosition:SelectItemAlignedPosition,xr=pr===SelectPopperPosition?{side:ot,sideOffset:st,align:lt,alignOffset:ct,arrowPadding:ut,collisionBoundary:dt,collisionPadding:ft,sticky:pt,hideWhenDetached:ht,avoidCollisions:yt}:{};return jsxRuntimeExports.jsx(SelectContentProvider,{scope:tt,content:vt,viewport:xt,onViewportChange:Ct,itemRefCallback:nr,selectedItem:_t,onItemLeave:cr,itemTextRefCallback:ur,focusSelectedItem:Dt,selectedItemText:kt,position:rt,isPositioned:zt,searchRef:Ft,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:gt.open,onMountAutoFocus:vr=>{vr.preventDefault()},onUnmountAutoFocus:composeEventHandlers(nt,vr=>{var Br;(Br=gt.trigger)==null||Br.focus({preventScroll:!0}),vr.preventDefault()}),children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:it,onPointerDownOutside:at,onFocusOutside:vr=>vr.preventDefault(),onDismiss:()=>gt.onOpenChange(!1),children:jsxRuntimeExports.jsx(pr,{role:"listbox",id:gt.contentId,"data-state":gt.open?"open":"closed",dir:gt.dir,onContextMenu:vr=>vr.preventDefault(),...mt,...xr,onPlaced:()=>Vt(!0),ref:wt,style:{display:"flex",flexDirection:"column",outline:"none",...mt.style},onKeyDown:composeEventHandlers(mt.onKeyDown,vr=>{const Br=vr.ctrlKey||vr.altKey||vr.metaKey;if(vr.key==="Tab"&&vr.preventDefault(),!Br&&vr.key.length===1&&jt(vr.key),["ArrowUp","ArrowDown","Home","End"].includes(vr.key)){let Ir=$t().filter(br=>!br.disabled).map(br=>br.ref.current);if(["ArrowUp","End"].includes(vr.key)&&(Ir=Ir.slice().reverse()),["ArrowUp","ArrowDown"].includes(vr.key)){const br=vr.target,Tr=Ir.indexOf(br);Ir=Ir.slice(Tr+1)}setTimeout(()=>It(Ir)),vr.preventDefault()}})})})})})})});SelectContentImpl.displayName=CONTENT_IMPL_NAME;var ITEM_ALIGNED_POSITION_NAME="SelectItemAlignedPosition",SelectItemAlignedPosition=reactExports.forwardRef((_e,et)=>{const{__scopeSelect:tt,onPlaced:rt,...nt}=_e,it=useSelectContext(CONTENT_NAME,tt),at=useSelectContentContext(CONTENT_NAME,tt),[ot,st]=reactExports.useState(null),[lt,ct]=reactExports.useState(null),ut=useComposedRefs(et,wt=>ct(wt)),dt=useCollection(tt),ft=reactExports.useRef(!1),pt=reactExports.useRef(!0),{viewport:ht,selectedItem:yt,selectedItemText:mt,focusSelectedItem:gt}=at,vt=reactExports.useCallback(()=>{if(it.trigger&&it.valueNode&&ot&&lt&&ht&&yt&&mt){const wt=it.trigger.getBoundingClientRect(),_t=lt.getBoundingClientRect(),Ot=it.valueNode.getBoundingClientRect(),kt=mt.getBoundingClientRect();if(it.dir!=="rtl"){const br=kt.left-_t.left,Tr=Ot.left-br,Vr=wt.left-Tr,yr=wt.width+Vr,rn=Math.max(yr,_t.width),ar=window.innerWidth-CONTENT_MARGIN,Er=clamp(Tr,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,ar-rn)]);ot.style.minWidth=yr+"px",ot.style.left=Er+"px"}else{const br=_t.right-kt.right,Tr=window.innerWidth-Ot.right-br,Vr=window.innerWidth-wt.right-Tr,yr=wt.width+Vr,rn=Math.max(yr,_t.width),ar=window.innerWidth-CONTENT_MARGIN,Er=clamp(Tr,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,ar-rn)]);ot.style.minWidth=yr+"px",ot.style.right=Er+"px"}const Lt=dt(),$t=window.innerHeight-CONTENT_MARGIN*2,zt=ht.scrollHeight,Vt=window.getComputedStyle(lt),Ut=parseInt(Vt.borderTopWidth,10),It=parseInt(Vt.paddingTop,10),Dt=parseInt(Vt.borderBottomWidth,10),Tt=parseInt(Vt.paddingBottom,10),Rt=Ut+It+zt+Tt+Dt,Ft=Math.min(yt.offsetHeight*5,Rt),jt=window.getComputedStyle(ht),nr=parseInt(jt.paddingTop,10),cr=parseInt(jt.paddingBottom,10),ur=wt.top+wt.height/2-CONTENT_MARGIN,pr=$t-ur,xr=yt.offsetHeight/2,vr=yt.offsetTop+xr,Br=Ut+It+vr,mr=Rt-Br;if(Br<=ur){const br=Lt.length>0&&yt===Lt[Lt.length-1].ref.current;ot.style.bottom="0px";const Tr=lt.clientHeight-ht.offsetTop-ht.offsetHeight,Vr=Math.max(pr,xr+(br?cr:0)+Tr+Dt),yr=Br+Vr;ot.style.height=yr+"px"}else{const br=Lt.length>0&&yt===Lt[0].ref.current;ot.style.top="0px";const Vr=Math.max(ur,Ut+ht.offsetTop+(br?nr:0)+xr)+mr;ot.style.height=Vr+"px",ht.scrollTop=Br-ur+ht.offsetTop}ot.style.margin=`${CONTENT_MARGIN}px 0`,ot.style.minHeight=Ft+"px",ot.style.maxHeight=$t+"px",rt==null||rt(),requestAnimationFrame(()=>ft.current=!0)}},[dt,it.trigger,it.valueNode,ot,lt,ht,yt,mt,it.dir,rt]);useLayoutEffect2(()=>vt(),[vt]);const[St,xt]=reactExports.useState();useLayoutEffect2(()=>{lt&&xt(window.getComputedStyle(lt).zIndex)},[lt]);const Ct=reactExports.useCallback(wt=>{wt&&pt.current===!0&&(vt(),gt==null||gt(),pt.current=!1)},[vt,gt]);return jsxRuntimeExports.jsx(SelectViewportProvider,{scope:tt,contentWrapper:ot,shouldExpandOnScrollRef:ft,onScrollButtonChange:Ct,children:jsxRuntimeExports.jsx("div",{ref:st,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:St},children:jsxRuntimeExports.jsx(Primitive.div,{...nt,ref:ut,style:{boxSizing:"border-box",maxHeight:"100%",...nt.style}})})})});SelectItemAlignedPosition.displayName=ITEM_ALIGNED_POSITION_NAME;var POPPER_POSITION_NAME="SelectPopperPosition",SelectPopperPosition=reactExports.forwardRef((_e,et)=>{const{__scopeSelect:tt,align:rt="start",collisionPadding:nt=CONTENT_MARGIN,...it}=_e,at=usePopperScope(tt);return jsxRuntimeExports.jsx(Content$1,{...at,...it,ref:et,align:rt,collisionPadding:nt,style:{boxSizing:"border-box",...it.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SelectPopperPosition.displayName=POPPER_POSITION_NAME;var[SelectViewportProvider,useSelectViewportContext]=createSelectContext(CONTENT_NAME,{}),VIEWPORT_NAME="SelectViewport",SelectViewport=reactExports.forwardRef((_e,et)=>{const{__scopeSelect:tt,nonce:rt,...nt}=_e,it=useSelectContentContext(VIEWPORT_NAME,tt),at=useSelectViewportContext(VIEWPORT_NAME,tt),ot=useComposedRefs(et,it.onViewportChange),st=reactExports.useRef(0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:rt}),jsxRuntimeExports.jsx(Collection.Slot,{scope:tt,children:jsxRuntimeExports.jsx(Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...nt,ref:ot,style:{position:"relative",flex:1,overflow:"hidden auto",...nt.style},onScroll:composeEventHandlers(nt.onScroll,lt=>{const ct=lt.currentTarget,{contentWrapper:ut,shouldExpandOnScrollRef:dt}=at;if(dt!=null&&dt.current&&ut){const ft=Math.abs(st.current-ct.scrollTop);if(ft>0){const pt=window.innerHeight-CONTENT_MARGIN*2,ht=parseFloat(ut.style.minHeight),yt=parseFloat(ut.style.height),mt=Math.max(ht,yt);if(mt<pt){const gt=mt+ft,vt=Math.min(pt,gt),St=gt-vt;ut.style.height=vt+"px",ut.style.bottom==="0px"&&(ct.scrollTop=St>0?St:0,ut.style.justifyContent="flex-end")}}}st.current=ct.scrollTop})})})]})});SelectViewport.displayName=VIEWPORT_NAME;var GROUP_NAME="SelectGroup",[SelectGroupContextProvider,useSelectGroupContext]=createSelectContext(GROUP_NAME),SelectGroup=reactExports.forwardRef((_e,et)=>{const{__scopeSelect:tt,...rt}=_e,nt=useId();return jsxRuntimeExports.jsx(SelectGroupContextProvider,{scope:tt,id:nt,children:jsxRuntimeExports.jsx(Primitive.div,{role:"group","aria-labelledby":nt,...rt,ref:et})})});SelectGroup.displayName=GROUP_NAME;var LABEL_NAME="SelectLabel",SelectLabel=reactExports.forwardRef((_e,et)=>{const{__scopeSelect:tt,...rt}=_e,nt=useSelectGroupContext(LABEL_NAME,tt);return jsxRuntimeExports.jsx(Primitive.div,{id:nt.id,...rt,ref:et})});SelectLabel.displayName=LABEL_NAME;var ITEM_NAME="SelectItem",[SelectItemContextProvider,useSelectItemContext]=createSelectContext(ITEM_NAME),SelectItem$1=reactExports.forwardRef((_e,et)=>{const{__scopeSelect:tt,value:rt,disabled:nt=!1,textValue:it,...at}=_e,ot=useSelectContext(ITEM_NAME,tt),st=useSelectContentContext(ITEM_NAME,tt),lt=ot.value===rt,[ct,ut]=reactExports.useState(it??""),[dt,ft]=reactExports.useState(!1),pt=useComposedRefs(et,gt=>{var vt;return(vt=st.itemRefCallback)==null?void 0:vt.call(st,gt,rt,nt)}),ht=useId(),yt=reactExports.useRef("touch"),mt=()=>{nt||(ot.onValueChange(rt),ot.onOpenChange(!1))};if(rt==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return jsxRuntimeExports.jsx(SelectItemContextProvider,{scope:tt,value:rt,disabled:nt,textId:ht,isSelected:lt,onItemTextChange:reactExports.useCallback(gt=>{ut(vt=>vt||((gt==null?void 0:gt.textContent)??"").trim())},[]),children:jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:tt,value:rt,disabled:nt,textValue:ct,children:jsxRuntimeExports.jsx(Primitive.div,{role:"option","aria-labelledby":ht,"data-highlighted":dt?"":void 0,"aria-selected":lt&&dt,"data-state":lt?"checked":"unchecked","aria-disabled":nt||void 0,"data-disabled":nt?"":void 0,tabIndex:nt?void 0:-1,...at,ref:pt,onFocus:composeEventHandlers(at.onFocus,()=>ft(!0)),onBlur:composeEventHandlers(at.onBlur,()=>ft(!1)),onClick:composeEventHandlers(at.onClick,()=>{yt.current!=="mouse"&&mt()}),onPointerUp:composeEventHandlers(at.onPointerUp,()=>{yt.current==="mouse"&&mt()}),onPointerDown:composeEventHandlers(at.onPointerDown,gt=>{yt.current=gt.pointerType}),onPointerMove:composeEventHandlers(at.onPointerMove,gt=>{var vt;yt.current=gt.pointerType,nt?(vt=st.onItemLeave)==null||vt.call(st):yt.current==="mouse"&&gt.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers(at.onPointerLeave,gt=>{var vt;gt.currentTarget===document.activeElement&&((vt=st.onItemLeave)==null||vt.call(st))}),onKeyDown:composeEventHandlers(at.onKeyDown,gt=>{var St;((St=st.searchRef)==null?void 0:St.current)!==""&&gt.key===" "||(SELECTION_KEYS.includes(gt.key)&&mt(),gt.key===" "&&gt.preventDefault())})})})})});SelectItem$1.displayName=ITEM_NAME;var ITEM_TEXT_NAME="SelectItemText",SelectItemText=reactExports.forwardRef((_e,et)=>{const{__scopeSelect:tt,className:rt,style:nt,...it}=_e,at=useSelectContext(ITEM_TEXT_NAME,tt),ot=useSelectContentContext(ITEM_TEXT_NAME,tt),st=useSelectItemContext(ITEM_TEXT_NAME,tt),lt=useSelectNativeOptionsContext(ITEM_TEXT_NAME,tt),[ct,ut]=reactExports.useState(null),dt=useComposedRefs(et,mt=>ut(mt),st.onItemTextChange,mt=>{var gt;return(gt=ot.itemTextRefCallback)==null?void 0:gt.call(ot,mt,st.value,st.disabled)}),ft=ct==null?void 0:ct.textContent,pt=reactExports.useMemo(()=>jsxRuntimeExports.jsx("option",{value:st.value,disabled:st.disabled,children:ft},st.value),[st.disabled,st.value,ft]),{onNativeOptionAdd:ht,onNativeOptionRemove:yt}=lt;return useLayoutEffect2(()=>(ht(pt),()=>yt(pt)),[ht,yt,pt]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Primitive.span,{id:st.textId,...it,ref:dt}),st.isSelected&&at.valueNode&&!at.valueNodeHasChildren?reactDomExports.createPortal(it.children,at.valueNode):null]})});SelectItemText.displayName=ITEM_TEXT_NAME;var ITEM_INDICATOR_NAME="SelectItemIndicator",SelectItemIndicator=reactExports.forwardRef((_e,et)=>{const{__scopeSelect:tt,...rt}=_e;return useSelectItemContext(ITEM_INDICATOR_NAME,tt).isSelected?jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,...rt,ref:et}):null});SelectItemIndicator.displayName=ITEM_INDICATOR_NAME;var SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",SelectScrollUpButton=reactExports.forwardRef((_e,et)=>{const tt=useSelectContentContext(SCROLL_UP_BUTTON_NAME,_e.__scopeSelect),rt=useSelectViewportContext(SCROLL_UP_BUTTON_NAME,_e.__scopeSelect),[nt,it]=reactExports.useState(!1),at=useComposedRefs(et,rt.onScrollButtonChange);return useLayoutEffect2(()=>{if(tt.viewport&&tt.isPositioned){let ot=function(){const lt=st.scrollTop>0;it(lt)};const st=tt.viewport;return ot(),st.addEventListener("scroll",ot),()=>st.removeEventListener("scroll",ot)}},[tt.viewport,tt.isPositioned]),nt?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{..._e,ref:at,onAutoScroll:()=>{const{viewport:ot,selectedItem:st}=tt;ot&&st&&(ot.scrollTop=ot.scrollTop-st.offsetHeight)}}):null});SelectScrollUpButton.displayName=SCROLL_UP_BUTTON_NAME;var SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",SelectScrollDownButton=reactExports.forwardRef((_e,et)=>{const tt=useSelectContentContext(SCROLL_DOWN_BUTTON_NAME,_e.__scopeSelect),rt=useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME,_e.__scopeSelect),[nt,it]=reactExports.useState(!1),at=useComposedRefs(et,rt.onScrollButtonChange);return useLayoutEffect2(()=>{if(tt.viewport&&tt.isPositioned){let ot=function(){const lt=st.scrollHeight-st.clientHeight,ct=Math.ceil(st.scrollTop)<lt;it(ct)};const st=tt.viewport;return ot(),st.addEventListener("scroll",ot),()=>st.removeEventListener("scroll",ot)}},[tt.viewport,tt.isPositioned]),nt?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{..._e,ref:at,onAutoScroll:()=>{const{viewport:ot,selectedItem:st}=tt;ot&&st&&(ot.scrollTop=ot.scrollTop+st.offsetHeight)}}):null});SelectScrollDownButton.displayName=SCROLL_DOWN_BUTTON_NAME;var SelectScrollButtonImpl=reactExports.forwardRef((_e,et)=>{const{__scopeSelect:tt,onAutoScroll:rt,...nt}=_e,it=useSelectContentContext("SelectScrollButton",tt),at=reactExports.useRef(null),ot=useCollection(tt),st=reactExports.useCallback(()=>{at.current!==null&&(window.clearInterval(at.current),at.current=null)},[]);return reactExports.useEffect(()=>()=>st(),[st]),useLayoutEffect2(()=>{var ct;const lt=ot().find(ut=>ut.ref.current===document.activeElement);(ct=lt==null?void 0:lt.ref.current)==null||ct.scrollIntoView({block:"nearest"})},[ot]),jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,...nt,ref:et,style:{flexShrink:0,...nt.style},onPointerDown:composeEventHandlers(nt.onPointerDown,()=>{at.current===null&&(at.current=window.setInterval(rt,50))}),onPointerMove:composeEventHandlers(nt.onPointerMove,()=>{var lt;(lt=it.onItemLeave)==null||lt.call(it),at.current===null&&(at.current=window.setInterval(rt,50))}),onPointerLeave:composeEventHandlers(nt.onPointerLeave,()=>{st()})})}),SEPARATOR_NAME="SelectSeparator",SelectSeparator=reactExports.forwardRef((_e,et)=>{const{__scopeSelect:tt,...rt}=_e;return jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,...rt,ref:et})});SelectSeparator.displayName=SEPARATOR_NAME;var ARROW_NAME="SelectArrow",SelectArrow=reactExports.forwardRef((_e,et)=>{const{__scopeSelect:tt,...rt}=_e,nt=usePopperScope(tt),it=useSelectContext(ARROW_NAME,tt),at=useSelectContentContext(ARROW_NAME,tt);return it.open&&at.position==="popper"?jsxRuntimeExports.jsx(Arrow,{...nt,...rt,ref:et}):null});SelectArrow.displayName=ARROW_NAME;function shouldShowPlaceholder(_e){return _e===""||_e===void 0}var BubbleSelect=reactExports.forwardRef((_e,et)=>{const{value:tt,...rt}=_e,nt=reactExports.useRef(null),it=useComposedRefs(et,nt),at=usePrevious(tt);return reactExports.useEffect(()=>{const ot=nt.current,st=window.HTMLSelectElement.prototype,ct=Object.getOwnPropertyDescriptor(st,"value").set;if(at!==tt&&ct){const ut=new Event("change",{bubbles:!0});ct.call(ot,tt),ot.dispatchEvent(ut)}},[at,tt]),jsxRuntimeExports.jsx(VisuallyHidden,{asChild:!0,children:jsxRuntimeExports.jsx("select",{...rt,ref:it,defaultValue:tt})})});BubbleSelect.displayName="BubbleSelect";function useTypeaheadSearch(_e){const et=useCallbackRef$1(_e),tt=reactExports.useRef(""),rt=reactExports.useRef(0),nt=reactExports.useCallback(at=>{const ot=tt.current+at;et(ot),function st(lt){tt.current=lt,window.clearTimeout(rt.current),lt!==""&&(rt.current=window.setTimeout(()=>st(""),1e3))}(ot)},[et]),it=reactExports.useCallback(()=>{tt.current="",window.clearTimeout(rt.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(rt.current),[]),[tt,nt,it]}function findNextItem(_e,et,tt){const nt=et.length>1&&Array.from(et).every(lt=>lt===et[0])?et[0]:et,it=tt?_e.indexOf(tt):-1;let at=wrapArray(_e,Math.max(it,0));nt.length===1&&(at=at.filter(lt=>lt!==tt));const st=at.find(lt=>lt.textValue.toLowerCase().startsWith(nt.toLowerCase()));return st!==tt?st:void 0}function wrapArray(_e,et){return _e.map((tt,rt)=>_e[(et+rt)%_e.length])}var Root2=Select$1,Trigger=SelectTrigger,Value=SelectValue,Icon$1=SelectIcon,Content2=SelectContent$1,Viewport=SelectViewport,Group=SelectGroup,Item=SelectItem$1,ItemText=SelectItemText,Separator=SelectSeparator;const SelectItem=styled_default("div")({name:"SelectItem",class:"SelectItem_s1fidyx9",propsAsIs:!1}),SelectItemInfo=styled_default("div")({name:"SelectItemInfo",class:"SelectItemInfo_swmgn6s",propsAsIs:!1});function ProjectSelectItem({id:_e,name:et,coverUrl:tt,initials:rt,subjectName:nt,selected:it}){return jsxRuntimeExports.jsx(Item,{value:_e,asChild:!0,children:jsxRuntimeExports.jsxs(SelectItem,{"data-selected":it,children:[jsxRuntimeExports.jsx(RMAvatar,{placeholder:rt,background:"primary",shape:"rounded",src:tt}),jsxRuntimeExports.jsxs(SelectItemInfo,{children:[jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xxs",bold:!0,color:"inverse-on-surface-secondary",children:nt}),jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xs",bold:!0,color:"on-primary",children:et})]})]})},_e)}const SelectInfo=styled_default("div")({name:"SelectInfo",class:"SelectInfo_s1apkosx",propsAsIs:!1}),SelectContent=styled_default("div")({name:"SelectContent",class:"SelectContent_s12u9zkm",propsAsIs:!1}),Select=styled_default("div")({name:"Select",class:"Select_supkv2r",propsAsIs:!1});function ProjectSelectRoot({mobile:_e,selectedId:et,selectedInitials:tt,selectedPhotoUrl:rt,selectedName:nt,selectedSubjectName:it,onChangeProject:at,onAddProject:ot,children:st}){const lt=useIsTabletViewport();return jsxRuntimeExports.jsxs(Root2,{value:et,onValueChange:ct=>{ct==="add-storyteller"?ot():at(ct)},children:[jsxRuntimeExports.jsx(RMTooltip,{message:lt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xxs",bold:!0,color:"inverse-on-surface-primary",children:"Project:"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xxs",color:"inverse-on-surface-primary",children:nt})]}):null,children:jsxRuntimeExports.jsx(Trigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Select,{children:[jsxRuntimeExports.jsx(RMAvatar,{placeholder:tt,background:"primary",shape:"rounded",src:rt}),!lt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(SelectInfo,{children:[jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xxs",bold:!0,color:"inverse-on-surface-secondary",children:it}),jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xs",bold:!0,color:"inverse-on-surface-primary",children:nt})]}),jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faChevronDown,size:"sm",color:"var(--inverse-on-surface-primary)"})]})]})})}),jsxRuntimeExports.jsx(Content2,{asChild:!0,position:"item-aligned",children:jsxRuntimeExports.jsxs(SelectContent,{"data-mobile":_e,children:[st,jsxRuntimeExports.jsx(Item,{asChild:!0,value:"add-storyteller",children:jsxRuntimeExports.jsxs(SelectItem,{children:[jsxRuntimeExports.jsx(RMIconButton,{tooltip:null,icon:faPlus,backgroundColor:"transparent",color:"white",stateColor:"darken-primary"}),jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xs",bold:!0,color:"on-primary",children:"New project"})]})})]})})]})}const ProjectSelect={Root:ProjectSelectRoot,Item:ProjectSelectItem},StyledProjectSelectItemList=styled_default("div")({name:"StyledProjectSelectItemList",class:"StyledProjectSelectItemList_s1k7a7xa",propsAsIs:!1});function ProjectSelectItemList({children:_e}){return jsxRuntimeExports.jsx(StyledProjectSelectItemList,{children:_e})}function ProjectSelectItemContainer({projectId:_e}){var ot,st,lt;const et=useProjectQuery(_e),tt=useProjectInitials(et.data),rt=useProjectCoverUrl(et.data),nt=usePersonQuery((ot=et.data)==null?void 0:ot.subjectPersonIds[0]),it=useNavbarStore(),at=useNavbarProjectId(it);return et.data?jsxRuntimeExports.jsx(ProjectSelect.Item,{id:_e,name:et.data.name??"N/A",initials:tt,coverUrl:rt,subjectName:((lt=(st=nt.data)==null?void 0:st.name)==null?void 0:lt.full)??null,selected:at===_e}):null}function ProjectSelectContainer({onAddProject:_e}){var pt,ht,yt;const et=useIsMobileViewport(),{webappAnalyticsService:tt,bookCacheService:rt}=useServices(),nt=useNavbarStore(),it=useNavbarProjectId(nt),at=useProjectsQuery(),ot=useProjectQuery(it),st=useProjectInitials(ot.data),lt=useProjectCoverUrl(ot.data),ct=usePersonQuery((pt=ot.data)==null?void 0:pt.subjectPersonIds[0]),ut=useNavigate(),dt=reactExports.useMemo(()=>{if(!(!it||!at.data))return at.data.filter(mt=>mt!==it)},[at.data,it]),ft=reactExports.useCallback(async mt=>{switch(setNavbarProjectId(nt,mt),tt.onProjectSwapped("global-navigation"),getRouteFromPathname(getPathname())){case RoutePath.ProjectHome:{ut(getProjectHomePath(mt));break}case RoutePath.Stories:{ut(getStoriesPath(mt));break}case RoutePath.Questions:{ut(getProjectPromptsPath(mt));break}case RoutePath.ProjectSettings:{ut(getProjectSettingsPath(mt));break}case RoutePath.BookOrderCoverDesign:{const[vt]=await rt.getBooksByProjectId(mt);ut(getBookOrderCoverDesignPath(mt,vt));break}case RoutePath.BookOrderStories:{const[vt]=await rt.getBooksByProjectId(mt);ut(getBookOrderStoriesPath(mt,vt));break}case RoutePath.BookOrderPreview:{const[vt]=await rt.getBooksByProjectId(mt);ut(getBookOrderPreviewPath(mt,vt));break}case RoutePath.BookOrderQuantity:{const[vt]=await rt.getBooksByProjectId(mt);ut(getBookOrderQuantityPath(mt,vt));break}case RoutePath.BookOrderFinalize:{const[vt]=await rt.getBooksByProjectId(mt);ut(getBookOrderFinalizePath(mt,vt));break}}},[rt,nt,ut,tt]);return!ot.data||!dt||!it?null:jsxRuntimeExports.jsxs(ProjectSelect.Root,{mobile:et,selectedId:it,selectedName:ot.data.name??"N/A",selectedPhotoUrl:lt,selectedInitials:st,selectedSubjectName:((yt=(ht=ct.data)==null?void 0:ht.name)==null?void 0:yt.full)??null,onAddProject:_e,onChangeProject:ft,children:[jsxRuntimeExports.jsx(ProjectSelectItemContainer,{projectId:it}),jsxRuntimeExports.jsx(ProjectSelectItemList,{children:dt.map(mt=>jsxRuntimeExports.jsx(ProjectSelectItemContainer,{projectId:mt},mt))})]})}const ADMIN_ROLES=[AclGroupRole.ADMIN,AclGroupRole.OWNER];function NavbarContainer(){var kt,Lt;const _e=useNavigate(),{webappAnalyticsService:et,personCacheService:tt,aclCacheService:rt,userCacheService:nt,projectCacheService:it}=useServices(),at=useMatchMedia("(max-width: 768px)"),ot=useNavbarStore(),st=useNavbarProjectId(ot),lt=useNavbarStatus(ot),ct=useUser(),ut=usePersonQuery(ct==null?void 0:ct.personId),dt=usePersonInitials(ut.data),ft=usePersonAvatarUrl(ut.data),pt=reactExports.useMemo(()=>{if(ct)return ct.communicationChannels.email??null},[ct]),ht=useProjectQuery(st),yt=useCurrentUserAclRoles((kt=ht.data)==null?void 0:kt.acl),mt=hasRole(ADMIN_ROLES,yt??[]),vt=(Lt=useProjectBooksQuery(st).data)==null?void 0:Lt[0];reactExports.useEffect(()=>{getNavbarProjectId(ot)===null&&rt.getCurrentUserAclGroupMembers().then(async $t=>{var Ut;if(getNavbarProjectId(ot)!==null)return;const Vt=(await Promise.all($t.map(It=>rt.getAclGroupMember(It)))).filter(notNull).find(It=>It.groupType===EntityType.PROJECT);setNavbarProjectId(ot,((Ut=Vt==null?void 0:Vt.groupMetadata)==null?void 0:Ut.projectId)??null)})},[rt,ot,tt]);const St=reactExports.useCallback(()=>{closeNavbar(ot)},[ot]),xt=reactExports.useCallback($t=>{$t(),at&&St()},[St,at]),Ct=reactExports.useCallback($t=>{setNavbarStatus(ot,$t)},[ot]),wt=reactExports.useCallback(async()=>{if(ct==null)return;if(ct.storytellers.length==0){_e(getCheckoutPath());return}const[$t,zt]=await Promise.all([await it.getProjects(),await nt.loadUserStorytellers()]),Vt=await Promise.all($t.map(async Dt=>{const Tt=await it.getProject(Dt);if(Tt==null)throw new NotFoundError("owner-person-not-found",{origin:"entity",entityType:EntityType.PROJECT,entityId:Dt});return Tt}));if((await Promise.all(ct.storytellers.map(async Dt=>{const Tt=await tt.getPerson(Dt.subscriptionOwnerPersonId);if(Tt==null)throw new NotFoundError("owner-person-not-found",{origin:"entity",entityType:EntityType.PERSON,entityId:Dt.subscriptionOwnerPersonId});return isPersonSubscriptionActive(Tt,Vt)?Dt:null}))).filter(notNull).length==0){const Dt=Vt.find(Tt=>ct.refIds.includes(Tt.ownerUserId))??Vt[0];showProjectPaywall(Dt.id);return}_e(getNewProjectPath())},[_e,tt,it,ct,nt]),_t=useOpenReferralDialogUrl(),Ot=useOpenReferralDialog();return reactExports.useEffect(()=>{at||setNavbarStatus(ot,"open")},[at,ot]),!ct||!st?jsxRuntimeExports.jsx(StyledNavbarRoot,{}):jsxRuntimeExports.jsx(Navbar.Root,{status:lt,Items:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Navbar.Item,{id:"navbar-home-link",text:"Home",path:getProjectHomePath(st),activeIcon:faHome,inactiveIcon:faHome$1,onClick:()=>xt(()=>et.onHomePressed())}),jsxRuntimeExports.jsx(Navbar.Item,{id:"navbar-stories-link",text:"Stories",path:getStoriesPath(st),activeIcon:faRectangleHistory,inactiveIcon:faRectangleHistory$1,onClick:()=>xt(()=>et.onStoriesPressed())}),jsxRuntimeExports.jsx(Navbar.Item,{text:"Prompts",path:getProjectPromptsPath(st),activeIcon:faClock,inactiveIcon:faClock$1,onClick:()=>xt(()=>et.onUpcomingPromptsPressed())}),mt&&jsxRuntimeExports.jsx(Navbar.Item,{text:"Project settings",path:getProjectSettingsPath(st),activeIcon:faGear,inactiveIcon:faGear$1,onClick:()=>xt(()=>et.onProjectSettingsPressed())}),jsxRuntimeExports.jsx(Navbar.Item,{text:"Order books",path:getBookOrderCoverDesignPath(st,vt??""),pathAliases:[getBookOrderStoriesPath(st,vt??""),getBookOrderPreviewPath(st,vt??""),getBookOrderQuantityPath(st,vt??""),getBookOrderFinalizePath(st,vt??"")],activeIcon:faBook,inactiveIcon:faBook$1,onClick:()=>xt(()=>et.onOrderBooksPressed())}),jsxRuntimeExports.jsx(Navbar.Divider,{}),jsxRuntimeExports.jsx(Navbar.Item,{text:"Refer Remento",path:_t,activeIcon:faShare,inactiveIcon:faShare$1,onClick:()=>xt(Ot)}),jsxRuntimeExports.jsx(Navbar.Item,{text:"Gift Remento",path:getCheckoutPath(),activeIcon:faGift,inactiveIcon:faGift$1,onClick:()=>xt(()=>et.onGiftPressed())})]}),Account:jsxRuntimeExports.jsx(Navbar.Account,{to:getAccountSettingsPath(),onClick:()=>xt(()=>et.onMyAccountPressed()),userEmail:pt??"N/A",userInitials:dt,userAvatarUrl:ft}),ProjectSelect:jsxRuntimeExports.jsx(ProjectSelectContainer,{onAddProject:wt}),onClose:St,onChangeStatus:Ct,onAddProject:wt})}const Container$3=styled_default("div")({name:"Container",class:"Container_cu7j9et",propsAsIs:!1}),NavbarWrapper=styled_default("div")({name:"NavbarWrapper",class:"NavbarWrapper_n11aw1cf",propsAsIs:!1});function AppLayout({children:_e}){return jsxRuntimeExports.jsxs(Container$3,{children:[jsxRuntimeExports.jsx(NavbarWrapper,{children:jsxRuntimeExports.jsx(NavbarContainer,{})}),_e]})}const Container$2=styled_default("div")({name:"Container",class:"Container_c5y2cm5",propsAsIs:!1}),Center=styled_default("div")({name:"Center",class:"Center_c14ast9w",propsAsIs:!1});function PageLoader({layout:_e=null}){const et=useParams(),tt=useNavbarStore();return reactExports.useEffect(()=>{_e==="navbar"&&et.projectId&&setNavbarProjectId(tt,et.projectId)},[_e,tt,et.projectId]),_e==="navbar"?jsxRuntimeExports.jsx(RementoPage,{type:"default",children:jsxRuntimeExports.jsx(AppLayout,{children:jsxRuntimeExports.jsx(Container$2,{children:jsxRuntimeExports.jsx(Center,{children:jsxRuntimeExports.jsx(RMLoader,{})})})})}):jsxRuntimeExports.jsx(Container$2,{children:jsxRuntimeExports.jsx(Center,{children:jsxRuntimeExports.jsx(RMLoader,{})})})}function InternalLegacyRedirect({to:_e,findProjectBy:et,...tt}){const{projectCacheService:rt}=useServices(),[nt]=useSearchParams$1(),it=useParams(),[at,ot]=reactExports.useState(),st=reactExports.useCallback(async()=>{const lt={...it};if(lt.personId!=null&&et=="personId"){const ct=await rt.getProjectsFromRecipientPersonId(lt.personId);if(ct.length===0){ot("/");return}lt.projectId=ct[0]}else if(lt.storyId!=null&&et=="storyId"){const ct=await rt.getProjectFromStoryId(lt.storyId);if(ct==null){ot("/");return}lt.projectId=ct.id}ot(await _e(lt,nt))},[it,nt,rt,_e,et]);return reactExports.useEffect(()=>{st()},[st]),at==null?jsxRuntimeExports.jsx(PageLoader,{}):jsxRuntimeExports.jsx(Navigate,{to:`${at}?${nt.toString()}`,replace:tt.replace??!0,...tt})}function LegacyRedirect(_e){return jsxRuntimeExports.jsx(RementoPage,{type:"empty",children:jsxRuntimeExports.jsx(InternalLegacyRedirect,{..._e})})}function RMErrorLink({href:_e,children:et}){return jsxRuntimeExports.jsx("a",{href:_e,children:jsxRuntimeExports.jsx(RMText,{size:"s",type:"sans",color:"primary",underline:!0,children:et})})}const Header=styled_default("div")({name:"Header",class:"Header_hbsp78v",propsAsIs:!1}),Divider=styled_default("div")({name:"Divider",class:"Divider_d1usxo2u",propsAsIs:!1}),_exp=()=>RMWordmark,Wordmark=styled_default(_exp())({name:"Wordmark",class:"Wordmark_w1mdybhj",propsAsIs:!0}),Image$2=styled_default("img")({name:"Image",class:"Image_i10p70h7",propsAsIs:!1}),_exp2=()=>FontAwesomeIcon,Icon=styled_default(_exp2())({name:"Icon",class:"Icon_ipnxjdf",propsAsIs:!0}),ContentWrapper=styled_default("div")({name:"ContentWrapper",class:"ContentWrapper_c1ed32f3",propsAsIs:!1}),Content=styled_default("div")({name:"Content",class:"Content_c5yirip",propsAsIs:!1});function RMErrorRoot({icon:_e,iconSize:et,title:tt,Message:rt,Action:nt,Footer:it}){const at=useIsMobileViewport();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!at&&jsxRuntimeExports.jsx(Header,{children:jsxRuntimeExports.jsx(Wordmark,{})}),jsxRuntimeExports.jsx(Divider,{}),jsxRuntimeExports.jsx(ContentWrapper,{children:jsxRuntimeExports.jsxs(Content,{children:[_e!=null&&typeof _e=="string"&&jsxRuntimeExports.jsx(Image$2,{src:_e,style:{width:et!=null&&et.endsWith("rem")?et:"5rem"},alt:"Error icon"}),_e!=null&&typeof _e=="object"&&jsxRuntimeExports.jsx(Icon,{icon:_e,size:et??"5x",color:"var(--primary-decorative)"}),jsxRuntimeExports.jsx(RMText,{align:"center",size:"l",type:"serif",children:tt}),rt,nt,it]})})]})}function RMErrorText({children:_e}){return jsxRuntimeExports.jsx(RMText,{align:"center",size:"s",type:"sans",children:_e})}const RMError={Root:RMErrorRoot,Text:RMErrorText,Link:RMErrorLink};function GenericErrorPage({onGoHome:_e}){return jsxRuntimeExports.jsx(RMError.Root,{icon:faTriangleExclamation$1,title:"Something went wrong",Action:jsxRuntimeExports.jsx(RMButton,{leftIcon:faHome,onClick:_e,children:"Return home"}),Message:jsxRuntimeExports.jsxs(RMError.Text,{children:["If the problem continues, let us know at"," ",jsxRuntimeExports.jsx(RMError.Link,{href:"mailto:support@remento.co",children:"support@remento.co"})]})})}function NotFoundPage({onGoHome:_e}){return jsxRuntimeExports.jsx(RMError.Root,{icon:faTriangleExclamation$1,title:"No page found",Action:jsxRuntimeExports.jsx(RMButton,{leftIcon:faHome,onClick:_e,children:"Return home"}),Message:jsxRuntimeExports.jsx(RMError.Text,{children:"The page youre looking for doesnt exist."}),Footer:jsxRuntimeExports.jsxs(RMText,{align:"center",size:"xs",type:"sans",children:["If the problem continues, let us know at"," ",jsxRuntimeExports.jsx("a",{href:"mailto:support@remento.co",children:jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xs",color:"primary",underline:!0,children:"support@remento.co"})})]})})}const BookIcon="data:image/svg+xml,%3csvg%20width='196'%20height='196'%20viewBox='0%200%20196%20196'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='196'%20height='196'%20rx='98'%20fill='%23EAE8E1'/%3e%3cpath%20d='M88.0169%2068.2598L26.9189%20103.524L61.4378%20123.461C61.9521%20123.757%2062.3696%20124.481%2062.3696%20125.076C62.3696%20126.833%2063.6528%20128.113%2067.8842%20130.553C72.1157%20132.994%2073.3988%20133.204%2073.3988%20131.442C73.3988%20130.85%2073.8163%20130.606%2074.3306%20130.903L108.849%20150.842L169.942%20115.581L88.0169%2068.2598Z'%20fill='%23D5D2C3'/%3e%3cpath%20d='M67.8812%20132.707C65.0425%20131.066%2061.2463%20128.874%2060.5988%20125.131L26.9189%20105.676V103.523L61.4378%20123.461C61.9521%20123.757%2062.3696%20124.481%2062.3696%20125.075C62.3696%20126.832%2063.6528%20128.113%2067.8842%20130.553C72.1157%20132.993%2073.3988%20133.203%2073.3988%20131.442C73.3988%20130.849%2073.8163%20130.605%2074.3306%20130.902L108.849%20150.841V152.994L75.1666%20133.54C74.5181%20136.538%2070.7229%20134.343%2067.8812%20132.707Z'%20fill='%23CFCBBA'/%3e%3cpath%20d='M169.946%20115.583L108.85%20150.846V152.999L169.946%20117.735V115.583Z'%20fill='%23CFCBBA'/%3e%3cpath%20d='M166.789%20110.031L108.985%20143.404L108.998%20148.815L166.789%20115.46V110.031Z'%20fill='%2395B6C7'/%3e%3cpath%20d='M128.98%2087.5836C127.095%2081.0078%20121.083%2076.8909%20114.775%2074.2523L91.7445%2062.8477L30.6465%2098.1134C30.6465%2098.1134%2056.813%20110.931%2058.2936%20111.791C62.7353%20114.372%2066.4692%20117.92%2067.8827%20122.851L128.981%2087.5866L128.98%2087.5836Z'%20fill='%23E5E5D3'/%3e%3cpath%20d='M128.98%2087.5836C128.05%2084.3376%20126.402%2081.3421%20124.159%2078.8187C121.917%2076.2953%20119.135%2074.3085%20116.022%2073.0051L91.7445%2062.8477L30.6465%2098.1134L54.9248%20108.273C58.038%20109.576%2060.8187%20111.562%2063.0614%20114.085C65.3041%20116.608%2066.9515%20119.603%2067.8817%20122.848L128.98%2087.5836Z'%20fill='%23F9F9F4'/%3e%3cpath%20d='M151.326%2091.9807C148.301%2089.3747%20144.651%2087.5989%20140.734%2086.827C136.817%2086.0552%20132.767%2086.3138%20128.98%2087.5774L67.8816%20122.85C73.5018%20120.974%2079.5396%20123.077%2084.7847%20126.405C86.7282%20127.639%20108.982%20143.399%20108.982%20143.399L170.08%20108.125L151.326%2091.9807Z'%20fill='%23E5E5D3'/%3e%3cpath%20d='M106.898%2043L45.8%2078.2647C67.8624%2084.5897%2067.8812%20122.85%2067.8812%20122.85L128.979%2087.5858C128.979%2087.5858%20128.959%2049.325%20106.898%2043Z'%20fill='%23FDFDFC'/%3e%3cpath%20d='M108.985%20143.404C108.985%20143.404%2086.7337%20127.644%2084.7873%20126.41C79.5421%20123.077%2073.5044%20120.978%2067.8842%20122.855C66.4707%20117.923%2062.7357%20114.375%2058.295%20111.795C56.8145%20110.934%2030.6479%2098.1167%2030.6479%2098.1167V103.524L61.0489%20121.095C63.7478%20122.655%2066.0802%20124.776%2067.8881%20127.316L69.5868%20127.605C72.1396%20128.036%2074.5948%20128.921%2076.8366%20130.216L109.002%20148.81L108.985%20143.404Z'%20fill='%23D5D2C3'/%3e%3cpath%20d='M108.985%20143.404L108.999%20148.815H112.37L108.85%20150.848V153.001L169.946%20117.737V115.584L166.789%20113.76V110.031L108.985%20143.404Z'%20fill='%23DDDBCF'/%3e%3cpath%20d='M151.326%2091.9807C148.301%2089.3747%20144.651%2087.5989%20140.734%2086.827C136.817%2086.0552%20132.767%2086.3138%20128.98%2087.5774L67.8816%20122.85C71.6686%20121.587%2075.7185%20121.328%2079.6353%20122.1C83.5522%20122.871%2087.2018%20124.647%2090.2273%20127.252L108.981%20143.404L170.079%20108.13L151.326%2091.9807Z'%20fill='%23FAFAF7'/%3e%3c/svg%3e";function StoryNotFoundPage({onGoHome:_e}){return jsxRuntimeExports.jsx(RMError.Root,{icon:BookIcon,iconSize:"12.25rem",title:"This story no longer exists",Action:jsxRuntimeExports.jsx(RMButton,{leftIcon:faHome,onClick:_e,children:"Return home"}),Message:jsxRuntimeExports.jsx(RMError.Text,{children:"This story has been removed."})})}const LaptopSrc="/app/book/assets/laptop-j0ph4Qp3.svg",Container$1=styled_default("div")({name:"Container",class:"Container_cc5qogp",propsAsIs:!1}),Description=styled_default("div")({name:"Description",class:"Description_d1ciwk7f",propsAsIs:!1}),Laptop=styled_default("img")({name:"Laptop",class:"Laptop_l7jltji",propsAsIs:!1});function MaintenancePage(){return jsxRuntimeExports.jsxs(Container$1,{children:[jsxRuntimeExports.jsx(Laptop,{src:LaptopSrc}),jsxRuntimeExports.jsx(RMSpacer,{spacing:"2xl",direction:"column"}),jsxRuntimeExports.jsx(RMText,{type:"serif",size:"l",color:"on-surface-primary",children:"We'll be back soon!"}),jsxRuntimeExports.jsx(RMSpacer,{spacing:"md",direction:"column"}),jsxRuntimeExports.jsx(Description,{children:jsxRuntimeExports.jsxs(RMText,{type:"sans",size:"s",color:"on-surface-primary",children:["Our web app is temporarily offline for scheduled maintenance.",jsxRuntimeExports.jsx("br",{}),"This page will automatically refresh when we're ready.",jsxRuntimeExports.jsx("br",{}),"Thank you for your understanding."]})})]})}function MaintenancePageContainer(){const _e=useNavigate();return reactExports.useEffect(()=>{const et=window.setInterval(async()=>{try{const{data:tt}=await api.get("/app/status");if(tt.status!=="healthy")return;clearInterval(et),_e(0)}catch(tt){captureException(tt,!0)}},5e3);return()=>{window.clearInterval(et)}},[_e]),jsxRuntimeExports.jsx(MaintenancePage,{})}function NoConnectionPage({onTryAgain:_e}){return jsxRuntimeExports.jsx(RMError.Root,{icon:faWifi,title:"Unable to connect",Action:jsxRuntimeExports.jsx(RMButton,{onClick:_e,children:"Try again"}),Message:jsxRuntimeExports.jsx(RMError.Text,{children:"No internet connection can be found. Check your internet connection and try again."})})}function NoConnectionPageContainer(){const _e=useNavigate(),et=reactExports.useCallback(()=>{window.navigator.onLine&&_e(0)},[_e]);return jsxRuntimeExports.jsx(NoConnectionPage,{onTryAgain:et})}const pollExpiredSrc="/app/book/assets/poll-expired-4rUD_fcM.svg",Page=styled_default("div")({name:"Page",class:"Page_p1qopbde",propsAsIs:!1}),Body=styled_default("div")({name:"Body",class:"Body_b1g06zrx",propsAsIs:!1}),Image$1=styled_default("img")({name:"Image",class:"Image_itqiquy",propsAsIs:!1}),Footer=styled_default("div")({name:"Footer",class:"Footer_f1ftk62n",propsAsIs:!1});function PollExpiredPage({finished:_e,onRedirect:et}){return jsxRuntimeExports.jsxs(Page,{children:[jsxRuntimeExports.jsxs(Body,{children:[jsxRuntimeExports.jsx(Image$1,{src:pollExpiredSrc}),jsxRuntimeExports.jsx(RMSpacer,{direction:"column",spacing:"2xl"}),jsxRuntimeExports.jsx(RMText,{type:"sans",size:"m",bold:!0,color:"on-surface-primary",children:"This poll has ended!"}),jsxRuntimeExports.jsx(RMSpacer,{direction:"column",spacing:"xs"}),jsxRuntimeExports.jsx(RMText,{type:"sans",size:"xs",color:"on-surface-primary",children:"Polls are open for 24 hours."})]}),jsxRuntimeExports.jsx(Footer,{children:jsxRuntimeExports.jsx(RMButton,{background:"primary",leftIcon:_e?null:faHome,fullWidth:!0,autoLoading:!0,onClick:et,children:_e?"See the winner":"Return home"})})]})}function PollExpiredPageContainer({pollId:_e,finished:et}){var dt;const{redirectService:tt}=useServices(),[rt]=useSearchParams$1(),nt=rt.get("inviteToken")??null,it=useNavigate(),at=useUser(),ot=usePollQuery(_e),st=usePrimaryAclGroup((dt=ot.data)==null?void 0:dt.acl,EntityType.PROJECT),lt=useCurrentUserAclRoles(st?[st.id]:null),ct=hasRole(ACL_VIEW_ROLES,lt??[]),ut=reactExports.useCallback(async()=>{if(!(ot.data==null||lt==null)){if(et){if(at===null){await tt.registerRedirect("signed-in",`/invite?inviteToken=${nt}`),it(getSigninPath({backupLocalData:!0}));return}it(ct?getProjectPromptsPath(ot.data.projectId):`/invite?inviteToken=${nt}`);return}it("/")}},[ct,et,nt,it,ot.data,tt,at,lt]);return jsxRuntimeExports.jsx(PollExpiredPage,{finished:et,onRedirect:ut})}function PromptNotFoundPage({onGoToPromptsPage:_e}){return jsxRuntimeExports.jsx(RecordingLayout.Root,{dark:!0,Header:jsxRuntimeExports.jsx(RecordingLayout.Header,{step:"hidden",hideSeparator:!0}),children:jsxRuntimeExports.jsx(RMDialog.Root,{open:!0,children:jsxRuntimeExports.jsxs(RMDialog.Content,{children:[jsxRuntimeExports.jsx(RMDialog.Header,{title:"Deleted prompt"}),jsxRuntimeExports.jsx(RMDialog.Body,{children:jsxRuntimeExports.jsx(RMText,{type:"sans",size:"s",color:"on-surface-primary",children:"Someone deleted this prompt"})}),jsxRuntimeExports.jsx(RMDialog.Footer,{children:jsxRuntimeExports.jsx(RMButton,{background:"primary",fullWidth:!0,onClick:_e,children:"View my prompts"})})]})})})}function InternalPromptNotFoundPageContainer(){const _e=useNavigate(),et=useParams(),tt=reactExports.useCallback(()=>{if(et.projectId!=null){_e(getProjectHomePath(et.projectId));return}_e("/")},[_e,et.projectId]);return jsxRuntimeExports.jsx(PromptNotFoundPage,{onGoToPromptsPage:tt})}function PromptNotFoundPageContainer(){return jsxRuntimeExports.jsx(RementoPage,{type:"error",children:jsxRuntimeExports.jsx(InternalPromptNotFoundPageContainer,{})})}const LockIcon="data:image/svg+xml,%3csvg%20width='121'%20height='120'%20viewBox='0%200%20121%20120'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M93%2052.5H28C25.2386%2052.5%2023%2054.7386%2023%2057.5V112.5C23%20115.261%2025.2386%20117.5%2028%20117.5H93C95.7614%20117.5%2098%20115.261%2098%20112.5V57.5C98%2054.7386%2095.7614%2052.5%2093%2052.5Z'%20fill='%23FFBA55'/%3e%3cpath%20d='M98%2057.5V112.5H90.5C74.6012%20112.454%2059.3668%20106.118%2048.1246%2094.8754C36.8824%2083.6332%2030.5462%2068.3988%2030.5%2052.5H93C94.3261%2052.5%2095.5979%2053.0268%2096.5355%2053.9645C97.4732%2054.9021%2098%2056.1739%2098%2057.5Z'%20fill='%23FFCC66'/%3e%3cpath%20d='M90.5%2032.5V52.5H80.5C80.5%2032.275%2082.025%2025.775%2074.65%2018.35C71.8529%2015.5498%2068.2878%2013.6424%2064.4061%2012.8694C60.5244%2012.0964%2056.5007%2012.4925%2052.8442%2014.0076C49.1877%2015.5226%2046.063%2018.0885%2043.8656%2021.3804C41.6682%2024.6722%2040.4969%2028.5421%2040.5%2032.5V52.5H30.5V32.5C30.5%2024.5435%2033.6607%2016.9129%2039.2868%2011.2868C44.9129%205.66071%2052.5435%202.5%2060.5%202.5C68.4565%202.5%2076.0871%205.66071%2081.7132%2011.2868C87.3393%2016.9129%2090.5%2024.5435%2090.5%2032.5Z'%20fill='%23C6C3D8'/%3e%3cpath%20d='M35.5%2032.4989V52.4989H40.5V32.4989C40.5044%2027.6307%2042.2843%2022.9312%2045.506%2019.2815C48.7277%2015.6317%2053.1699%2013.2824%2058%2012.6739C55.1863%2012.3194%2052.3293%2012.5673%2049.6187%2013.4013C46.9081%2014.2353%2044.4059%2015.6362%2042.278%2017.511C40.1502%2019.3859%2038.4454%2021.6918%2037.2768%2024.2759C36.1082%2026.8599%2035.5026%2029.6629%2035.5%2032.4989ZM58%202.62388C65.494%203.25056%2072.4793%206.66891%2077.5724%2012.2018C82.6655%2017.7348%2085.4948%2024.9787%2085.5%2032.4989V52.4989H90.5V32.4989C90.4971%2028.3503%2089.6339%2024.2473%2087.9647%2020.4493C86.2955%2016.6513%2083.8568%2013.2407%2080.8025%2010.4331C77.7482%207.62556%2074.1448%205.48197%2070.22%204.13782C66.2952%202.79367%2062.1342%202.27816%2058%202.62388Z'%20fill='%23DAD7E5'/%3e%3cpath%20d='M66.15%2085.7509L67.7%2099.7259C67.7388%20100.077%2067.703%20100.431%2067.5948%20100.767C67.4867%20101.103%2067.3087%20101.412%2067.0726%20101.674C66.8364%20101.936%2066.5475%20102.146%2066.2248%20102.288C65.902%20102.431%2065.5528%20102.503%2065.2%20102.501H55.8C55.4472%20102.503%2055.098%20102.431%2054.7752%20102.288C54.4525%20102.146%2054.1636%20101.936%2053.9274%20101.674C53.6913%20101.412%2053.5133%20101.103%2053.4052%20100.767C53.297%20100.431%2053.2612%20100.077%2053.3%2099.7259L54.85%2085.7509C53.0879%2084.5443%2051.7584%2082.8052%2051.0561%2080.7884C50.3539%2078.7715%2050.3157%2076.5828%2050.9473%2074.5427C51.5788%2072.5026%2052.8469%2070.7183%2054.5659%2069.451C56.2849%2068.1837%2058.3644%2067.5%2060.5%2067.5C62.6356%2067.5%2064.7151%2068.1837%2066.4341%2069.451C68.1531%2070.7183%2069.4212%2072.5026%2070.0527%2074.5427C70.6843%2076.5828%2070.6461%2078.7715%2069.9439%2080.7884C69.2416%2082.8052%2067.9121%2084.5443%2066.15%2085.7509Z'%20fill='%23747575'/%3e%3cpath%20d='M61.1509%2085.7531L62.7009%2099.7281C62.7397%20100.079%2062.7039%20100.434%2062.5957%20100.769C62.4876%20101.105%2062.3096%20101.414%2062.0735%20101.677C61.8374%20101.939%2061.5484%20102.148%2061.2257%20102.29C60.9029%20102.433%2060.5537%20102.505%2060.2009%20102.503H55.8009C55.4481%20102.505%2055.0989%20102.433%2054.7761%20102.29C54.4534%20102.148%2054.1645%20101.939%2053.9283%20101.677C53.6922%20101.414%2053.5142%20101.105%2053.4061%20100.769C53.2979%20100.434%2053.2621%20100.079%2053.3009%2099.7281L54.8509%2085.7531C53.2691%2084.6675%2052.0331%2083.1497%2051.2901%2081.381C50.5471%2079.6122%2050.3286%2077.667%2050.6607%2075.7775C50.9927%2073.888%2051.8613%2072.1338%2053.1628%2070.7243C54.4643%2069.3148%2056.1438%2068.3094%2058.0009%2067.8281C59.858%2068.3094%2061.5375%2069.3148%2062.839%2070.7243C64.1405%2072.1338%2065.0091%2073.888%2065.3411%2075.7775C65.6732%2077.667%2065.4547%2079.6122%2064.7117%2081.381C63.9688%2083.1497%2062.7327%2084.6675%2061.1509%2085.7531Z'%20fill='%23919191'/%3e%3c/svg%3e",LogoutLink=styled_default("span")({name:"LogoutLink",class:"LogoutLink_lu5byt1",propsAsIs:!1});function UnauthorizedPage({isRecordingPage:_e,user:et,onRedirect:tt,onSignOut:rt}){var nt;return jsxRuntimeExports.jsx(RMError.Root,{icon:_e?LockIcon:null,title:_e?"Access denied":"Uh Oh! Lets try again",Action:jsxRuntimeExports.jsx(RMButton,{onClick:tt,children:"Go to homepage"}),Message:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RMError.Text,{children:_e?"You dont have access to this recording link. Either tap the link sent to you via email or press Record in Remento.":"Head over to your prompts page to continue exploring Remento."}),jsxRuntimeExports.jsxs(RMText,{align:"center",type:"sans",size:"s",color:"on-surface-primary",children:["Not"," ",jsxRuntimeExports.jsxs(RMText,{type:"sans",bold:!0,size:"s",color:"on-surface-primary",children:[(nt=et==null?void 0:et.name)==null?void 0:nt.first," (",et.email,")"]}),"? ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(LogoutLink,{onClick:()=>rt(!1),children:"Log out"}),"."]})]})})}function InternalUnauthorizedPageContainer({isRecordingPage:_e}){const{redirectService:et}=useServices(),tt=useNavigate(),rt=useUser(),nt=useSignOut(),it=usePersonQuery(rt==null?void 0:rt.personId),at=reactExports.useMemo(()=>{var ct;if(rt==null||(it==null?void 0:it.data)==null)return null;const st=((ct=it==null?void 0:it.data)==null?void 0:ct.name)??null,lt=(rt==null?void 0:rt.communicationChannels.email)??"";return{name:st,email:lt}},[rt,it==null?void 0:it.data]),ot=reactExports.useCallback(async()=>{tt("/")},[tt]);return useAsyncEffect(async st=>{rt===null&&(await et.registerRedirect("signed-in",window.location.pathname+window.location.search),st(),tt(getSigninPath()))},[tt,et,rt]),at==null?jsxRuntimeExports.jsx(PageLoader,{}):jsxRuntimeExports.jsx(UnauthorizedPage,{isRecordingPage:_e,user:at,onRedirect:ot,onSignOut:nt})}function UnauthorizedPageContainer(){const _e=useLocation(),et=reactExports.useMemo(()=>{var rt;const tt=(rt=matchRoutes(routes,_e))==null?void 0:rt.find(nt=>nt.pathname===_e.pathname);if(!tt)return!1;switch(tt.route.path){case RoutePath.RecordingIntro:case RoutePath.RecordingTypeSelection:case RoutePath.Recording:case RoutePath.RecordingFinish:return!0;default:return!1}},[_e]);return jsxRuntimeExports.jsx(RementoPage,{type:"error",loader:et?jsxRuntimeExports.jsx(RecordingIntroLoader,{}):jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(InternalUnauthorizedPageContainer,{isRecordingPage:et})})}function AppRouterErrorBoundary(){var rt,nt,it;const _e=useRouteError(),et=useNavigate(),tt=reactExports.useCallback(at=>{et("/"),at===!0&&et(0)},[et]);return isRouteErrorResponse(_e)&&_e.status===404?jsxRuntimeExports.jsx(NotFoundPage,{onGoHome:()=>tt(!1)}):_e instanceof ForbiddenError||_e instanceof UnauthorizedError?jsxRuntimeExports.jsx(UnauthorizedPageContainer,{}):_e instanceof OngoingMigrationError?jsxRuntimeExports.jsx(MaintenancePageContainer,{}):_e instanceof NetworkError?jsxRuntimeExports.jsx(NoConnectionPageContainer,{}):_e instanceof NotFoundError?((rt=_e.data)==null?void 0:rt.entityType)===EntityType.STORY?jsxRuntimeExports.jsx(StoryNotFoundPage,{onGoHome:()=>tt(!1)}):((nt=_e.data)==null?void 0:nt.entityType)===EntityType.PROMPT?jsxRuntimeExports.jsx(PromptNotFoundPageContainer,{}):((it=_e.data)==null?void 0:it.entityType)===EntityType.POLL?jsxRuntimeExports.jsx(PollExpiredPageContainer,{finished:!1,pollId:_e.data.entityId??""}):jsxRuntimeExports.jsx(NotFoundPage,{onGoHome:()=>tt(!1)}):jsxRuntimeExports.jsx(GenericErrorPage,{onGoHome:()=>tt(!0)})}function createPromptDraftsStore(){return createStore(()=>({prompts:[],templatePromptsMap:new Map}))}function resetPromptDrafts(_e){_e.setState({prompts:[],templatePromptsMap:new Map})}function addPromptDraft(_e,et){_e.setState(tt=>{const rt=new Map(tt.templatePromptsMap);if(et.type===PromptType.TEXT&&et.template){const nt=new Set(rt.get(et.template.id)??[]);nt.add(et.id),rt.set(et.template.id,nt)}return{...tt,templatePromptsMap:rt,prompts:[...tt.prompts,et]}})}function removePromptDrafts(_e,et){_e.setState(tt=>{const rt=tt.prompts.filter(it=>et.includes(it.id));if(rt.length===0)return tt;const nt=new Map(tt.templatePromptsMap);for(const it of rt){if(it.type!==PromptType.TEXT||it.template===null)continue;const at=new Set(nt.get(it.template.id)??[]);at.delete(it.id),at.size===0?nt.delete(it.template.id):nt.set(it.template.id,at)}return{...tt,templatePromptsMap:nt,prompts:tt.prompts.filter(it=>et.includes(it.id)===!1)}})}function removePromptDraft(_e,et){return removePromptDrafts(_e,[et])}function removePromptDraftByTemplateId(_e,et){const tt=_e.getState().prompts.filter(rt=>{var nt;return rt.type!==PromptType.TEXT?!1:((nt=rt.template)==null?void 0:nt.id)===et});tt.length!==0&&removePromptDrafts(_e,tt.map(rt=>rt.id))}function updatePromptDraftQuestion(_e,et,tt){_e.setState(rt=>{const nt=rt.prompts.find(at=>at.id===et);if(!nt)return rt;const it=new Map(rt.templatePromptsMap);if(nt.type===PromptType.TEXT&&nt.template!==null){const at=new Set(it.get(nt.template.id)??[]);at.delete(nt.id),at.size===0?it.delete(nt.template.id):it.set(nt.template.id,at)}return{...rt,templatePromptsMap:it,prompts:rt.prompts.map(at=>at.id!==et?at:at.type===PromptType.PHOTO?{...at,question:tt,edited:!0}:{...at,question:tt,edited:!0,template:null})}})}function updatePromptDraftPhoto(_e,et,tt){_e.setState(rt=>({...rt,prompts:rt.prompts.map(nt=>{if(nt.id===et){if(nt.type!==PromptType.PHOTO)throw new Error("Invalid prompt type");return{...nt,photo:tt,edited:!0}}return nt})}))}function getPromptDraft(_e,et){return _e.getState().prompts.find(tt=>tt.id===et)??null}function usePromptDraft(_e,et){return useStore(_e,reactExports.useCallback(tt=>tt.prompts.find(rt=>rt.id===et)??null,[et]))}function usePromptDraftByTemplateId(_e,et){return useStore(_e,reactExports.useCallback(tt=>tt.prompts.find(rt=>{var nt;return rt.type!==PromptType.TEXT?!1:((nt=rt.template)==null?void 0:nt.id)===et})??null,[et]))}function useIsPromptTemplateSelected(_e,et){return useStore(_e,reactExports.useCallback(tt=>tt.templatePromptsMap.has(et),[et]))}function useIsPromptDraftEdited(_e,et){const tt=usePromptDraft(_e,et);return(tt==null?void 0:tt.edited)??!1}function isPromptDraftEdited(_e,et){var tt;return((tt=getPromptDraft(_e,et))==null?void 0:tt.edited)??!1}function usePromptDraftIds(_e){return useStore(_e,reactExports.useCallback(et=>et.prompts.map(tt=>tt.id),[]))}function getPromptDrafts(_e){return _e.getState().prompts}function usePromptDraftsCount(_e){return useStore(_e,reactExports.useCallback(et=>et.prompts.length,[]))}function movePromptDraft(_e,et,tt){_e.setState(rt=>{const nt=rt.prompts.findIndex(at=>at.id===et);if(nt===-1)return rt;const it=[...rt.prompts];return it.splice(nt,1),it.splice(tt,0,rt.prompts[nt]),{...rt,prompts:it}})}const PromptDraftsStoreContext=reactExports.createContext(null);function PromptDraftsStoreProvider({children:_e}){const et=reactExports.useMemo(()=>createPromptDraftsStore(),[]);return jsxRuntimeExports.jsx(PromptDraftsStoreContext.Provider,{value:et,children:_e})}function usePromptDraftsStore(){const _e=reactExports.useContext(PromptDraftsStoreContext);if(!_e)throw new Error("You must use usePromptDraftsStore within a PromptDraftsStoreProvider");return _e}const OnboardingContext=reactExports.createContext(null);function OnboardingContextProvider({children:_e}){const[et,tt]=reactExports.useState(null),rt=reactExports.useMemo(()=>({promptsType:et,setPromptsType:tt}),[et]);return jsxRuntimeExports.jsx(OnboardingContext.Provider,{value:rt,children:_e})}function useOnboardingContext(){const _e=reactExports.useContext(OnboardingContext);if(!_e)throw new Error("useOnboardingContext must be used inside a OnboardingContextProvider");return _e}function OnboardingContainer(){return jsxRuntimeExports.jsx(RementoPage,{type:"default",children:jsxRuntimeExports.jsx(PromptDraftsStoreProvider,{children:jsxRuntimeExports.jsx(OnboardingContextProvider,{children:jsxRuntimeExports.jsx(Outlet,{})})})})}function NavigateWithParams({to:_e,...et}){const[tt]=useSearchParams$1();return jsxRuntimeExports.jsx(Navigate,{to:`${_e}?${tt.toString()}`,...et})}function NavigateWithParamsCallback({to:_e,...et}){const[tt]=useSearchParams$1(),rt=useParams();return jsxRuntimeExports.jsx(Navigate,{to:_e(tt,rt),...et})}function useCreateFullscreenStore(){const[_e,et]=useBooleanQueryParam("forced-full-screen",!1);return reactExports.useCallback(()=>create$1(persist(()=>({forcedFullScreen:!1}),{name:"fullscreen-store",storage:{getItem:()=>({state:{forcedFullScreen:_e}}),setItem:(tt,rt)=>{et(rt.state.forcedFullScreen==!1?null:!0)},removeItem:()=>et(null)}})),[_e,et])}function setForcedFullScreen(_e,et){_e.setState({forcedFullScreen:et})}function isForcedFullScreen(_e){return _e.getState().forcedFullScreen}const FullscreenStoreContext=reactExports.createContext(null);function FullscreenStoreProvider({value:_e,children:et}){return jsxRuntimeExports.jsx(FullscreenStoreContext.Provider,{value:_e,children:et})}function useFullscreenStore(){const _e=reactExports.useContext(FullscreenStoreContext);if(!_e)throw new Error("useFullscreenStore must be used inside a FullscreenStoreProvider");return _e}function isFullScreen(_e){return _e.getState().forcedFullScreen||document.fullscreenElement!=null}function observeIsFullscreen(_e,et){let tt=null;const rt=()=>{const it=isFullScreen(_e);it!==tt&&(et(it),tt=it)},nt=_e.subscribe(rt);return document.addEventListener("fullscreenchange",rt),()=>{nt(),document.removeEventListener("fullscreenchange",rt)}}function useIsFullscreen(){const _e=useFullscreenStore(),[et,tt]=reactExports.useState(()=>isFullScreen(_e));return reactExports.useLayoutEffect(()=>(tt(isFullScreen(_e)),observeIsFullscreen(_e,tt)),[_e]),et}const store=createStore(subscribeWithSelector(()=>({dialogs:[]})));function closeDialog(_e){store.setState(et=>({...et,dialogs:et.dialogs.filter(tt=>tt.id!==_e)}),!0)}function isDialogOpen(_e){return store.getState().dialogs.some(et=>et.id==_e)}async function waitUntilDialogIsClosed(_e){if(isDialogOpen(_e))return new Promise(et=>{const tt=store.subscribe(()=>{isDialogOpen(_e)||(tt(),et())})})}async function openDialog(_e){const et=secureUuid();return store.setState(tt=>({...tt,dialogs:[...tt.dialogs,{id:et,content:_e(()=>closeDialog(et))}]}),!0),waitUntilDialogIsClosed(et)}function useDialogs(){return useStore(store,reactExports.useCallback(_e=>_e.dialogs,[]))}function DialogManagerContainer(){const _e=useDialogs();return _e.length==0?null:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:_e.map(et=>jsxRuntimeExports.jsx(reactExports.Fragment,{children:et.content},et.id))})}function InternalRootRoute(){const _e=useFullscreenStore(),{pathname:et}=useLocation(),tt=reactExports.useMemo(()=>getRouteFromPathname(et),[et]),rt=tt?ROUTE_THEME[tt]:null,nt=tt?TERMLY_ALLOWLIST.includes(tt):!1,[it,at]=reactExports.useState(!1);return reactExports.useLayoutEffect(()=>(document.body.setAttribute("data-mobile",String(isMobileViewport())),document.body.setAttribute("data-tablet",String(isTabletViewport())),observeViewport((ot,st)=>{document.body.setAttribute("data-mobile",String(ot)),document.body.setAttribute("data-tablet",String(st))})),[]),reactExports.useLayoutEffect(()=>(document.body.setAttribute("data-fullscreen",String(isFullScreen(_e))),observeIsFullscreen(_e,ot=>{document.body.setAttribute("data-fullscreen",String(ot))})),[_e]),window.onTermlyLoaded=at,jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(W$1,{children:[jsxRuntimeExports.jsx("meta",{name:"theme-color",content:rt??Colors.spruce[15]}),nt&&jsxRuntimeExports.jsx("script",{type:"text/javascript",onload:"window.onTermlyLoaded(true)",src:"https://app.termly.io/resource-blocker/f51d9643-80ce-41a1-936e-96527e0cfcc8?autoBlock=off&masterConsentsOrigin=https://www.remento.co"})]}),nt&&it&&jsxRuntimeExports.jsx("iframe",{src:"https://www.remento.co/private/termly-sync",style:{display:"none"}}),jsxRuntimeExports.jsx(Outlet,{}),jsxRuntimeExports.jsx(DialogManagerContainer,{})]})}function RootRoute(){const _e=useCreateFullscreenStore(),et=reactExports.useMemo(()=>_e(),[_e]);return jsxRuntimeExports.jsx(FullscreenStoreProvider,{value:et,children:jsxRuntimeExports.jsx(InternalRootRoute,{})})}function RootPage(){return jsxRuntimeExports.jsx(RementoPage,{type:"default"})}function redirect(){window.location.assign(getQueryParam("redirect")??"")}function InternalTokenRedirectPage(){const{authService:_e}=useServices(),et=useUser();return useAsyncEffect(async tt=>{if(et===void 0)return;let rt="not-authenticated";et!==null&&(rt=await _e.createCustomSignInToken(),tt()),api$2.set(MIGRATION_TOKEN_COOKIE_NAME,rt,{domain:USER_COOKIE_DOMAIN,expires:Date.now()+15*60*1e3}),redirect()},[_e,et]),jsxRuntimeExports.jsx(PageLoader,{})}function TokenRedirectPage(){return jsxRuntimeExports.jsx(RementoPage,{type:"empty",children:jsxRuntimeExports.jsx(InternalTokenRedirectPage,{})})}const AccountNamePage=reactExports.lazy(()=>__vitePreload(()=>import("./AccountNamePage-DwimsPca.js"),__vite__mapDeps([3,4,5,6])).then(_e=>({default:_e.AccountNamePage}))),AccountSettingsPage=reactExports.lazy(()=>__vitePreload(()=>import("./AccountSettingsPage-Bc5tfZ6a.js"),__vite__mapDeps([7,8,9,10,11,12,13,14,15,4,5,16,17,18,19,20,21,22,23,24,25,26])).then(_e=>({default:_e.AccountSettingsPage}))),AccountRenewPromoPage=reactExports.lazy(()=>__vitePreload(()=>import("./subscription.chunks-DA9pBz86.js"),__vite__mapDeps([27,28,29,30,13,14,31,32,33,34,35,36,37,21,38,39,20,40,41,42,24,25,43,44,45])).then(_e=>({default:_e.AccountRenewPromoPage}))),AccountReactivatePage=reactExports.lazy(()=>__vitePreload(()=>import("./subscription.chunks-DA9pBz86.js"),__vite__mapDeps([27,28,29,30,13,14,31,32,33,34,35,36,37,21,38,39,20,40,41,42,24,25,43,44,45])).then(_e=>({default:_e.AccountReactivatePage}))),SubscriptionCancelledSurveyPage=reactExports.lazy(()=>__vitePreload(()=>import("./subscription.chunks-DA9pBz86.js"),__vite__mapDeps([27,28,29,30,13,14,31,32,33,34,35,36,37,21,38,39,20,40,41,42,24,25,43,44,45])).then(_e=>({default:_e.SubscriptionCancelledSurveyPage}))),SubscriptionRenewalSucceededPage=reactExports.lazy(()=>__vitePreload(()=>import("./subscription.chunks-DA9pBz86.js"),__vite__mapDeps([27,28,29,30,13,14,31,32,33,34,35,36,37,21,38,39,20,40,41,42,24,25,43,44,45])).then(_e=>({default:_e.SubscriptionRenewalSucceededPage}))),BookOrderLayoutContainer=reactExports.lazy(()=>__vitePreload(()=>import("./book.chunks-ruu-Bab2.js"),__vite__mapDeps([46,47,48,49,8,9,50,51,11,12,52,13,14,53,20,33,18,19,54,55,24,25,4,5,56,57,58,34,35,36,37,21,31,32,38,39,40,59])).then(_e=>({default:_e.BookOrderLayoutContainer}))),BookOrderCoverDesignPage=reactExports.lazy(()=>__vitePreload(()=>import("./book.chunks-ruu-Bab2.js"),__vite__mapDeps([46,47,48,49,8,9,50,51,11,12,52,13,14,53,20,33,18,19,54,55,24,25,4,5,56,57,58,34,35,36,37,21,31,32,38,39,40,59])).then(_e=>({default:_e.BookOrderCoverDesignPage}))),BookOrderStoriesPage=reactExports.lazy(()=>__vitePreload(()=>import("./book.chunks-ruu-Bab2.js"),__vite__mapDeps([46,47,48,49,8,9,50,51,11,12,52,13,14,53,20,33,18,19,54,55,24,25,4,5,56,57,58,34,35,36,37,21,31,32,38,39,40,59])).then(_e=>({default:_e.BookOrderStoriesPage}))),BookOrderFinalizePage=reactExports.lazy(()=>__vitePreload(()=>import("./book.chunks-ruu-Bab2.js"),__vite__mapDeps([46,47,48,49,8,9,50,51,11,12,52,13,14,53,20,33,18,19,54,55,24,25,4,5,56,57,58,34,35,36,37,21,31,32,38,39,40,59])).then(_e=>({default:_e.BookOrderFinalizePage}))),BookOrderCompletePage=reactExports.lazy(()=>__vitePreload(()=>import("./book.chunks-ruu-Bab2.js"),__vite__mapDeps([46,47,48,49,8,9,50,51,11,12,52,13,14,53,20,33,18,19,54,55,24,25,4,5,56,57,58,34,35,36,37,21,31,32,38,39,40,59])).then(_e=>({default:_e.BookOrderCompletePage}))),BookOrderPreviewPage=reactExports.lazy(()=>__vitePreload(()=>import("./book.chunks-ruu-Bab2.js"),__vite__mapDeps([46,47,48,49,8,9,50,51,11,12,52,13,14,53,20,33,18,19,54,55,24,25,4,5,56,57,58,34,35,36,37,21,31,32,38,39,40,59])).then(_e=>({default:_e.BookOrderPreviewPage}))),BookOrderQuantityPage=reactExports.lazy(()=>__vitePreload(()=>import("./book.chunks-ruu-Bab2.js"),__vite__mapDeps([46,47,48,49,8,9,50,51,11,12,52,13,14,53,20,33,18,19,54,55,24,25,4,5,56,57,58,34,35,36,37,21,31,32,38,39,40,59])).then(_e=>({default:_e.BookOrderQuantityPage}))),BookReorderLayoutContainer=reactExports.lazy(()=>__vitePreload(()=>import("./book.chunks-ruu-Bab2.js"),__vite__mapDeps([46,47,48,49,8,9,50,51,11,12,52,13,14,53,20,33,18,19,54,55,24,25,4,5,56,57,58,34,35,36,37,21,31,32,38,39,40,59])).then(_e=>({default:_e.BookReorderLayoutContainer}))),BookReorderPreviewPage=reactExports.lazy(()=>__vitePreload(()=>import("./book.chunks-ruu-Bab2.js"),__vite__mapDeps([46,47,48,49,8,9,50,51,11,12,52,13,14,53,20,33,18,19,54,55,24,25,4,5,56,57,58,34,35,36,37,21,31,32,38,39,40,59])).then(_e=>({default:_e.BookReorderPreviewPage}))),BookReorderQuantityPage=reactExports.lazy(()=>__vitePreload(()=>import("./book.chunks-ruu-Bab2.js"),__vite__mapDeps([46,47,48,49,8,9,50,51,11,12,52,13,14,53,20,33,18,19,54,55,24,25,4,5,56,57,58,34,35,36,37,21,31,32,38,39,40,59])).then(_e=>({default:_e.BookReorderQuantityPage}))),BookReorderFinalizePage=reactExports.lazy(()=>__vitePreload(()=>import("./book.chunks-ruu-Bab2.js"),__vite__mapDeps([46,47,48,49,8,9,50,51,11,12,52,13,14,53,20,33,18,19,54,55,24,25,4,5,56,57,58,34,35,36,37,21,31,32,38,39,40,59])).then(_e=>({default:_e.BookReorderFinalizePage})));reactExports.lazy(()=>__vitePreload(()=>import("./project-checkout.chunks-BEGTVP-i.js"),__vite__mapDeps([60,56,57,35,54,55,4,5,47,48,49,61,24,25,62,43,44,15,63,64])).then(_e=>({default:_e.ProjectCheckoutPage})));const ProjectCheckoutAudiencePage=reactExports.lazy(()=>__vitePreload(()=>import("./project-checkout.chunks-BEGTVP-i.js"),__vite__mapDeps([60,56,57,35,54,55,4,5,47,48,49,61,24,25,62,43,44,15,63,64])).then(_e=>({default:_e.ProjectCheckoutAudiencePage}))),ProjectCheckoutContainer=reactExports.lazy(()=>__vitePreload(()=>import("./project-checkout.chunks-BEGTVP-i.js"),__vite__mapDeps([60,56,57,35,54,55,4,5,47,48,49,61,24,25,62,43,44,15,63,64])).then(_e=>({default:_e.ProjectCheckoutContainer}))),AutobiographyProjectCheckoutContactStepContainer=reactExports.lazy(()=>__vitePreload(()=>import("./project-checkout.chunks-BEGTVP-i.js"),__vite__mapDeps([60,56,57,35,54,55,4,5,47,48,49,61,24,25,62,43,44,15,63,64])).then(_e=>({default:_e.AutobiographyProjectCheckoutContactStepContainer}))),AutobiographyProjectCheckoutReviewStepContainer=reactExports.lazy(()=>__vitePreload(()=>import("./project-checkout.chunks-BEGTVP-i.js"),__vite__mapDeps([60,56,57,35,54,55,4,5,47,48,49,61,24,25,62,43,44,15,63,64])).then(_e=>({default:_e.AutobiographyProjectCheckoutReviewStepContainer}))),BabybookProjectCheckoutBookStepContainer=reactExports.lazy(()=>__vitePreload(()=>import("./project-checkout.chunks-BEGTVP-i.js"),__vite__mapDeps([60,56,57,35,54,55,4,5,47,48,49,61,24,25,62,43,44,15,63,64])).then(_e=>({default:_e.BabybookProjectCheckoutBookStepContainer}))),BabybookProjectCheckoutContactStepContainer=reactExports.lazy(()=>__vitePreload(()=>import("./project-checkout.chunks-BEGTVP-i.js"),__vite__mapDeps([60,56,57,35,54,55,4,5,47,48,49,61,24,25,62,43,44,15,63,64])).then(_e=>({default:_e.BabybookProjectCheckoutContactStepContainer}))),BabybookProjectCheckoutReviewStepContainer=reactExports.lazy(()=>__vitePreload(()=>import("./project-checkout.chunks-BEGTVP-i.js"),__vite__mapDeps([60,56,57,35,54,55,4,5,47,48,49,61,24,25,62,43,44,15,63,64])).then(_e=>({default:_e.BabybookProjectCheckoutReviewStepContainer}))),BiographyProjectCheckoutContactStepContainer=reactExports.lazy(()=>__vitePreload(()=>import("./project-checkout.chunks-BEGTVP-i.js"),__vite__mapDeps([60,56,57,35,54,55,4,5,47,48,49,61,24,25,62,43,44,15,63,64])).then(_e=>({default:_e.BiographyProjectCheckoutContactStepContainer}))),BiographyProjectCheckoutDeliveryStepContainer=reactExports.lazy(()=>__vitePreload(()=>import("./project-checkout.chunks-BEGTVP-i.js"),__vite__mapDeps([60,56,57,35,54,55,4,5,47,48,49,61,24,25,62,43,44,15,63,64])).then(_e=>({default:_e.BiographyProjectCheckoutDeliveryStepContainer}))),BiographyProjectCheckoutAddonsStepContainer=reactExports.lazy(()=>__vitePreload(()=>import("./project-checkout.chunks-BEGTVP-i.js"),__vite__mapDeps([60,56,57,35,54,55,4,5,47,48,49,61,24,25,62,43,44,15,63,64])).then(_e=>({default:_e.BiographyProjectCheckoutAddonsStepContainer}))),BiographyProjectCheckoutReviewStepContainer=reactExports.lazy(()=>__vitePreload(()=>import("./project-checkout.chunks-BEGTVP-i.js"),__vite__mapDeps([60,56,57,35,54,55,4,5,47,48,49,61,24,25,62,43,44,15,63,64])).then(_e=>({default:_e.BiographyProjectCheckoutReviewStepContainer}))),FreeProjectCheckoutDetailsStepContainer=reactExports.lazy(()=>__vitePreload(()=>import("./project-checkout.chunks-BEGTVP-i.js"),__vite__mapDeps([60,56,57,35,54,55,4,5,47,48,49,61,24,25,62,43,44,15,63,64])).then(_e=>({default:_e.FreeProjectCheckoutDetailsStepContainer}))),FreeProjectCheckoutReviewStepContainer=reactExports.lazy(()=>__vitePreload(()=>import("./project-checkout.chunks-BEGTVP-i.js"),__vite__mapDeps([60,56,57,35,54,55,4,5,47,48,49,61,24,25,62,43,44,15,63,64])).then(_e=>({default:_e.FreeProjectCheckoutReviewStepContainer}))),CheckoutBundlePage=reactExports.lazy(()=>__vitePreload(()=>import("./project-checkout.chunks-BEGTVP-i.js"),__vite__mapDeps([60,56,57,35,54,55,4,5,47,48,49,61,24,25,62,43,44,15,63,64])).then(_e=>({default:_e.CheckoutBundlePage}))),CheckoutGiftPage=reactExports.lazy(()=>__vitePreload(()=>import("./project-checkout.chunks-BEGTVP-i.js"),__vite__mapDeps([60,56,57,35,54,55,4,5,47,48,49,61,24,25,62,43,44,15,63,64])).then(_e=>({default:_e.CheckoutGiftPage}))),ProjectCheckoutGetStartedPage=reactExports.lazy(()=>__vitePreload(()=>import("./project-checkout.chunks-BEGTVP-i.js"),__vite__mapDeps([60,56,57,35,54,55,4,5,47,48,49,61,24,25,62,43,44,15,63,64])).then(_e=>({default:_e.ProjectCheckoutGetStartedPage}))),ProjectCheckoutSuccessPage=reactExports.lazy(()=>__vitePreload(()=>import("./project-checkout.chunks-BEGTVP-i.js"),__vite__mapDeps([60,56,57,35,54,55,4,5,47,48,49,61,24,25,62,43,44,15,63,64])).then(_e=>({default:_e.ProjectCheckoutSuccessPage}))),ProjectCheckoutSurveyPage=reactExports.lazy(()=>__vitePreload(()=>import("./project-checkout.chunks-BEGTVP-i.js"),__vite__mapDeps([60,56,57,35,54,55,4,5,47,48,49,61,24,25,62,43,44,15,63,64])).then(_e=>({default:_e.ProjectCheckoutSurveyPage}))),NewProjectPage=reactExports.lazy(()=>__vitePreload(()=>import("./project-checkout.chunks-BEGTVP-i.js"),__vite__mapDeps([60,56,57,35,54,55,4,5,47,48,49,61,24,25,62,43,44,15,63,64])).then(_e=>({default:_e.NewProjectPage}))),DebugDeleteAccountPage=reactExports.lazy(()=>__vitePreload(()=>import("./DebugDeleteAccountPage-NBkjKCZl.js"),[]).then(_e=>({default:_e.DebugDeleteAccountPage}))),InAppPage=reactExports.lazy(()=>__vitePreload(()=>import("./InAppPage-CQf-PYO7.js"),__vite__mapDeps([65,66])).then(_e=>({default:_e.InAppPage}))),InvitePage=reactExports.lazy(()=>__vitePreload(()=>import("./InvitePage-F_ZdQi1f.js"),__vite__mapDeps([67,68,69,70])).then(_e=>({default:_e.InvitePage}))),OnboardingIntroPage=reactExports.lazy(()=>__vitePreload(()=>import("./OnboardingIntroPage-CBiM4-iO.js"),__vite__mapDeps([71,13,14,68,69,72])).then(_e=>({default:_e.OnboardingIntroPage}))),OnboardingSigninPage=reactExports.lazy(()=>__vitePreload(()=>import("./OnboardingSigninPage-DkfPu4H0.js"),__vite__mapDeps([73,44,74,75])).then(_e=>({default:_e.OnboardingSigninPage}))),ProjectSettingsPage=reactExports.lazy(()=>__vitePreload(()=>import("./ProjectSettingsPage-CnLXVC4X.js"),__vite__mapDeps([76,8,9,23,50,51,48,11,12,52,18,19,10,13,14,15,4,5,16,17,20,21,22,77,78,79,56,57,80,81,82,61,83,84,85,86])).then(_e=>({default:_e.ProjectSettingsPage}))),QuestionsPage=reactExports.lazy(()=>__vitePreload(()=>import("./QuestionsPage-Dpwa1qku.js"),__vite__mapDeps([87,8,9,23,88,56,57,80,78,79,81,89,42,90,38,39,13,14,91,58,92,93,4,5,94,95,20,96,97,98,24,25,99,100,101,83,31,32,18,19,77,82,33,102])).then(_e=>({default:_e.QuestionsPage}))),ProjectHomePage=reactExports.lazy(()=>__vitePreload(()=>import("./ProjectHomePage-BmgkDe8c.js"),__vite__mapDeps([103,8,9,77,13,14,78,79,56,57,80,81,82,101,91,58,38,39,92,98,24,25,99,83,63,104,105,30,31,32,33,34,35,36,37,21,20,40,41,106])).then(_e=>({default:_e.ProjectHomePage}))),RecordingIntroPage=reactExports.lazy(()=>__vitePreload(()=>import("./recording.chunks-BkuNKOm7.js"),__vite__mapDeps([107,53,95,20,96,97,98,24,25,99,100,42,28,29,104,38,39,105,89,13,14,78,79,54,55,36,37,108,33,109])).then(_e=>({default:_e.RecordingIntroPage}))),RecordingPageContainer=reactExports.lazy(()=>__vitePreload(()=>import("./recording.chunks-BkuNKOm7.js"),__vite__mapDeps([107,53,95,20,96,97,98,24,25,99,100,42,28,29,104,38,39,105,89,13,14,78,79,54,55,36,37,108,33,109])).then(_e=>({default:_e.RecordingPageContainer}))),RecordingPromptRecordedPage=reactExports.lazy(()=>__vitePreload(()=>import("./recording.chunks-BkuNKOm7.js"),__vite__mapDeps([107,53,95,20,96,97,98,24,25,99,100,42,28,29,104,38,39,105,89,13,14,78,79,54,55,36,37,108,33,109])).then(_e=>({default:_e.RecordingPromptRecordedPage}))),RecordingPaywallPage=reactExports.lazy(()=>__vitePreload(()=>import("./recording.chunks-BkuNKOm7.js"),__vite__mapDeps([107,53,95,20,96,97,98,24,25,99,100,42,28,29,104,38,39,105,89,13,14,78,79,54,55,36,37,108,33,109])).then(_e=>({default:_e.RecordingPaywallPage}))),RecordingRecoveryPage=reactExports.lazy(()=>__vitePreload(()=>import("./recording.chunks-BkuNKOm7.js"),__vite__mapDeps([107,53,95,20,96,97,98,24,25,99,100,42,28,29,104,38,39,105,89,13,14,78,79,54,55,36,37,108,33,109])).then(_e=>({default:_e.RecordingRecoveryPage}))),RecordingFinishPage=reactExports.lazy(()=>__vitePreload(()=>import("./recording.chunks-BkuNKOm7.js"),__vite__mapDeps([107,53,95,20,96,97,98,24,25,99,100,42,28,29,104,38,39,105,89,13,14,78,79,54,55,36,37,108,33,109])).then(_e=>({default:_e.RecordingFinishPage}))),RecordingTypeSelectionPageContainer=reactExports.lazy(()=>__vitePreload(()=>import("./recording.chunks-BkuNKOm7.js"),__vite__mapDeps([107,53,95,20,96,97,98,24,25,99,100,42,28,29,104,38,39,105,89,13,14,78,79,54,55,36,37,108,33,109])).then(_e=>({default:_e.RecordingTypeSelectionPage}))),ProjectRecordPage=reactExports.lazy(()=>__vitePreload(()=>import("./recording.chunks-BkuNKOm7.js"),__vite__mapDeps([107,53,95,20,96,97,98,24,25,99,100,42,28,29,104,38,39,105,89,13,14,78,79,54,55,36,37,108,33,109])).then(_e=>({default:_e.ProjectRecordPage}))),ProjectRecordCustomizePage=reactExports.lazy(()=>__vitePreload(()=>import("./recording.chunks-BkuNKOm7.js"),__vite__mapDeps([107,53,95,20,96,97,98,24,25,99,100,42,28,29,104,38,39,105,89,13,14,78,79,54,55,36,37,108,33,109])).then(_e=>({default:_e.ProjectRecordCustomizePage}))),RecordingTryOutPage=reactExports.lazy(()=>__vitePreload(()=>import("./recording.chunks-BkuNKOm7.js"),__vite__mapDeps([107,53,95,20,96,97,98,24,25,99,100,42,28,29,104,38,39,105,89,13,14,78,79,54,55,36,37,108,33,109])).then(_e=>({default:_e.RecordingTryOutPage}))),SetupPromptsReviewPage=reactExports.lazy(()=>__vitePreload(()=>import("./setup.chunks-DCVZyFB6.js"),__vite__mapDeps([110,16,17,61,84,85,83,13,14,91,58,38,39,92,56,57,95,20,96,93,42,4,5,94,111])).then(_e=>({default:_e.SetupPromptsReviewPage}))),SetupPromptTypeSelectionPage=reactExports.lazy(()=>__vitePreload(()=>import("./setup.chunks-DCVZyFB6.js"),__vite__mapDeps([110,16,17,61,84,85,83,13,14,91,58,38,39,92,56,57,95,20,96,93,42,4,5,94,111])).then(_e=>({default:_e.SetupPromptTypeSelectionPage}))),SetupTextPromptSelectionPage=reactExports.lazy(()=>__vitePreload(()=>import("./setup.chunks-DCVZyFB6.js"),__vite__mapDeps([110,16,17,61,84,85,83,13,14,91,58,38,39,92,56,57,95,20,96,93,42,4,5,94,111])).then(_e=>({default:_e.SetupTextPromptSelectionPage}))),SetupPromptsFrequencyPage=reactExports.lazy(()=>__vitePreload(()=>import("./setup.chunks-DCVZyFB6.js"),__vite__mapDeps([110,16,17,61,84,85,83,13,14,91,58,38,39,92,56,57,95,20,96,93,42,4,5,94,111])).then(_e=>({default:_e.SetupPromptsFrequencyPage}))),SetupPerspectivePage=reactExports.lazy(()=>__vitePreload(()=>import("./setup.chunks-DCVZyFB6.js"),__vite__mapDeps([110,16,17,61,84,85,83,13,14,91,58,38,39,92,56,57,95,20,96,93,42,4,5,94,111])).then(_e=>({default:_e.SetupPerspectivePage}))),SetupCollaboratorsPage=reactExports.lazy(()=>__vitePreload(()=>import("./setup.chunks-DCVZyFB6.js"),__vite__mapDeps([110,16,17,61,84,85,83,13,14,91,58,38,39,92,56,57,95,20,96,93,42,4,5,94,111])).then(_e=>({default:_e.SetupCollaboratorsPage}))),PollPage=reactExports.lazy(()=>__vitePreload(()=>import("./poll.chunks-C169NIK_.js"),__vite__mapDeps([112,88,56,57,80,78,79,81,89,42,90,108,113])).then(_e=>({default:_e.PollPage}))),QuestionnairePage=reactExports.lazy(()=>__vitePreload(()=>import("./questionnaire.chunks-CFuf6nUh.js"),__vite__mapDeps([114,108,4,5,42,35,56,57,62,115])).then(_e=>({default:_e.QuestionnairePage}))),SigninPage=reactExports.lazy(()=>__vitePreload(()=>import("./SigninPage-CvagZXoS.js"),__vite__mapDeps([116,108,74,16,17,117])).then(_e=>({default:_e.SigninPage}))),StoriesPage=reactExports.lazy(()=>__vitePreload(()=>import("./StoriesPage-B8CJF2ZH.js"),__vite__mapDeps([118,8,9,23,77,13,14,78,79,56,57,80,81,82,33,30,31,32,34,35,36,37,21,38,39,20,40,41])).then(_e=>({default:_e.StoriesPage}))),StoryHighlightReelPage=reactExports.lazy(()=>__vitePreload(()=>import("./StoryHighlightReelPage-Cy8YINtg.js"),__vite__mapDeps([119,34,13,14,35,36,37,21,33,31,32,38,39,20,40,120])).then(_e=>({default:_e.StoryHighlightReelPage}))),StoryPage=reactExports.lazy(()=>__vitePreload(()=>import("./StoryPage-BdWQPv5q.js"),__vite__mapDeps([121,34,13,14,35,36,37,21,33,31,32,38,39,20,40])).then(_e=>({default:_e.StoryPage}))),WelcomePage=reactExports.lazy(()=>__vitePreload(()=>import("./WelcomePage-CN4YSnrc.js"),__vite__mapDeps([122,123])).then(_e=>({default:_e.WelcomePage}))),BookStoryContent=reactExports.lazy(()=>__vitePreload(()=>import("./pdf.chunks-BnVO-N6J.js"),__vite__mapDeps([124,51,125])).then(_e=>({default:_e.BookStoryContent}))),BookCover=reactExports.lazy(()=>__vitePreload(()=>import("./pdf.chunks-BnVO-N6J.js"),__vite__mapDeps([124,51,125])).then(_e=>({default:_e.BookCover}))),BookGutsCover=reactExports.lazy(()=>__vitePreload(()=>import("./pdf.chunks-BnVO-N6J.js"),__vite__mapDeps([124,51,125])).then(_e=>({default:_e.BookGutsCover}))),BookTableOfContents=reactExports.lazy(()=>__vitePreload(()=>import("./pdf.chunks-BnVO-N6J.js"),__vite__mapDeps([124,51,125])).then(_e=>({default:_e.BookTableOfContents}))),GiftCard=reactExports.lazy(()=>__vitePreload(()=>import("./pdf.chunks-BnVO-N6J.js"),__vite__mapDeps([124,51,125])).then(_e=>({default:_e.GiftCard}))),subRoutes=[{path:RoutePath.StoriesLegacyRedirect,element:jsxRuntimeExports.jsx(RementoPage,{type:"default"})},{path:RoutePath.QuestionsLegacyRedirect,element:jsxRuntimeExports.jsx(RementoPage,{type:"default"})},{path:RoutePath.ProjectSettingsLegacyRedirect,element:jsxRuntimeExports.jsx(RementoPage,{type:"default"})},{path:RoutePath.ProjectLegacyRedirect,element:jsxRuntimeExports.jsx(RementoPage,{type:"default"})},{path:RoutePath.ProjectHomeRedirect,element:jsxRuntimeExports.jsx(RementoPage,{type:"default"})},{path:RoutePath.ProjectStoriesRedirect,element:jsxRuntimeExports.jsx(RementoPage,{type:"default"})},{path:RoutePath.ProjectQuestionsRedirect,element:jsxRuntimeExports.jsx(RementoPage,{type:"default"})},{path:RoutePath.ProjectSettingsRedirect,element:jsxRuntimeExports.jsx(RementoPage,{type:"default"})},{path:RoutePath.ProjectRecordRedirect,element:jsxRuntimeExports.jsx(RementoPage,{type:"default"})},{path:RoutePath.Root,index:!0,element:jsxRuntimeExports.jsx(RootPage,{})},{path:RoutePath.StoryStandalone,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(StoryPage,{})})},{path:RoutePath.Story,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{layout:"navbar"}),children:jsxRuntimeExports.jsx(StoriesPage,{})})},{path:RoutePath.StoryHighlightReel,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{layout:"navbar"}),children:jsxRuntimeExports.jsx(StoryHighlightReelPage,{})})},{path:RoutePath.Stories,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{layout:"navbar"}),children:jsxRuntimeExports.jsx(StoriesPage,{})})},{path:RoutePath.Questions,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{layout:"navbar"}),children:jsxRuntimeExports.jsx(QuestionsPage,{})})},{path:RoutePath.ProjectSettings,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{layout:"navbar"}),children:jsxRuntimeExports.jsx(ProjectSettingsPage,{})})},{path:RoutePath.ProjectHome,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{layout:"navbar"}),children:jsxRuntimeExports.jsx(ProjectHomePage,{})})},{path:RoutePath.AccountSettings,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{layout:"navbar"}),children:jsxRuntimeExports.jsx(AccountSettingsPage,{})})},{path:RoutePath.AccountRenewPromo,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(AccountRenewPromoPage,{})})},{path:RoutePath.AccountReactivate,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(AccountReactivatePage,{})})},{path:RoutePath.SubscriptionRenewalSucceeded,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(SubscriptionRenewalSucceededPage,{})})},{path:RoutePath.SubscriptionCancelledSurvey,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(SubscriptionCancelledSurveyPage,{})})},{path:RoutePath.RecordingIntro,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(RecordingIntroLoader,{}),children:jsxRuntimeExports.jsx(RecordingIntroPage,{})})},{path:RoutePath.RecordingTypeSelection,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(RecordingTypeSelectionPageContainer,{})})},{path:RoutePath.Recording,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(RecordingPageContainer,{})})},{path:RoutePath.RecordingPromptRecorded,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(RecordingPromptRecordedPage,{})})},{path:RoutePath.RecordingPaywall,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(RecordingPaywallPage,{})})},{path:RoutePath.RecordingRecovery,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(RecordingRecoveryPage,{})})},{path:RoutePath.RecordingFinish,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(RecordingFinishPage,{})})},{path:RoutePath.ProjectRecord,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(ProjectRecordPage,{})})},{path:RoutePath.ProjectRecordCustomize,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(ProjectRecordCustomizePage,{})})},{path:RoutePath.RecordingTryOut,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(RecordingIntroLoader,{}),children:jsxRuntimeExports.jsx(RecordingTryOutPage,{})})},{path:RoutePath.RecordingPractice,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(RecordingIntroLoader,{}),children:jsxRuntimeExports.jsx(RecordingTryOutPage,{isPractice:!0})})},{path:RoutePath.Checkout,element:jsxRuntimeExports.jsx(Navigate,{to:getCheckoutAudiencePath()})},{path:RoutePath.CheckoutBiographyAudience,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(ProjectCheckoutAudiencePage,{projectType:"BIOGRAPHY"})})},{element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(ProjectCheckoutContainer,{projectType:"BIOGRAPHY"})}),children:[{path:RoutePath.CheckoutBiographyDelivery,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(BiographyProjectCheckoutDeliveryStepContainer,{})})},{path:RoutePath.CheckoutBiographyContact,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(BiographyProjectCheckoutContactStepContainer,{})})},{path:RoutePath.CheckoutBiographyAddons,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(BiographyProjectCheckoutAddonsStepContainer,{})})},{path:RoutePath.CheckoutBiographyReview,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(BiographyProjectCheckoutReviewStepContainer,{})})}]},{element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(ProjectCheckoutContainer,{projectType:"AUTOBIOGRAPHY"})}),children:[{path:RoutePath.CheckoutAutobiographyContact,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(AutobiographyProjectCheckoutContactStepContainer,{})})},{path:RoutePath.CheckoutAutobiographyAddons,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(BiographyProjectCheckoutAddonsStepContainer,{})})},{path:RoutePath.CheckoutAutobiographyReview,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(AutobiographyProjectCheckoutReviewStepContainer,{})})}]},{path:RoutePath.CheckoutBabyAudience,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(ProjectCheckoutAudiencePage,{projectType:"BABYBOOK"})})},{element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(ProjectCheckoutContainer,{projectType:"BABYBOOK"})}),children:[{path:RoutePath.CheckoutBabyHost,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(BabybookProjectCheckoutContactStepContainer,{})})},{path:RoutePath.CheckoutBabyProject,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(BabybookProjectCheckoutBookStepContainer,{})})},{path:RoutePath.CheckoutBabyReview,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(BabybookProjectCheckoutReviewStepContainer,{})})}]},{element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(ProjectCheckoutContainer,{projectType:"FREE"})}),children:[{path:RoutePath.CheckoutFreeDetails,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(FreeProjectCheckoutDetailsStepContainer,{})})},{path:RoutePath.CheckoutFreeReview,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(FreeProjectCheckoutReviewStepContainer,{})})}]},{path:RoutePath.CheckoutBundle,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(CheckoutBundlePage,{})})},{path:RoutePath.CheckoutGift,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(CheckoutGiftPage,{})})},{path:RoutePath.CheckoutSuccess,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(ProjectCheckoutSuccessPage,{})})},{path:RoutePath.CheckoutSurvey,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(ProjectCheckoutSurveyPage,{})})},{path:RoutePath.CheckoutGetStarted,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(ProjectCheckoutGetStartedPage,{})})},{path:RoutePath.NewProject,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(NewProjectPage,{})})},{path:RoutePath.Onboarding,element:jsxRuntimeExports.jsx(RementoPage,{type:"default"})},{path:RoutePath.OnboardingSignin,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(OnboardingSigninPage,{})})},{path:RoutePath.OnboardingIntro,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(OnboardingIntroPage,{})})},{element:jsxRuntimeExports.jsx(OnboardingContainer,{}),children:[{path:RoutePath.SetupPromptTypeSelection,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(SetupPromptTypeSelectionPage,{})})},{path:RoutePath.SetupTextPromptSelection,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(SetupTextPromptSelectionPage,{})})},{path:RoutePath.SetupPromptsReview,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(SetupPromptsReviewPage,{})})},{path:RoutePath.SetupPromptsFrequency,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(SetupPromptsFrequencyPage,{})})},{path:RoutePath.SetupPerspective,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(SetupPerspectivePage,{})})},{path:RoutePath.SetupCollaborators,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(SetupCollaboratorsPage,{})})}]},{path:RoutePath.Invite,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(InvitePage,{})})},{element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{layout:"navbar"}),children:jsxRuntimeExports.jsx(BookOrderLayoutContainer,{})}),children:[{path:RoutePath.BookOrderCoverDesign,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(BookOrderCoverDesignPage,{})})},{path:RoutePath.BookOrderStories,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(BookOrderStoriesPage,{})})},{path:RoutePath.BookOrderPreview,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(BookOrderPreviewPage,{})})},{path:RoutePath.BookOrderQuantity,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(BookOrderQuantityPage,{})})},{path:RoutePath.BookOrderFinalize,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(BookOrderFinalizePage,{})})},{path:RoutePath.BookOrderComplete,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(BookOrderCompletePage,{})})}]},{element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(BookReorderLayoutContainer,{})}),children:[{path:RoutePath.BookReorderPreview,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(BookReorderPreviewPage,{})})},{path:RoutePath.BookReorderQuantity,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(BookReorderQuantityPage,{})})},{path:RoutePath.BookReorderFinalize,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(BookReorderFinalizePage,{})})}]},{path:RoutePath.Poll,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(PollPage,{})})},{path:RoutePath.QuestionnaireRoot,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(QuestionnairePage,{})})},{path:RoutePath.Questionnaire,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(QuestionnairePage,{})})},{path:RoutePath.Welcome,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(WelcomePage,{})})},{path:RoutePath.InApp,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(InAppPage,{})})},{path:RoutePath.Signin,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(SigninPage,{})})},{path:RoutePath.InviteSignin,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(SigninPage,{isInvite:!0})})},{path:RoutePath.Signout,element:jsxRuntimeExports.jsx(RementoPage,{type:"default"})},{path:RoutePath.AccountName,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(AccountNamePage,{})})},{path:RoutePath.DebugDeleteAccount,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(DebugDeleteAccountPage,{})})},{path:RoutePath.BookCover,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(BookCover,{})})},{path:RoutePath.BookGutsCover,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(BookGutsCover,{})})},{path:RoutePath.BookTableOfContents,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(BookTableOfContents,{})})},{path:RoutePath.BookStoryContent,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(BookStoryContent,{})})},{path:RoutePath.GiftCard,element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PageLoader,{}),children:jsxRuntimeExports.jsx(GiftCard,{})})},{path:RoutePath.TokenRedirect,element:jsxRuntimeExports.jsx(TokenRedirectPage,{})},{path:RoutePath.BrokenEmailRecovery_Question,element:jsxRuntimeExports.jsx(NavigateWithParamsCallback,{to:(_e,et)=>`${getProjectPromptsPath(et.projectId??"")}?${_e.toString()}`})},{path:RoutePath.LegacyCheckoutAudience,element:jsxRuntimeExports.jsx(NavigateWithParams,{to:getCheckoutAudiencePath("biography")})},{path:RoutePath.LegacySeriesSettings,element:jsxRuntimeExports.jsx(LegacyRedirect,{to:_e=>getProjectSettingsPath(_e.projectId),findProjectBy:"personId"})},{path:RoutePath.LegacySeriesSettingsRedirect,element:jsxRuntimeExports.jsx(NavigateWithParams,{to:RoutePath.ProjectSettingsLegacyRedirect})},{path:RoutePath.LegacyStoryStandalone,element:jsxRuntimeExports.jsx(LegacyRedirect,{to:_e=>getStandaloneStoryViewPath(_e.storyId)})},{path:RoutePath.LegacyStory,element:jsxRuntimeExports.jsx(LegacyRedirect,{to:_e=>getStoryViewPath(_e.projectId,_e.storyId),findProjectBy:"storyId"})},{path:RoutePath.LegacyQuestions,element:jsxRuntimeExports.jsx(LegacyRedirect,{to:_e=>getProjectPromptsPath(_e.projectId),findProjectBy:"personId"})},{path:RoutePath.LegacyRecordingIntro,element:jsxRuntimeExports.jsx(LegacyRedirect,{to:_e=>getRecordingIntroPath(_e.projectId,_e.promptId)})},{path:RoutePath.LegacyRecordingTypeSelection,element:jsxRuntimeExports.jsx(LegacyRedirect,{to:_e=>getRecordingTypeSelectionPath(_e.projectId,_e.promptId,"prompt-review")})},{path:RoutePath.LegacyRecording,element:jsxRuntimeExports.jsx(LegacyRedirect,{to:(_e,et)=>getRecordingPath({projectId:_e.projectId,promptId:_e.promptId,type:et.get("type"),customParams:et})})},{path:RoutePath.LegacyRecordingPromptRecorded,element:jsxRuntimeExports.jsx(LegacyRedirect,{to:_e=>getRecordingPromptRecordedPath(_e.projectId,_e.promptId)})},{path:RoutePath.LegacyAccountSettings,element:jsxRuntimeExports.jsx(LegacyRedirect,{to:()=>getAccountSettingsPath()})}],routes=[{element:jsxRuntimeExports.jsx(RootRoute,{}),children:subRoutes,errorElement:jsxRuntimeExports.jsx(AppRouterErrorBoundary,{})}],Elevations={1:"0px 1px 2px 0px rgba(40, 62, 62, 0.12)",2:"0px 2px 8px -1px rgba(40, 62, 62, 0.08), 0px 2px 2px -1px rgba(40, 62, 62, 0.04)",3:"0px 8px 16px -2px rgba(40, 62, 62, 0.12), 0px 2px 2px -1px rgba(40, 62, 62, 0.04)",4:"0px 16px 24px -6px rgba(40, 62, 62, 0.16), 0px 2px 2px -1px rgba(40, 62, 62, 0.04)","bottom-1":"0px 1px 2px 0px rgba(20, 31, 31, 0.12)","bottom-2":"0px 2px 8px -1px rgba(20, 31, 31, 0.08), 0px 2px 2px -1px rgba(20, 31, 31, 0.04)","bottom-3":"0px 8px 16px -2px rgba(20, 31, 31, 0.12), 0px 2px 2px -1px rgba(20, 31, 31, 0.04)","bottom-4":"0px 16px 24px -6px rgba(20, 31, 31, 0.16), 0px 2px 2px -1px rgba(20, 31, 31, 0.04)","inverse-bottom-4":"0px 16px 24px -6px rgba(20, 31, 31, 0.36), 0px 2px 2px -1px rgba(20, 31, 31, 0.24)","top-1":"0px -1px 2px 0px rgba(20, 31, 31, 0.12)","top-2":"0px -2px 8px -1px rgba(20, 31, 31, 0.08), 0px -2px 2px -1px rgba(20, 31, 31, 0.04)","top-3":"0px -8px 16px -2px rgba(20, 31, 31, 0.12), 0px -2px 2px -1px rgba(20, 31, 31, 0.04)","top-4":"0px -16px 24px -6px rgba(20, 31, 31, 0.16), 0px -2px 2px -1px rgba(20, 31, 31, 0.04)"},Fonts={serif:"Adonis",sans:"FKGroteskNeue"},Radius={minimal:"0.25rem",regular:"0.5rem",round:"0.75rem",smooth:"1rem",full:"9999px"},Spacings={none:"0rem","3xs":"0.125rem","2xs":"0.25rem",xs:"0.5rem",sm:"0.75rem",md:"1rem",lg:"1.25rem",xl:"1.5rem","2xl":"2rem","3xl":"2.5rem","4xl":"4rem","5xl":"5rem","6xl":"6rem"};function generateCssVars(_e,et=""){return Object.entries(_e).map(([tt,rt])=>{const nt=et.length?`${et}-${tt}`:tt;return typeof rt=="object"?generateCssVars(rt,nt):`--${nt}: ${rt};`}).join(`
`)}const baseStyles=[generateCssVars(Colors,"color"),generateCssVars(Elevations,"elevation"),generateCssVars(Fonts,"font"),generateCssVars(Radius,"radius"),generateCssVars(Spacings,"spacing")].join(`
`),themeStyles=generateCssVars(ColorsTokens),appStyles=`
  :root {
    ${baseStyles}
    ${themeStyles}
  }
`,basename="",router=createBrowserRouter(routes,{basename});window.location.pathname.startsWith(basename)===!1&&window.location.replace(basename+window.location.pathname+window.location.search);function App(){const _e=reactExports.useMemo(()=>createNavbarStore(),[]);return jsxRuntimeExports.jsxs(q$4,{children:[jsxRuntimeExports.jsxs(W$1,{children:[jsxRuntimeExports.jsx("link",{rel:"icon",href:FaviconSrc}),jsxRuntimeExports.jsx("style",{children:appStyles})]}),jsxRuntimeExports.jsx(Container,{children:jsxRuntimeExports.jsxs(L,{children:[jsxRuntimeExports.jsx(NavbarStoreProvider,{store:_e,children:jsxRuntimeExports.jsx(RouterProvider,{router})}),jsxRuntimeExports.jsx(k$1,{enableMultiContainer:!0,containerId:"root-toast"}),jsxRuntimeExports.jsx(k$1,{enableMultiContainer:!0,containerId:"full-screen-toast",className:fullScreenToastClassName})]})})]})}const fullScreenToastClassName="fullScreenToastClassName_fuwg8pj",Container=styled_default("div")({name:"Container",class:"Container_c1llctjr",propsAsIs:!1});dayjs.extend(relativeTime);dayjs.extend(utc);dayjs.extend(timezone);dayjs.extend(advancedFormat);dayjs.extend(duration);dayjs.extend(customParseFormat);client.createRoot(document.getElementById("app")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{getQueryParam as $,getTimezoneInfo as A,usePersonInitials as B,usePersonAvatarUrl as C,formatPhoneNumber as D,dayjs as E,SubscriptionType as F,FontAwesomeIcon as G,faTriangleExclamation as H,InputContainer$1 as I,RMTooltip as J,faCircleExclamation as K,ColorsTokens as L,RMDialog as M,RMCloseButton as N,faCircleCheck as O,faXmark$1 as P,getSubscriptionCancelledSurveyPath as Q,RMAvatar as R,SubscriptionRenewalType as S,AclGroupRole as T,useSearchParams as U,useNavbarStore as V,useProjectsQuery as W,UserSubscriptionStatus as X,getNavbarProjectId as Y,getProjectSettingsPath as Z,getAccountReactivatePath as _,createUserPhoneSchema as a,setInputValues as a$,useProjectQuery as a0,useCurrentUserAclRoles as a1,getRole as a2,createStore as a3,useStore as a4,AppLayout as a5,useSearchParams$1 as a6,PageLoader as a7,faRightFromBracket as a8,LottieAnimation as a9,useAssetImageUrl as aA,ImageAssetAlternativeType as aB,usePollBookOrderUntilCompleted as aC,BookColor as aD,EBookOrderStatus as aE,BookOrderStatus as aF,getBookReorderPreviewPath as aG,faCheckCircle as aH,RMIconButton as aI,faTrash$1 as aJ,faRightLeft as aK,faCrop as aL,BookColorNameMap as aM,BookColorMap as aN,useControlledInputProps as aO,useBookQuery as aP,getBookOrderCoverDesignPath as aQ,getBookOrderPreviewPath as aR,getBookOrderStoriesPath as aS,getBookOrderQuantityPath as aT,getBookOrderFinalizePath as aU,RMStepper as aV,useBooleanQueryParam as aW,useProjectBookOrdersQuery as aX,BaseAssetAlternativeType as aY,getInputInteraction as aZ,EntityType as a_,RMWordmark as aa,useIsMobileOrTabletViewport as ab,useProjectsItems as ac,usePeople as ad,faCheck$1 as ae,useAsyncEffect as af,notNull as ag,InvalidRequestError as ah,getAccountSettingsPath as ai,UnknownError as aj,reactDomExports as ak,RecordingAssetAlternativeType as al,AssetType as am,PromptStatus as an,PromptType as ao,Navigate as ap,LaptopSrc as aq,useParams as ar,useLocation as as,getRouteFromPathname as at,setNavbarProjectId as au,RoutePath as av,Outlet as aw,faChevronLeft as ax,useBookOrderQuery as ay,getStoriesPath as az,RMText as b,getCheckoutAudiencePath as b$,faList as b0,faEdit as b1,StoryStatus as b2,useBookPreviewAssetIdQuery as b3,useAssetAlternativesQuery as b4,useAlternativeType as b5,useFormValue as b6,faCircleInfo as b7,PdfDocumentAssetAlternativeType as b8,getFormValue as b9,watchInputValidation as bA,getPathname as bB,useQuery as bC,isFormValidating as bD,watchIsFormValidating as bE,getInputValue as bF,getInputValueOrThrow as bG,useProjectCheckoutServices as bH,api$2 as bI,watchFormInputsValue as bJ,watchInputValue as bK,BookExperiments as bL,UserCouponType as bM,motion as bN,faMinus as bO,faPlus as bP,faShieldCheck as bQ,faChevronRight as bR,faCheck as bS,genitiveCase as bT,getCurrentTimezoneInfo as bU,useStorytellerOptions as bV,useHasScroll as bW,faGift as bX,emailValidator as bY,getQueryParamsObject as bZ,openDialog as b_,getMarketingCookies as ba,isFormValid as bb,faInfoCircle as bc,useAlternativeFileUrl as bd,faTriangleExclamation$1 as be,faDownload as bf,useInputState as bg,setInputValue as bh,hasRole as bi,faGripVertical as bj,faVideo as bk,faWaveformLines as bl,faSpinner as bm,STORY_ISSUE_DESCRIPTION as bn,STORY_ISSUE_TITLE as bo,faCircleMinus as bp,faCirclePlus$1 as bq,useAssetQuery as br,usePollAssetId as bs,AssetProcessingStatus as bt,AssetAlternativeMetadataType as bu,useShowPaywall as bv,getStoryTitle as bw,getBookReorderQuantityPath as bx,getBookReorderFinalizePath as by,getInputValidation as bz,createForm as c,useProjectPollsQuery as c$,ProjectCheckoutServicesProvider as c0,getCurrentTimezoneId as c1,getSigninPath as c2,removeToast as c3,ConflictErrorType as c4,ConflictError as c5,getNewProjectPath as c6,getCheckoutGiftPath as c7,commonjsGlobal as c8,getCheckoutFreeDetails as c9,Link as cA,faSparkles as cB,useIsCurrentUserTheStoryteller as cC,ProjectStatus as cD,Weekday as cE,formatTimeWithTimezone as cF,UserStatus as cG,faPrint as cH,useNavbarProjectId as cI,AnimatePresence as cJ,k$1 as cK,faSpinnerThird as cL,faClose$1 as cM,memoize$2 as cN,React$1 as cO,getAllTimezonesIds as cP,TrackingProvider as cQ,BookOrderType as cR,BaseEntityStatus as cS,usePollBookOrderUntilProcessed as cT,useFilterBookOrdersIds as cU,isMobileViewport as cV,useEntity as cW,useEntityByForeignId as cX,useAbortableEffect as cY,useElementSize as cZ,faClock$1 as c_,getCheckoutPath as ca,faChevronDown as cb,faBookOpenCover as cc,faEnvelope as cd,useEnumQueryParam as ce,getCheckoutBiographyDeliveryPath as cf,getCheckoutAutobiographyContactPath as cg,getCheckoutBabyHostPath as ch,getSetupPromptTypeSelectionPath as ci,UserPurchaseStatus as cj,lottie as ck,USER_COOKIE_DOMAIN as cl,getCheckoutGetStartedPath as cm,RMLoader as cn,isEqual as co,faLink$1 as cp,WordmarkSrc as cq,UserOnboardingActionType as cr,getProjectHomePath as cs,getInviteSigninPath as ct,StoryPerspectiveType as cu,useProjectInitials as cv,useProjectCoverUrl as cw,isFormDirty as cx,resetForm as cy,getDefaultExportFromCjs as cz,useInputValue as d,animateSingleValue as d$,usePollQuery as d0,usePollVotesQuery as d1,secureUuid as d2,showShareSheetToast as d3,openShareSheet as d4,faTrash as d5,faArrowUpFromBracket as d6,spinnerAnimationData as d7,faPen as d8,faShuffle as d9,getProjectPromptsPath as dA,getProjectRecordPath as dB,getRecordingTypeSelectionPath as dC,faPlus$1 as dD,faRectangleHistory$1 as dE,faVideo$1 as dF,faUserPlus as dG,invariant as dH,frame as dI,cancelFrame as dJ,memo as dK,isSVGElement$1 as dL,SVGVisualElement as dM,HTMLVisualElement as dN,visualElementStore as dO,spring as dP,calcGeneratorDuration as dQ,maxGeneratorDuration as dR,millisecondsToSeconds as dS,isEasingArray as dT,mix as dU,removeItem as dV,isMotionValue as dW,defaultOffset as dX,fillOffset as dY,progress as dZ,secondsToMilliseconds as d_,usePromptDraftIds as da,usePromptDraft as db,useIsPromptDraftEdited as dc,removePromptDraft as dd,usePromptDraftsCount as de,getPromptDraft as df,updatePromptDraftQuestion as dg,updatePromptDraftPhoto as dh,getPromptDrafts as di,isPromptDraftEdited as dj,resetPromptDrafts as dk,usePromptQuery as dl,usePromptFirstQuestionQuery as dm,usePromptImageUrl as dn,getRecordingIntroPath as dp,faRecordVinyl as dq,faSend$1 as dr,faTrashCan$1 as ds,faEllipsis as dt,faLink as du,useStringQueryParam as dv,createPromptDraftsStore as dw,useFilterProjectPromptIds as dx,faChevronRight$1 as dy,useIsDesktopViewport as dz,createLogger as e,writeToClipboard as e$,animateTarget as e0,faMicrophone as e1,getRecordingPath as e2,faChevronLeft$1 as e3,useSortedPromptIds as e4,getProjectRecordCustomizePath as e5,getRecordingFinishPath as e6,getQuestionsPath as e7,getRecordingPromptRecordedPath as e8,faBolt as e9,getStoryViewPath as eA,getRecordingTryOutPath as eB,useIsFullscreen as eC,faVolumeXmark as eD,faVolume as eE,faCompress as eF,faExpand as eG,useIsFormSubmitting as eH,useFullscreenStore as eI,isIphone as eJ,isIpad as eK,setForcedFullScreen as eL,faXmark as eM,SUMMARY_STREAM_DATA_SEPARATOR as eN,usePrimaryAclGroup as eO,ACL_VIEW_ROLES as eP,StoryLengthType as eQ,setRecordingTryOutQuestion as eR,TRY_OUT_PROJECT_ID as eS,TRY_OUT_PROMPT_ID as eT,Root2 as eU,Trigger as eV,Content2 as eW,Item as eX,subscribeIsFormValid as eY,useProjectInviteLink as eZ,NotFoundError as e_,faArrowLeft as ea,faArrowRight as eb,React as ec,Dexie as ed,RecordingIntroLoader as ee,RecordingLayout as ef,INTERVIEW_SESSION_EXPIRATION_TIME_MS as eg,uaParserExports as eh,isInApp as ei,IdbPartitionQueueRepository as ej,isBrowser as ek,faArrowRight$1 as el,faPause as em,faStop as en,faTrashCan as eo,faPaperPlaneTop as ep,faPlay as eq,faCircle as er,W$1 as es,Colors as et,faWarning as eu,getRecordingRecoveryPath as ev,faRedo as ew,useIsBillingOwner as ex,useReactivate as ey,PaywallDialog as ez,RementoPage as f,faArrowDownToLine as f$,getSetupPerspectivePath as f0,WordmarkSrc$1 as f1,getSetupCollaboratorsPath as f2,usePromptDraftsStore as f3,movePromptDraft as f4,useOnboardingContext as f5,getSetupTextPromptSelectionPath as f6,getSetupPromptsFrequencyPath as f7,addPromptDraft as f8,faAngleLeft as f9,faRotateRight as fA,ProjectBannerType as fB,getAccountRenewPromoPath as fC,updateToast as fD,faBars as fE,openNavbar as fF,SelectTrigger as fG,Separator as fH,Icon$1 as fI,Value as fJ,Viewport as fK,Group as fL,ItemText as fM,useQueries as fN,useAclGroupInviteesQuery as fO,areAllQueriesLoaded as fP,getNameInitials as fQ,ReactionSentimentEmoji as fR,useAlternativeVideoUrl as fS,StoryShareLinkType as fT,useRecordingQuery as fU,getStoryDownloadName as fV,faHouse as fW,matchRoutes as fX,routes as fY,__vitePreload as fZ,clsx as f_,faAngleRight as fa,getSetupPromptsReviewPath as fb,getOnboardingIntroPath as fc,useIsPromptTemplateSelected as fd,usePromptDraftByTemplateId as fe,removePromptDraftByTemplateId as ff,faAdd as fg,faPen$1 as fh,faPaperPlaneTop$1 as fi,cronParser as fj,faPenToSquare$1 as fk,PollExpiredPageContainer as fl,faCircleQuestion as fm,usePollVotes as fn,Crc32$1 as fo,useProjectPromptsQuery as fp,useCollectionEntityData as fq,faMinus$1 as fr,getQuestionnairePath as fs,create$1 as ft,LocalStoreRepositoryWrapper as fu,faCopy as fv,FirebaseError as fw,AUTH_ERROR_CODES_MAP_DO_NOT_USE_INTERNALLY as fx,useNavbarStatus as fy,INTERCOM_WIDGET_ALLOWLIST as fz,useServices as g,loadScript as g$,faCog as g0,StoryDataType as g1,useInputInteraction as g2,faSend as g3,ReactionSentiment as g4,useReactionSuggestionBySentiment as g5,ReactionStatus as g6,getInputState as g7,isFullScreen as g8,isForcedFullScreen as g9,createContextScope$1 as gA,useDirection as gB,useControllableState as gC,useCallbackRef$1 as gD,composeEventHandlers as gE,useId as gF,createPopperScope as gG,Anchor as gH,hideOthers as gI,useFocusGuards as gJ,FocusScope as gK,DismissableLayer as gL,Content$1 as gM,Arrow as gN,composeRefs as gO,ReactRemoveScroll as gP,Slot as gQ,dispatchDiscreteCustomEvent as gR,Root2$1 as gS,Provider$1 as gT,Root3 as gU,Trigger$1 as gV,Content2$1 as gW,useCollection$1 as gX,axios as gY,__awaiter as gZ,__generator as g_,faRightLeft$1 as ga,faImage as gb,easeInOut as gc,faUpRightAndDownLeftFromCenter as gd,faCirclePlus as ge,faImage$1 as gf,faHeart as gg,useCanReact as gh,getStorySummary as gi,ACL_EDIT_ROLES as gj,faQuestionCircle as gk,faClose as gl,useReactionsQuery as gm,useReactionsSuggestionsQuery as gn,useSubmittedReactions as go,subscribeIsFormDirty as gp,getHighlightReelPath as gq,rectToClientRect as gr,shift$2 as gs,flip$2 as gt,computePosition$1 as gu,useLayoutEffect2 as gv,ReactDOM as gw,Primitive as gx,useComposedRefs as gy,createCollection as gz,useSignOut as h,getNextIntegrationsURL as h0,unloadScript as h1,__spreadArray$1 as h2,recordIntegrationMetric as h3,isOffline as h4,__assign as h5,ContextCancelation as h6,applyDestinationMiddleware as h7,dist as h8,isServer as h9,mergedOptions as ha,isPlainObject$1 as hb,pWhile as hc,createDeferred as hd,PriorityQueue as he,PersistedPriorityQueue as hf,attempt as hg,isOnline as hh,Context as hi,pTimeout as hj,gracefulDecodeURIComponent as hk,useNavigate as i,jsxRuntimeExports as j,usePersonQuery as k,useIsFormValid as l,submitForm as m,isPhoneNumberEmpty as n,captureException as o,RMSpacer as p,RMInput as q,reactExports as r,styled_default as s,toast as t,useUser as u,InputController as v,RMPhoneInput as w,RMButton as x,useIsMobileViewport as y,z$1 as z};
//# sourceMappingURL=index-BuHYtysX.js.map
