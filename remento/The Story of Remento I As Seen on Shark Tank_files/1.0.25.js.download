(()=>{var gp=Object.create;var ti=Object.defineProperty,yp=Object.defineProperties,bp=Object.getOwnPropertyDescriptor,wp=Object.getOwnPropertyDescriptors,xp=Object.getOwnPropertyNames,ei=Object.getOwnPropertySymbols,_p=Object.getPrototypeOf,Jo=Object.prototype.hasOwnProperty,ku=Object.prototype.propertyIsEnumerable;var $o=(t,e,r)=>e in t?ti(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,P=(t,e)=>{for(var r in e||(e={}))Jo.call(e,r)&&$o(t,r,e[r]);if(ei)for(var r of ei(e))ku.call(e,r)&&$o(t,r,e[r]);return t},Q=(t,e)=>yp(t,wp(e));var ir=(t,e)=>{var r={};for(var n in t)Jo.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&ei)for(var n of ei(t))e.indexOf(n)<0&&ku.call(t,n)&&(r[n]=t[n]);return r};var L=(t,e)=>()=>(t&&(e=t(t=0)),e);var Z=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),gt=(t,e)=>{for(var r in e)ti(t,r,{get:e[r],enumerable:!0})},Sp=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of xp(e))!Jo.call(t,i)&&i!==r&&ti(t,i,{get:()=>e[i],enumerable:!(n=bp(e,i))||n.enumerable});return t};var yt=(t,e,r)=>(r=t!=null?gp(_p(t)):{},Sp(e||!t||!t.__esModule?ti(r,"default",{value:t,enumerable:!0}):r,t));var E=(t,e,r)=>$o(t,typeof e!="symbol"?e+"":e,r);var Al=Z(Za=>{var Ol;(function(t){typeof DO_NOT_EXPORT_CRC>"u"?typeof Za=="object"?t(Za):typeof define=="function"&&define.amd?define(function(){var e={};return t(e),e}):t(Ol={}):t(Ol={})})(function(t){t.version="1.2.2";function e(){for(var h=0,T=new Array(256),C=0;C!=256;++C)h=C,h=h&1?-306674912^h>>>1:h>>>1,h=h&1?-306674912^h>>>1:h>>>1,h=h&1?-306674912^h>>>1:h>>>1,h=h&1?-306674912^h>>>1:h>>>1,h=h&1?-306674912^h>>>1:h>>>1,h=h&1?-306674912^h>>>1:h>>>1,h=h&1?-306674912^h>>>1:h>>>1,h=h&1?-306674912^h>>>1:h>>>1,T[C]=h;return typeof Int32Array<"u"?new Int32Array(T):T}var r=e();function n(h){var T=0,C=0,k=0,R=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(k=0;k!=256;++k)R[k]=h[k];for(k=0;k!=256;++k)for(C=h[k],T=256+k;T<4096;T+=256)C=R[T]=C>>>8^h[C&255];var U=[];for(k=1;k!=16;++k)U[k-1]=typeof Int32Array<"u"?R.subarray(k*256,k*256+256):R.slice(k*256,k*256+256);return U}var i=n(r),o=i[0],a=i[1],s=i[2],c=i[3],l=i[4],u=i[5],f=i[6],d=i[7],m=i[8],p=i[9],v=i[10],g=i[11],b=i[12],y=i[13],w=i[14];function I(h,T){for(var C=T^-1,k=0,R=h.length;k<R;)C=C>>>8^r[(C^h.charCodeAt(k++))&255];return~C}function S(h,T){for(var C=T^-1,k=h.length-15,R=0;R<k;)C=w[h[R++]^C&255]^y[h[R++]^C>>8&255]^b[h[R++]^C>>16&255]^g[h[R++]^C>>>24]^v[h[R++]]^p[h[R++]]^m[h[R++]]^d[h[R++]]^f[h[R++]]^u[h[R++]]^l[h[R++]]^c[h[R++]]^s[h[R++]]^a[h[R++]]^o[h[R++]]^r[h[R++]];for(k+=15;R<k;)C=C>>>8^r[(C^h[R++])&255];return~C}function _(h,T){for(var C=T^-1,k=0,R=h.length,U=0,le=0;k<R;)U=h.charCodeAt(k++),U<128?C=C>>>8^r[(C^U)&255]:U<2048?(C=C>>>8^r[(C^(192|U>>6&31))&255],C=C>>>8^r[(C^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,le=h.charCodeAt(k++)&1023,C=C>>>8^r[(C^(240|U>>8&7))&255],C=C>>>8^r[(C^(128|U>>2&63))&255],C=C>>>8^r[(C^(128|le>>6&15|(U&3)<<4))&255],C=C>>>8^r[(C^(128|le&63))&255]):(C=C>>>8^r[(C^(224|U>>12&15))&255],C=C>>>8^r[(C^(128|U>>6&63))&255],C=C>>>8^r[(C^(128|U&63))&255]);return~C}t.table=r,t.bstr=I,t.buf=S,t.str=_})});var es=Z((_n,Wi)=>{(function(t,e){"use strict";var r="1.0.39",n="",i="?",o="function",a="undefined",s="object",c="string",l="major",u="model",f="name",d="type",m="vendor",p="version",v="architecture",g="console",b="mobile",y="tablet",w="smarttv",I="wearable",S="embedded",_=500,h="Amazon",T="Apple",C="ASUS",k="BlackBerry",R="Browser",U="Chrome",le="Edge",Se="Firefox",Ue="Google",ht="Huawei",Dt="LG",Vo="Microsoft",wu="Motorola",rn="Opera",nn="Samsung",xu="Sharp",Jn="Sony",Ho="Xiaomi",Ko="Zebra",_u="Facebook",Su="Chromium OS",Eu="Mac OS",Iu=" Browser",mp=function(G,H){var D={};for(var X in G)H[X]&&H[X].length%2===0?D[X]=H[X].concat(G[X]):D[X]=G[X];return D},Xn=function(G){for(var H={},D=0;D<G.length;D++)H[G[D].toUpperCase()]=G[D];return H},Tu=function(G,H){return typeof G===c?rr(H).indexOf(rr(G))!==-1:!1},rr=function(G){return G.toLowerCase()},vp=function(G){return typeof G===c?G.replace(/[^\d\.]/g,n).split(".")[0]:e},Yo=function(G,H){if(typeof G===c)return G=G.replace(/^\s\s*/,n),typeof H===a?G:G.substring(0,_)},on=function(G,H){for(var D=0,X,nt,Ve,K,M,He;D<H.length&&!M;){var Wo=H[D],Cu=H[D+1];for(X=nt=0;X<Wo.length&&!M&&Wo[X];)if(M=Wo[X++].exec(G),M)for(Ve=0;Ve<Cu.length;Ve++)He=M[++nt],K=Cu[Ve],typeof K===s&&K.length>0?K.length===2?typeof K[1]==o?this[K[0]]=K[1].call(this,He):this[K[0]]=K[1]:K.length===3?typeof K[1]===o&&!(K[1].exec&&K[1].test)?this[K[0]]=He?K[1].call(this,He,K[2]):e:this[K[0]]=He?He.replace(K[1],K[2]):e:K.length===4&&(this[K[0]]=He?K[3].call(this,He.replace(K[1],K[2])):e):this[K]=He||e;D+=2}},Qn=function(G,H){for(var D in H)if(typeof H[D]===s&&H[D].length>0){for(var X=0;X<H[D].length;X++)if(Tu(H[D][X],G))return D===i?e:D}else if(Tu(H[D],G))return D===i?e:D;return H.hasOwnProperty("*")?H["*"]:G},hp={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ou={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Au={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,p],[/opios[\/ ]+([\w\.]+)/i],[p,[f,rn+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[p,[f,rn+" GX"]],[/\bopr\/([\w\.]+)/i],[p,[f,rn]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[p,[f,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,p],[/quark(?:pc)?\/([-\w\.]+)/i],[p,[f,"Quark"]],[/\bddg\/([\w\.]+)/i],[p,[f,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[f,"UC"+R]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[p,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[p,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[p,[f,"Smart Lenovo "+R]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+R],p],[/\bfocus\/([\w\.]+)/i],[p,[f,Se+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[f,rn+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[f,rn+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[f,"MIUI "+R]],[/fxios\/([-\w\.]+)/i],[p,[f,Se]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360"+Iu]],[/\b(qq)\/([\w\.]+)/i],[[f,/(.+)/,"$1Browser"],p],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1"+Iu],p],[/samsungbrowser\/([\w\.]+)/i],[p,[f,nn+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],p],[/metasr[\/ ]?([\d\.]+)/i],[p,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[f,p],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,_u],p],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[p,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[f,U+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,U+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[f,"Android "+R]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[p,Qn,hp]],[/(webkit|khtml)\/([\w\.]+)/i],[f,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],p],[/(wolvic)\/([\w\.]+)/i],[f,p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[f,Se+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[f,[p,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[f,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,rr]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,n,rr]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,rr]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[m,nn],[d,y]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[u,[m,nn],[d,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[m,T],[d,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[m,T],[d,y]],[/(macintosh);/i],[u,[m,T]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[m,xu],[d,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[m,ht],[d,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[m,ht],[d,b]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[u,/_/g," "],[m,Ho],[d,b]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[m,Ho],[d,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[m,"OPPO"],[d,b]],[/\b(opd2\d{3}a?) bui/i],[u,[m,"OPPO"],[d,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[m,"Vivo"],[d,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[u,[m,"Realme"],[d,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[m,wu],[d,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[m,wu],[d,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[m,Dt],[d,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[m,Dt],[d,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[m,"Lenovo"],[d,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[m,"Nokia"],[d,b]],[/(pixel c)\b/i],[u,[m,Ue],[d,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[m,Ue],[d,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[m,Jn],[d,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[m,Jn],[d,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[m,"OnePlus"],[d,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[m,h],[d,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[m,h],[d,b]],[/(playbook);[-\w\),; ]+(rim)/i],[u,m,[d,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[m,k],[d,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[m,C],[d,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[m,C],[d,b]],[/(nexus 9)/i],[u,[m,"HTC"],[d,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[u,/_/g," "],[d,b]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[u,[m,"TCL"],[d,y]],[/(itel) ((\w+))/i],[[m,rr],u,[d,Qn,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[m,"Acer"],[d,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[m,"Meizu"],[d,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[u,[m,"Ulefone"],[d,b]],[/droid.+; (a(?:015|06[35]|142p?))/i],[u,[m,"Nothing"],[d,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,u,[d,b]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,u,[d,y]],[/(surface duo)/i],[u,[m,Vo],[d,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[m,"Fairphone"],[d,b]],[/(u304aa)/i],[u,[m,"AT&T"],[d,b]],[/\bsie-(\w*)/i],[u,[m,"Siemens"],[d,b]],[/\b(rct\w+) b/i],[u,[m,"RCA"],[d,y]],[/\b(venue[\d ]{2,7}) b/i],[u,[m,"Dell"],[d,y]],[/\b(q(?:mv|ta)\w+) b/i],[u,[m,"Verizon"],[d,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[m,"Barnes & Noble"],[d,y]],[/\b(tm\d{3}\w+) b/i],[u,[m,"NuVision"],[d,y]],[/\b(k88) b/i],[u,[m,"ZTE"],[d,y]],[/\b(nx\d{3}j) b/i],[u,[m,"ZTE"],[d,b]],[/\b(gen\d{3}) b.+49h/i],[u,[m,"Swiss"],[d,b]],[/\b(zur\d{3}) b/i],[u,[m,"Swiss"],[d,y]],[/\b((zeki)?tb.*\b) b/i],[u,[m,"Zeki"],[d,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],u,[d,y]],[/\b(ns-?\w{0,9}) b/i],[u,[m,"Insignia"],[d,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[m,"NextBook"],[d,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],u,[d,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],u,[d,b]],[/\b(ph-1) /i],[u,[m,"Essential"],[d,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[m,"Envizen"],[d,y]],[/\b(trio[-\w\. ]+) b/i],[u,[m,"MachSpeed"],[d,y]],[/\btu_(1491) b/i],[u,[m,"Rotor"],[d,y]],[/(shield[\w ]+) b/i],[u,[m,"Nvidia"],[d,y]],[/(sprint) (\w+)/i],[m,u,[d,b]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[m,Vo],[d,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[m,Ko],[d,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[m,Ko],[d,b]],[/smart-tv.+(samsung)/i],[m,[d,w]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[m,nn],[d,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,Dt],[d,w]],[/(apple) ?tv/i],[m,[u,T+" TV"],[d,w]],[/crkey/i],[[u,U+"cast"],[m,Ue],[d,w]],[/droid.+aft(\w+)( bui|\))/i],[u,[m,h],[d,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[m,xu],[d,w]],[/(bravia[\w ]+)( bui|\))/i],[u,[m,Jn],[d,w]],[/(mitv-\w{5}) bui/i],[u,[m,Ho],[d,w]],[/Hbbtv.*(technisat) (.*);/i],[m,u,[d,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,Yo],[u,Yo],[d,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,u,[d,g]],[/droid.+; (shield) bui/i],[u,[m,"Nvidia"],[d,g]],[/(playstation [345portablevi]+)/i],[u,[m,Jn],[d,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[m,Vo],[d,g]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[u,[m,nn],[d,I]],[/((pebble))app/i],[m,u,[d,I]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[m,T],[d,I]],[/droid.+; (glass) \d/i],[u,[m,Ue],[d,I]],[/droid.+; (wt63?0{2,3})\)/i],[u,[m,Ko],[d,I]],[/(quest( \d| pro)?)/i],[u,[m,_u],[d,I]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[d,S]],[/(aeobc)\b/i],[u,[m,h],[d,S]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[u,[d,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[d,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,b]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[f,le+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,p],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[f,[p,Qn,Ou]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,Qn,Ou],[f,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,Eu],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,p],[/\(bb(10);/i],[p,[f,k]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[f,Se+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[f,U+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,Su],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,p],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,p]]},Ee=function(G,H){if(typeof G===s&&(H=G,G=e),!(this instanceof Ee))return new Ee(G,H).getResult();var D=typeof t!==a&&t.navigator?t.navigator:e,X=G||(D&&D.userAgent?D.userAgent:n),nt=D&&D.userAgentData?D.userAgentData:e,Ve=H?mp(Au,H):Au,K=D&&D.userAgent==X;return this.getBrowser=function(){var M={};return M[f]=e,M[p]=e,on.call(M,X,Ve.browser),M[l]=vp(M[p]),K&&D&&D.brave&&typeof D.brave.isBrave==o&&(M[f]="Brave"),M},this.getCPU=function(){var M={};return M[v]=e,on.call(M,X,Ve.cpu),M},this.getDevice=function(){var M={};return M[m]=e,M[u]=e,M[d]=e,on.call(M,X,Ve.device),K&&!M[d]&&nt&&nt.mobile&&(M[d]=b),K&&M[u]=="Macintosh"&&D&&typeof D.standalone!==a&&D.maxTouchPoints&&D.maxTouchPoints>2&&(M[u]="iPad",M[d]=y),M},this.getEngine=function(){var M={};return M[f]=e,M[p]=e,on.call(M,X,Ve.engine),M},this.getOS=function(){var M={};return M[f]=e,M[p]=e,on.call(M,X,Ve.os),K&&!M[f]&&nt&&nt.platform&&nt.platform!="Unknown"&&(M[f]=nt.platform.replace(/chrome os/i,Su).replace(/macos/i,Eu)),M},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return X},this.setUA=function(M){return X=typeof M===c&&M.length>_?Yo(M,_):M,this},this.setUA(X),this};Ee.VERSION=r,Ee.BROWSER=Xn([f,p,l]),Ee.CPU=Xn([v]),Ee.DEVICE=Xn([u,m,d,g,b,w,y,I,S]),Ee.ENGINE=Ee.OS=Xn([f,p]),typeof _n!==a?(typeof Wi!==a&&Wi.exports&&(_n=Wi.exports=Ee),_n.UAParser=Ee):typeof define===o&&define.amd?define(function(){return Ee}):typeof t!==a&&(t.UAParser=Ee);var nr=typeof t!==a&&(t.jQuery||t.Zepto);if(nr&&!nr.ua){var Zn=new Ee;nr.ua=Zn.getResult(),nr.ua.get=function(){return Zn.getUA()},nr.ua.set=function(G){Zn.setUA(G);var H=Zn.getResult();for(var D in H)nr.ua[D]=H[D]}}})(typeof window=="object"?window:_n)});var Pl=Z((aO,rs)=>{"use strict";var ah=Object.prototype.hasOwnProperty,me="~";function In(){}Object.create&&(In.prototype=Object.create(null),new In().__proto__||(me=!1));function sh(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function Rl(t,e,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var o=new sh(r,n||t,i),a=me?me+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],o]:t._events[a].push(o):(t._events[a]=o,t._eventsCount++),t}function eo(t,e){--t._eventsCount===0?t._events=new In:delete t._events[e]}function de(){this._events=new In,this._eventsCount=0}de.prototype.eventNames=function(){var e=[],r,n;if(this._eventsCount===0)return e;for(n in r=this._events)ah.call(r,n)&&e.push(me?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e};de.prototype.listeners=function(e){var r=me?me+e:e,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a};de.prototype.listenerCount=function(e){var r=me?me+e:e,n=this._events[r];return n?n.fn?1:n.length:0};de.prototype.emit=function(e,r,n,i,o,a){var s=me?me+e:e;if(!this._events[s])return!1;var c=this._events[s],l=arguments.length,u,f;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,r),!0;case 3:return c.fn.call(c.context,r,n),!0;case 4:return c.fn.call(c.context,r,n,i),!0;case 5:return c.fn.call(c.context,r,n,i,o),!0;case 6:return c.fn.call(c.context,r,n,i,o,a),!0}for(f=1,u=new Array(l-1);f<l;f++)u[f-1]=arguments[f];c.fn.apply(c.context,u)}else{var d=c.length,m;for(f=0;f<d;f++)switch(c[f].once&&this.removeListener(e,c[f].fn,void 0,!0),l){case 1:c[f].fn.call(c[f].context);break;case 2:c[f].fn.call(c[f].context,r);break;case 3:c[f].fn.call(c[f].context,r,n);break;case 4:c[f].fn.call(c[f].context,r,n,i);break;default:if(!u)for(m=1,u=new Array(l-1);m<l;m++)u[m-1]=arguments[m];c[f].fn.apply(c[f].context,u)}}return!0};de.prototype.on=function(e,r,n){return Rl(this,e,r,n,!1)};de.prototype.once=function(e,r,n){return Rl(this,e,r,n,!0)};de.prototype.removeListener=function(e,r,n,i){var o=me?me+e:e;if(!this._events[o])return this;if(!r)return eo(this,o),this;var a=this._events[o];if(a.fn)a.fn===r&&(!i||a.once)&&(!n||a.context===n)&&eo(this,o);else{for(var s=0,c=[],l=a.length;s<l;s++)(a[s].fn!==r||i&&!a[s].once||n&&a[s].context!==n)&&c.push(a[s]);c.length?this._events[o]=c.length===1?c[0]:c:eo(this,o)}return this};de.prototype.removeAllListeners=function(e){var r;return e?(r=me?me+e:e,this._events[r]&&eo(this,r)):(this._events=new In,this._eventsCount=0),this};de.prototype.off=de.prototype.removeListener;de.prototype.addListener=de.prototype.on;de.prefixed=me;de.EventEmitter=de;typeof rs<"u"&&(rs.exports=de)});function J(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");is(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function to(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function O(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(u){try{l(n.next(u))}catch(f){a(f)}}function c(u){try{l(n.throw(u))}catch(f){a(f)}}function l(u){u.done?o(u.value):i(u.value).then(s,c)}l((n=n.apply(t,e||[])).next())})}function A(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function W(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}var is,x,j=L(()=>{is=function(t,e){return is=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},is(t,e)};x=function(){return x=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},x.apply(this,arguments)}});var Ll=L(()=>{});var Nl=L(()=>{});var os=L(()=>{});function Tn(t,e,r){e.split&&(e=e.split("."));for(var n=0,i=e.length,o=t,a,s;n<i&&(s=""+e[n++],!(s==="__proto__"||s==="constructor"||s==="prototype"));)o=o[s]=n===i?r:typeof(a=o[s])==typeof e?a:e[n]*0!==0||~(""+e[n]).indexOf(".")?{}:[]}var as=L(()=>{});var Ml,Dl=L(()=>{Ml=function(t,e){return Object.keys(t).filter(function(r){return e(r,t[r])}).reduce(function(r,n){return r[n]=t[n],r},{})}});var Ct,ss=L(()=>{j();Ct=function(t){J(e,t);function e(r,n){var i=t.call(this,"".concat(r," ").concat(n))||this;return i.field=r,i}return e}(Error)});function ft(t){return typeof t=="string"}function ro(t){return typeof t=="number"}function Ht(t){return typeof t=="function"}function Ul(t){return t!=null}function ie(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()==="object"}var us=L(()=>{});function ch(t){if(!Ul(t))throw new Ct("Event",uh);if(typeof t!="object")throw new Ct("Event",ls)}function lh(t){if(!ft(t.type))throw new Ct(".type",cs)}function fh(t){if(!ft(t.event))throw new Ct(".event",cs)}function dh(t){if(!ie(t.properties))throw new Ct(".properties",ls)}function ph(t){if(!ie(t.traits))throw new Ct(".traits",ls)}function mh(t){if(!ft(t.messageId))throw new Ct(".messageId",cs)}function Fl(t){ch(t),lh(t),mh(t),t.type==="track"&&(fh(t),dh(t)),["group","identify"].includes(t.type)&&ph(t)}var cs,ls,uh,fs=L(()=>{ss();us();cs="is not a string",ls="is not an object",uh="is nil"});var vh,jl,Bl=L(()=>{j();os();as();Dl();fs();vh=function(){function t(e){var r,n;this.settings=e,this.createMessageId=e.createMessageId,this.onEventMethodCall=(r=e.onEventMethodCall)!==null&&r!==void 0?r:function(){},this.onFinishedEvent=(n=e.onFinishedEvent)!==null&&n!==void 0?n:function(){}}return t}(),jl=function(){function t(e){this.settings=new vh(e)}return t.prototype.track=function(e,r,n,i){return this.settings.onEventMethodCall({type:"track",options:n}),this.normalize(x(x({},this.baseEvent()),{event:e,type:"track",properties:r!=null?r:{},options:x({},n),integrations:x({},i)}))},t.prototype.page=function(e,r,n,i,o){var a;this.settings.onEventMethodCall({type:"page",options:i});var s={type:"page",properties:x({},n),options:x({},i),integrations:x({},o)};return e!==null&&(s.category=e,s.properties=(a=s.properties)!==null&&a!==void 0?a:{},s.properties.category=e),r!==null&&(s.name=r),this.normalize(x(x({},this.baseEvent()),s))},t.prototype.screen=function(e,r,n,i,o){this.settings.onEventMethodCall({type:"screen",options:i});var a={type:"screen",properties:x({},n),options:x({},i),integrations:x({},o)};return e!==null&&(a.category=e),r!==null&&(a.name=r),this.normalize(x(x({},this.baseEvent()),a))},t.prototype.identify=function(e,r,n,i){return this.settings.onEventMethodCall({type:"identify",options:n}),this.normalize(x(x({},this.baseEvent()),{type:"identify",userId:e,traits:r!=null?r:{},options:x({},n),integrations:i}))},t.prototype.group=function(e,r,n,i){return this.settings.onEventMethodCall({type:"group",options:n}),this.normalize(x(x({},this.baseEvent()),{type:"group",traits:r!=null?r:{},options:x({},n),integrations:x({},i),groupId:e}))},t.prototype.alias=function(e,r,n,i){this.settings.onEventMethodCall({type:"alias",options:n});var o={userId:e,type:"alias",options:x({},n),integrations:x({},i)};return r!==null&&(o.previousId=r),e===void 0?this.normalize(x(x({},o),this.baseEvent())):this.normalize(x(x({},this.baseEvent()),o))},t.prototype.baseEvent=function(){return{integrations:{},options:{}}},t.prototype.context=function(e){var r,n=["userId","anonymousId","timestamp","messageId"];delete e.integrations;var i=Object.keys(e),o=(r=e.context)!==null&&r!==void 0?r:{},a={};return i.forEach(function(s){s!=="context"&&(n.includes(s)?Tn(a,s,e[s]):Tn(o,s,e[s]))}),[o,a]},t.prototype.normalize=function(e){var r,n,i=Object.keys((r=e.integrations)!==null&&r!==void 0?r:{}).reduce(function(d,m){var p,v;return x(x({},d),(p={},p[m]=!!(!((v=e.integrations)===null||v===void 0)&&v[m]),p))},{});e.options=Ml(e.options||{},function(d,m){return m!==void 0});var o=x(x({},i),(n=e.options)===null||n===void 0?void 0:n.integrations),a=e.options?this.context(e.options):[],s=a[0],c=a[1],l=e.options,u=to(e,["options"]),f=x(x(x(x({timestamp:new Date},u),{context:s,integrations:o}),c),{messageId:l.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(f),Fl(f),f},t}()});function On(t,e){return new Promise(function(r,n){var i=setTimeout(function(){n(Error("Promise timed out"))},e);t.then(function(o){return clearTimeout(i),r(o)}).catch(n)})}function hh(t){return new Promise(function(e){return setTimeout(e,t)})}function ds(t,e,r){var n=function(){try{return Promise.resolve(e(t))}catch(i){return Promise.reject(i)}};return hh(r).then(function(){return On(n(),1e3)}).catch(function(i){t==null||t.log("warn","Callback Error",{error:i}),t==null||t.stats.increment("callback_error")}).then(function(){return t})}var ps=L(()=>{});var Lr,ql=L(()=>{Lr=function(){var t,e,r=!1,n=new Promise(function(i,o){t=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];r=!0,i.apply(void 0,a)},e=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];r=!0,o.apply(void 0,a)}});return{resolve:t,reject:e,promise:n,isSettled:function(){return r}}}});var Gl=L(()=>{ql()});var Nr,zl=L(()=>{Nr=function(){function t(e){var r;this.callbacks={},this.warned=!1,this.maxListeners=(r=e==null?void 0:e.maxListeners)!==null&&r!==void 0?r:10}return t.prototype.warnIfPossibleMemoryLeak=function(e){this.warned||this.maxListeners&&this.callbacks[e].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(e)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},t.prototype.on=function(e,r){return this.callbacks[e]?(this.callbacks[e].push(r),this.warnIfPossibleMemoryLeak(e)):this.callbacks[e]=[r],this},t.prototype.once=function(e,r){var n=this,i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];n.off(e,i),r.apply(n,o)};return this.on(e,i),this},t.prototype.off=function(e,r){var n,i=(n=this.callbacks[e])!==null&&n!==void 0?n:[],o=i.filter(function(a){return a!==r});return this.callbacks[e]=o,this},t.prototype.emit=function(e){for(var r=this,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=(n=this.callbacks[e])!==null&&n!==void 0?n:[];return a.forEach(function(s){s.apply(r,i)}),this},t}()});var Vl=L(()=>{zl()});var Kt=L(()=>{Gl();Vl()});function Hl(t){var e=Math.random()+1,r=t.minTimeout,n=r===void 0?500:r,i=t.factor,o=i===void 0?2:i,a=t.attempt,s=t.maxTimeout,c=s===void 0?1/0:s;return Math.min(e*n*Math.pow(o,a),c)}var Kl=L(()=>{});var no,dt,ms=L(()=>{j();Kt();Kl();no="onRemoveFromFuture",dt=function(t){J(e,t);function e(r,n,i){var o=t.call(this)||this;return o.future=[],o.maxAttempts=r,o.queue=n,o.seen=i!=null?i:{},o}return e.prototype.push=function(){for(var r=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=n.map(function(a){var s=r.updateAttempts(a);return s>r.maxAttempts||r.includes(a)?!1:(r.queue.push(a),!0)});return this.queue=this.queue.sort(function(a,s){return r.getAttempts(a)-r.getAttempts(s)}),o},e.prototype.pushWithBackoff=function(r,n){var i=this;if(n===void 0&&(n=0),n==0&&this.getAttempts(r)===0)return this.push(r)[0];var o=this.updateAttempts(r);if(o>this.maxAttempts||this.includes(r))return!1;var a=Hl({attempt:o-1});return n>0&&a<n&&(a=n),setTimeout(function(){i.queue.push(r),i.future=i.future.filter(function(s){return s.id!==r.id}),i.emit(no)},a),this.future.push(r),!0},e.prototype.getAttempts=function(r){var n;return(n=this.seen[r.id])!==null&&n!==void 0?n:0},e.prototype.updateAttempts=function(r){return this.seen[r.id]=this.getAttempts(r)+1,this.getAttempts(r)},e.prototype.includes=function(r){return this.queue.includes(r)||this.future.includes(r)||!!this.queue.find(function(n){return n.id===r.id})||!!this.future.find(function(n){return n.id===r.id})},e.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(e.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),e}(Nr)});function Mr(){var t=0,e,r="";if(!io||Yt+16>256){for(io=Array(t=256);t--;)io[t]=256*Math.random()|0;t=Yt=0}for(;t<16;t++)e=io[Yt+t],t==6?r+=oo[e&15|64]:t==8?r+=oo[e&63|128]:r+=oo[e],t&1&&t>1&&t<11&&(r+="-");return Yt++,r}var Yt,oo,io,ao=L(()=>{Yt=256,oo=[];for(;Yt--;)oo[Yt]=(Yt+256).toString(16).substring(1)});var Yl,Wl=L(()=>{j();Yl=function(){function t(){this._logs=[]}return t.prototype.log=function(e,r,n){var i=new Date;this._logs.push({level:e,message:r,time:i,extras:n})},Object.defineProperty(t.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),t.prototype.flush=function(){if(this.logs.length>1){var e=this._logs.reduce(function(r,n){var i,o,a,s=x(x({},n),{json:JSON.stringify(n.extras,null," "),extras:n.extras});delete s.time;var c=(a=(o=n.time)===null||o===void 0?void 0:o.toISOString())!==null&&a!==void 0?a:"";return r[c]&&(c="".concat(c,"-").concat(Math.random())),x(x({},r),(i={},i[c]=s,i))},{});console.table?console.table(e):console.log(e)}else this.logs.forEach(function(r){var n=r.level,i=r.message,o=r.extras;n==="info"||n==="debug"?console.log(i,o!=null?o:""):console[n](i,o!=null?o:"")});this._logs=[]},t}()});var gh,vs,$l,hs=L(()=>{j();gh=function(t){var e={gauge:"g",counter:"c"};return e[t]},vs=function(){function t(){this.metrics=[]}return t.prototype.increment=function(e,r,n){r===void 0&&(r=1),this.metrics.push({metric:e,value:r,tags:n!=null?n:[],type:"counter",timestamp:Date.now()})},t.prototype.gauge=function(e,r,n){this.metrics.push({metric:e,value:r,tags:n!=null?n:[],type:"gauge",timestamp:Date.now()})},t.prototype.flush=function(){var e=this.metrics.map(function(r){return x(x({},r),{tags:r.tags.join(",")})});console.table?console.table(e):console.log(e),this.metrics=[]},t.prototype.serialize=function(){return this.metrics.map(function(e){return{m:e.metric,v:e.value,t:e.tags,k:gh(e.type),e:e.timestamp}})},t}(),$l=function(t){J(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.gauge=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n]},e.prototype.increment=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n]},e.prototype.flush=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n]},e.prototype.serialize=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return[]},e}(vs)});var be,Wt,so=L(()=>{ao();as();Wl();hs();be=function(){function t(e){var r,n,i;this.retry=(r=e.retry)!==null&&r!==void 0?r:!0,this.type=(n=e.type)!==null&&n!==void 0?n:"plugin Error",this.reason=(i=e.reason)!==null&&i!==void 0?i:""}return t}(),Wt=function(){function t(e,r,n,i){r===void 0&&(r=Mr()),n===void 0&&(n=new $l),i===void 0&&(i=new Yl),this.attempts=0,this.event=e,this._id=r,this.logger=i,this.stats=n}return t.system=function(){},t.prototype.isSame=function(e){return e.id===this.id},t.prototype.cancel=function(e){throw e||new be({reason:"Context Cancel"})},t.prototype.log=function(e,r,n){this.logger.log(e,r,n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),t.prototype.updateEvent=function(e,r){var n;if(e.split(".")[0]==="integrations"){var i=e.split(".")[1];if(((n=this.event.integrations)===null||n===void 0?void 0:n[i])===!1)return this.event}return Tn(this.event,e,r),this.event},t.prototype.failedDelivery=function(){return this._failedDelivery},t.prototype.setFailedDelivery=function(e){this._failedDelivery=e},t.prototype.logs=function(){return this.logger.logs},t.prototype.flush=function(){this.logger.flush(),this.stats.flush()},t.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},t}()});function Jl(t,e){var r={};return t.forEach(function(n){var i,o=void 0;if(typeof e=="string"){var a=n[e];o=typeof a!="string"?JSON.stringify(a):a}else e instanceof Function&&(o=e(n));o!==void 0&&(r[o]=W(W([],(i=r[o])!==null&&i!==void 0?i:[],!0),[n],!1))}),r}var Xl=L(()=>{j()});var Ql,Zl=L(()=>{Ql=function(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"}});var ef,tf=L(()=>{Zl();ef=function(){var t,e,r=0;return{done:function(){return t},run:function(n){var i=n();return Ql(i)&&(++r===1&&(t=new Promise(function(o){return e=o})),i.finally(function(){return--r===0&&e()})),i}}}});function yh(t){return O(this,void 0,void 0,function(){var e;return A(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t()];case 1:return[2,r.sent()];case 2:return e=r.sent(),[2,Promise.reject(e)];case 3:return[2]}})})}function pt(t,e){t.log("debug","plugin",{plugin:e.name});var r=new Date().getTime(),n=e[t.event.type];if(n===void 0)return Promise.resolve(t);var i=yh(function(){return n.apply(e,[t])}).then(function(o){var a=new Date().getTime()-r;return o.stats.gauge("plugin_time",a,["plugin:".concat(e.name)]),o}).catch(function(o){if(o instanceof be&&o.type==="middleware_cancellation")throw o;return o instanceof be?(t.log("warn",o.type,{plugin:e.name,error:o}),o):(t.log("error","plugin Error",{plugin:e.name,error:o}),t.stats.increment("plugin_error",1,["plugin:".concat(e.name)]),o)});return i}function rf(t,e){return pt(t,e).then(function(r){if(r instanceof Wt)return r;t.log("debug","Context canceled"),t.stats.increment("context_canceled"),t.cancel(r)})}var gs=L(()=>{j();so()});var nf,of=L(()=>{j();Xl();ms();so();Kt();tf();gs();nf=function(t){J(e,t);function e(r){var n=t.call(this)||this;return n.criticalTasks=ef(),n.plugins=[],n.failedInitializations=[],n.flushing=!1,n.queue=r,n.queue.on(no,function(){n.scheduleFlush(0)}),n}return e.prototype.register=function(r,n,i){return O(this,void 0,void 0,function(){var o,a,s=this;return A(this,function(c){switch(c.label){case 0:return this.plugins.push(n),o=function(l){s.failedInitializations.push(n.name),s.emit("initialization_failure",n),console.warn(n.name,l),r.log("warn","Failed to load destination",{plugin:n.name,error:l}),s.plugins=s.plugins.filter(function(u){return u!==n})},n.type==="destination"&&n.name!=="Segment.io"?(n.load(r,i).catch(o),[3,4]):[3,1];case 1:return c.trys.push([1,3,,4]),[4,n.load(r,i)];case 2:return c.sent(),[3,4];case 3:return a=c.sent(),o(a),[3,4];case 4:return[2]}})})},e.prototype.deregister=function(r,n,i){return O(this,void 0,void 0,function(){var o;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),n.unload?[4,Promise.resolve(n.unload(r,i))]:[3,2];case 1:a.sent(),a.label=2;case 2:return this.plugins=this.plugins.filter(function(s){return s.name!==n.name}),[3,4];case 3:return o=a.sent(),r.log("warn","Failed to unload destination",{plugin:n.name,error:o}),[3,4];case 4:return[2]}})})},e.prototype.dispatch=function(r){return O(this,void 0,void 0,function(){var n;return A(this,function(i){return r.log("debug","Dispatching"),r.stats.increment("message_dispatched"),this.queue.push(r),n=this.subscribeToDelivery(r),this.scheduleFlush(0),[2,n]})})},e.prototype.subscribeToDelivery=function(r){return O(this,void 0,void 0,function(){var n=this;return A(this,function(i){return[2,new Promise(function(o){var a=function(s,c){s.isSame(r)&&(n.off("flush",a),o(s))};n.on("flush",a)})]})})},e.prototype.dispatchSingle=function(r){return O(this,void 0,void 0,function(){var n=this;return A(this,function(i){return r.log("debug","Dispatching"),r.stats.increment("message_dispatched"),this.queue.updateAttempts(r),r.attempts=1,[2,this.deliver(r).catch(function(o){var a=n.enqueuRetry(o,r);return a?n.subscribeToDelivery(r):(r.setFailedDelivery({reason:o}),r)})]})})},e.prototype.isEmpty=function(){return this.queue.length===0},e.prototype.scheduleFlush=function(r){var n=this;r===void 0&&(r=500),!this.flushing&&(this.flushing=!0,setTimeout(function(){n.flush().then(function(){setTimeout(function(){n.flushing=!1,n.queue.length&&n.scheduleFlush(0)},0)})},r))},e.prototype.deliver=function(r){return O(this,void 0,void 0,function(){var n,i,o,a;return A(this,function(s){switch(s.label){case 0:return[4,this.criticalTasks.done()];case 1:s.sent(),n=Date.now(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.flushOne(r)];case 3:return r=s.sent(),i=Date.now()-n,this.emit("delivery_success",r),r.stats.gauge("delivered",i),r.log("debug","Delivered",r.event),[2,r];case 4:throw o=s.sent(),a=o,r.log("error","Failed to deliver",a),this.emit("delivery_failure",r,a),r.stats.increment("delivery_failed"),o;case 5:return[2]}})})},e.prototype.enqueuRetry=function(r,n){var i=!(r instanceof be)||r.retry;return i?this.queue.pushWithBackoff(n):!1},e.prototype.flush=function(){return O(this,void 0,void 0,function(){var r,n,i;return A(this,function(o){switch(o.label){case 0:if(this.queue.length===0)return[2,[]];if(r=this.queue.pop(),!r)return[2,[]];r.attempts=this.queue.getAttempts(r),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.deliver(r)];case 2:return r=o.sent(),this.emit("flush",r,!0),[3,4];case 3:return n=o.sent(),i=this.enqueuRetry(n,r),i||(r.setFailedDelivery({reason:n}),this.emit("flush",r,!1)),[2,[]];case 4:return[2,[r]]}})})},e.prototype.isReady=function(){return!0},e.prototype.availableExtensions=function(r){var n=this.plugins.filter(function(m){var p,v,g;if(m.type!=="destination"&&m.name!=="Segment.io")return!0;var b=void 0;return(p=m.alternativeNames)===null||p===void 0||p.forEach(function(y){r[y]!==void 0&&(b=r[y])}),(g=(v=r[m.name])!==null&&v!==void 0?v:b)!==null&&g!==void 0?g:(m.name==="Segment.io"?!0:r.All)!==!1}),i=Jl(n,"type"),o=i.before,a=o===void 0?[]:o,s=i.enrichment,c=s===void 0?[]:s,l=i.destination,u=l===void 0?[]:l,f=i.after,d=f===void 0?[]:f;return{before:a,enrichment:c,destinations:u,after:d}},e.prototype.flushOne=function(r){var n,i;return O(this,void 0,void 0,function(){var o,a,s,c,l,u,p,f,d,m,p,v,g,b,y;return A(this,function(w){switch(w.label){case 0:if(!this.isReady())throw new Error("Not ready");r.attempts>1&&this.emit("delivery_retry",r),o=this.availableExtensions((n=r.event.integrations)!==null&&n!==void 0?n:{}),a=o.before,s=o.enrichment,c=0,l=a,w.label=1;case 1:return c<l.length?(u=l[c],[4,rf(r,u)]):[3,4];case 2:p=w.sent(),p instanceof Wt&&(r=p),this.emit("message_enriched",r,u),w.label=3;case 3:return c++,[3,1];case 4:f=0,d=s,w.label=5;case 5:return f<d.length?(m=d[f],[4,pt(r,m)]):[3,8];case 6:p=w.sent(),p instanceof Wt&&(r=p),this.emit("message_enriched",r,m),w.label=7;case 7:return f++,[3,5];case 8:return v=this.availableExtensions((i=r.event.integrations)!==null&&i!==void 0?i:{}),g=v.destinations,b=v.after,[4,new Promise(function(I,S){setTimeout(function(){var _=g.map(function(h){return pt(r,h)});Promise.all(_).then(I).catch(S)},0)})];case 9:return w.sent(),r.stats.increment("message_delivered"),this.emit("message_delivered",r),y=b.map(function(I){return pt(r,I)}),[4,Promise.all(y)];case 10:return w.sent(),[2,r]}})})},e}(Nr)});var af=L(()=>{});function sf(t,e,r,n){return O(this,void 0,void 0,function(){var i,o;return A(this,function(a){switch(a.label){case 0:return r.emit("dispatch_start",t),i=Date.now(),e.isEmpty()?[4,e.dispatchSingle(t)]:[3,2];case 1:return o=a.sent(),[3,4];case 2:return[4,e.dispatch(t)];case 3:o=a.sent(),a.label=4;case 4:return n!=null&&n.callback?[4,ds(o,n.callback,bh(i,n.timeout))]:[3,6];case 5:o=a.sent(),a.label=6;case 6:return n!=null&&n.debug&&o.flush(),[2,o]}})})}var bh,uf=L(()=>{j();ps();bh=function(t,e){var r=Date.now()-t;return Math.max((e!=null?e:300)-r,0)}});var cf=L(()=>{});var we=L(()=>{Ll();Nl();os();Bl();ps();ms();so();of();af();uf();us();ss();fs();cf();hs();gs()});function An(){return typeof window<"u"}function uo(){return!An()}var Cn=L(()=>{});function ws(){return An()?window.navigator.onLine:!0}function ke(){return!ws()}var Dr=L(()=>{Cn()});function df(t,e){return e=e||{},new Promise(function(r,n){var i=new XMLHttpRequest,o=[],a=[],s={},c=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:c,headers:{keys:function(){return o},entries:function(){return a},get:function(u){return s[u.toLowerCase()]},has:function(u){return u.toLowerCase()in s}}}};for(var l in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(u,f,d){o.push(f=f.toLowerCase()),a.push([f,d]),s[f]=s[f]?s[f]+","+d:d}),r(c())},i.onerror=n,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(l,e.headers[l]);i.send(e.body||null)})}var pf=L(()=>{});var Ur,co=L(()=>{Ur=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:null}});var kt,kn=L(()=>{pf();co();kt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ur();return(r&&r.fetch||df).apply(void 0,t)}});var mt,Rn=L(()=>{mt="1.74.0"});function Fr(){return wh}var wh,lo=L(()=>{wh="npm"});var fo,xs=L(()=>{fo="api.segment.io/v1"});function _s(t){console.error("Error sending segment performance metrics",t)}var xh,mf,vf=L(()=>{j();kn();Rn();lo();xs();xh=function(t,e,r){var n=e.reduce(function(i,o){var a=o.split(":"),s=a[0],c=a[1];return i[s]=c,i},{});return{type:"Counter",metric:t,value:1,tags:x(x({},n),{library:"analytics.js",library_version:r==="web"?"next-".concat(mt):"npm:next-".concat(mt)})}};mf=function(){function t(e){var r=this,n,i,o,a,s;if(this.host=(n=e==null?void 0:e.host)!==null&&n!==void 0?n:fo,this.sampleRate=(i=e==null?void 0:e.sampleRate)!==null&&i!==void 0?i:1,this.flushTimer=(o=e==null?void 0:e.flushTimer)!==null&&o!==void 0?o:30*1e3,this.maxQueueSize=(a=e==null?void 0:e.maxQueueSize)!==null&&a!==void 0?a:20,this.protocol=(s=e==null?void 0:e.protocol)!==null&&s!==void 0?s:"https",this.queue=[],this.sampleRate>0){var c=!1,l=function(){c||(c=!0,r.flush().catch(_s),c=!1,setTimeout(l,r.flushTimer))};l()}}return t.prototype.increment=function(e,r){if(e.includes("analytics_js.")&&r.length!==0&&!(Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var n=xh(e,r,Fr());this.queue.push(n),e.includes("error")&&this.flush().catch(_s)}},t.prototype.flush=function(){return O(this,void 0,void 0,function(){var e=this;return A(this,function(r){switch(r.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch(function(n){_s(n),e.sampleRate=0})];case 1:return r.sent(),[2]}})})},t.prototype.send=function(){return O(this,void 0,void 0,function(){var e,r,n;return A(this,function(i){return e={series:this.queue},this.queue=[],r={"Content-Type":"text/plain"},n="".concat(this.protocol,"://").concat(this.host,"/m"),[2,kt(n,{headers:r,body:JSON.stringify(e),method:"POST"})]})})},t}()});var po,mo,Ss=L(()=>{j();we();vf();mo=function(t){J(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.initRemoteMetrics=function(r){po=new mf(r)},e.prototype.increment=function(r,n,i){t.prototype.increment.call(this,r,n,i),po==null||po.increment(r,i!=null?i:[])},e}(vs)});var ce,Je=L(()=>{j();we();Ss();ce=function(t){J(e,t);function e(r,n){return t.call(this,r,n,new mo)||this}return e.system=function(){return new this({type:"track",event:"system"})},e}(Wt)});var Pn=L(()=>{we()});function Ef(t){var e=Xe.getItem(t);return(e?JSON.parse(e):[]).map(function(r){return new ce(r.event,r.id)})}function Th(t,e){var r=Ef(t),n=W(W([],e,!0),r,!0),i=n.reduce(function(o,a){var s;return x(x({},o),(s={},s[a.id]=a,s))},{});Xe.setItem(t,JSON.stringify(Object.values(i)))}function If(t){var e=Xe.getItem(t);return e?JSON.parse(e):{}}function Oh(t,e){var r=If(t);Xe.setItem(t,JSON.stringify(x(x({},r),e)))}function Sf(t){Xe.removeItem(t)}function Ts(t,e,r){r===void 0&&(r=0);var n=50,i="persisted-queue:v1:".concat(t,":lock"),o=function(l){return new Date().getTime()>l},a=Xe.getItem(i),s=a?JSON.parse(a):null,c=s===null||o(s);if(c){Xe.setItem(i,JSON.stringify(Ah()+n)),e(),Xe.removeItem(i);return}!c&&r<3?setTimeout(function(){Ts(t,e,r+1)},n):console.error("Unable to retrieve lock")}var Xe,Ah,Rt,Ln=L(()=>{j();Pn();Je();Cn();Xe={getItem:function(){},setItem:function(){},removeItem:function(){}};try{Xe=An()&&window.localStorage?window.localStorage:Xe}catch(t){console.warn("Unable to access localStorage",t)}Ah=function(){return new Date().getTime()};Rt=function(t){J(e,t);function e(r,n){var i=t.call(this,r,[])||this,o="persisted-queue:v1:".concat(n,":items"),a="persisted-queue:v1:".concat(n,":seen"),s=[],c={};return Ts(n,function(){try{s=Ef(o),c=If(a),Sf(o),Sf(a),i.queue=W(W([],s,!0),i.queue,!0),i.seen=x(x({},c),i.seen)}catch(l){console.error(l)}}),window.addEventListener("pagehide",function(){if(i.todo>0){var l=W(W([],i.queue,!0),i.future,!0);try{Ts(n,function(){Th(o,l),Oh(a,i.seen)})}catch(u){console.error(u)}}}),i}return e}(dt)});function Mn(){return window[ks]}function Rf(t){ks=t}function Pf(t){window[ks]=t}var ks,Dn=L(()=>{ks="analytics"});var Gf=L(()=>{we()});var Fn={};gt(Fn,{form:()=>Fh,link:()=>Uh});function Mh(t){var e=t;return!!(e.ctrlKey||e.shiftKey||e.metaKey||e.button&&e.button==1)}function Dh(t,e){return!!(t.target==="_blank"&&e)}function Uh(t,e,r,n){var i=this,o=[];return t?(t instanceof Element?o=[t]:"toArray"in t?o=t.toArray():o=t,o.forEach(function(a){a.addEventListener("click",function(s){var c,l,u=e instanceof Function?e(a):e,f=r instanceof Function?r(a):r,d=a.getAttribute("href")||a.getAttributeNS("http://www.w3.org/1999/xlink","href")||a.getAttribute("xlink:href")||((c=a.getElementsByTagName("a")[0])===null||c===void 0?void 0:c.getAttribute("href")),m=On(i.track(u,f,n!=null?n:{}),(l=i.settings.timeout)!==null&&l!==void 0?l:500);!Dh(a,d)&&!Mh(s)&&d&&(s.preventDefault?s.preventDefault():s.returnValue=!1,m.catch(console.error).then(function(){window.location.href=d}).catch(console.error))},!1)}),this):this}function Fh(t,e,r,n){var i=this;if(!t)return this;t instanceof HTMLFormElement&&(t=[t]);var o=t;return o.forEach(function(a){if(!(a instanceof Element))throw new TypeError("Must pass HTMLElement to trackForm/trackSubmit.");var s=function(l){var u;l.preventDefault?l.preventDefault():l.returnValue=!1;var f=e instanceof Function?e(a):e,d=r instanceof Function?r(a):r,m=On(i.track(f,d,n!=null?n:{}),(u=i.settings.timeout)!==null&&u!==void 0?u:500);m.catch(console.error).then(function(){a.submit()}).catch(console.error)},c=window.jQuery||window.Zepto;c?c(a).submit(s):a.addEventListener("submit",s,!1)}),this}var jn=L(()=>{Gf()});var Bn=Z((SC,qr)=>{qr.exports=Rs(jh);qr.exports.find=qr.exports;qr.exports.replace=function(t,e,r,n){return Rs(qh).call(this,t,e,r,n),t};qr.exports.del=function(t,e,r){return Rs(Bh).call(this,t,e,null,r),t};function Rs(t){return function(e,r,n,i){var o=i&&zh(i.normalizer)?i.normalizer:Gh;r=o(r);for(var a,s=!1;!s;)c();function c(){for(a in e){var l=o(a);if(r.indexOf(l)===0){var u=r.substr(l.length);if(u.charAt(0)==="."||u.length===0){r=u.substr(1);var f=e[a];if(f==null){s=!0;return}if(!r.length){s=!0;return}e=f;return}}}a=void 0,s=!0}if(a)return e==null?e:t(e,a,n)}}function jh(t,e){if(t.hasOwnProperty(e))return t[e]}function Bh(t,e){return t.hasOwnProperty(e)&&delete t[e],t}function qh(t,e,r){return t.hasOwnProperty(e)&&(t[e]=r),t}function Gh(t){return t.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function zh(t){return typeof t=="function"}});var zf=Z(qn=>{"use strict";var Vh=qn&&qn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qn,"__esModule",{value:!0});var Pt=Vh(Bn());function Gr(t,e){return function(){var r=this.traits(),n=this.properties?this.properties():{};return Pt.default(r,"address."+t)||Pt.default(r,t)||(e?Pt.default(r,"address."+e):null)||(e?Pt.default(r,e):null)||Pt.default(n,"address."+t)||Pt.default(n,t)||(e?Pt.default(n,"address."+e):null)||(e?Pt.default(n,e):null)}}function Hh(t){t.zip=Gr("postalCode","zip"),t.country=Gr("country"),t.street=Gr("street"),t.state=Gr("state"),t.city=Gr("city"),t.region=Gr("region")}qn.default=Hh});var Vf=Z(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.clone=void 0;function Ps(t){if(typeof t!="object")return t;if(Object.prototype.toString.call(t)==="[object Object]"){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Ps(t[r]));return e}else return Array.isArray(t)?t.map(Ps):t}xo.clone=Ps});var Hf=Z(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});var Kh={Salesforce:!0};function Yh(t){return!Kh[t]}Ls.default=Yh});var Ms=Z(Ns=>{"use strict";var Kf=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;Ns.parse=function(t){var e=[1,5,6,7,11,12],r=Kf.exec(t),n=0;if(!r)return new Date(t);for(var i=0,o;o=e[i];i++)r[o]=parseInt(r[o],10)||0;r[2]=parseInt(r[2],10)||1,r[3]=parseInt(r[3],10)||1,r[2]--,r[8]=r[8]?(r[8]+"00").substring(0,3):0,r[4]===" "?n=new Date().getTimezoneOffset():r[9]!=="Z"&&r[10]&&(n=r[11]*60+r[12],r[10]==="+"&&(n=0-n));var a=Date.UTC(r[1],r[2],r[3],r[5],r[6]+n,r[7],r[8]);return new Date(a)};Ns.is=function(t,e){return typeof t!="string"||e&&/^\d{4}-\d{2}-\d{2}/.test(t)===!1?!1:Kf.test(t)}});var Yf=Z(Ds=>{"use strict";var Wh=/\d{13}/;Ds.is=function(t){return Wh.test(t)};Ds.parse=function(t){return t=parseInt(t,10),new Date(t)}});var Wf=Z(Us=>{"use strict";var $h=/\d{10}/;Us.is=function(t){return $h.test(t)};Us.parse=function(t){var e=parseInt(t,10)*1e3;return new Date(e)}});var _o=Z((kC,Zf)=>{"use strict";var $f=Ms(),Jf=Yf(),Xf=Wf(),Jh=Object.prototype,Qf=Jh.toString;function Xh(t){return Qf.call(t)==="[object Date]"}function Qh(t){return Qf.call(t)==="[object Number]"}Zf.exports=function(e){return Xh(e)?e:Qh(e)?new Date(Zh(e)):$f.is(e)?$f.parse(e):Jf.is(e)?Jf.parse(e):Xf.is(e)?Xf.parse(e):new Date(e)};function Zh(t){return t<315576e5?t*1e3:t}});var rd=Z((RC,td)=>{"use strict";var ed=Ms();td.exports=Fs;function Fs(t,e){return e===void 0&&(e=!0),t&&typeof t=="object"?eg(t,e):Array.isArray(t)?tg(t,e):ed.is(t,e)?ed.parse(t):t}function eg(t,e){return Object.keys(t).forEach(function(r){t[r]=Fs(t[r],e)}),t}function tg(t,e){return t.forEach(function(r,n){t[n]=Fs(r,e)}),t}});var Lt=Z(Vr=>{"use strict";var Gn=Vr&&Vr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.Facade=void 0;var rg=Gn(zf()),zr=Vf(),ng=Gn(Hf()),ig=Gn(_o()),js=Gn(Bn()),og=Gn(rd());function Re(t,e){e=e||{},this.raw=zr.clone(t),"clone"in e||(e.clone=!0),e.clone&&(t=zr.clone(t)),"traverse"in e||(e.traverse=!0),"timestamp"in t?t.timestamp=ig.default(t.timestamp):t.timestamp=new Date,e.traverse&&og.default(t),this.opts=e,this.obj=t}Vr.Facade=Re;var te=Re.prototype;te.proxy=function(t){var e=t.split(".");t=e.shift();var r=this[t]||this.obj[t];return r&&(typeof r=="function"&&(r=r.call(this)||{}),e.length===0?this.opts.clone?Bs(r):r:(r=js.default(r,e.join(".")),this.opts.clone?Bs(r):r))};te.field=function(t){var e=this.obj[t];return this.opts.clone?Bs(e):e};Re.proxy=function(t){return function(){return this.proxy(t)}};Re.field=function(t){return function(){return this.field(t)}};Re.multi=function(t){return function(){var e=this.proxy(t+"s");if(Array.isArray(e))return e;var r=this.proxy(t);return r&&(r=[this.opts.clone?zr.clone(r):r]),r||[]}};Re.one=function(t){return function(){var e=this.proxy(t);if(e)return e;var r=this.proxy(t+"s");if(Array.isArray(r))return r[0]}};te.json=function(){var t=this.opts.clone?zr.clone(this.obj):this.obj;return this.type&&(t.type=this.type()),t};te.rawEvent=function(){return this.raw};te.options=function(t){var e=this.obj.options||this.obj.context||{},r=this.opts.clone?zr.clone(e):e;if(!t)return r;if(this.enabled(t)){var n=this.integrations(),i=n[t]||js.default(n,t);return typeof i!="object"&&(i=js.default(this.options(),t)),typeof i=="object"?i:{}}};te.context=te.options;te.enabled=function(t){var e=this.proxy("options.providers.all");typeof e!="boolean"&&(e=this.proxy("options.all")),typeof e!="boolean"&&(e=this.proxy("integrations.all")),typeof e!="boolean"&&(e=!0);var r=e&&ng.default(t),n=this.integrations();if(n.providers&&n.providers.hasOwnProperty(t)&&(r=n.providers[t]),n.hasOwnProperty(t)){var i=n[t];typeof i=="boolean"?r=i:r=!0}return!!r};te.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()};te.active=function(){var t=this.proxy("options.active");return t==null&&(t=!0),t};te.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")};te.sessionId=te.anonymousId;te.groupId=Re.proxy("options.groupId");te.traits=function(t){var e=this.proxy("options.traits")||{},r=this.userId();t=t||{},r&&(e.id=r);for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=this[n]==null?this.proxy("options.traits."+n):this[n]();if(i==null)continue;e[t[n]]=i,delete e[n]}return e};te.library=function(){var t=this.proxy("options.library");return t?typeof t=="string"?{name:t,version:null}:t:{name:"unknown",version:null}};te.device=function(){var t=this.proxy("context.device");(typeof t!="object"||t===null)&&(t={});var e=this.library().name;return t.type||(e.indexOf("ios")>-1&&(t.type="ios"),e.indexOf("android")>-1&&(t.type="android")),t};te.userAgent=Re.proxy("context.userAgent");te.timezone=Re.proxy("context.timezone");te.timestamp=Re.field("timestamp");te.channel=Re.field("channel");te.ip=Re.proxy("context.ip");te.userId=Re.field("userId");rg.default(te);function Bs(t){return zr.clone(t)}});var Nt=Z((LC,qs)=>{typeof Object.create=="function"?qs.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:qs.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var id=Z(Hr=>{"use strict";var ag=Hr&&Hr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.Alias=void 0;var sg=ag(Nt()),nd=Lt();function Ge(t,e){nd.Facade.call(this,t,e)}Hr.Alias=Ge;sg.default(Ge,nd.Facade);Ge.prototype.action=function(){return"alias"};Ge.prototype.type=Ge.prototype.action;Ge.prototype.previousId=function(){return this.field("previousId")||this.field("from")};Ge.prototype.from=Ge.prototype.previousId;Ge.prototype.userId=function(){return this.field("userId")||this.field("to")};Ge.prototype.to=Ge.prototype.userId});var zn=Z(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});var ug=/.+\@.+\..+/;function cg(t){return ug.test(t)}Gs.default=cg});var od=Z(Kr=>{"use strict";var zs=Kr&&Kr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.Group=void 0;var lg=zs(Nt()),fg=zs(zn()),dg=zs(_o()),Yr=Lt();function Vs(t,e){Yr.Facade.call(this,t,e)}Kr.Group=Vs;lg.default(Vs,Yr.Facade);var ze=Vs.prototype;ze.action=function(){return"group"};ze.type=ze.action;ze.groupId=Yr.Facade.field("groupId");ze.created=function(){var t=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(t)return dg.default(t)};ze.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.groupId();if(fg.default(e))return e};ze.traits=function(t){var e=this.properties(),r=this.groupId();t=t||{},r&&(e.id=r);for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=this[n]==null?this.proxy("traits."+n):this[n]();if(i==null)continue;e[t[n]]=i,delete e[n]}return e};ze.name=Yr.Facade.proxy("traits.name");ze.industry=Yr.Facade.proxy("traits.industry");ze.employees=Yr.Facade.proxy("traits.employees");ze.properties=function(){return this.field("traits")||this.field("properties")||{}}});var Ks=Z($r=>{"use strict";var So=$r&&$r.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($r,"__esModule",{value:!0});$r.Identify=void 0;var Ze=Lt(),Wr=So(Bn()),pg=So(Nt()),mg=So(zn()),ad=So(_o()),Qt=function(t){return t.trim()};function Hs(t,e){Ze.Facade.call(this,t,e)}$r.Identify=Hs;pg.default(Hs,Ze.Facade);var re=Hs.prototype;re.action=function(){return"identify"};re.type=re.action;re.traits=function(t){var e=this.field("traits")||{},r=this.userId();t=t||{},r&&(e.id=r);for(var n in t){var i=this[n]==null?this.proxy("traits."+n):this[n]();i!=null&&(e[t[n]]=i,n!==t[n]&&delete e[n])}return e};re.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.userId();if(mg.default(e))return e};re.created=function(){var t=this.proxy("traits.created")||this.proxy("traits.createdAt");if(t)return ad.default(t)};re.companyCreated=function(){var t=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(t)return ad.default(t)};re.companyName=function(){return this.proxy("traits.company.name")};re.name=function(){var t=this.proxy("traits.name");if(typeof t=="string")return Qt(t);var e=this.firstName(),r=this.lastName();if(e&&r)return Qt(e+" "+r)};re.firstName=function(){var t=this.proxy("traits.firstName");if(typeof t=="string")return Qt(t);var e=this.proxy("traits.name");if(typeof e=="string")return Qt(e).split(" ")[0]};re.lastName=function(){var t=this.proxy("traits.lastName");if(typeof t=="string")return Qt(t);var e=this.proxy("traits.name");if(typeof e=="string"){var r=Qt(e).indexOf(" ");if(r!==-1)return Qt(e.substr(r+1))}};re.uid=function(){return this.userId()||this.username()||this.email()};re.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")};re.age=function(){var t=this.birthday(),e=Wr.default(this.traits(),"age");if(e!=null)return e;if(t instanceof Date){var r=new Date;return r.getFullYear()-t.getFullYear()}};re.avatar=function(){var t=this.traits();return Wr.default(t,"avatar")||Wr.default(t,"photoUrl")||Wr.default(t,"avatarUrl")};re.position=function(){var t=this.traits();return Wr.default(t,"position")||Wr.default(t,"jobTitle")};re.username=Ze.Facade.proxy("traits.username");re.website=Ze.Facade.one("traits.website");re.websites=Ze.Facade.multi("traits.website");re.phone=Ze.Facade.one("traits.phone");re.phones=Ze.Facade.multi("traits.phone");re.address=Ze.Facade.proxy("traits.address");re.gender=Ze.Facade.proxy("traits.gender");re.birthday=Ze.Facade.proxy("traits.birthday")});var Eo=Z(Jr=>{"use strict";var Ys=Jr&&Jr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.Track=void 0;var vg=Ys(Nt()),ae=Lt(),hg=Ks(),gg=Ys(zn()),sd=Ys(Bn());function Ws(t,e){ae.Facade.call(this,t,e)}Jr.Track=Ws;vg.default(Ws,ae.Facade);var F=Ws.prototype;F.action=function(){return"track"};F.type=F.action;F.event=ae.Facade.field("event");F.value=ae.Facade.proxy("properties.value");F.category=ae.Facade.proxy("properties.category");F.id=ae.Facade.proxy("properties.id");F.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")};F.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")};F.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")};F.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")};F.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")};F.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")};F.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")};F.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")};F.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")};F.sku=ae.Facade.proxy("properties.sku");F.tax=ae.Facade.proxy("properties.tax");F.name=ae.Facade.proxy("properties.name");F.price=ae.Facade.proxy("properties.price");F.total=ae.Facade.proxy("properties.total");F.repeat=ae.Facade.proxy("properties.repeat");F.coupon=ae.Facade.proxy("properties.coupon");F.shipping=ae.Facade.proxy("properties.shipping");F.discount=ae.Facade.proxy("properties.discount");F.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")};F.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")};F.description=ae.Facade.proxy("properties.description");F.plan=ae.Facade.proxy("properties.plan");F.subtotal=function(){var t=sd.default(this.properties(),"subtotal"),e=this.total()||this.revenue();if(t)return t;if(!e)return 0;if(this.total()){var r=this.tax();r&&(e-=r),r=this.shipping(),r&&(e-=r),r=this.discount(),r&&(e+=r)}return e};F.products=function(){var t=this.properties(),e=sd.default(t,"products");return Array.isArray(e)?e.filter(function(r){return r!==null}):[]};F.quantity=function(){var t=this.obj.properties||{};return t.quantity||1};F.currency=function(){var t=this.obj.properties||{};return t.currency||"USD"};F.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};F.query=ae.Facade.proxy("options.query");F.properties=function(t){var e=this.field("properties")||{};t=t||{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=this[r]==null?this.proxy("properties."+r):this[r]();if(n==null)continue;e[t[r]]=n,delete e[r]}return e};F.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()};F.email=function(){var t=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(t)return t;var e=this.userId();if(gg.default(e))return e};F.revenue=function(){var t=this.proxy("properties.revenue"),e=this.event(),r=/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;return!t&&e&&e.match(r)&&(t=this.proxy("properties.total")),yg(t)};F.cents=function(){var t=this.revenue();return typeof t!="number"?this.value()||0:t*100};F.identify=function(){var t=this.json();return t.traits=this.traits(),new hg.Identify(t,this.opts)};function yg(t){if(t){if(typeof t=="number")return t;if(typeof t=="string"&&(t=t.replace(/\$/g,""),t=parseFloat(t),!isNaN(t)))return t}}});var Js=Z(Xr=>{"use strict";var ud=Xr&&Xr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.Page=void 0;var bg=ud(Nt()),Zt=Lt(),wg=Eo(),xg=ud(zn());function $s(t,e){Zt.Facade.call(this,t,e)}Xr.Page=$s;bg.default($s,Zt.Facade);var xe=$s.prototype;xe.action=function(){return"page"};xe.type=xe.action;xe.category=Zt.Facade.field("category");xe.name=Zt.Facade.field("name");xe.title=Zt.Facade.proxy("properties.title");xe.path=Zt.Facade.proxy("properties.path");xe.url=Zt.Facade.proxy("properties.url");xe.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};xe.properties=function(t){var e=this.field("properties")||{},r=this.category(),n=this.name();t=t||{},r&&(e.category=r),n&&(e.name=n);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=this[i]==null?this.proxy("properties."+i):this[i]();if(o==null)continue;e[t[i]]=o,i!==t[i]&&delete e[i]}return e};xe.email=function(){var t=this.proxy("context.traits.email")||this.proxy("properties.email");if(t)return t;var e=this.userId();if(xg.default(e))return e};xe.fullName=function(){var t=this.category(),e=this.name();return e&&t?t+" "+e:e};xe.event=function(t){return t?"Viewed "+t+" Page":"Loaded a Page"};xe.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new wg.Track(e,this.opts)}});var ld=Z(Qr=>{"use strict";var _g=Qr&&Qr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.Screen=void 0;var Sg=_g(Nt()),cd=Js(),Eg=Eo();function er(t,e){cd.Page.call(this,t,e)}Qr.Screen=er;Sg.default(er,cd.Page);er.prototype.action=function(){return"screen"};er.prototype.type=er.prototype.action;er.prototype.event=function(t){return t?"Viewed "+t+" Screen":"Loaded a Screen"};er.prototype.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new Eg.Track(e,this.opts)}});var dd=Z(Zr=>{"use strict";var Ig=Zr&&Zr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.Delete=void 0;var Tg=Ig(Nt()),fd=Lt();function Xs(t,e){fd.Facade.call(this,t,e)}Zr.Delete=Xs;Tg.default(Xs,fd.Facade);Xs.prototype.type=function(){return"delete"}});var Qs=Z(ne=>{"use strict";var Io=ne&&ne.__assign||function(){return Io=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Io.apply(this,arguments)};Object.defineProperty(ne,"__esModule",{value:!0});ne.Delete=ne.Screen=ne.Page=ne.Track=ne.Identify=ne.Group=ne.Alias=ne.Facade=void 0;var pd=Lt();Object.defineProperty(ne,"Facade",{enumerable:!0,get:function(){return pd.Facade}});var md=id();Object.defineProperty(ne,"Alias",{enumerable:!0,get:function(){return md.Alias}});var vd=od();Object.defineProperty(ne,"Group",{enumerable:!0,get:function(){return vd.Group}});var hd=Ks();Object.defineProperty(ne,"Identify",{enumerable:!0,get:function(){return hd.Identify}});var gd=Eo();Object.defineProperty(ne,"Track",{enumerable:!0,get:function(){return gd.Track}});var yd=Js();Object.defineProperty(ne,"Page",{enumerable:!0,get:function(){return yd.Page}});var bd=ld();Object.defineProperty(ne,"Screen",{enumerable:!0,get:function(){return bd.Screen}});var wd=dd();Object.defineProperty(ne,"Delete",{enumerable:!0,get:function(){return wd.Delete}});ne.default=Io(Io({},pd.Facade),{Alias:md.Alias,Group:vd.Group,Identify:hd.Identify,Track:gd.Track,Page:yd.Page,Screen:bd.Screen,Delete:wd.Delete})});function en(t,e){var r=new _e.Facade(t,e);return t.type==="track"&&(r=new _e.Track(t,e)),t.type==="identify"&&(r=new _e.Identify(t,e)),t.type==="page"&&(r=new _e.Page(t,e)),t.type==="alias"&&(r=new _e.Alias(t,e)),t.type==="group"&&(r=new _e.Group(t,e)),t.type==="screen"&&(r=new _e.Screen(t,e)),Object.defineProperty(r,"obj",{value:t,writable:!0}),r}var _e,Zs=L(()=>{_e=yt(Qs())});var xd={};gt(xd,{applyDestinationMiddleware:()=>Vn,sourceMiddlewarePlugin:()=>Og});function Vn(t,e,r){return O(this,void 0,void 0,function(){function n(l,u){return O(this,void 0,void 0,function(){var f,d,m;return A(this,function(p){switch(p.label){case 0:return f=!1,d=null,[4,u({payload:en(l,{clone:!0,traverse:!1}),integration:t,next:function(v){f=!0,v===null&&(d=null),v&&(d=v.obj)}})];case 1:return p.sent(),!f&&d!==null&&(d=d,d.integrations=x(x({},l.integrations),(m={},m[t]=!1,m))),[2,d]}})})}var i,o,a,s,c;return A(this,function(l){switch(l.label){case 0:i=en(e,{clone:!0,traverse:!1}).rawEvent(),o=0,a=r,l.label=1;case 1:return o<a.length?(s=a[o],[4,n(i,s)]):[3,4];case 2:if(c=l.sent(),c===null)return[2,null];i=c,l.label=3;case 3:return o++,[3,1];case 4:return[2,i]}})})}function Og(t,e){function r(n){return O(this,void 0,void 0,function(){var i;return A(this,function(o){switch(o.label){case 0:return i=!1,[4,t({payload:en(n.event,{clone:!0,traverse:!1}),integrations:e!=null?e:{},next:function(a){i=!0,a&&(n.event=a.obj)}})];case 1:if(o.sent(),!i)throw new be({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,n]}})})}return{name:"Source Middleware ".concat(t.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(n){return Promise.resolve(n)},track:r,page:r,identify:r,alias:r,group:r}}var To=L(()=>{j();Je();Zs()});function eu(t,e){return Object.keys(e).reduce(function(r,n){if(n.startsWith(t)){var i=n.substr(t.length);r[i]=e[n]}return r},{})}var _d=L(()=>{});function Oo(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}}var tu=L(()=>{});var Sd={};gt(Sd,{queryString:()=>Ag});function Ag(t,e){var r=document.createElement("a");r.href=e;var n=r.search.slice(1),i=n.split("&").reduce(function(w,I){var S=I.split("="),_=S[0],h=S[1];return w[_]=Oo(h),w},{}),o=[],a=i.ajs_uid,s=i.ajs_event,c=i.ajs_aid,l=ie(t.options.useQueryString)?t.options.useQueryString:{},u=l.aid,f=u===void 0?/.+/:u,d=l.uid,m=d===void 0?/.+/:d;if(c){var p=Array.isArray(i.ajs_aid)?i.ajs_aid[0]:i.ajs_aid;f.test(p)&&t.setAnonymousId(p)}if(a){var v=Array.isArray(i.ajs_uid)?i.ajs_uid[0]:i.ajs_uid;if(m.test(v)){var g=eu("ajs_trait_",i);o.push(t.identify(v,g))}}if(s){var b=Array.isArray(i.ajs_event)?i.ajs_event[0]:i.ajs_event,y=eu("ajs_prop_",i);o.push(t.track(b,y))}return Promise.all(o)}var Ed=L(()=>{_d();tu();we()});var Rg,Pg,Ao,Lg,Id,Hn,Kn,Yn=L(()=>{Dn();Rg=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,Pg=function(){var t,e=Array.prototype.slice.call(document.querySelectorAll("script"));return e.forEach(function(r){var n,i=(n=r.getAttribute("src"))!==null&&n!==void 0?n:"",o=Rg.exec(i);o&&o[1]&&(t=o[1])}),t},Lg=function(){var t,e=Ao!=null?Ao:(t=Mn())===null||t===void 0?void 0:t._cdn;return e},Id=function(t){var e=Mn();e&&(e._cdn=t),Ao=t},Hn=function(){var t=Lg();if(t)return t;var e=Pg();return e||"https://cdn.segment.com"},Kn=function(){var t=Hn();return"".concat(t,"/next-integrations")}});function Co(t,e){var r,n=Object.entries((r=e.integrations)!==null&&r!==void 0?r:{}).reduce(function(i,o){var a,s,c=o[0],l=o[1];return typeof l=="object"?x(x({},i),(a={},a[c]=l,a)):x(x({},i),(s={},s[c]={},s))},{});return Object.entries(t.integrations).reduce(function(i,o){var a,s=o[0],c=o[1];return x(x({},i),(a={},a[s]=x(x({},c),n[s]),a))},{})}var su=L(()=>{j()});function Ad(t){var e=Array.prototype.slice.call(window.document.querySelectorAll("script"));return e.find(function(r){return r.src===t})}function vt(t,e){var r=Ad(t);if(r!==void 0){var n=r==null?void 0:r.getAttribute("status");if(n==="loaded")return Promise.resolve(r);if(n==="loading")return new Promise(function(i,o){r.addEventListener("load",function(){return i(r)}),r.addEventListener("error",function(a){return o(a)})})}return new Promise(function(i,o){var a,s=window.document.createElement("script");s.type="text/javascript",s.src=t,s.async=!0,s.setAttribute("status","loading");for(var c=0,l=Object.entries(e!=null?e:{});c<l.length;c++){var u=l[c],f=u[0],d=u[1];s.setAttribute(f,d)}s.onload=function(){s.onerror=s.onload=null,s.setAttribute("status","loaded"),i(s)},s.onerror=function(){s.onerror=s.onload=null,s.setAttribute("status","error"),o(new Error("Failed to load ".concat(t)))};var m=window.document.querySelector("script");m?(a=m.parentElement)===null||a===void 0||a.insertBefore(s,m):window.document.head.appendChild(s)})}function Cd(t){var e=Ad(t);return e!==void 0&&e.remove(),Promise.resolve()}var ko=L(()=>{});function tt(t,e){var r=e.methodName,n=e.integrationName,i=e.type,o=e.didError,a=o===void 0?!1:o;t.stats.increment("analytics_js.integration.invoke".concat(a?".error":""),1,["method:".concat(r),"integration_name:".concat(n),"type:".concat(i)])}var uu=L(()=>{});var Po,fu=L(()=>{j();Po=function(t,e){return O(void 0,void 0,void 0,function(){var r;return A(this,function(n){return r=function(i){return O(void 0,void 0,void 0,function(){var o;return A(this,function(a){switch(a.label){case 0:return t(i)?(o=r,[4,e()]):[3,2];case 1:return[2,o.apply(void 0,[a.sent()])];case 2:return[2]}})})},[2,r(void 0)]})})}});var Ud=Z((Lo,pu)=>{"use strict";(function(t,e){if(typeof Lo=="object"&&typeof pu=="object")pu.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var r=e();for(var n in r)(typeof Lo=="object"?Lo:t)[n]=r[n]}})(self,function(){return function(){var t={2870:function(n,i,o){"use strict";var a=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.Store=i.matches=i.transform=void 0;var s=o(4303);Object.defineProperty(i,"transform",{enumerable:!0,get:function(){return a(s).default}});var c=o(2370);Object.defineProperty(i,"matches",{enumerable:!0,get:function(){return a(c).default}});var l=o(1444);Object.defineProperty(i,"Store",{enumerable:!0,get:function(){return a(l).default}})},2370:function(n,i,o){"use strict";var a=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(i,"__esModule",{value:!0});var s=a(o(7843));function c(p,v){if(!Array.isArray(p))return l(p,v)===!0;var g,b,y,w,I=p[0];switch(I){case"!":return!c(p[1],v);case"or":for(var S=1;S<p.length;S++)if(c(p[S],v))return!0;return!1;case"and":for(S=1;S<p.length;S++)if(!c(p[S],v))return!1;return!0;case"=":case"!=":return function(h,T,C,k){switch(u(h)&&(h=c(h,k)),u(T)&&(T=c(T,k)),typeof h=="object"&&typeof T=="object"&&(h=JSON.stringify(h),T=JSON.stringify(T)),C){case"=":return h===T;case"!=":return h!==T;default:throw new Error("Invalid operator in compareItems: ".concat(C))}}(l(p[1],v),l(p[2],v),I,v);case"<=":case"<":case">":case">=":return function(h,T,C,k){if(u(h)&&(h=c(h,k)),u(T)&&(T=c(T,k)),typeof h!="number"||typeof T!="number")return!1;switch(C){case"<=":return h<=T;case">=":return h>=T;case"<":return h<T;case">":return h>T;default:throw new Error("Invalid operator in compareNumbers: ".concat(C))}}(l(p[1],v),l(p[2],v),I,v);case"in":return function(h,T,C){return T.find(function(k){return l(k,C)===h})!==void 0}(l(p[1],v),l(p[2],v),v);case"contains":return y=l(p[1],v),w=l(p[2],v),typeof y=="string"&&typeof w=="string"&&y.indexOf(w)!==-1;case"match":return g=l(p[1],v),b=l(p[2],v),typeof g=="string"&&typeof b=="string"&&function(h,T){var C,k;e:for(;h.length>0;){var R,U;if(R=(C=f(h)).star,U=C.chunk,h=C.pattern,R&&U==="")return!0;var le=d(U,T),Se=le.t,Ue=le.ok,ht=le.err;if(ht)return!1;if(!Ue||!(Se.length===0||h.length>0)){if(R)for(var Dt=0;Dt<T.length;Dt++){if(Se=(k=d(U,T.slice(Dt+1))).t,Ue=k.ok,ht=k.err,Ue){if(h.length===0&&Se.length>0)continue;T=Se;continue e}if(ht)return!1}return!1}T=Se}return T.length===0}(b,g);case"lowercase":var _=l(p[1],v);return typeof _!="string"?null:_.toLowerCase();case"typeof":return typeof l(p[1],v);case"length":return function(h){return h===null?0:Array.isArray(h)||typeof h=="string"?h.length:NaN}(l(p[1],v));default:throw new Error("FQL IR could not evaluate for token: ".concat(I))}}function l(p,v){return Array.isArray(p)?p:typeof p=="object"?p.value:(0,s.default)(v,p)}function u(p){return!!Array.isArray(p)&&((p[0]==="lowercase"||p[0]==="length"||p[0]==="typeof")&&p.length===2||(p[0]==="contains"||p[0]==="match")&&p.length===3)}function f(p){for(var v={star:!1,chunk:"",pattern:""};p.length>0&&p[0]==="*";)p=p.slice(1),v.star=!0;var g,b=!1;e:for(g=0;g<p.length;g++)switch(p[g]){case"\\":g+1<p.length&&g++;break;case"[":b=!0;break;case"]":b=!1;break;case"*":if(!b)break e}return v.chunk=p.slice(0,g),v.pattern=p.slice(g),v}function d(p,v){for(var g,b,y={t:"",ok:!1,err:!1};p.length>0;){if(v.length===0)return y;switch(p[0]){case"[":var w=v[0];v=v.slice(1);var I=!0;(p=p.slice(1)).length>0&&p[0]==="^"&&(I=!1,p=p.slice(1));for(var S=!1,_=0;;){if(p.length>0&&p[0]==="]"&&_>0){p=p.slice(1);break}var h,T="";if(h=(g=m(p)).char,p=g.newChunk,g.err||(T=h,p[0]==="-"&&(T=(b=m(p.slice(1))).char,p=b.newChunk,b.err)))return y;h<=w&&w<=T&&(S=!0),_++}if(S!==I)return y;break;case"?":v=v.slice(1),p=p.slice(1);break;case"\\":if((p=p.slice(1)).length===0)return y.err=!0,y;default:if(p[0]!==v[0])return y;v=v.slice(1),p=p.slice(1)}}return y.t=v,y.ok=!0,y.err=!1,y}function m(p){var v={char:"",newChunk:"",err:!1};return p.length===0||p[0]==="-"||p[0]==="]"||p[0]==="\\"&&(p=p.slice(1)).length===0?(v.err=!0,v):(v.char=p[0],v.newChunk=p.slice(1),v.newChunk.length===0&&(v.err=!0),v)}i.default=function(p,v){if(!v)throw new Error("No matcher supplied!");switch(v.type){case"all":return!0;case"fql":return function(g,b){if(!g)return!1;try{g=JSON.parse(g)}catch(w){throw new Error('Failed to JSON.parse FQL intermediate representation "'.concat(g,'": ').concat(w))}var y=c(g,b);return typeof y=="boolean"&&y}(v.ir,p);default:throw new Error("Matcher of type ".concat(v.type," unsupported."))}}},1444:function(n,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function a(s){this.rules=[],this.rules=s||[]}return a.prototype.getRulesByDestinationName=function(s){for(var c=[],l=0,u=this.rules;l<u.length;l++){var f=u[l];f.destinationName!==s&&f.destinationName!==void 0||c.push(f)}return c},a}();i.default=o},4303:function(n,i,o){"use strict";var a=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(i,"__esModule",{value:!0});var s=a(o(374)),c=a(o(7843)),l=a(o(5500)),u=o(9014),f=o(4966);function d(y,w){p(y,w.drop,function(I,S){S.forEach(function(_){return delete I[_]})})}function m(y,w){p(y,w.allow,function(I,S){Object.keys(I).forEach(function(_){S.includes(_)||delete I[_]})})}function p(y,w,I){Object.entries(w).forEach(function(S){var _=S[0],h=S[1],T=function(k){typeof k=="object"&&k!==null&&I(k,h)},C=_===""?y:(0,c.default)(y,_);Array.isArray(C)?C.forEach(T):T(C)})}function v(y,w){var I=JSON.parse(JSON.stringify(y));for(var S in w.map)if(w.map.hasOwnProperty(S)){var _=w.map[S],h=S.split("."),T=void 0;if(h.length>1?(h.pop(),T=(0,c.default)(I,h.join("."))):T=y,typeof T=="object"){if(_.copy){var C=(0,c.default)(I,_.copy);C!==void 0&&(0,u.dset)(y,S,C)}else if(_.move){var k=(0,c.default)(I,_.move);k!==void 0&&(0,u.dset)(y,S,k),(0,f.unset)(y,_.move)}else _.hasOwnProperty("set")&&(0,u.dset)(y,S,_.set);if(_.to_string){var R=(0,c.default)(y,S);if(typeof R=="string"||typeof R=="object"&&R!==null)continue;R!==void 0?(0,u.dset)(y,S,JSON.stringify(R)):(0,u.dset)(y,S,"undefined")}}}}function g(y,w){return!(w.sample.percent<=0)&&(w.sample.percent>=1||(w.sample.path?function(S,_){var h=(0,c.default)(S,_.sample.path),T=(0,s.default)(JSON.stringify(h)),C=-64,k=[];b(T.slice(0,8),k);for(var R=0,U=0;U<64&&k[U]!==1;U++)R++;if(R!==0){var le=[];b(T.slice(9,16),le),C-=R,k.splice(0,R),le.splice(64-R),k=k.concat(le)}return k[63]=k[63]===0?1:0,(0,l.default)(parseInt(k.join(""),2),C)<_.sample.percent}(y,w):(I=w.sample.percent,Math.random()<=I)));var I}function b(y,w){for(var I=0;I<8;I++)for(var S=y[I],_=128;_>=1;_/=2)S-_>=0?(S-=_,w.push(1)):w.push(0)}i.default=function(y,w){for(var I=y,S=0,_=w;S<_.length;S++){var h=_[S];switch(h.type){case"drop":return null;case"drop_properties":d(I,h.config);break;case"allow_properties":m(I,h.config);break;case"sample_event":if(g(I,h.config))break;return null;case"map_properties":v(I,h.config);break;case"hash_properties":break;default:throw new Error('Transformer of type "'.concat(h.type,'" is unsupported.'))}}return I}},4966:function(n,i,o){"use strict";var a=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(i,"__esModule",{value:!0}),i.unset=void 0;var s=a(o(7843));i.unset=function(c,l){if((0,s.default)(c,l)){for(var u=l.split("."),f=u.pop();u.length&&u[u.length-1].slice(-1)==="\\";)f=u.pop().slice(0,-1)+"."+f;for(;u.length;)c=c[l=u.shift()];return delete c[f]}return!0}},9014:function(n,i){i.dset=function(o,a,s){a.split&&(a=a.split("."));for(var c,l,u=0,f=a.length,d=o;u<f&&(l=a[u++])!=="__proto__"&&l!=="constructor"&&l!=="prototype";)d=d[l]=u===f?s:typeof(c=d[l])==typeof a?c:0*a[u]!=0||~(""+a[u]).indexOf(".")?{}:[]}},3304:function(n){"use strict";var i=typeof Float64Array=="function"?Float64Array:void 0;n.exports=i},7382:function(n,i,o){"use strict";var a,s=o(5569),c=o(3304),l=o(8482);a=s()?c:l,n.exports=a},8482:function(n){"use strict";n.exports=function(){throw new Error("not implemented")}},6322:function(n,i,o){"use strict";var a,s=o(2508),c=o(5679),l=o(882);a=s()?c:l,n.exports=a},882:function(n){"use strict";n.exports=function(){throw new Error("not implemented")}},5679:function(n){"use strict";var i=typeof Uint16Array=="function"?Uint16Array:void 0;n.exports=i},4773:function(n,i,o){"use strict";var a,s=o(9773),c=o(3004),l=o(3078);a=s()?c:l,n.exports=a},3078:function(n){"use strict";n.exports=function(){throw new Error("not implemented")}},3004:function(n){"use strict";var i=typeof Uint32Array=="function"?Uint32Array:void 0;n.exports=i},7980:function(n,i,o){"use strict";var a,s=o(8114),c=o(6737),l=o(3357);a=s()?c:l,n.exports=a},3357:function(n){"use strict";n.exports=function(){throw new Error("not implemented")}},6737:function(n){"use strict";var i=typeof Uint8Array=="function"?Uint8Array:void 0;n.exports=i},2684:function(n){"use strict";var i=typeof Float64Array=="function"?Float64Array:null;n.exports=i},5569:function(n,i,o){"use strict";var a=o(3876);n.exports=a},3876:function(n,i,o){"use strict";var a=o(1448),s=o(2684);n.exports=function(){var c,l;if(typeof s!="function")return!1;try{l=new s([1,3.14,-3.14,NaN]),c=a(l)&&l[0]===1&&l[1]===3.14&&l[2]===-3.14&&l[3]!=l[3]}catch(u){c=!1}return c}},9048:function(n,i,o){"use strict";var a=o(3763);n.exports=a},3763:function(n){"use strict";var i=Object.prototype.hasOwnProperty;n.exports=function(o,a){return o!=null&&i.call(o,a)}},7009:function(n,i,o){"use strict";var a=o(6784);n.exports=a},6784:function(n){"use strict";n.exports=function(){return typeof Symbol=="function"&&typeof Symbol("foo")=="symbol"}},3123:function(n,i,o){"use strict";var a=o(8481);n.exports=a},8481:function(n,i,o){"use strict";var a=o(7009)();n.exports=function(){return a&&typeof Symbol.toStringTag=="symbol"}},2508:function(n,i,o){"use strict";var a=o(3403);n.exports=a},3403:function(n,i,o){"use strict";var a=o(768),s=o(9668),c=o(187);n.exports=function(){var l,u;if(typeof c!="function")return!1;try{u=new c(u=[1,3.14,-3.14,s+1,s+2]),l=a(u)&&u[0]===1&&u[1]===3&&u[2]===s-2&&u[3]===0&&u[4]===1}catch(f){l=!1}return l}},187:function(n){"use strict";var i=typeof Uint16Array=="function"?Uint16Array:null;n.exports=i},9773:function(n,i,o){"use strict";var a=o(2822);n.exports=a},2822:function(n,i,o){"use strict";var a=o(2744),s=o(3899),c=o(746);n.exports=function(){var l,u;if(typeof c!="function")return!1;try{u=new c(u=[1,3.14,-3.14,s+1,s+2]),l=a(u)&&u[0]===1&&u[1]===3&&u[2]===s-2&&u[3]===0&&u[4]===1}catch(f){l=!1}return l}},746:function(n){"use strict";var i=typeof Uint32Array=="function"?Uint32Array:null;n.exports=i},8114:function(n,i,o){"use strict";var a=o(8066);n.exports=a},8066:function(n,i,o){"use strict";var a=o(8279),s=o(3443),c=o(2731);n.exports=function(){var l,u;if(typeof c!="function")return!1;try{u=new c(u=[1,3.14,-3.14,s+1,s+2]),l=a(u)&&u[0]===1&&u[1]===3&&u[2]===s-2&&u[3]===0&&u[4]===1}catch(f){l=!1}return l}},2731:function(n){"use strict";var i=typeof Uint8Array=="function"?Uint8Array:null;n.exports=i},1448:function(n,i,o){"use strict";var a=o(1453);n.exports=a},1453:function(n,i,o){"use strict";var a=o(6208),s=typeof Float64Array=="function";n.exports=function(c){return s&&c instanceof Float64Array||a(c)==="[object Float64Array]"}},9331:function(n,i,o){"use strict";var a=o(7980),s={uint16:o(6322),uint8:a};n.exports=s},5902:function(n,i,o){"use strict";var a=o(4106);n.exports=a},4106:function(n,i,o){"use strict";var a,s,c=o(9331);(s=new c.uint16(1))[0]=4660,a=new c.uint8(s.buffer)[0]===52,n.exports=a},768:function(n,i,o){"use strict";var a=o(3823);n.exports=a},3823:function(n,i,o){"use strict";var a=o(6208),s=typeof Uint16Array=="function";n.exports=function(c){return s&&c instanceof Uint16Array||a(c)==="[object Uint16Array]"}},2744:function(n,i,o){"use strict";var a=o(2326);n.exports=a},2326:function(n,i,o){"use strict";var a=o(6208),s=typeof Uint32Array=="function";n.exports=function(c){return s&&c instanceof Uint32Array||a(c)==="[object Uint32Array]"}},8279:function(n,i,o){"use strict";var a=o(208);n.exports=a},208:function(n,i,o){"use strict";var a=o(6208),s=typeof Uint8Array=="function";n.exports=function(c){return s&&c instanceof Uint8Array||a(c)==="[object Uint8Array]"}},6315:function(n){"use strict";n.exports=1023},1686:function(n){"use strict";n.exports=2147483647},3105:function(n){"use strict";n.exports=2146435072},3449:function(n){"use strict";n.exports=2147483648},6988:function(n){"use strict";n.exports=-1023},9777:function(n){"use strict";n.exports=1023},3690:function(n){"use strict";n.exports=-1074},2918:function(n,i,o){"use strict";var a=o(4772).NEGATIVE_INFINITY;n.exports=a},4165:function(n){"use strict";var i=Number.POSITIVE_INFINITY;n.exports=i},6488:function(n){"use strict";n.exports=22250738585072014e-324},9668:function(n){"use strict";n.exports=65535},3899:function(n){"use strict";n.exports=4294967295},3443:function(n){"use strict";n.exports=255},7011:function(n,i,o){"use strict";var a=o(812);n.exports=a},812:function(n,i,o){"use strict";var a=o(4165),s=o(2918);n.exports=function(c){return c===a||c===s}},1883:function(n,i,o){"use strict";var a=o(1797);n.exports=a},1797:function(n){"use strict";n.exports=function(i){return i!=i}},513:function(n,i,o){"use strict";var a=o(5760);n.exports=a},5760:function(n){"use strict";n.exports=function(i){return Math.abs(i)}},5848:function(n,i,o){"use strict";var a=o(677);n.exports=a},677:function(n,i,o){"use strict";var a=o(3449),s=o(1686),c=o(7838),l=o(1921),u=o(2490),f=[0,0];n.exports=function(d,m){var p,v;return c.assign(d,f,1,0),p=f[0],p&=s,v=l(m),u(p|=v&=a,f[1])}},5500:function(n,i,o){"use strict";var a=o(8397);n.exports=a},8397:function(n,i,o){"use strict";var a=o(4165),s=o(2918),c=o(6315),l=o(9777),u=o(6988),f=o(3690),d=o(1883),m=o(7011),p=o(5848),v=o(4948),g=o(8478),b=o(7838),y=o(2490),w=[0,0],I=[0,0];n.exports=function(S,_){var h,T;return S===0||d(S)||m(S)?S:(v(w,S),_+=w[1],(_+=g(S=w[0]))<f?p(0,S):_>l?S<0?s:a:(_<=u?(_+=52,T=2220446049250313e-31):T=1,b(I,S),h=I[0],h&=2148532223,T*y(h|=_+c<<20,I[1])))}},4772:function(n,i,o){"use strict";var a=o(7548);n.exports=a},7548:function(n){"use strict";n.exports=Number},8478:function(n,i,o){"use strict";var a=o(4500);n.exports=a},4500:function(n,i,o){"use strict";var a=o(1921),s=o(3105),c=o(6315);n.exports=function(l){var u=a(l);return(u=(u&s)>>>20)-c|0}},2490:function(n,i,o){"use strict";var a=o(9639);n.exports=a},4445:function(n,i,o){"use strict";var a,s,c;o(5902)===!0?(s=1,c=0):(s=0,c=1),a={HIGH:s,LOW:c},n.exports=a},9639:function(n,i,o){"use strict";var a=o(4773),s=o(7382),c=o(4445),l=new s(1),u=new a(l.buffer),f=c.HIGH,d=c.LOW;n.exports=function(m,p){return u[f]=m,u[d]=p,l[0]}},5646:function(n,i,o){"use strict";var a;a=o(5902)===!0?1:0,n.exports=a},1921:function(n,i,o){"use strict";var a=o(6285);n.exports=a},6285:function(n,i,o){"use strict";var a=o(4773),s=o(7382),c=o(5646),l=new s(1),u=new a(l.buffer);n.exports=function(f){return l[0]=f,u[c]}},9024:function(n,i,o){"use strict";var a=o(6488),s=o(7011),c=o(1883),l=o(513);n.exports=function(u,f,d,m){return c(u)||s(u)?(f[m]=u,f[m+d]=0,f):u!==0&&l(u)<a?(f[m]=4503599627370496*u,f[m+d]=-52,f):(f[m]=u,f[m+d]=0,f)}},4948:function(n,i,o){"use strict";var a=o(7576),s=o(9422);a(s,"assign",o(9024)),n.exports=s},9422:function(n,i,o){"use strict";var a=o(9024);n.exports=function(s){return a(s,[0,0],1,0)}},5239:function(n,i,o){"use strict";var a=o(4773),s=o(7382),c=o(5782),l=new s(1),u=new a(l.buffer),f=c.HIGH,d=c.LOW;n.exports=function(m,p,v,g){return l[0]=m,p[g]=u[f],p[g+v]=u[d],p}},7838:function(n,i,o){"use strict";var a=o(7576),s=o(4010);a(s,"assign",o(5239)),n.exports=s},5782:function(n,i,o){"use strict";var a,s,c;o(5902)===!0?(s=1,c=0):(s=0,c=1),a={HIGH:s,LOW:c},n.exports=a},4010:function(n,i,o){"use strict";var a=o(5239);n.exports=function(s){return a(s,[0,0],1,0)}},7576:function(n,i,o){"use strict";var a=o(7063);n.exports=a},7063:function(n,i,o){"use strict";var a=o(6691);n.exports=function(s,c,l){a(s,c,{configurable:!1,enumerable:!1,writable:!1,value:l})}},2073:function(n){"use strict";var i=Object.defineProperty;n.exports=i},1680:function(n){"use strict";var i=typeof Object.defineProperty=="function"?Object.defineProperty:null;n.exports=i},1471:function(n,i,o){"use strict";var a=o(1680);n.exports=function(){try{return a({},"x",{}),!0}catch(s){return!1}}},6691:function(n,i,o){"use strict";var a,s=o(1471),c=o(2073),l=o(1309);a=s()?c:l,n.exports=a},1309:function(n){"use strict";var i=Object.prototype,o=i.toString,a=i.__defineGetter__,s=i.__defineSetter__,c=i.__lookupGetter__,l=i.__lookupSetter__;n.exports=function(u,f,d){var m,p,v,g;if(typeof u!="object"||u===null||o.call(u)==="[object Array]")throw new TypeError("invalid argument. First argument must be an object. Value: `"+u+"`.");if(typeof d!="object"||d===null||o.call(d)==="[object Array]")throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+d+"`.");if((p="value"in d)&&(c.call(u,f)||l.call(u,f)?(m=u.__proto__,u.__proto__=i,delete u[f],u[f]=d.value,u.__proto__=m):u[f]=d.value),v="get"in d,g="set"in d,p&&(v||g))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return v&&a&&a.call(u,f,d.get),g&&s&&s.call(u,f,d.set),u}},6208:function(n,i,o){"use strict";var a,s=o(3123),c=o(7407),l=o(4210);a=s()?l:c,n.exports=a},7407:function(n,i,o){"use strict";var a=o(173);n.exports=function(s){return a.call(s)}},4210:function(n,i,o){"use strict";var a=o(9048),s=o(1403),c=o(173);n.exports=function(l){var u,f,d;if(l==null)return c.call(l);f=l[s],u=a(l,s);try{l[s]=void 0}catch(m){return c.call(l)}return d=c.call(l),u?l[s]=f:delete l[s],d}},173:function(n){"use strict";var i=Object.prototype.toString;n.exports=i},1403:function(n){"use strict";var i=typeof Symbol=="function"?Symbol.toStringTag:"";n.exports=i},7843:function(n){n.exports=function(i,o,a,s,c){for(o=o.split?o.split("."):o,s=0;s<o.length;s++)i=i?i[o[s]]:c;return i===c?a:i}},374:function(n,i,o){"use strict";o.r(i),o.d(i,{default:function(){return c}});for(var a=[],s=0;s<64;)a[s]=0|4294967296*Math.sin(++s%Math.PI);function c(l){var u,f,d,m=[u=1732584193,f=4023233417,~u,~f],p=[],v=unescape(encodeURI(l))+"\x80",g=v.length;for(l=--g/4+2|15,p[--l]=8*g;~g;)p[g>>2]|=v.charCodeAt(g)<<8*g--;for(s=v=0;s<l;s+=16){for(g=m;v<64;g=[d=g[3],u+((d=g[0]+[u&f|~u&d,d&u|~d&f,u^f^d,f^(u|~d)][g=v>>4]+a[v]+~~p[s|15&[v,5*v+1,3*v+5,7*v][g]])<<(g=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*g+v++%4])|d>>>-g),u,f])u=0|g[1],f=g[2];for(v=4;v;)m[--v]+=g[v]}for(l="";v<32;)l+=(m[v>>3]>>4*(1^v++)&15).toString(16);return l}}},e={};function r(n){var i=e[n];if(i!==void 0)return i.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,r),o.exports}return r.d=function(n,i){for(var o in i)r.o(i,o)&&!r.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:i[o]})},r.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},r.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r(2870)}()})});var Fd={};gt(Fd,{tsubMiddleware:()=>Zg});var tn,Zg,jd=L(()=>{tn=yt(Ud()),Zg=function(t){return function(e){var r=e.payload,n=e.integration,i=e.next,o=new tn.Store(t),a=o.getRulesByDestinationName(n);a.forEach(function(s){for(var c=s.matchers,l=s.transformers,u=0;u<c.length;u++)if(tn.matches(r.obj,c[u])&&(r.obj=tn.transform(r.obj,l[u]),r.obj===null))return i(null)}),i(r)}}});function No(t,e){var r,n;return typeof(e==null?void 0:e.enabled)=="boolean"?e.enabled:(n=(r=t==null?void 0:t.__default)===null||r===void 0?void 0:r.enabled)!==null&&n!==void 0?n:!0}var mu=L(()=>{});function Bd(t){return t.toLowerCase().replace(".","").replace(/\s+/g,"-")}function qd(t,e){return e===void 0&&(e=!1),e?btoa(t).replace(/=/g,""):void 0}function Gd(t){return("Integration"in t?t.Integration:t).prototype.name}function ey(t,e,r){var n,i;try{var o=((i=(n=window==null?void 0:window.performance)===null||n===void 0?void 0:n.getEntriesByName(t,"resource"))!==null&&i!==void 0?i:[])[0];o&&e.stats.gauge("legacy_destination_time",Math.round(o.duration),W([r],o.duration<100?["cached"]:[],!0))}catch(a){}}function zd(t,e,r){var n;if("Integration"in t){var i={user:function(){return r.user()},addIntegration:function(){}};t(i),n=t.Integration}else n=t;var o=new n(e);return o.analytics=r,o}function Vd(t,e,r,n){return O(this,void 0,void 0,function(){var i,o,a,s,c,l;return A(this,function(u){switch(u.label){case 0:i=Bd(e),o=qd(i,n),a=Kn(),s="".concat(a,"/integrations/").concat(o!=null?o:i,"/").concat(r,"/").concat(o!=null?o:i,".dynamic.js.gz"),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,vt(s)];case 2:return u.sent(),ey(s,t,e),[3,4];case 3:throw c=u.sent(),t.stats.gauge("legacy_destination_time",-1,["plugin:".concat(e),"failed"]),c;case 4:return l=window["".concat(i,"Deps")],[4,Promise.all(l.map(function(f){return vt(a+f+".gz")}))];case 5:return u.sent(),window["".concat(i,"Loader")](),[2,window["".concat(i,"Integration")]]}})})}function Hd(t,e,r){return O(this,void 0,void 0,function(){var n,i,o,a;return A(this,function(s){return n=Kn(),i=Bd(t),o=qd(t,r),a="".concat(n,"/integrations/").concat(o!=null?o:i,"/").concat(e,"/").concat(o!=null?o:i,".dynamic.js.gz"),[2,Cd(a)]})})}function Kd(t){var e,r,n,i;return(i=(r=(e=t==null?void 0:t.versionSettings)===null||e===void 0?void 0:e.override)!==null&&r!==void 0?r:(n=t==null?void 0:t.versionSettings)===null||n===void 0?void 0:n.version)!==null&&i!==void 0?i:"latest"}var Yd=L(()=>{j();Yn();ko()});var Wd,$d,Jd=L(()=>{Wd=function(t,e){var r,n=e.type,i=e.bundlingStatus,o=e.versionSettings,a=i!=="unbundled"&&(n==="browser"||((r=o==null?void 0:o.componentTypes)===null||r===void 0?void 0:r.includes("browser")));return!t.startsWith("Segment")&&t!=="Iterable"&&a},$d=function(t,e){var r=e.All===!1&&e[t]===void 0;return e[t]===!1||r}});var Qd={};gt(Qd,{LegacyDestination:()=>Xd,ajsDestinations:()=>ry});function ty(t,e){return O(this,void 0,void 0,function(){var r,n=this;return A(this,function(i){switch(i.label){case 0:return r=[],ke()?[2,e]:[4,Po(function(){return e.length>0&&ws()},function(){return O(n,void 0,void 0,function(){var o,a,s;return A(this,function(c){switch(c.label){case 0:return o=e.pop(),o?[4,pt(o,t)]:[2];case 1:return a=c.sent(),s=a instanceof ce,s||r.push(o),[2]}})})})];case 1:return i.sent(),r.map(function(o){return e.pushWithBackoff(o)}),[2,e]}})})}function ry(t,e,r,n,i,o){var a,s;if(r===void 0&&(r={}),n===void 0&&(n={}),uo())return[];e.plan&&(n=n!=null?n:{},n.plan=e.plan);var c=(s=(a=e.middlewareSettings)===null||a===void 0?void 0:a.routingRules)!==null&&s!==void 0?s:[],l=e.integrations,u=n.integrations,f=Co(e,n!=null?n:{}),d=o==null?void 0:o.reduce(function(p,v){var g;return x(x({},p),(g={},g[Gd(v)]=v,g))},{}),m=new Set(W(W([],Object.keys(l).filter(function(p){return Wd(p,l[p])}),!0),Object.keys(d||{}).filter(function(p){return ie(l[p])||ie(u==null?void 0:u[p])}),!0));return Array.from(m).filter(function(p){return!$d(p,r)}).map(function(p){var v=l[p],g=Kd(v),b=new Xd(p,g,t,f[p],n,d==null?void 0:d[p]),y=c.filter(function(w){return w.destinationName===p});return y.length>0&&i&&b.addMiddleware(i),b})}var rt,Xd,Zd=L(()=>{j();rt=yt(Qs());Dr();Je();Cn();we();mu();su();fu();Pn();Ln();To();Yd();we();Jd();uu();Kt();Xd=function(){function t(e,r,n,i,o,a){i===void 0&&(i={});var s=this;this.options={},this.type="destination",this.middleware=[],this.initializePromise=Lr(),this.flushing=!1,this.name=e,this.version=r,this.settings=x({},i),this.disableAutoISOConversion=o.disableAutoISOConversion||!1,this.integrationSource=a,this.settings.type&&this.settings.type==="browser"&&delete this.settings.type,this.initializePromise.promise.then(function(c){return s._initialized=c},function(){}),this.options=o,this.buffer=o.disableClientPersistence?new dt(4,[]):new Rt(4,"".concat(n,":dest-").concat(e)),this.scheduleFlush()}return t.prototype.isLoaded=function(){return!!this._ready},t.prototype.ready=function(){var e=this;return this.initializePromise.promise.then(function(){var r;return(r=e.onReady)!==null&&r!==void 0?r:Promise.resolve()})},t.prototype.load=function(e,r){var n;return O(this,void 0,void 0,function(){var i,o,a=this;return A(this,function(s){switch(s.label){case 0:return this._ready||this.onReady!==void 0?[2]:(n=this.integrationSource)!==null&&n!==void 0?(o=n,[3,3]):[3,1];case 1:return[4,Vd(e,this.name,this.version,this.options.obfuscate)];case 2:o=s.sent(),s.label=3;case 3:i=o,this.integration=zd(i,this.settings,r),this.onReady=new Promise(function(c){var l=function(){a._ready=!0,c(!0)};a.integration.once("ready",l)}),this.integration.on("initialize",function(){a.initializePromise.resolve(!0)});try{tt(e,{integrationName:this.name,methodName:"initialize",type:"classic"}),this.integration.initialize()}catch(c){throw tt(e,{integrationName:this.name,methodName:"initialize",type:"classic",didError:!0}),this.initializePromise.resolve(!1),c}return[2]}})})},t.prototype.unload=function(e,r){return Hd(this.name,this.version,this.options.obfuscate)},t.prototype.addMiddleware=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];this.middleware=(e=this.middleware).concat.apply(e,r)},t.prototype.shouldBuffer=function(e){return e.event.type!=="page"&&(ke()||this._ready!==!0||this._initialized!==!0)},t.prototype.send=function(e,r,n){var i,o;return O(this,void 0,void 0,function(){var a,s,c,l,u,f;return A(this,function(d){switch(d.label){case 0:return this.shouldBuffer(e)?(this.buffer.push(e),this.scheduleFlush(),[2,e]):(a=(o=(i=this.options)===null||i===void 0?void 0:i.plan)===null||o===void 0?void 0:o.track,s=e.event.event,a&&s&&this.name!=="Segment.io"&&(c=a[s],No(a,c)?e.updateEvent("integrations",x(x({},e.event.integrations),c==null?void 0:c.integrations)):(e.updateEvent("integrations",x(x({},e.event.integrations),{All:!1,"Segment.io":!0})),e.cancel(new be({retry:!1,reason:"Event ".concat(s," disabled for integration ").concat(this.name," in tracking plan"),type:"Dropped by plan"}))),c!=null&&c.enabled&&(c==null?void 0:c.integrations[this.name])===!1&&e.cancel(new be({retry:!1,reason:"Event ".concat(s," disabled for integration ").concat(this.name," in tracking plan"),type:"Dropped by plan"}))),[4,Vn(this.name,e.event,this.middleware)]);case 1:if(l=d.sent(),l===null)return[2,e];u=new r(l,{traverse:!this.disableAutoISOConversion}),tt(e,{integrationName:this.name,methodName:n,type:"classic"}),d.label=2;case 2:return d.trys.push([2,5,,6]),this.integration?[4,this.integration.invoke.call(this.integration,n,u)]:[3,4];case 3:d.sent(),d.label=4;case 4:return[3,6];case 5:throw f=d.sent(),tt(e,{integrationName:this.name,methodName:n,type:"classic",didError:!0}),f;case 6:return[2,e]}})})},t.prototype.track=function(e){return O(this,void 0,void 0,function(){return A(this,function(r){return[2,this.send(e,rt.Track,"track")]})})},t.prototype.page=function(e){var r;return O(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return!((r=this.integration)===null||r===void 0)&&r._assumesPageview&&!this._initialized&&this.integration.initialize(),[4,this.initializePromise.promise];case 1:return n.sent(),[2,this.send(e,rt.Page,"page")]}})})},t.prototype.identify=function(e){return O(this,void 0,void 0,function(){return A(this,function(r){return[2,this.send(e,rt.Identify,"identify")]})})},t.prototype.alias=function(e){return O(this,void 0,void 0,function(){return A(this,function(r){return[2,this.send(e,rt.Alias,"alias")]})})},t.prototype.group=function(e){return O(this,void 0,void 0,function(){return A(this,function(r){return[2,this.send(e,rt.Group,"group")]})})},t.prototype.scheduleFlush=function(){var e=this;this.flushing||setTimeout(function(){return O(e,void 0,void 0,function(){var r;return A(this,function(n){switch(n.label){case 0:return ke()||this._ready!==!0||this._initialized!==!0?(this.scheduleFlush(),[2]):(this.flushing=!0,r=this,[4,ty(this,this.buffer)]);case 1:return r.buffer=n.sent(),this.flushing=!1,this.buffer.todo>0&&this.scheduleFlush(),[2]}})})},Math.random()*5e3)},t}()});var ep=Z((Mo,vu)=>{(function(t,e){typeof Mo=="object"&&typeof vu=="object"?vu.exports=e():typeof define=="function"&&define.amd?define([],e):typeof Mo=="object"?Mo.analyticsVideoPlugins=e():t.analyticsVideoPlugins=e()})(window,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(n,i,o){r.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:o})},r.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,i){if(1&i&&(n=r(n)),8&i||4&i&&typeof n=="object"&&n&&n.__esModule)return n;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&i&&typeof n!="string")for(var a in n)r.d(o,a,(function(s){return n[s]}).bind(null,a));return o},r.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(i,"a",i),i},r.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},r.p="",r(r.s=2)}([function(t,e,r){"use strict";r.r(e);var n=typeof fetch=="function"?fetch.bind():function(i,o){return o=o||{},new Promise(function(a,s){var c=new XMLHttpRequest;for(var l in c.open(o.method||"get",i,!0),o.headers)c.setRequestHeader(l,o.headers[l]);function u(){var f,d=[],m=[],p={};return c.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(v,g,b){d.push(g=g.toLowerCase()),m.push([g,b]),f=p[g],p[g]=f?f+","+b:b}),{ok:(c.status/100|0)==2,status:c.status,statusText:c.statusText,url:c.responseURL,clone:u,text:function(){return Promise.resolve(c.responseText)},json:function(){return Promise.resolve(c.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([c.response]))},headers:{keys:function(){return d},entries:function(){return m},get:function(v){return p[v.toLowerCase()]},has:function(v){return v.toLowerCase()in p}}}}c.withCredentials=o.credentials=="include",c.onload=function(){a(u())},c.onerror=s,c.send(o.body)})};e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function o(a,s){for(var c=0;c<s.length;c++){var l=s[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(a,l.key,l)}}return function(a,s,c){return s&&o(a.prototype,s),c&&o(a,c),a}}(),i=function(){function o(a,s){(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,o),this.pluginName=a}return n(o,[{key:"track",value:function(a,s){window.analytics.track(a,s,{integration:{name:this.pluginName}})}}]),o}();e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.YouTubeAnalytics=e.VimeoAnalytics=void 0;var n=o(r(3)),i=o(r(4));function o(a){return a&&a.__esModule?a:{default:a}}e.VimeoAnalytics=n.default,e.YouTubeAnalytics=i.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function s(c,l){for(var u=0;u<l.length;u++){var f=l[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}return function(c,l,u){return l&&s(c.prototype,l),u&&s(c,u),c}}(),i=o(r(0));function o(s){return s&&s.__esModule?s:{default:s}}var a=function(s){function c(l,u){(function(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")})(this,c);var f=function(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?d:m}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,"VimeoAnalytics"));return f.authToken=u,f.player=l,f.metadata={content:{},playback:{videoPlayer:"Vimeo"}},f.mostRecentHeartbeat=0,f.isPaused=!1,f}return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}(c,s),n(c,[{key:"initialize",value:function(){var l=this,u={loaded:this.retrieveMetadata,play:this.trackPlay,pause:this.trackPause,ended:this.trackEnded,timeupdate:this.trackHeartbeat};for(var f in u)this.registerHandler(f,u[f]);this.player.getVideoId().then(function(d){l.retrieveMetadata({id:d})}).catch(console.error)}},{key:"registerHandler",value:function(l,u){var f=this;this.player.on(l,function(d){f.updateMetadata(d),u.call(f,d)})}},{key:"trackPlay",value:function(){this.isPaused?(this.track("Video Playback Resumed",this.metadata.playback),this.isPaused=!1):(this.track("Video Playback Started",this.metadata.playback),this.track("Video Content Started",this.metadata.content))}},{key:"trackEnded",value:function(){this.track("Video Playback Completed",this.metadata.playback),this.track("Video Content Completed",this.metadata.content)}},{key:"trackHeartbeat",value:function(){var l=this.mostRecentHeartbeat,u=this.metadata.playback.position;u!==l&&u-l>=10&&(this.track("Video Content Playing",this.metadata.content),this.mostRecentHeartbeat=Math.floor(u))}},{key:"trackPause",value:function(){this.isPaused=!0,this.track("Video Playback Paused",this.metadata.playback)}},{key:"retrieveMetadata",value:function(l){var u=this;return new Promise(function(f,d){var m=l.id;(0,i.default)("https://api.vimeo.com/videos/"+m,{headers:{Authorization:"Bearer "+u.authToken}}).then(function(p){return p.ok?p.json():d(p)}).then(function(p){u.metadata.content.title=p.name,u.metadata.content.description=p.description,u.metadata.content.publisher=p.user.name,u.metadata.playback.position=0,u.metadata.playback.totalLength=p.duration}).catch(function(p){return console.error("Request to Vimeo API Failed with: ",p),d(p)})})}},{key:"updateMetadata",value:function(l){var u=this;return new Promise(function(f,d){u.player.getVolume().then(function(m){m&&(u.metadata.playback.sound=100*m),u.metadata.playback.position=l.seconds,f()}).catch(d)})}}]),c}(o(r(1)).default);e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function l(u,f){for(var d=0;d<f.length;d++){var m=f[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}return function(u,f,d){return f&&l(u.prototype,f),d&&l(u,d),u}}(),i=a(r(0)),o=a(r(1));function a(l){return l&&l.__esModule?l:{default:l}}var s=function(l){function u(f,d){(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,u);var m=function(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||typeof v!="object"&&typeof v!="function"?p:v}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,"YoutubeAnalytics"));return m.player=f,m.apiKey=d,m.playerLoaded=!1,m.playbackStarted=!1,m.contentStarted=!1,m.isPaused=!1,m.isBuffering=!1,m.isSeeking=!1,m.lastRecordedTime={timeReported:Date.now(),timeElapsed:0},m.metadata=[{playback:{video_player:"youtube"},content:{}}],m.playlistIndex=0,m}return function(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}(u,l),n(u,[{key:"initialize",value:function(){window.segmentYoutubeOnStateChange=this.onPlayerStateChange.bind(this),window.segmentYoutubeOnReady=this.onPlayerReady.bind(this),this.player.addEventListener("onReady","segmentYoutubeOnReady"),this.player.addEventListener("onStateChange","segmentYoutubeOnStateChange")}},{key:"onPlayerReady",value:function(f){this.retrieveMetadata()}},{key:"onPlayerStateChange",value:function(f){var d=this.player.getCurrentTime();switch(this.metadata[this.playlistIndex]&&(this.metadata[this.playlistIndex].playback.position=this.metadata[this.playlistIndex].content.position=d,this.metadata[this.playlistIndex].playback.quality=this.player.getPlaybackQuality(),this.metadata[this.playlistIndex].playback.sound=this.player.isMuted()?0:this.player.getVolume()),f.data){case-1:if(this.playerLoaded)break;this.retrieveMetadata(),this.playerLoaded=!0;break;case YT.PlayerState.BUFFERING:this.handleBuffer();break;case YT.PlayerState.PLAYING:this.handlePlay();break;case YT.PlayerState.PAUSED:this.handlePause();break;case YT.PlayerState.ENDED:this.handleEnd()}this.lastRecordedTime={timeReported:Date.now(),timeElapsed:1e3*this.player.getCurrentTime()}}},{key:"retrieveMetadata",value:function(){var f=this;return new Promise(function(d,m){var p=f.player.getVideoData(),v=f.player.getPlaylist()||[p.video_id],g=v.join();(0,i.default)("https://www.googleapis.com/youtube/v3/videos?id="+g+"&part=snippet,contentDetails&key="+f.apiKey).then(function(b){if(!b.ok){var y=new Error("Segment request to Youtube API failed (likely due to a bad API Key. Events will still be sent but will not contain video metadata)");throw y.response=b,y}return b.json()}).then(function(b){f.metadata=[];for(var y=0,w=0;w<v.length;w++){var I=b.items[w];f.metadata.push({content:{title:I.snippet.title,description:I.snippet.description,keywords:I.snippet.tags,channel:I.snippet.channelTitle,airdate:I.snippet.publishedAt}}),y+=c(I.contentDetails.duration)}for(w=0;w<v.length;w++)f.metadata[w].playback={total_length:y,video_player:"youtube"};d()}).catch(function(b){f.metadata=v.map(function(y){return{playback:{video_player:"youtube"},content:{}}}),m(b)})})}},{key:"handleBuffer",value:function(){var f=this.determineSeek();this.playbackStarted||(this.playbackStarted=!0,this.track("Video Playback Started",this.metadata[this.playlistIndex].playback)),f&&!this.isSeeking&&(this.isSeeking=!0,this.track("Video Playback Seek Started",this.metadata[this.playlistIndex].playback)),this.isSeeking&&(this.track("Video Playback Seek Completed",this.metadata[this.playlistIndex].playback),this.isSeeking=!1);var d=this.player.getPlaylist();d&&this.player.getCurrentTime()===0&&this.player.getPlaylistIndex()!==this.playlistIndex&&(this.contentStarted=!1,this.playlistIndex===d.length-1&&this.player.getPlaylistIndex()===0&&(this.track("Video Playback Completed",this.metadata[this.player.getPlaylistIndex()].playback),this.track("Video Playback Started",this.metadata[this.player.getPlaylistIndex()].playback))),this.track("Video Playback Buffer Started",this.metadata[this.playlistIndex].playback),this.isBuffering=!0}},{key:"handlePlay",value:function(){this.contentStarted||(this.playlistIndex=this.player.getPlaylistIndex(),this.playlistIndex===-1&&(this.playlistIndex=0),this.track("Video Content Started",this.metadata[this.playlistIndex].content),this.contentStarted=!0),this.isBuffering&&(this.track("Video Playback Buffer Completed",this.metadata[this.playlistIndex].playback),this.isBuffering=!1),this.isPaused&&(this.track("Video Playback Resumed",this.metadata[this.playlistIndex].playback),this.isPaused=!1)}},{key:"handlePause",value:function(){var f=this.determineSeek();this.isBuffering&&(this.track("Video Playback Buffer Completed",this.metadata[this.playlistIndex].playback),this.isBuffering=!1),this.isPaused||(f?(this.track("Video Playback Seek Started",this.metadata[this.playlistIndex].playback),this.isSeeking=!0):(this.track("Video Playback Paused",this.metadata[this.playlistIndex].playback),this.isPaused=!0))}},{key:"handleEnd",value:function(){this.track("Video Content Completed",this.metadata[this.playlistIndex].content),this.contentStarted=!1;var f=this.player.getPlaylistIndex(),d=this.player.getPlaylist();(d&&f===d.length-1||f===-1)&&(this.track("Video Playback Completed",this.metadata[this.playlistIndex].playback),this.playbackStarted=!1)}},{key:"determineSeek",value:function(){var f=this.isPaused||this.isBuffering?0:Date.now()-this.lastRecordedTime.timeReported,d=1e3*this.player.getCurrentTime()-this.lastRecordedTime.timeElapsed;return Math.abs(f-d)>2e3}}]),u}(o.default);function c(l){var u=l.match(/PT(\d+H)?(\d+M)?(\d+S)?/);return u=u.slice(1).map(function(f){if(f!=null)return f.replace(/\D/,"")}),3600*(parseInt(u[0])||0)+60*(parseInt(u[1])||0)+(parseInt(u[2])||0)}e.default=s}])})});var tp={};gt(tp,{loadLegacyVideoPlugins:()=>ny});function ny(t){return O(this,void 0,void 0,function(){var e;return A(this,function(r){switch(r.label){case 0:return[4,Promise.resolve().then(()=>yt(ep()))];case 1:return e=r.sent(),t._plugins=e,[2]}})})}var rp=L(()=>{j()});var np={};gt(np,{schemaFilter:()=>oy});function iy(t,e){var r,n;if(!t||!Object.keys(t))return{};var i=t.integrations?Object.keys(t.integrations).filter(function(a){return t.integrations[a]===!1}):[],o=[];return((r=e.remotePlugins)!==null&&r!==void 0?r:[]).forEach(function(a){i.forEach(function(s){a.creationName==s&&o.push(a.name)})}),((n=e.remotePlugins)!==null&&n!==void 0?n:[]).reduce(function(a,s){return s.settings.subscriptions&&o.includes(s.name)&&s.settings.subscriptions.forEach(function(c){return a["".concat(s.name," ").concat(c.partnerAction)]=!1}),a},{})}function oy(t,e){function r(n){var i=t,o=n.event.event;if(i&&o){var a=i[o];if(No(i,a)){var s=iy(a,e);n.updateEvent("integrations",x(x(x({},n.event.integrations),a==null?void 0:a.integrations),s))}else return n.updateEvent("integrations",x(x({},n.event.integrations),{All:!1,"Segment.io":!0})),n}return n}return{name:"Schema Filter",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},type:"before",page:r,alias:r,track:r,identify:r,group:r}}var ip=L(()=>{j();mu()});var op={};gt(op,{remoteMiddlewares:()=>ay});function ay(t,e,r){var n;return O(this,void 0,void 0,function(){var i,o,a,s,c,l=this;return A(this,function(u){switch(u.label){case 0:return uo()?[2,[]]:(i=Kn(),o=(n=e.enabledMiddleware)!==null&&n!==void 0?n:{},a=Object.entries(o).filter(function(f){var d=f[0],m=f[1];return m}).map(function(f){var d=f[0];return d}),s=a.map(function(f){return O(l,void 0,void 0,function(){var d,m,p,v;return A(this,function(g){switch(g.label){case 0:d=f.replace("@segment/",""),m=d,r&&(m=btoa(d).replace(/=/g,"")),p="".concat(i,"/middleware/").concat(m,"/latest/").concat(m,".js.gz"),g.label=1;case 1:return g.trys.push([1,3,,4]),[4,vt(p)];case 2:return g.sent(),[2,window["".concat(d,"Middleware")]];case 3:return v=g.sent(),t.log("error",v),t.stats.increment("failed_remote_middleware"),[3,4];case 4:return[2]}})})}),[4,Promise.all(s)]);case 1:return c=u.sent(),c=c.filter(Boolean),[2,c]}})})}var ap=L(()=>{j();Cn();ko();Yn()});var Ep=new RegExp("([\\p{Ll}\\d])(\\p{Lu})","gu"),Ip=new RegExp("(\\p{Lu})([\\p{Lu}][\\p{Ll}])","gu"),Tp=new RegExp("(\\d)\\p{Ll}|(\\p{L})\\d","u"),Op=new RegExp("[^\\p{L}\\d]+","giu"),Ru="$1\0$2",Pu="";function Lu(t){let e=t.trim();e=e.replace(Ep,Ru).replace(Ip,Ru),e=e.replace(Op,"\0");let r=0,n=e.length;for(;e.charAt(r)==="\0";)r++;if(r===n)return[];for(;e.charAt(n-1)==="\0";)n--;return e.slice(r,n).split(/\0/g)}function Ap(t){var r;let e=Lu(t);for(let n=0;n<e.length;n++){let i=e[n],o=Tp.exec(i);if(o){let a=o.index+((r=o[1])!=null?r:o[2]).length;e.splice(n,1,i.slice(0,a),i.slice(a))}}return e}function ri(t,e){var c;let[r,n,i]=Lp(t,e),o=Cp(e==null?void 0:e.locale),a=kp(e==null?void 0:e.locale),s=e!=null&&e.mergeAmbiguousCharacters?Rp(o,a):Pp(o,a);return r+n.map(s).join((c=e==null?void 0:e.delimiter)!=null?c:"")+i}function Cp(t){return t===!1?e=>e.toLowerCase():e=>e.toLocaleLowerCase(t)}function kp(t){return t===!1?e=>e.toUpperCase():e=>e.toLocaleUpperCase(t)}function Rp(t,e){return r=>"".concat(e(r[0])).concat(t(r.slice(1)))}function Pp(t,e){return(r,n)=>{let i=r[0];return(n>0&&i>="0"&&i<="9"?"_"+i:e(i))+t(r.slice(1))}}function Lp(t,e={}){var s,c,l;let r=(s=e.split)!=null?s:e.separateNumbers?Ap:Lu,n=(c=e.prefixCharacters)!=null?c:Pu,i=(l=e.suffixCharacters)!=null?l:Pu,o=0,a=t.length;for(;o<t.length;){let u=t.charAt(o);if(!n.includes(u))break;o++}for(;a>o;){let u=a-1,f=t.charAt(u);if(!i.includes(f))break;a=u}return[t.slice(0,o),r(t.slice(o,a)),t.slice(a)]}function Np(t,e){return t===e.defaultVariant?!0:Object.keys(e.variants).includes(t)}function Mp(t){return"exp-".concat(t)}function Nu(t,e){let r={};for(let n of Object.keys(e).map(i=>i)){let i=e[n],o=Mp(n),a=t.get(o);a!=null&&Np(a,i)&&(r[n]=a)}return r}function Mu(t,e){let r=e.getAllUserVariants(t,navigator.userAgent),n={};for(let[i,o]of Object.entries(r))n["experiment".concat(ri(i))]=o;return n}var bt="activity.page-init",or="activity.page-exit";function Du(t,e){let r=t.logger.extend("activity-handler");t.registerHandler("activity-handler",(n,i)=>{switch(n){case or:return r.debug("ACTIVITY_EVENT",()=>({type:n,payload:i})),e.track("page.exit",P(P({},i.data),i.properties)),!0;case bt:return r.debug("ACTIVITY_EVENT",()=>({type:n,payload:i})),e.page(typeof i.properties.pageId=="string"?i.properties.pageId:"unknown",P(P({},i.data),i.properties)),!0}return!1})}var ni=class{constructor(e){E(this,"prefix");this.prefix=e}buildKey(e){return"".concat(this.prefix,":").concat(e)}setItem(e,r,n=-1){localStorage.setItem(this.buildKey(e),JSON.stringify({value:r,expires:n>0?Date.now()+n:-1}))}getItem(e){let r=localStorage.getItem(this.buildKey(e));if(r==null)return null;let n=JSON.parse(r);return 0<n.expires&&n.expires<=Date.now()?null:n.value}isItemExpired(e){let r=localStorage.getItem(this.buildKey(e));if(r==null)return!0;let n=JSON.parse(r);return 0<n.expires&&n.expires<=Date.now()}};var se=[];for(ii=0;ii<256;++ii)se.push((ii+256).toString(16).slice(1));var ii;function Uu(t,e=0){return(se[t[e+0]]+se[t[e+1]]+se[t[e+2]]+se[t[e+3]]+"-"+se[t[e+4]]+se[t[e+5]]+"-"+se[t[e+6]]+se[t[e+7]]+"-"+se[t[e+8]]+se[t[e+9]]+"-"+se[t[e+10]]+se[t[e+11]]+se[t[e+12]]+se[t[e+13]]+se[t[e+14]]+se[t[e+15]]).toLowerCase()}var oi,Dp=new Uint8Array(16);function Xo(){if(!oi&&(oi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!oi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oi(Dp)}var Up=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Qo={randomUUID:Up};function Fp(t,e,r){if(Qo.randomUUID&&!e&&!t)return Qo.randomUUID();t=t||{};var n=t.random||(t.rng||Xo)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return Uu(n)}var Ke=Fp;var ai=class{constructor(e,r){E(this,"storage");E(this,"ttl");this.storage=e,this.ttl=r}getSessionStartOn(){var e;return(e=this.storage.getItem("analytics:session:start-on"))!=null?e:Date.now()}getSessionId(){var e;return(e=this.storage.getItem("analytics:session:id"))!=null?e:Ke()}isSessionExpired(){var e;return(e=this.storage.isItemExpired("analytics:session:id"))!=null?e:!0}saveSession(e,r){this.storage.setItem("analytics:session:id",e,this.ttl),this.storage.setItem("analytics:session:start-on",r,this.ttl)}};var Zo="activity-plugin",ea=class{constructor(e,r,n,i){E(this,"router");E(this,"pageTTL");E(this,"repository");E(this,"sessionId");E(this,"sessionStartOn");E(this,"pageDuration");E(this,"pageActiveStartTime");E(this,"logger");this.router=e,this.pageTTL=i,this.logger=e.logger.extend("activity-observer"),this.repository=new ai(new ni(r),n),this.sessionId=this.repository.getSessionId(),this.sessionStartOn=this.repository.getSessionStartOn(),this.pageDuration=0,this.pageActiveStartTime=Date.now()}run(){let e=this.router,r=this.repository,n=!0,i=!1,o=null,a=window.location.pathname,s=()=>{r.saveSession(this.sessionId,this.sessionStartOn)},c=()=>{let l=window.location.pathname;if(l==a)return;a=l,this.logger.debug("PAGE_CHANGE");let u={data:{cause:"pagechange"},properties:{}};e.publish(or,u),e.publish(bt,{data:null,properties:{}})};setInterval(()=>{c()},500),window.addEventListener("beforeunload",()=>{if(i)return;let l={data:{cause:"unload"},properties:{}};this.logger.debug("PAGE_UNLOAD"),e.publish(or,l),s()}),window.addEventListener("visibilitychange",()=>{if(document.visibilityState==="visible"){if(o!=null&&clearTimeout(o),n=!0,this.pageActiveStartTime=Date.now(),r.isSessionExpired()?(this.pageDuration=0,this.sessionId=Ke(),this.sessionStartOn=Date.now()):(this.sessionId=r.getSessionId(),this.sessionStartOn=r.getSessionStartOn()),i){this.pageDuration=0;let l={data:null,properties:{}};this.logger.debug("PAGE_ACTIVE"),e.publish(bt,l),i=!1}s()}else s(),n=!1,this.pageDuration+=Date.now()-this.pageActiveStartTime,this.pageActiveStartTime=Date.now(),o=setTimeout(()=>{let l={data:{cause:"inactive"},properties:{}};this.logger.debug("PAGE_INACTIVE_TIMEOUT"),e.publish(or,l),i=!0},this.pageTTL)}),setTimeout(()=>e.publish(bt,{data:null,properties:{}}),0)}};function Fu(t,e,r,n){if(t.hasPlugin(Zo))return t.getPlugin(Zo);let i=new ea(t,e,r,n);return t.registerPlugin(Zo,i),i.run(),i}var si="click";function ju(t,e){let r=t.logger.extend("click-handler");t.registerHandler("click-handler",(n,i)=>{switch(n){case si:{let o=i;return r.debug("CLICK_EVENT",()=>({type:n,payload:i})),e.track(o.data.event,P({},i.properties)),!0}}return!1})}var Bu="data-analytics-event-prop-";function qu(t,e){var o,a;let r=(a=(o=e.attributes.getNamedItem("data-analytics-event"))==null?void 0:o.value)!=null?a:null;if(r==null||r.length==0)return t.error("CLICK_EVENT",()=>({error:"ELEMENT_MISSING_DATA"})),null;let n={};for(let s=0;s<e.attributes.length;s++){let c=e.attributes.item(s),l=c==null?void 0:c.name;if(l==null||!l.startsWith(Bu))continue;let u=c==null?void 0:c.value;if(u==null||u.length==0){t.warn("CLICK_EVENT",()=>({error:"INVALID_ATTRIBUTE_VALUE",attribute:{name:l,value:u}}));continue}n[l.substring(Bu.length)]=u}let i=e.getAttribute("href");if(i!=null)try{if(i.startsWith("clkn")||i.startsWith("clkg")){i=i.substring(5),i.startsWith("https/")?i="https://"+i.substring(6):i.startsWith("http/")&&(i="http://"+i.substring(5));let c=new URL(i);n.link="".concat(c.origin).concat(c.pathname)}else i.startsWith("//")?i=window.location.origin+i.substring(1):(i.startsWith("/")||i.startsWith("#"))&&(i=window.location.origin+i);let s=new URL(i);n.link="".concat(s.origin).concat(s.pathname)}catch(s){t.warn("CLICK_EVENT",()=>({error:s,attribute:{name:"href",value:i}}))}return{data:{event:r},properties:n}}function jp(t,e,r){if(r.dataset.actionRegistered!=null){e.warn("CLICK_REGISTER_ERROR",()=>({error:"ALREADY_REGISTERED",$element:r}));return}r.dataset.actionRegistered="yes",r.addEventListener("click",()=>{let n=qu(e,r);n!=null&&(e.debug("CLICK"),t.publish(si,n))})}function Gu(t,e){let r=t.logger.extend("click-observer"),n=document.querySelectorAll("[data-analytics-event]");for(let i=0;i<n.length;i++)jp(t,r,n.item(i));e==null||e.registerTooltips("click-observer",()=>({elements:Array.from(n),getEvent:i=>{var a;let o=qu(r,i);return{type:(a=o==null?void 0:o.data.event)!=null?a:null,payload:o}}}))}var ar="form.submit-email";var Bp="form";function zu(t,e){let r=t.logger.extend("form-handler");t.registerHandler(Bp,async(n,i)=>{switch(n){case ar:{let o=i,a="".concat(e.source,".").concat(i.properties.pageId,".").concat(o.data.formType,"-form");r.debug("FORM_EMAIL_EVENT",()=>({type:n,payload:i}));let s=[];return o.data.phone!=null&&s.push({type:"phone",value:o.data.phone}),o.data.email!=null&&s.push({type:"email",value:o.data.email}),s.length==0&&r.warn("NO_IDENTIFIER",()=>({type:n,payload:i})),s.length>0&&o.data.formType!=="referral"?(await e.identify(s,a),await e.track("website.form",P(P({form:o.data.formType,formId:a},o.data),o.properties))):o.data.formType==="referral"&&(await e.enableSegment(),await e.track("refer",P(P({form:o.data.formType,formId:a},o.data),o.properties))),!0}}return!1})}function Vu(t){let e=t.getPlugin("activity-plugin");if(e==null)throw new Error("ACTIVITY_PLUGIN_MISSING");t.registerTransform("activity-transform",(r,n)=>Q(P({},n),{properties:P({pageDuration:(e.pageDuration+Date.now()-e.pageActiveStartTime)/1e3,sessionId:e.sessionId,sessionDuration:(Date.now()-e.sessionStartOn)/1e3,sessionActiveDuration:(Date.now()-e.sessionStartOn)/1e3},n.properties)}))}function ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}var qp={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function ta(t,e){function r(i,o,a){if(!(typeof document>"u")){a=ui({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var c in a)a[c]&&(s+="; "+c,a[c]!==!0&&(s+="="+a[c].split(";")[0]));return document.cookie=i+"="+t.write(o,i)+s}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],a={},s=0;s<o.length;s++){var c=o[s].split("="),l=c.slice(1).join("=");try{var u=decodeURIComponent(c[0]);if(a[u]=t.read(l,u),i===u)break}catch(f){}}return i?a[i]:a}}return Object.create({set:r,get:n,remove:function(i,o){r(i,"",ui({},o,{expires:-1}))},withAttributes:function(i){return ta(this.converter,ui({},this.attributes,i))},withConverter:function(i){return ta(ui({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Fe=ta(qp,{path:"/"});function Gp(){var r,n;let t=(r=Fe.get("_fbc"))!=null?r:null,e=(n=Fe.get("_fbp"))!=null?n:null;return{facebookClickId:t,facebookDeviceId:e}}function Hu(t){t.registerTransform("marketing",(e,r)=>e!==bt?r:Q(P({},r),{properties:P({},Gp())}))}function Ku(t,e,r,n){t.registerTransform("page",(i,o)=>Q(P({},o),{properties:P(P({source:e,pageId:r},n),o.properties)}))}async function ci(t,e){if(!t[e])return new Promise(r=>{let n;Object.defineProperty(t,e,{get(){return n},set(i){n=i,r()},enumerable:!0,configurable:!0})})}async function li(t,e=null){return e==null?await t:await Promise.race([t,new Promise((r,n)=>setTimeout(()=>n(new Error("promise-timeout")),e))])}async function Yu(t=2e3){window.wisepops||await ci(window,"wisepops")}function zp(t,e){var s,c,l,u,f,d,m,p,v;let r=e.querySelector('[name="email"]'),n=e.querySelector('[name="phone-number"]'),i=e.querySelector('[name="phone-dialcode"]');if(r==null&&n==null)return t.error("WISEPOP_FORM_SUBMITTED",()=>({error:"NO_IDENTIFIER_INPUT"})),null;let o=(c=(s=e.querySelector('[name="formType"]'))!=null?s:e.querySelector('[name="emailFormType"]'))!=null?c:e.querySelector('[name="phoneFormType"]'),a=(u=(l=e.querySelector('[name="formListId"]'))!=null?l:e.querySelector('[name="emailFormListId"]'))!=null?u:e.querySelector('[name="phoneFormListId"]');return{data:{email:(f=r==null?void 0:r.value)!=null?f:void 0,phone:n!=null?i!=null?i.value+" "+n.value:n.value:void 0,formType:(m=(d=e.dataset.analyticsType)!=null?d:o==null?void 0:o.value)!=null?m:"unknown",formListId:(v=(p=e.dataset.analyticsListId)!=null?p:a==null?void 0:a.value)!=null?v:void 0},properties:{}}}function Wu(t,e){if(!t.registerPublisher("email-form-wisepops-observer"))return;let r=t.logger.extend("form-observer-wisepops");window.wisepops("listen","after-form-submit",function(n){let i=n.target,o=zp(r,i);o!=null&&(r.debug("WISEPOP_FORM_SUBMITTED",()=>({payload:n.detail})),t.publish(ar,Q(P({},o),{properties:{wpDialogId:n.detail.popup.id,wpCampaignId:n.detail.popup.campaignId}})))})}async function $u(){if(document.readyState!=="complete")return new Promise(t=>addEventListener("load",()=>t()))}var ee={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},Pe=console,wt={};Object.keys(ee).forEach(function(t){wt[t]=Pe[t]});var an="Datadog Browser SDK:",z={debug:wt.debug.bind(Pe,an),log:wt.log.bind(Pe,an),info:wt.info.bind(Pe,an),warn:wt.warn.bind(Pe,an),error:wt.error.bind(Pe,an)},sn="https://docs.datadoghq.com",fi="".concat(sn,"/real_user_monitoring/browser/troubleshooting"),xt="More details:";function di(t,e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return t.apply(void 0,r)}catch(i){z.error(e,i)}}}function sr(t){return t!==0&&Math.random()*100<=t}function Ju(t){return Vp(t)&&t>=0&&t<=100}function Vp(t){return typeof t=="number"}var it=1e3,Ie=60*it,na=60*Ie,Hp=24*na,Xu=365*Hp;function Ut(){return new Date().getTime()}function pe(){return Ut()}function ur(){return performance.now()}function fe(){return{relative:ur(),timeStamp:pe()}}function Qu(){return{relative:0,timeStamp:rc()}}function Zu(t,e){return e-t}function ec(t,e){return t+e}function tc(t){return t-rc()}var ra;function rc(){return ra===void 0&&(ra=performance.timing.navigationStart),ra}var ve=1024,ia=1024*ve,Kp=/[^\u0000-\u007F]/;function cr(t){return Kp.test(t)?window.TextEncoder!==void 0?new TextEncoder().encode(t).length:new Blob([t]).size:t.length}function he(t,e){return t.indexOf(e)!==-1}function lr(t){if(Array.from)return Array.from(t);var e=[];if(t instanceof Set)t.forEach(function(n){return e.push(n)});else for(var r=0;r<t.length;r++)e.push(t[r]);return e}function nc(t,e){for(var r=0;r<t.length;r+=1){var n=t[r];if(e(n,r))return n}}function Ft(t){return Object.keys(t).map(function(e){return t[e]})}function ic(t){return Object.keys(t).map(function(e){return[e,t[e]]})}function fr(t,e){return t.slice(0,e.length)===e}function oc(t,e){return t.slice(-e.length)===e}function Y(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.forEach(function(n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}),t}function ac(t){return Y({},t)}function pi(t,e){return Object.keys(t).some(function(r){return t[r]===e})}function dr(t){return Object.keys(t).length===0}function Le(){if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var t=_dd_temp_;return delete Object.prototype._dd_temp_,typeof t!="object"&&(typeof self=="object"?t=self:typeof window=="object"?t=window:t={}),t}function _t(t,e){var r=Le(),n;return r.Zone&&typeof r.Zone.__symbol__=="function"&&(n=t[r.Zone.__symbol__(e)]),n||(n=t[e]),n}var Yp=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))},mi,sc=!1;function uc(t){mi=t}function oa(t){sc=t}function aa(t,e,r){var n=r.value;r.value=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=mi?B(n):n;return a.apply(this,i)}}function B(t){return function(){return ot(t,this,arguments)}}function ot(t,e,r){try{return t.apply(e,r)}catch(n){if(vi(n),mi)try{mi(n)}catch(i){vi(i)}}}function vi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];sc&&z.error.apply(z,Yp(["[MONITOR]"],t,!1))}function Ye(t,e){return _t(Le(),"setTimeout")(B(t),e)}function hi(t){_t(Le(),"clearTimeout")(t)}function pr(t,e){return _t(Le(),"setInterval")(B(t),e)}function mr(t){_t(Le(),"clearInterval")(t)}var V=function(){function t(e){this.onFirstSubscribe=e,this.observers=[]}return t.prototype.subscribe=function(e){var r=this;return this.observers.push(e),this.observers.length===1&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0),{unsubscribe:function(){r.observers=r.observers.filter(function(n){return e!==n}),!r.observers.length&&r.onLastUnsubscribe&&r.onLastUnsubscribe()}}},t.prototype.notify=function(e){this.observers.forEach(function(r){return r(e)})},t}();function gi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new V(function(r){var n=t.map(function(i){return i.subscribe(function(o){return r.notify(o)})});return function(){return n.forEach(function(i){return i.unsubscribe()})}})}function yi(t,e,r){var n=r&&r.leading!==void 0?r.leading:!0,i=r&&r.trailing!==void 0?r.trailing:!0,o=!1,a,s;return{throttled:function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];if(o){a=c;return}n?t.apply(void 0,c):a=c,o=!0,s=Ye(function(){i&&a&&t.apply(void 0,a),o=!1,a=void 0},e)},cancel:function(){hi(s),o=!1,a=void 0}}}function ge(){}function Ne(t){return t?(parseInt(t,10)^Math.random()*16>>parseInt(t,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,Ne)}var bi=/([\w-]+)\s*=\s*([^;]+)/g;function cc(t,e){for(bi.lastIndex=0;;){var r=bi.exec(t);if(r){if(r[1]===e)return r[2]}else break}}function lc(t){var e=new Map;for(bi.lastIndex=0;;){var r=bi.exec(t);if(r)e.set(r[1],r[2]);else break}return e}function fc(t,e,r){r===void 0&&(r="");var n=t.charCodeAt(e-1),i=n>=55296&&n<=56319,o=i?e+1:e;return t.length<=o?t:"".concat(t.slice(0,o)).concat(r)}function dc(){return Wp()===1}var wi;function Wp(){return wi!=null?wi:wi=$p()}function $p(t){var e;t===void 0&&(t=window);var r=t.navigator.userAgent;return t.chrome||/HeadlessChrome/.test(r)?1:((e=t.navigator.vendor)===null||e===void 0?void 0:e.indexOf("Apple"))===0||/safari/i.test(r)&&!/chrome|android/i.test(r)?2:t.document.documentMode?0:3}var St;(function(t){t.WRITABLE_RESOURCE_GRAPHQL="writable_resource_graphql",t.REMOTE_CONFIGURATION="remote_configuration",t.LONG_ANIMATION_FRAME="long_animation_frame",t.ANONYMOUS_USER_TRACKING="anonymous_user_tracking",t.ACTION_NAME_MASKING="action_name_masking",t.CONSISTENT_TRACE_SAMPLING="consistent_trace_sampling",t.DELAY_VIEWPORT_COLLECTION="delay_viewport_collection"})(St||(St={}));var sa=new Set;function ua(t){Array.isArray(t)&&pc(t.filter(function(e){return pi(St,e)}))}function pc(t){t.forEach(function(e){sa.add(e)})}function un(t){return sa.has(t)}function ca(){return sa}function vr(t,e,r,n){r===void 0&&(r=0);var i=new Date;i.setTime(i.getTime()+r);var o="expires=".concat(i.toUTCString()),a=n&&n.crossSite?"none":"strict",s=n&&n.domain?";domain=".concat(n.domain):"",c=n&&n.secure?";secure":"",l=n&&n.partitioned?";partitioned":"";document.cookie="".concat(t,"=").concat(e,";").concat(o,";path=/;samesite=").concat(a).concat(s).concat(c).concat(l)}function xi(t){return cc(document.cookie,t)}var la;function at(t){return la||(la=lc(document.cookie)),la.get(t)}function mc(t,e){vr(t,"",0,e)}function vc(t){if(document.cookie===void 0||document.cookie===null)return!1;try{var e="dd_cookie_test_".concat(Ne()),r="test";vr(e,r,Ie,t);var n=xi(e)===r;return mc(e,t),n}catch(i){return z.error(i),!1}}var fa;function hc(){if(fa===void 0){for(var t="dd_site_test_".concat(Ne()),e="test",r=window.location.hostname.split("."),n=r.pop();r.length&&!xi(t);)n="".concat(r.pop(),".").concat(n),vr(t,e,it,{domain:n});mc(t,{domain:n}),fa=n}return fa}var st="_dd_s";function hr(t){return t===null?"null":Array.isArray(t)?"array":typeof t}function _i(t){var e=Y({},t),r=["id","name","email"];return r.forEach(function(n){n in e&&(e[n]=String(e[n]))}),e}function da(t){var e=hr(t)==="object";return e||z.error("Unsupported user:",t),e}function gc(){return Math.floor(Math.random()*Math.pow(2,53)).toString(36)}var gr=4*na,Si=15*Ie,yc=Xu,Et={COOKIE:"cookie",LOCAL_STORAGE:"local-storage"};var pa=/^([a-zA-Z]+)=([a-z0-9-]+)$/,Ei="&";function bc(t){return!!t&&(t.indexOf(Ei)!==-1||pa.test(t))}var Jp="1";function We(t){var e={isExpired:Jp};return un(St.ANONYMOUS_USER_TRACKING)&&(t!=null&&t.anonymousId?e.anonymousId=t==null?void 0:t.anonymousId:e.anonymousId=gc()),e}function cn(t){return dr(t)}function Ii(t){return!cn(t)}function yr(t){return t.isExpired!==void 0||!Xp(t)}function Xp(t){return(t.created===void 0||Ut()-Number(t.created)<gr)&&(t.expire===void 0||Ut()<Number(t.expire))}function Ti(t){t.expire=String(Ut()+Si)}function ln(t){return ic(t).map(function(e){var r=e[0],n=e[1];return r==="anonymousId"?"aid=".concat(n):"".concat(r,"=").concat(n)}).join(Ei)}function Oi(t){var e={};return bc(t)&&t.split(Ei).forEach(function(r){var n=pa.exec(r);if(n!==null){var i=n[1],o=n[2];i==="aid"?e.anonymousId=o:e[i]=o}}),e}var Qp="_dd",Zp="_dd_r",em="_dd_l",tm="rum",rm="logs";function wc(t){var e=at(st);if(!e){var r=at(Qp),n=at(Zp),i=at(em),o={};r&&(o.id=r),i&&/^[01]$/.test(i)&&(o[rm]=i),n&&/^[012]$/.test(n)&&(o[tm]=n),Ii(o)&&(Ti(o),t.persistSession(o))}}function ma(t){var e=am(t);return vc(e)?{type:Et.COOKIE,cookieOptions:e}:void 0}function xc(t){var e={isLockEnabled:dc(),persistSession:nm(t),retrieveSession:om,expireSession:function(r){return im(t,r)}};return wc(e),e}function nm(t){return function(e){vr(st,ln(e),Si,t)}}function im(t,e){var r=We(e);vr(st,ln(r),un(St.ANONYMOUS_USER_TRACKING)?yc:gr,t)}function om(){var t=xi(st),e=Oi(t);return e}function am(t){var e={};return e.secure=!!t.useSecureSessionCookie||!!t.usePartitionedCrossSiteSessionCookie||!!t.useCrossSiteSessionCookie,e.crossSite=!!t.usePartitionedCrossSiteSessionCookie||!!t.useCrossSiteSessionCookie,e.partitioned=!!t.usePartitionedCrossSiteSessionCookie,t.trackSessionAcrossSubdomains&&(e.domain=hc()),e}var sm="_dd_test_";function va(){try{var t=Ne(),e="".concat(sm).concat(t);localStorage.setItem(e,t);var r=localStorage.getItem(e);return localStorage.removeItem(e),t===r?{type:Et.LOCAL_STORAGE}:void 0}catch(n){return}}function _c(){return{isLockEnabled:!1,persistSession:Sc,retrieveSession:um,expireSession:cm}}function Sc(t){localStorage.setItem(st,ln(t))}function um(){var t=localStorage.getItem(st);return Oi(t)}function cm(t){Sc(We(t))}var lm=10,fm=100,Ic=[],Ci;function It(t,e,r){var n;r===void 0&&(r=0);var i=e.isLockEnabled,o=e.persistSession,a=e.expireSession,s=function(d){return o(Y({},d,{lock:l}))},c=function(){var d=e.retrieveSession(),m=d.lock;return d.lock&&delete d.lock,{session:d,lock:m}};if(Ci||(Ci=t),t!==Ci){Ic.push(t);return}if(i&&r>=fm){Ec(e);return}var l,u=c();if(i){if(u.lock){Ai(t,e,r);return}if(l=Ne(),s(u.session),u=c(),u.lock!==l){Ai(t,e,r);return}}var f=t.process(u.session);if(i&&(u=c(),u.lock!==l)){Ai(t,e,r);return}if(f&&(yr(f)?a(f):(Ti(f),i?s(f):o(f))),i&&!(f&&yr(f))){if(u=c(),u.lock!==l){Ai(t,e,r);return}o(u.session),f=u.session}(n=t.after)===null||n===void 0||n.call(t,f||u.session),Ec(e)}function Ai(t,e,r){Ye(function(){It(t,e,r+1)},lm)}function Ec(t){Ci=void 0;var e=Ic.shift();e&&It(e,t)}var Tc=it;function Oc(t){switch(t.sessionPersistence){case Et.COOKIE:return ma(t);case Et.LOCAL_STORAGE:return va();case void 0:{var e=ma(t);return!e&&t.allowFallbackToLocalStorage&&(e=va()),e}default:z.error("Invalid session persistence '".concat(String(t.sessionPersistence),"'"))}}function Ac(t,e,r){var n=new V,i=new V,o=new V,a=t.type===Et.COOKIE?xc(t.cookieOptions):_c(),s=a.expireSession,c=pr(p,Tc),l;g();var u=yi(function(){It({process:function(h){if(!cn(h)){var T=v(h);return b(T),T}},after:function(h){Ii(h)&&!y()&&S(h),l=h}},a)},Tc),f=u.throttled,d=u.cancel;function m(){It({process:function(h){return y()?v(h):void 0}},a)}function p(){It({process:function(h){return yr(h)?We(h):void 0},after:v},a)}function v(h){return yr(h)&&(h=We(h)),y()&&(w(h)?I():(o.notify({previousState:l,newState:h}),l=h)),h}function g(){It({process:function(h){if(cn(h))return We(h)},after:function(h){l=h}},a)}function b(h){if(cn(h))return!1;var T=r(h[e]),C=T.trackingType,k=T.isTracked;h[e]=C,delete h.isExpired,k&&!h.id&&(h.id=Ne(),h.created=String(Ut()))}function y(){return l[e]!==void 0}function w(h){return l.id!==h.id||l[e]!==h[e]}function I(){l=We(l),i.notify()}function S(h){l=h,n.notify()}function _(h){It({process:function(T){return Y({},T,h)},after:v},a)}return{expandOrRenewSession:f,expandSession:m,getSession:function(){return l},renewObservable:n,expireObservable:i,sessionStateUpdateObservable:o,restartSession:g,expire:function(){d(),s(l),v(We(l))},stop:function(){mr(c)},updateSessionState:_}}var fn={GRANTED:"granted",NOT_GRANTED:"not-granted"};function ha(t){var e=new V;return{tryToInit:function(r){t||(t=r)},update:function(r){t=r,e.notify()},isGranted:function(){return t===fn.GRANTED},observable:e}}function Te(t,e,r){if(typeof t!="object"||t===null)return JSON.stringify(t);var n=jt(Object.prototype),i=jt(Array.prototype),o=jt(Object.getPrototypeOf(t)),a=jt(t);try{return JSON.stringify(t,e,r)}catch(s){return"<error: unable to serialize object>"}finally{n(),i(),o(),a()}}function jt(t){var e=t,r=e.toJSON;return r?(delete e.toJSON,function(){e.toJSON=r}):ge}function br(t){return dm(t,location.href).href}function dm(t,e){var r=pm();if(r)try{return e!==void 0?new r(t,e):new r(t)}catch(a){throw new Error("Failed to construct URL: ".concat(String(a)," ").concat(Te({url:t,base:e})))}if(e===void 0&&!/:/.test(t))throw new Error("Invalid URL: '".concat(t,"'"));var n=document,i=n.createElement("a");if(e!==void 0){n=document.implementation.createHTMLDocument("");var o=n.createElement("base");o.href=e,n.head.appendChild(o),n.body.appendChild(i)}return i.href=t,i}var Cc=URL,ki;function pm(){if(ki===void 0)try{var t=new Cc("http://test/path");ki=t.href==="http://test/path"}catch(e){ki=!1}return ki?Cc:void 0}var ga="datad0g.com",kc="dd0g-gov.com",ut="datadoghq.com";var ya="ddog-gov.com",Rc="pci.browser-intake-datadoghq.com",ba=["ddsource","ddtags"];function wr(t,e,r){var n=mm(t,e);return{build:function(i,o){var a=hm(t,e,r,i,o);return n(a)},urlPrefix:n(""),trackType:e}}function mm(t,e){var r="/api/v2/".concat(e),n=t.proxy;if(typeof n=="string"){var i=br(n);return function(a){return"".concat(i,"?ddforward=").concat(encodeURIComponent("".concat(r,"?").concat(a)))}}if(typeof n=="function")return function(a){return n({path:r,parameters:a})};var o=vm(e,t);return function(a){return"https://".concat(o).concat(r,"?").concat(a)}}function vm(t,e){var r=e.site,n=r===void 0?ut:r,i=e.internalAnalyticsSubdomain;if(t==="logs"&&e.usePciIntake&&n===ut)return Rc;if(i&&n===ut)return"".concat(i,".").concat(ut);if(n===kc)return"http-intake.logs.".concat(n);var o=n.split("."),a=o.pop();return"browser-intake-".concat(o.join("-"),".").concat(a)}function hm(t,e,r,n,i){var o=t.clientToken,a=t.internalAnalyticsSubdomain,s=i.retry,c=i.encoding,l=["sdk_version:".concat("5.35.0"),"api:".concat(n)].concat(r);s&&l.push("retry_count:".concat(s.count),"retry_after:".concat(s.lastFailureStatus));var u=["ddsource=browser","ddtags=".concat(encodeURIComponent(l.join(","))),"dd-api-key=".concat(o),"dd-evp-origin-version=".concat(encodeURIComponent("5.35.0")),"dd-evp-origin=browser","dd-request-id=".concat(Ne())];return c&&u.push("dd-evp-encoding=".concat(c)),e==="rum"&&u.push("batch_time=".concat(pe())),a&&u.reverse(),u.join("&")}var gm=200;function Pc(t){var e=t.env,r=t.service,n=t.version,i=t.datacenter,o=[];return e&&o.push(Ri("env",e)),r&&o.push(Ri("service",r)),n&&o.push(Ri("version",n)),i&&o.push(Ri("datacenter",i)),o}function Ri(t,e){var r=gm-t.length-1;(e.length>r||ym(e))&&z.warn("".concat(t," value doesn't meet tag requirements and will be sanitized. ").concat(xt," ").concat(sn,"/getting_started/tagging/#defining-tags"));var n=e.replace(/,/g,"_");return"".concat(t,":").concat(n)}function ym(t){return bm()?new RegExp("[^\\p{Ll}\\p{Lo}0-9_:./-]","u").test(t):!1}function bm(){try{return new RegExp("[\\p{Ll}]","u"),!0}catch(t){return!1}}function wa(t){var e=t.site||ut,r=Pc(t),n=wm(t,r),i=xm(t,r);return Y({replica:i,site:e},n)}function wm(t,e){return{logsEndpointBuilder:wr(t,"logs",e),rumEndpointBuilder:wr(t,"rum",e),sessionReplayEndpointBuilder:wr(t,"replay",e)}}function xm(t,e){if(t.replica){var r=Y({},t,{site:ut,clientToken:t.replica.clientToken}),n={logsEndpointBuilder:wr(r,"logs",e),rumEndpointBuilder:wr(r,"rum",e)};return Y({applicationId:t.replica.applicationId},n)}}function Pi(t){return ba.every(function(e){return he(t,e)})}function xa(t,e){return t!=null&&typeof t!="string"?(z.error("".concat(e," must be defined as a string")),!1):!0}function _m(t){return t&&typeof t=="string"&&!/(datadog|ddog|datad0g|dd0g)/.test(t)?(z.error("Site should be a valid Datadog site. ".concat(xt," ").concat(sn,"/getting_started/site/.")),!1):!0}function xr(t,e){return t!==void 0&&!Ju(t)?(z.error("".concat(e," Sample Rate should be a number between 0 and 100")),!1):!0}function Li(t){var e,r,n,i,o;if(!t||!t.clientToken){z.error("Client Token is not configured, we will not send any data.");return}if(!(!_m(t.site)||!xr(t.sessionSampleRate,"Session")||!xr(t.telemetrySampleRate,"Telemetry")||!xr(t.telemetryConfigurationSampleRate,"Telemetry Configuration")||!xr(t.telemetryUsageSampleRate,"Telemetry Usage")||!xa(t.version,"Version")||!xa(t.env,"Env")||!xa(t.service,"Service"))){if(t.trackingConsent!==void 0&&!pi(fn,t.trackingConsent)){z.error('Tracking Consent should be either "granted" or "not-granted"');return}return Y({beforeSend:t.beforeSend&&di(t.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:Oc(t),sessionSampleRate:(e=t.sessionSampleRate)!==null&&e!==void 0?e:100,telemetrySampleRate:(r=t.telemetrySampleRate)!==null&&r!==void 0?r:20,telemetryConfigurationSampleRate:(n=t.telemetryConfigurationSampleRate)!==null&&n!==void 0?n:5,telemetryUsageSampleRate:(i=t.telemetryUsageSampleRate)!==null&&i!==void 0?i:5,service:t.service||void 0,silentMultipleInit:!!t.silentMultipleInit,allowUntrustedEvents:!!t.allowUntrustedEvents,trackingConsent:(o=t.trackingConsent)!==null&&o!==void 0?o:fn.GRANTED,storeContextsAcrossPages:!!t.storeContextsAcrossPages,batchBytesLimit:16*ve,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*it,batchMessagesLimit:50,messageBytesLimit:256*ve},wa(t))}}function Ni(t){return{session_sample_rate:t.sessionSampleRate,telemetry_sample_rate:t.telemetrySampleRate,telemetry_configuration_sample_rate:t.telemetryConfigurationSampleRate,telemetry_usage_sample_rate:t.telemetryUsageSampleRate,use_before_send:!!t.beforeSend,use_cross_site_session_cookie:t.useCrossSiteSessionCookie,use_partitioned_cross_site_session_cookie:t.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:t.useSecureSessionCookie,use_proxy:!!t.proxy,silent_multiple_init:t.silentMultipleInit,track_session_across_subdomains:t.trackSessionAcrossSubdomains,session_persistence:t.sessionPersistence,allow_fallback_to_local_storage:!!t.allowFallbackToLocalStorage,store_contexts_across_pages:!!t.storeContextsAcrossPages,allow_untrusted_events:!!t.allowUntrustedEvents,tracking_consent:t.trackingConsent}}var dn="?";function ue(t){var e=[],r=_a(t,"stack"),n=String(t);return r&&fr(r,n)&&(r=r.slice(n.length)),r&&r.split("\n").forEach(function(i){var o=Om(i)||Cm(i)||Rm(i)||Nm(i);o&&(!o.func&&o.line&&(o.func=dn),e.push(o))}),{message:_a(t,"message"),name:_a(t,"name"),stack:e}}var Lc="((?:file|https?|blob|chrome-extension|electron|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",_r="(?::(\\d+))",Im=new RegExp("^\\s*at (.*?) ?\\(".concat(Lc).concat(_r,"?").concat(_r,"?\\)?\\s*$"),"i"),Tm=new RegExp("\\((\\S*)".concat(_r).concat(_r,"\\)"));function Om(t){var e=Im.exec(t);if(e){var r=e[2]&&e[2].indexOf("native")===0,n=e[2]&&e[2].indexOf("eval")===0,i=Tm.exec(e[2]);return n&&i&&(e[2]=i[1],e[3]=i[2],e[4]=i[3]),{args:r?[e[2]]:[],column:e[4]?+e[4]:void 0,func:e[1]||dn,line:e[3]?+e[3]:void 0,url:r?void 0:e[2]}}}var Am=new RegExp("^\\s*at ?".concat(Lc).concat(_r,"?").concat(_r,"??\\s*$"),"i");function Cm(t){var e=Am.exec(t);if(e)return{args:[],column:e[3]?+e[3]:void 0,func:dn,line:e[2]?+e[2]:void 0,url:e[1]}}var km=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function Rm(t){var e=km.exec(t);if(e)return{args:[],column:e[4]?+e[4]:void 0,func:e[1]||dn,line:+e[3],url:e[2]}}var Pm=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Lm=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Nm(t){var e=Pm.exec(t);if(e){var r=e[3]&&e[3].indexOf(" > eval")>-1,n=Lm.exec(e[3]);return r&&n&&(e[3]=n[1],e[4]=n[2],e[5]=void 0),{args:e[2]?e[2].split(","):[],column:e[5]?+e[5]:void 0,func:e[1]||dn,line:e[4]?+e[4]:void 0,url:e[3]}}}function _a(t,e){if(!(typeof t!="object"||!t||!(e in t))){var r=t[e];return typeof r=="string"?r:void 0}}function Nc(t,e,r,n){var i=[{url:e,column:n,line:r}],o=Dm(t),a=o.name,s=o.message;return{name:a,message:s,stack:i}}var Mm=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;function Dm(t){var e,r,n;return{}.toString.call(t)==="[object String]"&&(e=Mm.exec(t),r=e[1],n=e[2]),{name:r,message:n}}function Bt(){var t=2,e=new Error,r;if(!e.stack)try{throw e}catch(n){}return ot(function(){var n=ue(e);n.stack=n.stack.slice(t),r=Me(n)}),r}function Me(t){var e=Sa(t);return t.stack.forEach(function(r){var n=r.func==="?"?"<anonymous>":r.func,i=r.args&&r.args.length>0?"(".concat(r.args.join(", "),")"):"",o=r.line?":".concat(r.line):"",a=r.line&&r.column?":".concat(r.column):"";e+="\n  at ".concat(n).concat(i," @ ").concat(r.url).concat(o).concat(a)}),e}function Sa(t){return"".concat(t.name||"Error",": ").concat(t.message)}function $e(t,e,r,n){var i=n===void 0?{}:n,o=i.computeHandlingStack,a=t[e];if(typeof a!="function")if(e in t&&fr(e,"on"))a=ge;else return{stop:ge};var s=!1,c=function(){if(s)return a.apply(this,arguments);var l=lr(arguments),u;ot(r,null,[{target:this,parameters:l,onPostCall:function(d){u=d},handlingStack:o?Bt():void 0}]);var f=a.apply(this,l);return u&&ot(u,null,[f]),f};return t[e]=c,{stop:function(){s=!0,t[e]===c&&(t[e]=a)}}}var Um=220*ve,Fm="$",jm=3;function ye(t,e){e===void 0&&(e=Um);var r=jt(Object.prototype),n=jt(Array.prototype),i=[],o=new WeakMap,a=Ea(t,Fm,void 0,i,o),s=JSON.stringify(a),c=s?s.length:0;if(c>e){Ia(e,"discarded",t);return}for(;i.length>0&&c<e;){var l=i.shift(),u=0;if(Array.isArray(l.source))for(var f=0;f<l.source.length;f++){var d=Ea(l.source[f],l.path,f,i,o);if(d!==void 0?c+=JSON.stringify(d).length:c+=4,c+=u,u=1,c>e){Ia(e,"truncated",t);break}l.target[f]=d}else for(var f in l.source)if(Object.prototype.hasOwnProperty.call(l.source,f)){var d=Ea(l.source[f],l.path,f,i,o);if(d!==void 0&&(c+=JSON.stringify(d).length+u+f.length+jm,u=1),c>e){Ia(e,"truncated",t);break}l.target[f]=d}}return r(),n(),a}function Ea(t,e,r,n,i){var o=Gm(t);if(!o||typeof o!="object")return Bm(o);var a=qm(o);if(a!=="[Object]"&&a!=="[Array]"&&a!=="[Error]")return a;var s=t;if(i.has(s))return"[Reference seen at ".concat(i.get(s),"]");var c=r!==void 0?"".concat(e,".").concat(r):e,l=Array.isArray(o)?[]:{};return i.set(s,c),n.push({source:o,target:l,path:c}),l}function Bm(t){return typeof t=="bigint"?"[BigInt] ".concat(t.toString()):typeof t=="function"?"[Function] ".concat(t.name||"unknown"):typeof t=="symbol"?"[Symbol] ".concat(t.description||t.toString()):t}function qm(t){try{if(t instanceof Event)return{isTrusted:t.isTrusted};var e=Object.prototype.toString.call(t),r=e.match(/\[object (.*)\]/);if(r&&r[1])return"[".concat(r[1],"]")}catch(n){}return"[Unserializable]"}function Gm(t){var e=t;if(e&&typeof e.toJSON=="function")try{return e.toJSON()}catch(r){}return t}function Ia(t,e,r){z.warn("The data provided has been ".concat(e," as it is over the limit of ").concat(t," characters:"),r)}var Mi="No stack, consider using an instance of Error";function pn(t){var e=t.stackTrace,r=t.originalError,n=t.handlingStack,i=t.startClocks,o=t.nonErrorPrefix,a=t.source,s=t.handling,c=Oe(r),l=zm(e,c,o,r),u=Vm(c,e)?Me(e):Mi,f=c?Aa(r,a):void 0,d=e?e.name:void 0,m=Ta(r);return{startClocks:i,source:a,handling:s,handlingStack:n,originalError:r,type:d,message:l,stack:u,causes:f,fingerprint:m}}function zm(t,e,r,n){return t!=null&&t.message&&(t!=null&&t.name)?t.message:e?"Empty message":"".concat(r," ").concat(Te(ye(n)))}function Vm(t,e){return e===void 0?!1:t?!0:e.stack.length>0&&(e.stack.length>1||e.stack[0].url!==void 0)}function Ta(t){return Oe(t)&&"dd_fingerprint"in t?String(t.dd_fingerprint):void 0}function Oa(t){var e;return(e=/@ (.+)/.exec(t))===null||e===void 0?void 0:e[1]}function Oe(t){return t instanceof Error||Object.prototype.toString.call(t)==="[object Error]"}function Aa(t,e){for(var r=t,n=[];Oe(r==null?void 0:r.cause)&&n.length<10;){var i=ue(r.cause);n.push({message:r.cause.message,source:e,type:i==null?void 0:i.name,stack:i&&Me(i)}),r=r.cause}return n.length?n:void 0}var $={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function Ca(t){var e=function(i,o){var a=pn({stackTrace:i,originalError:o,startClocks:fe(),nonErrorPrefix:"Uncaught",source:$.SOURCE,handling:"unhandled"});t.notify(a)},r=Hm(e).stop,n=Km(e).stop;return{stop:function(){r(),n()}}}function Hm(t){return $e(window,"onerror",function(e){var r=e.parameters,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],c;Oe(s)?c=ue(s):c=Nc(n,i,o,a),t(c,s!=null?s:n)})}function Km(t){return $e(window,"onunhandledrejection",function(e){var r=e.parameters[0],n=r.reason||"Empty reason",i=ue(n);t(i,n)})}function ka(t){var e=Y({version:"5.35.0",onReady:function(r){r()}},t);return Object.defineProperty(e,"_setDebug",{get:function(){return oa},enumerable:!1}),e}function Ra(t,e,r){var n=t[e];n&&!n.q&&n.version&&z.warn("SDK is loaded more than once. This is unsupported and might have unexpected behavior."),t[e]=r,n&&n.q&&n.q.forEach(function(i){return di(i,"onReady callback threw an error:")()})}function mn(t,e){e.silentMultipleInit||z.error("".concat(t," is already initialized."))}function Ae(t,e,r,n,i){return vn(t,e,[r],n,i)}function vn(t,e,r,n,i){var o=i===void 0?{}:i,a=o.once,s=o.capture,c=o.passive,l=B(function(p){!p.isTrusted&&!p.__ddIsTrusted&&!t.allowUntrustedEvents||(a&&m(),n(p))}),u=c?{capture:s,passive:c}:s,f=window.EventTarget&&e instanceof EventTarget?window.EventTarget.prototype:e,d=_t(f,"addEventListener");r.forEach(function(p){return d.call(e,p,l,u)});function m(){var p=_t(f,"removeEventListener");r.forEach(function(v){return p.call(e,v,l,u)})}return{stop:m}}var Sr={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function Pa(t,e){var r=[];he(e,Sr.cspViolation)&&r.push(Wm(t));var n=e.filter(function(i){return i!==Sr.cspViolation});return n.length&&r.push(Ym(n)),gi.apply(void 0,r)}function Ym(t){return new V(function(e){if(window.ReportingObserver){var r=B(function(i,o){return i.forEach(function(a){return e.notify($m(a))})}),n=new window.ReportingObserver(r,{types:t,buffered:!0});return n.observe(),function(){n.disconnect()}}})}function Wm(t){return new V(function(e){var r=Ae(t,document,"securitypolicyviolation",function(n){e.notify(Jm(n))}).stop;return r})}function $m(t){var e=t.type,r=t.body;return Mc({type:r.id,message:"".concat(e,": ").concat(r.message),originalError:t,stack:Dc(r.id,r.message,r.sourceFile,r.lineNumber,r.columnNumber)})}function Jm(t){var e="'".concat(t.blockedURI,"' blocked by '").concat(t.effectiveDirective,"' directive");return Mc({type:t.effectiveDirective,message:"".concat(Sr.cspViolation,": ").concat(e),originalError:t,csp:{disposition:t.disposition},stack:Dc(t.effectiveDirective,t.originalPolicy?"".concat(e,' of the policy "').concat(fc(t.originalPolicy,100,"..."),'"'):"no policy",t.sourceFile,t.lineNumber,t.columnNumber)})}function Mc(t){return Y({startClocks:fe(),source:$.REPORT,handling:"unhandled"},t)}function Dc(t,e,r,n,i){return r?Me({name:t,message:e,stack:[{func:"?",url:r,line:n!=null?n:void 0,column:i!=null?i:void 0}]}):void 0}function hn(t,e){var r=window.__ddBrowserSdkExtensionCallback;r&&r({type:t,payload:e})}function Di(t,e,r){if(r===void 0&&(r=Xm()),e===void 0)return t;if(typeof e!="object"||e===null)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){var n=e.flags||[e.global?"g":"",e.ignoreCase?"i":"",e.multiline?"m":"",e.sticky?"y":"",e.unicode?"u":""].join("");return new RegExp(e.source,n)}if(!r.hasAlreadyBeenSeen(e)){if(Array.isArray(e)){for(var i=Array.isArray(t)?t:[],o=0;o<e.length;++o)i[o]=Di(i[o],e[o],r);return i}var a=hr(t)==="object"?t:{};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=Di(a[s],e[s],r));return a}}function Ui(t){return Di(void 0,t)}function je(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r,n=0,i=t;n<i.length;n++){var o=i[n];o!=null&&(r=Di(r,o))}return r}function Xm(){if(typeof WeakSet<"u"){var t=new WeakSet;return{hasAlreadyBeenSeen:function(r){var n=t.has(r);return n||t.add(r),n}}}var e=[];return{hasAlreadyBeenSeen:function(r){var n=e.indexOf(r)>=0;return n||e.push(r),n}}}function Uc(){var t,e=window.navigator;return{status:e.onLine?"connected":"not_connected",interfaces:e.connection&&e.connection.type?[e.connection.type]:void 0,effective_type:(t=e.connection)===null||t===void 0?void 0:t.effectiveType}}function Fc(t){var e=new Set;return t.forEach(function(r){return e.add(r)}),lr(e)}function Fi(t,e){var r=t.indexOf(e);r>=0&&t.splice(r,1)}var Qm=500;function gn(){var t=[],e=function(i){var o=t.push(i);o>Qm&&t.splice(0,1)},r=function(i){Fi(t,i)},n=function(i){t.forEach(function(o){return o(i)}),t.length=0};return{add:e,remove:r,drain:n}}var Tt={log:"log",configuration:"configuration",usage:"usage"};var Zm=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"],ev=[ya],jc=gn(),Er=function(t){jc.add(function(){return Er(t)})};function ji(t,e){var r,n,i=new V,o=new Set,a=!he(ev,e.site)&&sr(e.telemetrySampleRate),s=(r={},r[Tt.log]=a,r[Tt.configuration]=a&&sr(e.telemetryConfigurationSampleRate),r[Tt.usage]=a&&sr(e.telemetryUsageSampleRate),r),c=tv();Er=function(u){var f=Te(u);if(s[u.type]&&o.size<e.maxTelemetryEventsPerPage&&!o.has(f)){var d=l(t,u,c);i.notify(d),hn("telemetry",d),o.add(f)}},uc(yn);function l(u,f,d){return je({type:"telemetry",date:pe(),service:u,version:"5.35.0",source:"browser",_dd:{format_version:2},telemetry:je(f,{runtime_env:d,connectivity:Uc(),sdk_setup:"npm"}),experimental_features:lr(ca())},n!==void 0?n():{})}return{setContextProvider:function(u){n=u},observable:i,enabled:a}}function tv(){return{is_local_file:window.location.protocol==="file:",is_worker:"WorkerGlobalScope"in self}}function Bi(){jc.drain()}function qi(t){return t.site===ga}function Ir(t,e){vi(ee.debug,t,e),Er(Y({type:Tt.log,message:t,status:"debug"},e))}function yn(t,e){Er(Y({type:Tt.log,status:"error"},rv(t),e))}function Gi(t){Er({type:Tt.configuration,configuration:t})}function zi(t){Er({type:Tt.usage,usage:t})}function rv(t){if(Oe(t)){var e=ue(t);return{error:{kind:e.name,stack:Me(nv(e))},message:e.message}}return{error:{stack:Mi},message:"".concat("Uncaught"," ").concat(Te(t))}}function nv(t){return t.stack=t.stack.filter(function(e){return!e.url||Zm.some(function(r){return fr(e.url,r)})}),t}var Vi=1/0,av=Ie;function Bc(t){var e=t.expireDelay,r=t.maxEntries,n=[],i=pr(function(){return o()},av);function o(){for(var d=ur()-e;n.length>0&&n[n.length-1].endTime<d;)n.pop()}function a(d,m){var p={value:d,startTime:m,endTime:Vi,remove:function(){Fi(n,p)},close:function(v){p.endTime=v}};return r&&n.length>=r&&n.pop(),n.unshift(p),p}function s(d,m){d===void 0&&(d=Vi),m===void 0&&(m={returnInactive:!1});for(var p=0,v=n;p<v.length;p++){var g=v[p];if(g.startTime<=d){if(m.returnInactive||d<=g.endTime)return g.value;break}}}function c(d){var m=n[0];m&&m.endTime===Vi&&m.close(d)}function l(d,m){d===void 0&&(d=Vi),m===void 0&&(m=0);var p=ec(d,m);return n.filter(function(v){return v.startTime<=p&&d<=v.endTime}).map(function(v){return v.value})}function u(){n=[]}function f(){mr(i)}return{add:a,find:s,closeActive:c,findAll:l,reset:u,stop:f}}var sv=Ie,uv=gr,Tr=[];function La(t,e,r,n){var i=new V,o=new V,a=Ac(t.sessionStoreStrategyType,e,r);Tr.push(function(){return a.stop()});var s=Bc({expireDelay:uv});Tr.push(function(){return s.stop()}),a.renewObservable.subscribe(function(){s.add(c(),ur()),i.notify()}),a.expireObservable.subscribe(function(){o.notify(),s.closeActive(ur())}),a.expandOrRenewSession(),s.add(c(),Qu().relative),n.observable.subscribe(function(){n.isGranted()?a.expandOrRenewSession():a.expire()}),cv(t,function(){n.isGranted()&&a.expandOrRenewSession()}),lv(t,function(){return a.expandSession()}),fv(t,function(){return a.restartSession()});function c(){return{id:a.getSession().id,trackingType:a.getSession()[e],isReplayForced:!!a.getSession().forcedReplay,anonymousId:a.getSession().anonymousId}}return{findSession:function(l,u){return s.find(l,u)},renewObservable:i,expireObservable:o,sessionStateUpdateObservable:a.sessionStateUpdateObservable,expire:a.expire,updateSessionState:a.updateSessionState}}function cv(t,e){var r=vn(t,window,["click","touchstart","keydown","scroll"],e,{capture:!0,passive:!0}).stop;Tr.push(r)}function lv(t,e){var r=function(){document.visibilityState==="visible"&&e()},n=Ae(t,document,"visibilitychange",r).stop;Tr.push(n);var i=pr(r,sv);Tr.push(function(){mr(i)})}function fv(t,e){var r=Ae(t,window,"resume",e,{capture:!0}).stop;Tr.push(r)}function Hi(t){return t>=500}function qc(t){try{return t.clone()}catch(e){return}}var dv=80*ve,pv=32,Gc=3*ia,mv=Ie,zc=it;function Na(t,e,r,n,i){e.transportStatus===0&&e.queuedPayloads.size()===0&&e.bandwidthMonitor.canHandle(t)?Hc(t,e,r,{onSuccess:function(){return Kc(0,e,r,n,i)},onFailure:function(){e.queuedPayloads.enqueue(t),Vc(e,r,n,i)}}):e.queuedPayloads.enqueue(t)}function Vc(t,e,r,n){t.transportStatus===2&&Ye(function(){var i=t.queuedPayloads.first();Hc(i,t,e,{onSuccess:function(){t.queuedPayloads.dequeue(),t.currentBackoffTime=zc,Kc(1,t,e,r,n)},onFailure:function(){t.currentBackoffTime=Math.min(mv,t.currentBackoffTime*2),Vc(t,e,r,n)}})},t.currentBackoffTime)}function Hc(t,e,r,n){var i=n.onSuccess,o=n.onFailure;e.bandwidthMonitor.add(t),r(t,function(a){e.bandwidthMonitor.remove(t),vv(a)?(e.transportStatus=e.bandwidthMonitor.ongoingRequestCount>0?1:2,t.retry={count:t.retry?t.retry.count+1:1,lastFailureStatus:a.status},o()):(e.transportStatus=0,i())})}function Kc(t,e,r,n,i){t===0&&e.queuedPayloads.isFull()&&!e.queueFullReported&&(i({message:"Reached max ".concat(n," events size queued for upload: ").concat(Gc/ia,"MiB"),source:$.AGENT,startClocks:fe()}),e.queueFullReported=!0);var o=e.queuedPayloads;for(e.queuedPayloads=Wc();o.size()>0;)Na(o.dequeue(),e,r,n,i)}function vv(t){return t.type!=="opaque"&&(t.status===0&&!navigator.onLine||t.status===408||t.status===429||Hi(t.status))}function Yc(){return{transportStatus:0,currentBackoffTime:zc,bandwidthMonitor:hv(),queuedPayloads:Wc(),queueFullReported:!1}}function Wc(){var t=[];return{bytesCount:0,enqueue:function(e){this.isFull()||(t.push(e),this.bytesCount+=e.bytesCount)},first:function(){return t[0]},dequeue:function(){var e=t.shift();return e&&(this.bytesCount-=e.bytesCount),e},size:function(){return t.length},isFull:function(){return this.bytesCount>=Gc}}}function hv(){return{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(t){return this.ongoingRequestCount===0||this.ongoingByteCount+t.bytesCount<=dv&&this.ongoingRequestCount<pv},add:function(t){this.ongoingRequestCount+=1,this.ongoingByteCount+=t.bytesCount},remove:function(t){this.ongoingRequestCount-=1,this.ongoingByteCount-=t.bytesCount}}}function Da(t,e,r){var n=Yc(),i=function(o,a){return bv(t,e,o,a)};return{send:function(o){Na(o,n,i,t.trackType,r)},sendOnExit:function(o){gv(t,e,o)}}}function gv(t,e,r){var n=!!navigator.sendBeacon&&r.bytesCount<e;if(n)try{var i=t.build("beacon",r),o=navigator.sendBeacon(i,r.data);if(o)return}catch(s){yv(s)}var a=t.build("xhr",r);Ma(a,r.data)}var $c=!1;function yv(t){$c||($c=!0,yn(t))}function bv(t,e,r,n){var i=wv()&&r.bytesCount<e;if(i){var o=t.build("fetch",r);fetch(o,{method:"POST",body:r.data,keepalive:!0,mode:"cors"}).then(B(function(s){return n==null?void 0:n({status:s.status,type:s.type})}),B(function(){var s=t.build("xhr",r);Ma(s,r.data,n)}))}else{var a=t.build("xhr",r);Ma(a,r.data,n)}}function wv(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(t){return!1}}function Ma(t,e,r){var n=new XMLHttpRequest;n.open("POST",t,!0),e instanceof Blob&&n.setRequestHeader("Content-Type",e.type),Ae({allowUntrustedEvents:!0},n,"loadend",function(){r==null||r({status:n.status})},{once:!0}),n.send(e)}function qt(){var t=xv();if(t)return{getCapabilities:function(){var e;return JSON.parse(((e=t.getCapabilities)===null||e===void 0?void 0:e.call(t))||"[]")},getPrivacyLevel:function(){var e;return(e=t.getPrivacyLevel)===null||e===void 0?void 0:e.call(t)},getAllowedWebViewHosts:function(){return JSON.parse(t.getAllowedWebViewHosts())},send:function(e,r,n){var i=n?{id:n}:void 0;t.send(JSON.stringify({eventType:e,event:r,view:i}))}}}function ct(t){var e;t===void 0&&(t=(e=Le().location)===null||e===void 0?void 0:e.hostname);var r=qt();return!!r&&r.getAllowedWebViewHosts().some(function(n){return t===n||oc(t,".".concat(n))})}function xv(){return Le().DatadogEventBridge}var bn={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function Ua(t){return new V(function(e){var r=vn(t,window,["visibilitychange","freeze"],function(i){i.type==="visibilitychange"&&document.visibilityState==="hidden"?e.notify({reason:bn.HIDDEN}):i.type==="freeze"&&e.notify({reason:bn.FROZEN})},{capture:!0}).stop,n=Ae(t,window,"beforeunload",function(){e.notify({reason:bn.UNLOADING})}).stop;return function(){r(),n()}})}function Fa(t){return he(Ft(bn),t)}function Xc(t){var e=t.encoder,r=t.request,n=t.flushController,i=t.messageBytesLimit,o={},a=n.flushObservable.subscribe(function(d){return f(d)});function s(d,m,p){n.notifyBeforeAddMessage(m),p!==void 0?(o[p]=d,n.notifyAfterAddMessage()):e.write(e.isEmpty?d:"\n".concat(d),function(v){n.notifyAfterAddMessage(v-m)})}function c(d){return d!==void 0&&o[d]!==void 0}function l(d){var m=o[d];delete o[d];var p=e.estimateEncodedBytesCount(m);n.notifyAfterRemoveMessage(p)}function u(d,m){var p=Te(d),v=e.estimateEncodedBytesCount(p);if(v>=i){z.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(i,"KB. ").concat(xt," ").concat(fi,"/#technical-limitations"));return}c(m)&&l(m),s(p,v,m)}function f(d){var m=Ft(o).join("\n");o={};var p=Fa(d.reason),v=p?r.sendOnExit:r.send;if(p&&e.isAsync){var g=e.finishSync();g.outputBytesCount&&v(Jc(g));var b=[g.pendingData,m].filter(Boolean).join("\n");b&&v({data:b,bytesCount:cr(b)})}else m&&e.write(e.isEmpty?m:"\n".concat(m)),e.finish(function(y){v(Jc(y))})}return{flushController:n,add:u,upsert:u,stop:a.unsubscribe}}function Jc(t){var e;return typeof t.output=="string"?e=t.output:e=new Blob([t.output],{type:"text/plain"}),{data:e,bytesCount:t.outputBytesCount,encoding:t.encoding}}function ja(t){var e=t.messagesLimit,r=t.bytesLimit,n=t.durationLimit,i=t.pageExitObservable,o=t.sessionExpireObservable,a=i.subscribe(function(v){return f(v.reason)}),s=o.subscribe(function(){return f("session_expire")}),c=new V(function(){return function(){a.unsubscribe(),s.unsubscribe()}}),l=0,u=0;function f(v){if(u!==0){var g=u,b=l;u=0,l=0,p(),c.notify({reason:v,messagesCount:g,bytesCount:b})}}var d;function m(){d===void 0&&(d=Ye(function(){f("duration_limit")},n))}function p(){hi(d),d=void 0}return{flushObservable:c,get messagesCount(){return u},notifyBeforeAddMessage:function(v){l+v>=r&&f("bytes_limit"),u+=1,l+=v,m()},notifyAfterAddMessage:function(v){v===void 0&&(v=0),l+=v,u>=e?f("messages_limit"):l>=r&&f("bytes_limit")},notifyAfterRemoveMessage:function(v){l-=v,u-=1,u===0&&p()}}}function Or(t,e,r,n,i,o,a){a===void 0&&(a=Xc);var s=l(t,e),c=r&&l(t,r);function l(u,f){var d=f.endpoint,m=f.encoder;return a({encoder:m,request:Da(d,u.batchBytesLimit,n),flushController:ja({messagesLimit:u.batchMessagesLimit,bytesLimit:u.batchBytesLimit,durationLimit:u.flushTimeout,pageExitObservable:i,sessionExpireObservable:o}),messageBytesLimit:u.messageBytesLimit})}return{flushObservable:s.flushController.flushObservable,add:function(u,f){f===void 0&&(f=!0),s.add(u),c&&f&&c.add(r.transformMessage?r.transformMessage(u):u)},upsert:function(u,f){s.upsert(u,f),c&&c.upsert(r.transformMessage?r.transformMessage(u):u,f)},stop:function(){s.stop(),c&&c.stop()}}}function Gt(){var t="",e=0;return{isAsync:!1,get isEmpty(){return!t},write:function(r,n){var i=cr(r);e+=i,t+=r,n&&n(i)},finish:function(r){r(this.finishSync())},finishSync:function(){var r={output:t,outputBytesCount:e,rawBytesCount:e,pendingData:""};return t="",e=0,r},estimateEncodedBytesCount:function(r){return r.length}}}var Ba=function(){function t(){this.callbacks={}}return t.prototype.notify=function(e,r){var n=this.callbacks[e];n&&n.forEach(function(i){return i(r)})},t.prototype.subscribe=function(e,r){var n=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),{unsubscribe:function(){n.callbacks[e]=n.callbacks[e].filter(function(i){return r!==i})}}},t}();function Qc(t,e,r){var n=0,i=!1;return{isLimitReached:function(){if(n===0&&Ye(function(){n=0},Ie),n+=1,n<=e||i)return i=!1,!1;if(n===e+1){i=!0;try{r({message:"Reached max number of ".concat(t,"s by minute: ").concat(e),source:$.AGENT,startClocks:fe()})}finally{i=!1}}return!0}}}var qa,Ga=new WeakMap;function za(t){return qa||(qa=Sv(t)),qa}function Sv(t){return new V(function(e){var r=$e(XMLHttpRequest.prototype,"open",Ev).stop,n=$e(XMLHttpRequest.prototype,"send",function(o){Iv(o,t,e)},{computeHandlingStack:!0}).stop,i=$e(XMLHttpRequest.prototype,"abort",Tv).stop;return function(){r(),n(),i()}})}function Ev(t){var e=t.target,r=t.parameters,n=r[0],i=r[1];Ga.set(e,{state:"open",method:String(n).toUpperCase(),url:br(String(i))})}function Iv(t,e,r){var n=t.target,i=t.handlingStack,o=Ga.get(n);if(o){var a=o;a.state="start",a.startClocks=fe(),a.isAborted=!1,a.xhr=n,a.handlingStack=i;var s=!1,c=$e(n,"onreadystatechange",function(){n.readyState===XMLHttpRequest.DONE&&l()}).stop,l=function(){if(u(),c(),!s){s=!0;var f=o;f.state="complete",f.duration=Zu(a.startClocks.timeStamp,pe()),f.status=n.status,r.notify(ac(f))}},u=Ae(e,n,"loadend",l).stop;r.notify(a)}}function Tv(t){var e=t.target,r=Ga.get(e);r&&(r.isAborted=!0)}var Va;function wn(){return Va||(Va=Ov()),Va}function Ov(){return new V(function(t){if(window.fetch){var e=$e(window,"fetch",function(r){return Av(r,t)},{computeHandlingStack:!0}).stop;return e}})}function Av(t,e){var r=t.parameters,n=t.onPostCall,i=t.handlingStack,o=r[0],a=r[1],s=a&&a.method;s===void 0&&o instanceof Request&&(s=o.method);var c=s!==void 0?String(s).toUpperCase():"GET",l=o instanceof Request?o.url:br(String(o)),u=fe(),f={state:"start",init:a,input:o,method:c,startClocks:u,url:l,handlingStack:i};e.notify(f),r[0]=f.input,r[1]=f.init,n(function(d){return Cv(e,d,f)})}function Cv(t,e,r){var n=r;function i(o){n.state="resolve",Y(n,o),t.notify(n)}e.then(B(function(o){i({response:o,responseType:o.type,status:o.status,isAborted:!1})}),B(function(o){var a,s;i({status:0,isAborted:((s=(a=n.init)===null||a===void 0?void 0:a.signal)===null||s===void 0?void 0:s.aborted)||o instanceof DOMException&&o.code===DOMException.ABORT_ERR,error:o})}))}var Ha={};function Ka(t){var e=t.map(function(r){return Ha[r]||(Ha[r]=kv(r)),Ha[r]});return gi.apply(void 0,e)}function kv(t){return new V(function(e){var r=Pe[t];return Pe[t]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];r.apply(console,n);var o=Bt();ot(function(){e.notify(Rv(n,t,o))})},function(){Pe[t]=r}})}function Rv(t,e,r){var n=t.map(function(a){return Pv(a)}).join(" "),i;if(e===ee.error){var o=nc(t,Oe);i={stack:o?Me(ue(o)):void 0,fingerprint:Ta(o),causes:o?Aa(o,"console"):void 0,startClocks:fe(),message:n,source:$.CONSOLE,handling:"handled",handlingStack:r}}return{api:e,message:n,error:i,handlingStack:r}}function Pv(t){return typeof t=="string"?ye(t):Oe(t)?Sa(ue(t)):Te(ye(t),void 0,2)}function Ar(t){var e={},r=new V,n={getContext:function(){return Ui(e)},setContext:function(i){hr(i)==="object"?(e=ye(i),t==null||t.updateCustomerData(e)):n.clearContext(),r.notify()},setContextProperty:function(i,o){e[i]=ye(o),t==null||t.updateCustomerData(e),r.notify()},removeContextProperty:function(i){delete e[i],t==null||t.updateCustomerData(e),r.notify()},clearContext:function(){e={},t==null||t.resetCustomerData(),r.notify()},changeObservable:r};return n}var Lv="_dd_c",Nv=[];function Ki(t,e,r,n){var i=Mv(r,n);Nv.push(Ae(t,window,"storage",function(c){var l=c.key;i===l&&o()})),e.changeObservable.subscribe(a),e.setContext(je(s(),e.getContext()));function o(){e.setContext(s())}function a(){localStorage.setItem(i,JSON.stringify(e.getContext()))}function s(){var c=localStorage.getItem(i);return c!==null?JSON.parse(c):{}}}function Mv(t,e){return"".concat(Lv,"_").concat(t,"_").concat(e)}var Zc=3*ve,Dv=16*ve,Uv=200;function Wa(t){t===void 0&&(t=2);var e=new Map,r=!1;function n(i){if(i===void 0&&(i=0),!(r||t===0)){var o=t===2?Zc:Dv,a=i;e.forEach(function(s){a+=s.getBytesCount()}),a>o&&(Fv(o),r=!0)}}return{createDetachedTracker:function(){var i=Ya(function(){return n(i.getBytesCount())});return i},getOrCreateTracker:function(i){return e.has(i)||e.set(i,Ya(n)),e.get(i)},setCompressionStatus:function(i){t===0&&(t=i,n())},getCompressionStatus:function(){return t},stop:function(){e.forEach(function(i){return i.stop()}),e.clear()}}}function Ya(t){var e=0,r=yi(function(a){e=cr(Te(a)),t()},Uv),n=r.throttled,i=r.cancel,o=function(){i(),e=0};return{updateCustomerData:function(a){dr(a)?o():n(a)},resetCustomerData:o,getBytesCount:function(){return e},stop:function(){i()}}}function Fv(t){z.warn("Customer data exceeds the recommended ".concat(t/ve,"KiB threshold. ").concat(xt," ").concat(fi,"/#customer-data-exceeds-the-recommended-threshold-warning"))}function $a(t,e,r){var n=t.getReader(),i=[],o=0;a();function a(){n.read().then(B(function(c){if(c.done){s();return}r.collectStreamBody&&i.push(c.value),o+=c.value.length,o>r.bytesLimit?s():a()}),B(function(c){return e(c)}))}function s(){n.cancel().catch(ge);var c,l;if(r.collectStreamBody){var u;if(i.length===1)u=i[0];else{u=new Uint8Array(o);var f=0;i.forEach(function(d){u.set(d,f),f+=d.length})}c=u.slice(0,r.bytesLimit),l=u.length>r.bytesLimit}e(void 0,c,l)}}var jv="datadog-synthetics-public-id",Bv="datadog-synthetics-result-id",qv="datadog-synthetics-injects-rum";function xn(){return!!(window._DATADOG_SYNTHETICS_INJECTS_RUM||at(qv))}function Ja(){var t=window._DATADOG_SYNTHETICS_PUBLIC_ID||at(jv);return typeof t=="string"?t:void 0}function Xa(){var t=window._DATADOG_SYNTHETICS_RESULT_ID||at(Bv);return typeof t=="string"?t:void 0}var Be;function Cr(t,e,r){var n=r.getHandler(),i=Array.isArray(n)?n:[n];return el[t]>=el[r.getLevel()]&&he(i,e)}var N={ok:"ok",debug:"debug",info:"info",notice:"notice",warn:"warn",error:"error",critical:"critical",alert:"alert",emerg:"emerg"},el=(Be={},Be[N.ok]=0,Be[N.debug]=1,Be[N.info]=2,Be[N.notice]=4,Be[N.warn]=5,Be[N.error]=6,Be[N.critical]=7,Be[N.alert]=8,Be[N.emerg]=9,Be);function Ot(t,e){var r=e===void 0?{}:e,n=r.includeMessage,i=n===void 0?!1:n;return{stack:t.stack,kind:t.type,message:i?t.message:void 0,causes:t.causes,fingerprint:t.fingerprint,handling:t.handling}}var Gv=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},zt={console:"console",http:"http",silent:"silent"},tl=Object.keys(N),Ce=function(){function t(e,r,n,i,o,a){i===void 0&&(i=zt.http),o===void 0&&(o=N.debug),a===void 0&&(a={}),this.handleLogStrategy=e,this.handlerType=i,this.level=o,this.contextManager=Ar(r),this.contextManager.setContext(a),n&&this.contextManager.setContextProperty("logger",{name:n})}return t.prototype.logImplementation=function(e,r,n,i,o){n===void 0&&(n=N.info);var a=ye(r),s;if(i!=null){var c=pn({stackTrace:Oe(i)?ue(i):void 0,originalError:i,nonErrorPrefix:"Provided",source:$.LOGGER,handling:"handled",startClocks:fe()});s=je({error:Ot(c,{includeMessage:!0})},a)}else s=a;this.handleLogStrategy({message:ye(e),context:s,status:n},this,o)},t.prototype.log=function(e,r,n,i){n===void 0&&(n=N.info);var o;Cr(n,zt.http,this)&&(o=Bt()),this.logImplementation(e,r,n,i,o)},t.prototype.setContext=function(e){this.contextManager.setContext(e)},t.prototype.getContext=function(){return this.contextManager.getContext()},t.prototype.setContextProperty=function(e,r){this.contextManager.setContextProperty(e,r)},t.prototype.removeContextProperty=function(e){this.contextManager.removeContextProperty(e)},t.prototype.clearContext=function(){this.contextManager.clearContext()},t.prototype.setHandler=function(e){this.handlerType=e},t.prototype.getHandler=function(){return this.handlerType},t.prototype.setLevel=function(e){this.level=e},t.prototype.getLevel=function(){return this.level},Gv([aa],t.prototype,"logImplementation",null),t}();Ce.prototype.ok=lt(N.ok);Ce.prototype.debug=lt(N.debug);Ce.prototype.info=lt(N.info);Ce.prototype.notice=lt(N.notice);Ce.prototype.warn=lt(N.warn);Ce.prototype.error=lt(N.error);Ce.prototype.critical=lt(N.critical);Ce.prototype.alert=lt(N.alert);Ce.prototype.emerg=lt(N.emerg);function lt(t){return function(e,r,n){var i;Cr(t,zt.http,this)&&(i=Bt()),this.logImplementation(e,r,t,n,i)}}function rl(t,e){return{view:{referrer:document.referrer,url:window.location.href},context:t.getContext(),user:e.getContext()}}var zv=32*ve;function il(t){t.usePciIntake===!0&&t.site&&t.site!=="datadoghq.com"&&z.warn("PCI compliance for Logs is only available for Datadog organizations in the US1 site. Default intake will be used.");var e=Li(t),r=nl(t.forwardConsoleLogs,Ft(ee),"Forward Console Logs"),n=nl(t.forwardReports,Ft(Sr),"Forward Reports");if(!(!e||!r||!n))return t.forwardErrorsToLogs&&!he(r,ee.error)&&r.push(ee.error),Y({forwardErrorsToLogs:t.forwardErrorsToLogs!==!1,forwardConsoleLogs:r,forwardReports:n,requestErrorResponseLengthLimit:zv,sendLogsAfterSessionExpiration:!!t.sendLogsAfterSessionExpiration},e)}function nl(t,e,r){if(t===void 0)return[];if(!(t==="all"||Array.isArray(t)&&t.every(function(n){return he(e,n)}))){z.error("".concat(r,' should be "all" or an array with allowed values "').concat(e.join('", "'),'"'));return}return t==="all"?e:Fc(t)}function ol(t){var e=Ni(t);return Y({forward_errors_to_logs:t.forwardErrorsToLogs,forward_console_logs:t.forwardConsoleLogs,forward_reports:t.forwardReports,use_pci_intake:t.usePciIntake,send_logs_after_session_expiration:t.sendLogsAfterSessionExpiration},e)}function al(t,e,r){var n=gn(),i,o,a=e.observable.subscribe(s);function s(){if(!(!o||!i||!e.isGranted())){a.unsubscribe();var c=r(i,o);n.drain(c)}}return{init:function(c){if(!c){z.error("Missing configuration");return}if(ua(c.enableExperimentalFeatures),ct()&&(c=Vv(c)),i=c,o){mn("DD_LOGS",c);return}var l=il(c);l&&(o=l,wn().subscribe(ge),e.tryToInit(l.trackingConsent),s())},get initConfiguration(){return i},getInternalContext:ge,handleLog:function(c,l,u,f,d){f===void 0&&(f=t()),d===void 0&&(d=pe()),n.add(function(m){return m.handleLog(c,l,u,f,d)})}}}function Vv(t){return Y({},t,{clientToken:"empty"})}var sl="logs";function ul(t){var e=Wa(),r=Ar(e.getOrCreateTracker(2)),n=Ar(e.getOrCreateTracker(1)),i=ha();function o(){return rl(r,n)}var a=al(o,i,function(l,u){l.storeContextsAcrossPages&&(Ki(u,r,sl,2),Ki(u,n,sl,1));var f=t(l,u,o,i);return a=Hv(l,f),f}),s={},c=new Ce(function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return a.handleLog.apply(a,l)},e.createDetachedTracker());return ka({logger:c,init:B(function(l){return a.init(l)}),setTrackingConsent:B(function(l){i.update(l),zi({feature:"set-tracking-consent",tracking_consent:l})}),getGlobalContext:B(function(){return r.getContext()}),setGlobalContext:B(function(l){return r.setContext(l)}),setGlobalContextProperty:B(function(l,u){return r.setContextProperty(l,u)}),removeGlobalContextProperty:B(function(l){return r.removeContextProperty(l)}),clearGlobalContext:B(function(){return r.clearContext()}),createLogger:B(function(l,u){return u===void 0&&(u={}),s[l]=new Ce(function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];return a.handleLog.apply(a,f)},e.createDetachedTracker(),ye(l),u.handler,u.level,ye(u.context)),s[l]}),getLogger:B(function(l){return s[l]}),getInitConfiguration:B(function(){return Ui(a.initConfiguration)}),getInternalContext:B(function(l){return a.getInternalContext(l)}),setUser:B(function(l){da(l)&&n.setContext(_i(l))}),getUser:B(function(){return n.getContext()}),setUserProperty:B(function(l,u){var f,d=_i((f={},f[l]=u,f))[l];n.setContextProperty(l,d)}),removeUserProperty:B(function(l){return n.removeContextProperty(l)}),clearUser:B(function(){return n.clearContext()})})}function Hv(t,e){return Y({init:function(r){mn("DD_LOGS",r)},initConfiguration:t},e)}var Kv="logs";function cl(t,e){var r=La(t,Kv,function(n){return Yv(t,n)},e);return{findTrackedSession:function(n,i){i===void 0&&(i={returnInactive:!1});var o=r.findSession(n,i);return o&&o.trackingType==="1"?{id:o.id}:void 0},expireObservable:r.expireObservable}}function ll(t){var e=fl(t)==="1",r=e?{}:void 0;return{findTrackedSession:function(){return r},expireObservable:new V}}function fl(t){return sr(t.sessionSampleRate)?"1":"0"}function Yv(t,e){var r=Wv(e)?e:fl(t);return{trackingType:r,isTracked:r==="1"}}function Wv(t){return t==="0"||t==="1"}var dl=!1;function kr(t){var e=window;if(xn()){var r=n(e.DD_RUM_SYNTHETICS);return!r&&!dl&&(dl=!0,Ir("Logs sent before RUM is injected by the synthetics worker",{testId:Ja(),resultId:Xa()})),r}return n(e.DD_RUM);function n(i){if(i&&i.getInternalContext)return i.getInternalContext(t)}}function pl(t,e,r,n,i){var o=tl.concat(["custom"]),a={};o.forEach(function(s){a[s]=Qc(s,e.eventRateLimiterThreshold,i)}),r.subscribe(0,function(s){var c,l,u=s.rawLogsEvent,f=s.messageContext,d=f===void 0?void 0:f,m=s.savedCommonContext,p=m===void 0?void 0:m,v=s.domainContext,g=tc(u.date),b=t.findTrackedSession(g);if(!(!b&&(!e.sendLogsAfterSessionExpiration||!t.findTrackedSession(g,{returnInactive:!0})))){var y=p||n(),w=je({service:e.service,session_id:b?b.id:void 0,session:b?{id:b.id}:void 0,usr:dr(y.user)?void 0:y.user,view:y.view},y.context,kr(g),u,d);((c=e.beforeSend)===null||c===void 0?void 0:c.call(e,w,v))===!1||w.origin!==$.AGENT&&((l=a[w.status])!==null&&l!==void 0?l:a.custom).isLimitReached()||r.notify(1,w)}})}var Vt,$v=(Vt={},Vt[ee.log]=N.info,Vt[ee.debug]=N.debug,Vt[ee.info]=N.info,Vt[ee.warn]=N.warn,Vt[ee.error]=N.error,Vt);function ml(t,e){var r=Ka(t.forwardConsoleLogs).subscribe(function(n){var i={rawLogsEvent:{date:pe(),message:n.message,origin:$.CONSOLE,error:n.error&&Ot(n.error),status:$v[n.api]},domainContext:{handlingStack:n.handlingStack}};e.notify(0,i)});return{stop:function(){r.unsubscribe()}}}function vl(t,e){var r=Pa(t,t.forwardReports).subscribe(function(n){var i=n.message,o,a=n.originalError.type==="deprecation"?N.warn:N.error;a===N.error?o=Ot(n):n.stack&&(i+=" Found in ".concat(Oa(n.stack))),e.notify(0,{rawLogsEvent:{date:pe(),message:i,origin:$.REPORT,error:o,status:a}})});return{stop:function(){r.unsubscribe()}}}function hl(t,e){if(!t.forwardErrorsToLogs)return{stop:ge};var r=za(t).subscribe(function(o){o.state==="complete"&&i("xhr",o)}),n=wn().subscribe(function(o){o.state==="resolve"&&i("fetch",o)});function i(o,a){!Pi(a.url)&&(Zv(a)||Hi(a.status))&&("xhr"in a?Jv(a.xhr,t,s):a.response?Qv(a.response,t,s):a.error&&Xv(a.error,t,s));function s(c){var l={isAborted:a.isAborted,handlingStack:a.handlingStack};e.notify(0,{rawLogsEvent:{message:"".concat(eh(o)," error ").concat(a.method," ").concat(a.url),date:a.startClocks.timeStamp,error:{stack:c||"Failed to load",handling:void 0},http:{method:a.method,status_code:a.status,url:a.url},status:N.error,origin:$.NETWORK},domainContext:l})}}return{stop:function(){r.unsubscribe(),n.unsubscribe()}}}function Jv(t,e,r){typeof t.response=="string"?r(Qa(t.response,e)):r(t.response)}function Xv(t,e,r){r(Qa(Me(ue(t)),e))}function Qv(t,e,r){var n=qc(t);!n||!n.body?r():window.TextDecoder?th(n.body,e.requestErrorResponseLengthLimit,function(i,o){r(i?"Unable to retrieve response: ".concat(i):o)}):n.text().then(B(function(i){return r(Qa(i,e))}),B(function(i){return r("Unable to retrieve response: ".concat(i))}))}function Zv(t){return t.status===0&&t.responseType!=="opaque"}function Qa(t,e){return t.length>e.requestErrorResponseLengthLimit?"".concat(t.substring(0,e.requestErrorResponseLengthLimit),"..."):t}function eh(t){return t==="xhr"?"XHR":"Fetch"}function th(t,e,r){$a(t,function(n,i,o){if(n)r(n);else{var a=new TextDecoder().decode(i);o&&(a+="..."),r(void 0,a)}},{bytesLimit:e,collectStreamBody:!0})}function gl(t,e){if(!t.forwardErrorsToLogs)return{stop:ge};var r=new V,n=Ca(r).stop,i=r.subscribe(function(o){e.notify(0,{rawLogsEvent:{message:o.message,date:o.startClocks.timeStamp,error:Ot(o),origin:$.SOURCE,status:N.error}})});return{stop:function(){n(),i.unsubscribe()}}}var yl=Ba;var qe;function bl(t){function e(r,n,i,o,a){var s=je(n.getContext(),r.context);if(Cr(r.status,zt.console,n)&&nh(r,s),Cr(r.status,zt.http,n)){var c={rawLogsEvent:{date:a||pe(),message:r.message,status:r.status,origin:$.LOGGER},messageContext:s,savedCommonContext:o};i&&(c.domainContext={handlingStack:i}),t.notify(0,c)}}return{handleLog:e}}var rh=(qe={},qe[N.ok]=ee.debug,qe[N.debug]=ee.debug,qe[N.info]=ee.info,qe[N.notice]=ee.info,qe[N.warn]=ee.warn,qe[N.error]=ee.error,qe[N.critical]=ee.error,qe[N.alert]=ee.error,qe[N.emerg]=ee.error,qe);function nh(t,e){var r=t.status,n=t.message;wt[rh[r]].call(Pe,n,e)}function wl(t,e,r,n,i){var o=Or(t,{endpoint:t.logsEndpointBuilder,encoder:Gt()},t.replica&&{endpoint:t.replica.logsEndpointBuilder,encoder:Gt()},r,n,i.expireObservable);return e.subscribe(1,function(a){o.add(a)}),o}function xl(t){var e=qt();t.subscribe(1,function(r){e.send("log",r)})}function _l(t){return{get:function(e){var r=t.findTrackedSession(e);if(r)return{session_id:r.id}}}}function Sl(t){return function(e){t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,origin:$.AGENT,status:N.error}}),Ir("Error reported to customer",{"error.message":e.message})}}function El(t,e,r,n,i){var o=ji("browser-logs-sdk",e);o.setContextProvider(function(){var f,d,m,p,v,g;return{application:{id:(f=kr())===null||f===void 0?void 0:f.application_id},session:{id:(d=i.findTrackedSession())===null||d===void 0?void 0:d.id},view:{id:(p=(m=kr())===null||m===void 0?void 0:m.view)===null||p===void 0?void 0:p.id},action:{id:(g=(v=kr())===null||v===void 0?void 0:v.user_action)===null||g===void 0?void 0:g.id}}});var a=[];if(ct()){var s=qt(),c=o.observable.subscribe(function(f){return s.send("internal_telemetry",f)});a.push(function(){return c.unsubscribe()})}else{var l=Or(e,{endpoint:e.rumEndpointBuilder,encoder:Gt()},e.replica&&{endpoint:e.replica.rumEndpointBuilder,encoder:Gt()},r,n,i.expireObservable);a.push(function(){return l.stop()});var u=o.observable.subscribe(function(f){return l.add(f,qi(e))});a.push(function(){return u.unsubscribe()})}return Bi(),Gi(ol(t)),{telemetry:o,stop:function(){a.forEach(function(f){return f()})}}}function Il(t,e,r,n){var i=new yl,o=[];i.subscribe(1,function(m){return hn("logs",m)});var a=Sl(i),s=Ua(e),c=e.sessionStoreStrategyType&&!ct()&&!xn()?cl(e,n):ll(e),l=El(t,e,a,s,c).stop;o.push(function(){return l()}),hl(e,i),gl(e,i),ml(e,i),vl(e,i);var u=bl(i).handleLog;if(pl(c,e,i,r,a),ct())xl(i);else{var f=wl(e,i,a,s,c).stop;o.push(function(){return f()})}var d=_l(c);return{handleLog:u,getInternalContext:d.get,stop:function(){o.forEach(function(m){return m()})}}}var At=ul(Il);Ra(Le(),"DD_LOGS",At);var Tl="@remento/ab-test",Yi=class{save(e){localStorage.setItem(Tl,JSON.stringify(e))}get(){let e=localStorage.getItem(Tl);return e!=null?JSON.parse(e):null}};var Cl=yt(Al(),1),kl=yt(es(),1);function ih(t,e,r){return t*(1-r)+e*r}var $i=class{constructor(e,r,n){E(this,"rules");E(this,"overrides");E(this,"enableCache");E(this,"cache",new Map);this.rules=e,this.overrides=r,this.enableCache=n}addOverrides(e){this.overrides=P(P({},this.overrides),e)}getUserVariant(e,r,n,i){var g,b,y;let o=(g=i==null?void 0:i.experiments)==null?void 0:g[r];if(o!=null)return o;let a=this.overrides[r];if(a!=null)return a;if(this.enableCache){let w=this.cache.get(e);if(w!=null){let I=w.get(r);if(I!=null)return I}}let s=this.rules[r];if(s==null)throw new Error("Rule for experiment ".concat(r," not found"));if(n==null){for(let w of Object.values(s.variants).flat())if(w.conditions!=null&&!(w.conditions.mobile==null&&w.conditions.browser==null))throw new Error("User agent not provided but needed to compute experiment ".concat(r))}let c=null,l=null;if(n!=null){let w=new kl.default(n),I=w.getDevice();I.type!=null&&["mobile","tablet"].includes(I.type)&&(c=!0);let S=w.getBrowser();S.name!=null&&(S.name.toLowerCase().includes("safari")?l="safari":S.name.toLowerCase().includes("chrome")?l="chrome":S.name.toLowerCase().includes("firefox")&&(l="firefox"))}let u=Object.entries(s.variants).map(([w,I])=>{let S=0;for(let _ of I){if(_.conditions==null||_.conditions.mobile==null&&_.conditions.browser==null){S=_.weight;break}let h=_.conditions.mobile==null;_.conditions.mobile!=null&&c!=null&&(h=_.conditions.mobile===c);let T=_.conditions.browser==null;if(_.conditions.browser!=null&&l!=null&&(T=_.conditions.browser.includes(l)),h&&T){S=_.weight;break}}return{variant:w,weight:S}}),f=Cl.default.str(e+r)>>>0,d=ih(0,1,f/(2**32-1)),m=u.reduce((w,I,S)=>{let _=I.weight,h=S===0?_:w[S-1]+_;return w.push(h),w},[]),p=u.find((w,I)=>{let S=m[I];return d<=S}),v=(b=p==null?void 0:p.variant)!=null?b:s.defaultVariant;if(this.enableCache){let w=(y=this.cache.get(e))!=null?y:new Map;w.size==0&&this.cache.set(e,w),w.set(r,v)}return v}getAllUserVariants(e,r,n){return Object.keys(this.rules).map(i=>i).reduce((i,o)=>(i[o]=this.getUserVariant(e,o,r,n),i),{})}};var q;(function(t){t[t.always=0]="always",t[t.trace=100]="trace",t[t.debug=200]="debug",t[t.log=300]="log",t[t.info=300]="info",t[t.warn=400]="warn",t[t.error=500]="error",t[t.never=1e3]="never"})(q||(q={}));function ts(t){switch(t){case"always":return q.always;case"trace":return q.trace;case"debug":return q.debug;case"log":return q.log;case"info":return q.info;case"warn":return q.warn;case"error":return q.error;case"never":return q.never;default:return null}}var Ji=class{constructor(e,r,n,i,o,a){E(this,"id");E(this,"factory");E(this,"router");E(this,"parent");E(this,"level");E(this,"metadata",{});this.id=e,this.factory=r,this.router=n,this.parent=i,this.level=o,this.metadata=P({},a)}log(e,r,n){if(e<this.level)return this;let i=n?n():void 0;return this.router.log(this.level,Q(P(P({},this.getMetadata()),i),{level:e,message:r,ts:Date.now(),logger:this.id})),this}trace(e,r){return this.log(q.trace,e,r)}debug(e,r){return this.log(q.debug,e,r)}info(e,r){return this.log(q.info,e,r)}warn(e,r){return this.log(q.warn,e,r)}error(e,r){return this.log(q.error,e,r)}registerMetadata(e){return this.metadata=Object.assign(this.metadata,e),this}getMetadata(){var e;return P(P({},(e=this.parent)==null?void 0:e.getMetadata()),this.metadata)}extend(e){return Array.isArray(e)?this.factory.createLogger([this.id,...e],{},this):this.factory.createLogger([this.id,e],{},this)}};var Sn=class{constructor(e){E(this,"options");this.options=e}getLoggerLevel(e){return this.options.match.test(e)?this.options.level:q.never}},Xi=class Xi{constructor(e){E(this,"transports");E(this,"configs");E(this,"metadata");E(this,"defaultLevel");var r,n,i;this.metadata=e.metadata,this.transports=e.transports.filter(o=>o!==null),this.defaultLevel=(r=e.defaultLevel)!=null?r:q.log,this.configs=(i=(n=e.loggers)==null?void 0:n.map(o=>o instanceof RegExp?new Sn({match:o,level:q.debug}):o instanceof Array?new Sn({match:o[0],level:o[1]}):new Sn(o)))!=null?i:null}setDefaultLevel(e){this.defaultLevel=e}getLoggerLevel(e){return this.configs==null?this.defaultLevel:this.configs.reduce((r,n)=>Math.min(n.getLoggerLevel(e),r),this.defaultLevel)}log(e,r){this.transports.forEach(n=>n.log(e,r))}createLogger(e,r,n){let i=e instanceof Array?e.join(Xi.Separator):e;return new Ji(i,this,this,n!=null?n:null,this.getLoggerLevel(i),P(P({},this.metadata),r))}async flush(){await Promise.all(this.transports.map(e=>e.flush()))}};E(Xi,"Separator",".");var En=Xi;var oh=typeof global<"u"?global:window;oh.loggerFactory=null;var Rr=class{constructor(e){E(this,"timeout");E(this,"queue",[]);E(this,"queuePromise",null);E(this,"timeoutHandle",null);this.timeout=e}flushSync(){var n;let e=this.queue;this.queue=[],this.timeoutHandle=null;let r=(n=this.queuePromise)!=null?n:Promise.resolve();this.queuePromise=r.finally(async()=>{await this.logBatch(e)})}async flush(){this.flushSync(),await this.queuePromise}log(e,r){this.queue.push([e,r]),this.timeoutHandle==null&&(this.timeoutHandle=setTimeout(()=>this.flush(),this.timeout))}};var Qi=class extends Rr{constructor(r){var n;super((n=r==null?void 0:r.timeout)!=null?n:200);E(this,"$debug",console.debug);E(this,"$info",console.info);E(this,"$warn",console.warn);E(this,"$error",console.error);E(this,"$log",console.log)}formatTimestamp(r){let n=new Date(r);return"".concat(n.getHours().toString().padStart(2,"0"),":").concat(n.getMinutes().toString().padStart(2,"0"),":")+"".concat(n.getSeconds().toString().padStart(2,"0"),".").concat(n.getMilliseconds().toString().padStart(3,"0"))}format(s){var c=s,{level:r,logger:n,message:i,ts:o}=c,a=ir(c,["level","logger","message","ts"]);return["".concat(this.formatTimestamp(o)," - ").concat(q[r].padEnd(5," ").toUpperCase()," - ").concat(n," - ").concat(i),a]}async logBatch(r){try{for(let n=0;n<r.length;n++){let[i,o]=r[n],a=o.level,[s,c]=this.format(o);switch(a){case q.trace:case q.debug:this.$debug(s,c);break;case q.info:this.$info(s,c);break;case q.warn:this.$warn(s,c);break;case q.error:this.$error(s,c);break;default:this.$log(s,c)}}}catch(n){console.error("ConsoleLogTransport - Failure",n)}}};var Zi=class extends Rr{constructor(r){super(100);E(this,"datadogLogger");this.datadogLogger=r}async logBatch(r){try{for(let i=0;i<r.length;i++){let[o,a]=r[i],n=a,{level:s,message:c,ts:l}=n,u=ir(n,["level","message","ts"]);switch(s){case q.trace:case q.debug:this.datadogLogger.debug(c,u);break;case q.info:this.datadogLogger.info(c,u);break;case q.warn:this.datadogLogger.warn(c,u);break;case q.error:this.datadogLogger.error(c,u);break;default:this.datadogLogger.log(c,u)}}}catch(i){console.error("DatadogLogTransport - Failure",i)}}};var ns=yt(Pl(),1);var Pr=class{constructor(e){E(this,"emitter");this.emitter=e!=null?e:new ns.default}on(e,r){return this.emitter.on(e,r),()=>this.emitter.off(e,r)}once(e,r){return this.emitter.once(e,r),()=>this.emitter.off(e,r)}removeAllListeners(e){this.emitter.removeAllListeners(e)}emit(e,...r){return this.emitter.emit(e,...r)}};j();we();function lf(t,e,r,n){var i,o=[t,e,r,n],a=ie(t)?t.event:t;if(!a||!ft(a))throw new Error("Event missing");var s=ie(t)?(i=t.properties)!==null&&i!==void 0?i:{}:ie(e)?e:{},c={};Ht(r)||(c=r!=null?r:{}),ie(t)&&!Ht(e)&&(c=e!=null?e:{});var l=o.find(Ht);return[a,s,c,l]}function ys(t,e,r,n,i){var o,a,s=null,c=null,l=[t,e,r,n,i],u=l.filter(ft);u[0]!==void 0&&u[1]!==void 0&&(s=u[0],c=u[1]),u.length===1&&(s=null,c=u[0]);var f=l.find(Ht),d=l.filter(function(v){return c===null?ie(v):ie(v)||v===null}),m=(o=d[0])!==null&&o!==void 0?o:{},p=(a=d[1])!==null&&a!==void 0?a:{};return[s,c,m,p,f]}var bs=function(t){return function(){for(var e,r,n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];for(var a={},s=["callback","options","traits","id"],c=0,l=i;c<l.length;c++){var u=l[c],f=s.pop();if(f==="id"){if(ft(u)||ro(u)){a.id=u.toString();continue}if(u==null)continue;f=s.pop()}if((f==="traits"||f==="options")&&(u==null||ie(u))&&(a[f]=u),Ht(u)){a.callback=u;break}}return[(e=a.id)!==null&&e!==void 0?e:t.id(),(r=a.traits)!==null&&r!==void 0?r:{},(n=a.options)!==null&&n!==void 0?n:{},a.callback]}};function ff(t,e,r,n){ro(t)&&(t=t.toString()),ro(e)&&(e=e.toString());var i=[t,e,r,n],o=i.filter(ft),a=o[0],s=a===void 0?t:a,c=o[1],l=c===void 0?null:c,u=i.filter(ie)[0],f=u===void 0?{}:u,d=i.find(Ht);return[s,l,f,d]}Dr();Je();we();Kt();j();ao();we();var hf="bpc",gf=function(t,e,r,n,i,o){return{__t:hf,c:e,p:n,u:t,s:r,t:i,r:o}},_h=Object.keys(gf("","","","","",""));function yf(t){if(!ie(t)||t.__t!==hf)return!1;for(var e in t)if(!_h.includes(e))return!1;return!0}var Sh=function(t,e){return t.indexOf("?")>-1?t:t+e},Eh=function(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)},Ih=function(t){try{return new URL(t).pathname}catch(e){return t[0]==="/"?t:"/"+t}},Es=function(t){var e=t.c,r=t.p,n=t.s,i=t.u,o=t.r,a=t.t,s=e?Ih(e):r,c=e?Sh(e,n):Eh(i);return{path:s,referrer:o,search:n,title:a,url:c}},Is=function(){var t=document.querySelector("link[rel='canonical']");return gf(location.href,t&&t.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},bf=function(){return Es(Is())};j();j();function wf(t,e){return Object.assign.apply(Object,W([{}],e.map(function(r){var n;if(t&&Object.prototype.hasOwnProperty.call(t,r))return n={},n[r]=t[r],n}),!1))}var $t=function(t,e){e===void 0&&(e=bf());var r=t.context,n;t.type==="page"&&(n=t.properties&&wf(t.properties,Object.keys(e)),t.properties=x(x(x({},e),t.properties),t.name?{name:t.name}:{})),r.page=x(x(x({},e),n),r.page)};we();var xf=function(t){J(e,t);function e(r){var n=t.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat(Mr())},onEventMethodCall:function(i){var o=i.options;n.maybeUpdateAnonId(o)},onFinishedEvent:function(i){return n.addIdentity(i),i}})||this;return n.user=r,n}return e.prototype.maybeUpdateAnonId=function(r){r!=null&&r.anonymousId&&this.user.anonymousId(r.anonymousId)},e.prototype.addIdentity=function(r){this.user.id()&&(r.userId=this.user.id()),this.user.anonymousId()&&(r.anonymousId=this.user.anonymousId())},e.prototype.track=function(r,n,i,o,a){var s=t.prototype.track.call(this,r,n,i,o);return $t(s,a),s},e.prototype.page=function(r,n,i,o,a,s){var c=t.prototype.page.call(this,r,n,i,o,a);return $t(c,s),c},e.prototype.screen=function(r,n,i,o,a,s){var c=t.prototype.screen.call(this,r,n,i,o,a);return $t(c,s),c},e.prototype.identify=function(r,n,i,o,a){var s=t.prototype.identify.call(this,r,n,i,o);return $t(s,a),s},e.prototype.group=function(r,n,i,o,a){var s=t.prototype.group.call(this,r,n,i,o);return $t(s,a),s},e.prototype.alias=function(r,n,i,o,a){var s=t.prototype.alias.call(this,r,n,i,o);return $t(s,a),s},e}(jl);var _f=function(t){return"addMiddleware"in t&&t.type==="destination"};j();Ln();we();Dr();var Tf=function(t){J(e,t);function e(r){return t.call(this,typeof r=="string"?new Rt(4,r):r)||this}return e.prototype.flush=function(){return O(this,void 0,void 0,function(){return A(this,function(r){return ke()?[2,[]]:[2,t.prototype.flush.call(this)]})})},e}(nf);j();ao();function jr(t){for(var e=t.constructor.prototype,r=0,n=Object.getOwnPropertyNames(e);r<n.length;r++){var i=n[r];if(i!=="constructor"){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);o&&typeof o.value=="function"&&(t[i]=t[i].bind(t))}}return t}j();function vo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}var Ch={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Os(t,e){function r(i,o,a){if(!(typeof document>"u")){a=vo({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var c in a)a[c]&&(s+="; "+c,a[c]!==!0&&(s+="="+a[c].split(";")[0]));return document.cookie=i+"="+t.write(o,i)+s}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],a={},s=0;s<o.length;s++){var c=o[s].split("="),l=c.slice(1).join("=");try{var u=decodeURIComponent(c[0]);if(a[u]=t.read(l,u),i===u)break}catch(f){}}return i?a[i]:a}}return Object.create({set:r,get:n,remove:function(i,o){r(i,"",vo({},o,{expires:-1}))},withAttributes:function(i){return Os(this.converter,vo({},this.attributes,i))},withConverter:function(i){return Os(vo({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var kh=Os(Ch,{path:"/"}),De=kh;function Rh(t){var e=t.hostname,r=e.split("."),n=r[r.length-1],i=[];if(r.length===4&&parseInt(n,10)>0||r.length<=1)return i;for(var o=r.length-2;o>=0;--o)i.push(r.slice(o).join("."));return i}function Ph(t){try{return new URL(t)}catch(e){return}}function ho(t){var e=Ph(t);if(e)for(var r=Rh(e),n=0;n<r.length;++n){var i="__tld__",o=r[n],a={domain:"."+o};try{if(De.set(i,"1",a),De.get(i))return De.remove(i,a),o}catch(s){return}}}var Lh=365,go=function(){function t(e){e===void 0&&(e=t.defaults),this.options=x(x({},t.defaults),e)}return Object.defineProperty(t,"defaults",{get:function(){return{maxage:Lh,domain:ho(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),t.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},t.prototype.get=function(e){var r;try{var n=De.get(e);if(n==null)return null;try{return(r=JSON.parse(n))!==null&&r!==void 0?r:null}catch(i){return n!=null?n:null}}catch(i){return null}},t.prototype.set=function(e,r){typeof r=="string"?De.set(e,r,this.opts()):r===null?De.remove(e,this.opts()):De.set(e,JSON.stringify(r),this.opts())},t.prototype.remove=function(e){return De.remove(e,this.opts())},t}();var Of=function(){function t(){}return t.prototype.localStorageWarning=function(e,r){console.warn("Unable to access ".concat(e,", localStorage may be ").concat(r))},t.prototype.get=function(e){var r;try{var n=localStorage.getItem(e);if(n===null)return null;try{return(r=JSON.parse(n))!==null&&r!==void 0?r:null}catch(i){return n!=null?n:null}}catch(i){return this.localStorageWarning(e,"unavailable"),null}},t.prototype.set=function(e,r){try{localStorage.setItem(e,JSON.stringify(r))}catch(n){this.localStorageWarning(e,"full")}},t.prototype.remove=function(e){try{return localStorage.removeItem(e)}catch(r){this.localStorageWarning(e,"unavailable")}},t}();var Br=function(){function t(){this.cache={}}return t.prototype.get=function(e){var r;return(r=this.cache[e])!==null&&r!==void 0?r:null},t.prototype.set=function(e,r){this.cache[e]=r},t.prototype.remove=function(e){delete this.cache[e]},t}();var oe={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"};function yo(t){return t&&t.stores&&Array.isArray(t.stores)&&t.stores.every(function(e){return Object.values(oe).includes(e)})}function Af(t){return typeof t=="object"&&t.name!==void 0}var As=function(t,e,r,n){console.warn("".concat(t.constructor.name,": Can't ").concat(e,' key "').concat(r,'" | Err: ').concat(n))},Qe=function(){function t(e){this.stores=e}return t.prototype.get=function(e){for(var r=null,n=0,i=this.stores;n<i.length;n++){var o=i[n];try{if(r=o.get(e),r!=null)return r}catch(a){As(o,"get",e,a)}}return null},t.prototype.set=function(e,r){this.stores.forEach(function(n){try{n.set(e,r)}catch(i){As(n,"set",e,i)}})},t.prototype.clear=function(e){this.stores.forEach(function(r){try{r.remove(e)}catch(n){As(r,"remove",e,n)}})},t.prototype.getAndSync=function(e){var r=this.get(e),n=typeof r=="number"?r.toString():r;return this.set(e,n),n},t}();function Nn(t){var e=t.map(function(r){var n,i;switch(Af(r)?(n=r.name,i=r.settings):n=r,n){case oe.Cookie:return new go(i);case oe.LocalStorage:return new Of;case oe.Memory:return new Br;default:throw new Error("Unknown Store Type: ".concat(r))}});return e}function bo(t,e){return t.map(function(r){return e&&r===oe.Cookie?{name:r,settings:e}:r})}var Jt={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},Cs=function(){function t(e,r){e===void 0&&(e=Jt);var n=this,i,o,a,s;this.options={},this.id=function(l){if(n.options.disable)return null;var u=n.identityStore.getAndSync(n.idKey);if(l!==void 0){n.identityStore.set(n.idKey,l);var f=l!==u&&u!==null&&l!==null;f&&n.anonymousId(null)}var d=n.identityStore.getAndSync(n.idKey);if(d)return d;var m=n.legacyUserStore.get(Jt.cookie.oldKey);return m?typeof m=="object"?m.id:m:null},this.anonymousId=function(l){var u,f;if(n.options.disable)return null;if(l===void 0){var d=(u=n.identityStore.getAndSync(n.anonKey))!==null&&u!==void 0?u:(f=n.legacySIO())===null||f===void 0?void 0:f[0];if(d)return d}return l===null?(n.identityStore.set(n.anonKey,null),n.identityStore.getAndSync(n.anonKey)):(n.identityStore.set(n.anonKey,l!=null?l:Mr()),n.identityStore.getAndSync(n.anonKey))},this.traits=function(l){var u;if(!n.options.disable)return l===null&&(l={}),l&&n.traitsStore.set(n.traitsKey,l!=null?l:{}),(u=n.traitsStore.get(n.traitsKey))!==null&&u!==void 0?u:{}},this.options=x(x({},Jt),e),this.cookieOptions=r,this.idKey=(o=(i=e.cookie)===null||i===void 0?void 0:i.key)!==null&&o!==void 0?o:Jt.cookie.key,this.traitsKey=(s=(a=e.localStorage)===null||a===void 0?void 0:a.key)!==null&&s!==void 0?s:Jt.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,r),this.legacyUserStore=this.createStorage(this.options,r,function(l){return l===oe.Cookie}),this.traitsStore=this.createStorage(this.options,r,function(l){return l!==oe.Cookie});var c=this.legacyUserStore.get(Jt.cookie.oldKey);c&&typeof c=="object"&&(c.id&&this.id(c.id),c.traits&&this.traits(c.traits)),jr(this)}return t.prototype.legacySIO=function(){var e=this.legacyUserStore.get("_sio");if(!e)return null;var r=e.split("----"),n=r[0],i=r[1];return[n,i]},t.prototype.identify=function(e,r){if(!this.options.disable){r=r!=null?r:{};var n=this.id();(n===null||n===e)&&(r=x(x({},this.traits()),r)),e&&this.id(e),this.traits(r)}},t.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},t.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},t.prototype.load=function(){return new t(this.options,this.cookieOptions)},t.prototype.save=function(){return!0},t.prototype.createStorage=function(e,r,n){var i=[oe.LocalStorage,oe.Cookie,oe.Memory];return e.disable?new Qe([]):e.persist?(e.storage!==void 0&&e.storage!==null&&yo(e.storage)&&(i=e.storage.stores),e.localStorageFallbackDisabled&&(i=i.filter(function(o){return o!==oe.LocalStorage})),n&&(i=i.filter(n)),new Qe(Nn(bo(i,r)))):new Qe([new Br])},t.defaults=Jt,t}();var Cf={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},kf=function(t){J(e,t);function e(r,n){r===void 0&&(r=Cf);var i=t.call(this,x(x({},Cf),r),n)||this;return i.anonymousId=function(o){},jr(i),i}return e}(Cs);Ln();Rn();Pn();co();Dn();j();var Lf=function(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"};Rn();Dn();lo();var Nf=function(t,e,r){r.getAndRemove(t).forEach(function(n){wo(e,n).catch(console.error)})},Mf=function(t,e){return O(void 0,void 0,void 0,function(){var r,n,i;return A(this,function(o){switch(o.label){case 0:r=0,n=e.getAndRemove("addSourceMiddleware"),o.label=1;case 1:return r<n.length?(i=n[r],[4,wo(t,i).catch(console.error)]):[3,4];case 2:o.sent(),o.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},Df=function(t,e){return O(void 0,void 0,void 0,function(){var r,n,i;return A(this,function(o){switch(o.label){case 0:r=0,n=e.getAndRemove("register"),o.label=1;case 1:return r<n.length?(i=n[r],[4,wo(t,i).catch(console.error)]):[3,4];case 2:o.sent(),o.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},Uf=Nf.bind(void 0,"on"),Ff=Nf.bind(void 0,"setAnonymousId"),jf=function(t,e){Object.keys(e.calls).forEach(function(r){e.getAndRemove(r).forEach(function(n){setTimeout(function(){wo(t,n).catch(console.error)},0)})})},Xt=function(t){if(Bf(t)){var e=t.pop();return Es(e)}},Bf=function(t){var e=t[t.length-1];return yf(e)},Un=function(){function t(e,r,n,i){n===void 0&&(n=function(){}),i===void 0&&(i=console.error),this.method=e,this.resolve=n,this.reject=i,this.called=!1,this.args=r}return t}();var Nh=function(){function t(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._callMap={},this.add.apply(this,e)}return Object.defineProperty(t.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(e){this._callMap=e},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var r;return(r=this.calls[e])!==null&&r!==void 0?r:[]},t.prototype.getAndRemove=function(e){var r=this.get(e);return this.calls[e]=[],r},t.prototype.add=function(){for(var e=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];r.forEach(function(i){var o=["track","screen","alias","group","page","identify"];o.includes(i.method)&&!Bf(i.args)&&(i.args=W(W([],i.args,!0),[Is()],!1)),e.calls[i.method]?e.calls[i.method].push(i):e.calls[i.method]=[i]})},t.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},t.prototype.toArray=function(){var e;return(e=[]).concat.apply(e,Object.values(this.calls))},t.prototype._pushSnippetWindowBuffer=function(){if(Fr()!=="npm"){var e=Mn();if(Array.isArray(e)){var r=e.splice(0,e.length),n=r.map(function(i){var o=i[0],a=i.slice(1);return new Un(o,a)});this.add.apply(this,n)}}},t}();function wo(t,e){return O(this,void 0,void 0,function(){var r,n;return A(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e.called?[2,void 0]:(e.called=!0,r=t[e.method].apply(t,e.args),Lf(r)?[4,r]:[3,2]);case 1:i.sent(),i.label=2;case 2:return e.resolve(r),[3,4];case 3:return n=i.sent(),e.reject(n),[3,4];case 4:return[2]}})})}var qf=function(){function t(e){var r=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=mt,this._preInitBuffer=new Nh,this._promise=e(this._preInitBuffer),this._promise.then(function(n){var i=n[0],o=n[1];r.instance=i,r.ctx=o}).catch(function(){})}return t.prototype.then=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=this._promise).then.apply(e,r)},t.prototype.catch=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=this._promise).catch.apply(e,r)},t.prototype.finally=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=this._promise).finally.apply(e,r)},t.prototype._createMethod=function(e){var r=this;return function(){for(var n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(r.instance){var a=(n=r.instance)[e].apply(n,i);return Promise.resolve(a)}return new Promise(function(s,c){r._preInitBuffer.add(new Un(e,i,s,c))})}},t.prototype._createChainableMethod=function(e){var r=this;return function(){for(var n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return r.instance?((n=r.instance)[e].apply(n,i),r):(r._preInitBuffer.add(new Un(e,i)),r)}},t}();var Mt="This is being deprecated and will be not be available in future releases of Analytics JS",ru=Ur(),nu=ru==null?void 0:ru.analytics;function Cg(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=e?10:1,i=r?new dt(n,[]):new Rt(n,t);return new Tf(i)}var kg=function(){function t(e){var r;this.timeout=300,this.writeKey=e.writeKey,this.cdnSettings=(r=e.cdnSettings)!==null&&r!==void 0?r:{integrations:{},edgeFunction:{}},this.cdnURL=e.cdnURL}return t}();function et(){console.warn(Mt)}var iu=function(t){J(e,t);function e(r,n,i,o,a){var s=this,c,l;s=t.call(this)||this,s._debug=!1,s.initialized=!1,s.user=function(){return s._user},s.init=s.initialize.bind(s),s.log=et,s.addIntegrationMiddleware=et,s.listeners=et,s.addEventListener=et,s.removeAllListeners=et,s.removeListener=et,s.removeEventListener=et,s.hasListeners=et,s.add=et,s.addIntegration=et;var u=n==null?void 0:n.cookie,f=(c=n==null?void 0:n.disableClientPersistence)!==null&&c!==void 0?c:!1;s.settings=new kg(r),s.queue=i!=null?i:Cg("".concat(r.writeKey,":event-queue"),n==null?void 0:n.retryQueue,f);var d=n==null?void 0:n.storage;return s._universalStorage=s.createStore(f,d,u),s._user=o!=null?o:new Cs(x({persist:!f,storage:n==null?void 0:n.storage},n==null?void 0:n.user),u).load(),s._group=a!=null?a:new kf(x({persist:!f,storage:n==null?void 0:n.storage},n==null?void 0:n.group),u).load(),s.eventFactory=new xf(s._user),s.integrations=(l=n==null?void 0:n.integrations)!==null&&l!==void 0?l:{},s.options=n!=null?n:{},jr(s),s}return e.prototype.createStore=function(r,n,i){return r?new Qe([new Br]):n&&yo(n)?new Qe(Nn(bo(n.stores,i))):new Qe(Nn([oe.LocalStorage,{name:oe.Cookie,settings:i},oe.Memory]))},Object.defineProperty(e.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),e.prototype.track=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return O(this,void 0,void 0,function(){var i,o,a,s,c,l,u,f=this;return A(this,function(d){return i=Xt(r),o=lf.apply(void 0,r),a=o[0],s=o[1],c=o[2],l=o[3],u=this.eventFactory.track(a,s,c,this.integrations,i),[2,this._dispatch(u,l).then(function(m){return f.emit("track",a,m.event.properties,m.event.options),m})]})})},e.prototype.page=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return O(this,void 0,void 0,function(){var i,o,a,s,c,l,u,f,d=this;return A(this,function(m){return i=Xt(r),o=ys.apply(void 0,r),a=o[0],s=o[1],c=o[2],l=o[3],u=o[4],f=this.eventFactory.page(a,s,c,l,this.integrations,i),[2,this._dispatch(f,u).then(function(p){return d.emit("page",a,s,p.event.properties,p.event.options),p})]})})},e.prototype.identify=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return O(this,void 0,void 0,function(){var i,o,a,s,c,l,u,f=this;return A(this,function(d){return i=Xt(r),o=bs(this._user).apply(void 0,r),a=o[0],s=o[1],c=o[2],l=o[3],this._user.identify(a,s),u=this.eventFactory.identify(this._user.id(),this._user.traits(),c,this.integrations,i),[2,this._dispatch(u,l).then(function(m){return f.emit("identify",m.event.userId,m.event.traits,m.event.options),m})]})})},e.prototype.group=function(){for(var r=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=Xt(n);if(n.length===0)return this._group;var a=bs(this._group).apply(void 0,n),s=a[0],c=a[1],l=a[2],u=a[3];this._group.identify(s,c);var f=this._group.id(),d=this._group.traits(),m=this.eventFactory.group(f,d,l,this.integrations,o);return this._dispatch(m,u).then(function(p){return r.emit("group",p.event.groupId,p.event.traits,p.event.options),p})},e.prototype.alias=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return O(this,void 0,void 0,function(){var i,o,a,s,c,l,u,f=this;return A(this,function(d){return i=Xt(r),o=ff.apply(void 0,r),a=o[0],s=o[1],c=o[2],l=o[3],u=this.eventFactory.alias(a,s,c,this.integrations,i),[2,this._dispatch(u,l).then(function(m){return f.emit("alias",a,s,m.event.options),m})]})})},e.prototype.screen=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return O(this,void 0,void 0,function(){var i,o,a,s,c,l,u,f,d=this;return A(this,function(m){return i=Xt(r),o=ys.apply(void 0,r),a=o[0],s=o[1],c=o[2],l=o[3],u=o[4],f=this.eventFactory.screen(a,s,c,l,this.integrations,i),[2,this._dispatch(f,u).then(function(p){return d.emit("screen",a,s,p.event.properties,p.event.options),p})]})})},e.prototype.trackClick=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return O(this,void 0,void 0,function(){var i,o;return A(this,function(a){switch(a.label){case 0:return[4,Promise.resolve().then(()=>(jn(),Fn))];case 1:return i=a.sent(),[2,(o=i.link).call.apply(o,W([this],r,!1))]}})})},e.prototype.trackLink=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return O(this,void 0,void 0,function(){var i,o;return A(this,function(a){switch(a.label){case 0:return[4,Promise.resolve().then(()=>(jn(),Fn))];case 1:return i=a.sent(),[2,(o=i.link).call.apply(o,W([this],r,!1))]}})})},e.prototype.trackSubmit=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return O(this,void 0,void 0,function(){var i,o;return A(this,function(a){switch(a.label){case 0:return[4,Promise.resolve().then(()=>(jn(),Fn))];case 1:return i=a.sent(),[2,(o=i.form).call.apply(o,W([this],r,!1))]}})})},e.prototype.trackForm=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return O(this,void 0,void 0,function(){var i,o;return A(this,function(a){switch(a.label){case 0:return[4,Promise.resolve().then(()=>(jn(),Fn))];case 1:return i=a.sent(),[2,(o=i.form).call.apply(o,W([this],r,!1))]}})})},e.prototype.register=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return O(this,void 0,void 0,function(){var i,o,a=this;return A(this,function(s){switch(s.label){case 0:return i=ce.system(),o=r.map(function(c){return a.queue.register(i,c,a)}),[4,Promise.all(o)];case 1:return s.sent(),[2,i]}})})},e.prototype.deregister=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return O(this,void 0,void 0,function(){var i,o,a=this;return A(this,function(s){switch(s.label){case 0:return i=ce.system(),o=r.map(function(c){var l=a.queue.plugins.find(function(u){return u.name===c});if(l)return a.queue.deregister(i,l,a);i.log("warn","plugin ".concat(c," not found"))}),[4,Promise.all(o)];case 1:return s.sent(),[2,i]}})})},e.prototype.debug=function(r){return r===!1&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=r,this},e.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},e.prototype.timeout=function(r){this.settings.timeout=r},e.prototype._dispatch=function(r,n){return O(this,void 0,void 0,function(){var i;return A(this,function(o){return i=new ce(r),ke()&&!this.options.retryQueue?[2,i]:[2,sf(i,this.queue,this,{callback:n,debug:this._debug,timeout:this.settings.timeout})]})})},e.prototype.addSourceMiddleware=function(r){return O(this,void 0,void 0,function(){var n=this;return A(this,function(i){switch(i.label){case 0:return[4,this.queue.criticalTasks.run(function(){return O(n,void 0,void 0,function(){var o,a,s;return A(this,function(c){switch(c.label){case 0:return[4,Promise.resolve().then(()=>(To(),xd))];case 1:return o=c.sent().sourceMiddlewarePlugin,a={},this.queue.plugins.forEach(function(l){if(l.type==="destination")return a[l.name]=!0}),s=o(r,a),[4,this.register(s)];case 2:return c.sent(),[2]}})})})];case 1:return i.sent(),[2,this]}})})},e.prototype.addDestinationMiddleware=function(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return this.queue.plugins.filter(_f).forEach(function(o){(r==="*"||o.name.toLowerCase()===r.toLowerCase())&&o.addMiddleware.apply(o,n)}),Promise.resolve(this)},e.prototype.setAnonymousId=function(r){return this._user.anonymousId(r)},e.prototype.queryString=function(r){return O(this,void 0,void 0,function(){var n;return A(this,function(i){switch(i.label){case 0:return this.options.useQueryString===!1?[2,[]]:[4,Promise.resolve().then(()=>(Ed(),Sd))];case 1:return n=i.sent().queryString,[2,n(this,r)]}})})},e.prototype.use=function(r){return r(this),this},e.prototype.ready=function(r){return r===void 0&&(r=function(n){return n}),O(this,void 0,void 0,function(){return A(this,function(n){return[2,Promise.all(this.queue.plugins.map(function(i){return i.ready?i.ready():Promise.resolve()})).then(function(i){return r(i),i})]})})},e.prototype.noConflict=function(){return console.warn(Mt),Pf(nu!=null?nu:this),this},e.prototype.normalize=function(r){return console.warn(Mt),this.eventFactory.normalize(r)},Object.defineProperty(e.prototype,"failedInitializations",{get:function(){return console.warn(Mt),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"VERSION",{get:function(){return mt},enumerable:!1,configurable:!0}),e.prototype.initialize=function(r,n){return O(this,void 0,void 0,function(){return A(this,function(i){return console.warn(Mt),[2,Promise.resolve(this)]})})},e.prototype.pageview=function(r){return O(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return console.warn(Mt),[4,this.page({path:r})];case 1:return n.sent(),[2,this]}})})},Object.defineProperty(e.prototype,"plugins",{get:function(){var r;return console.warn(Mt),(r=this._plugins)!==null&&r!==void 0?r:{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Integrations",{get:function(){console.warn(Mt);var r=this.queue.plugins.filter(function(n){return n.type==="destination"}).reduce(function(n,i){var o="".concat(i.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),a=window[o];if(!a)return n;var s=a.Integration;return s?(n[i.name]=s,n):(n[i.name]=a,n)},{});return r},enumerable:!1,configurable:!0}),e.prototype.push=function(r){var n=this,i=r.shift();i&&!n[i]||n[i].apply(this,r)},e}(Nr);var ou=function(t){J(e,t);function e(){var r=t.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return r.initialized=!0,r}return e}(iu);j();function au(){return typeof process>"u"||!process.env?{}:process.env}Yn();kn();Je();su();Kt();j();Rn();lo();tu();j();function Td(t){return O(this,void 0,void 0,function(){var e;return A(this,function(r){return e=navigator.userAgentData,e?t?[2,e.getHighEntropyValues(t).catch(function(){return e.toJSON()})]:[2,e.toJSON()]:[2,void 0]})})}var Wn;function Ng(){if(Wn)return Wn;var t=ho(window.location.href);return Wn={expires:31536e6,secure:!1,path:"/"},t&&(Wn.domain=t),Wn}function Mg(t){var e={btid:"dataxu",urid:"millennial-media"};t.startsWith("?")&&(t=t.substring(1)),t=t.replace(/\?/g,"&");for(var r=t.split("&"),n=0,i=r;n<i.length;n++){var o=i[n],a=o.split("="),s=a[0],c=a[1];if(e[s])return{id:c,type:e[s]}}}function Dg(t){return t.startsWith("?")&&(t=t.substring(1)),t=t.replace(/\?/g,"&"),t.split("&").reduce(function(e,r){var n=r.split("="),i=n[0],o=n[1],a=o===void 0?"":o;if(i.includes("utm_")&&i.length>4){var s=i.slice(4);s==="campaign"&&(s="name"),e[s]=Oo(a)}return e},{})}function Ug(){var t=De.get("_ga");if(t&&t.startsWith("amp"))return t}function Fg(t,e,r){var n,i=new Qe(r?[]:[new go(Ng())]),o=i.get("s:context.referrer"),a=(n=Mg(t))!==null&&n!==void 0?n:o;a&&(e&&(e.referrer=x(x({},e.referrer),a)),i.set("s:context.referrer",a))}var jg=function(t){try{var e=new URLSearchParams;return Object.entries(t).forEach(function(r){var n=r[0],i=r[1];Array.isArray(i)?i.forEach(function(o){return e.append(n,o)}):e.append(n,i)}),e.toString()}catch(r){return""}},Bg=function(){function t(){var e=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(r,n){return O(e,void 0,void 0,function(){var i,o;return A(this,function(a){switch(a.label){case 0:this.instance=n,a.label=1;case 1:return a.trys.push([1,3,,4]),i=this,[4,Td(this.instance.options.highEntropyValuesClientHints)];case 2:return i.userAgentData=a.sent(),[3,4];case 3:return o=a.sent(),[3,4];case 4:return[2,Promise.resolve()]}})})},this.enrich=function(r){var n,i,o=r.event.context,a=o.page.search||"",s=typeof a=="object"?jg(a):a;o.userAgent=navigator.userAgent,o.userAgentData=e.userAgentData;var c=navigator.userLanguage||navigator.language;typeof o.locale>"u"&&typeof c<"u"&&(o.locale=c),(n=o.library)!==null&&n!==void 0||(o.library={name:"analytics.js",version:"".concat(Fr()==="web"?"next":"npm:next","-").concat(mt)}),s&&!o.campaign&&(o.campaign=Dg(s));var l=Ug();l&&(o.amp={id:l}),Fg(s,o,(i=e.instance.options.disableClientPersistence)!==null&&i!==void 0?i:!1);try{o.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(u){}return r},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich}return t}(),Od=new Bg;j();ko();Yn();To();Je();uu();Kt();var qg=function(){function t(e,r){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=Lr(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=r,this.name=e,this.type=r.type,this.alternativeNames.push(r.name)}return t.prototype.addMiddleware=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];this.type==="destination"&&(e=this.middleware).push.apply(e,r)},t.prototype.transform=function(e){return O(this,void 0,void 0,function(){var r;return A(this,function(n){switch(n.label){case 0:return[4,Vn(this.name,e.event,this.middleware)];case 1:return r=n.sent(),r===null&&e.cancel(new be({retry:!1,reason:"dropped by destination middleware"})),[2,new ce(r)]}})})},t.prototype._createMethod=function(e){var r=this;return function(n){return O(r,void 0,void 0,function(){var i,o;return A(this,function(a){switch(a.label){case 0:return this.action[e]?(i=n,this.type!=="destination"?[3,2]:[4,this.transform(n)]):[2,n];case 1:i=a.sent(),a.label=2;case 2:return a.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!a.sent())throw new Error("Something prevented the destination from getting ready");return tt(n,{integrationName:this.action.name,methodName:e,type:"action"}),[4,this.action[e](i)];case 4:return a.sent(),[3,6];case 5:throw o=a.sent(),tt(n,{integrationName:this.action.name,methodName:e,type:"action",didError:!0}),o;case 6:return[2,n]}})})}},t.prototype.isLoaded=function(){return this.action.isLoaded()},t.prototype.ready=function(){return O(this,void 0,void 0,function(){var e;return A(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return r.sent(),[2,!0];case 2:return e=r.sent(),[2,!1];case 3:return[2]}})})},t.prototype.load=function(e,r){return O(this,void 0,void 0,function(){var n,i,o,a;return A(this,function(s){switch(s.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];s.label=1;case 1:return s.trys.push([1,3,,4]),tt(e,{integrationName:this.action.name,methodName:"load",type:"action"}),n=this.action.load(e,r),o=(i=this.loadPromise).resolve,[4,n];case 2:return o.apply(i,[s.sent()]),[2,n];case 3:throw a=s.sent(),tt(e,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(a),a;case 4:return[2]}})})},t.prototype.unload=function(e,r){var n,i;return(i=(n=this.action).unload)===null||i===void 0?void 0:i.call(n,e,r)},t}();function Gg(t){if(!Array.isArray(t))throw new Error("Not a valid list of plugins");var e=["load","isLoaded","name","version","type"];return t.forEach(function(r){e.forEach(function(n){var i;if(r[n]===void 0)throw new Error("Plugin: ".concat((i=r.name)!==null&&i!==void 0?i:"unknown"," missing required function ").concat(n))})}),!0}function zg(t,e){var r=t[e.creationName],n=t[e.name];return t.All===!1&&!r&&!n||r===!1||n===!1}function Vg(t,e){return O(this,void 0,void 0,function(){var r,n,i,o,a,s,c;return A(this,function(l){switch(l.label){case 0:if(l.trys.push([0,9,,10]),r=new RegExp("https://cdn.segment.(com|build)"),n=Hn(),!e)return[3,6];i=t.url.split("/"),o=i[i.length-2],a=t.url.replace(o,btoa(o).replace(/=/g,"")),l.label=1;case 1:return l.trys.push([1,3,,5]),[4,vt(a.replace(r,n))];case 2:return l.sent(),[3,5];case 3:return s=l.sent(),[4,vt(t.url.replace(r,n))];case 4:return l.sent(),[3,5];case 5:return[3,8];case 6:return[4,vt(t.url.replace(r,n))];case 7:l.sent(),l.label=8;case 8:return typeof window[t.libraryName]=="function"?[2,window[t.libraryName]]:[3,10];case 9:throw c=l.sent(),console.error("Failed to create PluginFactory",t),c;case 10:return[2]}})})}function kd(t,e,r,n,i,o){var a,s,c;return O(this,void 0,void 0,function(){var l,u,f,d=this;return A(this,function(m){switch(m.label){case 0:return l=[],u=(s=(a=t.middlewareSettings)===null||a===void 0?void 0:a.routingRules)!==null&&s!==void 0?s:[],f=((c=t.remotePlugins)!==null&&c!==void 0?c:[]).map(function(p){return O(d,void 0,void 0,function(){var v,g,b,y,w,I;return A(this,function(S){switch(S.label){case 0:if(zg(e,p))return[2];S.label=1;case 1:return S.trys.push([1,6,,7]),g=o==null?void 0:o.find(function(_){var h=_.pluginName;return h===p.name}),g?[3,3]:[4,Vg(p,n==null?void 0:n.obfuscate)];case 2:g=S.sent(),S.label=3;case 3:return v=g,v?[4,v(x(x({},p.settings),r[p.name]))]:[3,5];case 4:b=S.sent(),y=Array.isArray(b)?b:[b],Gg(y),w=u.filter(function(_){return _.destinationName===p.creationName}),y.forEach(function(_){var h=new qg(p.creationName,_);w.length&&i&&h.addMiddleware(i),l.push(h)}),S.label=5;case 5:return[3,7];case 6:return I=S.sent(),console.warn("Failed to load Remote Plugin",I),[3,7];case 7:return[2]}})})}),[4,Promise.all(f)];case 1:return m.sent(),[2,l.filter(Boolean)]}})})}j();Dr();Pn();Ln();Zs();j();kn();var Rd=function(t){var e=!1;window.addEventListener("pagehide",function(){e||(e=!0,t(e))}),document.addEventListener("visibilitychange",function(){if(document.visibilityState=="hidden"){if(e)return;e=!0}else e=!1;t(e)})};j();var Ro=function(t){J(e,t);function e(r,n){var i=t.call(this,r)||this;return i.retryTimeout=n,i.name="RateLimitError",i}return e}(Error);Je();var Hg=500,Kg=64;function cu(t){var e=encodeURI(JSON.stringify(t)).split(/%..|./).length-1;return e/1024}function Yg(t){return cu(t)>=Hg-50}function Wg(t){return cu(t)>=Kg-10}function $g(t){var e=[],r=0;return t.forEach(function(n){var i=cu(e[r]);i>=64&&r++,e[r]?e[r].push(n):e[r]=[n]}),e}function lu(t,e){var r,n,i=[],o=!1,a=(r=e==null?void 0:e.size)!==null&&r!==void 0?r:10,s=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:5e3,c=0;function l(p){var v;if(p.length!==0){var g=(v=p[0])===null||v===void 0?void 0:v.writeKey,b=p.map(function(y){var w=y,I=w.sentAt,S=to(w,["sentAt"]);return S});return kt("https://".concat(t,"/b"),{keepalive:(e==null?void 0:e.keepalive)||o,headers:{"Content-Type":"text/plain"},method:"post",body:JSON.stringify({writeKey:g,batch:b,sentAt:new Date().toISOString()})}).then(function(y){var w;if(y.status>=500)throw new Error("Bad response from server: ".concat(y.status));if(y.status===429){var I=(w=y.headers)===null||w===void 0?void 0:w.get("x-ratelimit-reset"),S=typeof I=="string"?parseInt(I)*1e3:s;throw new Ro("Rate limit exceeded: ".concat(y.status),S)}})}}function u(p){var v;return p===void 0&&(p=1),O(this,void 0,void 0,function(){var g;return A(this,function(b){return i.length?(g=i,i=[],[2,(v=l(g))===null||v===void 0?void 0:v.catch(function(y){var w,I=ce.system();I.log("error","Error sending batch",y),p<=((w=e==null?void 0:e.maxRetries)!==null&&w!==void 0?w:10)&&(y.name==="RateLimitError"&&(c=y.retryTimeout),i.push.apply(i,g),i.map(function(S){if("_metadata"in S){var _=S;_._metadata=x(x({},_._metadata),{retryCount:p})}}),d(p+1))})]):[2]})})}var f;function d(p){p===void 0&&(p=1),!f&&(f=setTimeout(function(){f=void 0,u(p).catch(console.error)},c||s),c=0)}Rd(function(p){if(o=p,o&&i.length){var v=$g(i).map(l);Promise.all(v).catch(console.error)}});function m(p,v){return O(this,void 0,void 0,function(){var g;return A(this,function(b){return i.push(v),g=i.length>=a||Yg(i)||(e==null?void 0:e.keepalive)&&Wg(i),[2,g||o?u():d()]})})}return{dispatch:m}}kn();function Pd(t){function e(r,n){return kt(r,{keepalive:t==null?void 0:t.keepalive,headers:{"Content-Type":"text/plain"},method:"post",body:JSON.stringify(n)}).then(function(i){var o;if(i.status>=500)throw new Error("Bad response from server: ".concat(i.status));if(i.status===429){var a=(o=i.headers)===null||o===void 0?void 0:o.get("x-ratelimit-reset"),s=a?parseInt(a)*1e3:5e3;throw new Ro("Rate limit exceeded: ".concat(i.status),s)}})}return{dispatch:e}}j();function Ld(t,e,r,n,i){var o,a=t.user();delete e.options,e.writeKey=r==null?void 0:r.apiKey,e.userId=e.userId||a.id(),e.anonymousId=e.anonymousId||a.anonymousId(),e.sentAt=new Date;var s=t.queue.failedInitializations||[];s.length>0&&(e._metadata={failedInitializations:s}),i!=null&&(i.attempts>1&&(e._metadata=x(x({},e._metadata),{retryCount:i.attempts})),i.attempts++);var c=[],l=[];for(var u in n){var f=n[u];u==="Segment.io"&&c.push(u),f.bundlingStatus==="bundled"&&c.push(u),f.bundlingStatus==="unbundled"&&l.push(u)}for(var d=0,m=(r==null?void 0:r.unbundledIntegrations)||[];d<m.length;d++){var p=m[d];l.includes(p)||l.push(p)}var v=(o=r==null?void 0:r.maybeBundledConfigIds)!==null&&o!==void 0?o:{},g=[];return c.sort().forEach(function(b){var y;((y=v[b])!==null&&y!==void 0?y:[]).forEach(function(w){g.push(w)})}),(r==null?void 0:r.addBundledMetadata)!==!1&&(e._metadata=x(x({},e._metadata),{bundled:c.sort(),unbundled:l.sort(),bundledIds:g})),e}j();Dr();Je();we();fu();function Jg(t,e){return O(this,void 0,void 0,function(){var r,n=this;return A(this,function(i){switch(i.label){case 0:return r=[],ke()?[2,e]:[4,Po(function(){return e.length>0&&!ke()},function(){return O(n,void 0,void 0,function(){var o,a,s;return A(this,function(c){switch(c.label){case 0:return o=e.pop(),o?[4,pt(o,t)]:[2];case 1:return a=c.sent(),s=a instanceof ce,s||r.push(o),[2]}})})})];case 1:return i.sent(),r.map(function(o){return e.pushWithBackoff(o)}),[2,e]}})})}function tr(t,e,r,n){var i=this;t||setTimeout(function(){return O(i,void 0,void 0,function(){var o,a;return A(this,function(s){switch(s.label){case 0:return o=!0,[4,Jg(r,e)];case 1:return a=s.sent(),o=!1,e.todo>0&&n(o,a,r,n),[2]}})})},Math.random()*5e3)}xs();function Xg(t,e){var r,n,i,o,a=t.user();return e.previousId=(i=(n=(r=e.previousId)!==null&&r!==void 0?r:e.from)!==null&&n!==void 0?n:a.id())!==null&&i!==void 0?i:a.anonymousId(),e.userId=(o=e.userId)!==null&&o!==void 0?o:e.to,delete e.from,delete e.to,e}function $n(t,e,r){var n,i,o;window.addEventListener("pagehide",function(){s.push.apply(s,Array.from(c)),c.clear()});var a=(n=e==null?void 0:e.apiKey)!==null&&n!==void 0?n:"",s=t.options.disableClientPersistence?new dt(t.queue.queue.maxAttempts,[]):new Rt(t.queue.queue.maxAttempts,"".concat(a,":dest-Segment.io")),c=new Set,l=!1,u=(i=e==null?void 0:e.apiHost)!==null&&i!==void 0?i:fo,f=(o=e==null?void 0:e.protocol)!==null&&o!==void 0?o:"https",d="".concat(f,"://").concat(u),m=e==null?void 0:e.deliveryStrategy,p=(m==null?void 0:m.strategy)==="batching"?lu(u,m.config):Pd(m==null?void 0:m.config);function v(b){return O(this,void 0,void 0,function(){var y,w;return A(this,function(I){return ke()?(s.push(b),tr(l,s,g,tr),[2,b]):(c.add(b),y=b.event.type.charAt(0),w=en(b.event).json(),b.event.type==="track"&&delete w.traits,b.event.type==="alias"&&(w=Xg(t,w)),[2,p.dispatch("".concat(d,"/").concat(y),Ld(t,w,e,r,b)).then(function(){return b}).catch(function(S){if(b.log("error","Error sending event",S),S.name==="RateLimitError"){var _=S.retryTimeout;s.pushWithBackoff(b,_)}else s.pushWithBackoff(b);return tr(l,s,g,tr),b}).finally(function(){c.delete(b)})])})})}var g={name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:v,identify:v,page:v,alias:v,group:v,screen:v};return s.todo&&tr(l,s,g,tr),g}co();var du,Nd,Qg=Ur(),Md=(du=(Nd=Qg).__SEGMENT_INSPECTOR__)!==null&&du!==void 0?du:Nd.__SEGMENT_INSPECTOR__={},Dd=function(t){var e;return(e=Md.attach)===null||e===void 0?void 0:e.call(Md,t)};Ss();Dn();function sy(t,e){return kt("".concat(e,"/v1/projects/").concat(t,"/settings")).then(function(r){return r.ok?r.json():r.text().then(function(n){throw new Error(n)})}).catch(function(r){throw console.error(r.message),r})}function uy(t){return au().NODE_ENV!=="test"&&Object.keys(t.integrations).length>1}function cy(t){var e,r,n;return au().NODE_ENV!=="test"&&((n=(r=(e=t.middlewareSettings)===null||e===void 0?void 0:e.routingRules)===null||r===void 0?void 0:r.length)!==null&&n!==void 0?n:0)>0}function ly(t,e){Ff(t,e),Uf(t,e)}function fy(t,e){return O(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return[4,Mf(t,e)];case 1:return r.sent(),jf(t,e),[2]}})})}function dy(t,e,r,n,i,o,a){var s,c,l;return i===void 0&&(i=[]),O(this,void 0,void 0,function(){var u,f,d,m,p,v,g,b,y,w,I,S,_,h,T,C=this;return A(this,function(k){switch(k.label){case 0:return ly(r,a),u=i==null?void 0:i.filter(function(R){return typeof R=="object"}),f=i==null?void 0:i.filter(function(R){return typeof R=="function"&&typeof R.pluginName=="string"}),cy(e)?[4,Promise.resolve().then(()=>(jd(),Fd)).then(function(R){return R.tsubMiddleware(e.middlewareSettings.routingRules)})]:[3,2];case 1:return m=k.sent(),[3,3];case 2:m=void 0,k.label=3;case 3:return d=m,uy(e)||o.length>0?[4,Promise.resolve().then(()=>(Zd(),Qd)).then(function(R){return R.ajsDestinations(t,e,r.integrations,n,d,o)})]:[3,5];case 4:return v=k.sent(),[3,6];case 5:v=[],k.label=6;case 6:return p=v,e.legacyVideoPluginsEnabled?[4,Promise.resolve().then(()=>(rp(),tp)).then(function(R){return R.loadLegacyVideoPlugins(r)})]:[3,8];case 7:k.sent(),k.label=8;case 8:return!((s=n.plan)===null||s===void 0)&&s.track?[4,Promise.resolve().then(()=>(ip(),np)).then(function(R){var U;return R.schemaFilter((U=n.plan)===null||U===void 0?void 0:U.track,e)})]:[3,10];case 9:return b=k.sent(),[3,11];case 10:b=void 0,k.label=11;case 11:return g=b,y=Co(e,n),[4,kd(e,r.integrations,y,n,d,f).catch(function(){return[]})];case 12:return w=k.sent(),I=W(W([Od],p,!0),w,!0),g&&I.push(g),S=((c=n.integrations)===null||c===void 0?void 0:c.All)===!1&&!n.integrations["Segment.io"]||n.integrations&&n.integrations["Segment.io"]===!1,S?[3,14]:(h=(_=I).push,[4,$n(r,y["Segment.io"],e.integrations)]);case 13:h.apply(_,[k.sent()]),k.label=14;case 14:return[4,r.register.apply(r,W(W([],I,!1),u,!1))];case 15:return T=k.sent(),[4,Df(r,a)];case 16:return k.sent(),Object.entries((l=e.enabledMiddleware)!==null&&l!==void 0?l:{}).some(function(R){var U=R[1];return U})?[4,Promise.resolve().then(()=>(ap(),op)).then(function(R){var U=R.remoteMiddlewares;return O(C,void 0,void 0,function(){var le,Se;return A(this,function(Ue){switch(Ue.label){case 0:return[4,U(T,e,n.obfuscate)];case 1:return le=Ue.sent(),Se=le.map(function(ht){return r.addSourceMiddleware(ht)}),[2,Promise.all(Se)]}})})})]:[3,18];case 17:k.sent(),k.label=18;case 18:return[2,T]}})})}function py(t,e,r){var n,i,o,a,s,c,l,u,f,d,m;return e===void 0&&(e={}),O(this,void 0,void 0,function(){var p,v,g,b,y,w,I,S,_,h,T,C,k;return A(this,function(R){switch(R.label){case 0:return e.disable===!0?[2,[new ou,ce.system()]]:(e.globalAnalyticsKey&&Rf(e.globalAnalyticsKey),t.cdnURL&&Id(t.cdnURL),e.initialPageview&&r.add(new Un("page",[])),p=(n=t.cdnURL)!==null&&n!==void 0?n:Hn(),(i=t.cdnSettings)!==null&&i!==void 0?(g=i,[3,3]):[3,1]);case 1:return[4,sy(t.writeKey,p)];case 2:g=R.sent(),R.label=3;case 3:return v=g,e.updateCDNSettings&&(v=e.updateCDNSettings(v)),typeof e.disable!="function"?[3,5]:[4,e.disable(v)];case 4:if(b=R.sent(),b)return[2,[new ou,ce.system()]];R.label=5;case 5:return y=(a=(o=v.integrations["Segment.io"])===null||o===void 0?void 0:o.retryQueue)!==null&&a!==void 0?a:!0,e=x({retryQueue:y},e),w=new iu(x(x({},t),{cdnSettings:v,cdnURL:p}),e),Dd(w),I=(s=t.plugins)!==null&&s!==void 0?s:[],S=(c=t.classicIntegrations)!==null&&c!==void 0?c:[],_=(l=e.integrations)===null||l===void 0?void 0:l["Segment.io"],mo.initRemoteMetrics(x(x({},v.metrics),{host:(u=_==null?void 0:_.apiHost)!==null&&u!==void 0?u:(f=v.metrics)===null||f===void 0?void 0:f.host,protocol:_==null?void 0:_.protocol})),[4,dy(t.writeKey,v,w,e,I,S,r)];case 6:return h=R.sent(),T=(d=window.location.search)!==null&&d!==void 0?d:"",C=(m=window.location.hash)!==null&&m!==void 0?m:"",k=T.length?T:C.replace(/(?=#).*(?=\?)/,""),k.includes("ajs_")?[4,w.queryString(k).catch(console.error)]:[3,8];case 7:R.sent(),R.label=8;case 8:return w.initialized=!0,w.emit("initialize",t,e),[4,fy(w,r)];case 9:return R.sent(),[2,[w,h]]}})})}var hu=function(t){J(e,t);function e(){var r=this,n=Lr(),i=n.promise,o=n.resolve;return r=t.call(this,function(a){return i.then(function(s){var c=s[0],l=s[1];return py(c,l,a)})})||this,r._resolveLoadStart=function(a,s){return o([a,s])},r}return e.prototype.load=function(r,n){return n===void 0&&(n={}),this._resolveLoadStart(r,n),this},e.load=function(r,n){return n===void 0&&(n={}),new e().load(r,n)},e.standalone=function(r,n){return e.load({writeKey:r},n).then(function(i){return i[0]})},e}(qf);Je();var sp=yt(es(),1);var gu=class{constructor(e){E(this,"analytics");E(this,"name","remento-identity");E(this,"version","1.0.0");E(this,"type","enrichment");this.analytics=e}addIdentity(e){let r=this.analytics.getUser();return r.type==="identified"?(e.event.userId=r.id,e.event.anonymousId=r.anonymousId):e.event.anonymousId=r.id,e}isLoaded(){return!0}async load(){return!0}track(e){return this.addIdentity(e)}page(e){return this.addIdentity(e)}identify(e){return this.addIdentity(e)}},Do=class{constructor(e){E(this,"client");E(this,"name","remento-remote");E(this,"version","1.0.0");E(this,"type","destination");this.client=e}isLoaded(){return!0}async load(){return!0}async track(e){return await this.client.track(e.event),e}async page(e){return await this.client.page(e.event),e}},Uo=class extends Pr{constructor(r,n,i,o,a,s){super();E(this,"analyticsService");E(this,"idService");E(this,"abTestService");E(this,"logger");E(this,"user");E(this,"segment");E(this,"source");E(this,"segmentSettings");E(this,"segmentEnabled");E(this,"init");E(this,"deviceType");switch(this.analyticsService=r,this.idService=n,this.abTestService=i,this.logger=o,this.user=a,this.source=s.source,this.segmentSettings={apiKey:s.segment.key,apiHost:"".concat(s.segment.apiHost,"/v1")},this.segmentEnabled=a.type!="anonymous",this.segment=hu.load({writeKey:s.segment.key,cdnURL:s.segment.cdnURL},{integrations:{"Segment.io":a.type=="anonymous"?!1:this.segmentSettings}}),new sp.default(navigator.userAgent).getDevice().type){case"tablet":this.deviceType="tablet";break;case"mobile":case"wearable":case"embedded":this.deviceType="mobile";break;default:this.deviceType="desktop";break}this.init=this.segment.register(new gu(this)).then(async()=>{a.type==="anonymous"&&this.segment.register(new Do(r)).catch(f=>this.logger.error("REGISTER_ERROR",()=>({error:f})));let u=await this.segment.user();if(a.type=="identified"){let f=u.id(),d=u.anonymousId();(f!==a.id||d!=a.anonymousId)&&(u.id(a.id),u.anonymousId(a.anonymousId),this.logger.debug("SEGMENT_UPDATED",()=>({userId:a.id,segmentUserId:f,anonymousId:a.anonymousId,segmentAnonymousId:d})))}else a.type=="anonymous"&&u.anonymousId(a.id)}).catch(u=>{throw this.logger.error("REGISTER_ERROR",()=>({error:u})),u})}async fetchUserId(r){return!Array.isArray(r)&&r.type=="id"?r.value:await this.idService.getUserId(Array.isArray(r)?r:[r])}async linkUserId(r,n){return!Array.isArray(n)&&n.type=="id"?{id:n.value,status:r==n.value?"UNCHANGED":"CONFLICT"}:await this.idService.linkUserId(r,Array.isArray(n)?n:[n])}buildUserProperties(r){if(Array.isArray(r))return r.reduce((n,i)=>Object.assign(n,this.buildUserProperties(i)),{});switch(r.type){case"id":return{};case"email":return{email:r.value};case"phone":return{phone:r.value}}}buildExperimentsProperties(r){if(this.abTestService==null)return{};let n=this.abTestService.getAllUserVariants(r,navigator.userAgent),i={};for(let[o,a]of Object.entries(n))i["experiment".concat(ri(o))]=a;return i}async enableSegment(){if(this.segmentEnabled)return;await this.init,this.segmentEnabled=!0;let r=await new Promise((n,i)=>{this.segment.then(([o])=>n(o),i)});r.integrations["Segment.io"]=this.segmentSettings,await Promise.all([this.segment.register($n(r,this.segmentSettings,r.settings.cdnSettings.integrations)),this.segment.deregister("remento-remote")])}async identify(r,n,i,o=!1){var l;if(Array.isArray(r)&&r.length==0)throw new Error("Expected at least one identifier");await this.init;let a=this.user,s=this.buildUserProperties(r);if(a.type=="anonymous"){let[u]=await Promise.all([this.fetchUserId(r),this.enableSegment()]);this.user={id:u,anonymousId:a.id,traits:P(P({},i),s),type:"identified",source:"new"}}else if(o||a.isTemporary){let u=await this.fetchUserId(r);this.user={type:"identified",id:u,anonymousId:null,traits:P(P({},i),s),isTemporary:o!=null?o:!1,source:"new"}}else{let{id:u,status:f}=await this.linkUserId(a.id,r);switch(this.user=Q(P({},a),{id:u,traits:P(P(P({},a.traits),i),s)}),f){case"LINKED":this.logger.info("IDENTIFY.LINKED",()=>({user:this.user,previousUser:a,status:f})),await this.segment.track("link-ruid",s);break;case"CONFLICT":this.logger.warn("IDENTIFY.CONFLICT",()=>({user:this.user,previousUser:a,status:f})),await this.segment.track("link-ruid.conflict",P({userId:u},s));break;case"NEW":case"UNCHANGED":break}}let c=this.buildExperimentsProperties(this.user.id);this.user.traits=Q(P(P({},this.user.traits),c),{name:((l=i==null?void 0:i.name)!=null?l:(i==null?void 0:i.firstName)!=null&&(i==null?void 0:i.lastName)!=null)?"".concat(i.firstName," ").concat(i.lastName):void 0}),await this.segment.identify(this.user.id,this.user.traits),this.logger.info("IDENTIFY",()=>({user:this.user,previousUser:a,status})),this.emit("identify",this.user,a)}async reset(){if(await this.init,!this.segmentEnabled)return;let r={id:Ke(),type:"anonymous",traits:{},source:"new"};this.segmentEnabled=!1,this.logger.info("RESET",()=>({newUser:r}));let[n]=await this.segment;n.integrations["Segment.io"]=!1,await Promise.all([this.segment.deregister("Segment.io"),this.segment.register(new Do(this.analyticsService))]);let i=await this.segment.user();i.id(null),i.anonymousId(r.id),i.traits({}),this.user=r,this.emit("reset",r)}getUser(){return this.user}async page(r,n){await this.init;let i=this.buildExperimentsProperties(this.user.id),o=Q(P(P({},n),i),{source:this.source,deviceType:this.deviceType});this.logger.info("PAGE",()=>({name:r,properties:o,user:this.user})),this.emit("page",r,o),await this.segment.page(r!=null?r:"unknown",o)}async track(r,n){await this.init;let i=this.buildExperimentsProperties(this.user.id),o=Q(P(P({},n),i),{source:this.source,deviceType:this.deviceType});this.logger.info("TRACK",()=>({event:r,properties:o,user:this.user})),this.emit("track",r,o),await this.segment.track(r,Q(P({},o),{source:this.source}))}};var Fo=class t{constructor(e){E(this,"baseURL");this.baseURL=e}static serializeEvent(e){var r,n,i,o,a,s,c,l;return{messageId:e.messageId,name:e.name,properties:e.properties,context:{ip:(r=e.context)==null?void 0:r.ip,locale:(n=e.context)==null?void 0:n.locale,location:(i=e.context)==null?void 0:i.location,page:(o=e.context)==null?void 0:o.page,userAgent:(a=e.context)==null?void 0:a.userAgent,campaign:(s=e.context)==null?void 0:s.campaign,referrer:(c=e.context)==null?void 0:c.referrer},userId:e.userId,anonymousId:e.anonymousId,previousId:e.previousId,event:e.event,sentAt:(l=e.sentAt)==null?void 0:l.toISOString(),timestamp:e.timestamp!=null&&e.timestamp instanceof Date?e.timestamp.toISOString():e.timestamp}}async track(e){await fetch("".concat(this.baseURL,"/t/track"),{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(t.serializeEvent(e))})}async page(e){await fetch("".concat(this.baseURL,"/t/page"),{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(t.serializeEvent(e))})}};var up="ro_ruid",yu="ro_anon_id",my="ajs_user_id",vy="ajs_anonymous_id",cp="@remento/id-repository/ruid",bu="@remento/id-repository/anon_id",jo=class{constructor(e){E(this,"cookieSettings");this.cookieSettings={expires:365,domain:e,sameSite:"lax"}}saveForSession(e){return e.type=="identified"?(sessionStorage.setItem(cp,e.id),e.anonymousId&&sessionStorage.setItem(bu,e.anonymousId)):sessionStorage.setItem(bu,e.id),e.type==="identified"?Q(P({},e),{source:"session",isTemporary:!0}):Q(P({},e),{source:"session"})}save(e){return e.type=="identified"?(Fe.set(up,e.id,this.cookieSettings),e.anonymousId&&Fe.set(yu,e.anonymousId,this.cookieSettings)):Fe.set(yu,e.id,this.cookieSettings),Q(P({},e),{source:"cookies"})}get(){var c,l,u;let e,n=new URLSearchParams(window.location.search).get("utm_ruid"),i=sessionStorage.getItem(cp),o=sessionStorage.getItem(bu),a=(c=Fe.get(up))!=null?c:Fe.get(my),s=(u=(l=Fe.get(yu))!=null?l:Fe.get(vy))!=null?u:null;return n!=null?e={id:n,type:"identified",traits:{},anonymousId:a!=null&&a!=n?Ke():s,source:"utm"}:i!=null?e={id:i,type:"identified",traits:{},anonymousId:o,source:"session",isTemporary:!0}:a!=null?e={id:a,type:"identified",traits:{},anonymousId:s,source:"cookies"}:s!=null?e={id:s,type:"anonymous",traits:{},source:"cookies"}:e={id:Ke(),type:"anonymous",traits:{},source:"new"},e}};var Bo=class{constructor(e){E(this,"baseURL");this.baseURL=e}async getUserId(e){return(await(await fetch("".concat(this.baseURL,"/u/id"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})).json()).id}async linkUserId(e,r){return await(await fetch("".concat(this.baseURL,"/u/id/").concat(e,"/link"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)})).json()}};var qo=class{constructor(e,r,n,i,o){E(this,"locationId");E(this,"config");E(this,"router");E(this,"logger");E(this,"client");E(this,"tooltips",new Map);E(this,"initialized",!1);E(this,"$bootstrapNamespace");E(this,"initDependencies",[]);this.locationId=e,this.config=r,this.router=n,this.logger=i,this.client=o}registerTooltips(e,r){return this.tooltips.has(e)?(this.logger.warn("TOOLTIP_REGISTER_ERROR",()=>({id:e,error:"ALREADY_REGISTERED"})),!1):(this.tooltips.set(e,r),!0)}async insertExternalScript(e){let r=document.createElement("script");r.src=e;let n=new Promise(i=>r.addEventListener("load",i));document.body.appendChild(r),await n}async insertExternalStyle(e){let r=document.createElement("link");r.rel="stylesheet",r.href=e;let n=new Promise(i=>r.addEventListener("load",i));document.head.appendChild(r),await n}insertStyle(e){let r=document.createElement("style");r.innerHTML=e,document.head.appendChild(r)}createBootstrapNamespace(e=!1){var i,o;let r=document.querySelector("body");if(r==null)return;if(((o=(i=this.config)==null?void 0:i.bootstrap)==null?void 0:o.namespace)==null){if(!e)return r;let a=document.createElement("div");return r.appendChild(a),a}let n=document.createElement("div");return n.classList.add(this.config.bootstrap.namespace),n.setAttribute("data-bs-theme","light"),r.appendChild(n),n}async transformEvent(e){return Q(P({},e),{payload:this.router.transform(e.type,e.payload)})}renderTooltipContent(e){let r=P(P({},e.payload.properties),e.payload.data),n=[];return e.identify!==void 0&&n.push("<b>Identify</b>: ".concat(e.identify)),n.push("<b>Event</b>: ".concat(e.type," {"),...Object.keys(r).sort().filter(i=>r[i]!=null).map(i=>"  ".concat(i,": ").concat(r[i])),"}"),n.join("<br>").replaceAll(" ","&nbsp;")}initTooltip(e,r){e.classList.add("debugger-tooltip-anchor");let n=new window.bootstrap.Tooltip(e,{html:!0,container:this.$bootstrapNamespace,trigger:"manual",placement:"bottom",title:"Loading..."}),i=!1,o=!1;e.addEventListener("mouseover",async()=>{if(o)return;i=!1,o=!0;let a=r(e);if(a.type==null||a.payload==null){n.setContent({".tooltip-inner":"The element generated an invalid event. No data will be sent."}),n.show();return}let s=a,c=this.renderTooltipContent(await this.transformEvent(s));i||(n.setContent({".tooltip-inner":c}),n.show())}),e.addEventListener("mouseleave",async()=>{o&&(i=!0,o=!1,n.hide())})}initTooltips(){this.insertStyle("\n      .debugger-tooltip-anchor {\n        border: 1px solid red!important;\n      }\n      .tooltip .tooltip-inner {\n        text-align: left;\n        max-width: 500px;\n      }\n    ");let e=Array.from(this.tooltips.values()).map(r=>r());for(let r of e)r.elements.forEach(n=>this.initTooltip(n,r.getEvent))}renderStatusBar(e){let r=["<b>LocationId</b>: ".concat(this.locationId)];if(this.client){let n=this.client.getUser();r.push("<b>Identity</b>: ".concat(n.id," (").concat(n.type,")")),Object.keys(n.traits).length==0?r.push("<b>Identity traits</b> N/A"):r.push("<b>Identity traits</b> {",...Object.keys(n.traits).map(i=>"  ".concat(i,": ").concat(n.traits[i])),"}")}e.innerHTML=r.join("<br>").replaceAll(" ","&nbsp;")}initStatusBar(){var r;this.insertStyle("\n      .debugger-status {\n            position: fixed;\n            left: 0;\n            bottom: 0;\n            background-color: red;\n            width: 100%;\n            max-width: 500px;\n      }\n    ");let e=this.createBootstrapNamespace(!0);e!=null&&(e.classList.add("debugger-status"),this.renderStatusBar(e),(r=this.client)==null||r.on("identify",()=>this.renderStatusBar(e)))}registerInitDependency(e){this.initDependencies.push(e)}async init(){if(this.initialized){this.logger.warn("INIT_ERROR",()=>({error:"ALREADY_INITIALIZED"}));return}"jQuery"in window||await this.insertExternalScript("https://code.jquery.com/jquery-3.7.1.min.js"),await this.insertExternalScript("https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"),await this.insertExternalScript("https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"),this.$bootstrapNamespace=this.createBootstrapNamespace(),await Promise.all(this.initDependencies),this.initTooltips(),this.initStatusBar()}};var Go=class{constructor(e){E(this,"logger");E(this,"plugins",new Map);E(this,"publisherIds",[]);E(this,"transformIds",[]);E(this,"transforms",[]);E(this,"handlerIds",[]);E(this,"handlers",[]);this.logger=e}hasPlugin(e){return this.plugins.has(e)}getPlugin(e){var r;return(r=this.plugins.get(e))!=null?r:null}registerPlugin(e,r){return this.plugins.has(e)?(this.logger.warn("REGISTER_PLUGIN_ERROR",()=>({id:e,error:"ALREADY_REGISTERED"})),!1):(this.logger.debug("REGISTER_PLUGIN",()=>({id:e})),this.plugins.set(e,r),!0)}registerPublisher(e){return this.publisherIds.indexOf(e)!==-1?(this.logger.warn("REGISTER_PUBLISHER_ERROR",()=>({id:e,error:"ALREADY_REGISTERED"})),!1):(this.logger.debug("REGISTER_PUBLISHER",()=>({id:e})),this.publisherIds.push(e),!0)}registerTransform(e,r){return this.transformIds.indexOf(e)!==-1?(this.logger.warn("REGISTER_TRANSFORM_ERROR",()=>({id:e,error:"ALREADY_REGISTERED"})),!1):(this.logger.debug("REGISTER_TRANSFORM",()=>({id:e})),this.transformIds.push(e),this.transforms.push(r),!0)}registerHandler(e,r){return this.handlerIds.indexOf(e)!==-1?(this.logger.warn("REGISTER_HANDLER_ERROR",()=>({id:e,error:"ALREADY_REGISTERED"})),!1):(this.logger.debug("REGISTER_HANDLER",()=>({id:e})),this.handlerIds.push(e),this.handlers.push(r),!0)}transform(e,r){return this.transforms.reduce((n,i)=>i(e,n),r)}async publish(e,r,n=!0){try{let i=n?this.transform(e,r):r;for(let o=0;o<this.handlers.length;o++){let a=this.handlers[o],s=this.handlerIds[o];if(await a(e,i))return this.logger.debug("PUBLISH_SUCCESS",()=>({handlerId:s,event:e,payload:r})),!0;this.logger.trace("PUBLISH_HANDLER_SKIPPED",()=>({handlerId:s,event:e,payload:r}))}return this.logger.warn("PUBLISH_SKIPPED",()=>({event:e,payload:r})),!1}catch(i){return this.logger.warn("PUBLISH_ERROR",()=>({event:e,payload:r,error:i})),!1}}};var zo=class extends Pr{constructor(r){super();E(this,"logger");E(this,"init");this.logger=r,this.init=li(ci(window,"Termly"),5e3).then(()=>typeof window.Termly.getConsentState=="function"?window.Termly:new Promise(n=>window.Termly.on("initialized",n)).then(()=>window.Termly)).then(n=>{let i=this.mapConsent(window.Termly.getConsentState());return this.logger.debug("TERMLY_INIT",()=>P({},i)),n.on("consent",()=>{let o=this.mapConsent(n.getConsentState());this.logger.debug("TERMLY_UPDATE",()=>P({},o)),this.emit("change",o)}),n}).catch(n=>(r.error("TERMLY_INIT_ERROR",()=>({error:n})),null))}mapConsent(r){if(r==null)return{unclassified:!1,essential:!1,performance:!1,analytics:!1,advertising:!1,socialNetworking:!1};let o=r,{social_networking:n}=o,i=ir(o,["social_networking"]);return Q(P({},i),{socialNetworking:n})}async getConsentState(){let r=await this.init;return this.mapConsent(r==null?void 0:r.getConsentState())}};async function lp(t,e,r){let n=t.extend("replay");if(r.sessionSampleRate!=null&&Math.random()*100>r.sessionSampleRate){n.info("SESSION_IGNORED");return}n.info("SESSION_START",()=>({config:r})),window.DD_RUM={q:[]};let i=document.querySelector("head"),o=document.createElement("script");return o.async=!0,o.src="https://www.datadoghq-browser-agent.com/us5/v5/datadog-rum.js",i.appendChild(o),li(new Promise(a=>{window.DD_RUM.q.push(()=>{var s,c;(c=(s=window.DD_RUM).init)==null||c.call(s,r),a(window.DD_RUM)})}),5e3)}async function fp(t,e){var w,I,S;let r=new URL(document.URL),n={clientToken:"pub25e2529949e7ecc0d55790836150b10d",trackingConsent:"not-granted",env:"production",proxy:_=>"https://www.remento.co/api/dd"+"".concat(_.path,"?").concat(_.parameters),service:"remento-main-web",site:"us5.datadoghq.com"};At.init(P({forwardErrorsToLogs:!0,sessionSampleRate:100},n));let o=new En({transports:[new Qi,new Zi(At.logger)],metadata:{},defaultLevel:(I=ts((w=r.searchParams.get("ro_logger_level"))!=null?w:null))!=null?I:q.warn}).createLogger("analytics");window.ANALYTICS_PAGE==null&&o.warn("MISSING_CONFIG",()=>({key:"ANALYTICS_PAGE"}));let a=new jo("remento.co"),s=new Yi,c=new zo(o.extend("consent-client")),l=new Bo("https://www.remento.co/api/a"),u=new $i(t,P(P({},s.get()),Nu(new URLSearchParams(window.location.search),t)),!0),f=new Fo("https://www.remento.co/api/a"),d=new Go(o.extend("router")),m=a.get();m.source!="cookies"&&m.source!="session"&&a.save(m);let p=u.getAllUserVariants(m.id,navigator.userAgent);s.save(p);let v={source:"remento-main-web",segment:{key:"h8r0ZSVugFZqleYSJOzpnY00jORC9oP7",cdnURL:"https://www.remento.co/cdn/seg",apiHost:"www.remento.co/api/seg"}},g=new Uo(f,l,null,o.extend("client"),m,v),b=r.searchParams.get("ro_debug")==null?null:new qo("".concat(v.source,".").concat(window.ANALYTICS_PAGE),{bootstrap:{namespace:"tw-bt"}},d,o.extend("debugger"),g);g.on("identify",_=>{a.save(_),At.setUser({id:_.id})}),g.on("reset",_=>{a.save(_),At.clearUser()}),c.on("change",_=>{At.setTrackingConsent(_.analytics==!0?"granted":"not-granted")}),await e(d,g,u,b,o);for(let _ of(S=window.ANALYTICS_INITIALIZERS)!=null?S:[])await _(d,g,u,b,o);await(b==null?void 0:b.init()),c.getConsentState().then(_=>{At.setTrackingConsent(_.analytics?"granted":"not-granted")});let y=P({applicationId:"18b33a9d-7117-494b-9910-1dc203241dfc",defaultPrivacyLevel:"mask-user-input",sessionSampleRate:parseInt("5"),sessionReplaySampleRate:parseInt("5"),trackUserInteractions:!0},n);lp(o,m.id,y).then(async _=>{if(_==null)return;let h=await c.getConsentState();_.setTrackingConsent(h.analytics==!0?"granted":"not-granted"),c.on("change",T=>{_.setTrackingConsent(T.analytics==!0?"granted":"not-granted")}),g.on("identify",T=>{_.setUser({id:T.id})}),g.on("reset",T=>{_.clearUser()}),g.on("track",(T,C)=>{_.addAction(T,C)}),g.on("page",T=>{_.startView(T)})}).catch(_=>o.warn("DD_INIT_ERROR",()=>({error:_}))),o.info("INIT")}function dp(t,e){let r=e.dataset.analyticsFormType;if(r==null)return t.error("WEBFLOW_FORM_SUBMITTED",()=>({error:"NO_TYPE_ATTRIBUTE"})),null;let n=e.dataset.analyticsListId,i=e.querySelector('[type|="email"]');return i==null?(t.error("WEBFLOW_FORM_SUBMITTED",()=>({error:"NO_EMAIL_INPUT"})),null):{data:{email:i.value,formType:r!=null?r:"unknown",formListId:n},properties:{}}}function hy(t,e,r){if(r==null){e.warn("WEBFLOW_FORM",()=>({error:"NO_PARENT_ELEMENT"}));return}r.classList.remove("w-form");let n=r.querySelector('[type="submit"]');if(n==null){e.warn("WEBFLOW_FORM",()=>({error:"NO_SUBMIT_ELEMENT"}));return}let i=r.querySelector(".form-inputs");if(i==null&&(i=r.querySelector("form"),i==null)){e.warn("WEBFLOW_FORM",()=>({error:"NO_FORM_INPUT_DIV_ELEMENT"}));return}let o=r.querySelector(".w-form-done");if(o==null){e.warn("WEBFLOW_FORM",()=>({error:"NO_SUCCESS_DIV_ELEMENT"}));return}let a=r.querySelector(".w-form-fail");if(a==null){e.warn("WEBFLOW_FORM",()=>({error:"NO_ERROR_DIV_ELEMENT"}));return}n.addEventListener("click",async()=>{var s,c;n.disabled=!0,n.value=(c=(s=n.attributes.getNamedItem("data-wait"))==null?void 0:s.value)!=null?c:"Please wait...";try{let l=dp(e,r);if(l==null)return null;e.debug("WEBFLOW_FORM_SUBMITTED"),await t.publish(ar,l),i.style.display="none",o.style.display="block"}catch(l){i.style.display="none",a.style.display="block"}})}function pp(t,e){if(!t.registerPublisher("email-form-webflow-observer"))return;let r=t.logger.extend("form-observer-webflow"),n=document.querySelectorAll("[data-analytics-form-type]");for(let i=0;i<n.length;i++)hy(t,r,n.item(i));e==null||e.registerTooltips("email-form-webflow-observer",()=>({elements:Array.from(n).flatMap(i=>Array.from(i.querySelectorAll('[type="submit"]'))),getEvent:i=>{let o=i,a=o==null?null:dp(r,o);return{type:"website.form",payload:a,identify:a==null?void 0:a.data.email}}}))}var gy={"try-recording":{defaultVariant:"control",variants:{a:[{weight:0}]}}};function yy(t){switch(t){case"a":document.querySelectorAll('a[data-analytics-event-prop-cta="try-recording"]').forEach(e=>{if(e.tagName.toLowerCase()!=="a")return;let r=e;r.href="https://web.remento.co/recording/try"});break;case"control":break}}async function by(t,e){let r=e.getUserVariant(t,"try-recording",navigator.userAgent);yy(r)}async function wy(){let t="remento-main-web";await fp(gy,async(e,r,n,i)=>{let o=r.getUser().id;Fu(e,t,20*1e3,10*1e3);let a=Mu(o,n);e.registerTransform("analytics-transform",(l,u)=>Q(P({},u),{properties:P(P({},u.properties),a)})),Hu(e),Ku(e,t,window.ANALYTICS_PAGE,window.ANALYTICS_PROPERTIES),Vu(e),ju(e,r),zu(e,r),Du(e,r);let s=$u().then(()=>{Gu(e,i),pp(e,i)}),c=Yu().then(()=>{Wu(e,i)});i==null||i.registerInitDependency(s),i==null||i.registerInitDependency(c),await by(o,n)})}Promise.resolve().then(()=>wy()).catch(t=>console.error("INIT_ERROR",t));})();
/*! Bundled license information:

crc-32/crc32.js:
  (*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com *)

@segment/analytics-next/dist/pkg/vendor/tsub/tsub.js:
  (*! For license information please see tsub.js.LICENSE.txt *)

js-cookie/dist/js.cookie.mjs:
  (*! js-cookie v3.0.5 | MIT *)

js-cookie/dist/js.cookie.mjs:
  (*! js-cookie v3.0.1 | MIT *)
*/
//# sourceMappingURL=1.0.25.js.map
